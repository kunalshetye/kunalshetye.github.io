System.register(["react","react-dom","NAVBAR","DAT"],(function(t){var r,a,i,o;return{setters:[function(t){r=t},function(t){a=t},function(t){i=t},function(t){o=t}],execute:function(){t((window.__optlyJsonp=window.__optlyJsonp||[]).push([[14],[function(t,a){t.exports=r},,function(t,r,a){"use strict";a.r(r),a.d(r,"fromJS",(function(){return c})),a.d(r,"is",(function(){return l})),a.d(r,"isImmutable",(function(){return u})),a.d(r,"toJS",(function(){return toJS})),a.d(r,"toImmutable",(function(){return toImmutable}));var i=a(67),o=a.n(i),c=o.a.fromJS,l=o.a.is,u=o.a.Iterable.isIterable;function toImmutable(t){return u(t)?t:c(t)}function toJS(t){return u(t)?t.toJS():t}r.default=o.a},function(t,r,a){"use strict";a.r(r),a.d(r,"batch",(function(){return v})),a.d(r,"dispatch",(function(){return _})),a.d(r,"registerStore",(function(){return E})),a.d(r,"registerStores",(function(){return b})),a.d(r,"evaluate",(function(){return T})),a.d(r,"evaluateToJS",(function(){return S})),a.d(r,"observe",(function(){return C})),a.d(r,"unbindVueValue",(function(){return unbindVueValue})),a.d(r,"bindVueValues",(function(){return bindVueValues})),a.d(r,"reset",(function(){return I})),a.d(r,"ReactMixin",(function(){return A}));var i=a(302),o=a.n(i),c=a(25),l=a.n(c),u=a(2),d=a(2139),p=a.n(d),m=a(142),g=!1,h=a.n(m)()(window.location.search);"true"===h.optly_js_debug?g=!0:"false"===h.optly_js_debug&&(g=!1);var y=new l.a.Reactor({debug:g}),v=y.batch.bind(y),_=y.dispatch.bind(y),E=y.registerStore.bind(y),b=y.registerStores.bind(y),T=y.evaluate.bind(y),S=y.evaluateToJS.bind(y),C=y.observe.bind(y);function unbindVueValue(t,r){if(!t.__fluxUnwatchFnsMap__||!t.__fluxUnwatchFnsMap__[r])throw new Error("Could not unwatch non-existent bound view value:",r);t.__fluxUnwatchFnsMap__[r](),delete t.__fluxUnwatchFnsMap__[r]}function bindVueValues(t,r){t.__fluxUnwatchFnsMap__||(t.__fluxUnwatchFnsMap__={},t.$on("unwatchFluxBindVueValues",(function(){Object.keys(t.__fluxUnwatchFnsMap__).forEach((function(r){unbindVueValue(t,r)}))})),t.$on("hook:beforeDestroy",(function(){t.$emit("unwatchFluxBindVueValues")}))),Object.keys(r).forEach((function(a){var i=r[a];t.__fluxUnwatchFnsMap__[a]&&unbindVueValue(t,a);try{t.$set(a,S(i))}catch(t){0}var c=C(i,(function(r){var i=Object(u.toJS)(r);!function shouldUseArrayUpdater(t){if(!Array.isArray(t))return!1;if(0===t.length)return!1;for(var r=!0,a={},i=0;i<t.length;i++){var c=t[i];if(!o()(c))return!1;if(!c.id){r=!1;break}if(a[c.id]){r=!1;break}a[c.id]=!0}return r}(i)?t.$set(a,i):p()(t.$get(a),i)}));t.__fluxUnwatchFnsMap__[a]=c}))}var I=y.reset.bind(y),A=y.ReactMixin;r.default={batch:v,dispatch:_,registerStore:E,registerStores:b,evaluate:T,evaluateToJS:S,observe:C,bindVueValues:bindVueValues,unbindVueValue:unbindVueValue,reset:I,ReactMixin:A}},,function(t,r,a){"use strict";a.r(r),a.d(r,"renderMainRegion",(function(){return renderMainRegion})),a.d(r,"mountRootVM",(function(){return mountRootVM})),a.d(r,"mountLegacyVueRootVM",(function(){return mountLegacyVueRootVM})),a.d(r,"confirm",(function(){return confirm})),a.d(r,"reset",(function(){return reset})),a.d(r,"showUpsell",(function(){return showUpsell})),a.d(r,"showCustomDialog",(function(){return showCustomDialog})),a.d(r,"isDialogShown",(function(){return isDialogShown})),a.d(r,"hasDialogBeenShown",(function(){return hasDialogBeenShown})),a.d(r,"destroyMainRegionComponent",(function(){return destroyMainRegionComponent})),a.d(r,"renderRegion",(function(){return B}));var i=a(4),o=a.n(i),c=a(12),l=a.n(c),u=a(0),d=a.n(u),p=a(104),m=a.n(p),g=a(93),h=a.n(g),y=(a(3156),a(3)),v=a(421);a.d(r,"getRootVM",(function(){return v.a}));var _=a(578);a.d(r,"getComponent",(function(){return _.a}));var E=a(408);a.d(r,"showNotification",(function(){return E.b}));var b=a(802);a.d(r,"renderReactComponent",(function(){return b.a}));var T=a(150);a.d(r,"connectGetters",(function(){return T.a}));var S=a(800);a.d(r,"getMainRegionVM",(function(){return S.a}));var C=a(499);a.d(r,"error",(function(){return C.default}));var I=a(411);a.d(r,"$broadcast",(function(){return I.a})),a.d(r,"$on",(function(){return I.c})),a.d(r,"$off",(function(){return I.b}));var A=a(178);a.d(r,"getDialogManager",(function(){return A.getDialogManager})),a.d(r,"showDialog",(function(){return A.showDialog})),a.d(r,"hideDialog",(function(){return A.hideDialog})),a.d(r,"showReactDialog",(function(){return A.showReactDialog}));var O=a(126);a.d(r,"loadingStart",(function(){return O.d})),a.d(r,"loadingStop",(function(){return O.e})),a.d(r,"loadingWhen",(function(){return O.f})),a.d(r,"loadingEntityWhen",(function(){return O.c})),a.d(r,"loadingEntityFinished",(function(){return O.b}));var P=a(101),R=a(201),w=a.n(R),N=a(469),L=a(276),x=a(119),D=a(836),k=a(2183),j=a(2185),M=a(2187),U=a(680),V=a(681);function renderMainRegion(t){L.a.renderRegion("main",{component:t.component,componentId:t.componentId,options:t.options,data:t.data}),Object(I.a)("renderMainRegion")}function mountRootVM(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#root";if(Object(v.a)())throw new Error("A root component is already mounted - only one root component is allowed.");var a=d.a.createElement(t,{ref:function ref(t){y.default.dispatch(x.a.REGISTER_ROOT_VM,{vm:t})}});return new Promise((function(t){N.a.waitForSelector(r).then((function(r){m.a.render(a,r,t)}))}))}function mountLegacyVueRootVM(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(v.a)())throw new Error("A root component is already mounted - only one root component is allowed.");var a=new h.a(t);r&&N.a.waitForSelector(r).then((function(t){return t.parentNode.replaceChild(a.$el,t)}));var i=h.a.extend(U.a),o=new i({parent:a,handleHistoryBack:function handleHistoryBack(){return P.default.back()}});o.$appendTo(a.$el),y.default.dispatch(x.a.REGISTER_GLOBAL_COMPONENT,{id:"dialogManager",instance:o});var c=h.a.extend(V.a),u=new c({parent:a});u.$appendTo(a.$el),y.default.dispatch(x.a.REGISTER_GLOBAL_COMPONENT,{id:"notificationManager",instance:u}),y.default.dispatch(x.a.REGISTER_ROOT_VM,{vm:a});var d=o.$el,p=u.$el;return a.$on("hook:afterDestroy",(function(){l()(d).remove(),l()(p).remove(),o.$destroy(),u.$destroy()})),a}function confirm(t){t=t||{};var r=l.a.Deferred();return Object(A.showDialog)({component:k.a,data:o.a.extend({},t,{onResolve:function onResolve(){r.resolve()},onReject:function onReject(){r.reject()}})}),r}function reset(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#root",a=Object(v.a)();a&&(a.$destroy?a.$destroy():m.a.unmountComponentAtNode(document.querySelector(r)),y.default.dispatch(x.a.RESET_ROOT_VM))}function showUpsell(t){t=t||{};var r=l.a.Deferred();return Object(A.showDialog)({component:M.a,data:o.a.extend({},t,{_onClose:r})}),r}function showCustomDialog(t){t=t||{};var r=l.a.Deferred();return Object(A.showDialog)({component:j.a,data:o.a.extend({},t,{_onClose:r})}),r}function isDialogShown(t){return Object(A.getDialogManager)().isDialogShown(t)}function hasDialogBeenShown(t){var r=JSON.parse(w.a.getItem(D.a.DIALOG_LOCAL_STORAGE_KEY));return!!r&&!!r[t]}function destroyMainRegionComponent(){var t=y.default.evaluate(L.c.navigationController("main"));try{t.resetState(),L.a.unregisterComponent("main")}catch(t){}}var B=L.a.renderRegion,G={getRootVM:v.a,mountLegacyVueRootVM:mountLegacyVueRootVM,mountRootVM:mountRootVM,getComponent:_.a,getDialogManager:A.getDialogManager,renderReactComponent:b.a,connectGetters:T.a,showReactDialog:A.showReactDialog,showDialog:A.showDialog,hideDialog:A.hideDialog,$broadcast:I.a,$off:I.b,$on:I.c,loadingStart:O.d,loadingStop:O.e,loadingWhen:O.f,loadingEntityWhen:O.c,loadingEntityFinished:O.b,confirm:confirm,renderRegion:B,renderMainRegion:renderMainRegion,getMainRegionVM:S.a,showNotification:E.b,showPersistentNotification:E.c,clearPersistentNotification:E.a,error:C.default,reset:reset,showUpsell:showUpsell,showCustomDialog:showCustomDialog,isDialogShown:isDialogShown,destroyMainRegionComponent:destroyMainRegionComponent,hasDialogBeenShown:hasDialogBeenShown};r.default=G},function(t,r,a){"use strict";a.d(r,"b",(function(){return ie}));var i=a(12),o=a.n(i),c=a(4),l=a.n(c),u=a(87),d=a(31),p=a(270),m=a(3),g=a(142),h=a.n(g),y=a(35),v=a(5),_=a(24),E=a(43),b=a(38),T=a(14),S=a(1385),C=a(50),I=a(44),A=a(23),O=a(20),P=a(202),R=a(10),w=a(945),N=a(49),L=a(39),x=a(539),D=a(70),k=a(1147),j=a(1059),M=a(34),U=a(588),V=a(1411),B=a(872),G=a(169),H=a(1428),z=a(2026),W=a(2027),q=a(2456),Y=a(1401),K=a(1429),J=a(1058),X=a(475),$=a(471),Q=a(2028),Z=a(771),ee=a(403),te=a(128),ne=a(191),re=a(986),ae=a.n(re);function asyncGeneratorStep(t,r,a,i,o,c,l){try{var u=t[c](l),d=u.value}catch(t){return void a(t)}u.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var c=t.apply(r,a);function _next(t){asyncGeneratorStep(c,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function renderMainRegion(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=m.default.evaluate(T.getters.id),i="".concat(t.componentId||t.type.componentId,"--").concat(a),o={component:t,componentId:i};r.data&&(o.data=r.data),r.options&&(o.options=r.options),function waitForRoot(){v.default.getRootVM()?(v.default.renderMainRegion(o),v.default.loadingStop("main")):setTimeout(waitForRoot,5)}()}function _parseProjectId(){return(_parseProjectId=_asyncToGenerator(regeneratorRuntime.mark((function _callee(t,r){var a,i,o,c;return regeneratorRuntime.wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:if((a=Number(t.params.proj_id))||(a=m.default.evaluate(T.getters.id)),i=m.default.evaluateToJS(D.getters.byId(a))){l.next=7;break}return l.next=6,D.actions.fetch(a);case 6:i=l.sent;case 7:if(i){l.next=10;break}return y.default.windowNavigate("/v2/"),l.abrupt("return");case 10:T.actions.setCurrentProjectId(a),ae.a.setupProjectLocalEntityCache(a),t.currentProject=i,m.default.evaluate(b.getters.shareToken)||T.actions.setLastViewedProjectId(i.id),o=m.default.evaluate(T.getters.isPersonalizationEnabledInClient),c=m.default.evaluate(T.getters.isCustomProject),t.path&&t.path.includes(_.default.welcomePage())||(c||te.actions.warnIfPersonalizationIsOff(i.id,o),te.actions.warnIfInArchivedProject(i.project_status)),r();case 19:case"end":return l.stop()}}),_callee)})))).apply(this,arguments)}function redirectToCustomProjectHome(){var t=Object(d.isFeatureEnabled)("features_dashboard_as_default_landing"),r=m.default.evaluate(E.getters.accountPermissions),a=m.default.evaluate(T.getters.project),i=a.get("id"),o=a.getIn(["project_platforms",0]),c=a.get("is_flags_enabled"),l=_.default.xProjectHome(i,o,c);c?p.actions.replaceHref(l):!t&&N.fns.canUseFullStackExperiments(r)?y.default.redirect(l):y.default.redirect(_.default.featuresHome(i))}function fetchLayerAndSetAsCurrentAndFetchAssociatedEntities(t,r){ne.a.fetchLayerAndSetAsCurrentAndFetchAssociatedEntities(t).then(r).fail((function(){return y.default.redirect("/v2")}))}var ie=function fetchJiraLinkedIssuesData(t){var r=m.default.evaluate(T.getters.project);if(r.getIn(["jira_integration","enabled"])&&r.getIn(["jira_integration","resource_id"])){var a={project_id:r.get("id"),target_type:"jira_issue",limit:1e3};t&&(a.source_type=t),v.default.loadingWhen("jira-links",X.a.fetchAll(a));var i=$.a.getProjectUserConnectionState().then((function(){var t=m.default.evaluate([T.getters.project,N.fns.canUpdateJiraLinks]),r=m.default.evaluate($.b.isUserConnected);if(t&&r)return $.a.getAllRecentIssues()}));v.default.loadingWhen("jira-integration-fetch",i)}};r.a={renderMainRegion:renderMainRegion,fetchAccessTabData:function fetchAccessTabData(t,r){var a=m.default.evaluate(E.getters.id),i=[],o=m.default.evaluate(E.getters.accountPermissions);N.fns.canManageBearerToken(o)&&(i.push(W.a.fetchAll({account_id:a})),i.push(q.a.fetchAll()),v.default.loadingWhen("account_dashboard.bearer_tokens",i)),r()},fetchAlertsTabData:function fetchAlertsTabData(t,r){var a=m.default.evaluate(E.getters.email);H.a.fetchAll({email:a}).then(r)},fetchCollaboratorsTabData:function fetchCollaboratorsTabData(t,r){var a={project_id:t.currentProject.id},i=B.a.fetchAll(a);v.default.loadingWhen("project-settings-dashboard",i),r()},fetchDeveloperTabData:function fetchDeveloperTabData(t,r){var a=m.default.evaluate(E.getters.accountPermissions);if(N.fns.canViewOAuthClient(a)){var i={account_id:m.default.evaluate(E.getters.id)},o=K.a.fetchAll(i);v.default.loadingWhen("account-dashboard.developer",o)}r()},fetchIntegrationsTabData:function fetchIntegrationsTabData(t,r){m.default.evaluate([T.getters.project,D.fns.isWebProject])&&A.default.actions.fetchAllByStatus({projectId:t.currentProject.id,archived:!1});var a={project_id:t.currentProject.id};Promise.all([z.a.fetchAll(),Y.a.fetchAll(a)]).then(r)},fetchUserInfo:function fetchUserInfo(t,r){var a=m.default.evaluate(E.getters.email);G.a.fetch(a).then(r)},parseCollaboratorFilters:function parseCollaboratorFilters(t,r){var a=h()(t.canonicalPath);if(a.search){var i=decodeURIComponent(a.search);J.a.filterCollaboratorsByString(i)}r()},parseIntegrationFilters:function parseIntegrationFilters(t,r){var a=h()(t.canonicalPath);if(a.search){var i=decodeURIComponent(a.search);J.a.filterIntegrationsByString(i)}r()},verifyChangeEmail:function verifyChangeEmail(t,r){var a=h()(t.canonicalPath),i=m.default.evaluateToJS(G.b.currentUser);a.verification_token&&i.email_change_requested&&v.default.showReactDialog(Q.a,{props:{verificationToken:a.verification_token,newEmail:i.email_change_requested}},{fullScreen:!1}),r()},verifyCurrentUserEmailVerified:function verifyCurrentUserEmailVerified(t,r){m.default.evaluate(G.b.currentUser).get("email_verified")||h()(t.canonicalPath).should_verify_email&&v.default.confirm({title:tr("Verify Email Address"),message:tr("You will need to verify your email address before continuing. Please verify and try again."),confirmText:tr("Verify"),cancelText:tr("Cancel")}).then(G.a.sendVerificationEmail).done((function(){v.default.showNotification({type:"success",message:tr("An email verification link has been sent to you. Please click that link to verify your email.")})})),r()},parseProjectId:function parseProjectId(t,r){return _parseProjectId.apply(this,arguments)},parseShareToken:function parseShareToken(t,r){var a=h()(t.canonicalPath);if(a.share_token){var i=a.share_token?a.share_token:null;b.actions.setCurrentLayerShareToken(i),r()}else r()},parseQueryFilters:function parseQueryFilters(t,r,a){return function(i,o){I.a.setFilterDefault(t,{status:r||I.c.status.ACTIVE,string:""});var c=h()(i.canonicalPath);if(c.search){var u=decodeURIComponent(c.search);I.a.setFilter(t,{string:u})}var d=a||l.a.values(I.c.status);if(c.status){var p=c.status.toUpperCase();-1!==d.indexOf(p)&&I.a.setFilter(t,{status:p})}o()}},redirectToCurrentProjectLayers:function redirectToCurrentProjectLayers(){var t=m.default.evaluate(T.getters.id);y.default.redirect(_.default.xWebHome(t))},redirectToCustomProjectHome:redirectToCustomProjectHome,setActiveNav:function setActiveNav(t){return function(r,a){p.actions.setActiveNavItem(t),a()}},setNavWidth:function setNavWidth(t){return function(r,a){var i=!!r.queryParams.share_token;p.actions.setNavWidth(i?R.default.NavWidth.HIDDEN:t),a()}},loadingMainStart:function loadingMainStart(t,r){v.default.loadingStart("main"),r()},fetchLayer:function fetchLayer(t,r){var a;if(t.params.item_id&&(a=Number(t.params.item_id)),a)fetchLayerAndSetAsCurrentAndFetchAssociatedEntities(a,r);else{var i=Number(t.params.experiment_id);O.actions.fetch(i).then((function(t){fetchLayerAndSetAsCurrentAndFetchAssociatedEntities(t.layer_id,r)}))}},fetchViewsForCurrentProject:function fetchViewsForCurrentProject(t,r){M.actions.fetchAll({project_id:m.default.evaluate(T.getters.id)}).then(r)},fetchDatasourcesForCurrentProject:function fetchDatasourcesForCurrentProject(t,r){var a=m.default.evaluate(T.getters.project);a.get("dcp_service_id")?S.actions.fetchAll({dcp_service_id:a.get("dcp_service_id")}).then(r):r()},fetchDataForChangeHistory:function fetchDataForChangeHistory(t,r){var a={project_id:m.default.evaluate(T.getters.id)},i=[];i.push(A.default.actions.fetchAll(a)),m.default.evaluate(b.getters.shareToken)||i.push(j.actions.fetchAll(a)),i.push(ne.a.fetchCreateLayerData()),i.push(P.a.fetchAll(a)),Promise.all(i).then(r)},fetchShareToken:function fetchShareToken(t,r){var a=m.default.evaluate(b.getters.id),i={layer_id:a},o=m.default.evaluate([T.getters.project,N.fns.canViewShareTokens]);m.default.evaluate(k.b.shareTokenByLayerId(a))||m.default.evaluate(b.getters.shareToken)||!o||k.a.fetchAll(i),r()},fetchEventImplementationData:function fetchEventImplementationData(t,r){var a=m.default.evaluate(T.getters.isCustomProject),i=m.default.evaluate(T.getters.id),o={project_id:i},c=[];c.push(C.actions.fetchAll(o)),a||(c.push(Z.a.fetchAll()),c.push(M.actions.fetchAll(o)),m.default.evaluate(L.default.canUsePlugins)&&c.push(x.actions.fetchActiveEventPlugins(i))),Promise.all(c).then(r)},fetchTagsForCurrentProject:function fetchTagsForCurrentProject(t,r){j.actions.fetchAll({project_id:m.default.evaluate(T.getters.id)}),r()},fetchEventsForCurrentProject:function fetchEventsForCurrentProject(t,r){var a={project_id:m.default.evaluate(T.getters.id)};C.actions.fetchAll(a).then(r)},fetchMetricsForAccount:function fetchMetricsForAccount(t,r){U.a.fetchAllForAccount().then(r)},setActiveTab:function setActiveTab(t,r){return function(a,i){p.actions.setActiveTab(t,r),i()}},authenticatePlugins:function authenticatePlugins(t,r){m.default.evaluate(L.default.canUsePlugins)?r():y.default.redirect(_.default.xWebHome(m.default.evaluate(T.getters.id)))},setCurrentEvent:function setCurrentEvent(t,r){if(l.a.isUndefined(t.params.event_id))return ee.actions.setCurrentEventId(t.params.event_id),void r();var a=Number(t.params.event_id);if(l.a.isNaN(a))y.default.redirect("/v2");else{var i={project_id:m.default.evaluate(T.getters.id)};C.actions.fetchAll(i).then((function(){m.default.evaluate(C.getters.byId(a))?(ee.actions.setCurrentEventId(a),r()):y.default.redirect("/v2")}))}},fetchProjectPlugins:function fetchProjectPlugins(t,r){if(m.default.evaluate(L.default.canUsePlugins)){var a={project_id:m.default.evaluate(T.getters.id)};x.actions.fetchAll(a).then(r)}else r()},fetchCategories:function fetchCategories(t,r){Z.a.fetchAll().then(r)},fetchWebhooks:function fetchWebhooks(t,r){var a={project_id:m.default.evaluate(T.getters.id)};V.actions.fetchAll(a).then(r)},resetPageable:function resetPageable(t){return function(r,a){w.a.resetCurrentPage(t),a()}},determineResultsUrl:function determineResultsUrl(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=m.default.evaluateToJS(A.default.getters.byId(r));if(!A.default.fns.isPersonalizationLayer(i)){var c=m.default.evaluate(A.default.getters.experimentsByLayerId(r));if(c&&c.size>0){var l=c.first().get("id"),u=_.default.layerExperimentResults(t,r,l,a);return o.a.Deferred().resolve(u)}return O.actions.fetchAll({project_id:t,layer_id:r}).then((function(i){var o=i[0].id;return _.default.layerExperimentResults(t,r,o,a)}))}return o.a.Deferred().resolve(_.default.layerResults(t,r,a))},disallowCustomProjects:function disallowCustomProjects(t,r){m.default.evaluate(T.getters.isCustomProject)?redirectToCustomProjectHome():r()},disallowAdvancedSettings:function disallowAdvancedSettings(t,r){var a=m.default.evaluate(L.default.canAccountUseFullStackAdvancedSettings),i=m.default.evaluate(T.getters.id),o=m.default.evaluate([T.getters.project,D.fns.isWebProject]);a||o?r():y.default.redirect(_.default.projectSettingsImplementation(i))},standardNavHandlers:function standardNavHandlers(t,r,a){var i=[this.loadingMainStart];return t&&i.push(this.setNavWidth(t)),r&&i.push(this.setActiveNav(r)),r&&a&&i.push(this.setActiveTab(r,a)),i},renderEditor:function renderEditor(t,r,a){var i={variationId:Number(r)||r};a&&(i.experimentOrSectionId=Number(a)),renderMainRegion(t,{options:i})},ensureAccessToFeatureOrRedirect:function ensureAccessToFeatureOrRedirect(t,r,a){m.default.evaluate(a)?r():y.default.redirect("/v2/")},ensureFeatureFlagOrRedirect:function ensureFeatureFlagOrRedirect(t){return Object(u.c)(t)((function(r,a){this[t]?a():y.default.redirect("/v2/")}))},fetchJiraLinkedIssuesData:ie,ensureNoAccessToFS:function ensureNoAccessToFS(t,r){var a=m.default.evaluate(E.getters.accountPermissions);N.fns.canUseFullStackSDKs(a)?y.default.redirect("/v2/"):r()},redirectIfNotAdmin:function redirectIfNotAdmin(t,r){m.default.evaluate(E.getters.isUserAdmin)?r():y.default.redirect("/v2/")},setPageTitle:function setPageTitle(t){var r,a=t.category,i=t.name,o=t.next,c=t.primaryName,l=t.showProjectName,u=void 0===l||l;if(o&&o(),u){var d=m.default.evaluate(T.getters.project);r=d&&d.get("project_name")}var p=[c||r,a,i].filter((function(t){return t}));document.title=p.length?"".concat(p.join(": ")," - Optimizely"):"Optimizely"}}},function(t,r,a){"use strict";var i,o,c,l,u;function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}a.r(r),a.d(r,"delivery_modes",(function(){return d})),a.d(r,"project_status",(function(){return p})),a.d(r,"ClientBuildSettings",(function(){return m})),a.d(r,"project_platforms",(function(){return g})),a.d(r,"project_types",(function(){return h})),a.d(r,"projectTypesHumanReadable",(function(){return y})),a.d(r,"projectPlatformsHumanReadable",(function(){return v})),a.d(r,"snippetGlobalName",(function(){return _})),a.d(r,"snippetGlobalByTypeOrDeliveryMode",(function(){return E})),a.d(r,"sdks",(function(){return b})),a.d(r,"sdksHumanReadable",(function(){return T})),a.d(r,"sdkSyntaxLanguage",(function(){return S})),a.d(r,"sdkLanguages",(function(){return C})),a.d(r,"sdkDocsURL",(function(){return I})),a.d(r,"sdkDocsGettingStartedUrl",(function(){return A})),a.d(r,"sdkInstallURL",(function(){return O})),a.d(r,"mobileAndOTTSDKs",(function(){return P})),a.d(r,"manifestVersions",(function(){return R})),a.d(r,"EditorIframeProtocolPreferences",(function(){return w})),a.d(r,"thirdPartyPlatforms",(function(){return N})),a.d(r,"thirdPartyPlatformsReadable",(function(){return L}));var d={EDGE:"edge"},p={ACTIVE:"Active",ARCHIVED:"Archived"},m={LEGACY:"legacy",BUNDLED:"bundled",STANDALONE:"standalone"},g={ANDROID:"android",IOS:"ios",WEB:"web",CUSTOM:"custom"},h={FULL_STACK:"fullstack",WEB:"web",ROLLOUTS:"rollouts"},y={WEB:"Web (Optimizely X)",WEB_CLASSIC:"Web (Optimizely Classic)",WEB_CLASSIC_AND_X:"Web (Both Classic and X)",FULL_STACK_LEGACY:"Full Stack (Legacy)",FULL_STACK_FLAGS:"Full Stack (Flags)",ROLLOUTS:"Rollouts (Optimizely X)",IOS:"iOS (Optimizely X)",IOS_CLASSIC:"iOS (Optimizely Classic)",ANDROID_TV:"Android TV (Optimizely X)",ANDROID_CLASSIC:"Android (Optimizely Classic)",CUSTOM_CLASSIC:"Custom (Optimizely Classic)"},v={FULL_STACK:"Full Stack",WEB:"Web",ROLLOUTS:"Rollouts",ROLLOUTS_PLUS:"Rollouts Plus"},_={OPTIMIZELY:"optimizely",OPTIMIZELY_EDGE:"optimizelyEdge"},E=(_defineProperty(i={},d.EDGE,_.OPTIMIZELY_EDGE),_defineProperty(i,h.WEB,_.OPTIMIZELY),i),b={ANDROID:"android",ANDROID_TV:"android_tv",CSHARP:"csharp",GO:"go",IOS:"ios",JAVA:"java",JAVASCRIPT:"javascript",NODE:"node",PHP:"php",PYTHON:"python",RUBY:"ruby",REACT:"react",TV_OS:"tv_os",FLUTTER:"flutter",AGENT:"agent"},T=(_defineProperty(o={},b.ANDROID,"Android"),_defineProperty(o,b.ANDROID_TV,"Android TV"),_defineProperty(o,b.CSHARP,"C#"),_defineProperty(o,b.GO,"Go"),_defineProperty(o,b.IOS,"iOS"),_defineProperty(o,b.JAVA,"Java"),_defineProperty(o,b.JAVASCRIPT,"JavaScript"),_defineProperty(o,b.NODE,"Node"),_defineProperty(o,b.PHP,"PHP"),_defineProperty(o,b.PYTHON,"Python"),_defineProperty(o,b.RUBY,"Ruby"),_defineProperty(o,b.REACT,"React"),_defineProperty(o,b.TV_OS,"tvOS"),_defineProperty(o,b.FLUTTER,"Flutter"),_defineProperty(o,b.AGENT,"Agent"),o),S=(_defineProperty(c={},b.CSHARP,"cs"),_defineProperty(c,b.FLUTTER,"javascript"),c),C={CSHARP:"csharp",FLUTTER:"flutter",GO:"go",JAVA:"java",JAVASCRIPT:"javascript",OBJECTIVE_C:"objectivec",PHP:"php",PYTHON:"python",RUBY:"ruby",REACT:"jsx",SWIFT:"swift",AGENT:"html"},I=(_defineProperty(l={},b.ANDROID,"https://developers.optimizely.com/x/solutions/sdks/getting-started/index.html?language=android&platform=mobile"),_defineProperty(l,b.ANDROID_TV,"https://developers.optimizely.com/x/solutions/sdks/getting-started/index.html?language=android&platform=ott"),_defineProperty(l,b.CSHARP,"https://developers.optimizely.com/x/solutions/sdks/getting-started/index.html?language=csharp"),_defineProperty(l,b.GO,"https://developers.optimizely.com/x/solutions/sdks/getting-started/index.html?language=go"),_defineProperty(l,b.IOS,"https://developers.optimizely.com/x/solutions/sdks/getting-started/index.html?language=objectivec&platform=mobile"),_defineProperty(l,b.JAVA,"https://developers.optimizely.com/x/solutions/sdks/getting-started/index.html?language=java"),_defineProperty(l,b.JAVASCRIPT,"https://developers.optimizely.com/x/solutions/sdks/getting-started/index.html?language=javascript"),_defineProperty(l,b.NODE,"https://developers.optimizely.com/x/solutions/sdks/getting-started/index.html?language=node"),_defineProperty(l,b.PHP,"https://developers.optimizely.com/x/solutions/sdks/getting-started/index.html?language=php"),_defineProperty(l,b.PYTHON,"https://developers.optimizely.com/x/solutions/sdks/getting-started/index.html?language=python"),_defineProperty(l,b.RUBY,"https://developers.optimizely.com/x/solutions/sdks/getting-started/index.html?language=ruby"),_defineProperty(l,b.REACT,"https://developers.optimizely.com/x/solutions/sdks/getting-started/index.html?language=react"),_defineProperty(l,b.TV_OS,"https://developers.optimizely.com/x/solutions/sdks/getting-started/index.html?language=objectivec&platform=ott"),l),A="https://developers.optimizely.com/x/solutions/sdks/getting-started/index.html",O=(_defineProperty(u={},b.ANDROID,"https://developers.optimizely.com/server/reference/index.html?language=android&platform=mobile#installation"),_defineProperty(u,b.ANDROID_TV,"https://developers.optimizely.com/x/solutions/sdks/reference/index.html?language=android&platform=ott#installation"),_defineProperty(u,b.CSHARP,"https://developers.optimizely.com/server/reference/index.html?language=csharp#installation"),_defineProperty(u,b.GO,"https://developers.optimizely.com/server/reference/index.html?language=go#installation"),_defineProperty(u,b.IOS,"https://developers.optimizely.com/x/solutions/sdks/reference/index.html?language=objectivec&platform=mobile#installation"),_defineProperty(u,b.JAVA,"https://developers.optimizely.com/server/reference/index.html?language=java#installation"),_defineProperty(u,b.JAVASCRIPT,"https://developers.optimizely.com/server/reference/index.html?language=javascript#installation"),_defineProperty(u,b.NODE,"https://developers.optimizely.com/server/reference/index.html?language=node#installation"),_defineProperty(u,b.PHP,"https://developers.optimizely.com/server/reference/index.html?language=php#installation"),_defineProperty(u,b.PYTHON,"https://developers.optimizely.com/server/reference/index.html?language=python#installation"),_defineProperty(u,b.RUBY,"https://developers.optimizely.com/server/reference/index.html?language=ruby#installation"),_defineProperty(u,b.REACT,"https://developers.optimizely.com/server/reference/index.html?language=react#installation"),_defineProperty(u,b.TV_OS,"https://developers.optimizely.com/x/solutions/sdks/reference/index.html?language=objectivec&platform=ott#installation"),u),P=[b.ANDROID,b.ANDROID_TV,b.IOS,b.TV_OS],R={V1:1,V2:2},w={PROXY_AND_DIRECT:"PROXY_AND_DIRECT",DIRECT_ONLY:"DIRECT_ONLY",PROXY_ONLY:"PROXY_ONLY"},N={SALESFORCE:"salesforce",MICROSOFT_DYNAMICS_365_COMMERCE:"microsoft_dynamics_365_commerce"},L={SALESFORCE_OPX:"Salesforce OpX",MICROSOFT_DYNAMICS_365_COMMERCE:"MS Dynamics 365 Commerce"};r.default={ClientBuildSettings:m,delivery_modes:d,EditorIframeProtocolPreferences:w,manifestVersions:R,mobileAndOTTSDKs:P,projectPlatformsHumanReadable:v,project_platforms:g,project_status:p,project_types:h,projectTypesHumanReadable:y,sdks:b,sdkDocsGettingStartedUrl:A,sdkDocsURL:I,sdksHumanReadable:T,sdkInstallURL:O,sdkLanguages:C,sdkSyntaxLanguage:S,snippetGlobalName:_,snippetGlobalByTypeOrDeliveryMode:E,thirdPartyPlatforms:N,thirdPartyPlatformsReadable:L}},function(t,r,a){var i=a(1490);window.optlyL10n&&(window.optlyL10n.locale&&i.setLocale(window.optlyL10n.locale),window.optlyL10n.dict&&i.setDict(window.optlyL10n.dict)),t.exports=i,window.tr=i},,function(t,r,a){"use strict";a.r(r),a.d(r,"LinkActionTypes",(function(){return c})),a.d(r,"NavItems",(function(){return l})),a.d(r,"NavWidth",(function(){return u})),a.d(r,"AudienceTabs",(function(){return d})),a.d(r,"DataLayerTabs",(function(){return p})),a.d(r,"DataLayerPaths",(function(){return m})),a.d(r,"FeaturesTabs",(function(){return g})),a.d(r,"LayersTabs",(function(){return h})),a.d(r,"OasisTabs",(function(){return y})),a.d(r,"SettingsTabs",(function(){return v})),a.d(r,"AccountTabs",(function(){return _})),a.d(r,"ProfileTabs",(function(){return E}));var i=a(17),o=a.n(i),c=o()({PUSH_STATE_HREF:null,LINK_HREF:null,FUNCTION:null}),l=o()({ABTESTING:null,PERSONALIZATION:null,AUDIENCES:null,FLAGS:null,FEATURES:null,FEATURESOLD:null,ONBOARDING:null,VARIABLES:null,PAGES:null,OASIS:null,OPTIONS:null,ACCOUNT:null,PROFILE:null,REPORTS:null,ROLLOUTS:null,HISTORY:null,SETTINGS:null,TODOS:null}),u=o()({COLLAPSED:null,HIDDEN:null,OPEN:null}),d=o()({ATTRIBUTE_DASHBOARD:null,AUDIENCE_DASHBOARD:null}),p=o()({CATALOGS_DASHBOARD_TAB:null,RECOMMENDERS_DASHBOARD_TAB:null,EVENT_TAB:null,INSPECTOR_TAB:null,PLUGIN_TAB:null,VIEW_TAB:null,METRIC_TAB:null}),m={catalogs:p.CATALOGS_DASHBOARD_TAB,recommenders:p.RECOMMENDERS_DASHBOARD_TAB,events:p.EVENT_TAB,inspector:p.INSPECTOR_TAB,plugins:p.PLUGIN_TAB,pages:p.VIEW_TAB,metrics:p.METRIC_TAB},g=o()({FEATURES_DASHBOARD:null}),h=o()({GROUPS:null,LAYERS:null}),y=o()({EXPERIMENTS:null,GROUPS:null}),v=o()({ADVANCED_TAB:null,COLLABORATORS_TAB:null,IMPLEMENTATION_TAB:null,INTEGRATIONS_TAB:null,JAVASCRIPT_TAB:null,LABS_TAB:null,MIGRATION_TAB:null,WEBHOOKS_TAB:null}),_=o()({BILLING_TAB:null,DCP_SERVICE_TAB:null,OPTIMIZELY_CLASSIC_TAB:null,PLAN_BILLING_TAB:null,USAGE_TAB:null,PLAN_TAB:null,PROJECTS_TAB:null,REGISTERED_APPS_TAB:null,SECURITY_TAB:null,SNIPPETS_TAB:null,SUBJECT_ACCESS_REQUESTS_TAB:null,USERS_TAB:null}),E=o()({PREFERENCES_TAB:null,NOTIFICATIONS_TAB:null,API_ACCESS_TAB:null});r.default={LinkActionTypes:c,NavItems:l,NavWidth:u,AudienceTabs:d,DataLayerPaths:m,DataLayerTabs:p,FeaturesTabs:g,LayersTabs:h,OasisTabs:y,SettingsTabs:v,AccountTabs:_,ProfileTabs:E}},,,function(t,r,a){"use strict";a.r(r),a.d(r,"accountId",(function(){return ue})),a.d(r,"activeDcpDatasources",(function(){return ut})),a.d(r,"activeEvents",(function(){return _t})),a.d(r,"activeGroups",(function(){return bt})),a.d(r,"attributesForChampagne",(function(){return Jt})),a.d(r,"audiences",(function(){return rt})),a.d(r,"availableAudiences",(function(){return at})),a.d(r,"availableReportingSlots",(function(){return mt})),a.d(r,"canCreateProject",(function(){return Ft})),a.d(r,"canEditExperiment",(function(){return Ut})),a.d(r,"collaborators",(function(){return Ze})),a.d(r,"createdDate",(function(){return ce})),a.d(r,"currentProjectActiveEvents",(function(){return Gt})),a.d(r,"currentProjectActiveTags",(function(){return Ht})),a.d(r,"currentProjectActiveViews",(function(){return zt})),a.d(r,"currentProjectRunningExperiments",(function(){return Wt})),a.d(r,"currentProjectType",(function(){return qt})),a.d(r,"customAnalyticsIntegrations",(function(){return Ot})),a.d(r,"customAudienceIntegrations",(function(){return Rt})),a.d(r,"customAttributes",(function(){return ke})),a.d(r,"dcpDatasources",(function(){return lt})),a.d(r,"dimensions",(function(){return De})),a.d(r,"dimensionText",(function(){return Ne})),a.d(r,"dimensionTextPlural",(function(){return Le})),a.d(r,"duplicationTargetProjects",(function(){return nt})),a.d(r,"dynamicConditions",(function(){return $e})),a.d(r,"customAudienceAttributeDefinitions",(function(){return Qe})),a.d(r,"enabledAnalyticsIntegrationExtensions",(function(){return Pt})),a.d(r,"enabledAudienceIntegrations",(function(){return qe})),a.d(r,"enabledCampaignLevelPersonalizationIntegrations",(function(){return Je})),a.d(r,"enabledCanvasIntegrations",(function(){return Ye})),a.d(r,"enabledCustomAudienceIntegrations",(function(){return wt})),a.d(r,"events",(function(){return vt})),a.d(r,"eventsWithUrls",(function(){return Xt})),a.d(r,"excludeDisabledExperiments",(function(){return pe})),a.d(r,"experimentationGroups",(function(){return Et})),a.d(r,"experiments",(function(){return je})),a.d(r,"experimentsInSnippet",(function(){return et})),a.d(r,"features",(function(){return jt})),a.d(r,"activeFeatures",(function(){return Mt})),a.d(r,"filteredProjectSettings",(function(){return Vt})),a.d(r,"fullStackLayerExperimentsWrapper",(function(){return Ge})),a.d(r,"goals",(function(){return Fe})),a.d(r,"hasPageTrimming",(function(){return Yt})),a.d(r,"id",(function(){return oe})),a.d(r,"integrationById",(function(){return ze})),a.d(r,"integrations",(function(){return He})),a.d(r,"isAndroidProject",(function(){return Ee})),a.d(r,"status",(function(){return me})),a.d(r,"isClassicCustomProject",(function(){return ve})),a.d(r,"isClassicTestingEnabledInClient",(function(){return ge})),a.d(r,"isCustomProject",(function(){return ye})),a.d(r,"isDeactivationEnabled",(function(){return $t})),a.d(r,"isRolloutsProject",(function(){return Pe})),a.d(r,"isFlagsProject",(function(){return Ie})),a.d(r,"isFullStackProject",(function(){return Ae})),a.d(r,"isiOSProject",(function(){return be})),a.d(r,"isWebProject",(function(){return Oe})),a.d(r,"isMobileProject",(function(){return Te})),a.d(r,"isOTTProject",(function(){return Ce})),a.d(r,"isPersonalizationEnabledInClient",(function(){return he})),a.d(r,"isUnderExperimentLimit",(function(){return pt})),a.d(r,"isUsingV2Snippet",(function(){return kt})),a.d(r,"isXCustomProject",(function(){return _e})),a.d(r,"isXMobileProject",(function(){return Se})),a.d(r,"jiraIntegrationSettings",(function(){return Xe})),a.d(r,"layerExperiments",(function(){return Ue})),a.d(r,"layers",(function(){return Ve})),a.d(r,"listAttributes",(function(){return ct})),a.d(r,"metricTemplates",(function(){return At})),a.d(r,"name",(function(){return le})),a.d(r,"nameWithSdkIfApplicable",(function(){return Dt})),a.d(r,"otherCollaborators",(function(){return tt})),a.d(r,"permissions",(function(){return Nt})),a.d(r,"personalizationIntegrations",(function(){return Ke})),a.d(r,"platform",(function(){return Lt})),a.d(r,"plugins",(function(){return It})),a.d(r,"previewJSFileName",(function(){return xe})),a.d(r,"primarySDKLanguage",(function(){return xt})),a.d(r,"project",(function(){return se})),a.d(r,"projectActivities",(function(){return Me})),a.d(r,"catalogs",(function(){return Kt})),a.d(r,"projectIntegrationById",(function(){return We})),a.d(r,"projectToken",(function(){return fe})),a.d(r,"projectResultsAPIToken",(function(){return de})),a.d(r,"recommenders",(function(){return dt})),a.d(r,"reportableAudiencesCount",(function(){return ft})),a.d(r,"runningExperimentLimit",(function(){return Re})),a.d(r,"runningLayers",(function(){return Be})),a.d(r,"tags",(function(){return Ct})),a.d(r,"tagGroups",(function(){return Tt})),a.d(r,"defaultTagGroup",(function(){return St})),a.d(r,"undoOnDeactivation",(function(){return Qt})),a.d(r,"userLists",(function(){return st})),a.d(r,"views",(function(){return gt})),a.d(r,"multiUseViews",(function(){return ht})),a.d(r,"webhooks",(function(){return yt})),a.d(r,"environmentsAuthorizedAndSupported",(function(){return Bt}));var i=a(4),o=a.n(i),c=a(2),l=a(246),u=a(234),d=a(15),p=a(37),m=a(141),g=a(308),h=a(791),y=a(2160),v=a(507),_=a(1396),E=a(1390),b=a(1391),T=a(498),S=a(770),C=a(2161),I=a(311),A=a(793),O=a(379),P=a(447),R=a(97),w=a(211),N=a(794),L=a(338),x=a(676),D=a(795),k=a(21),j=a(136),M=a(29),U=a(68),V=a(111),B=a(1417),G=a(574),H=a(22),z=a(96),W=a(377),q=a(506),Y=a(7),K=a(56),J=a(231),X=a(961),$=a(677),Q=a(834),Z=a(467),ee=a(1420),te=a(797),ne=a(282),re=a(798),ae=a(427),ie=a(114),oe=["currentProjectId"],se=[J.a.entityCache,oe,function(t,r){return t.get(r,null)}],ce=[se,function(t){return t?t.get("created"):null}],le=[se,function(t){return t.get("project_name")}],ue=[se,function(t){return t.get("account_id")}],de=[se,function(t){return t.get("p13n_results_api_token")}],fe=[se,function(t){return t.get("token")}],pe=[se,function(t){return t.get("exclude_disabled_experiments")}],me=[se,function(t){return t?t.get("project_status"):null}],ge=[se,function(t){return!(!t||t.getIn(["client_build_settings","client_type"])!==Y.default.ClientBuildSettings.BUNDLED&&t.getIn(["client_build_settings","client_type"])!==Y.default.ClientBuildSettings.LEGACY)}],he=[se,function(t){return!(!t||t.getIn(["client_build_settings","client_type"])!==Y.default.ClientBuildSettings.BUNDLED&&t.getIn(["client_build_settings","client_type"])!==Y.default.ClientBuildSettings.STANDALONE)}],ye=[se,function(t){var r=t?t.toJS():{};return K.default.isCustomProject(r)}],ve=[se,function(t){var r=t?t.toJS():{};return K.default.isClassicCustomProject(r)}],_e=[se,function(t){var r=t?t.toJS():{};return K.default.isXCustomProject(r)}],Ee=[se,function(t){t&&t.toJS();return K.default.isAndroidProject(t)}],be=[se,function(t){t&&t.toJS();return K.default.isiOSProject(t)}],Te=[se,function(t){var r=t?t.toJS():{};return K.default.isMobileProject(r)}],Se=[se,function(t){var r=t?t.toJS():{};return K.default.isXMobileProject(r)}],Ce=[se,function(t){var r=t?t.toJS():{};return K.default.isOTTProject(r)}],Ie=[se,function(t){var r=t?t.toJS():{};return K.default.isFullStackProject(r)&&!!r.is_flags_enabled}],Ae=[se,function(t){var r=t?t.toJS():{};return K.default.isFullStackProject(r)}],Oe=[se,function(t){return K.default.isWebProject(t)}],Pe=[se,[p.default.accountPermissions,H.default.canUseFullStackExperiments],function(t,r){return K.default.isFullStackProject(t)&&!r}],Re=[se,function(t){return t.get("running_experiment_limit")}],we=[l.b.getters.activeVersion,l.b.isOptimizelyX],Ne=[Te,ye,we,function(t,r,a){return a?tr("custom attribute"):t||r?tr("attribute"):tr("dimension")}],Le=[Te,ye,we,function(t,r,a){return a?tr("custom attributes"):t||r?tr("attributes"):tr("dimensions")}],xe=[se,function(t){return t?t.get("preview_js_file_name"):""}],De=[T.default.entityCache,oe,ie.default.filterByProjectId],ke=[_.a.entityCache,oe,ie.default.filterByProjectId],je=[A.a.entityCache,oe,ie.default.filterByProjectId],Me=[oe,X.a.entityCache,function(t,r){return r.filter((function(r){return t&&r.get("project_id")===t})).toList()}],Fe=[N.a.visibleGoals,oe,ie.default.filterByProjectId],Ue=[V.default.entityCache,oe,ie.default.filterByProjectId],Ve=[j.default.entityCache,oe,ie.default.filterByProjectId],Be=[Ve,function(t){return t.filter((function(t){return t.get("status")===k.default.entityStatus.RUNNING}))}],Ge=[Ue,O.default.entityToGroupMap,ie.default.wrapFullStackLayerExperiments],He=[se,D.a.entityCache,$.a.entityCache,je,Ve,ie.default.getEnabledAndSortedIntegrationsForProjectType],ze=function integrationById(t){return[He,function(r){return r.find((function(r){return r.get("id")===t}))}]},We=function projectIntegrationById(t){return[$.a.settingsByIntegrationId(t),oe,function(t,r){return t.find((function(t){return t.get("project_id")===r}))||c.default.Map({})}]},qe=[He,function(t){return t.filter((function(t){var r=t.toJS();return x.a.isEnabled(r)&&x.a.isAudienceIntegration(r)})).toList()}],Ye=[He,function(t){return t.filter((function(t){return t.get("usesCanvas")&&t.get("projectLevelData").get("enabled")}))}],Ke=[p.default.accountPermissions,He,ie.default.filterPersonalizationIntegrations],Je=[He,function(t){return t.filter((function(t){return-1!==t.get("products").indexOf(L.default.products.PERSONALIZATION)&&t.getIn(["projectLevelData","enabled"])&&t.getIn(["layerLevelData","onOffable"])}))}],Xe=[se,function(t){return t.get("jira_integration")}],$e=[C.a.entityCache,oe,ie.default.filterByProjectId],Qe=[b.a.entityCache,oe,ie.default.filterByProjectId],Ze=[oe,p.default.id,v.a.entityCache,function(t,r,a){if(t){var i=a.filter((function(a){return(a.get("project_id")===r||a.get("project_id")===t)&&o.a.includes(ae.a.ACCOUNT_ROLES_ADMIN,a.get("role_name"))})),l=a.filter((function(r){return r.get("project_id")===t&&o.a.includes(ae.a.PROJECT_ROLES,r.get("role_name"))})).toList().toJS(),u=i.toList().toJS();return Object(c.toImmutable)(o.a.uniqBy(o.a.union(l,u),"user_id"))}return Object(c.toImmutable)([])}],et=[se,je,function(t,r){var a=t.get("exclude_disabled_experiments")?[d.ExperimentStatusType.RUNNING]:[d.ExperimentStatusType.PAUSED,d.ExperimentStatusType.RUNNING,d.ExperimentStatusType.NOT_STARTED];return r.filter((function(t){return o.a.includes(a,t.get("status"))}))}],tt=[oe,p.default.id,v.a.entityCache,function(t,r,a){if(t){var i=a.filter((function(t){return t.get("project_id")===r&&o.a.includes(ae.a.ACCOUNT_ROLES_NON_ADMIN,t.get("role_name"))})),l=a.filter((function(r){return r.get("project_id")===t&&o.a.includes(ae.a.PROJECT_ROLES,r.get("role_name"))})),u=o.a.map(l.toJS(),"user_id");return i.filter((function(t){return!o.a.includes(u,t.get("user_id"))})).toList()}return Object(c.toImmutable)([])}],nt=[p.default.activeProjects,se,function(t,r){var a=r.getIn(["project_platforms",0]);return t.filter((function(t){return t.get("id")!==r.get("id")&&-1!==t.get("project_platforms").indexOf(a)}))}],rt=[g.default.entityCache,oe,ie.default.filterByProjectId],at=function availableAudiences(t){return[rt,ie.default.getAvailableAudiences(t)]},it=[rt,function(t){return t.filter((function(t){var r=t.get("compatible_with");return r===m.default.audienceCompatility.ALL||r===m.default.audienceCompatility.OPTIMIZELY_X}))}],ot=[h.a.entityCache,oe,ie.default.filterByProjectId],st=[ee.a.entityCache,oe,ie.default.filterByProjectId],ct=[B.a.entityCache,oe,ie.default.filterByProjectId],lt=[S.default.entityCache,se,function(t,r){var a=r.get("dcp_service_id");return t.filter((function(t){return a&&t.get("dcp_service_id")===a&&(t.get("project_id")===r.get("id")||!t.get("is_optimizely"))})).toList()}],ut=[lt,function(t){return t.filter((function(t){return!t.get("archived")&&!t.get("is_optimizely")}))}],dt=[Q.a.entityCache,se,function(t,r){var a=r.get("recommender_service_ids");return t.filter((function(t){return a.contains(t.get("recommender_service_id"))}))}],ft=[se,rt,function(t,r){return r.filter(u.a.createFilterFn({project_id:t.get("id"),segmentation:!0})).size}],pt=[et,function(t){return t.size<=q.a.MAX_EXPERIMENTS_PER_PROJECT}],mt=[ft,De,ye,function(t,r,a){return(a?ae.a.TOTAL_REPORTING_SLOTS_CUSTOM_PROJECT:ae.a.TOTAL_REPORTING_SLOTS)-t-r.size}],gt=[ne.default.entityCache,oe,ie.default.filterByProjectId],ht=[gt,function(t){return t.filter((function(t){return!t.get("single_use")}))}],yt=[re.a.entityCache,oe,ie.default.filterByProjectId],vt=[I.default.entityCache,oe,ie.default.filterByProjectId],_t=[vt,ne.default.entityCache,function(t,r){return t.filter((function(t){if(t.get("archived"))return!1;var a=t.get("view_id");if(!a)return!0;var i=r.get(a);return i&&!i.get("archived")}))}],Et=[O.default.entityCache,oe,ie.default.filterByProjectId],bt=[Et,function(t){return w.default.filterByArchivedStatus(t,R.default.status.ACTIVE)}],Tt=[te.a.entityCache,oe,ie.default.filterByProjectId],St=[Tt,function(t){return t.filter((function(t){return t.get("is_default")})).first()}],Ct=[Z.a.entityCache,oe,ie.default.filterByProjectId],It=[W.default.entityCache,oe,ie.default.filterByProjectId],At=[G.a.entityCache,oe,ie.default.filterByProjectId],Ot=[It,function(t){return t.filter((function(t){return t.get("plugin_type")===z.default.plugin_type.ANALYTICS_INTEGRATION}))}],Pt=[It,function(t){return t.filter((function(t){return t.get("plugin_type")===z.default.plugin_type.ANALYTICS_INTEGRATION&&t.get("is_enabled_in_client")}))}],Rt=[E.a.entityCache,oe,ie.default.filterByProjectId],wt=[Rt,function(t){return t.filter((function(t){return!0===t.get("is_enabled_in_client")}))}],Nt=[se,function(t){var r=Object(c.toImmutable)([]);return t?t.get("project_permissions",r):r}],Lt=[se,function(t){return t.getIn(["project_platforms",0])}],xt=[se,K.default.getPrimarySDKLanguage],Dt=[se,xt,function(t,r){return K.default.formatAnyProjectName(t,r)}],kt=[se,function(t){return K.default.isUsingV2Snippet(t)}],jt=[[P.a.entityCache,oe,ie.default.filterByProjectId],function(t){return t.map((function(t){var r=t.get("variables")||Object(c.toImmutable)([]);return t.set("variables",r)}))}],Mt=[jt,function(t){return t.filter((function(t){return!t.get("archived")}))}],Ft=[se,p.default.accountInfo,p.default.activeProjects,H.default.canCreateProject],Ut=function canEditExperiment(t){return[se,function(r){return H.default.canEditExperiment(r,t)}]},Vt=function filteredProjectSettings(t){return[se,function(r){return r.filter((function(r,a){return o.a.includes(t,a)}))}]},Bt=[se,[p.default.accountPermissions,H.default.canUseEnvironments],function(t,r){return!(!t.get("has_access_to_environments")||!r)}],Gt=[I.default.activeEvents,oe,function(t,r){return t.filter((function(t){return t.get("project_id")===r}))}],Ht=[Z.a.activeTags,oe,function(t,r){return t.filter((function(t){return t.get("project_id")===r}))}],zt=[ne.default.activeAccountViews,oe,function(t,r){return t.filter((function(t){return t.get("project_id")===r}))}],Wt=[[V.default.entityCache,oe,ie.default.filterByProjectId],function(t){return t.filter((function(t){return t.get("layer_policy")===k.default.policy.SINGLE_EXPERIMENT&&(t.get("actual_status")===M.default.ActualStatus.RUNNING||U.default.isRunningInAnyEnvironment(t))}))}],qt=[se,[p.default.accountPermissions,function(){return H.default.canUseFullStackExperiments.apply(H.default,arguments)}],function(t,r){return t?K.default.isWebProject(t)?Y.default.project_types.WEB:r?Y.default.project_types.FULL_STACK:Y.default.project_types.ROLLOUTS:null}],Yt=[se,function(t){return!!t.get("trim_unused_pages")}],Kt=[y.a.entityCache,oe,function(t,r){return t.filter((function(t){return t.get("project_specifics").find((function(t){return t.get("project_id")===r}))}))}],Jt=[se,qt,function(t,r){return{current_project_experiment_confidence_threshold:t&&t.get("experiment_confidence_threshold",null),current_project_code_revision:t&&t.get("code_revision",null),current_project_created_date:+new Date(t&&t.get("created")),current_project_id:t&&t.get("id"),current_project_milliseconds_since_code_last_modified:+new Date-+new Date(t&&t.get("code_last_modified"))||null,current_project_type:r}}],Xt=[I.default.activeEvents,ne.default.activeAccountPageViews,function(t,r){return t.map((function(t){if("custom"===t.get("event_type"))return t;var a=r.find((function(r){return r.get("id")===t.get("view_id")}));return t.set("edit_url",a?a.get("edit_url"):null)})).toList().concat(r.map((function(t){return t.set("event_type","pageview")})))}],$t=[se,function(t){return t.get("deactivation_enabled",!1)}],Qt=[se,function(t){return t.get("undo_on_deactivation",!1)}];r.default={accountId:ue,activeDcpDatasources:ut,activeEvents:_t,activeGroups:bt,attributesForChampagne:Jt,audiences:rt,audienceExperimentCount:ot,availableAudiences:at,availableReportingSlots:mt,canCreateProject:Ft,canEditExperiment:Ut,collaborators:Ze,createdDate:ce,currentProjectActiveEvents:Gt,currentProjectActiveTags:Ht,currentProjectActiveViews:zt,currentProjectRunningExperiments:Wt,currentProjectType:qt,customAnalyticsIntegrations:Ot,customAudienceIntegrations:Rt,customAttributes:ke,dcpDatasources:lt,dimensions:De,dimensionText:Ne,dimensionTextPlural:Le,duplicationTargetProjects:nt,dynamicConditions:$e,customAudienceAttributeDefinitions:Qe,enabledAnalyticsIntegrationExtensions:Pt,enabledAudienceIntegrations:qe,enabledCampaignLevelPersonalizationIntegrations:Je,enabledCanvasIntegrations:Ye,enabledCustomAudienceIntegrations:wt,events:vt,eventsWithUrls:Xt,excludeDisabledExperiments:pe,experimentationGroups:Et,experiments:je,experimentsInSnippet:et,features:jt,activeFeatures:Mt,filteredProjectSettings:Vt,fullStackLayerExperimentsWrapper:Ge,goals:Fe,hasPageTrimming:Yt,id:oe,integrationById:ze,integrations:He,isAndroidProject:Ee,isClassicCustomProject:ve,isClassicTestingEnabledInClient:ge,isCustomProject:ye,isDeactivationEnabled:$t,isRolloutsProject:Pe,isFlagsProject:Ie,isFullStackProject:Ae,isiOSProject:be,isWebProject:Oe,isMobileProject:Te,isOTTProject:Ce,isPersonalizationEnabledInClient:he,isUnderExperimentLimit:pt,isUsingV2Snippet:kt,isXCustomProject:_e,isXMobileProject:Se,jiraIntegrationSettings:Xe,layerExperiments:Ue,layers:Ve,listAttributes:ct,name:le,nameWithSdkIfApplicable:Dt,otherCollaborators:tt,permissions:Nt,personalizationIntegrations:Ke,platform:Lt,plugins:It,previewJSFileName:xe,primarySDKLanguage:xt,project:se,projectActivities:Me,catalogs:Kt,projectIntegrationById:We,projectToken:fe,projectResultsAPIToken:de,recommenders:dt,reportableAudiencesCount:ft,runningExperimentLimit:Re,runningLayers:Be,status:me,tags:Ct,tagGroups:Tt,defaultTagGroup:St,undoOnDeactivation:Qt,userLists:st,views:gt,multiUseViews:ht,webhooks:yt,environmentsAuthorizedAndSupported:Bt,xCompatibleAudiences:it}},function(t,r,a){"use strict";a.r(r);var i=a(227);a.d(r,"actions",(function(){return i.a}));var o=a(427);a.d(r,"constants",(function(){return o.a}));var c=a(114);a.d(r,"fns",(function(){return c.default}));var l=a(13);a.d(r,"getters",(function(){return l.default})),r.default={actions:i.a,constants:o.a,fns:c.default,getters:l.default}},function(t,r,a){var i;function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var o=a(338),c=a(7),l=a(8);r.AndroidLayoutConstants={MATCH_PARENT:-1,WRAP_CONTENT:-2},r.AppEnvironment={DEV:"local",STAGING:"staging",PRODUCTION:"production"},r.ProjectJavascriptCodeMirror={BLANK_DEFAULT:"\n\n\n\n\n\n\n\n\n\n\n"},r.ChangeHistoryTypeName={CUSTOM_EVENT:"custom event"},r.deviceContainerIds={EDITOR_DEVICE_CONTAINER:"editor-device-container",GOALS_DIALOG_DEVICE_CONTAINER:"goals-dialog-device-container"},r.EmailLinkState={NOT_SENT:l("Send"),SENDING:l("Sending..."),SENT:l("Sent!")},r.EmailSDKInstructionsState={NOT_SENT:l("Send Email &amp; Continue"),SENDING:l("Sending..."),SENT:l("Sent!")},r.EventProperties={NAME:"n",TYPE:"y",METADATA:"o",REVENUE:"r",TIMESTAMP:"t"},r.ExperimentStatusType={ARCHIVED:"Archived",DELETED:"Deleted",ERROR:"Error",NOT_STARTED:"Not started",PAUSED:"Paused",PAUSING:"Pausing...",RUNNING:"Running",STARTING:"Starting..."},r.ExperimentStatusTypeDisplayText={ARCHIVED:l("Archived"),DELETED:l("Deleted"),ERROR:l("Error"),NOT_STARTED:l("Not started"),PAUSED:l("Paused"),PAUSING:l("Pausing..."),RUNNING:l("Running"),STARTING:l("Starting...")},r.Permissions={ARCHIVE_EXPERIMENT:"archive-experiment",BILLING:"billing",CREATE_EXPERIMENT:"create-experiment",CREATE_AUDIENCE:"create-audience",CREATE_CUSTOM_ATTRIBUTE:"create-dimension",CREATE_EXPERIMENT_GROUP:"create-experiment-group",CREATE_PROJECT:"create-project",CREATE_COMMIT:"create-commit",CREATE_LAYER:"create-layer",CREATE_LAYER_EXPERIMENT:"create-layer-experiment",CREATE_LIVE_COMMIT_TAG:"create-live-commit-tag",CREATE_SAR:"create-sar",CREATE_SNIPPET:"create-snippet",CREATE_TAG:"create-tag",CREATE_USER_EVENT:"create-user-event",CREATE_VIEW:"create-view",DELETE_CUSTOM_ATTRIBUTE:"delete-dimension",DELETE_EXPERIMENT:"delete-experiment",DELETE_USER_ACCOUNTS:"delete-user-accounts",DELETE_EXPERIMENT_GROUP:"delete-experiment-group",DELETE_LAYER:"delete-layer",DELETE_LAYER_EXPERIMENT:"delete-layer-experiment",DELETE_SNIPPET:"delete-snippet",DELETE_TAG:"delete-tag",DELETE_USER_EVENT:"delete-user-event",DELETE_VIEW:"delete-view",EDIT_PROJECT:"edit-project",EDIT_PROJECT_INTEGRATION:"edit-project-integration",EDIT_PROJECT_SHARING:"edit-project-sharing",EDITOR_DEBUG:"editor-debug",EXPORT_EVENTS:"export events",INVITE:"invite",MANAGE_BEARER_TOKEN:"manage-bearer-token",MANAGE_FEATURE_FLAG:"manage-feature-flag",MANAGE_MANIFEST:"manage-manifest",MANAGE_USER_LIST:"manage-user-list",MANAGE_OAUTH_CLIENT:"manage-oauth-client",MANAGE_RECOMMENDER_SERVICE:"manage-recommender-service",MANAGE_WEBHOOK:"manage-webhook",MIGRATE_TO_FLAGS:"migrate-to-flags",MODIFY_ACCOUNT_TOKENS:"modify-account-tokens",MODIFY_CUSTOM_ATTRIBUTE:"modify-dimension",MODIFY_PAUSED_EXPERIMENT:"modify-paused-experiment",MODIFY_RUNNING_EXPERIMENT:"modify-running-experiment",MODIFY_AUDIENCE:"modify-audience",MODIFY_SHARE_TOKENS:"modify-share-tokens",PAUSE_EXPERIMENT:"pause-experiment",PREVIEW_DEBUG:"preview-debug",READ_SAR:"read-sar",RESET_RESULTS:"reset-results",SNIPPET_BUNDLING_CONFIGURATION:"snippet-bundling-configuration",START_EXPERIMENT:"start-experiment",UPDATE_ATLASSIAN_LINKS:"update-atlassian-links",UPDATE_COMMIT:"update-commit",UPDATE_EXPERIMENT_GROUP:"update-experiment-group",UPDATE_LAYER:"update-layer",UPDATE_LAYER_EXPERIMENT:"update-layer-experiment",UPDATE_LAYER_EXPERIMENT_WITH_EXTENSION:"update-layer-experiment-with-extension",UPDATE_LIVE_COMMIT_TAG:"update-live-commit-tag",UPDATE_SNIPPET:"update-snippet",UPDATE_TAG:"update-tag",UPDATE_USER_ACCOUNTS:"update-user-accounts",UPDATE_USER_EVENT:"update-user-event",UPDATE_VIEW:"update-view",USER_PERMISSIONS:"user-permissions",VIEW_AUDIENCE:"view-audience",VIEW_AUDIT_LOG:"view-audit-log",VIEW_COLLABORATORS:"view-collaborators",VIEW_COMMIT:"view-commit",VIEW_LAYER:"view-layer",VIEW_LAYER_EXPERIMENT:"view-layer-experiment",VIEW_LIVE_COMMIT_TAG:"view-live-commit-tag",VIEW_OAUTH_CLIENT:"view-oauth-client",VIEW_RECOMMENDER_SERVICE:"view-recommender-service",VIEW_SHARE_TOKENS:"view-share-tokens",VIEW_SNIPPET:"view-snippet",VIEW_TAG:"view-tag",VIEW_USER_ACCOUNTS:"view-user-accounts",VIEW_USER_EVENT:"view-user-event",VIEW_USER_LIST:"view-user-list",VIEW_VIEW:"view-view",VUE_EDITOR_DRAWER:"vue-editor-drawer"},r.Features={AB_TESTING:"ab-testing",AB_TESTING_V2:"ab-testing-v2",ACCOUNT_TWO_FACTOR_AUTH:"account-two-factor-auth",ACTIVITY_LOG:"activity-log",ADAPTIVE_AUDIENCES:"adaptive_audiences",AD_CAMPAIGN_TARGETING:"ad-campaign-targeting",ADD_USER:"add-user",ANALYTICS_EXTENSIONS:"analytics-extensions",APPS_TAB:"apps-tab",ATTACHED_REVENUE:"attached-revenue",AUDIENCE_API_ONLY:"audience-api-only",AUDIENCE_TARGETING:"audience-targeting",AUDIT_LOG:"audit-log",BANDITS:"bandits",BANDITS_V2:"bandits-v2",BEHAVIORAL_TARGETING:"behavioral-targeting",BUCKETED_REVENUE:"bucketed-revenue",CSHARP_SDK:"csharp-sdk",CONCURRENT_EDITING:"concurrent-editing",CONDITIONAL_ACTIVATION:"conditional-activation",CONTINUOUS_OPTIMIZATION_DASHBOARD:"continuous-optimization-dashboard",CROSS_BROWSER_TESTING:"cross-browser-testing",CROSS_PROJECT_DUPLICATION:"cross-project-duplication",CROSS_PROJECT_METRICS:"cross-project-metrics",CSP_SUPPORT:"csp-support",CUSTOM_ATTRIBUTES:"custom-attributes",CUSTOM_AUDIENCE_INTEGRATIONS:"custom-audience-integrations",CUSTOM_SEGMENTS:"custom-segments",DISABLE_EDITOR_IFRAME_PRELOAD:"disable-editor-iframe-preload",DYNAMIC_CUSTOMER_PROFILE:"dynamic-customer-profile",EDGE_EXPERIMENTS:"edge_experiments",ENABLE_TEAMS_WORKFLOW:"enable-teams-workflow",ENVIRONMENTS:"environments",EVENT_EXTENSIONS:"event-extensions",EXECUTIVE_SUMMARY:"executive-summary",FEATURE_FLAGS:"feature-flags",FEATURE_MANAGEMENT:"feature-management",FEATURE_MANAGEMENT_VARIABLES:"feature-management-variables",FEATURE_ROLLOUTS:"feature-rollouts",FULL_STACK:"full-stack",FULL_STACK_ADVANCED_SETTINGS:"full-stack-advanced-settings",FULL_STACK_BOT_FILTERING:"full-stack-bot-filtering",FULL_STACK_EVENTS:"full-stack-events",FULL_STACK_EXPERIMENTS:"full-stack-experiments",FULL_STACK_MULTIPLE_PROJECTS:"full-stack-multiple-projects",GEOTARGETING:"geotargeting",GEOFENCE_TARGETING:"geofence-targeting",IMAGE_CDN_HOST_PREFIX:"image-cdn-host-prefix",IMPRESSION_METRICS:"impression-metrics",INTEGRATION_DASHBOARD:"integration-dashboard",LAUNCH_EXPERIMENT:"launch-experiment",LIST_ATTRIBUTE:"list-attribute",LIST_TARGETING:"list-targeting",REST_API:"rest_api",MOBILE:"mobile",MOBILE_AUDIENCES:"mobile-audiences",MOBILE_P13N:"mobile-p13n",MULTICHANNEL_EXPERIMENTS:"multichannel-experiments",MULTIPAGE_TESTING:"multipage-testing",MULTIVARIATE_TESTING:"multivariate-testing",MUTEX:"mutual-exclusivity",MVT_X:"multivariate-testing-x",MVT_X_FULLSTACK:"multivariate-testing-x-fullstack",MVT_X_PARTIAL_FACTORIAL:"multivariate-testing-x-partial",OBSERVE_CHANGES_INDEFINITELY:"observe-changes-indefinitely",ONLINE_TICKETS:"online-tickets",OUTLIER_FILTERING:"outlier-filtering",OUTLIER_FILTERING_GA:"outlier-filtering-ga",OTT:"over-the-top",PERSONALIZATION:"personalization",PLUGINS:"plugins",PREMIUM_DEFAULT_SEGMENTS:"premium-default-segments",PROJECT_JS:"project-js",PUBLISH_LAYER_ONLY:"publish-layer-only",RECOMMENDER:"recommender",REDIRECTS_V2:"redirects-v2",REVENUE_REPORT:"revenue-report",SCHEDULING:"scheduling",SECURE_ENVIRONMENTS:"secure-environments",SERVER_SIDE_TESTING:"server-side-testing",SEGMENTED_RESULTS:"segmented-results",SELECT_CONTAINER:"select-container",SEQUENTIAL_STATISTICS:"sequential-statistics",SHAREABLE_PROJECTS:"shareable-projects",SNIPPETS:"snippets",SOURCE_TARGETING:"source-targeting",STATS_ACCELERATOR:"stats-accelerator",TARGETED_ROLLOUTS:"targeted-rollouts",TIME_AND_DAY_TARGETING:"time-and-day-targeting",USER_TWO_FACTOR_AUTH:"user-two-factor-auth",URL_TARGETING:"url-targeting",UNLIMITED_CUSTOM_ATTRIBUTES:"unlimited-custom-attributes",VIEW_DASHBOARD2:"view-dashboard2",VIEW_DASHBOARD_X:"view_dashboard_x",WIDGETS:"widgets",LAYER_INTEGRATIONS:"layer-integrations",INSECURE_PREVIEW:"insecure-preview",PREVIEW:"preview",EXPERIMENT_TRAFFIC_ALLOCATION:"experiment-traffic-allocation",ASYNC_CHANGES:"async-changes",CHANGE_DEPENDENCIES:"change-dependencies",VISUAL_TAGS:"visual-tags",ADVANCED_PAGE_SETTINGS:"advanced-page-settings",ACTIVATION_MODE_MANUAL:"activation-mode-manual",ACTIVATION_MODE_POLLING:"activation-mode-polling",ACTIVATION_MODE_CALLBACK:"activation-mode-callback",ACTIVATION_MODE_URL_CHANGED:"activation-mode-url-changed",ACTIVATION_MODE_DOM_CHANGED:"activation-mode-dom-changed",VIEW_CONDITION_CUSTOM_CODE:"view-condition-custom-code",VIEW_CONDITION_ELEMENT_PRESENT:"view-condition-element-present",WEB_STICKY_BUCKETING:"web-sticky-bucketing"},r.DeliveryModeBlacklist=(_defineProperty(i={},r.Features.ADAPTIVE_AUDIENCES,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.ANALYTICS_EXTENSIONS,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.BANDITS_V2,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.STATS_ACCELERATOR,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.CUSTOM_ATTRIBUTES,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.CUSTOM_AUDIENCE_INTEGRATIONS,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.CUSTOM_SEGMENTS,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.DYNAMIC_CUSTOMER_PROFILE,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.BEHAVIORAL_TARGETING,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.LIST_ATTRIBUTE,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.MVT_X,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.PERSONALIZATION,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.RECOMMENDER,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.SHAREABLE_PROJECTS,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.ASYNC_CHANGES,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.CHANGE_DEPENDENCIES,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.INSECURE_PREVIEW,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.LAYER_INTEGRATIONS,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.PREVIEW,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.WEB_STICKY_BUCKETING,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.VISUAL_TAGS,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.ACTIVATION_MODE_POLLING,[c.delivery_modes.EDGE]),_defineProperty(i,r.Features.ACTIVATION_MODE_CALLBACK,[c.delivery_modes.EDGE]),i),r.GoalType={CLICK:0,CUSTOM_EVENT:1,ENGAGEMENT:2,PAGEVIEW:3,REVENUE:4,MOBILE_TAP_EVENT_TYPE:5,MOBILE_VIEW_EVENT_TYPE:6,MOBILE_SESSION_GOAL:7,MOBILE_SESSION_LENGTH_GOAL:8,MOBILE_NUM_SESSION_GOAL:9},r.builtInGoalTypes=[r.GoalType.ENGAGEMENT,r.GoalType.REVENUE,r.GoalType.MOBILE_SESSION_GOAL,r.GoalType.MOBILE_SESSION_LENGTH_GOAL,r.GoalType.MOBILE_NUM_SESSION_GOAL],r.GoalTypeName={CLICK:l("Click"),CUSTOM_EVENT:l("Custom Event"),ENGAGEMENT:l("Built-in"),PAGEVIEW:l("Pageview"),REVENUE:l("Built-in"),MOBILE_TAP_EVENT_TYPE:l("Tap"),MOBILE_VIEW_EVENT_TYPE:l("View"),MOBILE_SESSION_GOAL:l("Built-in"),MOBILE_SESSION_LENGTH_GOAL:l("Built-in"),MOBILE_NUM_SESSION_GOAL:l("Built-in")},r.HttpStatusCodes={GONE:410},r.IntegrationCategoryTypes=o.categories,r.IntegrationCategoryTypesDisplayText={ALL:l("All"),ANALYTICS:l("Analytics"),AUDIENCES:l("Audiences"),CONTENT_MANAGEMENT:l("Content Management"),CALL_TRACKING:l("Call Tracking"),HEATMAP:l("Heatmap"),PRODUCTIVITY:l("Productivity")},r.ProjectPlatforms={ANDROID:"android",IOS:"ios",WEB:"web",CUSTOM:"custom"},r.ProjectSnippets={START:"start",START_WITH_ENABLE_EDITOR:"start-enable-editor"},r.ProjectPlatformsDisplayText={android:"Android",ios:"iOS",web:l("Web")},r.ProjectPlatformsMobile=[r.ProjectPlatforms.ANDROID,r.ProjectPlatforms.IOS],r.ProjectStatusType={ACTIVE:"Active",ARCHIVED:"Archived"},r.ProjectPlatformType={ANDROID:"android",CUSTOM:"custom",IOS:"ios",WEB:"web"},r.MobilePlatformTypes=[r.ProjectPlatformType.ANDROID,r.ProjectPlatformType.IOS],r.CodeBlockConstants={CODEBLOCK_DEFAULT_VALUE_STRING:"__Optimizely_codeblock_default_value_placeholder__"},r.UIInterfaceOrientation={PORTRAIT:1,PORTRAIT_UPSIDE_DOWN:2,LANDSCAPE_LEFT:3,LANDSCAPE_RIGHT:4},r.UIInterfaceOrientationAndroid={PORTRAIT:1,LANDSCAPE:2},r.DimensionStatusType={ACTIVE:"Active",INACTIVE:"Inactive"},r.urlMatchTypes={EXACT:1,REGEX:2,SIMPLE:3,SUBSTRING:4},r.urlMatchTypeNames={1:"Exact",2:"Regular expression",3:"Simple",4:"Substring"},r.userRoles={"Gae Administrator":l("Gae Administrator"),Administrator:l("Administrator"),"Project Owner":l("Project Owner"),Editor:l("Editor"),Viewer:l("Viewer"),Universal:l("Universal"),"Object Owner":l("Object Owner"),"Shared Token Accessor":l("Shared Token Accessor"),"Project Creator":l("Project Creator"),User:l("User")},r.TrackingEventAction={ADD:"add",APPLY:"apply",CANCEL:"cancel",CLICK:"click",COLLAPSE:"collapse",CREATE:"create",EDIT:"edit",EXPAND:"expand",OPEN:"open",REMOVE:"remove",REMOVE_DUPLICATE_LINE:"removeDuplicateLine",SHOW_DIALOG:"showDialog",TOGGLE:"toggle"},r.TrackingEventCategory={PREVIEW:"Preview",AUDIENCES:"Audiences",RESULTS:"Results",WEB_EDITOR:"Web Editor"},r.MessageType={APPEND_AND_SELECT:"append and select",AUTO_SELECT_ELEMENT:"auto-select element",BRING_TO_FRONT:"bring to front",CANCEL_CHANGE:"cancel change",CHANGE_ELEMENT:"change element",CHECK_PAGE_OVERFLOW:"check page overflow",CLICK:"click",COUNT_ELEMENTS_MATCHING_SELECTORS:"count elements matching selectors",CUSTOM_TAGS:"custom tags on page",DESELECT_ELEMENT:"deselect element",ELEMENT_BOUNDS_CHANGED:"element bounds changed",ELEMENT_CHANGED:"element changed",ELEMENT_DESELECTED:"element deselected",ELEMENT_SELECTED:"element selected",EVALUATE:"evaluate",EVALUATION_COMPLETED:"evaluation completed",EVALUATION_ERROR:"evaluation error",HELLO:"hello",HIDE_CHANGER:"hide changer",HIGHLIGHT_TRACKED_ELEMENTS:"highlight tracked elements",INSERT_TEXT:"insert text",KEY_PRESSED:"key pressed",PREPARE_CHANGE:"prepare change",PREPARE_MOVE_AND_RESIZE:"prepare move and resize",PREPARE_REARRANGE:"prepare rearrange",READY:"ready",REDIRECT_NOTIFICATION:"redirect notification",SCROLL_TO_ELEMENT:"scroll to element",SELECT_ELEMENT:"select element",SET_AT_INTERNET_DETAILS:"set at internet details",SET_CLICK_GOALS:"set click goals",SET_SELECTABLE:"set selectable",SHOW_CHANGER:"show changer",STYLES_FOR_ELEMENT:"styles for element",SURROUND_CONTAINER:"surround container",SURROUND_ELEMENTS:"surround elements",UNSURROUND_CONTAINER:"unsurround container",UNSURROUND_ELEMENTS:"unsurround elements",WHICH_SNIPPET:"which snippet",PREVIEW_SET_IFRAME_HEIGHT:"PREVIEW_SET_IFRAME_HEIGHT",PREVIEW_GET_CLIENT_DATA:"PREVIEW_GET_CLIENT_DATA",PREVIEW_GET_CLIENT_DATA_ASYNC:"PREVIEW_GET_CLIENT_DATA_ASYNC",PREVIEW_ACTIVATE_EXPERIMENT:"PREVIEW_ACTIVATE_EXPERIMENT",PREVIEW_GET_LOG:"PREVIEW_GET_LOG",PREVIEW_RELOAD:"PREVIEW_RELOAD",PREVIEW_REMOVE_OVERLAY:"PREVIEW_HIDE_OVERLAY",PREVIEW_MODEL_PERSISTOR_APPLY_EXPERIMENT_STATE:"PREVIEW_MODEL_PERSISTOR_APPLY_EXPERIMENT_STATE",PREVIEW_MODEL_PERSISTOR_GET_STATE:"PREVIEW_MODEL_PERSISTOR_GET_STATE",PREVIEW_MODEL_PERSISTOR_GET_STATE_RESPONSE:"PREVIEW_MODEL_PERSISTOR_GET_STATE_RESPONSE",PREVIEW_MODEL_PERSISTOR_PERSIST_STATE:"PREVIEW_MODEL_PERSISTOR_PERSIST_STATE",PREVIEW_MODEL_PERSISTOR_PERSIST_STATE_RESPONSE:"PREVIEW_MODEL_PERSISTOR_PERSIST_STATE_RESPONSE"},r.ZIndex={CODE_ASSISTANT_TOGGLE:100,ACTIVATION_MODE_DROPDOWN:5,FILTER_STATUS_DROPDOWN:11}},,function(t,r){t.exports=function keyMirror(t){var r,a={};if(!(t instanceof Object)||Array.isArray(t))throw new Error("keyMirror(...): Argument must be an object.");for(r in t)t.hasOwnProperty(r)&&(a[r]=r);return a}},function(t,r,a){"use strict";a.r(r);var i=a(247);a.d(r,"actions",(function(){return i}));var o=a(330);a.d(r,"constants",(function(){return o.default}));var c=a(394);a.d(r,"fns",(function(){return c.default}));var l=a(90);a.d(r,"getters",(function(){return l})),r.default={actions:i,constants:o.default,fns:c.default,getters:l}},,function(t,r,a){"use strict";a.r(r);var i=a(129);a.d(r,"actions",(function(){return i.default}));var o=a(450);a.d(r,"entityDef",(function(){return o.default}));var c=a(29);a.d(r,"enums",(function(){return c.default}));var l=a(110);a.d(r,"humanReadable",(function(){return l.c}));var u=a(68);a.d(r,"fns",(function(){return u.default}));var d=a(111);a.d(r,"getters",(function(){return d.default})),r.default={actions:i.default,entityDef:o.default,enums:c.default,humanReadable:l.c,fns:u.default,getters:d.default}},function(t,r,a){"use strict";a.r(r),a.d(r,"status",(function(){return l})),a.d(r,"entityStatus",(function(){return u})),a.d(r,"policy",(function(){return d})),a.d(r,"tag",(function(){return p})),a.d(r,"metricKinds",(function(){return m})),a.d(r,"campaignTypes",(function(){return g})),a.d(r,"type",(function(){return h})),a.d(r,"typeToEntityName",(function(){return y})),a.d(r,"URL_TARGETING_FIELDS",(function(){return v}));var i,o=a(17),c=a.n(o);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var l=c()({ACTIVE:null,RUNNING:null,PAUSED:null,DRAFT:null,ARCHIVED:null}),u={NOT_STARTED:"not_started",RUNNING:"running",PAUSED:"paused",ARCHIVED:"archived"},d={SINGLE_EXPERIMENT:"single_experiment",RANDOM:"random",ORDERED:"ordered",EQUAL_PRIORITY:"equal_priority",MULTIVARIATE:"multivariate"},p={LIVE:"live"},m={EVENT:"event",VIEW:"view",REVENUE:"revenue"},g=c()({P13N_CAMPAIGN:null,SINGLE_EXPERIMENT:null,MULTIARMED_BANDIT:null,MULTIVARIATE:null,FEATURE:null}),h={AB:"a/b",FEATURE:"feature",MULTIARMED_BANDIT:"multiarmed_bandit",MULTIVARIATE:"multivariate",PERSONALIZATION:"personalization",ROLLOUT:"rollout"},y=(_defineProperty(i={},h.AB,"experiment"),_defineProperty(i,h.FEATURE,"experiment"),_defineProperty(i,h.MULTIARMED_BANDIT,"optimization"),_defineProperty(i,h.MULTIVARIATE,"experiment"),_defineProperty(i,h.PERSONALIZATION,"campaign"),_defineProperty(i,h.ROLLOUT,"experiment"),i),v=["activation_code","activation_type","api_name","conditions","deactivation_enabled","edit_url","undo_on_deactivation","view_id"];r.default={campaignTypes:g,entityStatus:u,metricKinds:m,policy:d,status:l,tag:p,type:h,typeToEntityName:y,URL_TARGETING_FIELDS:v}},function(t,r,a){"use strict";a.r(r),a.d(r,"hasProjectCapability",(function(){return T})),a.d(r,"canUsePersonalization",(function(){return canUsePersonalization})),a.d(r,"canUseABTesting",(function(){return canUseABTesting})),a.d(r,"canUseABTestingV2",(function(){return canUseABTestingV2})),a.d(r,"canViewOptimizelyX",(function(){return canViewOptimizelyX})),a.d(r,"canUseOptimizelyX",(function(){return canUseOptimizelyX})),a.d(r,"canUseXWeb",(function(){return canUseXWeb})),a.d(r,"canUseEdgeProjects",(function(){return canUseEdgeProjects})),a.d(r,"canUseFullStackMultipleProjects",(function(){return canUseFullStackMultipleProjects})),a.d(r,"canUseProjects",(function(){return canUseProjects})),a.d(r,"canUseEventInspector",(function(){return canUseEventInspector})),a.d(r,"canUseFullStackFlagDecisions",(function(){return canUseFullStackFlagDecisions})),a.d(r,"canUseRecommendations",(function(){return canUseRecommendations})),a.d(r,"canManageRecommendations",(function(){return canManageRecommendations})),a.d(r,"canCreateProject",(function(){return canCreateProject})),a.d(r,"hasCreateProjectPermission",(function(){return hasCreateProjectPermission})),a.d(r,"canEditProject",(function(){return canEditProject})),a.d(r,"canEditShareProjects",(function(){return canEditShareProjects})),a.d(r,"canUseProjectJS",(function(){return canUseProjectJS})),a.d(r,"canMigrateToFlags",(function(){return canMigrateToFlags})),a.d(r,"canAddCollaborator",(function(){return canAddCollaborator})),a.d(r,"canEditCollaborator",(function(){return canEditCollaborator})),a.d(r,"canRemoveCollaboratorFromAccount",(function(){return canRemoveCollaboratorFromAccount})),a.d(r,"canUseCollaborators",(function(){return canUseCollaborators})),a.d(r,"canViewCollaborators",(function(){return canViewCollaborators})),a.d(r,"canArchiveExperiment",(function(){return canArchiveExperiment})),a.d(r,"canCreateExperiment",(function(){return canCreateExperiment})),a.d(r,"canEditExperiment",(function(){return canEditExperiment})),a.d(r,"canDeleteExperiment",(function(){return canDeleteExperiment})),a.d(r,"canPauseExperiment",(function(){return canPauseExperiment})),a.d(r,"canSetImageCdnHostPrefix",(function(){return canSetImageCdnHostPrefix})),a.d(r,"canStartExperiment",(function(){return canStartExperiment})),a.d(r,"canUnarchiveExperiment",(function(){return canUnarchiveExperiment})),a.d(r,"canUseFullStackExperiments",(function(){return canUseFullStackExperiments})),a.d(r,"canArchiveAudience",(function(){return canArchiveAudience})),a.d(r,"canCreateAudience",(function(){return canCreateAudience})),a.d(r,"canViewAudience",(function(){return canViewAudience})),a.d(r,"canEditAudience",(function(){return canEditAudience})),a.d(r,"canCreateLayer",(function(){return canCreateLayer})),a.d(r,"canDeleteLayer",(function(){return canDeleteLayer})),a.d(r,"canUpdateLayer",(function(){return canUpdateLayer})),a.d(r,"canViewLayer",(function(){return canViewLayer})),a.d(r,"canPublishLayer",(function(){return canPublishLayer})),a.d(r,"canDeactivateLayer",(function(){return canDeactivateLayer})),a.d(r,"canCreateLayerExperiment",(function(){return canCreateLayerExperiment})),a.d(r,"canDeleteLayerExperiment",(function(){return canDeleteLayerExperiment})),a.d(r,"canUpdateLayerExperiment",(function(){return A})),a.d(r,"canUpdateLayerExperimentWithExtension",(function(){return canUpdateLayerExperimentWithExtension})),a.d(r,"canViewLayerExperiment",(function(){return canViewLayerExperiment})),a.d(r,"canCreateCommit",(function(){return canCreateCommit})),a.d(r,"canUpdateCommit",(function(){return canUpdateCommit})),a.d(r,"canViewCommit",(function(){return canViewCommit})),a.d(r,"canCreateLiveCommitTag",(function(){return canCreateLiveCommitTag})),a.d(r,"canUpdateLiveCommitTag",(function(){return canUpdateLiveCommitTag})),a.d(r,"canViewLiveCommitTag",(function(){return canViewLiveCommitTag})),a.d(r,"canCreateUserEvent",(function(){return canCreateUserEvent})),a.d(r,"canDeleteUserEvent",(function(){return canDeleteUserEvent})),a.d(r,"canUpdateUserEvent",(function(){return canUpdateUserEvent})),a.d(r,"canViewUserEvent",(function(){return canViewUserEvent})),a.d(r,"canUseFullStackEvents",(function(){return canUseFullStackEvents})),a.d(r,"canCreateTag",(function(){return canCreateTag})),a.d(r,"canDeleteTag",(function(){return canDeleteTag})),a.d(r,"canUpdateTag",(function(){return canUpdateTag})),a.d(r,"canViewTag",(function(){return canViewTag})),a.d(r,"canCreateView",(function(){return canCreateView})),a.d(r,"canDeleteView",(function(){return canDeleteView})),a.d(r,"canUpdateView",(function(){return canUpdateView})),a.d(r,"canViewView",(function(){return canViewView})),a.d(r,"canUsePlugins",(function(){return O})),a.d(r,"canUseAnalyticsIntegrationExtensions",(function(){return canUseAnalyticsIntegrationExtensions})),a.d(r,"canUseEventExtensions",(function(){return canUseEventExtensions})),a.d(r,"canUseEdgeProjectSettings",(function(){return canUseEdgeProjectSettings})),a.d(r,"canUseSelectContainer",(function(){return canUseSelectContainer})),a.d(r,"canTargetBehavior",(function(){return canTargetBehavior})),a.d(r,"canCreateCustomAttribute",(function(){return canCreateCustomAttribute})),a.d(r,"canDeleteCustomAttribute",(function(){return canDeleteCustomAttribute})),a.d(r,"canEditCustomAttribute",(function(){return canEditCustomAttribute})),a.d(r,"canUseDatasources",(function(){return canUseDatasources})),a.d(r,"canAccountUseDatasources",(function(){return canAccountUseDatasources})),a.d(r,"canUseCustomAttributes",(function(){return canUseCustomAttributes})),a.d(r,"canCreateListAttributes",(function(){return canCreateListAttributes})),a.d(r,"canEditListAttributes",(function(){return canEditListAttributes})),a.d(r,"canUseListAttributes",(function(){return canUseListAttributes})),a.d(r,"canEditIntegrationForProject",(function(){return canEditIntegrationForProject})),a.d(r,"canUseIntegration",(function(){return canUseIntegration})),a.d(r,"canUseScheduler",(function(){return canUseScheduler})),a.d(r,"canCreateGroup",(function(){return canCreateGroup})),a.d(r,"canUseGroups",(function(){return canUseGroups})),a.d(r,"canArchiveGroup",(function(){return canArchiveGroup})),a.d(r,"canEditGroup",(function(){return canEditGroup})),a.d(r,"canCrossBrowserTest",(function(){return canCrossBrowserTest})),a.d(r,"canExportEvents",(function(){return canExportEvents})),a.d(r,"canUseCustomSegments",(function(){return canUseCustomSegments})),a.d(r,"canUseDatafileAuthentication",(function(){return canUseDatafileAuthentication})),a.d(r,"canEnableDatafileAuthentication",(function(){return canEnableDatafileAuthentication})),a.d(r,"canModifyAccountTokens",(function(){return canModifyAccountTokens})),a.d(r,"canShowBilling",(function(){return canShowBilling})),a.d(r,"canGenerateToken",(function(){return canGenerateToken})),a.d(r,"canUseWebEditorDrawer",(function(){return canUseWebEditorDrawer})),a.d(r,"canDebugEditor",(function(){return canDebugEditor})),a.d(r,"canManageBearerToken",(function(){return canManageBearerToken})),a.d(r,"canDuplicateAcrossProjects",(function(){return canDuplicateAcrossProjects})),a.d(r,"hasRestAPIAccess",(function(){return hasRestAPIAccess})),a.d(r,"canManageOAuthClient",(function(){return canManageOAuthClient})),a.d(r,"canViewOAuthClient",(function(){return canViewOAuthClient})),a.d(r,"canEditAccount",(function(){return canEditAccount})),a.d(r,"canShowAccountBilling",(function(){return canShowAccountBilling})),a.d(r,"canEnableAccountTwoFactorAuth",(function(){return canEnableAccountTwoFactorAuth})),a.d(r,"canEnableUserTwoFactorAuth",(function(){return canEnableUserTwoFactorAuth})),a.d(r,"canCreateSubjectAccessRequest",(function(){return canCreateSubjectAccessRequest})),a.d(r,"canReadSubjectAccessRequest",(function(){return canReadSubjectAccessRequest})),a.d(r,"canUseAdaptiveAudiences",(function(){return P})),a.d(r,"canUseMultiArmedBandits",(function(){return R})),a.d(r,"canUseStatsAccelerator",(function(){return w})),a.d(r,"canUseConcurrentEditing",(function(){return N})),a.d(r,"canUseObserveChangesIndefinitely",(function(){return L})),a.d(r,"canCreateSnippet",(function(){return x})),a.d(r,"canDeleteSnippet",(function(){return D})),a.d(r,"canUpdateSnippet",(function(){return k})),a.d(r,"canUseSnippets",(function(){return j})),a.d(r,"canViewSnippet",(function(){return M})),a.d(r,"canUseShareProjects",(function(){return U})),a.d(r,"canUseServerSideTesting",(function(){return canUseServerSideTesting})),a.d(r,"canViewUsersTab",(function(){return V})),a.d(r,"canDeleteUser",(function(){return B})),a.d(r,"canUpdateUser",(function(){return G})),a.d(r,"canUseMobileSDKs",(function(){return canUseMobileSDKs})),a.d(r,"canUseFullStackSDKs",(function(){return canUseFullStackSDKs})),a.d(r,"canUseOverTheTopSDKs",(function(){return canUseOverTheTopSDKs})),a.d(r,"canUseOasis",(function(){return canUseOasis})),a.d(r,"canSeeNewYorkTimesFeatures",(function(){return canSeeNewYorkTimesFeatures})),a.d(r,"canManageWebhooks",(function(){return canManageWebhooks})),a.d(r,"canViewVariationsInP13N",(function(){return canViewVariationsInP13N})),a.d(r,"canChangeSnippetBundlingConfiguration",(function(){return canChangeSnippetBundlingConfiguration})),a.d(r,"canCreateShareTokens",(function(){return canCreateShareTokens})),a.d(r,"canViewShareTokens",(function(){return canViewShareTokens})),a.d(r,"canUseCrossProjectMetrics",(function(){return canUseCrossProjectMetrics})),a.d(r,"canArchiveVariable",(function(){return canArchiveVariable})),a.d(r,"canCreateVariable",(function(){return canCreateVariable})),a.d(r,"canEditVariable",(function(){return canEditVariable})),a.d(r,"canManageFeatureFlags",(function(){return canManageFeatureFlags})),a.d(r,"shouldDisableEditorIframePreload",(function(){return H})),a.d(r,"canLaunchExperiment",(function(){return canLaunchExperiment})),a.d(r,"canUseMutex",(function(){return z})),a.d(r,"canMultivariateTestInX",(function(){return canMultivariateTestInX})),a.d(r,"canMultivariateTestInXFullStack",(function(){return canMultivariateTestInXFullStack})),a.d(r,"canUseFeatureFlags",(function(){return canUseFeatureFlags})),a.d(r,"canUseFeatureRollouts",(function(){return canUseFeatureRollouts})),a.d(r,"canCurrentProjectUseTargetedRollouts",(function(){return canCurrentProjectUseTargetedRollouts})),a.d(r,"canUseUrlTargeting",(function(){return canUseUrlTargeting})),a.d(r,"canUseTeamsWorkflow",(function(){return canUseTeamsWorkflow})),a.d(r,"shouldPublishLayerOnly",(function(){return shouldPublishLayerOnly})),a.d(r,"canResetResults",(function(){return W})),a.d(r,"canUseOutlierFiltering",(function(){return q})),a.d(r,"canUseEnvironments",(function(){return Y})),a.d(r,"canUsePartialFactorial",(function(){return K})),a.d(r,"canModifyRunningExperiment",(function(){return J})),a.d(r,"canManageManifest",(function(){return X})),a.d(r,"canUseFeatureManagement",(function(){return $})),a.d(r,"canUseFeatureTests",(function(){return Q})),a.d(r,"canUseFullStackBotFiltering",(function(){return Z})),a.d(r,"isMobileOnlyAccount",(function(){return ee})),a.d(r,"canUseCustomAudienceIntegrations",(function(){return te})),a.d(r,"canUpdateJiraLinks",(function(){return ne})),a.d(r,"canUseAsyncChanges",(function(){return re})),a.d(r,"canUseChangeDependencies",(function(){return ae})),a.d(r,"canUseFeatureVariables",(function(){return ie})),a.d(r,"canUseFullStackAdvancedSettings",(function(){return oe})),a.d(r,"canUseAdvancedPageSettings",(function(){return se})),a.d(r,"canUseViewActivationModeCallback",(function(){return ce})),a.d(r,"canUseViewActivationModeDomChanged",(function(){return le})),a.d(r,"canUseViewActivationModeManual",(function(){return ue})),a.d(r,"canUseViewActivationModePolling",(function(){return de})),a.d(r,"canUseViewActivationModeUrlChanged",(function(){return fe})),a.d(r,"canUseViewConditionCustomCode",(function(){return pe})),a.d(r,"canUseViewConditionElementPresent",(function(){return me})),a.d(r,"shouldUpsellPersonalization",(function(){return ge})),a.d(r,"canUseVisualTags",(function(){return he})),a.d(r,"canUsePreview",(function(){return ye})),a.d(r,"canUseLayerIntegrations",(function(){return ve})),a.d(r,"canUseWebStickyBucketing",(function(){return _e})),a.d(r,"canUseOnlineTickets",(function(){return Ee})),a.d(r,"canUseLayerTableRowActions",(function(){return canUseLayerTableRowActions}));var i=a(4),o=a.n(i),c=a(59),l=a.n(c),u=a(31),d=a(15),p=a.n(d),m=(a(142),a(796)),g=a(83),h=a(7),y=a(56),v=a(361);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var _=l()("2016-08-23T21:00:00Z"),E=function ensureFeatureDefinedOrThrow(t){0},b=function getLimit(t){return-1===t||null===t?v.a.UNLIMITED_VALUE:t},T=function hasProjectCapability(t,r){var a=y.default.getDeliveryModeOrProjectType(t);return"plugins"===r&&"edge"===a?Object(u.isFeatureEnabled)("edge_extensions"):r===p.a.Features.MUTEX&&"edge"===a?Object(u.isFeatureEnabled)("edge_mutex"):function passesBlacklist(t,r,a){return!Object.prototype.hasOwnProperty.call(t,r)||!t[r].includes(a)}(p.a.DeliveryModeBlacklist,r,a)},S=function hasProjectPermission(t,r){E();try{return t.get("project_permissions").contains(r)}catch(t){return!1}},C=function hasAccountPermission(t,r){E();try{return t.contains(r)}catch(t){return!1}},I=function canUseFeature(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=C(r,t);return a?i&&T(a,t):i};function canUsePersonalization(t,r){return I(p.a.Features.PERSONALIZATION,t,r)}function canUseABTesting(t){return C(t,p.a.Features.AB_TESTING)}function canUseABTestingV2(t){return C(t,p.a.Features.AB_TESTING_V2)}function canViewOptimizelyX(t){return C(t,p.a.Features.VIEW_DASHBOARD_X)}function canUseOptimizelyX(t){return C(t,p.a.Features.PERSONALIZATION)||C(t,p.a.Features.AB_TESTING_V2)||C(t,p.a.Features.SERVER_SIDE_TESTING)}function canUseXWeb(t){return C(t,p.a.Features.PERSONALIZATION)||C(t,p.a.Features.AB_TESTING_V2)}function canUseEdgeProjects(t){return C(t,p.a.Features.EDGE_EXPERIMENTS)}function canUseFullStackMultipleProjects(t){return C(t,p.a.Features.FULL_STACK_MULTIPLE_PROJECTS)}function canUseProjects(t){return this.canUseXWeb(t)||this.canUseFullStackMultipleProjects(t)}function canUseEventInspector(t,r,a){return y.default.isFullStackProject(r)&&a}function canUseFullStackFlagDecisions(t,r,a){return a}function canUseRecommendations(t,r){return C(t,p.a.Features.RECOMMENDER)&&y.default.isWebProject(r)&&T(r,p.a.Features.RECOMMENDER)}function canManageRecommendations(t){return S(t,p.a.Permissions.MANAGE_RECOMMENDER_SERVICE)}function canCreateProject(t,r,a){return S(t,p.a.Permissions.CREATE_PROJECT)&&m.a.isUnderProjectLimit(r,a)}function hasCreateProjectPermission(t){return S(t,p.a.Permissions.CREATE_PROJECT)}function canEditProject(t){return S(t,p.a.Permissions.EDIT_PROJECT)}function canEditShareProjects(t){return S(t,p.a.Permissions.EDIT_PROJECT_SHARING)}function canUseProjectJS(t){return C(t,p.a.Features.PROJECT_JS)}function canMigrateToFlags(t){return S(t,p.a.Permissions.MIGRATE_TO_FLAGS)}function canAddCollaborator(t){return S(t,p.a.Permissions.INVITE)}function canEditCollaborator(t){return S(t,p.a.Permissions.USER_PERMISSIONS)}function canRemoveCollaboratorFromAccount(t){return S(t,p.a.Permissions.DELETE_USER_ACCOUNTS)}function canUseCollaborators(t){return C(t,p.a.Features.ADD_USER)}function canViewCollaborators(t){return S(t,p.a.Permissions.VIEW_COLLABORATORS)}function canArchiveExperiment(t){return S(t,p.a.Permissions.ARCHIVE_EXPERIMENT)}function canCreateExperiment(t){return S(t,p.a.Permissions.CREATE_EXPERIMENT)}function canEditExperiment(t,r){return r===p.a.ExperimentStatusType.RUNNING?S(t,p.a.Permissions.MODIFY_RUNNING_EXPERIMENT):S(t,p.a.Permissions.MODIFY_PAUSED_EXPERIMENT)}function canDeleteExperiment(t){return S(t,p.a.Permissions.DELETE_EXPERIMENT)}function canPauseExperiment(t){return S(t,p.a.Permissions.PAUSE_EXPERIMENT)}function canSetImageCdnHostPrefix(t){return C(t,p.a.Features.IMAGE_CDN_HOST_PREFIX)}function canStartExperiment(t){return S(t,p.a.Permissions.START_EXPERIMENT)}function canUnarchiveExperiment(t){return S(t,p.a.Permissions.ARCHIVE_EXPERIMENT)}function canUseFullStackExperiments(t){return C(t,p.a.Features.FULL_STACK_EXPERIMENTS)}function canArchiveAudience(t){return S(t,p.a.Permissions.MODIFY_AUDIENCE)}function canCreateAudience(t){return S(t,p.a.Permissions.CREATE_AUDIENCE)}function canViewAudience(t){return S(t,p.a.Permissions.VIEW_AUDIENCE)}function canEditAudience(t){return S(t,p.a.Permissions.MODIFY_AUDIENCE)}function canCreateLayer(t){return S(t,p.a.Permissions.CREATE_LAYER)}function canDeleteLayer(t){return S(t,p.a.Permissions.DELETE_LAYER)}function canUpdateLayer(t){return S(t,p.a.Permissions.UPDATE_LAYER)}function canViewLayer(t){return S(t,p.a.Permissions.VIEW_LAYER)}function canPublishLayer(t){return this.canCreateCommit(t)&&this.canUpdateCommit(t)&&this.canCreateLiveCommitTag(t)&&this.canUpdateLiveCommitTag(t)}function canDeactivateLayer(t){return this.canUpdateLiveCommitTag(t)}function canCreateLayerExperiment(t){return S(t,p.a.Permissions.CREATE_LAYER_EXPERIMENT)}function canDeleteLayerExperiment(t){return S(t,p.a.Permissions.DELETE_LAYER_EXPERIMENT)}var A=function canUpdateLayerExperiment(t){return S(t,p.a.Permissions.UPDATE_LAYER_EXPERIMENT)};function canUpdateLayerExperimentWithExtension(t){return S(t,p.a.Permissions.UPDATE_LAYER_EXPERIMENT_WITH_EXTENSION)}function canViewLayerExperiment(t){return S(t,p.a.Permissions.VIEW_LAYER_EXPERIMENT)}function canCreateCommit(t){return S(t,p.a.Permissions.CREATE_COMMIT)}function canUpdateCommit(t){return S(t,p.a.Permissions.UPDATE_COMMIT)}function canViewCommit(t){return S(t,p.a.Permissions.VIEW_COMMIT)}function canCreateLiveCommitTag(t){return S(t,p.a.Permissions.CREATE_LIVE_COMMIT_TAG)}function canUpdateLiveCommitTag(t){return S(t,p.a.Permissions.UPDATE_LIVE_COMMIT_TAG)}function canViewLiveCommitTag(t){return S(t,p.a.Permissions.VIEW_LIVE_COMMIT_TAG)}function canCreateUserEvent(t){return S(t,p.a.Permissions.CREATE_USER_EVENT)}function canDeleteUserEvent(t){return S(t,p.a.Permissions.DELETE_USER_EVENT)}function canUpdateUserEvent(t){return S(t,p.a.Permissions.UPDATE_USER_EVENT)}function canViewUserEvent(t){return S(t,p.a.Permissions.VIEW_USER_EVENT)}function canUseFullStackEvents(t){return C(t,p.a.Features.FULL_STACK_EVENTS)}function canCreateTag(t){return S(t,p.a.Permissions.CREATE_TAG)}function canDeleteTag(t){return S(t,p.a.Permissions.DELETE_TAG)}function canUpdateTag(t){return S(t,p.a.Permissions.UPDATE_TAG)}function canViewTag(t){return S(t,p.a.Permissions.VIEW_TAG)}function canCreateView(t){return S(t,p.a.Permissions.CREATE_VIEW)}function canDeleteView(t){return S(t,p.a.Permissions.DELETE_VIEW)}function canUpdateView(t){return S(t,p.a.Permissions.UPDATE_VIEW)}function canViewView(t){return S(t,p.a.Permissions.VIEW_VIEW)}var O=function canUsePlugins(t,r){return I(p.a.Features.PLUGINS,t,r)};function canUseAnalyticsIntegrationExtensions(t,r){return I(p.a.Features.ANALYTICS_EXTENSIONS,t,r)}function canUseEventExtensions(t){return C(t,p.a.Features.EVENT_EXTENSIONS)}function canUseEdgeProjectSettings(t){return y.default.getDeliveryModeOrProjectType(t)===h.default.delivery_modes.EDGE}function canUseSelectContainer(t){return C(t,p.a.Features.SELECT_CONTAINER)}function canTargetBehavior(t){return C(t,p.a.Features.BEHAVIORAL_TARGETING)}function canCreateCustomAttribute(t){return S(t,p.a.Permissions.CREATE_CUSTOM_ATTRIBUTE)}function canDeleteCustomAttribute(t){return S(t,p.a.Permissions.DELETE_CUSTOM_ATTRIBUTE)}function canEditCustomAttribute(t){return S(t,p.a.Permissions.MODIFY_CUSTOM_ATTRIBUTE)}function canUseDatasources(t,r){return y.default.isWebProject(r)&&I(p.a.Features.DYNAMIC_CUSTOMER_PROFILE,t,r)}function canAccountUseDatasources(t){return C(t,p.a.Features.DYNAMIC_CUSTOMER_PROFILE)}function canUseCustomAttributes(t,r){return y.default.isCustomProject(r)||I(p.a.Features.CUSTOM_ATTRIBUTES,t,r)}function canCreateListAttributes(t){return y.default.isWebProject(t)&&S(t,p.a.Permissions.MANAGE_USER_LIST)}function canEditListAttributes(t){return y.default.isWebProject(t)&&S(t,p.a.Permissions.MANAGE_USER_LIST)}function canUseListAttributes(t,r){return y.default.isWebProject(r)&&I(p.a.Features.LIST_ATTRIBUTE,t,r)}function canEditIntegrationForProject(t){return S(t,p.a.Permissions.EDIT_PROJECT_INTEGRATION)}function canUseIntegration(t,r){return C(t,r)}function canUseScheduler(t){return C(t,p.a.Features.SCHEDULING)}function canCreateGroup(t){return S(t,p.a.Permissions.CREATE_EXPERIMENT_GROUP)}function canUseGroups(t){return o.a.includes(t.project_platforms,p.a.ProjectPlatforms.CUSTOM)}function canArchiveGroup(t){return S(t,p.a.Permissions.DELETE_EXPERIMENT_GROUP)}function canEditGroup(t){return S(t,p.a.Permissions.UPDATE_EXPERIMENT_GROUP)}function canCrossBrowserTest(t){return C(t,p.a.Features.CROSS_BROWSER_TESTING)}function canExportEvents(t){return S(t,p.a.Permissions.EXPORT_EVENTS)}function canUseCustomSegments(t,r){return I(p.a.Features.CUSTOM_SEGMENTS,t,r)}function canUseDatafileAuthentication(t,r,a){return a||C(t,p.a.Features.SECURE_ENVIRONMENTS)}function canEnableDatafileAuthentication(t){return t}function canModifyAccountTokens(t){return S(t,p.a.Permissions.MODIFY_ACCOUNT_TOKENS)}function canShowBilling(t){return S(t,p.a.Permissions.BILLING)}function canGenerateToken(t){return S(t,p.a.Permissions.MODIFY_ACCOUNT_TOKENS)}function canUseWebEditorDrawer(t){return S(t,p.a.Permissions.VUE_EDITOR_DRAWER)}function canDebugEditor(t){return S(t,p.a.Permissions.EDITOR_DEBUG)}function canManageBearerToken(t){return C(t,p.a.Permissions.MANAGE_BEARER_TOKEN)}function canDuplicateAcrossProjects(t){return C(t,p.a.Features.CROSS_PROJECT_DUPLICATION)}function hasRestAPIAccess(t){return C(t,p.a.Features.REST_API)}function canManageOAuthClient(t){return C(t,p.a.Permissions.MANAGE_OAUTH_CLIENT)}function canViewOAuthClient(t){return C(t,p.a.Permissions.VIEW_OAUTH_CLIENT)}function canEditAccount(t){return C(t,p.a.Permissions.EDIT_PROJECT)}function canShowAccountBilling(t){return C(t,p.a.Permissions.BILLING)}function canEnableAccountTwoFactorAuth(t){return C(t,p.a.Features.ACCOUNT_TWO_FACTOR_AUTH)}function canEnableUserTwoFactorAuth(t){return C(t,p.a.Features.USER_TWO_FACTOR_AUTH)}function canCreateSubjectAccessRequest(t){return C(t,p.a.Permissions.CREATE_SAR)}function canReadSubjectAccessRequest(t){return C(t,p.a.Permissions.READ_SAR)}var P=function canUseAdaptiveAudiences(t,r){var a=C(t,p.a.Features.ADAPTIVE_AUDIENCES),i=y.default.isWebProject(r)&&T(r,p.a.Features.ADAPTIVE_AUDIENCES);return a&&i},R=function canUseMultiArmedBandits(t,r){var a=C(t,p.a.Features.BANDITS_V2),i=T(r,p.a.Features.BANDITS_V2);return a&&i},w=function canUseStatsAccelerator(t,r){var a=C(t,p.a.Features.STATS_ACCELERATOR),i=T(r,p.a.Features.STATS_ACCELERATOR);return a&&i},N=function canUseConcurrentEditing(t){return C(t,p.a.Features.CONCURRENT_EDITING)},L=function canUseObserveChangesIndefinitely(t){return C(t,p.a.Features.OBSERVE_CHANGES_INDEFINITELY)},x=function canCreateSnippet(t){return S(t,p.a.Permissions.CREATE_SNIPPET)},D=function canDeleteSnippet(t){return S(t,p.a.Permissions.DELETE_SNIPPET)},k=function canUpdateSnippet(t){return S(t,p.a.Permissions.UPDATE_SNIPPET)},j=function canUseSnippets(t){return C(t,p.a.Features.SNIPPETS)},M=function canViewSnippet(t){return S(t,p.a.Permissions.VIEW_SNIPPET)},U=function canUseShareProjects(t,r){return I(p.a.Features.SHAREABLE_PROJECTS,t,r)};function canUseServerSideTesting(t){return C(t,p.a.Features.SERVER_SIDE_TESTING)}var V=function canViewUsersTab(t){return C(t,p.a.Permissions.VIEW_USER_ACCOUNTS)},B=function canDeleteUser(t){return C(t,p.a.Permissions.DELETE_USER_ACCOUNTS)},G=function canUpdateUser(t){return C(t,p.a.Permissions.UPDATE_USER_ACCOUNTS)};function canUseMobileSDKs(t){return C(t,p.a.Features.MOBILE)}function canUseFullStackSDKs(t){return C(t,p.a.Features.FULL_STACK)}function canUseOverTheTopSDKs(t){return C(t,p.a.Features.OTT)}function canUseOasis(){return!1}function canSeeNewYorkTimesFeatures(t){return o.a.includes([3013110282,5935064],t)||!1}function canManageWebhooks(t){return S(t,p.a.Permissions.MANAGE_WEBHOOK)}function canViewVariationsInP13N(t,r){if(!r)return!1;if(g.default.isABTestLayer(r.toJS()))return!1;if(S(t,p.a.Features.CONTINUOUS_OPTIMIZATION_DASHBOARD))return!0;var a=r.get("created");if(!o.a.isString(a))return!1;var i=l()(a);return!!i.isValid()&&_.isBefore(i)}function canChangeSnippetBundlingConfiguration(t){return S(t,p.a.Permissions.SNIPPET_BUNDLING_CONFIGURATION)}function canCreateShareTokens(t){return S(t,p.a.Permissions.MODIFY_SHARE_TOKENS)}function canViewShareTokens(t){return S(t,p.a.Permissions.VIEW_SHARE_TOKENS)}function canUseCrossProjectMetrics(t,r){return I(p.a.Features.CROSS_PROJECT_METRICS,t,r)}function canArchiveVariable(){return!0}function canCreateVariable(){return!0}function canEditVariable(){return!0}function canManageFeatureFlags(t){return S(t,p.a.Permissions.MANAGE_FEATURE_FLAG)}var H=function shouldDisableEditorIframePreload(t){return I(p.a.Features.DISABLE_EDITOR_IFRAME_PRELOAD,t)};function canLaunchExperiment(t){return C(t,p.a.Features.LAUNCH_EXPERIMENT)}var z=function canUseMutex(t,r){return I(p.a.Features.MUTEX,t,r)};function canMultivariateTestInX(t,r){return I(p.a.Features.MVT_X,t,r)}function canMultivariateTestInXFullStack(t){return C(t,p.a.Features.MVT_X_FULLSTACK)}function canUseFeatureFlags(t){return C(t,p.a.Features.FEATURE_FLAGS)}function canUseFeatureRollouts(t){return C(t,p.a.Features.FEATURE_FLAGS)&&C(t,p.a.Features.FEATURE_ROLLOUTS)}function canCurrentProjectUseTargetedRollouts(t,r){return r||C(t,p.a.Features.TARGETED_ROLLOUTS)}function canUseUrlTargeting(t){return C(t,p.a.Features.URL_TARGETING)}function canUseTeamsWorkflow(t){return C(t,p.a.Features.ENABLE_TEAMS_WORKFLOW)}function shouldPublishLayerOnly(t){return C(t,p.a.Features.PUBLISH_LAYER_ONLY)}var W=function canResetResults(t){return S(t,p.a.Permissions.RESET_RESULTS)},q=function canUseOutlierFiltering(t,r){var a=C(t,p.a.Features.OUTLIER_FILTERING),i=C(t,p.a.Features.OUTLIER_FILTERING_GA);if(!r)return i||a;var o=(r.get("earliest")&&l()(r.get("earliest"))||l()()).isBefore(v.a.OUTLIER_FILTERING_CUTOFF_DATE);return g.default.isABTestLayer(r)&&(a||i&&!o)},Y=function canUseEnvironments(t){return C(t,p.a.Features.ENVIRONMENTS)},K=function canUsePartialFactorial(t,r){return I(p.a.Features.MVT_X_PARTIAL_FACTORIAL,t,r)},J=function canModifyRunningExperiment(t){return S(t,p.a.Permissions.MODIFY_RUNNING_EXPERIMENT)},X=function canManageManifest(t){return S(t,p.a.Permissions.MANAGE_MANIFEST)},$=function canUseFeatureManagement(t){return C(t,p.a.Features.FEATURE_MANAGEMENT)},Q=function canUseFeatureTests(t,r){return!!r&&$(t)},Z=function canUseFullStackBotFiltering(t){return C(t,p.a.Features.FULL_STACK_BOT_FILTERING)},ee=function isMobileOnlyAccount(t){return C(t,p.a.Features.MOBILE)&&!C(t,p.a.Features.FULL_STACK)&&!C(t,p.a.Features.AB_TESTING_V2)&&!C(t,p.a.Features.OTT)},te=function canUseCustomAudienceIntegrations(t){return C(t,p.a.Features.CUSTOM_AUDIENCE_INTEGRATIONS)},ne=function canUpdateJiraLinks(t){return S(t,p.a.Permissions.UPDATE_ATLASSIAN_LINKS)},re=function canUseAsyncChanges(t){return T(t,p.a.Features.ASYNC_CHANGES)},ae=function canUseChangeDependencies(t){return T(t,p.a.Features.CHANGE_DEPENDENCIES)},ie=function canUseFeatureVariables(t){return C(t,p.a.Features.FEATURE_MANAGEMENT_VARIABLES)},oe=function canUseFullStackAdvancedSettings(t){return C(t,p.a.Features.FULL_STACK_ADVANCED_SETTINGS)},se=function canUseAdvancedPageSettings(t){return T(t,p.a.Features.ADVANCED_PAGE_SETTINGS)},ce=function canUseViewActivationModeCallback(t){return T(t,p.a.Features.ACTIVATION_MODE_CALLBACK)},le=function canUseViewActivationModeDomChanged(t){return T(t,p.a.Features.ACTIVATION_MODE_DOM_CHANGED)},ue=function canUseViewActivationModeManual(t){return T(t,p.a.Features.ACTIVATION_MODE_MANUAL)},de=function canUseViewActivationModePolling(t){return T(t,p.a.Features.ACTIVATION_MODE_POLLING)},fe=function canUseViewActivationModeUrlChanged(t){return T(t,p.a.Features.ACTIVATION_MODE_URL_CHANGED)},pe=function canUseViewConditionCustomCode(t){return T(t,p.a.Features.VIEW_CONDITION_CUSTOM_CODE)},me=function canUseViewConditionElementPresent(t){return T(t,p.a.Features.VIEW_CONDITION_ELEMENT_PRESENT)},ge=function shouldUpsellPersonalization(t){return T(t,p.a.Features.PERSONALIZATION)},he=function canUseVisualTags(t){return T(t,p.a.Features.VISUAL_TAGS)},ye=function canUsePreview(t){return T(t,p.a.Features.PREVIEW)},ve=function canUseLayerIntegrations(t){return T(t,p.a.Features.LAYER_INTEGRATIONS)},_e=function canUseWebStickyBucketing(t){return T(t,p.a.Features.WEB_STICKY_BUCKETING)},Ee=function canUseOnlineTickets(t){return C(t,p.a.Features.ONLINE_TICKETS)};function canUseLayerTableRowActions(t,r){return this.canPublishLayer(r)||this.canDeactivateLayer(r)||this.canDeleteLayer(r)||this.canDuplicateAcrossProjects(t)}r.default=_extends({},!1,!1,!1,!1,!1,!1,{getChangeHistoryLimit:function getChangeHistoryLimit(t){return t&&b(t.getIn(["change-history","days_limit"]))},getNumberOfSeatsLimit:function getNumberOfSeatsLimit(t){return t&&b(t.getIn(["number-of-seats","seats_limit"]))},getTargetedRolloutsRulesLimit:function getTargetedRolloutsRulesLimit(t){return t&&b(t.getIn(["targeted-rollouts","rules_limit"]))},canAccountUseDatasources:canAccountUseDatasources,canUsePersonalization:canUsePersonalization,canUseABTesting:canUseABTesting,canUseABTestingV2:canUseABTestingV2,canViewOptimizelyX:canViewOptimizelyX,canUseOptimizelyX:canUseOptimizelyX,canUseXWeb:canUseXWeb,canUseEdgeProjects:canUseEdgeProjects,canUseFullStackMultipleProjects:canUseFullStackMultipleProjects,canUseLayerTableRowActions:canUseLayerTableRowActions,canUseProjects:canUseProjects,canUseEventInspector:canUseEventInspector,canUseFullStackFlagDecisions:canUseFullStackFlagDecisions,canUseRecommendations:canUseRecommendations,canManageRecommendations:canManageRecommendations,canCreateProject:canCreateProject,hasCreateProjectPermission:hasCreateProjectPermission,canEditProject:canEditProject,canEditShareProjects:canEditShareProjects,canUseProjectJS:canUseProjectJS,canMigrateToFlags:canMigrateToFlags,canAddCollaborator:canAddCollaborator,canEditCollaborator:canEditCollaborator,canRemoveCollaboratorFromAccount:canRemoveCollaboratorFromAccount,canUseCollaborators:canUseCollaborators,canViewCollaborators:canViewCollaborators,canArchiveExperiment:canArchiveExperiment,canCreateExperiment:canCreateExperiment,canEditExperiment:canEditExperiment,canDeleteExperiment:canDeleteExperiment,canPauseExperiment:canPauseExperiment,canSetImageCdnHostPrefix:canSetImageCdnHostPrefix,canStartExperiment:canStartExperiment,canUnarchiveExperiment:canUnarchiveExperiment,canUseFullStackExperiments:canUseFullStackExperiments,canUseFeatureTests:Q,canArchiveAudience:canArchiveAudience,canCreateAudience:canCreateAudience,canViewAudience:canViewAudience,canEditAudience:canEditAudience,canCreateLayer:canCreateLayer,canDeleteLayer:canDeleteLayer,canUpdateLayer:canUpdateLayer,canViewLayer:canViewLayer,canPublishLayer:canPublishLayer,canDeactivateLayer:canDeactivateLayer,canCreateLayerExperiment:canCreateLayerExperiment,canDeleteLayerExperiment:canDeleteLayerExperiment,canUpdateLayerExperiment:A,canUpdateLayerExperimentWithExtension:canUpdateLayerExperimentWithExtension,canViewLayerExperiment:canViewLayerExperiment,canCreateCommit:canCreateCommit,canUpdateCommit:canUpdateCommit,canViewCommit:canViewCommit,canCreateLiveCommitTag:canCreateLiveCommitTag,canUpdateLiveCommitTag:canUpdateLiveCommitTag,canViewLiveCommitTag:canViewLiveCommitTag,canCreateUserEvent:canCreateUserEvent,canDeleteUserEvent:canDeleteUserEvent,canUpdateUserEvent:canUpdateUserEvent,canViewUserEvent:canViewUserEvent,canUseFullStackEvents:canUseFullStackEvents,canCreateTag:canCreateTag,canDeleteTag:canDeleteTag,canUpdateTag:canUpdateTag,canViewTag:canViewTag,canCreateView:canCreateView,canDeleteView:canDeleteView,canUpdateView:canUpdateView,canViewView:canViewView,canUsePlugins:O,canUseAnalyticsIntegrationExtensions:canUseAnalyticsIntegrationExtensions,canUseEventExtensions:canUseEventExtensions,canUseEdgeProjectSettings:canUseEdgeProjectSettings,canUseSelectContainer:canUseSelectContainer,canTargetBehavior:canTargetBehavior,canCreateCustomAttribute:canCreateCustomAttribute,canDeleteCustomAttribute:canDeleteCustomAttribute,canEditCustomAttribute:canEditCustomAttribute,canUseDatasources:canUseDatasources,canUseCustomAttributes:canUseCustomAttributes,canCreateListAttributes:canCreateListAttributes,canEditListAttributes:canEditListAttributes,canUseListAttributes:canUseListAttributes,canEditIntegrationForProject:canEditIntegrationForProject,canUseIntegration:canUseIntegration,canUseScheduler:canUseScheduler,canCreateGroup:canCreateGroup,canUseGroups:canUseGroups,canArchiveGroup:canArchiveGroup,canEditGroup:canEditGroup,canCrossBrowserTest:canCrossBrowserTest,canExportEvents:canExportEvents,canUseCustomSegments:canUseCustomSegments,canEnableDatafileAuthentication:canEnableDatafileAuthentication,canUseDatafileAuthentication:canUseDatafileAuthentication,canModifyAccountTokens:canModifyAccountTokens,canShowBilling:canShowBilling,canGenerateToken:canGenerateToken,canUseWebEditorDrawer:canUseWebEditorDrawer,canDebugEditor:canDebugEditor,canManageBearerToken:canManageBearerToken,canDuplicateAcrossProjects:canDuplicateAcrossProjects,hasRestAPIAccess:hasRestAPIAccess,canManageOAuthClient:canManageOAuthClient,canViewOAuthClient:canViewOAuthClient,canEditAccount:canEditAccount,canShowAccountBilling:canShowAccountBilling,canEnableAccountTwoFactorAuth:canEnableAccountTwoFactorAuth,canEnableUserTwoFactorAuth:canEnableUserTwoFactorAuth,canCreateSubjectAccessRequest:canCreateSubjectAccessRequest,canReadSubjectAccessRequest:canReadSubjectAccessRequest,canUseAdaptiveAudiences:P,canUseConcurrentEditing:N,canUseObserveChangesIndefinitely:L,canUseSnippets:j,canCreateSnippet:x,canViewSnippet:M,canUpdateSnippet:k,canDeleteSnippet:D,canUseShareProjects:U,canUseAsyncChanges:re,canUseChangeDependencies:ae,canUseServerSideTesting:canUseServerSideTesting,canViewUsersTab:V,canUpdateUser:G,canDeleteUser:B,canUseMobileSDKs:canUseMobileSDKs,canUseFullStackSDKs:canUseFullStackSDKs,canUseOverTheTopSDKs:canUseOverTheTopSDKs,canUseOasis:canUseOasis,canSeeNewYorkTimesFeatures:canSeeNewYorkTimesFeatures,canManageWebhooks:canManageWebhooks,canViewVariationsInP13N:canViewVariationsInP13N,canChangeSnippetBundlingConfiguration:canChangeSnippetBundlingConfiguration,canCreateShareTokens:canCreateShareTokens,canViewShareTokens:canViewShareTokens,canUseCrossProjectMetrics:canUseCrossProjectMetrics,canArchiveVariable:canArchiveVariable,canCreateVariable:canCreateVariable,canEditVariable:canEditVariable,canManageFeatureFlags:canManageFeatureFlags,shouldDisableEditorIframePreload:H,canLaunchExperiment:canLaunchExperiment,canUseMultiArmedBandits:R,canUseStatsAccelerator:w,canUseMutex:z,canMultivariateTestInX:canMultivariateTestInX,canMultivariateTestInXFullStack:canMultivariateTestInXFullStack,canUseFeatureFlags:canUseFeatureFlags,canUseFeatureRollouts:canUseFeatureRollouts,canCurrentProjectUseTargetedRollouts:canCurrentProjectUseTargetedRollouts,canUseUrlTargeting:canUseUrlTargeting,canUseTeamsWorkflow:canUseTeamsWorkflow,shouldPublishLayerOnly:shouldPublishLayerOnly,canResetResults:W,canUseOutlierFiltering:q,canUseEnvironments:Y,canUsePartialFactorial:K,canModifyRunningExperiment:J,canManageManifest:X,canUseFeatureManagement:$,canUseFullStackBotFiltering:Z,isMobileOnlyAccount:ee,canUseCustomAudienceIntegrations:te,canUpdateJiraLinks:ne,canUseFeatureVariables:ie,canUseFullStackAdvancedSettings:oe,canUseAdvancedPageSettings:se,canUseViewActivationModeCallback:ce,canUseViewActivationModeDomChanged:le,canUseViewActivationModeManual:ue,canUseViewActivationModePolling:de,canUseViewActivationModeUrlChanged:fe,canUseViewConditionCustomCode:pe,canUseViewConditionElementPresent:me,canUseVisualTags:he,canUsePreview:ye,canUseLayerIntegrations:ve,canUseWebStickyBucketing:_e,canUseOnlineTickets:Ee,shouldUpsellPersonalization:ge})},function(t,r,a){"use strict";a.r(r);var i=a(117);a.d(r,"actions",(function(){return i.default}));var o=a(144);a.d(r,"constants",(function(){return o}));var c=a(460);a.d(r,"entityDef",(function(){return c.a}));var l=a(21);a.d(r,"enums",(function(){return l}));var u=a(238);a.d(r,"humanReadable",(function(){return u}));var d=a(83);a.d(r,"fns",(function(){return d.default}));var p=a(136);a.d(r,"getters",(function(){return p.default})),r.default={actions:i.default,constants:o,entityDef:c.a,enums:l,humanReadable:u,fns:d.default,getters:p.default}},function(t,r,a){"use strict";a.r(r),a.d(r,"projectUrl",(function(){return projectUrl})),a.d(r,"xProjectHome",(function(){return xProjectHome})),a.d(r,"xWebHome",(function(){return xWebHome})),a.d(r,"xFullStackHome",(function(){return xFullStackHome})),a.d(r,"projectChangeHistory",(function(){return projectChangeHistory})),a.d(r,"projectHistory",(function(){return projectHistory})),a.d(r,"changeHistoryLog",(function(){return changeHistoryLog})),a.d(r,"groups",(function(){return groups})),a.d(r,"pagesHome",(function(){return pagesHome})),a.d(r,"eventsHome",(function(){return eventsHome})),a.d(r,"eventsEdit",(function(){return eventsEdit})),a.d(r,"metricsHome",(function(){return metricsHome})),a.d(r,"extensionsHome",(function(){return extensionsHome})),a.d(r,"eventInspector",(function(){return eventInspector})),a.d(r,"audiencesHome",(function(){return audiencesHome})),a.d(r,"audiencesEdit",(function(){return audiencesEdit})),a.d(r,"extensionsEdit",(function(){return extensionsEdit})),a.d(r,"projectIntegrationSettings",(function(){return projectIntegrationSettings})),a.d(r,"customIntegrationEditor",(function(){return customIntegrationEditor})),a.d(r,"campaignHome",(function(){return campaignHome})),a.d(r,"campaignIntegrations",(function(){return campaignIntegrations})),a.d(r,"campaignMetrics",(function(){return campaignMetrics})),a.d(r,"campaignPages",(function(){return campaignPages})),a.d(r,"campaignCustomCode",(function(){return campaignCustomCode})),a.d(r,"campaignApiNames",(function(){return campaignApiNames})),a.d(r,"campaignHistory",(function(){return campaignHistory})),a.d(r,"campaignSettings",(function(){return campaignSettings})),a.d(r,"campaignEditor",(function(){return campaignEditor})),a.d(r,"experimentApiNames",(function(){return experimentApiNames})),a.d(r,"experimentHome",(function(){return experimentHome})),a.d(r,"experimentAudiences",(function(){return experimentAudiences})),a.d(r,"experimentHistory",(function(){return experimentHistory})),a.d(r,"experimentPages",(function(){return experimentPages})),a.d(r,"experimentIntegrations",(function(){return experimentIntegrations})),a.d(r,"experimentMetrics",(function(){return experimentMetrics})),a.d(r,"experimentSchedule",(function(){return experimentSchedule})),a.d(r,"experimentSharedCode",(function(){return experimentSharedCode})),a.d(r,"experimentSettings",(function(){return experimentSettings})),a.d(r,"experimentTrafficAllocation",(function(){return experimentTrafficAllocation})),a.d(r,"experimentVariations",(function(){return experimentVariations})),a.d(r,"experimentEditor",(function(){return experimentEditor})),a.d(r,"v1OptimizelyHome",(function(){return v1OptimizelyHome})),a.d(r,"accountSettings",(function(){return accountSettings})),a.d(r,"profileSettings",(function(){return profileSettings})),a.d(r,"projectSettings",(function(){return projectSettings})),a.d(r,"projectSettingsAdvanced",(function(){return projectSettingsAdvanced})),a.d(r,"projectSettingsCollaborators",(function(){return projectSettingsCollaborators})),a.d(r,"projectSettingsImplementation",(function(){return projectSettingsImplementation})),a.d(r,"projectSettingsIntegrations",(function(){return projectSettingsIntegrations})),a.d(r,"projectSettingsJavascript",(function(){return projectSettingsJavascript})),a.d(r,"projectSettingsLabs",(function(){return projectSettingsLabs})),a.d(r,"projectSettingsWebhooks",(function(){return projectSettingsWebhooks})),a.d(r,"projectSettingsMigration",(function(){return projectSettingsMigration})),a.d(r,"mvtHome",(function(){return mvtHome})),a.d(r,"mvtSectionsDashboard",(function(){return mvtSectionsDashboard})),a.d(r,"mvtCombinationsDashboard",(function(){return mvtCombinationsDashboard})),a.d(r,"mvtExperimentEditor",(function(){return mvtExperimentEditor})),a.d(r,"mvtPages",(function(){return mvtPages})),a.d(r,"mvtAudiences",(function(){return mvtAudiences})),a.d(r,"mvtTrafficAllocation",(function(){return mvtTrafficAllocation})),a.d(r,"mvtIntegrations",(function(){return mvtIntegrations})),a.d(r,"mvtMetrics",(function(){return mvtMetrics})),a.d(r,"mvtCustomCode",(function(){return mvtCustomCode})),a.d(r,"mvtSchedule",(function(){return mvtSchedule})),a.d(r,"mvtApiNames",(function(){return mvtApiNames})),a.d(r,"mvtHistory",(function(){return mvtHistory})),a.d(r,"mvtSettings",(function(){return mvtSettings})),a.d(r,"getTeamsHostname",(function(){return getTeamsHostname})),a.d(r,"programManagementTeams",(function(){return programManagementTeams})),a.d(r,"layerResults",(function(){return layerResults})),a.d(r,"layerExperimentResults",(function(){return layerExperimentResults})),a.d(r,"experimentResults",(function(){return experimentResults})),a.d(r,"mvtRollupResults",(function(){return mvtRollupResults})),a.d(r,"rolloutsHome",(function(){return rolloutsHome})),a.d(r,"variablesHome",(function(){return variablesHome})),a.d(r,"featuresOldHome",(function(){return featuresOldHome})),a.d(r,"featuresHome",(function(){return featuresHome})),a.d(r,"flagsHome",(function(){return flagsHome})),a.d(r,"reportsHome",(function(){return reportsHome})),a.d(r,"editFeature",(function(){return editFeature})),a.d(r,"featureManagerRules",(function(){return featureManagerRules})),a.d(r,"featureManagerVariables",(function(){return featureManagerVariables})),a.d(r,"featureManagerExperimentUsage",(function(){return featureManagerExperimentUsage})),a.d(r,"featureManagerHistory",(function(){return featureManagerHistory})),a.d(r,"featureManagerSettings",(function(){return featureManagerSettings})),a.d(r,"featureManagerSDKSetup",(function(){return featureManagerSDKSetup})),a.d(r,"fullStackOnboarding",(function(){return fullStackOnboarding})),a.d(r,"manageProjectsPage",(function(){return manageProjectsPage})),a.d(r,"manageAccountUsersPage",(function(){return manageAccountUsersPage})),a.d(r,"manageAccountSnippetsPage",(function(){return manageAccountSnippetsPage})),a.d(r,"manageAccountPlanPage",(function(){return manageAccountPlanPage})),a.d(r,"manageAccountBillingPage",(function(){return manageAccountBillingPage})),a.d(r,"manageAccountPlanBillingPage",(function(){return manageAccountPlanBillingPage})),a.d(r,"manageAccountPlanUsagePage",(function(){return manageAccountPlanUsagePage})),a.d(r,"manageAccountSecurityPage",(function(){return manageAccountSecurityPage})),a.d(r,"manageAccountDcpServicesPage",(function(){return manageAccountDcpServicesPage})),a.d(r,"manageAccountRegisteredAppsPage",(function(){return manageAccountRegisteredAppsPage})),a.d(r,"manageAccountOptimizelyClassicPage",(function(){return manageAccountOptimizelyClassicPage})),a.d(r,"manageAccountSubjectAccessRequestsPage",(function(){return manageAccountSubjectAccessRequestsPage})),a.d(r,"profilePreferencesUrl",(function(){return profilePreferencesUrl})),a.d(r,"profileNotificationsUrl",(function(){return profileNotificationsUrl})),a.d(r,"profileAPIAccessUrl",(function(){return profileAPIAccessUrl})),a.d(r,"resultsCSV",(function(){return resultsCSV})),a.d(r,"signout",(function(){return signout})),a.d(r,"welcomePage",(function(){return welcomePage})),a.d(r,"fullStackManagerVariations",(function(){return fullStackManagerVariations})),a.d(r,"fullStackManagerAudiences",(function(){return fullStackManagerAudiences})),a.d(r,"fullStackManagerMetrics",(function(){return fullStackManagerMetrics})),a.d(r,"fullStackManagerTrafficAllocation",(function(){return fullStackManagerTrafficAllocation})),a.d(r,"fullStackManagerWhitelist",(function(){return fullStackManagerWhitelist})),a.d(r,"fullStackManagerApiNames",(function(){return fullStackManagerApiNames})),a.d(r,"fullStackManagerHistory",(function(){return fullStackManagerHistory})),a.d(r,"fullStackManagerSettings",(function(){return fullStackManagerSettings})),a.d(r,"catalogDashboard",(function(){return catalogDashboard})),a.d(r,"recommenderDashboard",(function(){return recommenderDashboard})),a.d(r,"projectDrawerRouter",(function(){return projectDrawerRouter}));var i=a(42),o=a.n(i),c=a(123),l=a.n(c),u=a(497),d=a.n(u),p=a(691),m=a(10),g=a(7),h=a(182),y=a.n(h);function projectUrl(t){var r=Object.assign({manifestVersion:g.default.manifestVersions.V2},t),a=r.projectId,i=r.projectPlatform,o=r.manifestVersion,c=r.activeNavItem;return i===g.default.project_platforms.ANDROID||i===g.default.project_platforms.IOS||i===g.default.project_platforms.CUSTOM&&o!==g.default.manifestVersions.V2?this.v1OptimizelyHome(a):i===g.default.project_platforms.CUSTOM&&o===g.default.manifestVersions.V2?this.xProjectHome(a,i):c===m.default.NavItems.AUDIENCES?this.audiencesHome(a):c===m.default.NavItems.PAGES?this.pagesHome(a):c===m.default.NavItems.SETTINGS?this.projectSettingsImplementation(a):this.xProjectHome(a,i)}function xProjectHome(t,r,a){return r===g.default.project_platforms.CUSTOM?a?flagsHome(t):xFullStackHome(t):xWebHome(t)}function xWebHome(t){return"/v2/projects/".concat(t)}function xFullStackHome(t){return"/v2/projects/".concat(t,"/experiments")}function projectChangeHistory(t){return"/v2/projects/".concat(t,"/changes")}function projectHistory(t){return"/v2/projects/".concat(t,"/history")}function changeHistoryLog(t,r){return l.a.optimizelyHRDUrl("".concat(t,"?id=").concat(r))}function groups(t){return"/v2/projects/".concat(t,"/groups")}function pagesHome(t){return"/v2/projects/".concat(t,"/implementation/pages")}function eventsHome(t){return"/v2/projects/".concat(t,"/implementation/events")}function eventsEdit(t,r,a){return"/v2/projects/".concat(t,"/implementation/events/").concat(r,"/").concat(a)}function metricsHome(t){return"/v2/projects/".concat(t,"/implementation/metrics")}function extensionsHome(t){return"/v2/projects/".concat(t,"/implementation/extensions")}function eventInspector(t){return"/v2/projects/".concat(t,"/implementation/inspector")}function audiencesHome(t){return"/v2/projects/".concat(t,"/audiences")}function audiencesEdit(t,r){return"/v2/projects/".concat(t,"/audiences/").concat(r,"/")}function extensionsEdit(t,r){return"/v2/projects/".concat(t,"/extensions/").concat(r)}function projectIntegrationSettings(t){return"/v2/projects/".concat(t,"/settings/integrations")}function customIntegrationEditor(t,r){return"/v2/projects/".concat(t,"/settings/integrations/").concat(r)}function campaignHome(t,r){return"/v2/projects/".concat(t,"/campaigns/").concat(r)}function campaignIntegrations(t,r){return"/v2/projects/".concat(t,"/campaigns/").concat(r,"/integrations")}function campaignMetrics(t,r){return"/v2/projects/".concat(t,"/campaigns/").concat(r,"/metrics")}function campaignPages(t,r){return"/v2/projects/".concat(t,"/campaigns/").concat(r,"/pages")}function campaignCustomCode(t,r){return"/v2/projects/".concat(t,"/campaigns/").concat(r,"/custom_code")}function campaignApiNames(t,r){return"/v2/projects/".concat(t,"/campaigns/").concat(r,"/api_names")}function campaignHistory(t,r){return"/v2/projects/".concat(t,"/campaigns/").concat(r,"/history")}function campaignSettings(t,r){return"/v2/projects/".concat(t,"/campaigns/").concat(r,"/settings")}function campaignEditor(t,r,a,i){return"/v2/projects/".concat(t,"/campaigns/").concat(r,"/experiments/").concat(a,"/variations/").concat(i)}function experimentApiNames(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/api_names")}function experimentHome(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r)}function experimentAudiences(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/audiences")}function experimentHistory(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/history")}function experimentPages(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/pages")}function experimentIntegrations(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/integrations")}function experimentMetrics(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/metrics")}function experimentSchedule(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/schedule")}function experimentSharedCode(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/shared_code")}function experimentSettings(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/settings")}function experimentTrafficAllocation(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/traffic_allocation")}function experimentVariations(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/variations")}function experimentEditor(t,r,a){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/variations/").concat(a)}function v1OptimizelyHome(t){return l.a.optimizelyHRDUrl("/projects/".concat(t))}function accountSettings(){return l.a.optimizelyHRDUrl("/v2/accountsettings")}function profileSettings(){return l.a.optimizelyHRDUrl("/v2/profile")}function projectSettings(t){return"/v2/projects/".concat(t,"/settings")}function projectSettingsAdvanced(t){return"/v2/projects/".concat(t,"/settings/advanced")}function projectSettingsCollaborators(t){return"/v2/projects/".concat(t,"/settings/collaborators")}function projectSettingsImplementation(t){return"/v2/projects/".concat(t,"/settings/implementation")}function projectSettingsIntegrations(t,r){var a="/v2/projects/".concat(t,"/settings/integrations");return r&&(a+="?integration_id=".concat(r)),a}function projectSettingsJavascript(t){return"/v2/projects/".concat(t,"/settings/javascript")}function projectSettingsLabs(t){return"/v2/projects/".concat(t,"/settings/labs")}function projectSettingsWebhooks(t){return"/v2/projects/".concat(t,"/settings/webhooks")}function projectSettingsMigration(t){return"/v2/projects/".concat(t,"/settings/migration")}function mvtHome(t,r){return"/v2/projects/".concat(t,"/multivariate/").concat(r)}function mvtSectionsDashboard(t,r){return"/v2/projects/".concat(t,"/multivariate/").concat(r,"/sections")}function mvtCombinationsDashboard(t,r){return"/v2/projects/".concat(t,"/multivariate/").concat(r,"/combinations")}function mvtExperimentEditor(t,r,a,i){return"/v2/projects/".concat(t,"/multivariate/").concat(r,"/sections/").concat(a,"/variations/").concat(i)}function mvtPages(t,r){return"/v2/projects/".concat(t,"/multivariate/").concat(r,"/pages")}function mvtAudiences(t,r){return"/v2/projects/".concat(t,"/multivariate/").concat(r,"/audiences")}function mvtTrafficAllocation(t,r){return"/v2/projects/".concat(t,"/multivariate/").concat(r,"/traffic_allocation")}function mvtIntegrations(t,r){return"/v2/projects/".concat(t,"/multivariate/").concat(r,"/integrations")}function mvtMetrics(t,r){return"/v2/projects/".concat(t,"/multivariate/").concat(r,"/metrics")}function mvtCustomCode(t,r){return"/v2/projects/".concat(t,"/multivariate/").concat(r,"/custom_code")}function mvtSchedule(t,r){return"/v2/projects/".concat(t,"/multivariate/").concat(r,"/schedule")}function mvtApiNames(t,r){return"/v2/projects/".concat(t,"/multivariate/").concat(r,"/api_names")}function mvtHistory(t,r){return"/v2/projects/".concat(t,"/multivariate/").concat(r,"/history")}function mvtSettings(t,r){return"/v2/projects/".concat(t,"/multivariate/").concat(r,"/settings")}function getTeamsHostname(){return"https://teams.optimizely.".concat(p.default.getSuffix())}function programManagementTeams(t){var r=getTeamsHostname();return"".concat(r).concat("/social-auth/login/optimizely/","?account_id=").concat(t,"&next=/accounts/").concat(t)}function layerResults(t,r,a){var i="/v2/projects/".concat(t,"/results/").concat(r),o=d.a.create(i);return a&&o.param(a),o.toString()}function layerExperimentResults(t,r,a,i){var o="/v2/projects/".concat(t,"/results/").concat(r,"/experiments/").concat(a),c=d.a.create(o);i&&c.param(i);var l=void 0===i.share_token;return c.toString(l)}function experimentResults(t,r,a){var i="/v2/projects/".concat(t,"/results/experiments/").concat(r),o=d.a.create(i);return a&&o.param(a),o.toString()}function mvtRollupResults(t,r,a,i){var o="/v2/projects/".concat(t,"/results/experiments/").concat(r,"/sections/").concat(a),c=d.a.create(o);return i&&c.param(i),c.toString()}function rolloutsHome(t){return"/v2/projects/".concat(t,"/rollouts")}function variablesHome(t){return"/v2/projects/".concat(t,"/live_variables")}function featuresOldHome(t){return"/v2/projects/".concat(t,"/feature_flags")}function featuresHome(t){return"/v2/projects/".concat(t,"/features")}function flagsHome(t){return"/v2/projects/".concat(t,"/flags")}function reportsHome(t){return"/v2/projects/".concat(t,"/reports")}function editFeature(t,r){return"/v2/projects/".concat(t,"/features/").concat(r)}function featureManagerRules(t,r){return"/v2/projects/".concat(t,"/features/").concat(r,"/rules")}function featureManagerVariables(t,r){return"/v2/projects/".concat(t,"/features/").concat(r,"/variables")}function featureManagerExperimentUsage(t,r){return"/v2/projects/".concat(t,"/features/").concat(r,"/experiment-usage")}function featureManagerHistory(t,r){return"/v2/projects/".concat(t,"/features/").concat(r,"/history")}function featureManagerSettings(t,r){return"/v2/projects/".concat(t,"/features/").concat(r,"/settings")}function featureManagerSDKSetup(t,r){return"/v2/projects/".concat(t,"/features/").concat(r,"/sdk-setup")}function fullStackOnboarding(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"node",i="/v2/projects/".concat(t,"/onboarding");return null!==r&&(i+="?step=".concat(r)),null!==a&&(i+="&language=".concat(a)),i}function manageProjectsPage(t){return t?l.a.optimizelyHRDUrl("/v2/accountsettings/projects"):"/v2/accountsettings/projects"}function manageAccountUsersPage(){return"/v2/accountsettings/users"}function manageAccountSnippetsPage(){return"/v2/accountsettings/snippets"}function manageAccountPlanPage(){return"/v2/accountsettings/account/plan"}function manageAccountBillingPage(){return"/v2/accountsettings/account/billing"}function manageAccountPlanBillingPage(){return"/v2/accountsettings/account/plan-billing"}function manageAccountPlanUsagePage(){return"/v2/accountsettings/account/usage"}function manageAccountSecurityPage(t){return t?l.a.optimizelyHRDUrl("/v2/accountsettings/security"):"/v2/accountsettings/security"}function manageAccountDcpServicesPage(){return"/v2/accountsettings/dcp-services"}function manageAccountRegisteredAppsPage(){return"/v2/accountsettings/registered-apps"}function manageAccountOptimizelyClassicPage(){return"/v2/accountsettings/classic"}function manageAccountSubjectAccessRequestsPage(){return"/v2/accountsettings/subject-access-requests"}function profilePreferencesUrl(){return"/v2/profile/preferences"}function profileNotificationsUrl(){return"/v2/profile/notifications"}function profileAPIAccessUrl(){return"/v2/profile/api"}function resultsCSV(t){var r=t.type,a=t.contentId,i=t.startTime,c=t.endTime,l=t.baselineVariationId,u=t.segmentConditions,d="start_time=".concat(i,"&end_time=").concat(c);l&&(d+="&baseline_variation_id=".concat(l)),u&&(d+="&segment_conditions=".concat(u));var p=o.a.get("env.PUBLIC_API_HOST_CSV").replace("https://","");return p?"//".concat(p,"/v2/export/").concat(r,"/").concat(a,"/results/csv?").concat(d):null}function signout(){return"/account/signout?landing_page=/v2"}function welcomePage(){return"/v2/welcome"}function fullStackManagerVariations(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/variations")}function fullStackManagerAudiences(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/audiences")}function fullStackManagerMetrics(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/metrics")}function fullStackManagerTrafficAllocation(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/traffic_allocation")}function fullStackManagerWhitelist(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/whitelist")}function fullStackManagerApiNames(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/api_names")}function fullStackManagerHistory(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/history")}function fullStackManagerSettings(t,r){return"/v2/projects/".concat(t,"/experiments/").concat(r,"/settings")}function catalogDashboard(t){return"/v2/projects/".concat(t,"/implementation/catalogs")}function recommenderDashboard(t){return"/v2/projects/".concat(t,"/implementation/recommenders")}function projectDrawerRouter(t,r){var a=t.get("id"),i=t.getIn(["project_platforms",0]),o=t.get("manifest_version"),c=t.get("is_flags_enabled");return i===g.default.project_platforms.ANDROID||i===g.default.project_platforms.IOS||i===g.default.project_platforms.CUSTOM&&o!==g.default.manifestVersions.V2?y.a.dashboardTab(a):i===g.default.project_platforms.CUSTOM&&o===g.default.manifestVersions.V2?xProjectHome(a,i,c):r===m.default.NavItems.AUDIENCES?audiencesHome(a):r===m.default.NavItems.PAGES?y.a.dataLayerTab(a):r===m.default.NavItems.SETTINGS?projectSettingsImplementation(a):xProjectHome(a,i)}r.default={projectUrl:projectUrl,xProjectHome:xProjectHome,xWebHome:xWebHome,xFullStackHome:xFullStackHome,fullStackOnboarding:fullStackOnboarding,projectHistory:projectHistory,changeHistoryLog:changeHistoryLog,groups:groups,pagesHome:pagesHome,eventInspector:eventInspector,eventsHome:eventsHome,eventsEdit:eventsEdit,metricsHome:metricsHome,extensionsHome:extensionsHome,audiencesHome:audiencesHome,audiencesEdit:audiencesEdit,extensionsEdit:extensionsEdit,projectIntegrationSettings:projectIntegrationSettings,customIntegrationEditor:customIntegrationEditor,campaignHome:campaignHome,campaignIntegrations:campaignIntegrations,campaignMetrics:campaignMetrics,campaignPages:campaignPages,campaignCustomCode:campaignCustomCode,campaignApiNames:campaignApiNames,campaignHistory:campaignHistory,campaignSettings:campaignSettings,campaignEditor:campaignEditor,experimentApiNames:experimentApiNames,experimentAudiences:experimentAudiences,experimentHistory:experimentHistory,experimentHome:experimentHome,experimentPages:experimentPages,experimentIntegrations:experimentIntegrations,experimentMetrics:experimentMetrics,experimentSchedule:experimentSchedule,experimentSettings:experimentSettings,experimentSharedCode:experimentSharedCode,experimentTrafficAllocation:experimentTrafficAllocation,experimentVariations:experimentVariations,experimentEditor:experimentEditor,v1OptimizelyHome:v1OptimizelyHome,accountSettings:accountSettings,profileSettings:profileSettings,projectSettings:projectSettings,projectSettingsAdvanced:projectSettingsAdvanced,projectSettingsCollaborators:projectSettingsCollaborators,projectSettingsImplementation:projectSettingsImplementation,projectSettingsIntegrations:projectSettingsIntegrations,projectSettingsJavascript:projectSettingsJavascript,projectSettingsLabs:projectSettingsLabs,projectSettingsWebhooks:projectSettingsWebhooks,projectSettingsMigration:projectSettingsMigration,mvtHome:mvtHome,mvtSectionsDashboard:mvtSectionsDashboard,mvtCombinationsDashboard:mvtCombinationsDashboard,mvtExperimentEditor:mvtExperimentEditor,mvtPages:mvtPages,mvtAudiences:mvtAudiences,mvtTrafficAllocation:mvtTrafficAllocation,mvtIntegrations:mvtIntegrations,mvtMetrics:mvtMetrics,mvtCustomCode:mvtCustomCode,mvtSchedule:mvtSchedule,mvtApiNames:mvtApiNames,mvtHistory:mvtHistory,mvtSettings:mvtSettings,getTeamsHostname:getTeamsHostname,programManagementTeams:programManagementTeams,layerResults:layerResults,layerExperimentResults:layerExperimentResults,experimentResults:experimentResults,mvtRollupResults:mvtRollupResults,rolloutsHome:rolloutsHome,variablesHome:variablesHome,featuresOldHome:featuresOldHome,featuresHome:featuresHome,flagsHome:flagsHome,editFeature:editFeature,featureManagerRules:featureManagerRules,featureManagerVariables:featureManagerVariables,featureManagerExperimentUsage:featureManagerExperimentUsage,featureManagerHistory:featureManagerHistory,featureManagerSettings:featureManagerSettings,featureManagerSDKSetup:featureManagerSDKSetup,manageProjectsPage:manageProjectsPage,manageAccountSnippetsPage:manageAccountSnippetsPage,manageAccountPlanPage:manageAccountPlanPage,manageAccountBillingPage:manageAccountBillingPage,manageAccountPlanBillingPage:manageAccountPlanBillingPage,manageAccountPlanUsagePage:manageAccountPlanUsagePage,manageAccountSecurityPage:manageAccountSecurityPage,manageAccountDcpServicesPage:manageAccountDcpServicesPage,manageAccountRegisteredAppsPage:manageAccountRegisteredAppsPage,manageAccountOptimizelyClassicPage:manageAccountOptimizelyClassicPage,manageAccountSubjectAccessRequestsPage:manageAccountSubjectAccessRequestsPage,profilePreferencesUrl:profilePreferencesUrl,profileAPIAccessUrl:profileAPIAccessUrl,reportsHome:reportsHome,resultsCSV:resultsCSV,signout:signout,welcomePage:welcomePage,fullStackManagerVariations:fullStackManagerVariations,fullStackManagerAudiences:fullStackManagerAudiences,fullStackManagerMetrics:fullStackManagerMetrics,fullStackManagerTrafficAllocation:fullStackManagerTrafficAllocation,fullStackManagerWhitelist:fullStackManagerWhitelist,fullStackManagerApiNames:fullStackManagerApiNames,fullStackManagerHistory:fullStackManagerHistory,fullStackManagerSettings:fullStackManagerSettings,catalogDashboard:catalogDashboard,recommenderDashboard:recommenderDashboard,projectDrawerRouter:projectDrawerRouter}},,,function(t,r,a){"use strict";a.r(r);var i=a(198);a.d(r,"actions",(function(){return i.a}));var o=a(459);a.d(r,"entityDef",(function(){return o.a}));var c=a(77);a.d(r,"constants",(function(){return c.default}));var l=a(156);a.d(r,"fns",(function(){return l.a}));var u=a(447);a.d(r,"getters",(function(){return u.a})),r.default={actions:i.a,entityDef:o.a,fns:l.a,getters:u.a,constants:c.default}},function(t,r,a){"use strict";a.d(r,"a",(function(){return g})),a.d(r,"b",(function(){return h}));var i=a(0),o=a.n(i),c=a(513),l=a.n(c),u=a(5),d=a(268);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var p=["forwardedRef"];function _objectWithoutProperties(t,r){if(null==t)return{};var a,i,o=function _objectWithoutPropertiesLoose(t,r){if(null==t)return{};var a,i,o={},c=Object.keys(t);for(i=0;i<c.length;i++)a=c[i],r.indexOf(a)>=0||(o[a]=t[a]);return o}(t,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(i=0;i<c.length;i++)a=c[i],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(o[a]=t[a])}return o}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var m=function hoistStaticsAndForwardRefs(t,r,a){var i=function forwardRef(r,a){return o.a.createElement(t,_extends({},r,{forwardedRef:a}))};return i.displayName="".concat(a,"(").concat(r.displayName||r.name,")"),l()(o.a.forwardRef(i),r)},g=function connect(t){return function(r){return u.default.connectGetters(r,t)}},h=function errorBoundary(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(r){var a=function(a){_inherits(ErrorBoundaryWrapper,a);var i=_createSuper(ErrorBoundaryWrapper);function ErrorBoundaryWrapper(){return _classCallCheck(this,ErrorBoundaryWrapper),i.apply(this,arguments)}return _createClass(ErrorBoundaryWrapper,[{key:"render",value:function render(){var a=this.props,i=a.forwardedRef,c=_objectWithoutProperties(a,p);return o.a.createElement(d.a,t,o.a.createElement(r,_extends({},c,{ref:i})))}}]),ErrorBoundaryWrapper}(o.a.Component);return m(a,r,"errorBoundary")}}},function(t,r,a){"use strict";a.r(r),a.d(r,"statusFilter",(function(){return c})),a.d(r,"status",(function(){return l})),a.d(r,"ActualStatus",(function(){return u})),a.d(r,"oasis_status",(function(){return d})),a.d(r,"VariationStatus",(function(){return p})),a.d(r,"EnvironmentStatus",(function(){return m})),a.d(r,"CustomCodeTypes",(function(){return g})),a.d(r,"ChangeStatuses",(function(){return h})),a.d(r,"ChangeTypes",(function(){return y})),a.d(r,"BucketingStrategies",(function(){return v})),a.d(r,"ChangeTypePriority",(function(){return _})),a.d(r,"multivariateTrafficPolicies",(function(){return E}));var i=a(17),o=a.n(i),c=o()({ACTIVE:null,ARCHIVED:null,NOT_STATED:null,PAUSED:null,RUNNING:null}),l={ACTIVE:"active",ARCHIVED:"archived",PAUSED:"paused"},u={ACTIVE:"active",ARCHIVED:"archived",NOT_STARTED:"not_started",PAUSED:"paused",RUNNING:"running",CAMPAIGN_PAUSED:"campaign_paused"},d={ACTIVE:"active",ARCHIVED:"archived",DRAFT:"draft",PAUSED:"paused",RUNNING:"running"},p={ACTIVE:"active",PAUSED:"paused",ARCHIVED:"archived"},m={ARCHIVED:"archived",NOT_STARTED:"not_started",RUNNING:"running",PAUSED:"paused"},g=o()({CSS:null,JAVASCRIPT:null}),h={INITIAL:"initial",NEW:"new",DIRTY:"dirty",LIVE:"live",MODIFIED:"modified",DRAFT:"draft",DELETED:"deleted"},y={ATTRIBUTE:"attribute",CUSTOM_CODE:"custom_code",CUSTOM_CSS:"custom_css",INSERT_HTML:"insert_html",INSERT_IMAGE:"insert_image",WIDGET:"widget",REDIRECT:"redirect"},v={IMPRESSION:"impression",LIFETIME:"lifetime"},_=[y.CUSTOM_CODE,y.CUSTOM_CSS,y.REDIRECT],E={FULL_FACTORIAL:"full_factorial",PARTIAL_FACTORIAL:"partial_factorial",TAGUCHI:"taguchi"};r.default={ActualStatus:u,BucketingStrategies:v,ChangeStatuses:h,ChangeTypePriority:_,ChangeTypes:y,CustomCodeTypes:g,EnvironmentStatus:m,multivariateTrafficPolicies:E,oasis_status:d,status:l,statusFilter:c,VariationStatus:p}},,,,function(t,r,a){"use strict";r.a={DATE:"date",NUMBER:"number",STRING:"string",BOOLEAN:"boolean",ARRAY:"array",OBJECT:"object"}},function(t,r,a){"use strict";a.r(r);var i=a(451);a.d(r,"actions",(function(){return i.default}));var o=a(511);a.d(r,"entityDef",(function(){return o.a}));var c=a(500);a.d(r,"constants",(function(){return c.default}));var l=a(172);a.d(r,"enums",(function(){return l}));var u=a(501);a.d(r,"fns",(function(){return u.default}));var d=a(282);a.d(r,"getters",(function(){return d.default}));var p=a(1199);a.d(r,"humanReadable",(function(){return p})),r.default={actions:i.default,entityDef:o.a,constants:c.default,enums:l,fns:u.default,getters:d.default,humanReadable:p}},function(t,r,a){"use strict";a.r(r),a.d(r,"instance",(function(){return N})),a.d(r,"initialize",(function(){return x})),a.d(r,"go",(function(){return D})),a.d(r,"getPathname",(function(){return k})),a.d(r,"getLocation",(function(){return j})),a.d(r,"back",(function(){return M})),a.d(r,"redirect",(function(){return U})),a.d(r,"loadRoutes",(function(){return V})),a.d(r,"mountComponent",(function(){return B})),a.d(r,"reset",(function(){return G})),a.d(r,"windowOpenInNewTab",(function(){return H})),a.d(r,"windowNavigate",(function(){return z})),a.d(r,"windowLocationSearch",(function(){return W})),a.d(r,"windowLocationReload",(function(){return q}));var i=a(12),o=a.n(i),c=a(4),l=a.n(c),u=a(2156),d=a.n(u),p=a(101),m=a(833),g=a(292),h=a.n(g),y=a(145),v=a(263),_=a(339),E=a(407),b=a(620),T=a.n(b),S=a(3),C=a(276),I=a(578),A=a(421),O=a(411),P=a(800),R=a(126),w=a(859),N=new d.a({filterPopstateEvent:function filterPopstateEvent(t){return!t.singleSpa},onRouteStart:function onRouteStart(){m.b.onRouteStart(),y.a.setRouteStartTime(),E.a.trackRouteStart(),document.title="Optimizely"},onRouteComplete:function onRouteComplete(t){v.a.trackRouteComplete(t),y.a.trackRouteComplete(t),E.a.trackRouteComplete(),m.b.trackRouteComplete(t),_.a.track("route_complete",{attributes:{to_path:T()(t.toPath),from_path:T()(t.fromPath)},eventTags:{value:t.duration}})}}),L={initialize:N.initialize.bind(N),instance:N,go:function go(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push";var a=Object(P.a)(),i=S.default.evaluate(C.c.navigationController("main")),o=function executeRoute(){i&&i.beforeLeaveFns.length&&(i.beforeLeaveFns=[]),Object(R.d)("main"),N.go(t,r),"push"===r?w.a.pushBrowserHistoryState(t):"replace"===r&&w.a.replaceBrowserHistoryState(t)};if(a&&a.$options&&a.$options.beforeLeave)a.$options.beforeLeave.call(a,o);else if(i&&i.beforeLeaveFns.length){var c=i.beforeLeaveFns.map((function(t){return t()}));Promise.all(c).then(o,(function(t){return console.warn("Router navigation was aborted: ",t)}))}else o()},getPathname:function getPathname(){return window.location.pathname},getLocation:function getLocation(){return this.getPathname()+this.windowLocationSearch()},back:function back(){p.default.back(),w.a.popPreviousBrowserHistoryState()},redirect:function redirect(t){setTimeout((function(){N.replace(t),w.a.replaceBrowserHistoryState(t)}),0)},loadRoutes:function loadRoutes(t){if(!t||!l.a.isArray(t))throw new Error("Must supply an Array of routes when calling router.start");N.registerRoutes(t)},mountComponent:function mountComponent(t,r){return function(a){if(l.a.isString(t)&&!(t=o()(t).get(0)))throw new Error("Cannot match find element to mount component");var i=o()(t).data("mountedComponent");if(i){if(i.id===r)return;o()(t).removeData("mountedComponent"),i.instance.$destroy()}var c=new(Object(I.a)(r))({parent:Object(A.a)()});c.$appendTo(t),o()(t).data("mountedComponent",{instance:c,id:r}),Object(O.a)("renderMainRegion")}},reset:function reset(){N.reset()},windowOpenInNewTab:function windowOpenInNewTab(t){h.a.open(t,"_blank")},windowNavigate:function windowNavigate(t){return h.a.location=t,h.a.location},windowLocationSearch:function windowLocationSearch(){return h.a.location.search},windowLocationReload:function windowLocationReload(){return h.a.location.reload()}};r.default=L;var x=L.initialize,D=L.go,k=L.getPathname,j=L.getLocation,M=L.back,U=L.redirect,V=L.loadRoutes,B=L.mountComponent,G=L.reset,H=L.windowOpenInNewTab,z=L.windowNavigate,W=L.windowLocationSearch,q=L.windowLocationReload},function(t,r,a){"use strict";a.r(r),a.d(r,"createEntityActions",(function(){return b}));var i=a(87),o=a(31),c=a(3),l=a(152),u=a(149),d=a.n(u),p=a(344);a.d(r,"actions",(function(){return p.a}));var m=a(78);a.d(r,"actionTypes",(function(){return m.a}));var g=a(967),h=a(41);a.d(r,"createEntityGetters",(function(){return h.default}));var y=a(138);a.d(r,"constants",(function(){return y.a}));var v=a(33);a.d(r,"fieldTypes",(function(){return v.a}));var _=a(234);a.d(r,"fns",(function(){return _.a}));var E=a(235);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}a.d(r,"requester",(function(){return E.a}));var b=function createEntityActions(t){var r=l.enums.FEATURES.fetch_all_paginated,a=r.FEATURE_KEY,u=r.VARIABLES,p="".concat(a,"_").concat(t.entity),m={attributes:_defineProperty({},l.enums.ATTRIBUTES.fe_api_entity_type,t.entity),userId:function userId(){return c.default.evaluate(l.getters.userIdForFeature(p))||l.actions.setUserIdForFeature(p,d()())}},h=Object(g.a)(t),v=Object(i.c)(a,u.page_size,m)((function(){for(var t,r=this,i=arguments.length,c=new Array(i),d=0;d<i;d++)c[d]=arguments[d];var g=c[0],v=c[1],_=(t=h.fetchAll).bind.apply(t,[this].concat(c));return this[a]&&(_=function executeFetch(){return h.fetchAllPages(Object.assign(g||{},{$limit:r[u.page_size]||y.a.DEFAULT_PAGE_SIZE}),v).allPages}),Object(o.time)(_,l.enums.EVENTS.fetch_all_paginated_execution_time,m).always((function(){return l.actions.setUserIdForFeature(p,null)}))}));return _extends({},h,{fetchAll:v})};r.default={actions:p.a,actionTypes:m.a,constants:y.a,createEntityActions:b,createEntityGetters:h.default,fns:_.a,fieldTypes:v.a,requester:E.a}},function(t,r,a){"use strict";a.r(r),a.d(r,"id",(function(){return E})),a.d(r,"email",(function(){return T})),a.d(r,"uniqueUserId",(function(){return S})),a.d(r,"isSignedIn",(function(){return C})),a.d(r,"isAdmin",(function(){return I})),a.d(r,"isFrozen",(function(){return A})),a.d(r,"isFreezable",(function(){return O})),a.d(r,"userAccounts",(function(){return R})),a.d(r,"sortedUserAccounts",(function(){return w})),a.d(r,"accountInfo",(function(){return N})),a.d(r,"maxProjects",(function(){return L})),a.d(r,"userLocale",(function(){return x})),a.d(r,"userProfileImage",(function(){return D})),a.d(r,"backendApiToken",(function(){return k})),a.d(r,"accountPermissions",(function(){return j})),a.d(r,"accountFeatureConfigs",(function(){return M})),a.d(r,"currentAccount",(function(){return U})),a.d(r,"currentRole",(function(){return V})),a.d(r,"projects",(function(){return te})),a.d(r,"activeProjectsAsMap",(function(){return ne})),a.d(r,"activeProjects",(function(){return re})),a.d(r,"activeWebProjects",(function(){return ae})),a.d(r,"activeWebProjectsMinusEdge",(function(){return ie})),a.d(r,"activeProjectsByVersion",(function(){return oe})),a.d(r,"atProjectLimit",(function(){return se})),a.d(r,"usableOAuthBearerTokens",(function(){return ce})),a.d(r,"authorizedOAuthClients",(function(){return le})),a.d(r,"oauthClients",(function(){return ue})),a.d(r,"allowsSSO",(function(){return b})),a.d(r,"account",(function(){return B})),a.d(r,"require2StepVerification",(function(){return z})),a.d(r,"ip_anonymization_default",(function(){return W})),a.d(r,"ip_anonymization_locked",(function(){return q})),a.d(r,"planId",(function(){return $})),a.d(r,"isInTrial",(function(){return Z})),a.d(r,"isFreeRolloutsPlan",(function(){return ee})),a.d(r,"accountIDP",(function(){return H})),a.d(r,"isAdminOnSsoAccount",(function(){return X})),a.d(r,"isWebClassicReadOnly",(function(){return K})),a.d(r,"isPciEnabled",(function(){return Y})),a.d(r,"isSsoEnabled",(function(){return J})),a.d(r,"isUserAdmin",(function(){return P})),a.d(r,"useAccountOrigins",(function(){return G})),a.d(r,"userType",(function(){return de})),a.d(r,"accountName",(function(){return fe})),a.d(r,"companyName",(function(){return pe})),a.d(r,"hasPP2020RolloutsPlusSubscription",(function(){return me})),a.d(r,"turnstileInstanceId",(function(){return Q}));var i=a(4),o=a.n(i),c=a(787),l=a(2),u=a(788),d=a(789),p=a(790),m=a(7),g=a(737),h=a(56),y=a(231),v=a(102),_=a(536),E=["accountInfo","accountId"],b=["accountInfo","allowsSso"],T=["accountInfo","email"],S=["accountInfo","uniqueUserId"],C=["accountInfo","isSignedIn"],I=["accountInfo","isAdmin"],A=["accountInfo","frozen"],O=["accountInfo","isFreezable"],P=["accountInfo","isUserAdmin"],R=["accountInfo","userAccounts"],w=[R,function(t){return t?t.sort(Object(v.generateImmutableObjectSortFn)({field:"account_name",type:"string",dir:"asc"})):t}],N=["accountInfo"],L=["accountInfo","maxProjects"],x=["accountInfo","userLocale"],D=["accountInfo","userProfileImage"],k=["accountInfo","backendApiToken"],j=[["accountInfo","permissions"],function(t){try{return Object(l.toImmutable)(o.a.union(t.accountPermissions,t.userPermissions)).toList()}catch(t){return Object(l.toImmutable)([])}}],M=["accountInfo","featureConfigs"],U=[R,function(t){return t?t.filter((function(t){return t.get("current_account")})).first():null}],V=[U,function(t){return t?t.get("role"):null}],B=[E,c.a.entityCache,function(t,r){var a=r.filter((function(r){return r.get("id")===t}));return a.size>1?console.warn("Multiple admin accounts present."):0===a.size&&console.warn("No admin account present."),a.first()}],G=[B,function(t){return t.get("use_account_origins")}],H=[B,function(t){return t?t.get("idp_id"):null}],z=[B,function(t){return t?t.get("require_two_factor_auth"):null}],W=[B,function(t){return t?t.get("ip_anonymization_default"):null}],q=[B,function(t){return t?t.get("ip_anonymization_locked"):null}],Y=[B,function(t){return t?t.get("pci_enabled"):null}],K=[B,function(t){return t?!!t.get("is_classic_read_only")||!!t.get("is_web_classic_read_only"):null}],J=[B,function(t){return t?t.get("is_sso_enabled"):null}],X=[J,["accountInfo","isUserAdmin"],function(t,r){return t&&r}],$=["accountInfo","planId"],Q=["accountInfo","turnstileInstanceId"],Z=[B,function(t){return!!t&&t.get("in_trial",!1)}],ee=[$,function(t){return t===g.a.planIds.FREE_ROLLOUTS}],te=[E,y.a.entityCache,function(t,r){return r.filter((function(r){return r.get("account_id")===t})).toList()}],ne=[E,y.a.entityCache,function(t,r){return r.filter((function(r){return r.get("account_id")===t&&r.get("project_status")===m.default.project_status.ACTIVE})).map((function(t){return t.set("primarySDKLanguage",h.default.getPrimarySDKLanguage(t))})).sortBy((function(t){return(t.get("project_name")||"").toLocaleLowerCase()}))}],re=[ne,function(t){return t.toList()}],ae=[re,function(t){return t.filter((function(t){return t.get("project_platforms").includes("web")}))}],ie=[ae,function(t){return t.filter((function(t){return!t.get("delivery_mode")||t.get("delivery_mode")!==m.default.delivery_modes.EDGE}))}],oe=function activeProjectsByVersion(t){return t=t||m.default.manifestVersions.V1,[re,function(r){return t===m.default.manifestVersions.V1?r.filter((function(t){var r=t.get("project_platforms");return r.includes(m.default.project_platforms.WEB)||r.includes(m.default.project_platforms.IOS)||r.includes(m.default.project_platforms.ANDROID)||r.includes(m.default.project_platforms.CUSTOM)&&t.get("manifest_version")!==m.default.manifestVersions.V2})):t===m.default.manifestVersions.V2?r.filter((function(t){var r=t.get("project_platforms");return r.includes(m.default.project_platforms.WEB)||r.includes(m.default.project_platforms.CUSTOM)&&t.get("manifest_version")===m.default.manifestVersions.V2})).map((function(t){return t.set("primarySDKLanguage",h.default.getPrimarySDKLanguage(t))})):void 0}]},se=[re,L,function(t,r){return t.size>=r}],ce=[E,T,d.a.entityCache,function(t,r,a){return a.filter((function(a){return a.get("account_id")===t&&a.get("user_id")===r&&!a.get("revoked_by")&&(a.get("is_active")||a.get("has_refresh_token"))})).toList()}],le=[ce,p.a.clientIdToClientMap,function(t,r){var a={};return t.forEach((function(t){var r=t.get("client_id");a[r]?t.get("created")>a[r]&&(a[r]=t):a[r]=t})),Object(l.toImmutable)(o.a.values(a).map((function(t){return{clientId:t.get("client_id"),masterLabel:r.getIn([Number(t.get("client_id")),"master_label"]),authorizationDate:t.get("created")}})))}],ue=[E,u.a.entityCache,function(t,r){return r.filter((function(r){return r.get("account_id")===t})).toList()}],de=[C,$,se,function(t,r,a){return!1===t?_.a.USER_TYPE.guest:r&&(r.indexOf(_.a.ENTERPRISE_SUBSTRING)>=0||r.substr(0,1)===_.a.ENTERPRISE_C_SUBSTRING)?_.a.USER_TYPE.enterprise:!1===a?_.a.USER_TYPE.selfServe:_.a.USER_TYPE.saturatedSelfServe}],fe=[B,function(t){return t?t.get("account_name"):""}],pe=[B,function(t){return t?t.get("company_name"):""}],me=[["accountInfo","productIds"],function(t){return t&&t.includes(_.a.PP2020_FS_PLUS_ROLLOUT)}];r.default={id:E,email:T,uniqueUserId:S,isSignedIn:C,isAdmin:I,isFrozen:A,isFreezable:O,userAccounts:R,sortedUserAccounts:w,accountInfo:N,maxProjects:L,userLocale:x,userProfileImage:D,backendApiToken:k,accountPermissions:j,accountFeatureConfigs:M,currentAccount:U,currentRole:V,projects:te,activeProjects:re,activeProjectsAsMap:ne,activeWebProjects:ae,activeWebProjectsMinusEdge:ie,activeProjectsByVersion:oe,atProjectLimit:se,usableOAuthBearerTokens:ce,authorizedOAuthClients:le,oauthClients:ue,allowsSSO:b,account:B,require2StepVerification:z,ip_anonymization_default:W,ip_anonymization_locked:q,planId:$,isInTrial:Z,isFreeRolloutsPlan:ee,accountIDP:H,isAdminOnSsoAccount:X,isWebClassicReadOnly:K,isPciEnabled:Y,isSsoEnabled:J,isUserAdmin:P,useAccountOrigins:G,userType:de,accountName:fe,companyName:pe,hasPP2020RolloutsPlusSubscription:me,turnstileInstanceId:Q}},function(t,r,a){"use strict";a.r(r);var i=a(261);a.d(r,"actions",(function(){return i}));var o=a(912),c=a.n(o);a.d(r,"enums",(function(){return c.a}));var l=a(313);a.d(r,"fns",(function(){return l}));var u=a(66);a.d(r,"getters",(function(){return u})),r.default={actions:i,enums:c.a,fns:l,getters:u}},function(t,r,a){"use strict";a.r(r),a.d(r,"changeHistoryLimit",(function(){return d})),a.d(r,"numberOfSeatsLimit",(function(){return p})),a.d(r,"targetedRolloutsRulesLimit",(function(){return m})),a.d(r,"runningExperimentLimit",(function(){return g})),a.d(r,"canAccountUseDatasources",(function(){return h})),a.d(r,"canAccountUseEdgeProjects",(function(){return y})),a.d(r,"canAccountUseMobileSDKs",(function(){return v})),a.d(r,"canAccountUseFeatureFlags",(function(){return _})),a.d(r,"canAccountUseProjects",(function(){return E})),a.d(r,"canAccountUseTeamsWorkflow",(function(){return b})),a.d(r,"canAccountUseFullStackSDKs",(function(){return T})),a.d(r,"canAccountUseOverTheTopSDKs",(function(){return S})),a.d(r,"canAccountUseFullStackEvents",(function(){return C})),a.d(r,"canAccountUseFeatureRollouts",(function(){return I})),a.d(r,"canAccountUseFeatureManagement",(function(){return A})),a.d(r,"canAccountUseFullStackAdvancedSettings",(function(){return O})),a.d(r,"canAccountUseFullStackExperiments",(function(){return P})),a.d(r,"canAccountUseFeatureVariables",(function(){return R})),a.d(r,"canAccountUseAtLeastOneCustomProjectSDK",(function(){return w})),a.d(r,"canAccountUseOnlineTickets",(function(){return N})),a.d(r,"canCrossBrowserTest",(function(){return L})),a.d(r,"canCurrentProjectUseTargetedRollouts",(function(){return x})),a.d(r,"canMultivariateTestInX",(function(){return D})),a.d(r,"canSetImageCdnHostPrefix",(function(){return k})),a.d(r,"canTargetBehavior",(function(){return j})),a.d(r,"canUseAdaptiveAudiences",(function(){return M})),a.d(r,"canUseABTestingV2",(function(){return U})),a.d(r,"canUseAdvancedPageSettings",(function(){return V})),a.d(r,"canUseAnalyticsIntegrationExtensions",(function(){return B})),a.d(r,"canUseAsyncChanges",(function(){return G})),a.d(r,"canUseChangeDependencies",(function(){return H})),a.d(r,"canUseCollaborators",(function(){return z})),a.d(r,"canUseCrossProjectMetrics",(function(){return W})),a.d(r,"canUseCustomAttributes",(function(){return q})),a.d(r,"canUseCustomSegments",(function(){return Y})),a.d(r,"canUseDatafileAuthentication",(function(){return K})),a.d(r,"canEnableDatafileAuthentication",(function(){return J})),a.d(r,"canUseDatasources",(function(){return X})),a.d(r,"canUseEdgeProjectSettings",(function(){return $})),a.d(r,"canUseEventExtensions",(function(){return Q})),a.d(r,"canUseFeatureTests",(function(){return Z})),a.d(r,"canUseLayerIntegrations",(function(){return ee})),a.d(r,"canUseListAttributes",(function(){return te})),a.d(r,"canUseMultiArmedBandits",(function(){return ne})),a.d(r,"canUseMutex",(function(){return re})),a.d(r,"canUsePersonalization",(function(){return ae})),a.d(r,"canUsePartialFactorial",(function(){return ie})),a.d(r,"canUsePlugins",(function(){return oe})),a.d(r,"canUsePreview",(function(){return se})),a.d(r,"canUseProjectJS",(function(){return ce})),a.d(r,"canUseEventInspector",(function(){return le})),a.d(r,"canUseFullStackFlagDecisions",(function(){return ue})),a.d(r,"canManageRecommendations",(function(){return de})),a.d(r,"canUseRecommendationsDashboard",(function(){return fe})),a.d(r,"canUseScheduler",(function(){return pe})),a.d(r,"canUseSelectContainer",(function(){return me})),a.d(r,"canUseShareProjects",(function(){return ge})),a.d(r,"canUseStatsAccelerator",(function(){return he})),a.d(r,"canUseUrlTargeting",(function(){return ye})),a.d(r,"canUseViewActivationModeCallback",(function(){return ve})),a.d(r,"canUseViewActivationModeDomChanged",(function(){return _e})),a.d(r,"canUseViewActivationModeManual",(function(){return Ee})),a.d(r,"canUseViewActivationModePolling",(function(){return be})),a.d(r,"canUseViewActivationModeUrlChanged",(function(){return Te})),a.d(r,"canUseViewConditionCustomCode",(function(){return Se})),a.d(r,"canUseViewConditionElementPresent",(function(){return Ce})),a.d(r,"canUseVisualTags",(function(){return Ie})),a.d(r,"canUseWebStickyBucketing",(function(){return Ae})),a.d(r,"canUseXWeb",(function(){return Oe})),a.d(r,"shouldDisableEditorIframePreload",(function(){return Pe})),a.d(r,"shouldUpsellPersonalization",(function(){return Re})),a.d(r,"canUseLayerTableRowActions",(function(){return we})),a.d(r,"canCreateCustomAttribute",(function(){return Ne})),a.d(r,"canCreateExperiment",(function(){return Le})),a.d(r,"canCreateListAttributes",(function(){return xe})),a.d(r,"canCreateLayer",(function(){return De})),a.d(r,"canDeleteCustomAttribute",(function(){return ke})),a.d(r,"canEditCustomAttribute",(function(){return je})),a.d(r,"canEditListAttributes",(function(){return Me}));var i=a(37),o=a(13),c=a(95),l=a(374),u=a(22),d=[i.accountFeatureConfigs,u.default.getChangeHistoryLimit],p=[i.accountFeatureConfigs,u.default.getNumberOfSeatsLimit],m=[i.accountFeatureConfigs,u.default.getTargetedRolloutsRulesLimit],g=[i.accountFeatureConfigs,u.default.getRunningExperimentLimit],h=[i.accountPermissions,u.default.canAccountUseDatasources],y=[i.accountPermissions,u.default.canUseEdgeProjects],v=[i.accountPermissions,u.default.canUseMobileSDKs],_=[i.accountPermissions,u.default.canUseFeatureFlags],E=[i.accountPermissions,u.default.canUseProjects.bind(u.default)],b=[i.accountPermissions,u.default.canUseTeamsWorkflow],T=[i.accountPermissions,u.default.canUseFullStackSDKs],S=[i.accountPermissions,u.default.canUseOverTheTopSDKs],C=[i.accountPermissions,u.default.canUseFullStackEvents],I=[i.accountPermissions,u.default.canUseFeatureRollouts],A=[i.accountPermissions,u.default.canUseFeatureManagement],O=[i.accountPermissions,u.default.canUseFullStackAdvancedSettings],P=[i.accountPermissions,u.default.canUseFullStackExperiments],R=[i.accountPermissions,u.default.canUseFeatureVariables],w=[T,v,S,function(t,r,a){return t||r||a}],N=[i.accountPermissions,u.default.canUseOnlineTickets],L=[i.accountPermissions,function(){return u.default.canCrossBrowserTest.apply(u.default,arguments)}],x=[i.accountPermissions,Object(l.b)("targeted_rollouts"),u.default.canCurrentProjectUseTargetedRollouts],D=[i.accountPermissions,o.project,function(){return u.default.canMultivariateTestInX.apply(u.default,arguments)}],k=[i.accountPermissions,o.project,u.default.canSetImageCdnHostPrefix],j=[i.accountPermissions,o.project,u.default.canTargetBehavior],M=[i.accountPermissions,o.project,function(){return u.default.canUseAdaptiveAudiences.apply(u.default,arguments)}],U=[i.accountPermissions,function(){return u.default.canUseABTestingV2.apply(u.default,arguments)}],V=[o.project,u.default.canUseAdvancedPageSettings],B=[i.accountPermissions,o.project,function(){return u.default.canUseAnalyticsIntegrationExtensions.apply(u.default,arguments)}],G=[o.project,function(){return u.default.canUseAsyncChanges.apply(u.default,arguments)}],H=[o.project,function(){return u.default.canUseChangeDependencies.apply(u.default,arguments)}],z=[i.accountPermissions,o.project,u.default.canUseCollaborators],W=[i.accountPermissions,o.project,function(){return u.default.canUseCrossProjectMetrics.apply(u.default,arguments)}],q=[i.accountPermissions,o.project,function(){return u.default.canUseCustomAttributes.apply(u.default,arguments)}],Y=[i.accountPermissions,o.project,function(){return u.default.canUseCustomSegments.apply(u.default,arguments)}],K=[i.accountPermissions,o.project,Object(l.b)(c.b.FEATURES.datafile_authentication.FEATURE_KEY),function(){return u.default.canUseDatafileAuthentication.apply(u.default,arguments)}],J=[Object(l.b)(c.b.FEATURES.enable_datafile_authentication.FEATURE_KEY),function(){return u.default.canEnableDatafileAuthentication.apply(u.default,arguments)}],X=[i.accountPermissions,o.project,u.default.canUseDatasources],$=[o.project,u.default.canUseEdgeProjectSettings],Q=[i.accountPermissions,o.project,u.default.canUseEventExtensions],Z=[i.accountPermissions,o.isFullStackProject,u.default.canUseFeatureTests],ee=[o.project,u.default.canUseLayerIntegrations],te=[i.accountPermissions,o.project,function(){return u.default.canUseListAttributes.apply(u.default,arguments)}],ne=[i.accountPermissions,o.project,function(){return u.default.canUseMultiArmedBandits.apply(u.default,arguments)}],re=[i.accountPermissions,o.project,function(){return u.default.canUseMutex.apply(u.default,arguments)}],ae=[i.accountPermissions,o.project,function(){return u.default.canUsePersonalization.apply(u.default,arguments)}],ie=[i.accountPermissions,o.project,function(){return u.default.canUsePartialFactorial.apply(u.default,arguments)}],oe=[i.accountPermissions,o.project,function(){return u.default.canUsePlugins.apply(u.default,arguments)}],se=[o.project,u.default.canUsePreview],ce=[i.accountPermissions,o.project,u.default.canUseProjectJS],le=[i.accountPermissions,o.project,Object(l.b)(c.b.FEATURES.event_inspector.FEATURE_KEY),function(){return u.default.canUseEventInspector.apply(u.default,arguments)}],ue=[i.accountPermissions,o.project,Object(l.b)(c.b.FEATURES.send_flag_decisions.FEATURE_KEY),function(){return u.default.canUseFullStackFlagDecisions.apply(u.default,arguments)}],de=[o.project,function(){return u.default.canManageRecommendations.apply(u.default,arguments)}],fe=[i.accountPermissions,o.project,u.default.canUseRecommendations],pe=[i.accountPermissions,o.project,u.default.canUseScheduler],me=[i.accountPermissions,o.project,u.default.canUseSelectContainer],ge=[i.accountPermissions,o.project,function(){return u.default.canUseShareProjects.apply(u.default,arguments)}],he=[i.accountPermissions,o.project,function(){return u.default.canUseStatsAccelerator.apply(u.default,arguments)}],ye=[i.accountPermissions,o.project,u.default.canUseUrlTargeting],ve=[o.project,u.default.canUseViewActivationModeCallback],_e=[o.project,u.default.canUseViewActivationModeDomChanged],Ee=[o.project,u.default.canUseViewActivationModeManual],be=[o.project,u.default.canUseViewActivationModePolling],Te=[o.project,u.default.canUseViewActivationModeUrlChanged],Se=[o.project,u.default.canUseViewConditionCustomCode],Ce=[o.project,u.default.canUseViewConditionElementPresent],Ie=[o.project,u.default.canUseVisualTags],Ae=[o.project,u.default.canUseWebStickyBucketing],Oe=[i.accountPermissions,o.project,u.default.canUseXWeb],Pe=[i.accountPermissions,o.project,u.default.shouldDisableEditorIframePreload],Re=[o.project,u.default.shouldUpsellPersonalization],we=[i.accountPermissions,o.project,function(){return u.default.canUseLayerTableRowActions.apply(u.default,arguments)}],Ne=[o.project,u.default.canCreateCustomAttribute],Le=[o.project,function(){return u.default.canCreateExperiment.apply(u.default,arguments)}],xe=[o.project,u.default.canCreateListAttributes],De=[o.project,function(){return u.default.canCreateLayer.apply(u.default,arguments)}],ke=[o.project,u.default.canDeleteCustomAttribute],je=[o.project,u.default.canEditCustomAttribute],Me=[o.project,u.default.canEditListAttributes];r.default={changeHistoryLimit:d,numberOfSeatsLimit:p,targetedRolloutsRulesLimit:m,runningExperimentLimit:g,canAccountUseDatasources:h,canAccountUseEdgeProjects:y,canAccountUseMobileSDKs:v,canAccountUseFeatureFlags:_,canAccountUseProjects:E,canAccountUseTeamsWorkflow:b,canAccountUseFullStackSDKs:T,canAccountUseOverTheTopSDKs:S,canAccountUseFullStackEvents:C,canAccountUseFeatureRollouts:I,canAccountUseFeatureVariables:R,canAccountUseFeatureManagement:A,canAccountUseFullStackAdvancedSettings:O,canAccountUseFullStackExperiments:P,canAccountUseAtLeastOneCustomProjectSDK:w,canAccountUseOnlineTickets:N,canCrossBrowserTest:L,canCurrentProjectUseTargetedRollouts:x,canMultivariateTestInX:D,canSetImageCdnHostPrefix:k,canTargetBehavior:j,canUseABTestingV2:U,canUseAdaptiveAudiences:M,canUseAdvancedPageSettings:V,canUseAnalyticsIntegrationExtensions:B,canUseAsyncChanges:G,canUseChangeDependencies:H,canUseCollaborators:z,canUseCrossProjectMetrics:W,canUseCustomAttributes:q,canUseCustomSegments:Y,canEnableDatafileAuthentication:J,canUseDatafileAuthentication:K,canUseDatasources:X,canUseEdgeProjectSettings:$,canUseEventExtensions:Q,canUseFeatureTests:Z,canUseFullStackFlagDecisions:ue,canUseLayerIntegrations:ee,canUseListAttributes:te,canUseMultiArmedBandits:ne,canUseMutex:re,canUsePartialFactorial:ie,canUsePersonalization:ae,canUsePlugins:oe,canUsePreview:se,canUseProjectJS:ce,canUseEventInspector:le,canUseRecommendationsDashboard:fe,canUseScheduler:pe,canUseSelectContainer:me,canUseShareProjects:ge,canUseStatsAccelerator:he,canUseUrlTargeting:ye,canUseViewActivationModeCallback:ve,canUseViewActivationModeDomChanged:_e,canUseViewActivationModeManual:Ee,canUseViewActivationModePolling:be,canUseViewActivationModeUrlChanged:Te,canUseViewConditionCustomCode:Se,canUseViewConditionElementPresent:Ce,canUseVisualTags:Ie,canUseWebStickyBucketing:Ae,canUseXWeb:Oe,canUseLayerTableRowActions:we,canCreateExperiment:Le,canCreateLayer:De,canCreateCustomAttribute:Ne,canCreateListAttributes:xe,canDeleteCustomAttribute:ke,canEditCustomAttribute:je,canEditListAttributes:Me,canManageRecommendations:de,shouldDisableEditorIframePreload:Pe,shouldUpsellPersonalization:Re}},,function(t,r,a){"use strict";a.r(r);var i=a(2);r.default=function(t){var r=[["entityCache",t.entity],function(t){return t||i.default.Map()}];return{entityCache:r,byId:function byId(t){return[r,function(r){return r.get(t)}]}}}},,function(t,r,a){"use strict";a.r(r);var i=a(1196);a.d(r,"actions",(function(){return i.a}));var o=a(796);a.d(r,"fns",(function(){return o.a}));var c=a(37);a.d(r,"getters",(function(){return c.default})),r.default={actions:i.a,fns:o.a,getters:c.default}},function(t,r,a){"use strict";var i=a(733);a.d(r,"a",(function(){return i.a}));var o=a(97);a.d(r,"c",(function(){return o.default}));var c=a(211);a.d(r,"d",(function(){return c.default}));var l=a(464);a.d(r,"e",(function(){return l.a})),r.b={actions:i.a,enums:o.default,fns:c.default,getters:l.a}},function(t,r,a){"use strict";a.r(r),a.d(r,"WORKING_METRIC_ALIAS",(function(){return q})),a.d(r,"metricLevel",(function(){return Y})),a.d(r,"event_type",(function(){return K})),a.d(r,"aggregator",(function(){return J})),a.d(r,"scope",(function(){return X})),a.d(r,"field",(function(){return $})),a.d(r,"winning_direction",(function(){return Q})),a.d(r,"liftStatus",(function(){return Z})),a.d(r,"measureTypeHumanReadable",(function(){return ee})),a.d(r,"aggregatorHumanReadable",(function(){return te})),a.d(r,"scopeHumanReadable",(function(){return ne})),a.d(r,"abandonmentMetricScopeHumanReadable",(function(){return re})),a.d(r,"fieldHumanReadable",(function(){return ae})),a.d(r,"globalMetricsByField",(function(){return ie})),a.d(r,"aggregationOptions",(function(){return oe})),a.d(r,"aggregationTypes",(function(){return se})),a.d(r,"aggregationOperations",(function(){return ce})),a.d(r,"overallRevenueAggregatorOptions",(function(){return le})),a.d(r,"layerBasedScopeOptions",(function(){return ue})),a.d(r,"revenueScopeOptions",(function(){return de})),a.d(r,"eventScopeOptions",(function(){return fe})),a.d(r,"winningDirectionOptions",(function(){return pe})),a.d(r,"metricCopyProperties",(function(){return me})),a.d(r,"scopeDescriptions",(function(){return ge})),a.d(r,"metricsCardHeaders",(function(){return he}));var i,o,c,l,u,d,p,m,g,h,y,v,_,E,b,T,S,C,I,A,O,P,R,w,N,L,x,D,k,j,M,U=a(0),V=a.n(U),B=a(21),G=a(17),H=a.n(G),z=a(8),W=a.n(z);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var q="WORKING",Y=H()({GLOBAL:null,EVENT:null}),K={CUSTOM:"custom",CLICK:"click",PAGEVIEW:"pageview"},J={UNIQUE:"unique",COUNT:"count",SUM:"sum",BOUNCE:"bounce",EXIT:"exit"},X={VISITOR:"visitor",SESSION:"session",EVENT:"event"},$={REVENUE:"revenue",VALUE:"value",SESSION_DURATION:"session_duration"},Q={DECREASING:"decreasing",INCREASING:"increasing"},Z={BETTER:"better",WORSE:"worse"},ee={RATE:"rate",PER:"per"},te=(_defineProperty(i={},J.COUNT,"total"),_defineProperty(i,J.SUM,"total"),_defineProperty(i,J.UNIQUE,"unique"),_defineProperty(i,J.BOUNCE,"total"),_defineProperty(i,J.EXIT,"total"),i),ne=(_defineProperty(o={},X.EVENT,"conversion"),_defineProperty(o,X.SESSION,"session"),_defineProperty(o,X.VISITOR,"visitor"),o),re={QUALIFIED_SESSION:"Qualified Session"},ae=(_defineProperty(c={},$.REVENUE,"revenue"),_defineProperty(c,$.SESSION_DURATION,"session duration"),_defineProperty(c,$.VALUE,"value"),c),ie=(_defineProperty(l={},$.REVENUE,"Overall Revenue"),_defineProperty(l,$.SESSION_DURATION,"Session Duration"),l),oe={UNIQUE_CONVERSIONS:"unique_conversions",TOTAL_CONVERSIONS:"total_conversions",TOTAL_REVENUE:"total_revenue",TOTAL_VALUE:"total_value",BOUNCE_RATE:"bounce_rate",EXIT_RATE:"exit_rate"},se={CONVERSION:"conversion",NUMERIC_SUM:"numeric_sum",ABANDONMENT:"abandonment"},ce=(_defineProperty(u={},oe.UNIQUE_CONVERSIONS,{label:"unique conversions",value:oe.UNIQUE_CONVERSIONS,aggregator:J.UNIQUE,field:null,type:se.CONVERSION}),_defineProperty(u,oe.TOTAL_CONVERSIONS,{label:"total conversions",value:oe.TOTAL_CONVERSIONS,aggregator:J.COUNT,field:null,type:se.CONVERSION}),_defineProperty(u,oe.TOTAL_REVENUE,{label:"total revenue",value:oe.TOTAL_REVENUE,aggregator:J.SUM,field:$.REVENUE,type:se.NUMERIC_SUM}),_defineProperty(u,oe.TOTAL_VALUE,{label:"total value",value:oe.TOTAL_VALUE,aggregator:J.SUM,field:$.VALUE,type:se.NUMERIC_SUM}),_defineProperty(u,oe.BOUNCE_RATE,{label:"bounce rate",value:oe.BOUNCE_RATE,aggregator:J.BOUNCE,field:null,type:se.ABANDONMENT}),_defineProperty(u,oe.EXIT_RATE,{label:"exit rate",value:oe.EXIT_RATE,aggregator:J.EXIT,field:null,type:se.ABANDONMENT}),u),le=[{label:"total revenue",value:J.SUM}],ue=(_defineProperty(d={},B.policy.RANDOM,[{label:ne[X.VISITOR],value:X.VISITOR}]),_defineProperty(d,B.policy.SINGLE_EXPERIMENT,[{label:ne[X.VISITOR],value:X.VISITOR}]),_defineProperty(d,B.policy.MULTIVARIATE,[{label:ne[X.VISITOR],value:X.VISITOR}]),_defineProperty(d,B.policy.ORDERED,[{label:ne[X.SESSION],value:X.SESSION}]),_defineProperty(d,B.policy.EQUAL_PRIORITY,[{label:ne[X.SESSION],value:X.SESSION}]),d),de=[{label:ne[X.EVENT],value:X.EVENT}],fe=[{label:X.EVENT,value:X.EVENT}],pe=[{label:"Increase",value:Q.INCREASING},{label:"Decrease",value:Q.DECREASING}],me=H()({IMPACT:null,IMPACT_KEY:null,IMPACT_POPOVER:null,IMPACT_SVG:null,IMPROVEMENT:null,IMPROVEMENT_ABSOLUTE_POPOVER:null,IMPROVEMENT_ABSOLUTE_SVG:null,IMPROVEMENT_KEY:null,IMPROVEMENT_POPOVER:null,IMPROVEMENT_SVG:null,IMPROVEMENT_UNIT:null,MEASURE_RATE:null,MEASURE_RATE_POPOVER:null,MEASURE_TYPE:null,MEASURE_TYPE_POPOVER:null,STATISTICAL_SIGNIFICANCE:null,STATISTICAL_SIGNIFICANCE_POPOVER:null}),ge={EVENT:W()("The total number of conversions for all visitors who were     exposed to this variation and triggered this event."),SESSION:V.a.createElement("div",null,V.a.createElement("p",null,W()("The number of sessions where a visitor was exposed to this variation.")),V.a.createElement("p",null,W()("A session is the period of time a visitor is actively engaged with your site.           The session times out after the user is inactive for 30 minutes or more."))),BOUNCE_QUALIFIED_SESSION:W()("The total number of sessions where visitors exposed to     this variation started the session on this Page."),EXIT_QUALIFIED_SESSION:W()("The total number of sessions where visitors exposed to     this variation viewed this Page."),VISITOR:W()("The number of unique visitors exposed to this variation.")},he=(_defineProperty(M={},J.UNIQUE,(_defineProperty(g={},X.VISITOR,(_defineProperty(p={},me.IMPACT,W()("Impact")),_defineProperty(p,me.IMPACT_KEY,"CVR = Conversion Rate"),_defineProperty(p,me.IMPACT_POPOVER,W()("The net change in conversions from the variation(s),         compared to the baseline.")),_defineProperty(p,me.IMPACT_SVG,"impact-conversion-event.svg"),_defineProperty(p,me.IMPROVEMENT,W()("Improvement")),_defineProperty(p,me.IMPROVEMENT_ABSOLUTE_POPOVER,W()("The absolute difference between the variation         conversion rate and the holdback conversion rate.")),_defineProperty(p,me.IMPROVEMENT_ABSOLUTE_SVG,"improvement-cvr-abs.svg"),_defineProperty(p,me.IMPROVEMENT_KEY,"CVR = Conversion Rate"),_defineProperty(p,me.IMPROVEMENT_POPOVER,W()("The relative difference in conversion rate for this         variation, compared to the baseline.")),_defineProperty(p,me.IMPROVEMENT_SVG,"improvement-cvr-rel.svg"),_defineProperty(p,me.IMPROVEMENT_UNIT,W()("Change in CVR")),_defineProperty(p,me.MEASURE_RATE,W()("Conversion Rate")),_defineProperty(p,me.MEASURE_RATE_POPOVER,W()("The percentage of unique conversions for visitors         who were exposed to this variation and triggered this event at least once.")),_defineProperty(p,me.MEASURE_TYPE,W()("Unique Conversions")),_defineProperty(p,me.MEASURE_TYPE_POPOVER,{top:W()("The unique number of conversions for all visitors who were exposed to this variation           and triggered this event."),bottom:ge.VISITOR}),_defineProperty(p,me.STATISTICAL_SIGNIFICANCE,W()("Statistical Significance")),_defineProperty(p,me.STATISTICAL_SIGNIFICANCE_POPOVER,W()("The likelihood that the observed         difference in conversion rate is not due to chance.")),p)),_defineProperty(g,X.SESSION,(_defineProperty(m={},me.IMPACT,W()("Impact")),_defineProperty(m,me.IMPACT_KEY,"CVR = Conversion Rate"),_defineProperty(m,me.IMPACT_POPOVER,W()("The net change in conversions from the variation(s),         compared to the baseline.")),_defineProperty(m,me.IMPACT_SVG,"impact-conversion-event.svg"),_defineProperty(m,me.IMPROVEMENT,W()("Improvement")),_defineProperty(m,me.IMPROVEMENT_ABSOLUTE_POPOVER,W()("The absolute difference between the variation         conversion rate and the holdback conversion rate.")),_defineProperty(m,me.IMPROVEMENT_ABSOLUTE_SVG,"improvement-cvr-abs.svg"),_defineProperty(m,me.IMPROVEMENT_KEY,"CVR = Conversion Rate"),_defineProperty(m,me.IMPROVEMENT_POPOVER,W()("The relative difference in conversion rate for this         variation, compared to the baseline.")),_defineProperty(m,me.IMPROVEMENT_SVG,"improvement-cvr-rel.svg"),_defineProperty(m,me.IMPROVEMENT_UNIT,W()("Change in CVR")),_defineProperty(m,me.MEASURE_RATE,W()("Conversion Rate")),_defineProperty(m,me.MEASURE_RATE_POPOVER,W()("The percentage of sessions in which a visitor was         exposed to this variation and triggered this event.")),_defineProperty(m,me.MEASURE_TYPE,W()("Unique Conversions")),_defineProperty(m,me.MEASURE_TYPE_POPOVER,{top:W()("The unique number of conversions for all visitors who were exposed to this variation           and triggered this event."),bottom:ge.SESSION}),_defineProperty(m,me.STATISTICAL_SIGNIFICANCE,W()("Statistical Significance")),_defineProperty(m,me.STATISTICAL_SIGNIFICANCE_POPOVER,W()("The likelihood that the observed         difference in conversion rate is not due to chance.")),m)),g)),_defineProperty(M,J.COUNT,(_defineProperty(v={},X.VISITOR,(_defineProperty(h={},me.IMPACT,W()("Impact")),_defineProperty(h,me.IMPACT_KEY,"CPV = Conversions Per Visitor"),_defineProperty(h,me.IMPACT_POPOVER,W()("The net change in conversions from the variation(s),         compared to the baseline.")),_defineProperty(h,me.IMPACT_SVG,"impact-conversion-event.svg"),_defineProperty(h,me.IMPROVEMENT,W()("Improvement")),_defineProperty(h,me.IMPROVEMENT_ABSOLUTE_POPOVER,W()("The absolute difference between the variation         conversions per visitor and the holdback conversions per visitor.")),_defineProperty(h,me.IMPROVEMENT_ABSOLUTE_SVG,"improvement-cpv-abs.svg"),_defineProperty(h,me.IMPROVEMENT_KEY,"CPV = Conversions Per Visitor"),_defineProperty(h,me.IMPROVEMENT_POPOVER,W()("The relative difference in conversions per visitor for         this variation, compared to the baseline.")),_defineProperty(h,me.IMPROVEMENT_SVG,"improvement-cpv-rel.svg"),_defineProperty(h,me.IMPROVEMENT_UNIT,W()("Change in CPV")),_defineProperty(h,me.MEASURE_RATE,W()("Conversions per Visitor")),_defineProperty(h,me.MEASURE_RATE_POPOVER,W()("The average number of conversions for visitors who         were exposed to this variation and triggered this event.")),_defineProperty(h,me.MEASURE_TYPE,W()("Total Conversions")),_defineProperty(h,me.MEASURE_TYPE_POPOVER,{top:W()("The total number of conversions for all visitors who were exposed to this variation and           triggered this event."),bottom:ge.VISITOR}),_defineProperty(h,me.STATISTICAL_SIGNIFICANCE,W()("Statistical Significance")),_defineProperty(h,me.STATISTICAL_SIGNIFICANCE_POPOVER,W()("The likelihood that the observed         difference in conversions per visitor is not due to chance.")),h)),_defineProperty(v,X.SESSION,(_defineProperty(y={},me.IMPACT,W()("Impact")),_defineProperty(y,me.IMPACT_KEY,"CPS = Conversions Per Session"),_defineProperty(y,me.IMPACT_POPOVER,W()("The net change in conversions from the variation(s),         compared to the baseline.")),_defineProperty(y,me.IMPACT_SVG,"impact-conversion-event.svg"),_defineProperty(y,me.IMPROVEMENT,W()("Improvement")),_defineProperty(y,me.IMPROVEMENT_ABSOLUTE_POPOVER,W()("The absolute difference between the variation         conversions per session and the holdback conversions per session.")),_defineProperty(y,me.IMPROVEMENT_ABSOLUTE_SVG,"improvement-cps-abs.svg"),_defineProperty(y,me.IMPROVEMENT_KEY,"CPS = Conversions Per Session"),_defineProperty(y,me.IMPROVEMENT_POPOVER,W()("The relative difference in conversions per session         for this variation, compared to the baseline.")),_defineProperty(y,me.IMPROVEMENT_SVG,"improvement-cps-rel.svg"),_defineProperty(y,me.IMPROVEMENT_UNIT,W()("Change in CPS")),_defineProperty(y,me.MEASURE_RATE,W()("Conversions per Session")),_defineProperty(y,me.MEASURE_RATE_POPOVER,W()("The average number of conversions for sessions in         which a visitor was exposed to this variation and triggered this event.")),_defineProperty(y,me.MEASURE_TYPE,W()("Total Conversions")),_defineProperty(y,me.MEASURE_TYPE_POPOVER,{top:W()("The total number of conversions for all visitors who were exposed to this variation and           triggered this event."),bottom:ge.SESSION}),_defineProperty(y,me.STATISTICAL_SIGNIFICANCE,W()("Statistical Significance")),_defineProperty(y,me.STATISTICAL_SIGNIFICANCE_POPOVER,W()("The likelihood that the observed         difference in conversions per session is not due to chance.")),y)),v)),_defineProperty(M,J.SUM,(_defineProperty(D={},X.VISITOR,(_defineProperty(S={},$.REVENUE,(_defineProperty(b={},Y.GLOBAL,(_defineProperty(_={},me.IMPACT,W()("Impact")),_defineProperty(_,me.IMPACT_KEY,"RPV = Revenue per Visitor"),_defineProperty(_,me.IMPACT_POPOVER,W()("The net change in revenue from the variation(s),             compared to the baseline.")),_defineProperty(_,me.IMPACT_SVG,"impact-revenue-event.svg"),_defineProperty(_,me.IMPROVEMENT,W()("Improvement")),_defineProperty(_,me.IMPROVEMENT_ABSOLUTE_POPOVER,W()("The absolute difference between the variation             revenue per visitor and the holdback revenue per visitor.")),_defineProperty(_,me.IMPROVEMENT_ABSOLUTE_SVG,"improvement-rpv-abs.svg"),_defineProperty(_,me.IMPROVEMENT_KEY,"RPV = Revenue per Visitor"),_defineProperty(_,me.IMPROVEMENT_POPOVER,W()("The relative difference in revenue per             visitor for this variation, compared to the baseline.")),_defineProperty(_,me.IMPROVEMENT_SVG,"improvement-rpv-rel.svg"),_defineProperty(_,me.IMPROVEMENT_UNIT,W()("Change in RPV")),_defineProperty(_,me.MEASURE_RATE,W()("Revenue per Visitor")),_defineProperty(_,me.MEASURE_RATE_POPOVER,W()("The average revenue generated by visitors who were             exposed to this variation.")),_defineProperty(_,me.MEASURE_TYPE,W()("Total Revenue")),_defineProperty(_,me.MEASURE_TYPE_POPOVER,{top:W()("The total revenue generated from visitors who were exposed to this variation."),bottom:ge.VISITOR}),_defineProperty(_,me.STATISTICAL_SIGNIFICANCE,W()("Statistical Significance")),_defineProperty(_,me.STATISTICAL_SIGNIFICANCE_POPOVER,W()("The likelihood that the observed             difference in revenue per visitor is not due to chance.")),_)),_defineProperty(b,Y.EVENT,(_defineProperty(E={},me.IMPACT,W()("Impact")),_defineProperty(E,me.IMPACT_KEY,"RPV = Revenue per Visitor"),_defineProperty(E,me.IMPACT_POPOVER,W()("The net change in revenue from the variation(s),             compared to the baseline.")),_defineProperty(E,me.IMPACT_SVG,"impact-revenue-event.svg"),_defineProperty(E,me.IMPROVEMENT,W()("Improvement")),_defineProperty(E,me.IMPROVEMENT_ABSOLUTE_POPOVER,W()("The absolute difference between the variation             revenue per visitor and the holdback revenue per visitor.")),_defineProperty(E,me.IMPROVEMENT_ABSOLUTE_SVG,"improvement-rpv-abs.svg"),_defineProperty(E,me.IMPROVEMENT_KEY,"RPV = Revenue per Visitor"),_defineProperty(E,me.IMPROVEMENT_POPOVER,W()("The relative difference in revenue per             visitor for this variation, compared to the baseline.")),_defineProperty(E,me.IMPROVEMENT_SVG,"improvement-rpv-rel.svg"),_defineProperty(E,me.IMPROVEMENT_UNIT,W()("Change in RPV")),_defineProperty(E,me.MEASURE_RATE,W()("Revenue per Visitor")),_defineProperty(E,me.MEASURE_RATE_POPOVER,W()("The average revenue generated by visitors who were             exposed to this variation and triggered this event.")),_defineProperty(E,me.MEASURE_TYPE,W()("Total Revenue")),_defineProperty(E,me.MEASURE_TYPE_POPOVER,{top:W()("The total revenue generated from visitors who were exposed to this variation."),bottom:ge.VISITOR}),_defineProperty(E,me.STATISTICAL_SIGNIFICANCE,W()("Statistical Significance")),_defineProperty(E,me.STATISTICAL_SIGNIFICANCE_POPOVER,W()("The likelihood that the observed             difference in revenue per visitor is not due to chance.")),E)),b)),_defineProperty(S,$.VALUE,_defineProperty({},Y.EVENT,(_defineProperty(T={},me.IMPACT,W()("Impact")),_defineProperty(T,me.IMPACT_KEY,"VPV = Value per Visitor"),_defineProperty(T,me.IMPACT_POPOVER,W()("The net change in value from the variation(s),             compared to the baseline.")),_defineProperty(T,me.IMPACT_SVG,"impact-vpv.svg"),_defineProperty(T,me.IMPROVEMENT,W()("Improvement")),_defineProperty(T,me.IMPROVEMENT_ABSOLUTE_POPOVER,W()("The absolute difference between the variation             value per visitor and the holdback value per visitor.")),_defineProperty(T,me.IMPROVEMENT_ABSOLUTE_SVG,"improvement-vpv-abs.svg"),_defineProperty(T,me.IMPROVEMENT_KEY,"VPV = Value per Visitor"),_defineProperty(T,me.IMPROVEMENT_POPOVER,W()("The relative difference in value per             visitor for this variation, compared to the baseline.")),_defineProperty(T,me.IMPROVEMENT_SVG,"improvement-vpv-rel.svg"),_defineProperty(T,me.IMPROVEMENT_UNIT,W()("Change in VPV")),_defineProperty(T,me.MEASURE_RATE,W()("Value per Visitor")),_defineProperty(T,me.MEASURE_RATE_POPOVER,W()("The average value generated by each             visitor who was exposed to this variation and triggered this event.")),_defineProperty(T,me.MEASURE_TYPE,W()("Total Value")),_defineProperty(T,me.MEASURE_TYPE_POPOVER,{top:W()("The total value generated from visitors who were exposed to this variation."),bottom:ge.VISITOR}),_defineProperty(T,me.STATISTICAL_SIGNIFICANCE,W()("Statistical Significance")),_defineProperty(T,me.STATISTICAL_SIGNIFICANCE_POPOVER,W()("The likelihood that the             observed difference in value per visitor is not due to chance.")),T))),S)),_defineProperty(D,X.SESSION,(_defineProperty(P={},$.REVENUE,(_defineProperty(A={},Y.GLOBAL,(_defineProperty(C={},me.IMPACT,W()("Impact")),_defineProperty(C,me.IMPACT_KEY,"RPS = Revenue per Session"),_defineProperty(C,me.IMPACT_POPOVER,W()("The net change in revenue from the variation(s),             compared to the baseline.")),_defineProperty(C,me.IMPACT_SVG,"impact-revenue-event.svg"),_defineProperty(C,me.IMPROVEMENT,W()("Improvement")),_defineProperty(C,me.IMPROVEMENT_ABSOLUTE_POPOVER,W()("The absolute difference between the variation             revenue per session and the holdback revenue per session.")),_defineProperty(C,me.IMPROVEMENT_ABSOLUTE_SVG,"improvement-rps-abs.svg"),_defineProperty(C,me.IMPROVEMENT_KEY,"RPS = Revenue per Session"),_defineProperty(C,me.IMPROVEMENT_POPOVER,W()("The relative difference in revenue per session for             this variation, compared to the baseline.")),_defineProperty(C,me.IMPROVEMENT_SVG,"improvement-rps-rel.svg"),_defineProperty(C,me.IMPROVEMENT_UNIT,W()("Change in RPS")),_defineProperty(C,me.MEASURE_RATE,W()("Revenue per Session")),_defineProperty(C,me.MEASURE_RATE_POPOVER,W()("The average revenue generated by sessions where a             visitor was exposed to this variation.")),_defineProperty(C,me.MEASURE_TYPE,W()("Total Revenue")),_defineProperty(C,me.MEASURE_TYPE_POPOVER,{top:W()("The total revenue generated from visitors who were exposed to this variation."),bottom:ge.SESSION}),_defineProperty(C,me.STATISTICAL_SIGNIFICANCE,W()("Statistical Significance")),_defineProperty(C,me.STATISTICAL_SIGNIFICANCE_POPOVER,W()("The likelihood that the observed             difference in revenue per session is not due to chance.")),C)),_defineProperty(A,Y.EVENT,(_defineProperty(I={},me.IMPACT,W()("Impact")),_defineProperty(I,me.IMPACT_KEY,"RPS = Revenue per Session"),_defineProperty(I,me.IMPACT_POPOVER,W()("The net change in revenue from the variation(s),             compared to the baseline.")),_defineProperty(I,me.IMPACT_SVG,"impact-revenue-event.svg"),_defineProperty(I,me.IMPROVEMENT,W()("Improvement")),_defineProperty(I,me.IMPROVEMENT_ABSOLUTE_POPOVER,W()("The absolute difference between the variation             revenue per session and the holdback revenue per session.")),_defineProperty(I,me.IMPROVEMENT_ABSOLUTE_SVG,"improvement-rps-abs.svg"),_defineProperty(I,me.IMPROVEMENT_KEY,"RPS = Revenue per Session"),_defineProperty(I,me.IMPROVEMENT_POPOVER,W()("The relative difference in revenue per session for             this variation, compared to the baseline.")),_defineProperty(I,me.IMPROVEMENT_SVG,"improvement-rps-rel.svg"),_defineProperty(I,me.IMPROVEMENT_UNIT,W()("Change in RPS")),_defineProperty(I,me.MEASURE_RATE,W()("Revenue per Session")),_defineProperty(I,me.MEASURE_RATE_POPOVER,W()("The average revenue generated by sessions where a             visitor was exposed to this variation and triggered this event.")),_defineProperty(I,me.MEASURE_TYPE,W()("Total Revenue")),_defineProperty(I,me.MEASURE_TYPE_POPOVER,{top:W()("The total revenue generated from visitors who were exposed to this variation."),bottom:ge.SESSION}),_defineProperty(I,me.STATISTICAL_SIGNIFICANCE,W()("Statistical Significance")),_defineProperty(I,me.STATISTICAL_SIGNIFICANCE_POPOVER,W()("The likelihood that the observed             difference in revenue per session is not due to chance.")),I)),A)),_defineProperty(P,$.VALUE,_defineProperty({},Y.EVENT,(_defineProperty(O={},me.IMPACT,W()("Impact")),_defineProperty(O,me.IMPACT_KEY,"VPS = Value per Session"),_defineProperty(O,me.IMPACT_POPOVER,W()("The net change in value from the variation(s),             compared to the baseline.")),_defineProperty(O,me.IMPACT_SVG,"impact-vps.svg"),_defineProperty(O,me.IMPROVEMENT,W()("Improvement")),_defineProperty(O,me.IMPROVEMENT_ABSOLUTE_POPOVER,W()("The absolute difference between the variation             value per session and the holdback value per session.")),_defineProperty(O,me.IMPROVEMENT_ABSOLUTE_SVG,"improvement-vps-abs.svg"),_defineProperty(O,me.IMPROVEMENT_KEY,"VPS = Value per Session"),_defineProperty(O,me.IMPROVEMENT_POPOVER,W()("The relative difference in value per             session for this variation, compared to the baseline.")),_defineProperty(O,me.IMPROVEMENT_SVG,"improvement-vps-rel.svg"),_defineProperty(O,me.IMPROVEMENT_UNIT,W()("Change in VPS")),_defineProperty(O,me.MEASURE_RATE,W()("Value per Session")),_defineProperty(O,me.MEASURE_RATE_POPOVER,W()("The average value generated by sessions             where a visitor was exposed to this variation and triggered this event.")),_defineProperty(O,me.MEASURE_TYPE,W()("Total Value")),_defineProperty(O,me.MEASURE_TYPE_POPOVER,{top:W()("The total value generated from visitors who were exposed to this variation."),bottom:ge.SESSION}),_defineProperty(O,me.STATISTICAL_SIGNIFICANCE,W()("Statistical Significance")),_defineProperty(O,me.STATISTICAL_SIGNIFICANCE_POPOVER,W()("The likelihood that the observed             difference in value per session is not due to chance.")),O))),P)),_defineProperty(D,X.EVENT,(_defineProperty(x={},$.REVENUE,(_defineProperty(N={},Y.EVENT,(_defineProperty(R={},me.IMPACT,W()("Impact")),_defineProperty(R,me.IMPACT_KEY,"RPC = Revenue per Conversion"),_defineProperty(R,me.IMPACT_POPOVER,W()("The net change in revenue from the variation(s),             compared to the baseline.")),_defineProperty(R,me.IMPACT_SVG,"impact-revenue-event.svg"),_defineProperty(R,me.IMPROVEMENT,W()("Improvement")),_defineProperty(R,me.IMPROVEMENT_ABSOLUTE_POPOVER,W()("The absolute difference between the variation             revenue per conversion and the holdback revenue per conversion.")),_defineProperty(R,me.IMPROVEMENT_ABSOLUTE_SVG,"improvement-rpc-abs.svg"),_defineProperty(R,me.IMPROVEMENT_KEY,"RPC = Revenue per Conversion"),_defineProperty(R,me.IMPROVEMENT_POPOVER,W()("The relative difference in revenue per conversion             for this variation, compared to the baseline.")),_defineProperty(R,me.IMPROVEMENT_SVG,"improvement-rpc-rel.svg"),_defineProperty(R,me.IMPROVEMENT_UNIT,W()("Change in RPC")),_defineProperty(R,me.MEASURE_RATE,W()("Revenue per Conversion")),_defineProperty(R,me.MEASURE_RATE_POPOVER,W()("The average revenue generated by conversions             of this event for this variation.")),_defineProperty(R,me.MEASURE_TYPE,W()("Total Revenue")),_defineProperty(R,me.MEASURE_TYPE_POPOVER,{top:W()("The total revenue generated from visitors who were exposed to this variation."),bottom:ge.EVENT}),_defineProperty(R,me.STATISTICAL_SIGNIFICANCE,W()("Statistical Significance")),_defineProperty(R,me.STATISTICAL_SIGNIFICANCE_POPOVER,W()("The likelihood that the observed             difference in revenue per conversion is not due to chance.")),R)),_defineProperty(N,Y.GLOBAL,(_defineProperty(w={},me.IMPACT,W()("Impact")),_defineProperty(w,me.IMPACT_KEY,"RPC = Revenue per Conversion"),_defineProperty(w,me.IMPACT_POPOVER,W()("The net change in revenue from the variation(s),             compared to the baseline.")),_defineProperty(w,me.IMPACT_SVG,"impact-revenue-event.svg"),_defineProperty(w,me.IMPROVEMENT,W()("Improvement")),_defineProperty(w,me.IMPROVEMENT_ABSOLUTE_POPOVER,W()("The absolute difference between the variation             revenue per conversion and the holdback revenue per conversion.")),_defineProperty(w,me.IMPROVEMENT_ABSOLUTE_SVG,"improvement-rpc-abs.svg"),_defineProperty(w,me.IMPROVEMENT_KEY,"RPC = Revenue per Conversion"),_defineProperty(w,me.IMPROVEMENT_POPOVER,W()("The relative difference in revenue per conversion             for this variation, compared to the baseline.")),_defineProperty(w,me.IMPROVEMENT_SVG,"improvement-rpc-rel.svg"),_defineProperty(w,me.IMPROVEMENT_UNIT,W()("Change in RPC")),_defineProperty(w,me.MEASURE_RATE,W()("Revenue per Conversion")),_defineProperty(w,me.MEASURE_RATE_POPOVER,W()("The average revenue generated by conversions of             this event for this variation.")),_defineProperty(w,me.MEASURE_TYPE,W()("Total Revenue")),_defineProperty(w,me.MEASURE_TYPE_POPOVER,{top:W()("The total revenue generated from visitors who were exposed to this variation."),bottom:ge.EVENT}),_defineProperty(w,me.STATISTICAL_SIGNIFICANCE,W()("Statistical Significance")),_defineProperty(w,me.STATISTICAL_SIGNIFICANCE_POPOVER,W()("The likelihood that the observed             difference in revenue per conversion is not due to chance.")),w)),N)),_defineProperty(x,$.VALUE,_defineProperty({},Y.EVENT,(_defineProperty(L={},me.IMPACT,W()("Impact")),_defineProperty(L,me.IMPACT_KEY,"VPC = Value per Conversion"),_defineProperty(L,me.IMPACT_POPOVER,W()("The net change in value from the variation(s),             compared to the baseline.")),_defineProperty(L,me.IMPACT_SVG,"impact-vpc.svg"),_defineProperty(L,me.IMPROVEMENT,W()("Improvement")),_defineProperty(L,me.IMPROVEMENT_ABSOLUTE_POPOVER,W()("The absolute difference between the variation             value per conversion and the holdback value per conversion.")),_defineProperty(L,me.IMPROVEMENT_ABSOLUTE_SVG,"improvement-vpc-abs.svg"),_defineProperty(L,me.IMPROVEMENT_KEY,"VPC = Value per Conversion"),_defineProperty(L,me.IMPROVEMENT_POPOVER,W()("The relative difference in value per             conversion for this variation, compared to the baseline.")),_defineProperty(L,me.IMPROVEMENT_SVG,"improvement-vpc-rel.svg"),_defineProperty(L,me.IMPROVEMENT_UNIT,W()("Change in VPC")),_defineProperty(L,me.MEASURE_RATE,W()("Value per Conversion")),_defineProperty(L,me.MEASURE_RATE_POPOVER,W()("The average value generated by conversions             of this event for this variation.")),_defineProperty(L,me.MEASURE_TYPE,W()("Total Value")),_defineProperty(L,me.MEASURE_TYPE_POPOVER,{top:W()("The total value generated from visitors who were exposed to this variation."),bottom:ge.EVENT}),_defineProperty(L,me.STATISTICAL_SIGNIFICANCE,W()("Statistical Significance")),_defineProperty(L,me.STATISTICAL_SIGNIFICANCE_POPOVER,W()("The likelihood that the observed             difference in value per conversion is not due to chance.")),L))),x)),D)),_defineProperty(M,J.BOUNCE,_defineProperty({},X.EVENT,(_defineProperty(k={},me.IMPACT,W()("Impact")),_defineProperty(k,me.IMPACT_KEY,"BR = Bounce Rate"),_defineProperty(k,me.IMPACT_POPOVER,W()("The net change in bounces from the variation(s),         compared to the baseline.")),_defineProperty(k,me.IMPACT_SVG,"impact-bounce.svg"),_defineProperty(k,me.IMPROVEMENT,W()("Improvement")),_defineProperty(k,me.IMPROVEMENT_ABSOLUTE_POPOVER,W()("The absolute difference between the variation         bounce rate and the holdback bounce rate.")),_defineProperty(k,me.IMPROVEMENT_ABSOLUTE_SVG,"improvement-bounce-abs.svg"),_defineProperty(k,me.IMPROVEMENT_KEY,"BR = Bounce Rate"),_defineProperty(k,me.IMPROVEMENT_POPOVER,W()("The relative difference in bounce rate for       this variation, compared to the baseline.")),_defineProperty(k,me.IMPROVEMENT_SVG,"improvement-bounce-rel.svg"),_defineProperty(k,me.IMPROVEMENT_UNIT,W()("Change in BR")),_defineProperty(k,me.MEASURE_RATE,W()("Bounce Rate")),_defineProperty(k,me.MEASURE_RATE_POPOVER,W()("The percentage of qualified sessions where         visitors exposed to this variation viewed only this Page.")),_defineProperty(k,me.MEASURE_TYPE,W()("Total Bounces")),_defineProperty(k,me.MEASURE_TYPE_POPOVER,{top:W()("The total number of sessions where visitors exposed to this variation viewed only this Page."),bottom:ge.BOUNCE_QUALIFIED_SESSION}),_defineProperty(k,me.STATISTICAL_SIGNIFICANCE,W()("Statistical Significance")),_defineProperty(k,me.STATISTICAL_SIGNIFICANCE_POPOVER,W()("The likelihood that the observed       difference in bounce rate is not due to chance.")),k))),_defineProperty(M,J.EXIT,_defineProperty({},X.EVENT,(_defineProperty(j={},me.IMPACT,W()("Impact")),_defineProperty(j,me.IMPACT_KEY,"ER = Exit Rate"),_defineProperty(j,me.IMPACT_POPOVER,W()("The net change in exits from the variation(s),         compared to the baseline.")),_defineProperty(j,me.IMPACT_SVG,"impact-exit.svg"),_defineProperty(j,me.IMPROVEMENT,W()("Improvement")),_defineProperty(j,me.IMPROVEMENT_ABSOLUTE_POPOVER,W()("The absolute difference between the variation         exit rate and the holdback exit rate.")),_defineProperty(j,me.IMPROVEMENT_ABSOLUTE_SVG,"improvement-exit-abs.svg"),_defineProperty(j,me.IMPROVEMENT_KEY,"ER = Exit Rate"),_defineProperty(j,me.IMPROVEMENT_POPOVER,W()("The relative difference in exit rate for         this variation, compared to the baseline.")),_defineProperty(j,me.IMPROVEMENT_SVG,"improvement-exit-rel.svg"),_defineProperty(j,me.IMPROVEMENT_UNIT,W()("Change in ER")),_defineProperty(j,me.MEASURE_RATE,W()("Exit Rate")),_defineProperty(j,me.MEASURE_RATE_POPOVER,W()("The percentage of qualified sessions         where visitors exposed to this variation ended the session on this Page.")),_defineProperty(j,me.MEASURE_TYPE,W()("Total Exits")),_defineProperty(j,me.MEASURE_TYPE_POPOVER,{top:W()("The total number of sessions where visitors exposed to this variation ended           the session on this Page."),bottom:ge.EXIT_QUALIFIED_SESSION}),_defineProperty(j,me.STATISTICAL_SIGNIFICANCE,W()("Statistical Significance")),_defineProperty(j,me.STATISTICAL_SIGNIFICANCE_POPOVER,W()("The likelihood that the observed         difference in exit rate is not due to chance.")),j))),M);r.default={WORKING_METRIC_ALIAS:q,metricLevel:Y,event_type:K,aggregator:J,scope:X,field:$,winning_direction:Q,liftStatus:Z,measureTypeHumanReadable:ee,aggregatorHumanReadable:te,scopeHumanReadable:ne,abandonmentMetricScopeHumanReadable:re,fieldHumanReadable:ae,globalMetricsByField:ie,aggregationOptions:oe,aggregationTypes:se,aggregationOperations:ce,overallRevenueAggregatorOptions:le,layerBasedScopeOptions:ue,revenueScopeOptions:de,eventScopeOptions:fe,winningDirectionOptions:pe,metricCopyProperties:me,scopeDescriptions:ge,metricsCardHeaders:he}},function(t,r,a){"use strict";a.d(r,"c",(function(){return l})),a.d(r,"b",(function(){return u})),a.d(r,"a",(function(){return E}));var i,o=a(121);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var c={CATALOG:"catalogs",EVENT:(i={},_defineProperty(i,o.a.eventTypes.CLICK,"Click"),_defineProperty(i,o.a.eventTypes.CUSTOM,"Custom"),_defineProperty(i,"VIEW","Page View"),i),RECOMMENDER:"recommender"},l={CATALOG:"CatalogDashboard",RECOMMENDER:"RecommenderDashboard"},u={TAG:{hasDeletedTag:"This event has a tag that was deleted and is no longer being used.",hasNoTags:"Add at least one tag to this event by clicking on <i>Edit event tags</i>.",hasNoPrimaryIDTag:"This event does not have the required Primary ID tag.",isDeletedTag:"This tag was deleted and is no longer being used.",previouslyDeletedTag:"The previously selected tag was deleted and is no longer being used.",primaryIDTag:"Primary ID is required. Available tags are those from selected events above."}},d={SELECT:{OP:"Select operator...",VALUE:"Select tag/value..."},CONJUNCTION:{ALL:"all",ANY:"any"},CONTEXT:{KEY:"Key Item",RECOMMENDATION:"Recommended Items"},CUSTOM:"custom",OPERATOR:{CONTAINS:"contains",EQUAL:"= (equals)",GREATER_THAN:"> (greater than)",GREATER_THAN_OR_EQUAL:">= (greater than or equals)",LESS_THAN:"< (less than)",LESS_THAN_OR_EQUAL:"<= (less than or equals)",NOT_EQUAL:"!= (doesn't equal)",REGEX:"regex"},POLICIES:{EXCLUDE:"Exclude",INCLUDE:"Include"}},p={SELECT:{OP:"select-operator",VALUE:"select-value"},CONJUNCTION:{ALL:"and",ANY:"or"},CONTEXT:{KEY:"target",RECOMMENDATION:"reco"},CUSTOM:"custom",OPERATOR:{CONTAINS:"contains",EQUAL:"=",GREATER_THAN:">",GREATER_THAN_OR_EQUAL:">=",LESS_THAN:"<",LESS_THAN_OR_EQUAL:"<=",NOT_EQUAL:"!=",REGEX:"regex"},POLICIES:{EXCLUDE:"exclude",INCLUDE:"include"}},m={CONJUNCTION:d.CONJUNCTION.ALL,CONTEXT:d.CONTEXT.KEY,CUSTOM:d.CUSTOM,OP:d.SELECT.OP,POLICY:d.POLICIES.INCLUDE,VALUE:d.SELECT.VALUE},g={CONJUNCTION:p.CONJUNCTION.ALL,CONTEXT:p.CONTEXT.KEY,CUSTOM:p.CUSTOM,OP:p.SELECT.OP,POLICY:p.POLICIES.INCLUDE,VALUE:p.SELECT.VALUE},h={op:g.OP,lhs:{context:g.CONTEXT,field:[g.VALUE]},rhs:{context:g.CONTEXT,field:[g.VALUE]}},y={policy:g.POLICY,condition:{conditions:[h],op:g.CONJUNCTION}},v=[{label:d.CONJUNCTION.ALL,value:p.CONJUNCTION.ALL},{label:d.CONJUNCTION.ANY,value:p.CONJUNCTION.ANY}],_=[{label:d.CONTEXT.KEY,description:"Evaluate the item this recommender references to generate recommendations.",value:p.CONTEXT.KEY},{label:d.CONTEXT.RECOMMENDATION,description:"Evaluate the recommendations generated from the key item.",value:p.CONTEXT.RECOMMENDATION}],E={HIGHEST:{label:"Catalog Items with Highest Number of Events",description:"Catalog items with a disproportionate number of events OVER the average might indicate an issue with your configuration.",testSection:"highest-event-distribution"},LOWEST:{label:"Catalog Items with Lowest Number of Events",description:"Catalog items with a disproportionate number of events UNDER the average might indicate an issue with your configuration.",testSection:"lowest-event-distribution"}},b=[{label:d.SELECT.OP,value:p.SELECT.OP},{label:d.OPERATOR.EQUAL,activatorLabel:p.OPERATOR.EQUAL,value:p.OPERATOR.EQUAL},{label:d.OPERATOR.NOT_EQUAL,activatorLabel:p.OPERATOR.NOT_EQUAL,value:p.OPERATOR.NOT_EQUAL},{label:d.OPERATOR.LESS_THAN,activatorLabel:p.OPERATOR.LESS_THAN,value:p.OPERATOR.LESS_THAN},{label:d.OPERATOR.GREATER_THAN,activatorLabel:p.OPERATOR.GREATER_THAN,value:p.OPERATOR.GREATER_THAN},{label:d.OPERATOR.LESS_THAN_OR_EQUAL,activatorLabel:p.OPERATOR.LESS_THAN_OR_EQUAL,value:p.OPERATOR.LESS_THAN_OR_EQUAL},{label:d.OPERATOR.GREATER_THAN_OR_EQUAL,activatorLabel:p.OPERATOR.GREATER_THAN_OR_EQUAL,value:p.OPERATOR.GREATER_THAN_OR_EQUAL},{label:d.OPERATOR.CONTAINS,value:p.OPERATOR.CONTAINS},{label:d.OPERATOR.REGEX,value:p.OPERATOR.REGEX}],T=[{label:d.POLICIES.INCLUDE,value:p.POLICIES.INCLUDE},{label:d.POLICIES.EXCLUDE,value:p.POLICIES.EXCLUDE}],S=[{label:d.SELECT.VALUE,value:p.SELECT.VALUE},{label:d.CUSTOM,value:p.CUSTOM}];r.d={DEFAULT_MAX_VALIDATION_RATE:5e3,ENTITY_HUMAN_READABLES:c,EDIT_WARNING_TEXTS:{CATALOG:{message:"You don't have permissions to edit this catalog.",testSection:"catalog-dialog-edit-warning-attention"},EVENT:{message:"You don't have permissions to edit this event's tags.",testSection:"edit-event-tags-dialog-edit-warning-attention"},RECOMMENDER:{message:"You don't have permissions to edit this recommender.",testSection:"recommender-dialog-edit-warning-attention"}},MISSING_WARNING_TEXTS:u,TABLE_IDS:l,ConjunctionOptions:v,ContextOptions:_,DefaultCondition:h,DefaultRule:y,DefaultFilteringRuleLabels:m,DefaultFilteringRuleValues:g,EntityInfo:{CATALOG:{entityType:"catalog",namePlaceholder:"Enter a unique name for this catalog.",descriptionPlaceholder:"Describe the contents of this catalog."},RECOMMENDER:{entityType:"recommender",namePlaceholder:"Enter a unique name for this recommender.",descriptionPlaceholder:"Describe this recommender."}},EventDistributionInfo:E,EventKind:{VIEW:"View",EVENT:"UserEvent"},FilteringRulesLabels:d,FilteringRulesValues:p,OperatorOptions:b,PolicyOptions:T,ValueOptions:S}},,function(t,r,a){"use strict";a.d(r,"a",(function(){return p})),a.d(r,"b",(function(){return m})),a.d(r,"c",(function(){return g})),a.d(r,"d",(function(){return h})),a.d(r,"e",(function(){return y})),a.d(r,"f",(function(){return v})),a.d(r,"g",(function(){return _}));var i,o=a(17),c=a.n(o),l=a(21),u=a(238),d=a(7);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var p={ALL_ENTITIES:"all_entities",END_TIME:"end_time",ENTITY:"entity",ENTITY_TYPE:"entity_type",ID:"id",PAGE:"page",PER_PAGE:"per_page",PROJECT_ID:"project_id",START_TIME:"start_time"},m={attribute:{entityType:"attribute",iconName:"tag",readableName:"Attribute",subTypeToReadableNameMap:{}},audience:{entityType:"audience",iconName:"user-group-thin",readableName:"Audience",subTypeToReadableNameMap:{}},campaign:{entityType:"campaign",iconName:"megaphone-thin",readableName:"Campaign",subTypeToReadableNameMap:{}},environment:{entityType:"environment",iconName:"code",newIconName:"terminal",readableName:"Environment",subTypeToReadableNameMap:{}},event:{entityType:"event",iconName:"monitor-waveform-thin",readableName:"Event",subTypeToReadableNameMap:{}},experiment:{entityType:"experiment",iconName:"flask-thin",readableName:"Experiment",subTypeToReadableNameMap:(i={},_defineProperty(i,l.type.AB,u.TEXT_BY_LAYER_TYPE[l.type.AB].name),_defineProperty(i,l.type.FEATURE,u.TEXT_BY_LAYER_TYPE[l.type.FEATURE].name),_defineProperty(i,l.type.MULTIARMED_BANDIT,u.TEXT_BY_LAYER_TYPE[l.type.MULTIARMED_BANDIT].name),_defineProperty(i,l.type.MULTIVARIATE,u.TEXT_BY_LAYER_TYPE[l.type.MULTIVARIATE].name),_defineProperty(i,l.type.PERSONALIZATION,"Experience"),i)},extension:{entityType:"extension",iconName:"puzzle-piece",readableName:"Extension",subTypeToReadableNameMap:{}},feature:{entityType:"feature",iconName:"sliders-thin",readableName:"Feature",subTypeToReadableNameMap:{}},flag:{entityType:"flag",iconName:"flag",readableName:"Flag",subTypeToReadableNameMap:{}},group:{entityType:"group",iconName:"megaphone-thin",readableName:"Group",subTypeToReadableNameMap:{}},list_attribute:{entityType:"list_attribute",iconName:"tag",readableName:"List Attribute",subTypeToReadableNameMap:{}},metrics:{entityType:"metrics",iconName:"chart-line",readableName:"Metrics",subTypeToReadableNameMap:{}},section:{entityType:"section",iconName:"ball-pile-thin",readableName:"Multivariate Section",subTypeToReadableNameMap:{}},page:{entityType:"page",iconName:"file",readableName:"Page",subTypeToReadableNameMap:{}},project:{entityType:"project",iconName:"timeline-arrow-thin",readableName:"Project",subTypeToReadableNameMap:{}},rule:{entityType:"rule",iconName:"rule",readableName:"Rule",subTypeToReadableNameMap:{}},ruleset:{entityType:"ruleset",iconName:"ruleset",readableName:"Ruleset",subTypeToReadableNameMap:{}},tag:{entityType:"tag",iconName:"tag",readableName:"Tag",subTypeToReadableNameMap:{}},variation:{entityType:"variation",iconName:"variations",readableName:"Variation",subTypeToReadableNameMap:{}}},g={TOO_LARGE:{id:"TOO_LARGE",readable:"This diff is too large to format"}},h={PAGE_VIEW:"Change History Page View",FILTER_APPLIED:"Change History Filter Applied",HIDE_ALL_DETAILS_CLICKED:"Change History All Details Closed",HIDE_DETAILS_CLICKED:"Change History Details Closed",SHOW_ALL_DETAILS_CLICKED:"Change History All Details Opened",SHOW_DETAILS_CLICKED:"Change History Details Opened",SHOW_MORE_CLICKED:"Change History Show More Clicked",GO_TO_PAGE_CLICKED:"Change History Pagination Control Clicked"},y={any:{entityTypes:[],isHiddenOnFlags:!1,projectTypes:[d.project_types.WEB,d.project_types.FULL_STACK,d.project_types.ROLLOUTS],readableName:"Any",type:"any"},ab_test:{entityTypes:["".concat(m.experiment.entityType,":").concat(l.type.AB)],isHiddenOnFlags:!0,projectTypes:[d.project_types.WEB,d.project_types.FULL_STACK],readableName:u.TEXT_BY_LAYER_TYPE[l.type.AB].name,type:"ab_test"},attribute:{entityTypes:[m.attribute.entityType],isHiddenOnFlags:!1,projectTypes:[d.project_types.WEB,d.project_types.FULL_STACK],readableName:m.attribute.readableName,type:"attribute"},audience:{entityTypes:[m.audience.entityType],isHiddenOnFlags:!1,projectTypes:[d.project_types.WEB,d.project_types.FULL_STACK,d.project_types.ROLLOUTS],readableName:m.audience.readableName,type:"audience"},environment:{entityTypes:[m.environment.entityType],isHiddenOnFlags:!1,projectTypes:[d.project_types.FULL_STACK,d.project_types.ROLLOUTS],readableName:m.environment.readableName,type:"environment"},event:{entityTypes:[m.event.entityType],isHiddenOnFlags:!1,projectTypes:[d.project_types.WEB,d.project_types.FULL_STACK],readableName:m.event.readableName,type:"event"},extension:{entityTypes:[m.extension.entityType],isHiddenOnFlags:!1,projectTypes:[d.project_types.WEB],readableName:m.extension.readableName,type:"extension"},feature:{entityTypes:[m.feature.entityType],isHiddenOnFlags:!0,projectTypes:[d.project_types.FULL_STACK,d.project_types.ROLLOUTS],readableName:m.feature.readableName,type:"feature"},feature_test:{entityTypes:["".concat(m.experiment.entityType,":").concat(l.type.FEATURE)],isHiddenOnFlags:!0,projectTypes:[d.project_types.FULL_STACK],readableName:u.TEXT_BY_LAYER_TYPE[l.type.FEATURE].name,type:"feature_test"},flag:{entityTypes:[m.flag.entityType],isHiddenOnFlags:!1,projectTypes:[d.project_types.FULL_STACK,d.project_types.ROLLOUTS],readableName:m.flag.readableName,type:"flag"},group:{entityTypes:[m.group.entityType],isHiddenOnFlags:!1,projectTypes:[d.project_types.WEB,d.project_types.FULL_STACK],readableName:m.group.readableName,type:"group"},list_attribute:{entityTypes:[m.list_attribute.entityType],isHiddenOnFlags:!1,projectTypes:[d.project_types.WEB],readableName:m.list_attribute.readableName,type:"list_attribute"},metrics:{entityTypes:[m.metrics.entityType],isHiddenOnFlags:!1,projectTypes:[d.project_types.WEB],readableName:m.metrics.readableName,useFeature:"metrics_usability",type:"metrics"},multiarmed_bandit_test:{entityTypes:["".concat(m.experiment.entityType,":").concat(l.type.MULTIARMED_BANDIT)],isHiddenOnFlags:!0,projectTypes:[d.project_types.WEB,d.project_types.FULL_STACK],readableName:u.TEXT_BY_LAYER_TYPE[l.type.MULTIARMED_BANDIT].name,type:"multiarmed_bandit_test"},multivariate_test:{entityTypes:["".concat(m.experiment.entityType,":").concat(l.type.MULTIVARIATE),m.section.entityType],isHiddenOnFlags:!1,projectTypes:[d.project_types.WEB],readableName:u.TEXT_BY_LAYER_TYPE[l.type.MULTIVARIATE].name,type:"multivariate_test"},page:{entityTypes:[m.page.entityType],isHiddenOnFlags:!1,projectTypes:[d.project_types.WEB],readableName:m.page.readableName,type:"page"},personalization:{entityTypes:[m.campaign.entityType,"".concat(m.experiment.entityType,":").concat(l.type.PERSONALIZATION)],isHiddenOnFlags:!1,projectTypes:[d.project_types.WEB],readableName:u.TEXT_BY_LAYER_TYPE[l.type.PERSONALIZATION].name,type:"personalization"},project:{entityTypes:[m.project.entityType],isHiddenOnFlags:!1,projectTypes:[d.project_types.WEB,d.project_types.FULL_STACK,d.project_types.ROLLOUTS],readableName:m.project.readableName,type:"project"},ruleset:{entityTypes:[m.ruleset.entityType],isHiddenOnFlags:!1,projectTypes:[d.project_types.FULL_STACK,d.project_types.ROLLOUTS],readableName:m.ruleset.readableName,type:"ruleset"},tag:{entityTypes:[m.tag.entityType],isHiddenOnFlags:!1,projectTypes:[],readableName:m.tag.readableName,type:"tag"},variation:{entityTypes:[m.variation.entityType],isHiddenOnFlags:!1,projectTypes:[d.project_types.FULL_STACK,d.project_types.ROLLOUTS],readableName:m.variation.readableName,type:"variation"}},v={DATE_RANGE:{id:"DATE_RANGE",label:"Date",placeholder:"Anytime",filterName:[p.START_TIME,p.END_TIME],projectTypes:[d.project_types.WEB,d.project_types.FULL_STACK,d.project_types.ROLLOUTS]},LOG_ID:{id:"LOG_ID",label:null,placeholder:null,filterName:p.ID,projectTypes:[d.project_types.WEB,d.project_types.FULL_STACK,d.project_types.ROLLOUTS]},SEARCH:{id:"SEARCH",label:null,placeholder:"Search by type:ID (ex. page:1234)",filterName:p.ENTITY,projectTypes:[d.project_types.WEB,d.project_types.FULL_STACK,d.project_types.ROLLOUTS]},SOURCE:{id:"SOURCE",label:"Source",placeholder:"Any",filterName:"source",values:{any:null,optimizely:"api",user:"ui"},projectTypes:[d.project_types.WEB,d.project_types.FULL_STACK,d.project_types.ROLLOUTS]},TYPE:{id:"TYPE",label:"Type",placeholder:"Any",filterName:"type",projectTypes:[d.project_types.WEB,d.project_types.FULL_STACK,d.project_types.ROLLOUTS]}},_=c()({MANAGER:null,PROJECT:null});r.h={ApiFilterType:p,DEFAULT_CHANGES_TO_FETCH:50,DEFAULT_MAX_API_FILTERS:125,DEFAULT_PRETTY_DIFF_LINE_CAP:1e3,DEFAULT_SHOULD_PRETTIFY_DIFF:!0,EntityType:m,FormatWarnings:g,SegmentEvents:h,UiFilterType:v,UiEntityType:y,UiStyles:_}},function(t,r,a){"use strict";a.r(r);var i=a(361);a.d(r,"constants",(function(){return i.a}));var o=a(22);a.d(r,"fns",(function(){return o.default}));var c=a(39);a.d(r,"getters",(function(){return c.default})),r.default={constants:i.a,fns:o.default,getters:c.default}},function(t,r,a){"use strict";a.r(r);var i=a(213);a.d(r,"actions",(function(){return i.a}));var o=a(508);a.d(r,"entityDef",(function(){return o.a}));var c=a(121);a.d(r,"enums",(function(){return c.a}));var l=a(1197);a.d(r,"fns",(function(){return l.a}));var u=a(311);a.d(r,"getters",(function(){return u.default}));var d=a(1198);a.d(r,"humanReadable",(function(){return d.a})),r.default={actions:i.a,entityDef:o.a,enums:c.a,fns:l.a,getters:u.default,humanReadable:d.a}},,,,function(t,r,a){"use strict";a.r(r);var i,o,c=a(4),l=a.n(c),u=a(1),d=a.n(u),p=a(0),m=a.n(p),g=a(9),h=a.n(g),y=a(28),v=a(168);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=Object(y.a)((function(t){return{isIdLoading:t.loadingId?v.a.isLoading(t.loadingId):[null]}}))(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(LoadingOverlay,t);var r=_createSuper(LoadingOverlay);function LoadingOverlay(){var t;_classCallCheck(this,LoadingOverlay);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).getLoadingState=function(){return void 0!==t.props.loadingId?t.props.isIdLoading:t.props.isLoading},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(LoadingOverlay,[{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){if(void 0===this.props.isLoading&&void 0===this.props.loadingId)throw new Error("Must pass either `loadingId` or `isLoading`")}},{key:"render",value:function render(){var t=this.props.size,r=l.a.omit(this.props,["connectGetters","size","isIdLoading","isLoading","children","loadingId"]);r.className&&(r.className="".concat(r.className," position--relative"));var a=this.getLoadingState();return m.a.createElement("div",_extends({"data-ui-component":!0},r),a&&m.a.createElement("div",{className:"lego-overlay",style:{zIndex:10},"data-test-section":"loading-overlay"},m.a.createElement("div",{className:h()({"lego-spinner":!0,"lego-spinner--small":"tiny"===t,"lego-spinner--tiny":"small"===t})})),this.props.children)}}]),LoadingOverlay}(m.a.Component)).displayName="LoadingOverlay",o.propTypes={size:d.a.oneOf(["small","tiny"]),isIdLoading:d.a.bool,isLoading:d.a.bool,loadingId:d.a.string,children:d.a.node},o.defaultProps={size:null},i=o))||i;r.default=_},,function(t,r,a){"use strict";a.r(r),a.d(r,"getPlatformName",(function(){return A})),a.d(r,"getPlatformNameUppercase",(function(){return O})),a.d(r,"getHumanReadableProjectType",(function(){return P})),a.d(r,"getProjectType",(function(){return getProjectType})),a.d(r,"getDeliveryModeOrProjectType",(function(){return getDeliveryModeOrProjectType})),a.d(r,"getSnippetGlobalName",(function(){return getSnippetGlobalName})),a.d(r,"isCustomProject",(function(){return isCustomProject})),a.d(r,"isClassicCustomProject",(function(){return isClassicCustomProject})),a.d(r,"isXCustomProject",(function(){return isXCustomProject})),a.d(r,"webProjectCode",(function(){return webProjectCode})),a.d(r,"getProjectEdgeUrl",(function(){return getProjectEdgeUrl})),a.d(r,"getProjectEdgeSubdomainCode",(function(){return getProjectEdgeSubdomainCode})),a.d(r,"iOSProjectCode",(function(){return iOSProjectCode})),a.d(r,"iOSEnableEditorProjectCode",(function(){return iOSEnableEditorProjectCode})),a.d(r,"androidProjectCode",(function(){return androidProjectCode})),a.d(r,"androidEnableEditorProjectCode",(function(){return androidEnableEditorProjectCode})),a.d(r,"isiOSProject",(function(){return isiOSProject})),a.d(r,"isAndroidProject",(function(){return isAndroidProject})),a.d(r,"installationVerified",(function(){return installationVerified})),a.d(r,"createEntity",(function(){return createEntity})),a.d(r,"isUsingStandaloneSnippet",(function(){return isUsingStandaloneSnippet})),a.d(r,"isUsingBundledSnippet",(function(){return isUsingBundledSnippet})),a.d(r,"isUsingLegacySnippet",(function(){return isUsingLegacySnippet})),a.d(r,"isOTTProject",(function(){return isOTTProject})),a.d(r,"isFullStackProject",(function(){return isFullStackProject})),a.d(r,"isFlagsProject",(function(){return isFlagsProject})),a.d(r,"isXMobileProject",(function(){return isXMobileProject})),a.d(r,"isMobileOrOTTProject",(function(){return isMobileOrOTTProject})),a.d(r,"formatCustomProjectName",(function(){return formatCustomProjectName})),a.d(r,"filterIntegrationByProject",(function(){return filterIntegrationByProject})),a.d(r,"formatAnyProjectName",(function(){return formatAnyProjectName})),a.d(r,"getPrimarySDKLanguage",(function(){return getPrimarySDKLanguage})),a.d(r,"projectCode",(function(){return projectCode})),a.d(r,"getSyntaxHighlightingLanguage",(function(){return getSyntaxHighlightingLanguage})),a.d(r,"isWebProject",(function(){return isWebProject})),a.d(r,"isWebEdgeProject",(function(){return isWebEdgeProject})),a.d(r,"isMobileProject",(function(){return isMobileProject})),a.d(r,"isCrossPlatformProject",(function(){return isCrossPlatformProject})),a.d(r,"isUsingV2Snippet",(function(){return R})),a.d(r,"customAttributeLimit",(function(){return customAttributeLimit})),a.d(r,"getEditorIframeProtocolPreference",(function(){return getEditorIframeProtocolPreference})),a.d(r,"mapProjectWithProjectType",(function(){return w}));var i=a(4),o=a.n(i),c=a(72),l=a.n(c),u=a(2),d=a(15),p=a.n(d),m=a(197),g=a(1498),h=a.n(g),y=a(2158),v=a.n(y),_=a(1499),E=a.n(_),b=a(2159),T=a.n(b),S=a(7),C=a(506);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var I='<script src="https://cdn%s.optimizely.com/js/%s.js"><\/script>',A=function getPlatformName(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(isFullStackProject(t)){var o=Object(u.isImmutable)(t)?t.get("third_party_platform"):t.third_party_platform;return o===S.default.thirdPartyPlatforms.SALESFORCE?S.default.thirdPartyPlatformsReadable.SALESFORCE_OPX:o===S.default.thirdPartyPlatforms.MICROSOFT_DYNAMICS_365_COMMERCE?S.default.thirdPartyPlatformsReadable.MICROSOFT_DYNAMICS_365_COMMERCE:r||!a?S.default.projectPlatformsHumanReadable.FULL_STACK:!r&&i?S.default.projectPlatformsHumanReadable.ROLLOUTS_PLUS:S.default.projectPlatformsHumanReadable.ROLLOUTS}if(isMobileOrOTTProject(t)||isFullStackProject(t))return S.default.sdksHumanReadable[getPrimarySDKLanguage(t)]||m.default.capitalize(S.default.project_platforms.CUSTOM);if(isiOSProject(t))return S.default.sdksHumanReadable[S.default.sdks.IOS];if(isWebProject(t)){var c=Object(u.isImmutable)(t)?t.get("delivery_mode"):t.delivery_mode;return c?m.default.capitalize(c):m.default.capitalize(S.default.projectPlatformsHumanReadable.WEB)}return m.default.capitalize(Object(u.isImmutable)(t)?t.getIn(["project_platforms",0]):t.project_platforms[0])},O=function getPlatformNameUppercase(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=A(t,r,a,i);return"iOS"===o?o:o.toUpperCase()},P=function getHumanReadableProjectType(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=A(t,r,a,i);return isFlagsProject(t)?o+=tr(" (Flags)"):isFlagsProject(t)||isMobileOrOTTProject(t)||!r&&a||!isXCustomProject(t)?isXCustomProject(t)||isUsingStandaloneSnippet(t)?o+=tr(" (Optimizely X)"):isClassicCustomProject(t)||isiOSProject(t)||isAndroidProject(t)||isUsingLegacySnippet(t)?o+=tr(" (Optimizely Classic)"):isUsingBundledSnippet(t)?o+=tr(" (Both Classic and X)"):void 0:o+=tr(" (Legacy)")};function getProjectType(t){var r=t.getIn(["project_platforms",0]);return r===S.default.project_platforms.WEB?r:t.getIn(["sdks",0])||r}function getDeliveryModeOrProjectType(t){return t&&Object.values(S.default.delivery_modes).includes(t.get("delivery_mode"))?t.get("delivery_mode"):t&&getProjectType(t)}function getSnippetGlobalName(t){return S.default.snippetGlobalByTypeOrDeliveryMode[getDeliveryModeOrProjectType(t)]}function isCustomProject(t){return!!t&&(Object(u.isImmutable)(t)?t.get("project_platforms",Object(u.toImmutable)([])).contains(p.a.ProjectPlatforms.CUSTOM):!!t&&o.a.includes(t.project_platforms,p.a.ProjectPlatforms.CUSTOM))}function isClassicCustomProject(t){return Object(u.isImmutable)(t)?t.get("project_platforms",Object(u.toImmutable)([])).contains(p.a.ProjectPlatforms.CUSTOM)&&t.get("manifest_version")!==S.default.manifestVersions.V2:!!t&&o.a.includes(t.project_platforms,p.a.ProjectPlatforms.CUSTOM)&&t.manifest_version!==S.default.manifestVersions.V2}function isXCustomProject(t){return!!t&&(Object(u.isImmutable)(t)?t.get("project_platforms").contains(p.a.ProjectPlatforms.CUSTOM)&&t.get("manifest_version")===S.default.manifestVersions.V2:o.a.includes(t.project_platforms,p.a.ProjectPlatforms.CUSTOM)&&t.manifest_version===S.default.manifestVersions.V2)}function customProjectCode(t){return isXMobileProject(t)||isOTTProject(t)?l()("https://cdn.optimizely.com/public/%s/datafile_v3.json",t.id).trim():l()("https://cdn.optimizely.com/json/%s.json",t.id).trim()}function webProjectCode(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l()(I,r?"-pci":"",t).trim()}function getProjectIds(t){return{accountId:Object(u.isImmutable)(t)?t.get("account_id"):t.account_id,projectId:Object(u.isImmutable)(t)?t.get("id"):t.id}}function getProjectEdgeUrl(t){var r=getProjectIds(t);return l()("https://optimizely-edge.com/edge-client/v1/%s/%s",r.accountId,r.projectId).trim()}function getProjectEdgeSubdomainCode(t,r){var a=getProjectIds(t);return l()('<script src="https://%s/edge-client/v1/%s/%s" referrerpolicy="no-referrer-when-downgrade"><\/script>',r,a.accountId,a.projectId).trim()}function iOSProjectCode(t){return l()(h.a,t).trim()}function iOSEnableEditorProjectCode(t){return l()(v.a,t).trim()}function androidProjectCode(t){return l()(E.a,t).trim()}function androidEnableEditorProjectCode(t){return l()(T.a,t).trim()}function isiOSProject(t){return Object(u.isImmutable)(t)?t.get("project_platforms",Object(u.toImmutable)([])).includes(p.a.ProjectPlatforms.IOS):o.a.includes(t.project_platforms,p.a.ProjectPlatforms.IOS)}function isAndroidProject(t){return Object(u.isImmutable)(t)?t.get("project_platforms",Object(u.toImmutable)([])).includes(p.a.ProjectPlatforms.ANDROID):o.a.includes(t.project_platforms,p.a.ProjectPlatforms.ANDROID)}function installationVerified(t){return!!t.installation_verified}function createEntity(t){return _extends({},{id:null,account_id:null},t)}function isUsingStandaloneSnippet(t){return t&&t.getIn(["client_build_settings","client_type"])===S.default.ClientBuildSettings.STANDALONE}function isUsingBundledSnippet(t){return t&&t.getIn(["client_build_settings","client_type"])===S.default.ClientBuildSettings.BUNDLED}function isUsingLegacySnippet(t){return t&&t.getIn(["client_build_settings","client_type"])===S.default.ClientBuildSettings.LEGACY}function isOTTProject(t){return function isTvOSProject(t){return Object(u.isImmutable)(t)?t.get("sdks",Object(u.toImmutable)([])).includes(S.default.sdks.TV_OS):o.a.includes(t.sdks,S.default.sdks.TV_OS)}(t)||function isAndroidTVProject(t){return Object(u.isImmutable)(t)?t.get("sdks",Object(u.toImmutable)([])).includes(S.default.sdks.ANDROID_TV):o.a.includes(t.sdks,S.default.sdks.ANDROID_TV)}(t)}function isFullStackProject(t){return!!isXCustomProject(t)&&(0===(Object(u.isImmutable)(t)?(r=t.get("sdks")).size:(r=t.sdks).length)||r.includes(S.default.sdks.PYTHON)||r.includes(S.default.sdks.RUBY)||r.includes(S.default.sdks.JAVA)||r.includes(S.default.sdks.NODE)||r.includes(S.default.sdks.JAVASCRIPT)||r.includes(S.default.sdks.CSHARP)||r.includes(S.default.sdks.PHP));var r}function isFlagsProject(t){return!!(Object(u.isImmutable)(t)?t.get("is_flags_enabled"):t.is_flags_enabled)}function isXMobileProject(t){return Object(u.isImmutable)(t)?t.get("sdks",Object(u.toImmutable)([])).includes(S.default.sdks.IOS)||t.get("sdks",Object(u.toImmutable)([])).includes(S.default.sdks.ANDROID):o.a.includes(t.sdks,S.default.sdks.IOS)||o.a.includes(t.sdks,S.default.sdks.ANDROID)}function isMobileOrOTTProject(t){return isXMobileProject(t)||isOTTProject(t)}function formatCustomProjectName(t,r){return r?"".concat(t.project_name," (").concat(S.default.sdksHumanReadable[r],")"):t.project_name}function filterIntegrationByProject(t,r){var a=getDeliveryModeOrProjectType(t);return r.get("channels").contains(a)}function formatAnyProjectName(t,r){var a=Object(u.isImmutable)(t)?t.get("project_name"):t.project_name;return!isWebProject(t)&&r?"".concat(a," (").concat(S.default.sdksHumanReadable[r],")"):a}function getPrimarySDKLanguage(t){return Object(u.isImmutable)(t)?t&&t.has("sdks")&&t.get("sdks").size?t.get("sdks").first():"":t&&t.sdks&&t.sdks.length?t.sdks[0]:""}function projectCode(t,r,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=a||p.a.ProjectSnippets.START,c="";switch(r){case p.a.ProjectPlatformType.WEB:c=webProjectCode(t.id,i);break;case p.a.ProjectPlatformType.IOS:switch(o){case p.a.ProjectSnippets.START:c=iOSProjectCode(t.socket_token);break;case p.a.ProjectSnippets.START_WITH_ENABLE_EDITOR:c=iOSEnableEditorProjectCode(t.socket_token);break;default:c=tr("Snippet not found")}break;case p.a.ProjectPlatformType.ANDROID:switch(o){case p.a.ProjectSnippets.START:c=androidProjectCode(t.socket_token);break;case p.a.ProjectSnippets.START_WITH_ENABLE_EDITOR:c=androidEnableEditorProjectCode(t.socket_token);break;default:c=tr("Snippet not found")}break;case p.a.ProjectPlatformType.CUSTOM:c=customProjectCode(t);break;default:c=tr("Unsupported Platform")}return c}function getSyntaxHighlightingLanguage(t){return t===S.default.sdks.ANDROID||t===S.default.sdks.ANDROID_TV?S.default.sdkLanguages.JAVA:t===S.default.sdks.IOS||t===S.default.sdks.TV_OS?S.default.sdkLanguages.OBJECTIVE_C:t===S.default.sdks.CSHARP?S.default.sdkLanguages.CSHARP:t===S.default.sdks.NODE?S.default.sdkLanguages.JAVASCRIPT:t}function isWebProject(t){return!!t&&(Object(u.isImmutable)(t)?t.get("project_platforms",Object(u.toImmutable)([])).contains(p.a.ProjectPlatforms.WEB):!!t&&o.a.includes(t.project_platforms,p.a.ProjectPlatforms.WEB))}function isWebEdgeProject(t){if(!t)return!1;var r=Object(u.isImmutable)(t)?t:Object(u.toImmutable)(t);return r.get("project_platforms",Object(u.toImmutable)([])).contains(p.a.ProjectPlatforms.WEB)&&r.get("delivery_mode")===S.default.delivery_modes.EDGE}function isMobileProject(t){return isiOSProject(t)||isAndroidProject(t)}function isCrossPlatformProject(t){return!!t.project_platforms&&o.a.uniq(t.project_platforms).length>1}var R=function isUsingV2Snippet(t){return t.getIn(["client_build_settings","client_type"])===S.default.ClientBuildSettings.BUNDLED||t.getIn(["client_build_settings","client_type"])===S.default.ClientBuildSettings.STANDALONE};function customAttributeLimit(t){return!(!t.project_permissions||!o.a.includes(t.project_permissions,p.a.Features.UNLIMITED_CUSTOM_ATTRIBUTES))?null:isCustomProject(t)?C.a.MAX_CUSTOM_ATTRIBUTES_PER_CUSTOM_PROJECT:C.a.MAX_CUSTOM_ATTRIBUTES}function getEditorIframeProtocolPreference(t){return t.get("editor_iframe_protocol_preference",S.default.EditorIframeProtocolPreferences.PROXY_AND_DIRECT)}var w=function mapProjectWithProjectType(t){var r=t.project,a=t.canAccountUseFullStackExperiments,i=t.canAccountUseFullStackSDKs,o=t.hasPP2020RolloutsPlusSubscription;return function setProjectType(t,r){return t.set("project_type",r)}(r,P(r,a,i,o))};r.default={androidEnableEditorProjectCode:androidEnableEditorProjectCode,androidProjectCode:androidProjectCode,customAttributeLimit:customAttributeLimit,createEntity:createEntity,getProjectEdgeUrl:getProjectEdgeUrl,filterIntegrationByProject:filterIntegrationByProject,formatAnyProjectName:formatAnyProjectName,formatCustomProjectName:formatCustomProjectName,getEditorIframeProtocolPreference:getEditorIframeProtocolPreference,getHumanReadableProjectType:P,getDeliveryModeOrProjectType:getDeliveryModeOrProjectType,getPlatformName:A,getPlatformNameUppercase:O,getPrimarySDKLanguage:getPrimarySDKLanguage,getProjectType:getProjectType,getProjectEdgeSubdomainCode:getProjectEdgeSubdomainCode,getSnippetGlobalName:getSnippetGlobalName,getSyntaxHighlightingLanguage:getSyntaxHighlightingLanguage,installationVerified:installationVerified,isAndroidProject:isAndroidProject,isCrossPlatformProject:isCrossPlatformProject,isCustomProject:isCustomProject,isClassicCustomProject:isClassicCustomProject,isFullStackProject:isFullStackProject,isFlagsProject:isFlagsProject,iOSProjectCode:iOSProjectCode,iOSEnableEditorProjectCode:iOSEnableEditorProjectCode,isiOSProject:isiOSProject,isMobileProject:isMobileProject,isMobileOrOTTProject:isMobileOrOTTProject,isOTTProject:isOTTProject,isUsingV2Snippet:R,isUsingStandaloneSnippet:isUsingStandaloneSnippet,isUsingBundledSnippet:isUsingBundledSnippet,isUsingLegacySnippet:isUsingLegacySnippet,isWebEdgeProject:isWebEdgeProject,isWebProject:isWebProject,isXCustomProject:isXCustomProject,isXMobileProject:isXMobileProject,mapProjectWithProjectType:w,projectCode:projectCode,webProjectCode:webProjectCode}},,function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({CREATE_EXP_COMPONENT_ADD_AUDIENCE:null,CREATE_EXP_COMPONENT_ADD_VARIABLE:null,CREATE_EXP_COMPONENT_ADD_VARIATION:null,CREATE_EXP_COMPONENT_INIT:null,CREATE_EXP_COMPONENT_PAUSE_VARIATION:null,CREATE_EXP_COMPONENT_REMOVE_AUDIENCE:null,CREATE_EXP_COMPONENT_REMOVE_IDS_FROM_VARIATIONS_FOR_DUPLICATE_EXPERIMENTS:null,CREATE_EXP_COMPONENT_REMOVE_VARIABLE:null,CREATE_EXP_COMPONENT_REMOVE_VARIATION:null,CREATE_EXP_COMPONENT_RESET_TO_UNIFORM_TRAFFIC:null,CREATE_EXP_COMPONENT_RESUME_VARIATION:null,CREATE_EXP_COMPONENT_TEARDOWN:null,CREATE_EXP_COMPONENT_UPDATE_AUDIENCE_CONDITIONS:null,CREATE_EXP_COMPONENT_UPDATE_AUDIENCE_CONDITIONS_JSON:null,CREATE_EXP_COMPONENT_UPDATE_AUDIENCE_IDS:null,CREATE_EXP_COMPONENT_UPDATE_AUDIENCE_MATCH_TYPE:null,CREATE_EXP_COMPONENT_UPDATE_BUCKETING_STRATEGY:null,CREATE_EXP_COMPONENT_UPDATE_DESCRIPTION:null,CREATE_EXP_COMPONENT_UPDATE_LAYER_HOLDBACK:null,CREATE_EXP_COMPONENT_UPDATE_NAME:null,CREATE_EXP_COMPONENT_UPDATE_CURRENTLY_SELECTED_TRAFFIC_ALLOCATION_POLICY:null,CREATE_EXP_COMPONENT_UPDATE_VARIABLE_VALUE:null,CREATE_EXP_COMPONENT_UPDATE_VARIATION:null,CREATE_EXP_COMPONENT_UPDATE_VARIATION_PROPERTY:null,CREATE_EXP_SET_CURRENT_EXPERIMENT_ID_TO_NULL:null,CREATE_EXP_COMPONENT_ADD_SECTION:null,CREATE_EXP_COMPONENT_REMOVE_SECTION:null,CREATE_EXP_COMPONENT_ADD_VARIATION_TO_SECTION:null,CREATE_EXP_COMPONENT_REMOVE_VARIATION_FROM_SECTION:null,CREATE_EXP_COMPONENT_UPDATE_VARIATION_IN_SECTION:null,CREATE_EXP_COMPONENT_UPDATE_SECTION_NAME:null,CREATE_EXP_COMPONENT_SET_VIEW_IDS:null,CREATE_EXP_COMPONENT_SET_URL_TARGETING_CONFIG:null,CREATE_EXP_COMPONENT_SET_TARGETING_TYPE:null,CREATE_EXP_COMPONENT_SET_ERRORS:null})},,function(t,r,a){"use strict";function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}a.r(r),a.d(r,"DEPARTMENTS",(function(){return i})),a.d(r,"DEPARTMENT_DATA_TO_DISPLAY_MAP",(function(){return o})),a.d(r,"DESCRIPTION",(function(){return l})),a.d(r,"FORM_FIELDS",(function(){return u})),a.d(r,"GREETINGS",(function(){return d})),a.d(r,"LABELS",(function(){return p})),a.d(r,"PLACEHOLDERS",(function(){return m})),a.d(r,"ROLES",(function(){return g})),a.d(r,"TITLES",(function(){return h})),a.d(r,"UNSELECTED",(function(){return y})),a.d(r,"VALIDATION_ERRORS",(function(){return v})),a.d(r,"TERMS_OF_SERVICE_TEXT",(function(){return _})),a.d(r,"COMMUNICATION_VALUES",(function(){return E})),a.d(r,"COMMUNICATION_PREFS",(function(){return b})),a.d(r,"HIDDEN_COMMUNICATION_PREFS",(function(){return T})),a.d(r,"COUNTRY_COMMUNICATION_PREFS",(function(){return S})),a.d(r,"COUNTRY_COMMUNICATION_DEFAULT_PREFS",(function(){return C})),a.d(r,"SUPPORTED_COUNTRIES",(function(){return I})),a.d(r,"LEGACY_COMMUNICATION_PREFS",(function(){return A}));var i={ACCOUNT:tr("Account/Procurement"),ANALYTICS:tr("Analytics/Data Science"),ECOMMERCE:tr("eCommerce"),MARKETING:tr("Marketing"),MOBILE_DEVELOPMENT:tr("Mobile Development"),PRODUCT_MANAGEMENT:tr("Product Management"),WEB_DEVELOPMENT:tr("Web Development"),OTHER:tr("Other")},o=_defineProperty({},i.ACCOUNT,tr("Accounting/Procurement")),c="soft-opt-in",l=tr("We use this information to provide you and your colleagues a better Optimizely experience. You can update this information in your profile at any time."),u={DIALOG:["communication_preference","country","first_name","id","is_first_signin","job_department","job_role","last_name","phone_number"],PROFILE_PAGE:["communication_preference","country","first_name","id","is_first_signin","job_department","job_role","last_name","password","phone_number"]},d={DEFAULT:tr("Thanks for using Optimizely.")},p={COUNTRY:tr("Country"),COMMUNICATION_PREF:tr("Can we send you news and updates?"),DEPARTMENT:tr("Department"),FIRST_NAME:tr("First Name"),LAST_NAME:tr("Last Name"),EMAIL_ADDRESS:tr("Email Address"),PHONE_NUMBER:tr("Phone Number"),ROLE:tr("Role")},m={FIRST_NAME:tr("First Name"),LAST_NAME:tr("Last Name"),PHONE_NUMBER:"555-555-5555"},g={AGENCY:tr("Agency"),PRESIDENT:tr("C-level/President"),VICE_PRESIDENT:tr("Vice President"),DIRECTOR:tr("Director"),MANAGER:tr("Manager"),SPECIALIST:tr("Specialist/Associate"),COORDINATOR:tr("Coordinator"),CONSULTANT:tr("Consultant"),DEVELOPER:tr("Developer"),OTHER:tr("Other")},h={DEFAULT:"Tell us a little about yourself"},y=tr("Select the best match..."),v={COMMUNICATION_PREF:tr("Please select a communications preference"),COUNTRY:tr("Please select a country"),FIRST_NAME:tr("Please provide your first name"),LAST_NAME:tr("Please provide your last name"),JOB_DEPARTMENT:tr("Which department do you work in?"),JOB_ROLE:tr("Which role most closely matches your own?"),PHONE_NUMBER:tr("Please provide a valid phone number")},_=_defineProperty({},c,tr(" You also agree to receive news, product updates, event announcements and other communications from Optimizely and our subsidiaries. You can unsubscribe anytime.")),E={SOFT_OPT_IN:c,EXPLICIT_OPT_IN:"explicit-opt-in",EXPLICIT_OPT_OUT:"explicit-opt-out",IMPLICIT_OPT_IN:"implicit-opt-in"},b={EMPTY:{displayText:tr("Select marketing communication preference..."),value:tr("")},EXPLICIT_OPT_IN:{displayText:tr("Yes, please send me news and updates from Optimizely and our subsidiaries"),value:"explicit-opt-in"},EXPLICIT_OPT_OUT:{displayText:tr("No, don't send me news and updates from Optimizely and our subsidiaries"),value:"explicit-opt-out"}},T={SOFT_OPT_IN:{displayText:tr("Soft opt-in"),value:c},IMPLICIT_OPT_IN:{displayText:tr("Implict opt-in"),value:"implicit-opt-in"}},S={CA:c,GB:c,IE:c,SE:c,NL:c,FR:c,LU:c,AT:c,CH:c,BE:c,ES:c,NO:c,FI:c,DK:c,DE:"explicit-opt-in",AU:"explicit-opt-in",DEFAULT:"explicit-opt-in",US:"implicit-opt-in"},C={CA:c,GB:c,IE:c,SE:c,NL:c,FR:c,LU:c,AT:c,CH:c,BE:c,ES:c,NO:c,FI:c,DK:c,DE:"",AU:"",DEFAULT:"",US:"implicit-opt-in"},I={EMPTY:{displayText:tr("Select your country..."),value:tr("")},AF:{displayText:tr("Afghanistan"),value:tr("AF")},AX:{displayText:tr("Aland Islands"),value:tr("AX")},AL:{displayText:tr("Albania"),value:tr("AL")},DZ:{displayText:tr("Algeria"),value:tr("DZ")},AS:{displayText:tr("American Samoa"),value:tr("AS")},AD:{displayText:tr("Andorra"),value:tr("AD")},AO:{displayText:tr("Angola"),value:tr("AO")},AI:{displayText:tr("Anguilla"),value:tr("AI")},AQ:{displayText:tr("Antarctica"),value:tr("AQ")},AG:{displayText:tr("Antigua and Barbuda"),value:tr("AG")},AR:{displayText:tr("Argentina"),value:tr("AR")},AM:{displayText:tr("Armenia"),value:tr("AM")},AW:{displayText:tr("Aruba"),value:tr("AW")},AU:{displayText:tr("Australia"),value:tr("AU")},AT:{displayText:tr("Austria"),value:tr("AT")},AZ:{displayText:tr("Azerbaijan"),value:tr("AZ")},BS:{displayText:tr("Bahamas"),value:tr("BS")},BH:{displayText:tr("Bahrain"),value:tr("BH")},BD:{displayText:tr("Bangladesh"),value:tr("BD")},BB:{displayText:tr("Barbados"),value:tr("BB")},BY:{displayText:tr("Belarus"),value:tr("BY")},BE:{displayText:tr("Belgium"),value:tr("BE")},BZ:{displayText:tr("Belize"),value:tr("BZ")},BJ:{displayText:tr("Benin"),value:tr("BJ")},BM:{displayText:tr("Bermuda"),value:tr("BM")},BT:{displayText:tr("Bhutan"),value:tr("BT")},BO:{displayText:tr("Bonaire, Sint Eustatius and Saba"),value:tr("BO")},BA:{displayText:tr("Bosnia and Herzegovina"),value:tr("BA")},BW:{displayText:tr("Botswana"),value:tr("BW")},BV:{displayText:tr("Bouvet Island"),value:tr("BV")},BR:{displayText:tr("Brazil"),value:tr("BR")},IO:{displayText:tr("British Indian Ocean Territory"),value:tr("IO")},VG:{displayText:tr("British Virgin Islands"),value:tr("VG")},BN:{displayText:tr("Brunei"),value:tr("BN")},BG:{displayText:tr("Bulgaria"),value:tr("BG")},BF:{displayText:tr("Burkina Faso"),value:tr("BF")},MM:{displayText:tr("Burma"),value:tr("MM")},BI:{displayText:tr("Burundi"),value:tr("BI")},KH:{displayText:tr("Cambodia"),value:tr("KH")},CM:{displayText:tr("Cameroon"),value:tr("CM")},CA:{displayText:tr("Canada"),value:tr("CA")},CV:{displayText:tr("Cape Verde"),value:tr("CV")},KY:{displayText:tr("Cayman Islands"),value:tr("KY")},CF:{displayText:tr("Central African Republic"),value:tr("CF")},TD:{displayText:tr("Chad"),value:tr("TD")},CL:{displayText:tr("Chile"),value:tr("CL")},CN:{displayText:tr("China"),value:tr("CN")},CX:{displayText:tr("Christmas Island"),value:tr("CX")},CC:{displayText:tr("Cocos (Keeling) Islands"),value:tr("CC")},CO:{displayText:tr("Colombia"),value:tr("CO")},KM:{displayText:tr("Comoros"),value:tr("KM")},CG:{displayText:tr("Congo"),value:tr("CG")},CD:{displayText:tr("Congo, the Democratic Republic of the"),value:tr("CD")},CK:{displayText:tr("Cook Islands"),value:tr("CK")},CR:{displayText:tr("Costa Rica"),value:tr("CR")},CI:{displayText:tr("Cote d'Ivoire"),value:tr("CI")},HR:{displayText:tr("Croatia"),value:tr("HR")},CU:{displayText:tr("Cuba"),value:tr("CU")},CW:{displayText:tr("Curacao"),value:tr("CW")},CY:{displayText:tr("Cyprus"),value:tr("CY")},CZ:{displayText:tr("Czech Republic"),value:tr("CZ")},DK:{displayText:tr("Denmark"),value:tr("DK")},DJ:{displayText:tr("Djibouti"),value:tr("DJ")},DM:{displayText:tr("Dominica"),value:tr("DM")},DO:{displayText:tr("Dominican Republic"),value:tr("DO")},EC:{displayText:tr("Ecuador"),value:tr("EC")},EG:{displayText:tr("Egypt"),value:tr("EG")},SV:{displayText:tr("El Salvador"),value:tr("SV")},GQ:{displayText:tr("Equatorial Guinea"),value:tr("GQ")},ER:{displayText:tr("Eritrea"),value:tr("ER")},EE:{displayText:tr("Estonia"),value:tr("EE")},ET:{displayText:tr("Ethiopia"),value:tr("ET")},FK:{displayText:tr("Falkland Islands (Islas Malvinas)"),value:tr("FK")},FO:{displayText:tr("Faroe Islands"),value:tr("FO")},FJ:{displayText:tr("Fiji"),value:tr("FJ")},FI:{displayText:tr("Finland"),value:tr("FI")},FR:{displayText:tr("France"),value:tr("FR")},GF:{displayText:tr("French Guiana"),value:tr("GF")},PF:{displayText:tr("French Polynesia"),value:tr("PF")},TF:{displayText:tr("French Southern and Antarctic Lands"),value:tr("TF")},GA:{displayText:tr("Gabon"),value:tr("GA")},GM:{displayText:tr("Gambia"),value:tr("GM")},GE:{displayText:tr("Georgia"),value:tr("GE")},DE:{displayText:tr("Germany"),value:tr("DE")},GH:{displayText:tr("Ghana"),value:tr("GH")},GI:{displayText:tr("Gibraltar"),value:tr("GI")},GR:{displayText:tr("Greece"),value:tr("GR")},GL:{displayText:tr("Greenland"),value:tr("GL")},GD:{displayText:tr("Grenada"),value:tr("GD")},GP:{displayText:tr("Guadeloupe"),value:tr("GP")},GU:{displayText:tr("Guam"),value:tr("GU")},GT:{displayText:tr("Guatemala"),value:tr("GT")},GG:{displayText:tr("Guernsey"),value:tr("GG")},GN:{displayText:tr("Guinea"),value:tr("GN")},GW:{displayText:tr("Guinea-Bissau"),value:tr("GW")},GY:{displayText:tr("Guyana"),value:tr("GY")},HT:{displayText:tr("Haiti"),value:tr("HT")},HM:{displayText:tr("Heard Island and McDonald Islands"),value:tr("HM")},VA:{displayText:tr("Holy See (Vatican City)"),value:tr("VA")},HN:{displayText:tr("Honduras"),value:tr("HN")},HK:{displayText:tr("Hong Kong"),value:tr("HK")},HU:{displayText:tr("Hungary"),value:tr("HU")},IS:{displayText:tr("Iceland"),value:tr("IS")},IN:{displayText:tr("India"),value:tr("IN")},ID:{displayText:tr("Indonesia"),value:tr("ID")},IR:{displayText:tr("Iran"),value:tr("IR")},IQ:{displayText:tr("Iraq"),value:tr("IQ")},IE:{displayText:tr("Ireland"),value:tr("IE")},IM:{displayText:tr("Isle of Man"),value:tr("IM")},IL:{displayText:tr("Israel"),value:tr("IL")},IT:{displayText:tr("Italy"),value:tr("IT")},JM:{displayText:tr("Jamaica"),value:tr("JM")},JP:{displayText:tr("Japan"),value:tr("JP")},JE:{displayText:tr("Jersey"),value:tr("JE")},JO:{displayText:tr("Jordan"),value:tr("JO")},KZ:{displayText:tr("Kazakhstan"),value:tr("KZ")},KE:{displayText:tr("Kenya"),value:tr("KE")},KI:{displayText:tr("Kiribati"),value:tr("KI")},KP:{displayText:tr("Korea, Democratic People's Republic of"),value:tr("KP")},KR:{displayText:tr("Korea, Republic of"),value:tr("KR")},XK:{displayText:tr("Kosovo"),value:tr("XK")},KW:{displayText:tr("Kuwait"),value:tr("KW")},KG:{displayText:tr("Kyrgyzstan"),value:tr("KG")},LA:{displayText:tr("Laos"),value:tr("LA")},LV:{displayText:tr("Latvia"),value:tr("LV")},LB:{displayText:tr("Lebanon"),value:tr("LB")},LS:{displayText:tr("Lesotho"),value:tr("LS")},LR:{displayText:tr("Liberia"),value:tr("LR")},LY:{displayText:tr("Libya"),value:tr("LY")},LI:{displayText:tr("Liechtenstein"),value:tr("LI")},LT:{displayText:tr("Lithuania"),value:tr("LT")},LU:{displayText:tr("Luxembourg"),value:tr("LU")},MO:{displayText:tr("Macau"),value:tr("MO")},MK:{displayText:tr("Macedonia"),value:tr("MK")},MG:{displayText:tr("Madagascar"),value:tr("MG")},MW:{displayText:tr("Malawi"),value:tr("MW")},MY:{displayText:tr("Malaysia"),value:tr("MY")},MV:{displayText:tr("Maldives"),value:tr("MV")},ML:{displayText:tr("Mali"),value:tr("ML")},MT:{displayText:tr("Malta"),value:tr("MT")},MH:{displayText:tr("Marshall Islands"),value:tr("MH")},MQ:{displayText:tr("Martinique"),value:tr("MQ")},MR:{displayText:tr("Mauritania"),value:tr("MR")},MU:{displayText:tr("Mauritius"),value:tr("MU")},YT:{displayText:tr("Mayotte"),value:tr("YT")},MX:{displayText:tr("Mexico"),value:tr("MX")},FM:{displayText:tr("Micronesia"),value:tr("FM")},MD:{displayText:tr("Moldova"),value:tr("MD")},MC:{displayText:tr("Monaco"),value:tr("MC")},MN:{displayText:tr("Mongolia"),value:tr("MN")},ME:{displayText:tr("Montenegro"),value:tr("ME")},MS:{displayText:tr("Montserrat"),value:tr("MS")},MA:{displayText:tr("Morocco"),value:tr("MA")},MZ:{displayText:tr("Mozambique"),value:tr("MZ")},NA:{displayText:tr("Namibia"),value:tr("NA")},NR:{displayText:tr("Nauru"),value:tr("NR")},NP:{displayText:tr("Nepal"),value:tr("NP")},NL:{displayText:tr("Netherlands"),value:tr("NL")},NC:{displayText:tr("New Caledonia"),value:tr("NC")},NZ:{displayText:tr("New Zealand"),value:tr("NZ")},NI:{displayText:tr("Nicaragua"),value:tr("NI")},NE:{displayText:tr("Niger"),value:tr("NE")},NG:{displayText:tr("Nigeria"),value:tr("NG")},NU:{displayText:tr("Niue"),value:tr("NU")},NF:{displayText:tr("Norfolk Island"),value:tr("NF")},MP:{displayText:tr("Northern Mariana Islands"),value:tr("MP")},NO:{displayText:tr("Norway"),value:tr("NO")},OM:{displayText:tr("Oman"),value:tr("OM")},PK:{displayText:tr("Pakistan"),value:tr("PK")},PW:{displayText:tr("Palau"),value:tr("PW")},PA:{displayText:tr("Panama"),value:tr("PA")},PG:{displayText:tr("Papua New Guinea"),value:tr("PG")},PY:{displayText:tr("Paraguay"),value:tr("PY")},PE:{displayText:tr("Peru"),value:tr("PE")},PH:{displayText:tr("Philippines"),value:tr("PH")},PN:{displayText:tr("Pitcairn Islands"),value:tr("PN")},PL:{displayText:tr("Poland"),value:tr("PL")},PT:{displayText:tr("Portugal"),value:tr("PT")},PR:{displayText:tr("Puerto Rico"),value:tr("PR")},QA:{displayText:tr("Qatar"),value:tr("QA")},RE:{displayText:tr("Reunion"),value:tr("RE")},RO:{displayText:tr("Romania"),value:tr("RO")},RU:{displayText:tr("Russian Federation"),value:tr("RU")},RW:{displayText:tr("Rwanda"),value:tr("RW")},BL:{displayText:tr("Saint Barthelemy"),value:tr("BL")},SH:{displayText:tr("Saint Helena"),value:tr("SH")},KN:{displayText:tr("Saint Kitts and Nevis"),value:tr("KN")},LC:{displayText:tr("Saint Lucia"),value:tr("LC")},MF:{displayText:tr("Saint Martin"),value:tr("MF")},PM:{displayText:tr("Saint Pierre and Miquelon"),value:tr("PM")},VC:{displayText:tr("Saint Vincent and the Grenadines"),value:tr("VC")},WS:{displayText:tr("Samoa"),value:tr("WS")},SM:{displayText:tr("San Marino"),value:tr("SM")},ST:{displayText:tr("Sao Tome and Principe"),value:tr("ST")},SA:{displayText:tr("Saudi Arabia"),value:tr("SA")},SN:{displayText:tr("Senegal"),value:tr("SN")},RS:{displayText:tr("Serbia"),value:tr("RS")},SC:{displayText:tr("Seychelles"),value:tr("SC")},SL:{displayText:tr("Sierra Leone"),value:tr("SL")},SG:{displayText:tr("Singapore"),value:tr("SG")},SX:{displayText:tr("Sint Maarten"),value:tr("SX")},SK:{displayText:tr("Slovakia"),value:tr("SK")},SI:{displayText:tr("Slovenia"),value:tr("SI")},SB:{displayText:tr("Solomon Islands"),value:tr("SB")},SO:{displayText:tr("Somalia"),value:tr("SO")},ZA:{displayText:tr("South Africa"),value:tr("ZA")},GS:{displayText:tr("South Georgia and the Islands"),value:tr("GS")},SS:{displayText:tr("South Sudan"),value:tr("SS")},ES:{displayText:tr("Spain"),value:tr("ES")},LK:{displayText:tr("Sri Lanka"),value:tr("LK")},SD:{displayText:tr("Sudan"),value:tr("SD")},SR:{displayText:tr("Suriname"),value:tr("SR")},SJ:{displayText:tr("Svalbard"),value:tr("SJ")},SZ:{displayText:tr("Swaziland"),value:tr("SZ")},SE:{displayText:tr("Sweden"),value:tr("SE")},CH:{displayText:tr("Switzerland"),value:tr("CH")},SY:{displayText:tr("Syria"),value:tr("SY")},TW:{displayText:tr("Taiwan"),value:tr("TW")},TJ:{displayText:tr("Tajikistan"),value:tr("TJ")},TZ:{displayText:tr("Tanzania"),value:tr("TZ")},TH:{displayText:tr("Thailand"),value:tr("TH")},TL:{displayText:tr("Timor-Leste"),value:tr("TL")},TG:{displayText:tr("Togo"),value:tr("TG")},TK:{displayText:tr("Tokelau"),value:tr("TK")},TO:{displayText:tr("Tonga"),value:tr("TO")},TT:{displayText:tr("Trinidad and Tobago"),value:tr("TT")},TN:{displayText:tr("Tunisia"),value:tr("TN")},TR:{displayText:tr("Turkey"),value:tr("TR")},TM:{displayText:tr("Turkmenistan"),value:tr("TM")},TC:{displayText:tr("Turks and Caicos Islands"),value:tr("TC")},TV:{displayText:tr("Tuvalu"),value:tr("TV")},UG:{displayText:tr("Uganda"),value:tr("UG")},UA:{displayText:tr("Ukraine"),value:tr("UA")},AE:{displayText:tr("United Arab Emirates"),value:tr("AE")},GB:{displayText:tr("United Kingdom"),value:tr("GB")},US:{displayText:tr("United States"),value:tr("US")},UM:{displayText:tr("United States Minor Outlying Islands"),value:tr("UM")},UY:{displayText:tr("Uruguay"),value:tr("UY")},UZ:{displayText:tr("Uzbekistan"),value:tr("UZ")},VU:{displayText:tr("Vanuatu"),value:tr("VU")},VE:{displayText:tr("Venezuela"),value:tr("VE")},VN:{displayText:tr("Vietnam"),value:tr("VN")},VI:{displayText:tr("Virgin Islands"),value:tr("VI")},WF:{displayText:tr("Wallis and Futuna"),value:tr("WF")},PS:{displayText:tr("West Bank"),value:tr("PS")},EH:{displayText:tr("Western Sahara"),value:tr("EH")},YE:{displayText:tr("Yemen"),value:tr("YE")},ZM:{displayText:tr("Zambia"),value:tr("ZM")},ZW:{displayText:tr("Zimbabwe"),value:tr("ZW")}},A=["all","occasional","business-critical only"];r.default={DESCRIPTION:l,DEPARTMENTS:i,DEPARTMENT_DATA_TO_DISPLAY_MAP:o,FORM_FIELDS:u,GREETINGS:d,LABELS:p,LEGACY_COMMUNICATION_PREFS:A,PLACEHOLDERS:m,ROLES:g,TITLES:h,UNSELECTED:y,VALIDATION_ERRORS:v,TERMS_OF_SERVICE_TEXT:_,COMMUNICATION_VALUES:E,COMMUNICATION_PREFS:b,HIDDEN_COMMUNICATION_PREFS:T,COUNTRY_COMMUNICATION_PREFS:S,COUNTRY_COMMUNICATION_DEFAULT_PREFS:C,SUPPORTED_COUNTRIES:I}},function(t,r){var a="optimizely";t.exports={getPageName:function getPageName(){return a},setPageName:function setPageName(t){a=t},track:function track(t,r,a,i){var o="/".concat(t).concat(r?"/".concat(r):"").concat(a?"/".concat(a):"");console.log("No Op call to services/events.track for: ".concat(o))},trackMarketoEvent:function trackMarketoEvent(t,r,a,i,o){console.log("No Op call to services/events.trackMarketoEvent")},trackMarketoLead:function trackMarketoLead(t,r,a){console.log("No Op call to services/events.trackMarketoLead")}}},,function(t,r,a){"use strict";a.d(r,"a",(function(){return Form})),a.d(r,"b",(function(){return m})),a.d(r,"c",(function(){return g})),a.d(r,"d",(function(){return handleFormValidationError}));var i=a(4),o=a.n(i),c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(2);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Form(t){var r=t.validateOnChange,a=void 0===r||r,i=t.debounceTimeout,c=void 0===i?300:i,u=t.mapPropsToFormData;if(!u)throw new Error("mapPropsToFormData is required in @Form() decorator.");return function(t){var r=function(r){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(FormComponent,r);var i=_createSuper(FormComponent);function FormComponent(t){var r;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,FormComponent),(r=i.call(this,t)).flattenKeyPath=function(t){return t.length>0?t.join("."):"*"},r.unflattenKeyPath=function(t){return"*"===t?[]:Number.isInteger(t)?t:t.split(".")},r.setFormState=function(t){return r.formState=Object.assign({},r.formState,t),new Promise((function(t){r.setState(r.formState,(function(){return t()}))}))},r.revert=function(){return r.setFormState({editing:r.formState.clean,isDirty:!1,errors:p.default.Map(),isFormValid:!0})},r.isFormValid=function(){return r.formState.isFormValid},r.isFormDirty=function(){return r.formState.isDirty},r.getFormValue=function(){return r.formState.editing},r.setFormOptions=function(t){var a=r.formOptions;r.formOptions=_extends({},r.formOptions,t),t.debounceTimeout&&t.debounceTimeout!==a.debounceTimeout&&r.purgeDebouncedValidationFnCache()},r.createBaseFieldWrapper=function(t){var a=r.unflattenKeyPath(t);return{getValue:r.getFieldValue.bind(_assertThisInitialized(r),t),setValue:function setValue(a){return r.update(t,a),r.createOrGetStandaloneFieldWrapper(t)},getErrors:r.getErrors.bind(_assertThisInitialized(r),t),validate:function validate(){return r.validateKeyPath(t)},field:function field(t){var i=r.unflattenKeyPath(t);return r.createOrGetStandaloneFieldWrapper(r.flattenKeyPath([].concat(_toConsumableArray(a),_toConsumableArray(i))))},repeatedField:function repeatedField(t){var i=r.unflattenKeyPath(t);return r.createOrGetRepeatedParentFieldWrapper(r.flattenKeyPath([].concat(_toConsumableArray(a),_toConsumableArray(i))))},isDirty:r.getIsFieldDirty.bind(_assertThisInitialized(r),t)}},r.createOrGetStandaloneFieldWrapper=function(t){if(!r.fieldWrappers.hasIn(t)){var a=r.createBaseFieldWrapper(t);a.validators=function(i,o){return r.attachValidatorsToStandaloneField(t,i,o),a},r.fieldWrappers=r.fieldWrappers.set(t,a)}return r.fieldWrappers.get(t)},r.createOrGetRepeatedChildFieldWrapper=function(t){if(!r.fieldWrappers.hasIn(t)){var a=r.createBaseFieldWrapper(t);a=o.a.assign(a,{remove:function remove(){var a=r.unflattenKeyPath(t),i=a.slice(0,-1),o=Number(a[a.length-1]);r.removeFieldFromRepeatedParent(i,o)},validators:function validators(i,o){return r.attachValidatorsToStandaloneField(t,i,o),a}}),a=o.a.omit(a,"validators"),r.fieldWrappers=r.fieldWrappers.set(t,a)}return r.fieldWrappers.get(t)},r.createOrGetRepeatedParentFieldWrapper=function(t){var a=r.unflattenKeyPath(t);if(!r.fieldWrappers.hasIn(t)){var i=r.createBaseFieldWrapper(t);i=o.a.assign(i,{getChildField:r.getChildWrapperInRepeatedField.bind(_assertThisInitialized(r),t),mapChildren:r.mapItemsInRepeatedField.bind(_assertThisInitialized(r),t),filterChildren:r.filterItemsInRepeatedField.bind(_assertThisInitialized(r),t),pushChild:r.addItemToRepeatedField.bind(_assertThisInitialized(r),t),removeChild:r.removeFieldFromRepeatedParent.bind(_assertThisInitialized(r),a),swapChildValues:r.swapItemsInRepeatedField.bind(_assertThisInitialized(r),t),setupRepeatedValidators:r.setupRepeatedValidators.bind(_assertThisInitialized(r),t),validators:function validators(a,o){return r.attachValidatorsToStandaloneField(t,a,o),i}}),r.fieldWrappers=r.fieldWrappers.set(t,i)}return r.fieldWrappers.get(t)},r.getDebounceTimeoutForField=function(t){return r.validationConfig.hasIn([t,"standaloneValidationOptions","debounceTimeout"])?r.validationConfig.getIn([t,"standaloneValidationOptions","debounceTimeout"]):r.formOptions.debounceTimeout},r.getDebouncedValidationFn=function(t){if(!r.debounceValidationFns.has(t)){var a=r.getDebounceTimeoutForField(t);r.debounceValidationFns=r.debounceValidationFns.set(t,o.a.debounce((function(){r.validateKeyPath(t)}),a))}return r.debounceValidationFns.get(t)},r.purgeDebouncedValidationFnCache=function(){r.debounceValidationFns=p.default.Map()},r.getFieldValue=function(t){var a=r.unflattenKeyPath(t);return r.formState.editing.getIn(a)},r.getIsFieldDirty=function(t){var a=r.unflattenKeyPath(t),i=r.formState.clean.getIn(a),o=r.getFieldValue(t);return!p.default.is(i,o)},r.getErrors=function(t){var a=r.formState.errors.filter((function(r,a){return(a.startsWith(t)||"*"===t)&&a!==t&&r.size>0})).map((function(t){return t.toObject()})).toObject(),i=r.formState.errors.get(t,p.default.Map()).toObject();return{hasError:Object.keys(a).length>0||Object.keys(i).length>0,message:r.formState.errors.get(t,p.default.Map()).reduce((function(t,r){return o.a.isString(r)?r:t}),""),details:i,childErrors:a}},r.attachValidatorsToStandaloneField=function(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.dependsOnFields,c=i.validateOnChange,l=i.debounceTimeout;r.validationConfig=r.validationConfig.mergeIn([t,"standalone"],a),c&&(r.validationConfig=r.validationConfig.setIn([t,"standaloneValidationOptions","validateOnChange"],c)),l&&(r.validationConfig=r.validationConfig.setIn([t,"standaloneValidationOptions","debounceTimeout"],l)),o&&o.forEach((function(a){r.validationConfig=r.validationConfig.setIn([a,"validationDependencies"],r.validationConfig.getIn([a,"validationDependencies"],p.default.Set()).add(t))}))},r.addItemToRepeatedField=function(t,a){var i=r.unflattenKeyPath(t),o=r.formState.editing.getIn(i,p.default.List()).push(a);r.update(t,o,!0)},r.removeFieldFromRepeatedParent=function(t,a){var i=[].concat(_toConsumableArray(t),[a]),o=r.flattenKeyPath(i);r.fieldWrappers=r.fieldWrappers.filter((function(t,r){return!r.startsWith(o)})),r.validationConfig=r.validationConfig.filter((function(t,r){return!r.startsWith(o)}));for(var c=r.formState.errors.filter((function(t,r){return!r.startsWith(o)})),l=r.formState.editing.getIn(t),u=function _loop(a){var i=r.flattenKeyPath([].concat(_toConsumableArray(t),[a])),o=r.flattenKeyPath([].concat(_toConsumableArray(t),[a-1]));r.validationConfig=r.validationConfig.mapKeys((function(t){if(t.startsWith(i)&&i.length>0){var r=t.slice(i.length+1);return"".concat(o,".").concat(r)}return t})),r.fieldWrappers=r.fieldWrappers.mapKeys((function(t){if(t.startsWith(i)&&i.length>0){var r=t.slice(i.length+1);return"".concat(o,".").concat(r)}return t})),c=c.mapKeys((function(t){if(t.startsWith(i)&&i.length>0){var r=t.slice(i.length+1);return"".concat(o,".").concat(r)}return t}))},d=a+1;d<l.size;d++)u(d);r.setFormState({errors:c,isFormValid:!c.some((function(t){return t.size>0}))});var m=r.flattenKeyPath(t);r.update(m,r.formState.editing.getIn(t,p.default.List()).remove(a),!0)},r.swapItemsInRepeatedField=function(t,a,i){var o=r.unflattenKeyPath(t),c=[].concat(_toConsumableArray(o),[a]),l=[].concat(_toConsumableArray(o),[i]),u=r.formState.editing.getIn(c),d=r.formState.editing.getIn(l),p=r.formState.editing.getIn(o);r.update(t,p.set(a,d).set(i,u))},r.mapItemsInRepeatedField=function(t,a){var i=r.unflattenKeyPath(t);return(r.getFieldValue(t)||p.default.List()).map((function(t,o){var c=r.flattenKeyPath([].concat(_toConsumableArray(i),[o])),l=r.createOrGetRepeatedChildFieldWrapper(c);return a(l,o)}))},r.filterItemsInRepeatedField=function(t,a){var i=r.unflattenKeyPath(t);return(r.getFieldValue(t)||p.default.List()).map((function(t,a){var o=r.flattenKeyPath([].concat(_toConsumableArray(i),[a]));return r.createOrGetRepeatedChildFieldWrapper(o)})).filter(a)},r.getChildWrapperInRepeatedField=function(t,a){var i=r.unflattenKeyPath(t),o=r.flattenKeyPath([].concat(_toConsumableArray(i),[a]));return r.createOrGetRepeatedChildFieldWrapper(o)},r.setupRepeatedValidators=function(t,a,i){o.a.each(a,(function(a,o){r.validationConfig=r.validationConfig.mergeIn([t,"repeated",o],a),i&&i[o]&&(r.validationConfig=r.validationConfig.mergeIn([t,"repeatedValidationOptions",o],i[o]))}))},r.getRepeatedValidationOptionsFromAncestors=function(t){for(var a=r.unflattenKeyPath(t),i=p.default.Map(),o=0;o<a.length-1;o++){var c=a.slice(0,o),l=r.flattenKeyPath(c),u=a.slice(o+1),d=r.flattenKeyPath(u),m=r.validationConfig.getIn([l,"repeatedValidationOptions",d],p.default.Map());i=i.merge(m)}var g=a.slice(0,-1),h=r.flattenKeyPath(g);return i=i.merge(r.validationConfig.getIn([h,"repeatedValidationOptions","*"],p.default.Map()))},r.getRepeatedValidatorsFromAncestors=function(t){for(var a=r.unflattenKeyPath(t),i=p.default.Map(),o=0;o<a.length-1;o++){var c=a.slice(0,o),l=r.flattenKeyPath(c),u=a.slice(o+1),d=r.flattenKeyPath(u),m=r.validationConfig.getIn([l,"repeated",d],p.default.Map());i=i.merge(m)}var g=a.slice(0,-1),h=r.flattenKeyPath(g);return i=i.merge(r.validationConfig.getIn([h,"repeated","*"],p.default.Map()))},r.validateKeyPath=function(t){var a=r.unflattenKeyPath(t),i=[];r.getRepeatedValidatorsFromAncestors(t).forEach((function(o,c){var l=o(r.formState.editing.getIn(a),r.formState.editing),u=Promise.resolve(l).then((function(r){return{validatorResult:r,validatorKey:c,nodeKeyPath:a,nodeKeyPathString:t}}));i.push(u)})),r.validationConfig.filter((function(r,a){return a.startsWith(t)||"*"===t})).forEach((function(t,a){var o=r.unflattenKeyPath(a);t.getIn(["standalone"],p.default.Map()).forEach((function(t,c){var l=t(r.formState.editing.getIn(o),r.formState.editing),u=Promise.resolve(l).then((function(t){return{validatorResult:t,validatorKey:c,nodeKeyPath:o,nodeKeyPathString:a}}));i.push(u)})),t.getIn(["repeated"],p.default.Map()).forEach((function(t,a){var c=r.unflattenKeyPath(a);r.formState.editing.getIn(o).forEach((function(a,l){t.forEach((function(t,a){var u=[].concat(_toConsumableArray(o),[l],_toConsumableArray(c)),d=r.flattenKeyPath(u),p=t(r.formState.editing.getIn(u),r.formState.editing,l),m=Promise.resolve(p).then((function(t){return{validatorResult:t,validatorKey:a,nodeKeyPathString:d}}));i.push(m)}))}))}))}));var c=o.a.uniqueId();return r.cancelableValidationDefs[c]=function makeCancelablePromise(t){var r=!1,a=new Error("Form validation completed after form component unmounted.");return{promise:new Promise((function(i,o){t.then((function(t){return r?o(a):i(t)}),(function(t){return o(r?a:t)}))})),cancel:function cancel(){r=!0}}}(Promise.all(i)),r.cancelableValidationDefs[c].promise.then((function(a){var i=r.formState.errors.filter((function(r,a){return!(a.startsWith(t)||"*"===t)}));o.a.each(a,(function(t){var r=t.validatorResult,a=t.validatorKey,o=t.nodeKeyPathString,c=i.get(o,p.default.Map());r?c=c.set(a,r):c.has(a)&&(c=c.remove(a)),i=c.size>0?i.set(o,c):i.remove(o)}));var l=!i.some((function(t){return t.size>0}));r.setFormState({errors:i,isFormValid:l}),delete r.cancelableValidationDefs[c]}))},r.validateForm=function(){return r.validateKeyPath("*").then((function(){return r.formState.isFormValid?Promise.resolve(r.getFormValue()):Promise.reject(r.getErrors("*"))}))},r.setValue=function(t){var a=t,i=!p.default.is(a,r.formState.clean);return r.setFormState({editing:a,isDirty:i})},r.getTopmostAutovalidatableAncestorKeyPathString=function(t){for(var a=r.unflattenKeyPath(t),i=0;i<=a.length;i++){var o=a.slice(0,i),c=r.flattenKeyPath(o);if(!0===r.validationConfig.getIn([c,"standaloneValidationOptions"],p.default.Map()).get("validateOnChange"))return c}},r.update=function(t,a){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=r.unflattenKeyPath(t),c=r.getFormValue().setIn(o,a),l=!p.default.is(c,r.formState.clean);r.setFormState({editing:c,isDirty:l});var u,d=r.getRepeatedValidationOptionsFromAncestors(t).get("validateOnChange",!1),m=r.getTopmostAutovalidatableAncestorKeyPathString(t);if(!i&&(m?u=m:(d||r.formOptions.validateOnChange)&&(u=t),u)){var g=r.getDebounceTimeoutForField(u);0===g?r.validateKeyPath(u):r.getDebouncedValidationFn(u)()}if(r.validationConfig.hasIn([t,"validationDependencies"])&&r.validationConfig.getIn([t,"validationDependencies"]).forEach((function(t){0===r.getDebounceTimeoutForField(t)?r.validateKeyPath(t):r.getDebouncedValidationFn(t)()})),o.length>0){var h=o.slice(0,-1),y=r.flattenKeyPath(h);r.validationConfig.hasIn([y,"validationDependencies"])&&r.validationConfig.getIn([y,"validationDependencies"]).forEach((function(t){var a=r.unflattenKeyPath(t);0===r.getDebounceTimeoutForField(a)?r.validateKeyPath(a):r.getDebouncedValidationFn(t)()}))}};var l=u(t);return r.formState={editing:l,clean:l,isDirty:!1,errors:p.default.Map(),isFormValid:!0},r.formOptions={validateOnChange:a,debounceTimeout:c,mapPropsToFormData:u},r.state=r.formState,r.fieldWrappers=p.default.Map(),r.debounceValidationFns=p.default.Map(),r.validationConfig=p.default.Map(),r.cancelableValidationDefs={},r.form={getValue:r.getFormValue,setValue:r.setValue,setOptions:r.setFormOptions,getErrors:r.getErrors.bind(_assertThisInitialized(r),"*"),revert:r.revert,validators:r.attachValidatorsToStandaloneField.bind(_assertThisInitialized(r),"*"),validate:r.validateForm,field:r.createOrGetStandaloneFieldWrapper,repeatedField:r.createOrGetRepeatedParentFieldWrapper,isFormValid:r.isFormValid,isFormDirty:r.isFormDirty},r}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(FormComponent,[{key:"componentDidUpdate",value:function componentDidUpdate(){var t=this,r=this.formOptions.mapPropsToFormData(this.props),a=r;p.default.is(this.formState.clean,r)||function(){for(var i=[[]],o={},c=function _loop2(){var r=i.pop(),c=t.flattenKeyPath(r);if(!0===o[c])return"continue";o[c]=!0;var l=t.formState.editing.getIn(r);Object(p.isImmutable)(t.formState.clean.getIn(r))||t.formState.clean.getIn(r)===t.formState.editing.getIn(r)||(a=a.setIn(r,t.formState.editing.getIn(r))),Object(p.isImmutable)(l)&&l.forEach((function(t,a){i.push([].concat(_toConsumableArray(r),[a]))}))};0!==i.length;)c();t.setFormState({editing:a,clean:r,isDirty:!p.default.is(r,a)})}()}},{key:"componentWillUnmount",value:function componentWillUnmount(){0!==this.cancelableValidationDefs.length&&(o.a.forEach(this.cancelableValidationDefs,(function(t){return(0,t.cancel)()})),this.cancelableValidationDefs=[])}},{key:"render",value:function render(){return l.a.createElement(t,_extends({},this.props,{form:this.form,formState:this.state}))}}]),FormComponent}(l.a.Component);return r.propTypes={clean:d.a.instanceOf(p.default.Map)},r.defaultProps={clean:p.default.Map()},r.componentId=t.componentId,r}}var m=d.a.shape({getValue:d.a.func,setValue:d.a.func,getErrors:d.a.func,validate:d.a.func,validators:d.a.func}),g=d.a.shape({getValue:d.a.func,setValue:d.a.func,getErrors:d.a.func,revert:d.a.func,validators:d.a.func,validate:d.a.func,field:d.a.func,isFormValid:d.a.func,isFormDirty:d.a.func});function handleFormValidationError(t){if(!t||!t.hasError)throw t}},function(t,r,a){"use strict";a.r(r),a.d(r,"sortable",(function(){return sortable})),a.d(r,"TableComponent",(function(){return T})),a.d(r,"SortableTable",(function(){return S})),a.d(r,"SortDirIndicator",(function(){return C})),a.d(r,"SortableTableHeader",(function(){return I}));var i=a(4),o=a.n(i),c=a(11),l=a(26),u=a(9),d=a.n(u),p=a(1),m=a.n(p),g=a(0),h=a.n(g),y=a(2),v=a(3),_=a(102),E=a.n(_),b=a(390);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sortable(t){var r;return(r=function(r){_inherits(_class,r);var a=_createSuper(_class);function _class(){var t;_classCallCheck(this,_class);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(t=a.call.apply(a,[this].concat(i))).state={initialized:!1,sortData:y.default.List()},t.toggleField=function(r){var a=r.field,i=r.type,o=t.state.initialized,c=t.props.tableId;if(!o)throw new Error("Cannot call toggleField until SortableTable flux is initialized");b.a.actions.toggleField({field:a,type:i,tableId:c})},t.sortBy=function(r){var a=t.state.initialized,i=t.props.tableId;if(!a)throw new Error("Cannot call sortBy until SortableTable flux is initialized");v.default.batch((function(){b.a.actions.resetTable(i),b.a.actions.sortTable({sortBy:o.a.isPlainObject(r)?[r]:r,tableId:i})}))},t.__getSortFn=function(){var r=t.state.sortData,a=t.props.customSortFns,i=o.a.extend({},E.a.functions,a),c=r.toJS();return E.a.generateImmutableObjectSortFn(c,i)},t.__limitAllSections=function(r){var a,i=t.props.limit,o=0;return r.reduce((function(t,r){if(o<i)return r.size+o>i?(o+=a=i-o,t.push(r.take(a))):(o+=r.size,t.push(r))}),y.default.List())},t.__sortSections=function(r){var a,i=t.props.sectionLimits;return r.map((function(r,o){return a=r.sort(t.__getSortFn()),i&&"number"==typeof i[o]?a.take(i[o]):a}))},t}return _createClass(_class,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(t,r){var a=this.state,i=a.initialized,o=a.sortData;return t!==this.props||i!==r.initialized||!y.default.is(r.sortData,o)}},{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){var t=this,r=this.props.tableId,a=this.props.defaultSortBy,i=!1,c=b.a.getters.sortData(r);this.__unwatchSortData=v.default.observe(c,(function(r){t.setState({sortData:r})}));var l=v.default.evaluate(c);l&&l.size>0&&(this.setState({sortData:l}),i=!0),a&&!i?(o.a.isArray(a)||(a=[a]),a=a.map((function(t){return t.dir?t:o.a.extend({},t,{dir:b.a.fns.getDefaultSortDir(t.type)})})),this.setState({sortData:Object(y.toImmutable)(a)}),setTimeout((function(){t.setState({initialized:!0},(function(){var i=v.default.evaluate(b.a.getters.isSorted(r));a&&!i&&t.sortBy(a)}))}))):this.setState({initialized:!0})}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.__unwatchSortData&&this.__unwatchSortData()}},{key:"render",value:function render(){var r=this.state.sortData,a=this.props.sections,i=this.props,c=i.data,l=i.limit,u=i.sectionLimits,d=o.a.omit(this.props,["data","sections"]);if(!a&&!c)throw new Error("Must supply either sections or data prop");if(l&&u)throw new Error("Cannot use limit and sectionLimits together");a||(a=Object(y.toImmutable)([c]));var p=this.__sortSections(a);return l&&(p=this.__limitAllSections(p)),h.a.createElement(t,_extends({sortData:r,sortBy:this.sortBy,toggleField:this.toggleField,data:p.flatten(!0)},d))}}]),_class}(h.a.Component)).displayName="SortableContainer",r.propTypes={tableId:m.a.string.isRequired,data:m.a.instanceOf(y.default.List),sections:m.a.instanceOf(y.default.List),defaultSortBy:m.a.oneOfType([m.a.array,m.a.object]),customSortFns:m.a.objectOf(m.a.func),limit:m.a.number,sectionLimits:m.a.array},r.defaultProps={customSortFns:{}},r}var T=function(t){_inherits(TableComponent,t);var r=_createSuper(TableComponent);function TableComponent(){var t;_classCallCheck(this,TableComponent);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).__renderRows=function(){var r=t.props,a=r.data,i=r.renderTableRow;return a.map((function(t,r){return i(t,r)}))},t}return _createClass(TableComponent,[{key:"getChildContext",value:function getChildContext(){var t=this.props;return{tableId:t.tableId,sortData:t.sortData}}},{key:"render",value:function render(){var t=this.props.renderTableHeader;return h.a.createElement(c.a,this.props,h.a.createElement(c.a.THead,null,t()),h.a.createElement(c.a.TBody,null,this.__renderRows()))}}]),TableComponent}(h.a.Component);T.propTypes={data:m.a.instanceOf(y.default.List),tableId:m.a.string.isRequired,renderTableHeader:m.a.func.isRequired,renderTableRow:m.a.func.isRequired,density:m.a.string,style:m.a.string,tableLayoutAlgorithm:m.a.string,testSection:m.a.string,sortData:m.a.instanceOf(y.default.List).isRequired,shouldAddHover:m.a.bool},T.childContextTypes={tableId:m.a.string.isRequired,sortData:m.a.instanceOf(y.default.List).isRequired};var S=sortable(T),C=function SortDirIndicator(t){var r=t.dir;return r&&h.a.createElement(l.a,{name:r===E.a.ASC?"caret-up-solid":"caret-down-solid",size:"small"})};C.propTypes={dir:m.a.oneOf([E.a.ASC,E.a.DESC])};var I=function(t){_inherits(SortableTableHeader,t);var r=_createSuper(SortableTableHeader);function SortableTableHeader(){var t;_classCallCheck(this,SortableTableHeader);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).sort=function(){var r=t.props,a=r.field,i=r.onClick,o=r.sortMax,c=r.type,l=t.context.tableId;b.a.actions.toggleField({field:a,sortMax:o,type:c,tableId:l}),i(a,t.__getFieldDir())},t.__getFieldDir=function(){var r=t.context.sortData,a=t.props.field;if(r){var i=r.find((function(t){return t.get("field")===a}));if(i)return i.get("dir")}},t}return _createClass(SortableTableHeader,[{key:"render",value:function render(){var t=this.props,r=t.field,a=t.type,i=t.isNumerical,o=t.joyrideId,l=t.children,u=t.additionalContent,p=this.__getFieldDir(),m=d()({flex:!0,"flex--row":!0,"flex-align--center":!0,"cursor--pointer":!0,"flex-justified--end":i}),g=b.a.fns.getDefaultSortDir(a);return h.a.createElement(c.a.TH,this.props,h.a.createElement("span",{className:m,"data-joyride-step":o},h.a.createElement("span",{onClick:this.sort,onKeyDown:this.sort,role:"button",tabIndex:"0",className:d()("table-header__column-name flex flex-align--center cursor--pointer",{"table-header__column-name--has-focus":r&&p}),"data-test-section":"toggle-field"},l," ",u&&h.a.createElement("span",{className:"flex"},u),h.a.createElement(C,{dir:p||g}))))}}]),SortableTableHeader}(h.a.Component);I.propTypes={additionalContent:m.a.node,field:m.a.string.isRequired,isNumerical:m.a.bool,joyrideId:m.a.string,onClick:m.a.func,sortMax:m.a.number,type:m.a.string,children:m.a.node},I.contextTypes={tableId:m.a.string.isRequired,sortData:m.a.instanceOf(y.default.List).isRequired},I.defaultProps={isNumerical:!1,joyrideId:null,onClick:function onClick(){},sortMax:1,type:"string"},r.default={SortDirIndicator:C,SortableTable:S,SortableTableHeader:I,sortable:sortable,TableComponent:T}},,function(t,r,a){var i=a(4),o=a(59),c=a(2),l=c.default,u=c.toImmutable,d=a(37),p=a(308).default,m=a(141),g=a(911).default,h=a(942).default,y=a(13),v=a(311).default,_=a(406).default,E=a(582),b=a(379).default,T=a(83),S=a(136).default,C=a(20),I=a(312),A=a(360),O=a(22),P=a(282),R=a(31).default,w=a(313);r.id=["p13n/currentLayer","id"],r.shareToken=["p13n/currentLayer","share_token"],r.layer=[r.id,S.entityCache,function(t,r){return r.get(t)}],r.isLayerInDraftStatus=[r.layer,T.isLayerInDraftStatus],r.liveCommitTag=[r.id,I.entityCache,function(t,r){if(t)return r.find((function(r){return r.get("layer_id")===t}))}],r.liveCommitId=[r.liveCommitTag,function(t){if(t)return t.get("commit_id")}],r.layerChanges=[r.layer,function(t){return t&&t.get("changes")||u([])}],r.liveCommit=[r.liveCommitId,h.entityCache,function(t,r){if(t)return r.get(t)}],r.liveCommitLayer=[r.liveCommit,function(t){if(t)return t.getIn(["revisions","layer"]).first()}],r.liveCommitLayerAudienceIds=[r.liveCommit,r.liveCommitLayer,function(t,r){var a=[];if(r){var i=r.get("experiment_ids");i&&i.size&&i.map((function(r){var i=t.getIn(["revisions","layer_experiment"]).filter((function(t){return t.get("id")===r}));i.size>0&&(a=a.concat(i.first().get("audience_ids").toJS()))}))}return u(a)}],r.liveCommitAudienceIdsFromExperiments=[r.liveCommit,function(t){return t?t.getIn(["revisions","layer_experiment"],u([])).reduce((function(t,r){return t.union(r.get("audience_ids"))}),l.Set()).toList():u([])}],r.liveCommitLayerExperiments=[r.liveCommit,function(t){return t?t.getIn(["revisions","layer_experiment"]):u([])}],r.liveCommitExperimentSections=[r.liveCommit,function(t){return t?t.getIn(["revisions","experiment_section"]):u([])}],r.liveCommitLayerChanges=[r.liveCommitLayer,function(t){if(t)return t.get("changes")||u([])}],r.liveCommitLayerVariationIds=[r.liveCommitLayerExperiments,function(t){var r=[];return t&&t.size&&t.map((function(t){t.get("variations").map((function(t){r=r.concat(t.get("variation_id"))}))})),u(r)}],r.layerCustomCodeChange=[r.layerChanges,function(t){return t&&t.find((function(t){return t.get("type")===C.enums.ChangeTypes.CUSTOM_CODE}))}],r.layerCustomCodeChangeTiming=[r.layerCustomCodeChange,function(t){return!(!t||!t.has("async"))&&t.get("async")}],r.layerCustomCSSChange=[r.layerChanges,function(t){return t&&t.find((function(t){return t.get("type")===C.enums.ChangeTypes.CUSTOM_CSS}))}],r.layerCustomCSSChangeTiming=[r.layerCustomCSSChange,function(t){return!(!t||!t.has("async"))&&t.get("async")}],r.liveCommitLayerCustomCodeChange=[r.liveCommitLayerChanges,function(t){return t&&t.find((function(t){return t.get("type")===C.enums.ChangeTypes.CUSTOM_CODE}))}],r.liveCommitLayerCustomCSSChange=[r.liveCommitLayerChanges,function(t){return t&&t.find((function(t){return t.get("type")===C.enums.ChangeTypes.CUSTOM_CSS}))}],r.currentLayerCustomCodeLinesChanged=[r.liveCommitLayerCustomCodeChange,r.layerCustomCodeChange,w.customCodeLinesChanged],r.currentLayerCustomCSSLinesChanged=[r.liveCommitLayerCustomCSSChange,r.layerCustomCSSChange,w.customCodeLinesChanged],r.campaignCustomCodeLinesChanged=[r.currentLayerCustomCodeLinesChanged,r.currentLayerCustomCSSLinesChanged,function(t,r){var a=t.removed||0,i=r.removed||0;return(t.added||0)+(r.added||0)+a+i}],r.customCodeTooltipText=[r.currentLayerCustomCodeLinesChanged,r.currentLayerCustomCSSLinesChanged,function(t,r){var a=t.removed||0,i=r.removed||0,o=t.added||0,c=r.added||0,l=a+i,u=1===l?tr("{0} line removed",l):tr("{0} lines removed",l),d=o+c,p=1===d?tr("{0} line added",d):tr("{0} lines added",d);return"".concat(p,"<br>").concat(u)}],r.isLiveCommitPushedToCDN=[r.liveCommitTag,y.project,function(t,r){if(t)return t.get("project_code_revision")<=r.get("cdn_revision")}],r.experiments=[r.layer,C.getters.entityCache,function(t,r){return t&&t.get("experiment_ids")&&t.get("experiment_ids").size?t.get("experiment_ids").map((function(t){return r.get(t)})).toList():u([])}],r.orderedExperimentIds=[r.experiments,r.layer,function(t,r){if(!r)return u([]);var a=T.getPriorityGroupsSplitByStatus(r,t),i=a.unarchivedGroups,o=a.archivedGroup;return i.flatten().concat(o)}],r.currentLayerABExperiment=[r.experiments,function(t){return t.get(0)}],r.currentlyEditingCollaboratorsForABExperiment=[r.currentLayerABExperiment,g.getters.entities,d.email,function(t,r,a){var i;t&&(i=t.get("id"));var o=r.getIn([C.entityDef.entity,i]);return o?g.fns.userListFromEntity(o).filter((function(t){return t!==a})):u([])}],r.filteredExperimentsByStatus=function(t){return[r.experimentsAndAssociatedAudiences,function(r){return C.fns.getExperimentsByStatus(r,t)}]},r.variations=[r.experiments,function(t){var r=[];return t.map((function(t){r=r.concat(t.get("variations").toJS())})),u(r)}],r.variationsWithPercentages=[r.variations,function(t){return t.map((function(t){return t.set("percentage",t.get("weight")/100)}))}],r.liveVariations=[r.variationsWithPercentages,function(t){return t.filter((function(t){return!0!==t.get("archived")}))}],r.stoppedVariations=[r.variationsWithPercentages,r.currentLayerABExperiment,r.liveCommitLayerExperiments,function(t,r,a){if(r){var o=r.toJS().id;return a=a?a.toJS():[],u(i.filter(t.toJS(),(function(t){return t.archived&&!C.fns.isVariationPublishedActive(t,o,a)})))}return u([])}],r.stoppingVariations=[r.variationsWithPercentages,r.currentLayerABExperiment,r.liveCommitLayerExperiments,function(t,r,a){if(r){var o=r.toJS().id;return a=a?a.toJS():[],u(i.filter(t.toJS(),(function(t){return t.archived&&C.fns.isVariationPublishedActive(t,o,a)})))}return u([])}],r.allExperimentsPointingToLayer=[r.layer,C.getters.entityCache,function(t,r){if(!t)return u([]);var a=t.get("id");return r.filter((function(t){return t.get("layer_id")===a})).toList()}],r.allExperimentIdsPointingToLayer=[r.allExperimentsPointingToLayer,function(t){return t?t.map((function(t){return t.get("id")})):u([])}],r.allSectionsPointingToLayer=[r.layer,_.entityCache,function(t,r){if(!t)return u([]);var a=t.get("id");return r.filter((function(t){return t.get("layer_id")===a})).toList()}],r.allActiveSectionsPointingToLayer=[r.allSectionsPointingToLayer,function(t){return t.filter((function(t){return!t.get("archived")}))}],r.allExperimentsOrSectionsPointingToLayer=[r.layer,r.allSectionsPointingToLayer,r.allExperimentsPointingToLayer,function(t,r,a){return t?T.isMultivariateTestLayer(t)?r:a:u([])}],r.canViewVariationsInP13N=[y.project,r.layer,O.canViewVariationsInP13N],r.audiences=[r.layer,C.getters.entityCache,p.entityCache,r.orderedExperimentIds,function(t,r,a,i){if(!t)return u([]);var o=l.OrderedSet();return i.size?(i.map((function(t){r.filter((function(r){return r.get("id")===t})).map((function(t){o=o.concat(t.get("audience_ids"))}))})),o.map((function(t){return a.get(t)})).toList()):u([])}],r.audiencesInExperiments=[r.experiments,p.entityCache,function(t,r){return r&&t?t.map((function(t){return r.get(t.get("audience_ids").first())})):u([])}],r.orderedAudienceIds=[r.audiences,function(t){return t?t.map((function(t){return t.get("id")})):u([])}],r.experimentsAndAssociatedAudiences=[r.layer,r.experiments,p.entityCache,r.orderedAudienceIds,function(t,r,a,i){var o=u({});o=o.withMutations((function(t){r.forEach((function(r){var i=u([]);r.get("audience_ids").forEach((function(t){var r=a.find((function(r){return r.get("id")===t}));r&&(i=i.push(r))})),0!==i.size&&t.set(i.first().get("id"),r.set("audiences",i).set("reach",null))}))}));var c=u([]);return c=c.withMutations((function(t){i.map((function(r){o.has(r)&&t.push(o.get(r))}))}))}],r.addedViews=[r.layer,r.liveCommitLayer,function(t,r){return r?t.get("view_ids").filterNot((function(t){return r.get("view_ids").includes(t)})):u([])}],r.removedViews=[r.layer,r.liveCommitLayer,function(t,r){return r?r.get("view_ids").filterNot((function(r){return t.get("view_ids").includes(r)})):u([])}],r.addedAudiences=[r.orderedAudienceIds,r.liveCommitLayerAudienceIds,function(t,r){return r.size?t.filterNot((function(t){return r.includes(t)})).toList():u([])}],r.addedExperimentsToLayer=function(t){return[r.experiments,r.liveCommitLayerExperiments,function(r,a){return C.fns.getAddedExperimentsByStatus(r,a,t)}]},r.experimentsAddedToLayerWithStatus=function(t){return[r.allExperimentsPointingToLayer,r.liveCommitLayerExperiments,function(r,a){return C.fns.getAddedExperimentsByStatus(r,a,t)}]},r.removedAudiences=[r.orderedAudienceIds,r.liveCommitLayerAudienceIds,function(t,r){return r.size?r.filterNot((function(r){return t.includes(r)})).toList():u([])}],r.hasChangedAudienceConditions=[r.liveCommitLayerExperiments,C.getters.entityCache,function(t,r){var a;return t&&(a=t.find((function(t){if(t.get("archived"))return!1;var a=r.get(t.get("id"));return!(!a||!w.experimentHasUnpublishedAudienceChanges(a,t))||void 0}))),!!a}],r.hasReorderedAudiences=[r.layer,r.liveCommitLayer,r.addedAudiences,r.removedAudiences,function(t,r,a,i){return!!r&&(0===a.size&&0===i.size&&!l.is(r.get("experiment_ids"),t.get("experiment_ids")))}],r.hasDecisionMetadataChanges=[r.layer,r.liveCommitLayer,function(t,r){return!!r&&!l.is(r.get("decision_metadata"),t.get("decision_metadata"))}],r.hasDraftHoldbackSetting=[r.layer,r.liveCommitLayer,function(t,r){return!!r&&!l.is(r.get("holdback"),t.get("holdback"))}],r.hasDraftExperimentOrTrafficAllocationToPublish=[r.experiments,r.liveCommitLayerExperiments,r.hasDraftHoldbackSetting,function(t,r,a){var i=!1,o=null;return t.forEach((function(t){if(r&&(o=r.find((function(r){return r.get("id")===t.get("id")}))),o){var c=t.get("variations").map((function(t){return t.get("weight")}))||u([]),d=o.get("variations").map((function(t){return t.get("weight")}))||u([]);i=i||a||!l.is(d,c)}})),i}],r.hasTrafficAllocationToPublish=[r.layer,r.allExperimentsPointingToLayer,r.liveCommitLayerExperiments,r.allSectionsPointingToLayer,r.liveCommitExperimentSections,function(t,r,a,i,o){var c=T.isMultivariateTestLayer(t);if(c&&(!!a.size&&a.getIn([0,"multivariate_traffic_policy"])!==r.getIn([0,"multivariate_traffic_policy"])))return!0;var l=r.filter((function(t){return"archived"!==t.get("status")})),u=w.destinationLayerExperimentHasTrafficChanges(l,a),d=w.sectionsHaveTrafficChanges(i,o);return c?u||d:u}],r.hasCampaignCustomCodeChanges=[r.layerCustomCodeChange,r.layerCustomCSSChange,r.liveCommitLayerCustomCodeChange,r.liveCommitLayerCustomCSSChange,function(t,r,a,i){return!(l.is(t,a)&&l.is(r,i))}],r.views=[r.layer,P.entityCache,function(t,r){return t&&t.get("view_ids")&&r?t.get("view_ids").map((function(t){return r.get(t)})).filter((function(t){return t})):u([])}],r.excludedViews=[r.views,y.views,function(t,r){return r.filter((function(r){return!t.find((function(t){return t.get("id")===r.get("id")}))}))}],r.holdbackView=[r.views,function(t){return t.first()}],r.layerPrimaryMetricFromList=[r.layer,function(t){return t&&t.get("metrics")&&0!==t.get("metrics").size?t.getIn(["metrics",0]):null}],r.metricEvents=[r.layer,v.entityCache,P.entityCache,function(t,r,a){return l.OrderedSet(t.get("metrics").map((function(t){var i=t.get("event_id");if(!i&&!t.get("field"))return l.Map();if(!i&&t.get("field"))return u({id:null,api_name:null,name:A.getMetricGlobalName(t)});var o=r.get(i)||a.get(i);return u({id:o.get("id"),api_name:o.get("api_name"),name:A.getMetricEventName(t,r,a)})}))).toList()}],r.layerEvents=[r.layer,v.entityCache,function(t,r){return t?r.filter((function(r){return t.get("metrics")&&t.get("metrics").find((function(t){return t.get("event_id")===r.get("id")}))})):u([])}],r.hasLayerMetrics=[r.layer,function(t){return t&&t.get("metrics")&&t.get("metrics").size}],r.hasChangedEventIDs=[r.layer,r.liveCommitLayer,function(t,r){var a=!1;if(r){var i=t.get("metrics")&&t.get("metrics").map((function(t){return t.get("event_id")})).toSet().sort(),o=r.get("metrics")&&r.get("metrics").map((function(t){return t.get("event_id")})).toSet().sort();a=!l.is(i,o)}return a}],r.currentCampaignSavedChanges=[r.experiments,w.savedChangesForCampaign],r.savedChangesFromAllExperiments=[r.allExperimentsPointingToLayer,w.savedChangesForCampaign],r.savedChangesFromAllSections=[r.allSectionsPointingToLayer,w.savedChangesForCampaign],r.currentCampaignLiveChanges=[r.layer,r.liveCommit,w.liveChangesForCampaign],r.currentCampaignLiveChangesByExperimentStatus=function(t){return[r.layer,r.liveCommit,C.getters.entityCache,function(r,a,i){return w.liveChangesForCampaign(r,a,i,t)}]},r.currentCampaignNewChanges=[r.currentCampaignSavedChanges,r.currentCampaignLiveChanges,w.newChangesForChangeList],r.newChangesFromAllExperiments=[r.savedChangesFromAllExperiments,r.currentCampaignLiveChanges,w.newChangesForChangeList],r.newChangesFromAllSections=[r.savedChangesFromAllSections,r.currentCampaignLiveChanges,w.newChangesForChangeList],r.currentCampaignModifiedChanges=[r.currentCampaignSavedChanges,r.currentCampaignLiveChanges,w.modifiedChangesForChangeList],r.modifiedChangesFromAllExperiments=[r.savedChangesFromAllExperiments,r.currentCampaignLiveChanges,w.modifiedChangesForChangeList],r.modifiedChangesFromAllSections=[r.savedChangesFromAllSections,r.currentCampaignLiveChanges,w.modifiedChangesForChangeList],r.currentCampaignDeletedChanges=[r.currentCampaignSavedChanges,r.currentCampaignLiveChanges,w.deletedChangesForChangeList],r.deletedChangesFromAllExperiments=[r.savedChangesFromAllExperiments,r.currentCampaignLiveChanges,w.deletedChangesForChangeList],r.deletedChangesFromAllSections=[r.savedChangesFromAllSections,r.currentCampaignLiveChanges,w.deletedChangesForChangeList],r.currentCampaignDraftChanges=[r.currentCampaignNewChanges,r.currentCampaignModifiedChanges,r.currentCampaignDeletedChanges,function(t,r,a){return t.concat(r).concat(a)}],r.draftChangesFromAllExperiments=[r.newChangesFromAllExperiments,r.modifiedChangesFromAllExperiments,r.deletedChangesFromAllExperiments,function(t,r,a){return t.concat(r,a)}],r.draftChangesFromAllSections=[r.newChangesFromAllSections,r.modifiedChangesFromAllSections,r.deletedChangesFromAllSections,function(t,r,a){return t.concat(r,a)}],r.draftChangesFromAllExperimentsOrSections=[r.layer,r.draftChangesFromAllExperiments,r.draftChangesFromAllSections,function(t,r,a){var i=r;return T.isMultivariateTestLayer(t)&&(i=a.size?a:r),i}],r.liveCommitLayerIntegrationSettings=[r.liveCommitLayer,function(t){return t&&t.get("integration_settings")||u([])}],r.currentIntegrationSettings=[r.layer,function(t){return t&&t.get("integration_settings")||u([])}],r.haveIntegrationSettingsChanged=[r.liveCommitLayerIntegrationSettings,r.currentIntegrationSettings,function(t,r){if(R.isFeatureEnabled("have_integration_settings_changed")&&!R.getFeatureVariableBoolean("have_integration_settings_changed","integrations_array_should_include_disabled_ones")){return!i.isEqual(t.toJS(),function excludeDisabledIntegration(t){return t.filter((function(t){return t.enabled}))}(r).toJS())}return!i.isEqual(t.toJS(),r.toJS())}],r.currentCampaignHasUpdatesToPublish=[r.hasCampaignCustomCodeChanges,r.haveIntegrationSettingsChanged,r.currentCampaignDraftChanges,r.addedAudiences,r.removedAudiences,r.hasChangedAudienceConditions,r.addedViews,r.removedViews,r.hasDraftHoldbackSetting,r.hasReorderedAudiences,r.hasDecisionMetadataChanges,r.addedExperimentsToLayer(C.enums.status.ARCHIVED),r.addedExperimentsToLayer(C.enums.status.ACTIVE),r.hasDraftExperimentOrTrafficAllocationToPublish,function(t,r,a,i,o,c,l,u,d,p,m,g,h,y){return t||r||!!a.size||!!i.size||!!o.size||!!l.size||!!u.size||c||d||p||m||!!g.size||!!h.size||y}],r.actionChanges=function(t,a){return[r.experiments,function(r){return w.changesForAction(r,t,a)}]},r.liveChanges=function(t,a){return[r.liveCommit,function(r){return w.liveChangesForAction(r,t,a)}]},r.newChanges=function(t,a){return[r.actionChanges(t,a),r.liveChanges(t,a),w.newChangesForChangeList]},r.modifiedChanges=function(t,a){return[r.actionChanges(t,a),r.liveChanges(t,a),w.modifiedChangesForChangeList]},r.deletedChanges=function(t,a){return[r.actionChanges(t,a),r.liveChanges(t,a),w.deletedChangesForChangeList]},r.draftChanges=function(t,a){return[r.newChanges(t,a),r.modifiedChanges(t,a),r.deletedChanges(t,a),function(t,r,a){return t.concat(r).concat(a)}]},r.p13nActionChanges=function(t,a){return[r.allExperimentsOrSectionsPointingToLayer,function(r){return w.changesForAction(r,t,a)}]},r.changesForVariation=function(t){return[r.experiments,function(r){return w.changesForVariation(r,t)}]},r.liveChangesForVariation=function(t){return[r.liveCommit,function(r){return w.liveChangesForVariation(r,t)}]},r.newChangesForVariation=function(t){return[r.changesForVariation(t),r.liveChangesForVariation(t),w.newChangesForChangeList]},r.modifiedChangesForVariation=function(t){return[r.changesForVariation(t),r.liveChangesForVariation(t),w.modifiedChangesForChangeList]},r.deletedChangesForVariation=function(t){return[r.changesForVariation(t),r.liveChangesForVariation(t),w.deletedChangesForChangeList]},r.draftChangesForVariation=function(t){return[r.newChangesForVariation(t),r.modifiedChangesForVariation(t),r.deletedChangesForVariation(t),function(t,r,a){return t.concat(r).concat(a)}]},r.currentLayerChangesForView=function(t){var a=l.List(),i=l.Map();return[r.allExperimentsOrSectionsPointingToLayer,function(r){return r.flatMap((function(r){return r.get("status")===C.enums.status.ARCHIVED?a:r.get("variations").flatMap((function(r){return r.get("actions").find((function(r){return r.get("view_id")===t}),null,i).get("changes",a)}))}))}]},r.actionAttributeChanges=function(t,a){return[r.experiments,function(r){return w.changesForAction(r,t,a).filter((function(t){return t.get("type")===C.enums.ChangeTypes.ATTRIBUTE}))}]},r.layerExperimentForVariation=function(t){return[r.experiments,function(r){return r.find((function(r){return r.get("variations").find((function(r){return r.get("variation_id")===t}))}))}]},r.integrations=[y.enabledCampaignLevelPersonalizationIntegrations,y.enabledAnalyticsIntegrationExtensions,r.layer,function(t,r,a){var i=a.get("integration_settings",[]),o={};i.forEach((function(t){o[t.get("integration_id")]=t})),t=t.map((function(t){return t=Object.prototype.hasOwnProperty.call(o,t.get("id"))?(t=t.setIn(["layerLevelData","settings"],u(o[t.get("id")].get("settings")))).setIn(["layerLevelData","enabled"],u(o[t.get("id")].get("enabled"))):t.setIn(["layerLevelData","enabled"],u(!1))}));var c=w.formatAnalyticsExtensionsToIntegrationsUI(r,o);return t.concat(c)}],r.isPersonalizationLayer=[r.layer,function(t){return T.isPersonalizationLayer(t)}],r.isMultivariateTestLayer=[r.layer,function(t){return T.isMultivariateTestLayer(t)}],r.formattedHoldback=[r.layer,function(t){return t?Math.round(t.get("holdback"))/100:0}],r.resultsAPIToken=[r.layer,function(t){if(t)return t.get("layer_results_api_token")}],r.earliestDate=[r.layer,function(t){return t&&t.get("earliest")?o(t.get("earliest")).format():null}],r.campaignExperimentsByLayerId=function(t){return[C.getters.entityCache,function(r){return r.filter((function(r){return t&&r.get("layer_id")===t})).toList()}]},r.currentLayerCampaignExperiments=[r.id,C.getters.entityCache,function(t,r){return r.filter((function(r){return t&&r.get("layer_id")===t})).toList()}],r.currentSingleExperimentFromAllExperimentsPointingToLayer=[r.allExperimentsPointingToLayer,function(t){return t.get(0)}],r.currentLayerABExperimentVariations=[r.currentSingleExperimentFromAllExperimentsPointingToLayer,function(t){return t.get("variations")}],r.variationById=function(t){return[r.allExperimentsOrSectionsPointingToLayer,i.partial(w.getVariationById,t)]},r.currentLayerABExperimentTrafficAllocationPolicy=[r.currentSingleExperimentFromAllExperimentsPointingToLayer,C.getters.entityCache,function(t,r){if(t){var a=r.get(t.get("id"));if(a)return a.get("allocation_policy")}return"manual"}],r.currentLayerUsesManualTrafficAllocationPolicyOnly=[r.currentLayerCampaignExperiments,function(t){return!t.find((function(t){return"archived"!==t.get("actual_status")&&"manual"!==t.get("allocation_policy")}))}],r.hasDirtySettingsToPublish=[r.hasDraftHoldbackSetting,r.isPersonalizationLayer,function(t,r){return r&&t}],r.audiencesFromAllExperimentsPointingToLayer=[r.allExperimentsPointingToLayer,p.entityCache,function(t,r){return t?t.reduce((function(t,r){return t.union(r.get("audience_ids"))}),l.Set([])).flatMap((function(t){var a=r.get(t);return a?[a]:[]})).toList():l.List([])}],r.hasAnyProcessingAdaptiveAudienceConditions=[r.audiencesFromAllExperimentsPointingToLayer,function(t){return!!t.find((function(t){return t.get("adaptive_audience_status")===m.AdaptiveAudienceStatuses.UNAVAILABLE}))}],r.audienceIdsFromAllExperimentsPointingToLayer=[r.audiencesFromAllExperimentsPointingToLayer,function(t){return t?t.map((function(t){return t.get("id")})):u([])}],r.removedAudiencesFromAllExperimentsPointingToLayer=[r.audienceIdsFromAllExperimentsPointingToLayer,r.liveCommitAudienceIdsFromExperiments,function(t,r){return r.size?r.filterNot((function(r){return t.includes(r)})).toList():u([])}],r.addedAudiencesFromAllExperimentsPointingToLayer=[r.audienceIdsFromAllExperimentsPointingToLayer,r.liveCommitAudienceIdsFromExperiments,function(t,r){return r.size?t.filterNot((function(t){return r.includes(t)})).toList():u([])}],r.variationsFromAllExperimentsPointingToLayer=[r.allExperimentsPointingToLayer,function(t){return t.flatMap((function(t){return t.get("variations")}))}],r.layerSelectedGroupId=[b.entityToGroupMap,y.activeGroups,r.id,E.getSelectedGroupIdForEntity],r.layerWithGroupIdAndPercentageIncluded=[r.layerSelectedGroupId,b.entityCache,r.layer,E.getCurrentSingleExperimentLayerWithGroupIdAndPercentageIncluded],r.hasUpdatesToPublish=[r.hasCampaignCustomCodeChanges,r.haveIntegrationSettingsChanged,r.draftChangesFromAllExperimentsOrSections,r.addedAudiencesFromAllExperimentsPointingToLayer,r.removedAudiencesFromAllExperimentsPointingToLayer,r.hasChangedAudienceConditions,y.hasPageTrimming,r.hasChangedEventIDs,r.addedViews,r.removedViews,r.hasDraftHoldbackSetting,r.hasDecisionMetadataChanges,r.experimentsAddedToLayerWithStatus(C.enums.status.ARCHIVED),r.experimentsAddedToLayerWithStatus(C.enums.status.ACTIVE),r.hasTrafficAllocationToPublish,function(t,r,a,i,o,c,l,u,d,p,m,g,h,y,v){return t||r||!!a.size||!!i.size||!!o.size||!!d.size||!!p.size||c||l&&u||m||g||!!h.size||!!y.size||v}],r.currentLayerMetrics=[r.layer,function(t){return t?t.get("metrics",u([])):u([])}],r.currentLayerMetricWrappers=[r.currentLayerMetrics,r.layer,P.entityCache,v.entityCache,A.createMetricWrappers]},,function(t,r,a){"use strict";a.r(r),a.d(r,"addAction",(function(){return addAction})),a.d(r,"changesForViewIdAndVariationIdAndExperimentId",(function(){return changesForViewIdAndVariationIdAndExperimentId})),a.d(r,"ensureActionInitialized",(function(){return ensureActionInitialized})),a.d(r,"removeActions",(function(){return removeActions})),a.d(r,"removeViews",(function(){return removeViews})),a.d(r,"cleanActionsJSON",(function(){return cleanActionsJSON})),a.d(r,"cleanAudiencesJSON",(function(){return cleanAudiencesJSON})),a.d(r,"getExperimentsByStatus",(function(){return getExperimentsByStatus})),a.d(r,"getAddedExperimentsByStatus",(function(){return getAddedExperimentsByStatus})),a.d(r,"validateLayerExperiment",(function(){return validateLayerExperiment})),a.d(r,"createDuplicateName",(function(){return createDuplicateName})),a.d(r,"validateVariationName",(function(){return validateVariationName})),a.d(r,"countAllChangesInVariation",(function(){return countAllChangesInVariation})),a.d(r,"getViewIdsInVariation",(function(){return getViewIdsInVariation})),a.d(r,"generateGuid",(function(){return generateGuid})),a.d(r,"cloneActions",(function(){return cloneActions})),a.d(r,"cloneChangeList",(function(){return cloneChangeList})),a.d(r,"calculateTotalPercent",(function(){return calculateTotalPercent})),a.d(r,"isExperimentLive",(function(){return isExperimentLive})),a.d(r,"isVariationPublishedActive",(function(){return isVariationPublishedActive})),a.d(r,"setVariationWeightsBasedOnPercentage",(function(){return setVariationWeightsBasedOnPercentage})),a.d(r,"shouldShowDataOnResultsPage",(function(){return b})),a.d(r,"addPercentageToVariations",(function(){return addPercentageToVariations})),a.d(r,"redistributeStoppedVariationTraffic",(function(){return redistributeStoppedVariationTraffic})),a.d(r,"redistributePausedVariationTraffic",(function(){return redistributePausedVariationTraffic})),a.d(r,"redistributeResumedVariationTraffic",(function(){return redistributeResumedVariationTraffic})),a.d(r,"redistributeRestoredVariationTraffic",(function(){return redistributeRestoredVariationTraffic})),a.d(r,"redistributeEvenly",(function(){return redistributeEvenly})),a.d(r,"redistributeUnevenly",(function(){return redistributeUnevenly})),a.d(r,"redistributeWithNewVariationTraffic",(function(){return redistributeWithNewVariationTraffic})),a.d(r,"redistributeWithNewVariationTrafficImmutable",(function(){return redistributeWithNewVariationTrafficImmutable})),a.d(r,"getFieldNamesFromWidgetChanges",(function(){return getFieldNamesFromWidgetChanges})),a.d(r,"suggestedNewVariationName",(function(){return suggestedNewVariationName})),a.d(r,"addVariationModificationInfo",(function(){return addVariationModificationInfo})),a.d(r,"getTrafficAllocationLabelFromExperimentPolicy",(function(){return T})),a.d(r,"getTrafficAllocationVariationStatus",(function(){return getTrafficAllocationVariationStatus})),a.d(r,"filterLayerExperimentsByStatus",(function(){return filterLayerExperimentsByStatus})),a.d(r,"formatTrafficAllocationVariations",(function(){return formatTrafficAllocationVariations})),a.d(r,"formatTrafficAllocationVariationsForUnstartedPartialFactorial",(function(){return formatTrafficAllocationVariationsForUnstartedPartialFactorial})),a.d(r,"hasFutureStartScheduled",(function(){return hasFutureStartScheduled})),a.d(r,"determineIfStartScheduled",(function(){return determineIfStartScheduled})),a.d(r,"hasFutureStopScheduled",(function(){return hasFutureStopScheduled})),a.d(r,"determineIfStopScheduled",(function(){return determineIfStopScheduled})),a.d(r,"getTimeZoneString",(function(){return getTimeZoneString})),a.d(r,"hasSchedule",(function(){return hasSchedule})),a.d(r,"getAudienceConditions",(function(){return getAudienceConditions})),a.d(r,"deriveAudienceIdsFromAudienceConditions",(function(){return deriveAudienceIdsFromAudienceConditions})),a.d(r,"deriveAudienceIdsFromAudienceConditionsPOJO",(function(){return deriveAudienceIdsFromAudienceConditionsPOJO})),a.d(r,"validateLayerExperimentChange",(function(){return validateLayerExperimentChange})),a.d(r,"getLayerExperiementsForAudience",(function(){return getLayerExperiementsForAudience})),a.d(r,"allocationPolicyAndAbsenceOfPrimaryMetricAreValid",(function(){return allocationPolicyAndAbsenceOfPrimaryMetricAreValid})),a.d(r,"allocationPolicyAndSelectedPrimaryMetricAreValid",(function(){return allocationPolicyAndSelectedPrimaryMetricAreValid})),a.d(r,"allocationPolicyAndNumberOfVariationsAreValid",(function(){return allocationPolicyAndNumberOfVariationsAreValid})),a.d(r,"hasFullFactorialTrafficPolicy",(function(){return hasFullFactorialTrafficPolicy})),a.d(r,"hasPartialFactorialTrafficPolicy",(function(){return hasPartialFactorialTrafficPolicy})),a.d(r,"hasStatusInAnyEnvironment",(function(){return hasStatusInAnyEnvironment})),a.d(r,"isRunningInAnyEnvironment",(function(){return isRunningInAnyEnvironment})),a.d(r,"isFeatureTest",(function(){return isFeatureTest})),a.d(r,"isMultivariateTest",(function(){return isMultivariateTest})),a.d(r,"isMultiArmedBandit",(function(){return isMultiArmedBandit})),a.d(r,"isStatsAcceleratorExperiment",(function(){return isStatsAcceleratorExperiment})),a.d(r,"getFullStackExperimentTypeHumanReadable",(function(){return getFullStackExperimentTypeHumanReadable}));var i=a(4),o=a.n(i),c=a(75),l=a(2),u=a(149),d=a.n(u),p=a(216),m=a.n(p),g=a(45),h=a(209),y=a(395),v=a(21),_=a(110),E=a(29);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function addAction(t,r,a,i,o){var c=this.ensureActionInitialized(t,r,i),u=c.get("variations").findIndex((function(t){return t.get("variation_id")===r}));if(-1!==u)return c.updateIn(["variations",u,"actions"],(function(r){return r.withMutations((function(r){var i=r.findIndex((function(r){return r.get("view_id")===t}));return r.setIn([i,"changes"],Object(l.toImmutable)(a)),r}))}));o&&o({title:"Unknown variation  id",message:"Unable to find specified variation_id - [layer_experiment/fns.addAction]"})}function changesForViewIdAndVariationIdAndExperimentId(t,r,a){var i=this.ensureActionInitialized(t,r,a),o=i.get("variations").findIndex((function(t){return t.get("variation_id")===r}));if(-1===o)return Object(l.toImmutable)([]);var c=i.getIn(["variations",o,"actions"]).filter((function(r){return r.get("view_id")===t}));return c.count()>0?c.first().get("changes"):void 0}function ensureActionInitialized(t,r,a){var i=a.get("variations").findIndex((function(t){return t.get("variation_id")===r}));return a.updateIn(["variations",i,"actions"],(function(r){return r.withMutations((function(r){var a=r.findIndex((function(r){return r.get("view_id")===t}));-1===a?r.push(Object(l.toImmutable)({view_id:t,changes:[]})):r.get(a).get("changes")||r.setIn([a,"changes"],Object(l.toImmutable)([]));return r}))}))}function removeActions(t){return t.update("variations",(function(t){return t.map((function(t){return t.update("actions",(function(){return Object(l.toImmutable)([])}))}))}))}function removeViews(t,r){return t.update("variations",(function(t){return t.map((function(t){return t.update("actions",(function(t){var a=l.default.List(t);return(r||[]).forEach((function(t){var r=a.findIndex((function(r){return r.get("view_id")===t}));-1!==r&&(a=a.delete(r))})),a}))}))}))}function cleanActionsJSON(t){var r=Object(c.default)(t);return Object(l.isImmutable)(t.variations)&&(r.variations=t.variations.toJS()),r.variations&&r.variations.forEach((function(t){t.actions&&t.actions.forEach((function(t){t.changes.forEach((function(t){delete t.status}))}))})),r}function cleanAudiencesJSON(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{useAudienceConditionsJSON:!1},a=Object(c.default)(t),i=a.audience_conditions_json;return r.useAudienceConditionsJSON&&i&&(a.audience_conditions=JSON.stringify(i),delete a.audience_ids,!i||i.length&&!i.every(o.a.isString)||(a.audience_conditions=null,a.audience_ids=[])),delete a.audience_conditions_json,a}function getExperimentsByStatus(t,r){return o.a.filter(t.toJS(),(function(t){return t.status===r}))}function getAddedExperimentsByStatus(t,r,a){return r?t.filter((function(t){return t.get("status")===a})).filter((function(t){return!r.some((function(r){return r.get("id")===t.get("id")}))})):Object(l.toImmutable)([])}function validateLayerExperiment(t,r,a,i,c){var l={};if(i&&(!t||0===t.trim().length)){var u=tr("Please name your experiment.");l.name=u}if(i&&0===r.length){var d=tr("Please select at least one page.");l.views=d}if(o.a.some(a,(function(t){return t.weight&&""===t.name}))){var p=tr("Please provide variation names for all your variations.");l.variations=p}return c&&(c<0||c>99.99)&&(l.holdback="The campaign holdback must be a value between 0 and 99.99."),l}function createDuplicateName(t,r){var a,i=1;do{a="".concat(r," (").concat(i,")"),i++}while(!this.validateVariationName(t,a).valid);return a}function validateVariationName(t,r){var a=!0,i="";if(r&&""!==r.trim())if(r.length>500)a=!1,i=tr("Variation name must be no longer than 500 characters");else{t.variations.forEach((function(t){t.name.trim()===r.trim()&&(a=!1,i=tr("Please choose a unique name for your variation."))}))}else a=!1,i=tr("Please choose a name for your variation");return{valid:a,message:i}}function countAllChangesInVariation(t,r){var a,i=this,o=this.getViewIdsInVariation(t,r),c=0;return o.map((function(o){a=i.changesForViewIdAndVariationIdAndExperimentId(o,r,t),c+=a.count()})),c}function getViewIdsInVariation(t,r){var a=t.get("variations").filter((function(t){return t.get("variation_id")===r}));return a.count()>0?a.getIn([0,"actions"]).map((function(t){return t.get("view_id")})):Object(l.toImmutable)([])}function generateGuid(){return d()()}function cloneActions(t){var r=this,a=Object(c.default)(t);return a.forEach((function(t){t.changes=r.cloneChangeList(t.changes)})),a}function cloneChangeList(t){var r=this,a=Object(c.default)(t),i={};return a.forEach((function(t){i[t.id]=r.generateGuid(),t.id=i[t.id]})),a.forEach((function(t){var r=[];t.dependencies.forEach((function(t){return r.push(i[t])})),t.dependencies=r})),a}function calculateTotalPercent(t){var r=0;return o.a.each(t,(function(t){r+=Number(t.percentage)})),r}function isExperimentLive(t,r){return r.map((function(t){return t.get("id")})).contains(t)}function isVariationPublishedActive(t,r,a){var i=!1;return o.a.each(a,(function(a){a.id===r&&o.a.each(a.variations,(function(r){t.variation_id!==r.variation_id||r.archived||(i=!0)}))})),i}function setVariationWeightsBasedOnPercentage(t){var r=Object(c.default)(t);return o.a.map(r,(function(t){return o.a.extend({},t,{weight:Number((100*t.percentage).toFixed())})}))}var b=function shouldShowDataOnResultsPage(t){return!(t&&t.get("allocation_policy")===h.TrafficAllocationPolicyTypes.MAXIMIZE_CONVERSIONS)};function addPercentageToVariations(t){return t.map((function(t){return t.set("percentage",t.get("weight")/100)}))}function redistributeStoppedVariationTraffic(t,r){var a=m.a.TOTAL_POINTS-r,i=m.a.TOTAL_POINTS/a,o=0,c=null,l=null;t.forEach((function(t){delete t.percentage,t.archived||0===t.weight?t.archived||(l=t):(t.weight=Number((t.weight*i).toFixed()),o+=t.weight,c=t)}));var u=m.a.TOTAL_POINTS-o;return c?c.weight+=u:l&&(l.weight+=u),t}function redistributePausedVariationTraffic(t,r){var a,i=m.a.TOTAL_POINTS-r,c=m.a.TOTAL_POINTS/i,l=0;t=t.map((function(t,r){return(t=t.delete("percentage")).get("status")!==E.default.VariationStatus.PAUSED&&0!==t.get("weight")&&(t=t.set("weight",Number((t.get("weight")*c).toFixed())),l+=t.get("weight"),a=r),t}));var u=m.a.TOTAL_POINTS-l;if(!o.a.isUndefined(a)){var d=t.get(a);d=d.set("weight",d.get("weight")+u),t=t.set(a,d)}return t}function redistributeResumedVariationTraffic(t,r){var a=r.filter((function(r){return r.get("status")!==E.default.VariationStatus.PAUSED&&0!==r.get("weight")||r.get("variation_id")===t})),i=a.size,o=(i-1)/i,c=0;r=r.map((function(r){return r=(r=r.delete("percentage")).get("variation_id")===t?r.set("weight",Number((1/i*m.a.TOTAL_POINTS).toFixed())):r.set("weight",Number((r.get("weight")*o).toFixed())),c+=r.get("weight"),r}));var l=m.a.TOTAL_POINTS-c;if(a.size&&l){var u=r.findIndex((function(t){return t.get("status")!==E.default.VariationStatus.PAUSED&&0!==t.get("weight")}));r=r.setIn([u,"weight"],r.getIn([u,"weight"])+l)}return r}function redistributeRestoredVariationTraffic(t,r){var a=o.a.filter(r,(function(r){return!r.archived&&0!==r.weight||r.variation_id===t})),i=a.length,c=(i-1)/i,l=0;a.forEach((function(r){delete r.percentage,r.variation_id===t?r.weight=Number((1/i*m.a.TOTAL_POINTS).toFixed()):r.weight=Number((r.weight*c).toFixed()),l+=r.weight}));var u=m.a.TOTAL_POINTS-l;return a[0]&&(a[0].weight+=u),r}function redistributeEvenly(t){var r=0,a=0,i=[],c=t.length;return o.a.each(t,(function(t,o){r=Number(c-1===o?(m.a.TOTAL_POINTS-a).toFixed():(m.a.TOTAL_POINTS/c).toFixed()),i.push(r),a+=r})),i}function redistributeUnevenly(t){var r=0,a=0,i=[],c=0,l=0,u=[],d=t.length;o.a.each(t,(function(t){t?(c++,u.push(t)):l++}));var p=c/d;return o.a.each(t,(function(t,o){r=Number(d-1===o?(m.a.TOTAL_POINTS-a).toFixed():t?(t*p).toFixed():((m.a.TOTAL_POINTS-a)/l).toFixed()),i.push(r),a+=r})),i}function redistributeWithNewVariationTraffic(t){var r=1===t.length?t:o.a.filter(t,(function(t){return!t.archived&&0!==t.weight})),a=o.a.map(r,(function(t){return t.weight})),i=a.slice(0,a.length-1),c=r[0].weight-3,l=r[0].weight+3,u=o.a.every(i,(function(t){return c<=t&&t<=l}));return a=u?this.redistributeEvenly(a):this.redistributeUnevenly(a),o.a.each(r,(function(t,r){t.weight=a[r]})),t}function redistributeWithNewVariationTrafficImmutable(t){var r=1===t.size?t.setIn([0,"index"],0):t.map((function(t,r){return t.set("index",r)})).filter((function(t){return!t.get("archived")&&0!==t.get("weight")})),a=r.map((function(t){return t.get("weight")})),i=r.getIn([0,"weight"])-3,o=r.getIn([0,"weight"])+3,c=a.slice(0,a.size-1).every((function(t){return i<=t&&t<=o}));return a=c?this.redistributeEvenly(a.toJS()):this.redistributeUnevenly(a.toJS()),r=r.map((function(t,r){return t.set("weight",a[r])})),t.map((function(t,a){var i=r.find((function(t){return t.get("index")===a}));return t=t.delete("index"),i?t.set("weight",i.get("weight")):t}))}function getFieldNamesFromWidgetChanges(t){var r=[];return o.a.each(t,(function(t){o.a.each(t.variations,(function(t){o.a.each(t.actions,(function(t){o.a.each(t.changes,(function(t){t.type===E.default.ChangeTypes.WIDGET&&(r=r.concat(o.a.keys(t.config)))}))}))}))})),r}function suggestedNewVariationName(t){var r=t.filter((function(t){return t.get("name").toUpperCase().includes("VARIATION #")&&!Number.isNaN(t.get("name").substr(11))})).map((function(t){return Number(t.get("name").substr(11))})).max();return r||(r=t.size),tr("Variation #{0}",r+1)}function addVariationModificationInfo(t,r,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5?arguments[5]:void 0,d=t.count((function(t){return!t.get("archived")}))>1,p=Object(l.toImmutable)({});a&&(p=a.get("variations").reduce((function(t,r){return t.set(r.get("variation_id"),r)}),p));var m=c?t.size+1:t.size,g=allocationPolicyAndNumberOfVariationsAreValid(u,m-1);return t.map((function(t){var a=p.get(t.get("variation_id")),c=!o.a.isUndefined(a),l=c&&!a.get("archived"),u=!i&&d&&!c&&r&&g,m=d&&!t.get("archived")&&l&&r,h=r&&t.get("archived")&&l;return t.merge({canDuplicate:r,canRename:r,canDelete:u,canStop:m,canRestore:h})}))}var T=function getTrafficAllocationLabelFromExperimentPolicy(t){if(!t||!t.get("allocation_policy"))return"Manual";var r=h.TrafficAllocationPolicyItems.find((function(r){return r.test.startsWith(t.get("allocation_policy"))}));return r?r.label:"Manual"};function getTrafficAllocationVariationStatus(t,r){var a;return t.get("archived")&&r?a=h.TrafficAllocationVariationStatuses.STOPPING:t.get("archived")&&!r?a=h.TrafficAllocationVariationStatuses.STOPPED:t.get("archived")||(a=h.TrafficAllocationVariationStatuses.LIVE),a}function filterLayerExperimentsByStatus(t,r){var a;switch(r){case E.default.statusFilter.ACTIVE:a=function filter(t){return t.get("status")!==E.default.status.ARCHIVED};break;case E.default.statusFilter.ARCHIVED:a=function filter(t){return t.get("status")===E.default.status.ARCHIVED};break;case E.default.statusFilter.PAUSED:a=function filter(t){return t.get("status")===E.default.status.PAUSED};break;case E.default.statusFilter.RUNNING:a=function filter(t){return t.get("actual_status")===E.default.ActualStatus.RUNNING};break;case E.default.statusFilter.NOT_STARTED:a=function filter(t){return t.get("actual_status")===E.default.ActualStatus.NOT_STARTED}}return a?t.filter(a):t}function formatTrafficAllocationVariations(t,r,a,i){var o=this,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=i.find((function(t){return t.get("id")===a}));return this.addVariationModificationInfo(t,r,u,c).map((function(t){var r=o.isVariationPublishedActive(t.toJS(),a,i.toJS()),c=t.get("archived")&&!r,u=o.getTrafficAllocationVariationStatus(t,r);return Object(l.toImmutable)({variation:t,percentage:t.get("weight")/100,canDelete:t.get("canDelete"),canStop:t.get("canStop"),canRestore:t.get("canRestore"),isStopped:c,status:u})}))}function formatTrafficAllocationVariationsForUnstartedPartialFactorial(t,r){return t.map((function(t){return Object(l.toImmutable)({variation:t,percentage:t.get("weight")/100,canDelete:!1,canStop:r&&!t.get("archived"),canRestore:r&&t.get("archived"),isStopped:!1})}))}function hasFutureStartScheduled(t){if(t){var r=t.getIn(["schedule","start_time"]),a=t.getIn(["schedule","time_zone"]);if(r&&a)return y.a.isTimeInFuture(r,a)}return!1}function determineIfStartScheduled(t){return t.getIn(["schedule","timezone_name"])?t.getIn(["schedule","start_time"]):hasFutureStartScheduled(t)}function hasFutureStopScheduled(t){if(t){var r=t.getIn(["schedule","stop_time"]),a=t.getIn(["schedule","time_zone"]);if(r&&a)return y.a.isTimeInFuture(r,a)}return!1}function determineIfStopScheduled(t){return t.getIn(["schedule","timezone_name"])?t.getIn(["schedule","stop_time"]):hasFutureStopScheduled(t)}function getTimeZoneString(t){var r;return r=t.getIn(["schedule","time_zone"]),t.getIn(["schedule","timezone_name"])&&(r=t.getIn(["schedule","timezone_name"]).replace("_"," ")),r}function hasSchedule(t){return Object(l.isImmutable)(t)?t&&(t.getIn(["schedule","start_time"])||t.getIn(["schedule","stop_time"])):t&&(t.schedule.start_time||t.schedule.stop_time)}function getAudienceConditions(t){var r=t.get("audience_conditions");if(null===r){var a=t.get("audience_ids").map((function(t){return'{"audience_id": '.concat(t,"}")})).join(", ");return'["or", '.concat(a,"]")}return r}function deriveAudienceIdsFromAudienceConditions(t){if(!t||!t.size)return[];return function reducerFn(t){return t.reduce((function(t,r){return r instanceof l.default.List?t.concat(reducerFn(r)):r instanceof l.default.Map&&r.get("audience_id")?t.concat(r.get("audience_id")):t}),[])}(t)}function deriveAudienceIdsFromAudienceConditionsPOJO(t){if(!t||!t.length)return[];return function reducerFn(t){return t.reduce((function(t,r){return Array.isArray(r)?t.concat(reducerFn(r)):"object"===_typeof(r)&&null!==r&&r.audience_id?t.concat(r.audience_id):t}),[])}(t)}function validateLayerExperimentChange(t){return!!t.get("id",!1)&&!(t.has("selector")&&""===t.get("selector"))}function getLayerExperiementsForAudience(t,r){return o.a.filter(t,(function(t){var a=!1;if(o.a.includes(t.audience_ids,r))a=!0;else if(t.audience_conditions){var i=JSON.parse(t.audience_conditions);a=!!o.a.find(o.a.flattenDeep(i),(function(t){return t.audience_id===r}))}return a}))}function allocationPolicyAndAbsenceOfPrimaryMetricAreValid(t,r){return t!==h.TrafficAllocationPolicyTypes.MINIMIZE_TIME||!!r}function allocationPolicyAndSelectedPrimaryMetricAreValid(t,r){return!(t===h.TrafficAllocationPolicyTypes.MINIMIZE_TIME&&r&&r.get("scope")===g.scope.VISITOR&&(r.get("aggregator")===g.aggregator.COUNT||r.get("aggregator")===g.aggregator.SUM))}function allocationPolicyAndNumberOfVariationsAreValid(t,r){return t===h.TrafficAllocationPolicyTypes.MINIMIZE_TIME?r>=3:t!==h.TrafficAllocationPolicyTypes.MAXIMIZE_CONVERSIONS||r>=2}function hasFullFactorialTrafficPolicy(t){return!!t&&(Object(l.isImmutable)(t)?t.get("multivariate_traffic_policy"):t.multivariate_traffic_policy)===E.default.multivariateTrafficPolicies.FULL_FACTORIAL}function hasPartialFactorialTrafficPolicy(t){return!!t&&(Object(l.isImmutable)(t)?t.get("multivariate_traffic_policy"):t.multivariate_traffic_policy)===E.default.multivariateTrafficPolicies.PARTIAL_FACTORIAL}function hasStatusInAnyEnvironment(t,r){return(t?t.get("environments",Object(l.toImmutable)({})):Object(l.toImmutable)({})).some((function(t){return t&&t.get("status")===r}))}function isRunningInAnyEnvironment(t){return this.hasStatusInAnyEnvironment(t,E.default.EnvironmentStatus.RUNNING)}function isFeatureTest(t){var r=Object(l.isImmutable)(t)?t.get("layer_policy"):t.layer_policy,a=Object(l.isImmutable)(t)?t.get("feature_flag_id"):t.feature_flag_id;return r===v.policy.SINGLE_EXPERIMENT&&o.a.isNumber(a)}function isMultivariateTest(t){return!!t&&(Object(l.isImmutable)(t)?t.get("policy"):t.policy)===v.policy.MULTIVARIATE}function isMultiArmedBandit(t){return!!t&&(Object(l.isImmutable)(t)?t.get("allocation_policy"):t.allocation_policy)===h.TrafficAllocationPolicyTypes.MAXIMIZE_CONVERSIONS}function isStatsAcceleratorExperiment(t){return!!t&&(Object(l.isImmutable)(t)?t.get("allocation_policy"):t.allocation_policy)===h.TrafficAllocationPolicyTypes.MINIMIZE_TIME}function getFullStackExperimentTypeHumanReadable(t){return isFeatureTest(t)?_.c.FULLSTACK_EXPERIMENT_TYPES.feature:isMultiArmedBandit(t)?_.c.FULLSTACK_EXPERIMENT_TYPES.multiArmedBandit:_.c.FULLSTACK_EXPERIMENT_TYPES[t.get("layer_policy")]}r.default={addAction:addAction,addPercentageToVariations:addPercentageToVariations,addVariationModificationInfo:addVariationModificationInfo,allocationPolicyAndNumberOfVariationsAreValid:allocationPolicyAndNumberOfVariationsAreValid,allocationPolicyAndAbsenceOfPrimaryMetricAreValid:allocationPolicyAndAbsenceOfPrimaryMetricAreValid,allocationPolicyAndSelectedPrimaryMetricAreValid:allocationPolicyAndSelectedPrimaryMetricAreValid,changesForViewIdAndVariationIdAndExperimentId:changesForViewIdAndVariationIdAndExperimentId,calculateTotalPercent:calculateTotalPercent,cleanActionsJSON:cleanActionsJSON,cleanAudiencesJSON:cleanAudiencesJSON,cloneActions:cloneActions,cloneChangeList:cloneChangeList,countAllChangesInVariation:countAllChangesInVariation,createDuplicateName:createDuplicateName,determineIfStartScheduled:determineIfStartScheduled,determineIfStopScheduled:determineIfStopScheduled,deriveAudienceIdsFromAudienceConditions:deriveAudienceIdsFromAudienceConditions,deriveAudienceIdsFromAudienceConditionsPOJO:deriveAudienceIdsFromAudienceConditionsPOJO,ensureActionInitialized:ensureActionInitialized,filterLayerExperimentsByStatus:filterLayerExperimentsByStatus,formatTrafficAllocationVariations:formatTrafficAllocationVariations,formatTrafficAllocationVariationsForUnstartedPartialFactorial:formatTrafficAllocationVariationsForUnstartedPartialFactorial,generateGuid:generateGuid,getAddedExperimentsByStatus:getAddedExperimentsByStatus,getAudienceConditions:getAudienceConditions,getExperimentsByStatus:getExperimentsByStatus,getFieldNamesFromWidgetChanges:getFieldNamesFromWidgetChanges,getFullStackExperimentTypeHumanReadable:getFullStackExperimentTypeHumanReadable,getLayerExperiementsForAudience:getLayerExperiementsForAudience,getTimeZoneString:getTimeZoneString,getTrafficAllocationLabelFromExperimentPolicy:T,getTrafficAllocationVariationStatus:getTrafficAllocationVariationStatus,getViewIdsInVariation:getViewIdsInVariation,hasFullFactorialTrafficPolicy:hasFullFactorialTrafficPolicy,hasFutureStartScheduled:hasFutureStartScheduled,hasFutureStopScheduled:hasFutureStopScheduled,hasSchedule:hasSchedule,hasPartialFactorialTrafficPolicy:hasPartialFactorialTrafficPolicy,hasStatusInAnyEnvironment:hasStatusInAnyEnvironment,isExperimentLive:isExperimentLive,isFeatureTest:isFeatureTest,isMultiArmedBandit:isMultiArmedBandit,isMultivariateTest:isMultivariateTest,isRunningInAnyEnvironment:isRunningInAnyEnvironment,isStatsAcceleratorExperiment:isStatsAcceleratorExperiment,isVariationPublishedActive:isVariationPublishedActive,redistributeEvenly:redistributeEvenly,redistributePausedVariationTraffic:redistributePausedVariationTraffic,redistributeResumedVariationTraffic:redistributeResumedVariationTraffic,redistributeRestoredVariationTraffic:redistributeRestoredVariationTraffic,redistributeStoppedVariationTraffic:redistributeStoppedVariationTraffic,redistributeUnevenly:redistributeUnevenly,redistributeWithNewVariationTraffic:redistributeWithNewVariationTraffic,redistributeWithNewVariationTrafficImmutable:redistributeWithNewVariationTrafficImmutable,removeActions:removeActions,removeViews:removeViews,setVariationWeightsBasedOnPercentage:setVariationWeightsBasedOnPercentage,shouldShowDataOnResultsPage:b,suggestedNewVariationName:suggestedNewVariationName,validateLayerExperiment:validateLayerExperiment,validateLayerExperimentChange:validateLayerExperimentChange,validateVariationName:validateVariationName}},function(t,r,a){"use strict";a.r(r),a.d(r,"LIVE_VARIABLE_TYPES",(function(){return o})),a.d(r,"LIVE_VARIABLE_TYPE_HUMAN_READABLES",(function(){return c}));var i=a(17),o=a.n(i)()({boolean:null,double:null,integer:null,string:null}),c={boolean:tr("Boolean"),double:tr("Double"),integer:tr("Integer"),string:tr("String")};r.default={LIVE_VARIABLE_TYPES:o,LIVE_VARIABLE_TYPE_HUMAN_READABLES:c}},function(t,r,a){"use strict";a.r(r);var i=a(279);a.d(r,"actions",(function(){return i.default}));var o=a(506);a.d(r,"constants",(function(){return o.a}));var c=a(456);a.d(r,"entityDef",(function(){return c.a}));var l=a(7);a.d(r,"enums",(function(){return l.default}));var u=a(56);a.d(r,"fns",(function(){return u.default}));var d=a(231);a.d(r,"getters",(function(){return d.a}));var p=a(1200);a.d(r,"gettersWithTypes",(function(){return p.a})),r.default={actions:i.default,constants:o.a,entityDef:c.a,enums:l.default,fns:u.default,getters:d.a,gettersWithTypes:p.a}},,,function(t,r,a){"use strict";var i=a(326);a.d(r,"a",(function(){return i.a}));var o=a(164);a.d(r,"b",(function(){return o.a}));var c=a(1211);a.d(r,"c",(function(){return c.a}));var l=a(1212);i.a,o.a,c.a,l.a},function(t,r,a){"use strict";a.r(r);var i=a(1272),o=a.n(i);a.d(r,"MessageChannel",(function(){return o.a}));var c=a(874),l=a.n(c);a.d(r,"actions",(function(){return l.a}));var u=a(1273),d=a.n(u);a.d(r,"constants",(function(){return d.a}));var p=a(301),m=a.n(p);a.d(r,"enums",(function(){return m.a}));var g=a(948),h=a.n(g);a.d(r,"fns",(function(){return h.a}));var y=a(540),v=a.n(y);a.d(r,"getters",(function(){return v.a})),r.default={actions:l.a,constants:d.a,enums:m.a,fns:h.a,getters:v.a,MessageChannel:o.a}},function(t,r,a){"use strict";a.r(r);var i=a(2136),o=a.n(i)()();r.default=o},function(t,r,a){"use strict";a.d(r,"a",(function(){return h})),a.d(r,"e",(function(){return v})),a.d(r,"f",(function(){return _})),a.d(r,"b",(function(){return E})),a.d(r,"d",(function(){return b})),a.d(r,"c",(function(){return T}));var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(9),d=a.n(u),p=a(26),m=a(224),g=a.n(m);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){_inherits(Dropdown,t);var r=_createSuper(Dropdown);function Dropdown(){var t;_classCallCheck(this,Dropdown);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).setDropdownRef=function(r){t.dropdown=r},t}return _createClass(Dropdown,[{key:"getChildContext",value:function getChildContext(){var t=this;return{toggleDropdown:function toggleDropdown(){g.a.toggle.call(g.a,t.dropdown)},hideDropdown:function hideDropdown(){g.a.hide.call(g.a,t.dropdown)}}}},{key:"render",value:function render(){var t=this.props,r=t.width,a=t.zIndex,i=t.testSection,o=t.activator,c=t.children;return l.a.createElement("div",{"data-ui-component":!0,ref:this.setDropdownRef,className:"lego-dropdown-group",style:{width:r,zIndex:a},"data-test-section":i},l.a.createElement(y,null,o),c)}}]),Dropdown}(l.a.Component);h.propTypes={activator:o.a.node.isRequired,children:o.a.node.isRequired,testSection:o.a.string,width:o.a.oneOfType([o.a.string,o.a.number]),zIndex:o.a.number},h.childContextTypes={toggleDropdown:o.a.func,hideDropdown:o.a.func},h.defaultProps={testSection:"",width:null,zIndex:null};var y=function(t){_inherits(DropdownActivator,t);var r=_createSuper(DropdownActivator);function DropdownActivator(){return _classCallCheck(this,DropdownActivator),r.apply(this,arguments)}return _createClass(DropdownActivator,[{key:"render",value:function render(){var t=this,r=this.props.children,a=l.a.Children.map(r,(function(r){return l.a.cloneElement(r,{onClick:function onClick(a){var i=t.context.toggleDropdown;r&&r.props&&r.props.onClick&&r.props.onClick(a),i()}})}));return l.a.createElement("div",null,a)}}]),DropdownActivator}(l.a.Component);y.propTypes={children:o.a.node},y.defaultProps={children:null},y.contextTypes={toggleDropdown:o.a.func};var v=function(t){_inherits(DropdownContents,t);var r=_createSuper(DropdownContents);function DropdownContents(){return _classCallCheck(this,DropdownContents),r.apply(this,arguments)}return _createClass(DropdownContents,[{key:"render",value:function render(){var t=this.props,r=t.minWidth,a=t.minHeight,i=t.canScroll,o=t.isNoWrap,c=t.direction,u=t.customStyles,p=t.children,m=_extends({},r&&{minWidth:r},a&&{minHeight:a},i&&{overflowY:"auto",maxHeight:"auto"},!i&&!a&&{minHeight:"fit-content"}),g=d()({nowrap:o,"lego-dropdown":!0,"lego-dropdown--right":"left"===c,"lego-dropdown--left":"right"===c,"lego-dropdown--up":"up"===c}),h=_extends({},m,u);return l.a.createElement("ul",{className:g,style:h},p)}}]),DropdownContents}(l.a.Component);v.propTypes={canScroll:o.a.bool,children:o.a.node,customStyles:o.a.object,direction:o.a.oneOf(["left","right","up"]),isNoWrap:o.a.bool,minHeight:o.a.oneOfType([o.a.string,o.a.number]),minWidth:o.a.oneOfType([o.a.string,o.a.number])},v.defaultProps={canScroll:!0,children:null,customStyles:{},direction:"left",isNoWrap:!1,minHeight:"",minWidth:"200px"};var _=function(t){_inherits(DropdownListItem,t);var r=_createSuper(DropdownListItem);function DropdownListItem(){var t;_classCallCheck(this,DropdownListItem);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).onClick=function(){var r=t.props.hideOnClick,a=t.context.hideDropdown;r&&a()},t}return _createClass(DropdownListItem,[{key:"render",value:function render(){var t=this.props,r=t.hardSides,a=t.hardTop,i=t.children,o=d()({"hard--sides":r,"hard--top":a,"lego-dropdown__item":!0});return l.a.createElement("li",{className:o,onClick:this.onClick},i)}}]),DropdownListItem}(l.a.Component);_.defaultProps={children:null,hardSides:!1,hardTop:!1,hideOnClick:!1},_.propTypes={children:o.a.node,hardSides:o.a.bool,hardTop:o.a.bool,hideOnClick:o.a.bool},_.contextTypes={hideDropdown:o.a.func};var E=function(t){_inherits(DropdownBlockLink,t);var r=_createSuper(DropdownBlockLink);function DropdownBlockLink(){var t;_classCallCheck(this,DropdownBlockLink);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).onClick=function(){var r=t.props,a=r.hideOnClick,i=r.onClick,o=t.context.hideDropdown;i(),a&&o()},t}return _createClass(DropdownBlockLink,[{key:"render",value:function render(){var t=this.props,r=t.minWidth,a=t.isLink,i=t.isIndented,o=t.isDisabled,c=t.isDestructive,u=t.testSection,p=t.trackId,m=t.children,g={};return r&&(g.minWidth=r),l.a.createElement("div",{role:"link",tabIndex:"0",className:d()({link:a,isSelected:!a,"lego-dropdown__block-link":a,"lego-dropdown__block-link--indented":i,"lego-dropdown_block-link--disabled":o,"lego-dropdown_block-link--destructive":c}),style:g,"data-test-section":u,"data-track-id":p,onClick:this.onClick,onKeyDown:this.onClick},m)}}]),DropdownBlockLink}(l.a.Component);E.defaultProps={hideOnClick:!1,isLink:!0,isIndented:!1,isDisabled:!1,isDestructive:!1,minWidth:"200px",testSection:null,trackId:null},E.propTypes={children:o.a.node.isRequired,hideOnClick:o.a.bool,isDestructive:o.a.bool,isDisabled:o.a.bool,isIndented:o.a.bool,isLink:o.a.bool.isRequired,minWidth:o.a.oneOfType([o.a.string,o.a.number]),onClick:o.a.func.isRequired,testSection:o.a.string,trackId:o.a.string},E.contextTypes={hideDropdown:o.a.func};var b=function(t){_inherits(DropdownBlockLinkText,t);var r=_createSuper(DropdownBlockLinkText);function DropdownBlockLinkText(){return _classCallCheck(this,DropdownBlockLinkText),r.apply(this,arguments)}return _createClass(DropdownBlockLinkText,[{key:"render",value:function render(){var t=this.props,r=t.testSection,a=t.text;return l.a.createElement("span",{"data-test-section":"block-link-text-".concat(r)},a)}}]),DropdownBlockLinkText}(l.a.Component);b.defaultProps={testSection:null,text:null},b.propTypes={testSection:o.a.string,text:o.a.string};var T=function(t){_inherits(DropdownBlockLinkSecondaryText,t);var r=_createSuper(DropdownBlockLinkSecondaryText);function DropdownBlockLinkSecondaryText(){return _classCallCheck(this,DropdownBlockLinkSecondaryText),r.apply(this,arguments)}return _createClass(DropdownBlockLinkSecondaryText,[{key:"render",value:function render(){var t=this.props,r=t.isWarning,a=t.testSection,i=t.secondaryText;return l.a.createElement("div",{className:"lego-dropdown--descriptive__content flex"},r&&l.a.createElement(p.a,{name:"circle-exclamation",size:"small",className:"oui-icon push--right flex--none"}),l.a.createElement("div",{"data-test-section":"block-link-description-".concat(a)},i))}}]),DropdownBlockLinkSecondaryText}(l.a.Component);T.defaultProps={isWarning:!1,secondaryText:null,testSection:null},T.propTypes={isWarning:o.a.bool,secondaryText:o.a.string,testSection:o.a.string}},function(t,r,a){"use strict";a.r(r),a.d(r,"FEATURE_VARIABLE_TYPES",(function(){return d})),a.d(r,"FEATURE_VARIABLE_TYPE_HUMAN_READABLES",(function(){return p})),a.d(r,"FEATURE_VARIABLE_ERRORS",(function(){return m})),a.d(r,"LOADING_FEATURE_FLAGS",(function(){return g})),a.d(r,"entityStatus",(function(){return h})),a.d(r,"BASE_VARIABLE",(function(){return y})),a.d(r,"DEFAULT_VARIABLE",(function(){return v})),a.d(r,"MAX_API_NAME_LENGTH",(function(){return _})),a.d(r,"FEATURE_VARIABLE_TEXTS",(function(){return E}));var i,o,c=a(17),l=a.n(c),u=a(2);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var d=l()({boolean:null,double:null,integer:null,string:null,json:null}),p=(_defineProperty(i={},d.boolean,"Boolean"),_defineProperty(i,d.double,"Double"),_defineProperty(i,d.integer,"Integer"),_defineProperty(i,d.string,"String"),_defineProperty(i,d.json,"JSON"),i),m=(_defineProperty(o={},d.boolean,{valueError:"Please enter a valid Boolean."}),_defineProperty(o,d.double,{valueError:"Please enter a valid Double."}),_defineProperty(o,d.integer,{valueError:"Please enter a valid Integer."}),_defineProperty(o,d.string,{valueError:"Please enter a valid String."}),_defineProperty(o,d.json,{valueError:"Please enter a valid JSON object."}),o),g="feature-flags-loading",h={NOT_STARTED:"not_started",RUNNING:"running",PAUSED:"paused"},y=u.default.Map({api_name:"",default_value:"",type:d.string}),v=u.default.Map({api_name:"",default_value:"",type:void 0}),_=64,E=[{label:"Boolean",value:d.boolean},{label:"Double",value:d.double},{label:"Integer",value:d.integer},{label:"String",value:d.string},{label:"JSON",value:d.json}];r.default={entityStatus:h,FEATURE_VARIABLE_TYPES:d,FEATURE_VARIABLE_TYPE_HUMAN_READABLES:p,FEATURE_VARIABLE_ERRORS:m,LOADING_FEATURE_FLAGS:g,BASE_VARIABLE:y,DEFAULT_VARIABLE:v,MAX_API_NAME_LENGTH:_,FEATURE_VARIABLE_TEXTS:E}},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({API_INJECT_ENTITY:null,API_ENTITY_FETCH_START:null,API_ENTITY_FETCH_SUCCESS:null,API_ENTITY_FETCH_FAIL:null,API_ENTITY_PERSIST_START:null,API_ENTITY_PERSIST_SUCCESS:null,API_ENTITY_PERSIST_FAIL:null,API_ENTITY_DELETE_START:null,API_ENTITY_DELETE_SUCCESS:null,API_ENTITY_DELETE_FAIL:null,FLUSH_ENTITY_STORE:null,FLUSH_SINGLE_API_ENTITY:null,API_CACHE_REQUESTS:null,API_STUB_UPDATE_ENTITY:null,API_STUB_ENTITIES:null,API_STUB_ALL:null,SET_API_STUB_TIMEOUT:null,API_RESTORE_ENTITY_STUB:null,API_RESTORE_ALL_ENTITY_STUBS:null,API_ADD_LOCAL_CACHE_ENTITY:null,API_REMOVE_LOCAL_CACHE_ENTITY:null})},,,,function(t,r,a){"use strict";a.r(r);var i=a(734);a.d(r,"actions",(function(){return i.a}));var o=a(274);a.d(r,"constants",(function(){return o.c}));var c=a(336);a.d(r,"enums",(function(){return c.default}));var l=a(133);a.d(r,"fns",(function(){return l.a}));var u=a(233);a.d(r,"getters",(function(){return u.a})),r.default={actions:i.a,constants:o.c,enums:c.default,fns:l.a,getters:u.a}},function(t,r,a){"use strict";a.r(r),a.d(r,"filterLayersByStatus",(function(){return filterLayersByStatus})),a.d(r,"isPersonalizationLayer",(function(){return isPersonalizationLayer})),a.d(r,"isABTestLayer",(function(){return isABTestLayer})),a.d(r,"isEqualPriorityLayer",(function(){return isEqualPriorityLayer})),a.d(r,"isSingleExperimentLayer",(function(){return isSingleExperimentLayer})),a.d(r,"isMultivariateTestLayer",(function(){return isMultivariateTestLayer})),a.d(r,"isMultiArmedBandit",(function(){return isMultiArmedBandit})),a.d(r,"isFeatureTestLayer",(function(){return isFeatureTestLayer})),a.d(r,"getExperimentPrioritiesForDuplicate",(function(){return getExperimentPrioritiesForDuplicate})),a.d(r,"validateHoldbackPercentage",(function(){return validateHoldbackPercentage})),a.d(r,"convertHoldbackPercentageToStoredValue",(function(){return convertHoldbackPercentageToStoredValue})),a.d(r,"getExperimentName",(function(){return getExperimentName})),a.d(r,"getDecisionMetadata",(function(){return getDecisionMetadata})),a.d(r,"getLayerAndExperimentsLastModified",(function(){return getLayerAndExperimentsLastModified})),a.d(r,"getCampaignTypeOfLayer",(function(){return getCampaignTypeOfLayer})),a.d(r,"getText",(function(){return getText})),a.d(r,"getStatus",(function(){return getStatus})),a.d(r,"isLayerInDraftStatus",(function(){return isLayerInDraftStatus})),a.d(r,"getPriorityGroupsSplitByStatus",(function(){return getPriorityGroupsSplitByStatus})),a.d(r,"hasLayerStarted",(function(){return hasLayerStarted}));var i=a(4),o=a.n(i),c=a(75),l=a(3),u=a(2),d=a(29),p=a(312),m=a(8),g=a.n(m),h=a(238),y=a(21);function filterLayersByStatus(t,r){switch(r){case y.status.ACTIVE:t=t.filter((function(t){return!t.get("archived")}));break;case y.status.ARCHIVED:t=t.filter((function(t){return t.get("archived")}));break;case y.status.PAUSED:t=function getPausedLayers(t){var r=l.default.evaluateToJS(p.default.entityCache);return t.filter((function(t){var a=o.a.find(r,(function(r){return r.layer_id===t.get("id")}));return a&&!1===a.active&&!t.get("archived")}))}(t);break;case y.status.RUNNING:t=function getRunningLayers(t){var r=l.default.evaluateToJS(p.default.entityCache);return t.filter((function(t){var a=o.a.find(r,(function(r){return r.layer_id===t.get("id")}));return a&&!0===a.active}))}(t);break;case y.status.DRAFT:t=function getDraftLayers(t){var r=l.default.evaluateToJS(p.default.entityCache);return t.filter((function(t){var a=o.a.find(r,(function(r){return r.layer_id===t.get("id")}));return!(t.get("archived")||a&&void 0!==a.active)}))}(t)}return t}function isPersonalizationLayer(t){if(!t)return!1;var r=Object(u.isImmutable)(t)?t.get("policy"):t.policy;return r===y.policy.ORDERED||r===y.policy.EQUAL_PRIORITY}function isABTestLayer(t){if(!t)return!1;var r=Object(u.isImmutable)(t)?t.get("policy"):t.policy;return r===y.policy.RANDOM||r===y.policy.SINGLE_EXPERIMENT}function isEqualPriorityLayer(t){return!!t&&(Object(u.isImmutable)(t)?t.get("policy"):t.policy)===y.policy.EQUAL_PRIORITY}function isSingleExperimentLayer(t){if(!t)return!1;var r=Object(u.isImmutable)(t)?t.get("policy"):t.policy;return r===y.policy.SINGLE_EXPERIMENT||r===y.policy.MULTIVARIATE}function isMultivariateTestLayer(t){return!!t&&(Object(u.isImmutable)(t)?t.get("policy"):t.policy)===y.policy.MULTIVARIATE}function isMultiArmedBandit(t){if(!t)return!1;var r=Object(u.isImmutable)(t)?t.get("type"):t.type;return!!r&&r===y.type.MULTIARMED_BANDIT}function isFeatureTestLayer(t){if(!t)return!1;var r=Object(u.isImmutable)(t)?t.get("type"):t.type;return!!r&&r===y.type.FEATURE}function getExperimentPrioritiesForDuplicate(t,r){var a=o.a.map(t,(function(t){var a=o.a.map(t,(function(t){return r[t]}));return o.a.filter(a,o.a.isNumber)}));return o.a.filter(a,(function(t){return t.length>0}))}function validateHoldbackPercentage(t){return o.a.isNaN(t)||!o.a.isFinite(t)||t>99.99||t<0?{isError:!0,message:h.INVALID_HOLDBACK_ERROR}:0===t?{isWarning:!0,message:h.MIN_HOLDBACK_WARNING}:{isValid:!0}}function convertHoldbackPercentageToStoredValue(t){return Math.round(100*t)}function getExperimentName(t,r){var a=t.get("name");return a||(isABTestLayer(r)?r.get("name"):!isABTestLayer(r)&&t.get("name")?t.get("name"):null)}function getDecisionMetadata(t){var r=Object(c.default)(t.decision_metadata);return r||(r={offer_consistency:!1,experiment_priorities:[]}),r}function getLayerAndExperimentsLastModified(t,r){return r.filter((function(r){return r.get("layer_id")===t.get("id")})).toList().map((function(t){return t.get("last_modified")})).push(t.get("last_modified")).max((function(t,r){return g.a.date(t).isBefore(r)?-1:g.a.date(r).isBefore(t)?1:0}))}function getCampaignTypeOfLayer(t){return isMultiArmedBandit(t)?y.campaignTypes.MULTIARMED_BANDIT:isFeatureTestLayer(t)?y.campaignTypes.FEATURE:isABTestLayer(t)?y.campaignTypes.SINGLE_EXPERIMENT:isMultivariateTestLayer(t)?y.campaignTypes.MULTIVARIATE:y.campaignTypes.P13N_CAMPAIGN}function getText(t){return h.TEXT_BY_CAMPAIGN_TYPE[getCampaignTypeOfLayer(t)]}function getStatus(t,r){return t.get("archived")?y.status.ARCHIVED:r&&!0===r.get("active")?y.status.RUNNING:r&&!1===r.get("active")?y.status.PAUSED:(r&&r.get("active"),y.status.DRAFT)}function isLayerInDraftStatus(t){return!t||t.get("status")===y.entityStatus.NOT_STARTED}function getPriorityGroupsSplitByStatus(t,r){var a=function getPriorityGroups(t,r){var a;a=isEqualPriorityLayer(t)?t.getIn(["decision_metadata","experiment_priorities"]):t.get("experiment_ids").map((function(t){return Object(u.toImmutable)([t])}));var i=r.filter((function(r){return r.get("layer_id")===t.get("id")})).map((function(t){return t.get("id")})).filterNot((function(t){return a.some((function(r){return r.contains(t)}))})).toList().sort();return i.size&&(a=a.push(i)),a}(t,r),i=function isArchivedOrMissing(t){return!r.has(t)||r.getIn([t,"status"])===d.default.status.ARCHIVED};return{unarchivedGroups:a.map((function(t){return t.filterNot(i)})).filter((function(t){return t.size>0})),archivedGroup:a.flatten().filter(i)}}function hasLayerStarted(t){return t.get("status")===y.entityStatus.RUNNING||t.get("status")===y.entityStatus.PAUSED}r.default={filterLayersByStatus:filterLayersByStatus,isPersonalizationLayer:isPersonalizationLayer,isABTestLayer:isABTestLayer,isEqualPriorityLayer:isEqualPriorityLayer,isSingleExperimentLayer:isSingleExperimentLayer,isMultiArmedBandit:isMultiArmedBandit,isMultivariateTestLayer:isMultivariateTestLayer,getExperimentPrioritiesForDuplicate:getExperimentPrioritiesForDuplicate,validateHoldbackPercentage:validateHoldbackPercentage,convertHoldbackPercentageToStoredValue:convertHoldbackPercentageToStoredValue,getExperimentName:getExperimentName,getDecisionMetadata:getDecisionMetadata,getLayerAndExperimentsLastModified:getLayerAndExperimentsLastModified,getCampaignTypeOfLayer:getCampaignTypeOfLayer,getText:getText,getStatus:getStatus,isLayerInDraftStatus:isLayerInDraftStatus,getPriorityGroupsSplitByStatus:getPriorityGroupsSplitByStatus,hasLayerStarted:hasLayerStarted}},function(t,r,a){"use strict";a.d(r,"a",(function(){return o}));var i=a(17);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var o=a.n(i)()({DASHBOARD_SWITCH_MAIN_TAB:null,DASHBOARD_SWITCH_SUB_TAB:null,DASHBOARD_SWITCH_CANVAS_INTEGRATION:null,DASHBOARD_SET_TABLE_FILTERS:null,DASHBOARD_RESET_TABLE_FILTERS:null,DASHBOARD_SELECT_TABLE_ITEM:null,DASHBOARD_DESELECT_TABLE_ITEM:null,DASHBOARD_SELECT_ACTIVITY_FILTER:null,DASHBOARD_SET_NEXT_PAGE_ACTIVITY_FILTER:null,DASHBOARD_SET_ACTIVITY_PAGE_RESULTS_LENGTH:null,DASHBOARD_SELECT_INTEGRATION:null,DASHBOARD_SET_LABS_DATA:null,DASHBOARD_SET_TEST_PARAMETERS:null});_extends({},o)},function(t,r,a){"use strict";a.r(r),a.d(r,"confirmArchiveEntity",(function(){return confirmArchiveEntity})),a.d(r,"confirmArchiveEvent",(function(){return confirmArchiveEvent})),a.d(r,"confirmDeleteEntity",(function(){return confirmDeleteEntity})),a.d(r,"confirmNavigation",(function(){return confirmNavigation})),a.d(r,"confirmRevert",(function(){return confirmRevert})),a.d(r,"showAudienceEditorDialog",(function(){return I})),a.d(r,"showFullstackEventConfigDialog",(function(){return showFullstackEventConfigDialog})),a.d(r,"showChangeListSidebar",(function(){return showChangeListSidebar})),a.d(r,"showChangeSelectorSidebar",(function(){return showChangeSelectorSidebar})),a.d(r,"showChangeEditorSidebar",(function(){return showChangeEditorSidebar})),a.d(r,"showInsertHTMLSidebar",(function(){return showInsertHTMLSidebar})),a.d(r,"showInsertImageSidebar",(function(){return showInsertImageSidebar})),a.d(r,"showRedirectEditorSidebar",(function(){return showRedirectEditorSidebar})),a.d(r,"warnIfInArchivedProject",(function(){return warnIfInArchivedProject})),a.d(r,"warnIfPersonalizationIsOff",(function(){return warnIfPersonalizationIsOff})),a.d(r,"warnIfV1SnippetIsDisabled",(function(){return warnIfV1SnippetIsDisabled})),a.d(r,"showMABNotificationDialog",(function(){return showMABNotificationDialog}));var i=a(87),o=a(5),c=a(3),l=a(2),u=a(182),d=a.n(u),p=a(24),m=a(86),g=a(145),h=a(14),y=a(70),v=a(658),_=a(1430),E=a(378),b=a(50),T=a(947),S=a(1271);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function confirmArchiveEntity(t){return o.default.confirm({title:tr("Archive {0}",t.entityName),message:tr("Are you sure you want to archive the {0} <b>{1}</b>? This will affect running campaigns in Custom Snippets that use this {0}.",t.entityName,t.instanceName),isWarning:!0,confirmText:tr("Archive")}).then((function(){return t.archiveAction(t.entityInstance)}))}function confirmArchiveEvent(t){return o.default.confirm({title:tr("Archive Event"),message:tr("Are you sure you want to archive the click event <b>{0}</b>? This event will no longer be tracked. If this event is a tracked metric on a running experiment, its results may become inaccurate.",t.name),isWarning:!0,confirmText:tr("Archive Event")}).then((function(){return b.actions.archive(t)}))}function confirmDeleteEntity(t){return o.default.confirm({title:t.title||tr("Delete {0}",t.entityType),message:t.message||tr("Are you sure you want to delete this {0}?",t.entityType),confirmText:t.confirmText||tr("Yes"),cancelText:t.cancelText||tr("No"),isWarning:!0,publishWarning:t.publishWarning||null}).then((function(){return t.deleteAction(t.entityInstance)}))}function confirmNavigation(t,r,a){return t?o.default.confirm({title:tr("Discard unsaved changes?"),message:tr("You have unsaved changes which will be discarded if you continue without saving first."),confirmText:tr("Discard & Continue"),isWarning:!0}).then(a):Promise.resolve().then(a)}function confirmRevert(t){o.default.confirm({title:tr("Revert Changes"),message:tr("Are you sure you want to return to your last saved changes? Reverting will lose your current changes."),confirmText:tr("Revert Changes"),isWarning:!0}).then(t)}var C=function fetchTargetingConditionsAndTagGroups(t){var r=v.actions.fetchAll(null,{skipEvaluatingCachedData:!0}),a=_.a.fetchDefaultTagGroup(c.default.evaluate(h.getters.id));return t.concat([r,a])},I=Object(i.c)("reduce_data_fetching_audience_builder")((function(t,r,a){g.a.clearPerformanceMark("load_audience_editor_begin"),g.a.setPerformanceMark("load_audience_editor_begin");var i=c.default.evaluate(h.getters.isWebProject),l=[],u=m.default.getAudiencesBundleModules();if(l.push(u),this.reduce_data_fetching_audience_builder)if(i)l=C(l);else{var d=v.actions.fetchAll();l.push(d)}else l=C(l);return Promise.all(l).then((function(i){var c=_slicedToArray(i,1)[0].AudienceEditor;o.default.showDialog({component:c,noPadding:!0,fullScreen:!0,dismissOnBack:!0,onHideDialog:a,data:{audience:t,fullScreen:!0,_onSave:r}})}))}));function showFullstackEventConfigDialog(t,r){var a=c.default.evaluate(h.getters.id),i=c.default.evaluate(h.getters.primarySDKLanguage),u=b.fns.createEventEntity({event_type:b.enums.eventTypes.CUSTOM,api_name:t,name:t,project_id:a});o.default.showReactDialog(T.a,{props:{onSaveEvent:r,event:Object(l.toImmutable)(u),language:i}},{noPadding:!0,isOuiDialog:!0,fullScreen:!0,dismissOnBack:!0})}function showChangeListSidebar(t){o.default.renderRegion("p13n-editor-sidebar",{component:a(3381).default,parent:t&&t.parent,data:t&&t.data})}function showChangeSelectorSidebar(){o.default.renderRegion("p13n-editor-sidebar",{component:a(2095).default})}function showChangeEditorSidebar(t){var r={};t&&(r.isNewChange=!0),o.default.renderRegion("p13n-editor-sidebar",{component:a(3525).default,data:r})}function showInsertHTMLSidebar(t){var r={};t&&(r.isNewChange=!0),o.default.renderRegion("p13n-editor-sidebar",{component:a(3537).default,data:r})}function showInsertImageSidebar(t){var r={};t&&(r.isNewChange=!0),o.default.renderRegion("p13n-editor-sidebar",{component:a(3538).default,data:r})}function showRedirectEditorSidebar(t){var r={};t&&(r.isNewChange=!0),o.default.renderRegion("p13n-editor-sidebar",{component:a(3539),data:r})}function warnIfInArchivedProject(t){if(t===y.enums.project_status.ARCHIVED){var r=function getNavigatingInArchivedProjectWarning(){var t=p.default.manageProjectsPage(!0);return tr("This project is currently archived. Please ​<a href={0}>unarchive</a> it to make changes.",t)}();o.default.showPersistentNotification({message:r,type:"warning",id:"archived-project-warning-notification",safeHTML:!0})}else o.default.clearPersistentNotification("archived-project-warning-notification")}function warnIfPersonalizationIsOff(t,r){if(r)o.default.clearPersistentNotification("personalization-project-disabled-warning-notification");else{var a=function getNewClientDisabledWarning(t){if(t){var r=c.default.evaluate(E.a.v2PlatformText),a=p.default.projectSettingsImplementation(t),i='<a href="'.concat(a,'" v-push-state> enable ').concat(r,"</a>");return tr("Welcome to {0}! To publish or preview campaigns on the new platform, <strong>please {1} in your snippet.</strong>",r,i)}}(t);o.default.showPersistentNotification({message:a,type:"warning",id:"personalization-project-disabled-warning-notification",safeHTML:!0})}}function warnIfV1SnippetIsDisabled(t,r,a,i){if(r===y.enums.ClientBuildSettings.STANDALONE){var l=function getV1DisabledWarning(t,r,a){if(t){var i=c.default.evaluate(E.a.v1PlatformText),o=c.default.evaluate(E.a.v2PlatformText),l=d.a.dashboardTab(t,"implementation"),u='<a href="'.concat(l,'" v-push-state>change your snippet settings</a>');if(r)return tr("{0} is turned off. To re-enable {0}, {1}.",i,u);var m=p.default.xWebHome(t);if(a){var g='<a href="'.concat(m,'">click here</a>');return tr("{0} is turned off. To use {1}, {2}.",i,o,g)}var h='<a href="'.concat(m,'" v-push-state>').concat(o,"</a>");return tr("{0} is turned off. To create a new experiment, use {1}.",i,h)}}(t,a,i);o.default.showPersistentNotification({message:l,type:"warning",id:"v1-snippet-disabled-warning-notification",safeHTML:!0})}else o.default.clearPersistentNotification("v1-snippet-disabled-warning-notification")}function showMABNotificationDialog(t){o.default.showReactDialog(S.a,{props:{onCreateClick:t}},{dismissOnBack:!0,isOuiDialog:!0,shouldTrack:!0})}r.default={confirmArchiveEntity:confirmArchiveEntity,confirmArchiveEvent:confirmArchiveEvent,confirmDeleteEntity:confirmDeleteEntity,confirmNavigation:confirmNavigation,confirmRevert:confirmRevert,showAudienceEditorDialog:I,showMABNotificationDialog:showMABNotificationDialog,showFullstackEventConfigDialog:showFullstackEventConfigDialog,showChangeEditorSidebar:showChangeEditorSidebar,showChangeListSidebar:showChangeListSidebar,showChangeSelectorSidebar:showChangeSelectorSidebar,showInsertHTMLSidebar:showInsertHTMLSidebar,showInsertImageSidebar:showInsertImageSidebar,showRedirectEditorSidebar:showRedirectEditorSidebar,warnIfInArchivedProject:warnIfInArchivedProject,warnIfPersonalizationIsOff:warnIfPersonalizationIsOff,warnIfV1SnippetIsDisabled:warnIfV1SnippetIsDisabled}},function(t,r,a){"use strict";a.r(r),a.d(r,"getAccountDashboardBundleModule",(function(){return getAccountDashboardBundleModule})),a.d(r,"getAudiencesBundleModules",(function(){return getAudiencesBundleModules})),a.d(r,"getCodeLintingBundleModules",(function(){return getCodeLintingBundleModules})),a.d(r,"getFirebaseBundleModules",(function(){return getFirebaseBundleModules})),a.d(r,"getOasisBundleModules",(function(){return getOasisBundleModules}));var i=a(2290);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function getAccountDashboardBundleModule(){return Promise.all([a.e(5),a.e(8)]).then(a.bind(null,3645))}function getAudiencesBundleModules(){return Promise.all([a.e(9).then(a.bind(null,3646)),a.e(9).then(a.bind(null,3647)),a.e(9).then(a.bind(null,3648))]).then((function(t){var r=_slicedToArray(t,3),a=r[0],i=r[1],o=r[2];return console.warn('[BUNDLE SPLIT HELPER] Fetched 3 "getAudiencesBundleModules" OK'),{AudiencesSection:a,AudiencesSectionModule:i,AudienceEditor:o.default}}))}function getCodeLintingBundleModules(){return Promise.all([a.e(20).then(a.t.bind(null,3649,7)),a.e(20).then(a.t.bind(null,3650,7))]).then(i.a)}function getFirebaseBundleModules(){return Promise.all([a.e(21).then(a.bind(null,3642)),a.e(21).then(a.t.bind(null,3651,7))]).then((function(t){var r=_slicedToArray(t,2),a=r[0],i=r[1];return{firebaseApp:a.default,firebaseDatabase:i.default}}))}function getOasisBundleModules(){return Promise.all([Promise.all([a.e(1),a.e(3),a.e(12)]).then(a.bind(null,3652)),Promise.all([a.e(1),a.e(3),a.e(12)]).then(a.bind(null,1054)),Promise.all([a.e(1),a.e(3),a.e(12)]).then(a.bind(null,3653)),Promise.all([a.e(1),a.e(3),a.e(12)]).then(a.bind(null,3654)),Promise.all([a.e(1),a.e(3),a.e(12)]).then(a.t.bind(null,3655,7)),Promise.all([a.e(1),a.e(3),a.e(12)]).then(a.t.bind(null,3656,7)),Promise.all([a.e(1),a.e(3),a.e(12)]).then(a.bind(null,3657)),Promise.all([a.e(1),a.e(3),a.e(12)]).then(a.bind(null,243))]).then((function(t){var r=_slicedToArray(t,8);return{OasisExperimentManagerSection:r[0],OasisExperimentManagerModule:r[1],OasisImplementationSection:r[2],FullStackOnboardingSection:r[3],LiveVariablesSection:r[4],RolloutsSection:r[5],ManagerFullstackSection:r[6],ManagerFullstackModule:r[7]}}))}r.default={getAccountDashboardBundleModule:getAccountDashboardBundleModule,getAudiencesBundleModules:getAudiencesBundleModules,getCodeLintingBundleModules:getCodeLintingBundleModules,getFirebaseBundleModules:getFirebaseBundleModules,getOasisBundleModules:getOasisBundleModules}},,,,function(t,r,a){var i=a(4),o=a(2),c=o.default,l=o.toImmutable,u=o.toJS,d=a(37),p=a(352),m=a(308).default,g=a(911).default,h=a(313),y=a(66),v=a(114),_=a(13),E=a(393),b=a(74),T=a(436),S=a(83).default,C=a(450).default,I=a(29).default,A=a(39),O=a(96),P=a(377),R=a(400).default,w=a(693).default,N=a(282),L=a(330).default,x=a(394).default;r.selectedVariationId=["p13n/editor","selectedVariationId"],r.selectedViewId=["p13n/editor","selectedViewId"],r.changeEditorElementSelectorEnabled=["p13n/editor","editorState","elementSelectorEnabled"],r.changeEditorIsEditingSelector=["p13n/editor","editorState","isEditingSelector"],r.selectedExperimentOrSectionId=["p13n/editor","selectedExperimentOrSectionId"],r.changeListSidebarComponentConfig=["p13n/editor","changeListSidebarComponentConfig"],r.sidebarHandleIsVisible=[R.mountedComponentId("p13n-editor-sidebar"),function(t){return!!t&&i.includes(["p13n-change-editor-sidebar","p13n-insert-html-sidebar","p13n-redirect-editor-sidebar","p13n-widget-config-sidebar"],t)}],r.selectedView=[r.selectedViewId,N.entityCache,function(t,r){return r.get(t)}],r.currentLayerExperimentOrSection=[y.allExperimentsOrSectionsPointingToLayer,r.selectedVariationId,r.selectedExperimentOrSectionId,function(t,r,a){return r===L.EVERYONE_ELSE_AUDIENCE.variation_id&&a?t.find((function(t){return t.get("id")===a})):t.find((function(t){return t.get("variations").find((function(t){return t.get("variation_id")===r}))}))}],r.currentLayerExperimentOrSectionId=[r.currentLayerExperimentOrSection,function(t){return t&&t.get("id")}],r.currentlyEditingCollaboratorsForExperiment=[r.currentLayerExperimentOrSectionId,g.getters.entities,d.email,function(t,r,a){var i=r.getIn([C.entity,t]);return i?g.fns.userListFromEntity(i).filter((function(t){return t!==a})).toSet().toList():l([])}],r.isLayerExperimentArchived=[r.currentLayerExperimentOrSection,function(t){return!!t&&t.get("status")===I.status.ARCHIVED}],r.isEditorReadOnly=[r.isLayerExperimentArchived,function(t){return t}];var D=[r.selectedVariationId,r.selectedView,r.currentLayerExperimentOrSection,_.id,y.id,_.previewJSFileName,function(t,r,a,i,o,c){if(t&&r&&a){var l=a.get("audience_ids"),u=r.get("edit_url"),d=0===u.indexOf("https:")?b.enums.ProtocolTypes.HTTPS:b.enums.ProtocolTypes.HTTP;return{editUrl:u,protocol:d,token:c,options:{variationId:t,audienceIds:l?l.toJS():[],previewLayerIds:[o],projectId:i}}}return{}}];function actionChangesForView(t){return[y.allExperimentsOrSectionsPointingToLayer,r.selectedVariationId,function(r,a){return h.changesForAction(r,t,a)}]}function getVariationDisplayName(t,r,a,i,o,c){if(a&&r&&o){var l=a.get("audience_ids");return S.isPersonalizationLayer(o)&&!c?i.find((function(t){return l.get(0)===t.get("id")})).get("name"):r.get("name")}return t===L.EVERYONE_ELSE_AUDIENCE.variation_id?L.EVERYONE_ELSE_AUDIENCE.name:""}r.previewUrlForAction=[D,function(t){var r=t.editUrl,a=t.protocol,o=t.token,c=t.options;return o?(c=i.extend({},c,{previewMode:{type:"CAMPAIGN",id:c.previewLayerIds[0]}}),b.fns.generatePreviewUrl(r,a,o,c)):"One of the following is undefined: selectedVariationId, selectedView, currentLayerExperiment"}],r.previewUrlForActionWithoutTool=[D,function(t){var r=t.editUrl,a=t.protocol,i=t.token,o=t.options;return i?b.fns.generatePreviewUrl(r,a,i,o):"One of the following is undefined: selectedVariationId, selectedView, currentLayerExperiment"}],r.selectedVariation=[r.selectedVariationId,y.allExperimentsOrSectionsPointingToLayer,h.getVariationById],r.liveChangesForView=function(t){return[y.liveCommit,r.selectedVariationId,function(r,a){return h.liveChangesForAction(r,t,a)}]},r.draftChangesForView=function(t){return[actionChangesForView(t),r.liveChangesForView(t),function(t,r){var a=h.newChangesForChangeList(t,r),i=h.modifiedChangesForChangeList(t,r),o=h.deletedChangesForChangeList(t,r);return a.concat(i).concat(o)}]},r.variationDisplayName=function(t){return[y.variationById(t),r.currentLayerExperimentOrSection,m.entityCache,i.partial(getVariationDisplayName,t)]},r.selectedVariationDisplayName=[r.selectedVariationId,r.selectedVariation,r.currentLayerExperimentOrSection,m.entityCache,y.layer,y.canViewVariationsInP13N,getVariationDisplayName],r.variationsInCurrentLayerExperimentOrSection=[y.layer,r.currentLayerExperimentOrSection,function(t,r){if(r){var a=S.isABTestLayer(t),i=S.isMultivariateTestLayer(t);return a||i?r.get("variations"):r.get("variations").unshift(l(L.EVERYONE_ELSE_AUDIENCE))}return l([])}],r.getChangeBySelector=function(t){return[r.currentActionChanges,function(r){return r.findLast((function(r){return r.get("selector")===t}))}]},r.getAttributeChangeBySelector=function(t){return[r.currentActionAttributeChangesWithStatus,function(r){return r.findLast((function(r){return r.get("selector")===t&&r.get("type")===I.ChangeTypes.ATTRIBUTE}))}]},r.getChangeById=function(t){return[r.currentActionChanges,function(r){return r.find((function(r){return r.get("id")===t}))}]},r.currentlyEditingChange=[["p13n/editor","currentlyEditingChange"],function(t){switch(t.get("type")){case I.ChangeTypes.INSERT_HTML:case I.ChangeTypes.INSERT_IMAGE:var r=t.get("operator")||T.DOMInsertionType.BEFORE;return t.set("operator",r);case I.ChangeTypes.ATTRIBUTE:var a=t.getIn(["rearrange","operator"])||T.DOMInsertionType.BEFORE;return t.setIn(["rearrange","operator"],a);default:return t}}],r.elementCountFromCurrentlyEditingChange=[r.currentlyEditingChange,function(t){return t.get("elementCount",0)}],r.currentlyEditingChangeHighlighterOptions=[r.currentlyEditingChange,function(t){return x.getHighlighterOptionsForElementChange(u(t))}],r.childrenWithExistingChanges=[r.currentlyEditingChange,function(t){return t.get("elementInfo").flatMap((function(t){return t.get("selectorsWithChangeData")}))}],r.currentlyEditingChangeId=[r.currentlyEditingChange,function(t){if(t)return t.get("id")}],r.currentlyEditingChangeParentAnchor=[r.currentlyEditingChange,function(t){return t&&t.get("elementInfo")&&1===t.get("elementInfo").size?t.get("elementInfo").first().get("parentAnchor"):l({})}],r.currentlyEditingChangeParentBackground=[r.currentlyEditingChange,function(t){return t&&t.get("elementInfo")&&1===t.get("elementInfo").size?t.get("elementInfo").first().get("parentBackground"):l({})}],r.currentlyEditingChangeTitle=[r.currentlyEditingChange,function(t){return t.get("name")?t.get("name"):t.get("elementInfo")&&1===t.get("elementInfo").size?t.get("elementInfo").first().get("nodeName")||"":t.get("selector")||""}],r.getChangeLiveAttributes=function(t){return[r.currentActionLiveChanges,function(r){var a=r.find((function(r){return r.get("id")===t}));return a?a.get("attributes"):l({})}]},r.getChangeDraftAttributes=function(t){return[r.currentActionDraftChanges,r.currentActionLiveChanges,function(r,a){var i=r.find((function(r){return r.get("id")===t}));if(!i)return l({});var o=a.find((function(r){return r.get("id")===t}));return o&&(i=i.set("attributes",i.get("attributes").filterNot((function(t,r){return o.hasIn(["attributes",r])&&o.getIn(["attributes",r])===t})))),i.get("attributes")}]},r.changeStatusMap=function(t){return[r.currentActionDraftChanges,r.currentActionLiveChanges,r.currentlyEditingChange,r.currentlyEditingChangeRearrangeIsDirty,r.currentlyEditingChangeSelectorIsDirty,r.currentlyEditingInsertHTMLOperatorIsDirty,function(r,a,i,o,c,u){var d=t||i.get("id"),p=r.find((function(t){return t.get("id")===d})),m=a.find((function(t){return t.get("id")===d}));switch((p||m||i).get("type")){case I.ChangeTypes.ATTRIBUTE:return x.getAttributeChangeStatuses(i,o,c,p,m,d);case I.ChangeTypes.WIDGET:return x.getWidgetChangeStatuses(p,m);case I.ChangeTypes.INSERT_HTML:case I.ChangeTypes.INSERT_IMAGE:return x.getInsertHTMLChangeStatus(i,c,u,p,m,d);case I.ChangeTypes.REDIRECT:return x.getRedirectChangeStatuses(i,p,m);default:return l({})}}]},r.iframeByIds=function(t,r){return b.getters.iframe(x.getIframeId(t,r))},r.activeFrame=[r.selectedViewId,r.selectedVariationId,b.getters.iframes,function(t,r,a){return a.get(x.getIframeId(t,r),null)}],r.activeFrameId=[r.selectedViewId,r.selectedVariationId,function(t,r){if(t&&r)return x.getIframeId(t,r)}],r.customCodeIsReadOnly=[r.isEditorReadOnly,b.getters.iframes,r.activeFrameId,function(t,r,a){var i=r.getIn([a,"loadStatus"])===b.enums.IFrameLoadStatuses.LOADING;return t||i}],r.activeFrameLoadStatus=[r.activeFrameId,b.getters.iframes,function(t,r){return r.getIn([t,"loadStatus"],null)}],r.activeFrameType=[r.activeFrameId,b.getters.iframes,function(t,r){return r.getIn([t,"frameType"],null)}],r.activeFrameEditorType=[r.activeFrameId,b.getters.iframes,function(t,r){return r.getIn([t,"editorType"],null)}],r.activeFrameLoadingId=[r.activeFrame,function(t){return t&&t.get("component").loadingId}];r.oldestInactiveFrame=[r.activeFrameId,b.getters.iframes,function(t,r){var a=null;r.size>3&&(a=r.filter((function(r){return r.get("id")!==t})).minBy((function(t){return t.get("created")})));return a}],r.currentActionChanges=[y.allExperimentsOrSectionsPointingToLayer,r.selectedViewId,r.selectedVariationId,h.changesForAction],r.currentActionLastChangeId=[r.currentActionChanges,function(t){return t.getIn([-1,"id"])}],r.currentActionAttributeChanges=[r.currentActionChanges,function(t){return t.filter((function(t){return t.get("type")===I.ChangeTypes.ATTRIBUTE})).toList()}],r.currentActionCustomCode=[r.currentActionChanges,function(t){return t.find((function(t){return t.get("type")===I.ChangeTypes.CUSTOM_CODE}))}],r.currentActionCustomCodeTiming=[r.currentActionCustomCode,function(t){return!(!t||!t.has("async"))&&t.get("async")}],r.currentActionWidgetChanges=[r.currentActionChanges,function(t){return t.filter((function(t){return t.get("type")===I.ChangeTypes.WIDGET})).toList()}],r.currentActionCustomCss=[r.currentActionChanges,function(t){return t.find((function(t){return t.get("type")===I.ChangeTypes.CUSTOM_CSS}))}],r.currentActionCustomCssTiming=[r.currentActionCustomCss,function(t){return!(!t||!t.has("async"))&&t.get("async")}],r.currentActionLiveChanges=[y.liveCommit,r.selectedViewId,r.selectedVariationId,h.liveChangesForAction],r.currentActionLiveCustomCode=[r.currentActionLiveChanges,function(t){return t.find((function(t){return t.get("type")===I.ChangeTypes.CUSTOM_CODE}))}],r.currentActionLiveCustomCss=[r.currentActionLiveChanges,function(t){return t.find((function(t){return t.get("type")===I.ChangeTypes.CUSTOM_CSS}))}],r.currentActionCustomCodeLinesChanged=[r.currentActionLiveCustomCode,r.currentActionCustomCode,h.customCodeLinesChanged],r.currentActionCustomCssLinesChanged=[r.currentActionLiveCustomCss,r.currentActionCustomCss,h.customCodeLinesChanged],r.currentActionNewChanges=[r.currentActionChanges,r.currentActionLiveChanges,h.newChangesForChangeList],r.currentActionModifiedChanges=[r.currentActionChanges,r.currentActionLiveChanges,h.modifiedChangesForChangeList],r.currentActionDeletedChanges=[r.currentActionChanges,r.currentActionLiveChanges,h.deletedChangesForChangeList],r.currentActionOrderedDraftAndLiveChanges=[r.currentActionChanges,r.currentActionLiveChanges,r.currentActionDeletedChanges,function(t,r,a){return a.map((function(a){var i=r.find((function(t){return t.get("id")===a.get("id")}));t=t.splice(i,0,a)})),t}],r.currentActionDraftChanges=[r.currentActionNewChanges,r.currentActionModifiedChanges,r.currentActionDeletedChanges,function(t,r,a){return t.concat(r).concat(a)}],r.currentNewAndModifiedChanges=[r.currentActionChanges,r.currentActionLiveChanges,function(t,r){return t.map((function(t){var a,i=t.get("id"),o=r.find((function(t){return t.get("id")===i}));return a=o?c.is(t,o)?I.ChangeStatuses.LIVE:I.ChangeStatuses.MODIFIED:I.ChangeStatuses.NEW,t.set("status",a)}))}],r.currentDeletedChanges=[r.currentActionChanges,r.currentActionLiveChanges,function(t,r){return r.filter((function(r){var a=r.get("id");return!t.find((function(t){return t.get("id")===a}))})).map((function(t){return t.set("status",I.ChangeStatuses.DELETED)}))}],r.currentActionUndoableChanges=[r.currentActionChanges,function(t){var r=t.filter((function(t){return t.get("type")===I.ChangeTypes.CUSTOM_CODE})).map((function(t){return t.get("id")})).toJS();return t.filterNot((function(t){return i.includes(r,t.get("id"))})).map((function(t){return t.set("dependencies",l(i.difference(t.get("dependencies").toJS(),r)))}))}],r.currentActionRedirectChange=[r.currentActionChanges,function(t){return t.find((function(t){return t.get("type")===I.ChangeTypes.REDIRECT}))||null}],r.currentlyEditingInsertHTMLOperatorIsDirty=[r.currentActionChanges,r.currentlyEditingChange,function(t,r){if(r.get("selector")){var a=t.find((function(t){return t.get("id")===r.get("id")}));return a?a.get("operator")!==r.get("operator"):!i.isEmpty(r.get("operator"))}return!1}],r.currentlyEditingInsertHTMLChangeIsDirty=[r.currentActionChanges,r.currentlyEditingChange,function(t,r){var a=t.find((function(t){return t.get("id")===r.get("id")}));return a?a.get("selector")!==r.get("selector")||a.get("value")!==r.get("value")||a.get("operator")!==r.get("operator"):!!r.get("selector")||!!r.get("value")}],r.currentlyEditingRedirectChangeIsDirty=[r.currentActionChanges,r.currentlyEditingChange,function(t,r){if(!r||r.get("type")!==I.ChangeTypes.REDIRECT)return!1;var a=t.find((function(t){return t.get("id")===r.get("id")})),o=function hasDirtyProperty(t){return void 0!==i.find(t,(function(t){return r.get(t)!==a.get(t)}))};return a&&a.get("type")===I.ChangeTypes.REDIRECT?r.get("isRedirectUrl")?o(["dest","preserveParameters","allowAdditionalRedirect"]):o(["dest_fn","allowAdditionalRedirect"]):r.get("isRedirectUrl")?""!==(r.get("dest")||"")||!r.get("preserveParameters")||r.get("allowAdditionalRedirect"):""!==(r.get("dest_fn")||"")||r.get("allowAdditionalRedirect")}],r.currentlyEditingChangeRearrangeIsDirty=[r.currentActionChanges,r.currentlyEditingChange,function(t,r){var a=t.find((function(t){return t.get("id")===r.get("id")})),o=!i.isEmpty(r.getIn(["rearrange","insertSelector"])),l=!a||!a.get("rearrange"),u=a&&a.get("rearrange")&&!c.is(a.get("rearrange"),r.get("rearrange"));return l&&o||u}],r.currentlyEditingChangeAsyncIsDirty=[r.currentActionChanges,r.currentlyEditingChange,function(t,r){var a=t.find((function(t){return t.get("id")===r.get("id")}));return a&&a.has("async")?a.get("async")!==r.get("async"):r.get("async")}],r.currentlyEditingChangeCSSIsDirty=[r.currentActionChanges,r.currentlyEditingChange,function(t,r){var a=t.find((function(t){return t.get("id")===r.get("id")})),i=a&&a.get("css")||l({}),o=r.get("css")||l({});return i=i.filter((function(t,r){return null!==t})),o=o.filter((function(t,r){return null!==t})),!c.is(i,o)}],r.currentlyEditingDependenciesAreDirty=[r.currentActionChanges,r.currentlyEditingChange,function(t,r){var a=t.find((function(t){return t.get("id")===r.get("id")})),i=a&&a.get("dependencies")||l([]),o=r&&r.get("dependencies")||l([]);return!c.is(i,o)}],r.currentlyEditingChangeIsDirty=[r.currentlyEditingChange,r.currentlyEditingChangeRearrangeIsDirty,r.currentlyEditingChangeAsyncIsDirty,r.currentlyEditingInsertHTMLChangeIsDirty,r.currentlyEditingRedirectChangeIsDirty,r.currentlyEditingChangeCSSIsDirty,w.getters.trackClicksChangeIsDirty,r.currentlyEditingDependenciesAreDirty,function(t,r,a,i,o,c,l,u){switch(t.get("type")){case I.ChangeTypes.REDIRECT:return o;case I.ChangeTypes.INSERT_HTML:case I.ChangeTypes.INSERT_IMAGE:return i||a||u;case I.ChangeTypes.ATTRIBUTE:return t.get("nameIsDirty")||t.get("selectorIsDirty")||r||a||c||l||u||t.get("shouldSaveFlags").reduce((function(t,r){return t||r}),!1);default:return!1}}],r.currentActionAttributeChangesWithStatus=[r.currentActionNewChanges,r.currentActionLiveChanges,r.currentActionModifiedChanges,r.currentActionDeletedChanges,r.currentActionOrderedDraftAndLiveChanges,h.attributeChangesWithStatusForAction],r.givenChangeDependsOnPrevious=function(t){return[r.currentActionAttributeChangesWithStatus,function(r){return x.changeDependsOnPrevious(r,l(t))}]},r.currentlyEditingChangeDependsOnPrevious=[r.currentActionAttributeChangesWithStatus,r.currentlyEditingChange,function(t,r){return x.changeDependsOnPrevious(t,r)}],r.currentlyEditingActionFormatted=function(t,a){return[r.currentActionChanges,y.layerCustomCSSChange,r.currentActionUndoableChanges,function(r,i,o){a=l(a||{});var c=t?o:r,u=c.findIndex((function(t){return t.get("id")===a.get("id")})),d=c.map((function(t){return a.get("id")===t.get("id")?x.formatChangeForApply(a.set("dependencies",t.get("dependencies"))):x.formatChangeForApply(t)}));return a.get("id")&&-1===u&&(d=d.push(x.formatChangeForApply(a))),i&&(d=d.unshift(i)),x.orderChangeList(d)}]},r.initialSelector=[["p13n/editor","initialSelector"],r.currentlyEditingChange,r.currentActionChanges,function(t,r,a){var i=a.find((function(t){return t.get("id")===r.get("id")}));return i&&i.has("selector")?i.get("selector"):r.get("type")===I.ChangeTypes.ATTRIBUTE?t:""}],r.currentlyEditingChangeSelectorIsDirty=[r.currentlyEditingChange,r.initialSelector,function(t,r){return t.get("type")===I.ChangeTypes.ATTRIBUTE?t.get("selectorIsDirty")||!1:!i.isUndefined(r)&&r!==t.get("selector")}],r.currentSelectorType=["p13n/editor","currentSelectorInputType"],r.shouldShowEditor=[r.activeFrameType,E.customCodePanelShown,r.activeFrameId,function(t,r,a){var i=t===b.enums.FrameTypes.POPOUT&&r;return a&&!i}],r.changeEditorEditingEnabled=[r.changeEditorElementSelectorEnabled,r.changeEditorIsEditingSelector,function(t,r){return!1===t&&!1===r}],r.currentSelector=[["p13n/editor","currentSelector"],r.currentSelectorType,r.currentlyEditingChange,r.changeEditorEditingEnabled,function(t,r,a,i){return i||r!==L.SelectorInputTypes.ELEMENT_SELECTOR?a.get("selector"):t}],r.currentRearrangeSelector=[["p13n/editor","currentSelector"],r.currentSelectorType,r.currentlyEditingChange,r.changeEditorEditingEnabled,function(t,r,a,i){return i||r!==L.SelectorInputTypes.REARRANGE_SELECTOR?a.getIn(["rearrange","insertSelector"]):t}],r.currentlyEditingChangeSelector=[r.currentlyEditingChange,function(t){return t.get("selector")}],r.currentlyEditingChangeRearrangeSelector=[r.currentlyEditingChange,function(t){return t.getIn(["rearrange","insertSelector"])}],r.selectorInputIsDisabled=function(t){return[r.isEditorReadOnly,r.currentSelectorType,function(r,a){return r||!!a&&a!==t}]},r.availablePlugins=[P.entityCache,_.id,v.filterByProjectId],r.availableWidgets=[r.availablePlugins,function(t){return t.filter((function(t){return t.get("plugin_type")===O.plugin_type.WIDGET}))}],r.enabledWidgets=[r.availableWidgets,function(t){return t.filter((function(t){return t.get("is_enabled_in_client")}))}],r.storedCSSValue=function(t){return[r.currentlyEditingChangeId,r.currentActionChanges,function(r,a){var i=a.find((function(t){return t.get("id")===r}));return i&&i.get("css")&&i.get("css").get(t)||null}]},r.cssValueFromCurrentlyEditingChange=function(t){return[r.currentlyEditingChange,function(r){var a=r.getIn(["css",t]);return i.isUndefined(a)?null:a}]},r.cssValueFromElement=function(t){return[r.currentlyEditingChange,function(r){var a=(r=r.toJS()).elementInfo;return a&&1===r.elementCount&&a[0].computedStyle.getPropertyValue(t)||null}]},r.cssValueFromChangeOrElement=function(t){return[r.cssValueFromCurrentlyEditingChange(t),r.cssValueFromElement(t),function(t,r){return null!==t?t:r}]},r.currentExperimentOrSectionDisplayName=[r.currentLayerExperimentOrSection,m.entityCache,function(t,r){if(!t)return"";if(t.get("name"))return t.get("name");if(!t.get("audience_ids"))return"";var a=t.get("audience_ids").map((function(t){return r.get(t)}));return p.constructAudienceLabelFromList(t.get("audience_conditions"),a).join(" ")}],r.extensionChangeFieldStatuses=function(t,a){return[r.currentActionDraftChanges,r.currentActionLiveChanges,a,function(r,a,i){var o=r.find((function(r){return r.get("id")===t})),c=a.find((function(r){return r.get("id")===t}));return x.getStatusesForExtensionFields(o,c,i)}]},r.showDependencyManagement=[A.canUseChangeDependencies,r.currentlyEditingChangeId,r.currentActionChanges,function(t,r,a){if(!t||!r||a.isEmpty())return!1;var i=a.findIndex((function(t){return t.get("id")===r})),o=i<0?a.last().get("type"):a.getIn([i-1,"type"]);return!(a.getIn([0,"id"])===r)&&o!==I.ChangeTypes.CUSTOM_CODE&&o!==I.ChangeTypes.CUSTOM_CSS}]},function(t,r,a){"use strict";a.d(r,"a",(function(){return T})),a.d(r,"c",(function(){return S})),a.d(r,"b",(function(){return C})),a.d(r,"e",(function(){return I})),a.d(r,"d",(function(){return A})),a.d(r,"f",(function(){return O}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(9),d=a.n(u),p=a(2479),m=a.n(p),g=a(26),h=a(190),y=a(814),v=a(1274),_=a(40),E=a(65),b=a(402);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){_inherits(Sidebar,t);var r=_createSuper(Sidebar);function Sidebar(){return _classCallCheck(this,Sidebar),r.apply(this,arguments)}return _createClass(Sidebar,[{key:"render",value:function render(){var t=this.props,r=t.isResizable,a=t.testSection,i=t.children;return o.a.createElement("div",{"data-ui-component":!0,"data-test-section":a,className:d()({"two-col__nav":!r,"stage__item__content--column":!0})},i)}}]),Sidebar}(o.a.Component);T.propTypes={children:l.a.node.isRequired,testSection:l.a.string,isResizable:l.a.bool},T.defaultProps={isResizable:!1};var S=function(t){_inherits(SidebarHeader,t);var r=_createSuper(SidebarHeader);function SidebarHeader(){var t;_classCallCheck(this,SidebarHeader);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).onCopySuccess=t.onCopySuccess.bind(_assertThisInitialized(t)),t.onFeedbackClose=t.onFeedbackClose.bind(_assertThisInitialized(t)),t.state={isFeedbackOpen:!1},t}return _createClass(SidebarHeader,[{key:"onCopySuccess",value:function onCopySuccess(){this.setState({isFeedbackOpen:!0})}},{key:"onFeedbackClose",value:function onFeedbackClose(){this.setState({isFeedbackOpen:!1})}},{key:"render",value:function render(){var t=this.props,r=t.isFullHeight,a=t.isFullStackProject,i=t.isResultsPage,c=t.projectName,l=t.showBackLink,u=t.backLinkText,p=t.backLinkOnClick,_=t.title,b=t.scrollHeader,T=t.spaceBelow,S=this.state.isFeedbackOpen;return o.a.createElement("div",{className:d()({sidenav__header:!0,"sidenav__header--full-height":r,"overflow-y--auto":b,"hard--bottom":!T})},o.a.createElement("div",{className:"micro muted","data-test-section":"header-project-name"},c),l&&o.a.createElement("div",{className:"push--bottom"},o.a.createElement(m.a,{onClick:p},o.a.createElement("a",{className:"nav-link","data-test-section":"header-back-link"},o.a.createElement(g.a,{className:"push-half--right",name:"arrow-left",size:"small",color:E.brandBlueDark,fill:E.brandBlueDark}),u))),_&&o.a.createElement("div",{className:"flex flex--row flex-justified--between"},o.a.createElement("h4",{className:d()({sidenav__header__title:!0,"flush--bottom":!0,"force-break":!0,gamma:!a,delta:a&&_.length<=22,zeta:a&&_.length>22,monospace:a}),title:_,"data-test-section":"header-title"},_),i&&o.a.createElement(h.a,{className:"flex-self--end",size:"small",content:"Copy experiment name",ariaHasPopup:!0,position:"top",trigger:"mouseenter"},o.a.createElement(y.a,{style:"plain",size:"small",usesTextLabel:!1,textToCopy:_,onCopy:this.onCopySuccess})),o.a.createElement(v.a,{type:"good-news",open:S,onClose:this.onFeedbackClose},"Experiment name copied to clipboard")),this.props.children)}}]),SidebarHeader}(o.a.Component);S.propTypes={backLinkOnClick:l.a.func.isRequired,backLinkText:l.a.string.isRequired,children:l.a.node,isFullHeight:l.a.bool,isFullStackProject:l.a.bool,isResultsPage:l.a.bool,projectName:l.a.string.isRequired,scrollHeader:l.a.bool,showBackLink:l.a.bool,spaceBelow:l.a.bool,title:l.a.string},S.defaultProps={isFullHeight:!1,isFullStackProject:!1,showBackLink:!0,spaceBelow:!1,title:null};var C=function SidebarDetailsList(t){var r=t.items,a=t.spaceBelow,i=r.map((function(t,r){return void 0===t.isVisible||t.isVisible?[o.a.createElement("div",{key:"label-".concat(t.label),className:d()({sidenav__section__title:!0,"flush--bottom":!0,"push--top":r>0})},o.a.createElement("h6",null,t.label)),o.a.createElement("span",{title:t.title,key:"value-".concat(t.label),className:"sidenav__section__item"},t.value)]:null}));return o.a.createElement("div",{className:d()({sidenav__details:!0,"soft-double--bottom":a})},i)};C.propTypes={items:l.a.arrayOf(l.a.shape({label:l.a.string.isRequired,value:l.a.oneOfType([l.a.string,l.a.number,l.a.node]).isRequired})).isRequired,spaceBelow:l.a.bool},C.defaultProps={spaceBelow:!1};var I=function SidebarNavListBody(t){return o.a.createElement("div",{className:"sidenav__body"},t.children)};I.propTypes={children:l.a.node.isRequired};var A=function SidebarNavList(t){return o.a.createElement("div",{className:"sidenav__section","data-test-section":t.testSection},o.a.createElement("div",{className:"sidenav__section__title"},o.a.createElement("h5",null,t.label),t.rightLabel&&o.a.createElement("h6",null,t.rightLabel),t.popover),o.a.createElement("ul",{className:"nav-list no-border--top"},t.children))};A.propTypes={children:l.a.node,label:l.a.string,popover:l.a.node,rightLabel:l.a.string,testSection:l.a.string};var O=function SidebarNavListItem(t){var r=t.onClick||b.default.bind(null,t.href);return o.a.createElement("li",{className:d()(Object.assign({"nav-list__link":!0,"is-active":t.isActive},t.classNames)),"data-test-section":t.testSection},o.a.createElement(_.a,{onClick:r,href:t.href,testSection:"".concat(t.testSection,"-link")},o.a.createElement("div",{className:"soft--ends soft-double--sides"},t.children)))};O.propTypes={classNames:l.a.object,href:l.a.string,isActive:l.a.bool,onClick:l.a.func,testSection:l.a.string,children:l.a.node.isRequired},r.g={Sidebar:T,SidebarHeader:S,SidebarNavList:A,SidebarNavListItem:O,SidebarDetailsList:C,SidebarNavListBody:I}},,,function(t,r,a){"use strict";var i={ASC:"asc",DESC:"desc"},o={ID:"id",NAME:"name",STATUS:"status",CREATED:"created",LAST_MODIFIED:"last_modified",EXPERIMENT_TYPE:"experiment_type",EXPERIMENT_COUNT:"experiment_count"},c=function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}({},o.STATUS,i.DESC);r.a={searchEntityTypes:{AUDIENCE:"audience",EXPERIMENT:"experiment",CAMPAIGN:"campaign",PAGE:"page"},searchSortOrders:i,searchSortableKeys:o,searchDefaultSortOrder:c,searchFilterableStatuses:{RUNNING:"running",PAUSED:"paused",ARCHIVED:"archived",NOT_STARTED:"not_started",CAMPAIGN_PAUSED:"campaign_paused"},searchExpandFields:{EXPERIMENT_TYPE:"experiment_type",FEATURE_NAME:"feature_name",FEATURE_KEY:"feature_key"},MAX_PAGE_SIZE:25,ENTITY_UPDATE_REINDEX_DELAY_MS:2e3,EXPERIMENT_SUMMARIES_API_ENDPOINT:"experiment_summaries",SEARCH_API_ENDPOINT:"search",LOADING_ID:"loading-search"}},function(t,r,a){"use strict";a.d(r,"a",(function(){return d}));var i=a(17),o=a.n(i),c=o()({fe_api_entity_type:null}),l=o()({fetch_all_paginated_execution_time:null,share_link_copy:null,share_link_email:null,click_calendar_open:null}),u={opti_id_switch:{FEATURE_KEY:"opti_id_switch"},zuora_uncoupling:{FEATURE_KEY:"zuora_uncoupling"},mau_visualization:{FEATURE_KEY:"mau_visualization"},datafile_authentication:{FEATURE_KEY:"datafile_authentication"},enable_datafile_authentication:{FEATURE_KEY:"datafile-authentication-enable-button"},event_inspector:{FEATURE_KEY:"event_inspector"},send_flag_decisions:{FEATURE_KEY:"send_flag_decisions"},fetch_all_paginated:{FEATURE_KEY:"fetch_all_paginated",VARIABLES:o()({concurrent_request_limit:null,initial_page_size:null,page_size:null})},use_search_api_for_sonic_search_boxes:{FEATURE_KEY:"use_search_api_for_sonic_search_boxes"},use_separate_email_password_for_login:{FEATURE_KEY:"use_separate_email_password_for_login"},use_search_api_for_sonic_tables:{FEATURE_KEY:"use_search_api_for_sonic_tables",VARIABLES:o()({entity_update_reindex_delay_ms:null})},impression_usage_page:{FEATURE_KEY:"impression_usage_page"},use_sonic_for_audience_table:{FEATURE_KEY:"use_sonic_for_audience_table"},use_search_api_for_pages:{FEATURE_KEY:"use_search_api_for_pages"},audience_combo_reskin:{FEATURE_KEY:"audience_combo_reskin"},fdr_notifications:{FEATURE_KEY:"fdr_notifications"},restricts_daterange:{FEATURE_KEY:"restricts_results_daterange"},ssrm_service:{FEATURE_KEY:"ssrm_service"}},d={FEATURE_IDS:{RECS_HELP_COPY:"recs_help_copy"}};r.b={ATTRIBUTES:c,EVENTS:l,FEATURES:u,JS_SDK_BUCKETING_ID_ATTRIBUTES_KEY:"$opt_bucketing_id",TestUrlTargetingSetup:{EXPERIMENT_KEY:"test_url_targeting_setup",Variations:{ORIGINAL:"original",SIMPLIFIED_CREATION_FLOW:"simplified_creation_flow"},Events:{EXPERIMENT_CREATED:"experiment_created",EXPERIMENT_STARTED:"experiment_started",TIME_TO_PUBLISH:"time_to_publish",CREATE_EXPERIMENT_DIALOG_BOUNCE:"create_experiment_dialog_bounce",COUNT_METRICS_ON_PUBLISH:"count_metrics_on_publish"}},NavProjectSwitcher:{Events:{SWITCH_PROJECT_CLICK:"switch_project_click",CREATE_PROJECT_CLICK:"create_project_click"}},FORCE_VARIATION_PARAM_PREFIX:"optimizely_x_force_",Recommendations:d}},function(t,r,a){"use strict";a.r(r),a.d(r,"fieldType",(function(){return l})),a.d(r,"plugin_type",(function(){return u})),a.d(r,"propertyOptions",(function(){return d})),a.d(r,"defaultCode",(function(){return m})),a.d(r,"pluginTypeSettingsOptions",(function(){return g})),a.d(r,"displayStatuses",(function(){return h}));var i,o=a(17),c=a.n(o);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var l={SELECTOR:"selector",TEXT:"text",MULTI_TEXT:"multi_text",RICH_TEXT:"rich_text",NUMBER:"number",HTML:"html",CSS:"css",TOGGLE:"toggle",DROPDOWN:"dropdown",MULTI_SELECT:"multi_select",IMAGE:"image",COLOR:"color"},u={WIDGET:"widget",EDITOR_PANEL:"editor_panel",EVENT:"event",ANALYTICS_INTEGRATION:"analytics_integration"},d=(_defineProperty(i={},u.WIDGET,["css","undo_js","apply_js","html"]),_defineProperty(i,u.EVENT,["attach_js","detach_js"]),_defineProperty(i,u.ANALYTICS_EXTENSION,["track_layer_decision"]),i),p=" * Editor now supports ES6 compliant code. Note that adding ES6\n * specific code to an experiment will break for users running\n * ES5-only browsers as code entered is not transpiled down to ES5.",m={APPLY_JS:"/*\n".concat(p,"\n */\n\n  const utils = optimizely.get('utils');\n\n  utils.waitForElement('body')\n  .then(function(elem) {\n    // Prepend the extension html to the body\n    elem.insertAdjacentHTML('afterbegin', extension.$html);\n  });\n"),UNDO_JS:"/*\n".concat(p,"\n */\n \n  const extensionElement = document.getElementById('optimizely-extension-' + extension.$instance);\n  if (extensionElement) {\n    extensionElement.parentElement.removeChild(extensionElement);\n  }\n"),TRACK_LAYER_DECISION:"/*\n * Javascript written in this tab will run every time a user is\n * assigned to an experiment and variation, but before any experiment\n * code runs. This hook is useful for tracking which variations a\n * visitor has been assigned to. Click the help icon for more information.\n * \n".concat(p,"\n */\n")},g=_defineProperty({},u.ANALYTICS_EXTENSION,{enableForNewExperiments:{OFF:"off",OPTIONAL:"optional",REQUIRED:"required"}}),h=c()({ARCHIVED:null,DRAFT:null,ENABLED:null});r.default={defaultCode:m,displayStatuses:h,fieldType:l,plugin_type:u,pluginTypeSettingsOptions:g,propertyOptions:d}},function(t,r,a){"use strict";a.r(r),a.d(r,"matchType",(function(){return c})),a.d(r,"tableIds",(function(){return l})),a.d(r,"status",(function(){return u}));var i=a(17),o=a.n(i),c=o()({CONTAINS:null,EQUALS:null}),l=o()({P13N_LAYERS:null,P13N_DATA_LAYER_ATTRIBUTES:null,P13N_DATA_LAYER_EVENTS:null,P13N_DATA_LAYER_VIEWS:null,P13N_DATA_LAYER_PLUGINS:null,P13N_DATA_LAYER_AUDIENCES:null,P13N_DATA_LAYER_PAGE_EVENTS:null,P13N_DATA_LAYER_METRICS:null,P13N_PREVIEW_UI_FEED:null,P13N_CAMPAIGN_OVERVIEW_DASH:null}),u=o()({ACTIVE:null,ARCHIVED:null});r.default={matchType:c,tableIds:l,status:u}},,function(t,r){t.exports=function(t){return null==t?t:t[0].toUpperCase()+t.slice(1)}},function(t,r,a){"use strict";a.r(r),a.d(r,"urls",(function(){return i})),a.d(r,"url",(function(){return o})),a.d(r,"hashtags",(function(){return c})),a.d(r,"email",(function(){return l})),a.d(r,"phoneNumber",(function(){return u})),a.d(r,"token",(function(){return d})),a.d(r,"apiName",(function(){return p})),a.d(r,"variableName",(function(){return m})),a.d(r,"variableNameDisallowedChars",(function(){return g})),a.d(r,"eventAPIName",(function(){return h})),a.d(r,"fileName",(function(){return y}));var i=/(?:(?:ht|f)tp(?:s?)\:\/\/|~\/|\/)?(?:\w+:\w+@)?((?:(?:[-\w\d{1-3}]+\.)+(?:com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|edu|co\.uk|ac\.uk|it|fr|tv|museum|asia|local|travel|[a-z]{2}))|((\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)(\.(\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)){3}))(?::[\d]{1,5})?(?:(?:(?:\/(?:[-\w~!$+|.,=]|%[a-f\d]{2})+)+|\/)+|\?|#)?(?:(?:\?(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)(?:&(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)*)*(?:#(?:[-\w~!$ |\/.,*:;=]|%[a-f\d]{2})*)?/gi,o=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi,c=/#\w*/g,l=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,u="(?:(?:\\+?1\\s*(?:[.-]\\s*)?)?(?:\\(\\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\\s*\\)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\\s*(?:[.-]\\s*)?)?([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\\s*(?:[.-]\\s*)?([0-9]{4})(?:\\s*(?:#|x\\.?|ext\\.?|extension)\\s*(\\d+))?",d=/^[a-z0-9]+$/i,p=/^[a-z0-9_\-]{1,64}$/i,m=/^[a-z0-9_-]{1,64}$/i,g=/[^a-z0-9_-]|\s+/gi,h=/^[a-z0-9_\- .]{1,64}$/i,y=/^[A-Za-z\d_]+$/;r.default={urls:i,url:o,hashtags:c,email:l,phoneNumber:u,token:d,apiName:p,variableName:m,variableNameDisallowedChars:g,eventAPIName:h,fileName:y}},function(t,r,a){"use strict";a.r(r),a.d(r,"addPopStateListener",(function(){return addPopStateListener})),a.d(r,"replaceState",(function(){return replaceState})),a.d(r,"pushState",(function(){return pushState})),a.d(r,"back",(function(){return back})),a.d(r,"pushStateAndAddAndRemoveQueryParams",(function(){return pushStateAndAddAndRemoveQueryParams})),a.d(r,"pushStateAndAddQueryParams",(function(){return pushStateAndAddQueryParams})),a.d(r,"pushStateAndRemoveQueryParams",(function(){return pushStateAndRemoveQueryParams})),a.d(r,"replaceStateAndAddQueryParams",(function(){return replaceStateAndAddQueryParams})),a.d(r,"replaceStateAndRemoveQueryParams",(function(){return replaceStateAndRemoveQueryParams})),a.d(r,"__removeQueryParams",(function(){return __removeQueryParams})),a.d(r,"__addQueryParams",(function(){return __addQueryParams})),a.d(r,"__addAndRemoveQueryParams",(function(){return __addAndRemoveQueryParams})),a.d(r,"buildSearch",(function(){return buildSearch}));var i=a(142),o=a.n(i),c=a(292),l=a.n(c);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function addPopStateListener(t){var r=function fn(r){if(!r||!r.singleSpa)return t(r)};return l.a.addEventListener("popstate",r),function(){return l.a.removeEventListener("popstate",r)}}function replaceState(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.title,a=arguments.length>2?arguments[2]:void 0;window.history.replaceState({path:t},r,a||t)}function pushState(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.title,a=arguments.length>2?arguments[2]:void 0;window.history.pushState({path:t},r,a||t)}function back(){window.history.back()}function pushStateAndAddAndRemoveQueryParams(t,r){var a=this.__addAndRemoveQueryParams(t,r);this.pushState(a)}function pushStateAndAddQueryParams(t){var r=this.__addQueryParams(t);this.pushState(r)}function pushStateAndRemoveQueryParams(t){var r=this.__removeQueryParams(t);this.pushState(r)}function replaceStateAndAddQueryParams(t){var r=this.__addQueryParams(t);this.replaceState(r)}function replaceStateAndRemoveQueryParams(t){var r=this.__removeQueryParams(t);this.replaceState(r)}function __removeQueryParams(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location,a=r.pathname,i=r.href,c=o()(i);t.forEach((function(t){delete c[t]}));var l=this.buildSearch(_extends({},c));return a+l}function __addQueryParams(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location,a=r.pathname,i=r.href,c=o()(i),l=this.buildSearch(_extends({},c,t));return a+l}function __addAndRemoveQueryParams(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location,i=a.pathname,c=a.href,l=o()(c),u=_extends({},t);(r||[]).forEach((function(t){delete l[t],delete u[t]}));var d=this.buildSearch(_extends({},l,u));return i+d}function buildSearch(t){if(!Object.keys(t).length)return"";var r=Object.entries(t).reduce((function(t,r){var a=_slicedToArray(r,2),i=a[0],o=a[1];return Array.isArray(o)&&!o.length?t:Array.isArray(o)?[].concat(_toConsumableArray(t),[o.map((function(t){return"".concat(i,"=").concat(encodeURIComponent(t))})).join("&")]):[].concat(_toConsumableArray(t),["".concat(i,"=").concat(encodeURIComponent(o))])}),[]);return r.length?"?".concat(r.join("&")):""}r.default={__addQueryParams:__addQueryParams,__removeQueryParams:__removeQueryParams,__addAndRemoveQueryParams:__addAndRemoveQueryParams,addPopStateListener:addPopStateListener,back:back,buildSearch:buildSearch,pushState:pushState,pushStateAndAddAndRemoveQueryParams:pushStateAndAddAndRemoveQueryParams,pushStateAndAddQueryParams:pushStateAndAddQueryParams,pushStateAndRemoveQueryParams:pushStateAndRemoveQueryParams,replaceState:replaceState,replaceStateAndAddQueryParams:replaceStateAndAddQueryParams,replaceStateAndRemoveQueryParams:replaceStateAndRemoveQueryParams}},function(t,r){var a={string:function string(t,r){return(t=t&&t.toLowerCase?t.toLowerCase():t)<(r=r&&r.toLowerCase?r.toLowerCase():r)?1:t>r?-1:0},number:function number(t,r){return r-t},date:function date(t,r){return new Date(r)-new Date(t)},length:function length(t,r){return r.length-t.length},boolean:function boolean(t,r){return t===r?0:t?-1:r?1:void 0}};function sortByField(t,r,a){return a?function(i,o){return t(a(i,r),a(o,r))}:function(a,i){return t(a[r],i[r])}}function reverse(t){return function(r,a){return-t(r,a)}}function combineComparators(t){var r=t.length;return function(a,i){for(var o=0,c=0;o<r&&0===c;)c=t[o](a,i),o+=1;return c}}function sortObjects(t,r){r=r||{},Array.isArray(t)||(t=[t]);var i=r.sortFns||a;return combineComparators(t.map((function(t){if(!t.type||!t.field||!t.dir)throw new Error("Must supply type, field and dir when generating object sort function");var o=i[t.type];o||(console.warn("No sort comparator for type=".concat(t.type," - defaulting to string")),o=a.string);var c=sortByField(o,t.field,r.fieldGetFn);return"asc"===t.dir&&(c=reverse(c)),c})))}t.exports={functions:a,field:sortByField,reverse:reverse,combineComparators:combineComparators,generateObjectSortFn:function generateObjectSortFn(t,r){return sortObjects(t,{sortFns:r})},generateImmutableObjectSortFn:function generateImmutableObjectSortFn(t,r){return sortObjects(t,{sortFns:r,fieldGetFn:function fieldGetFn(t,r){if(r.indexOf(".")>-1){var a=r.split(".");return t.getIn(a)}return t.get(r)}})},ASC:"asc",DESC:"desc"}},function(t,r,a){"use strict";a.d(r,"a",(function(){return o})),a.d(r,"c",(function(){return c})),a.d(r,"b",(function(){return l}));var i=a(120);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var o={CUSTOM:{aggregator:i.d.Unique,display_title:void 0,display_unit:void 0,event_id:void 0,event_type:i.c.Custom,field:void 0,scope:i.f.Visitor,winning_direction:i.g.Increasing},OVERALL_REVENUE:{aggregator:i.d.Sum,display_title:"Overall Revenue",display_unit:void 0,event_id:void 0,event_type:void 0,field:i.e.Revenue,scope:i.f.Visitor,winning_direction:i.g.Increasing}},c="UNDEFINED",l={aggregatorAndField:{count:_defineProperty({},c,"total conversions"),sum:{revenue:"total revenue",value:"total value"},unique:_defineProperty({},c,"unique conversions")},scope:{event:"conversion",visitor:"visitor"},winningDirection:{decreasing:"Decrease",increasing:"Increase"}}},function(t,r){t.exports=a},function(t,r,a){var i=a(12),o=a(75).default,c=a(3),l=a(158),u=a(42),d=a(123);r.makeV1AjaxRequest=function(t){if(1!==arguments.length||!t.url)throw new Error("Must supply a single options object containing url, type, etc");var r=o(t);return r.url=d.optimizelyHRDUrl(t.url),r.xhrFields={withCredentials:!0},r.headers=t.headers||{},r.headers["X-csrf-token"]=c.evaluate(l.csrfToken)||u.get("csrf",""),i.ajax(r)}},,,,,function(t,r,a){"use strict";a.d(r,"b",(function(){return y})),a.d(r,"a",(function(){return v}));var i,o,c,l,u,d=a(29),p=a(21);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var m={custom_code:tr("Custom Code"),custom_js:tr("Custom Javascript"),custom_css:tr("Custom CSS")},g=tr("Change"),h=tr("Redirect"),y=(_defineProperty(i={},d.default.ActualStatus.ARCHIVED,tr("Archived")),_defineProperty(i,d.default.ActualStatus.RUNNING,tr("Running")),_defineProperty(i,d.default.ActualStatus.PAUSED,tr("Paused")),_defineProperty(i,d.default.ActualStatus.NOT_STARTED,tr("Draft")),_defineProperty(i,d.default.ActualStatus.CAMPAIGN_PAUSED,tr("Paused")),i),v=(_defineProperty(o={},d.default.EnvironmentStatus.ARCHIVED,tr("Archived")),_defineProperty(o,d.default.EnvironmentStatus.RUNNING,tr("Running")),_defineProperty(o,d.default.EnvironmentStatus.PAUSED,tr("Paused")),_defineProperty(o,d.default.EnvironmentStatus.NOT_STARTED,tr("Draft")),o),_=(_defineProperty(c={},d.default.EnvironmentStatus.RUNNING,tr("running")),_defineProperty(c,d.default.EnvironmentStatus.PAUSED,tr("paused")),_defineProperty(c,d.default.EnvironmentStatus.NOT_STARTED,tr("draft")),c),E=(_defineProperty(l={},d.default.multivariateTrafficPolicies.FULL_FACTORIAL,tr("Full Factorial")),_defineProperty(l,d.default.multivariateTrafficPolicies.PARTIAL_FACTORIAL,tr("Partial Factorial")),l),b=(_defineProperty(u={},p.default.policy.MULTIVARIATE,tr("Multivariate Test")),_defineProperty(u,p.default.policy.SINGLE_EXPERIMENT,tr("A/B Test")),_defineProperty(u,"feature",tr("Feature Test")),_defineProperty(u,"multiArmedBandit",tr("Multi-Armed Bandit")),u);r.c={CHANGE_TYPES:m,CHANGE:g,REDIRECT:h,STATUS_BY_ACTUAL_STATUS:y,EXPERIMENT_ENVIRONMENT_STATUS:v,EXPERIMENT_ENVIRONMENT_STATUS_LOWER:_,MULTIVARIATE_TRAFFIC_POLICIES:E,FULLSTACK_EXPERIMENT_TYPES:b}},function(t,r,a){"use strict";a.r(r),a.d(r,"byId",(function(){return l})),a.d(r,"entityCache",(function(){return u})),a.d(r,"resultsAPITokenById",(function(){return resultsAPITokenById}));var i=a(41),o=a(450);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.default),l=c.byId,u=c.entityCache;function resultsAPITokenById(t){return[l(t),function(t){if(t)return t.get("layer_experiment_results_api_token")}]}r.default=_extends({},c,{resultsAPITokenById:resultsAPITokenById})},function(t,r,a){"use strict";a.d(r,"a",(function(){return c}));var i=a(2),o=Object(i.toImmutable)({name:"None",id:0}),c=0;r.b={NONE_GROUP:o,NONE_GROUP_ID:0,MAX_TRAFFIC_ALLOCATION:1e4,TRAFFIC_ALLOCATION_DENOMINATOR:100,ZERO_TRAFFIC_ALLOCATION:c}},function(t,r,a){"use strict";a.d(r,"a",(function(){return K})),a.d(r,"b",(function(){return J})),a.d(r,"d",(function(){return ee})),a.d(r,"e",(function(){return te}));var i,o,c,l,u=a(28),d=a(5),p=a(35),m=a(3),g=a(132),h=a.n(g),y=a(59),v=a.n(y),_=a(4),E=a(1),b=a.n(E),T=a(0),S=a.n(T),C=a(71),I=a(37),A=a(227),O=a(13),P=a(39),R=a(361),w=a(31),N=a(185),L=a(145),x=a(212),D=a(7),k=a(326),j=a(535),M=a(19),U=a(54),V=a(643),B=a(199),G=a(48),H=a(2429),z=a(2446),W=a(2448),q=a(2455),Y=a.n(q);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var K=G.h.DEFAULT_MAX_API_FILTERS,J=G.h.EntityType,X=G.h.UiStyles,$=Object(_.memoize)((function(t){return t.reduce((function(t,r){return _extends({},t,_defineProperty({},r.id,r.summary))}),{})})),Q=(i=Object(u.a)({currentProjectCreatedDate:O.default.createdDate,changeHistoryLimit:P.default.changeHistoryLimit,currentProjectId:O.default.id,currentProjectType:O.default.currentProjectType,isFlagsProject:O.default.isFlagsProject,isGaeAdmin:I.default.isAdmin}),o=Object(u.b)({alternateContent:S.a.createElement(j.a,{button:S.a.createElement(M.a,{onClick:function onClick(){return Object(k.b)()},style:"highlight"},"Optimizely Help Center"),description:S.a.createElement("div",{className:"reading-column flush--top"},"Don't worry, most issues are minor. Please refresh the page or visit our Help Center if the issue persists."),headline:"Something went wrong",showButtonBelow:!0})}),Object(C.withTrack)(c=i(c=o(((l=function(t){_inherits(ChangeHistory,t);var r=_createSuper(ChangeHistory);function ChangeHistory(t){var a;_classCallCheck(this,ChangeHistory),(a=r.call(this,t)).handleFetchPageByNumber=function(t){var r=a.state.filters,i=a.props.track;a.setState({isLoadingNextPage:!0},(function(){var o=_extends({},r,{page:t});V.a.fetchChanges(o).then((function(r){var c=r.changes,l=r.nextPageUrl,u=r.queryTotalCount;a.setState({changes:c,nextPageUrl:l,queryTotalCount:u,filters:o,isLoadingNextPage:!1},(function(){i(G.h.SegmentEvents.GO_TO_PAGE_CLICKED,{pageNumber:t,queryTotalCount:u})}))}),a.onFetchChangesReject)}))},a.handleFiltersAction=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.setState((function(r){var i=_extends({},r,{filters:_extends({},r.filters,t,{page:1})}),o=a.props.track,c=i.filters;return V.a.setRouteAndFetchChanges(c).then((function(t){a.onFetchChangesResolve(t);var r=_slicedToArray(c.type,1)[0];o(G.h.SegmentEvents.FILTER_APPLIED,{startTime:c.start_time,endTime:c.end_time,entityType:r||"All",filteredQueryTotal:t.queryTotalCount})}),a.onFetchChangesReject),_extends({},i,{isLoading:!0})}))},a.handleShowHideAll=function(t){var r=a.props.track,i=a.state.changes;a.setState((function(r){return{isAllDetailExpanded:t,allDetailExpandedCount:r.allDetailExpandedCount+1}}),(function(){var a=t?G.h.SegmentEvents.SHOW_ALL_DETAILS_CLICKED:G.h.SegmentEvents.HIDE_ALL_DETAILS_CLICKED;r(a,{recordsShown:i.length})}))},a.onFetchChangesReject=function(){a.setState({isLoading:!1,isLoadingNextPage:!1}),d.default.showNotification({message:"There was a problem fetching change history",type:"error"}),x.a.captureMessage("Failure fetching changes from public API")},a.onFetchChangesResolve=function(t){var r=t.changes,i=t.nextPageUrl,o=t.queryTotalCount,c=a.props.customEntityTypes,l=r.filter((function(t){return!c.length||c.includes(t.entity.type)})),u=o-(r.length-l.length);return L.a.setPerformanceMark("change_history_fetch_complete"),new Promise((function(t){return a.setState((function(t){var r=t.allDetailExpandedCount;return{changes:l,nextPageUrl:i,queryTotalCount:u,allDetailExpandedCount:r+1,isAllDetailExpanded:!1,isLoading:!1}}),t)}))};var i=t.hasAllEntities,o=t.changeHistoryLimit,c=t.currentProjectId,l=t.initialEntityFilter,u=t.initialTypeFilter,p=t.isGaeAdmin,m=t.uiStyle,g=B.d.computeAllowedUrlFiltersFromUrl(),y=g.entity;a.changeHistoryKbLink=A.a.getHelpCopy("change_history_link","https://help.optimizely.com/Troubleshoot_Problems/View_project_or_experiment_change_history"),a.changesToFetch=Object(w.getFeatureVariableInteger)("change_history_improvements","api_page_size")||G.h.DEFAULT_CHANGES_TO_FETCH,a.earliestAllowedFilterDate=Object(w.getFeatureVariableString)("change_history_improvements","earliest_allowed_filter_date"),a.isChangeHistoryIdSearchEnabled=p||m!==X.MANAGER&&y&&y.length||h.a.getSearch().includes("search=true"),a.maxRowsRenderable=h.a.getSearch().includes("row_limit=false")?NaN:Object(w.getFeatureVariableInteger)("change_history_improvements","max_rows_renderable"),a.prettyDiffLineCap=Object(w.getFeatureVariableInteger)("change_history_improvements","pretty_diff_line_cap")||G.h.DEFAULT_PRETTY_DIFF_LINE_CAP;var _=Object(w.getFeatureVariableBoolean)("change_history_improvements","should_prettify_diff");a.canUserSeeRevisionsWithoutChanges=Object(w.isFeatureEnabled)("can_user_see_revisions_without_changes"),a.shouldPrettifyDiff="boolean"==typeof _?_:G.h.DEFAULT_SHOULD_PRETTIFY_DIFF;var E=o===R.a.UNLIMITED_VALUE?null:v()().subtract(o,"days").startOf("day").toISOString();return a.state={changes:[],filters:_extends({all_entities:i,end_time:null,entity:l,id:[],page:1,per_page:a.changesToFetch,project_id:c,start_time:E,type:u},g),isAllDetailExpanded:!1,allDetailExpandedCount:0,isFilterApplied:!1,isLoading:!0,isLoadingNextPage:!1,nextPageUrl:null,queryTotalCount:null},a}return _createClass(ChangeHistory,[{key:"componentDidMount",value:function componentDidMount(){var t=this.state.filters,r=this.props.track;L.a.setPerformanceMark("change_history_component_mount"),L.a.setPerformanceMark("change_history_fetch_begin"),V.a.fetchChanges(t).then(this.onFetchChangesResolve,this.onFetchChangesReject).then((function(){return L.a.setPerformanceMark("change_history_component_ready")})).then((function(){return N.default.trackPageReady("change_history",{attributes:{change_history_component_mount:L.a.getPerformanceMark("change_history_component_mount"),change_history_component_ready:L.a.getPerformanceMark("change_history_component_ready"),change_history_fetch_begin:L.a.getPerformanceMark("change_history_fetch_begin"),change_history_fetch_complete:L.a.getPerformanceMark("change_history_fetch_complete"),is_change_history_legacy:!1}})})),r(G.h.SegmentEvents.PAGE_VIEW,{location:h.a.getLocation()}),m.default.evaluate(O.default.project).get("is_flags_enabled")&&!p.default.instance.__routes&&(p.default.initialize(),p.default.loadRoutes([{match:"/v2/projects/:projId/flags/*",handle:[function(){}]}]))}},{key:"render",value:function render(){var t=this.props,r=t.currentProjectCreatedDate,a=t.currentProjectType,i=t.customEntityTypes,o=t.isFlagsProject,c=t.isGaeAdmin,l=t.uiStyle,u=this.state,d=u.allDetailExpandedCount,p=u.changes,m=u.filters,g=u.isAllDetailExpanded,h=u.isLoading,y=u.isLoadingNextPage,v=u.queryTotalCount,_=p.length,E=B.d.isUiFiltered(m);return S.a.createElement(S.a.Fragment,null,S.a.createElement(W.a,{changeIdToNameMap:m.id.length?$(p):{},currentProjectCreatedDate:r,currentProjectType:a,customEntityTypes:i,earliestAllowedFilterDate:this.earliestAllowedFilterDate,filters:m,handleFiltersAction:this.handleFiltersAction,isChangeHistoryIdSearchEnabled:this.isChangeHistoryIdSearchEnabled,isDisabled:h||y,isFlagsProject:o,isGaeAdmin:c,uiStyle:l}),0!==_||h?S.a.createElement(U.default,{className:"height--1-1 soft-double--sides soft-double--bottom overflow-y--auto",isLoading:h},0!==_&&S.a.createElement(S.a.Fragment,null,S.a.createElement(H.a,{allDetailExpandedCount:d,changes:p,handleShowHideAll:this.handleShowHideAll,isAllDetailExpanded:g,prettyDiffLineCap:this.prettyDiffLineCap,shouldPrettifyDiff:this.shouldPrettifyDiff,canUserSeeRevisionsWithoutChanges:this.canUserSeeRevisionsWithoutChanges}),S.a.createElement(z.a,{currentPageNo:m.page,handleFetchPageByNumber:this.handleFetchPageByNumber,isLoadingNewPage:y,pageSize:this.changesToFetch,queryTotalCount:v}))):S.a.createElement(j.a,{description:S.a.createElement(S.a.Fragment,null,"Can't find your changes? It may have occurred before the new change history feature."),headline:E?"No changes found":"No changes available",imagePath:Y.a,showButtonBelow:!0}))}}]),ChangeHistory}(T.Component)).propTypes={hasAllEntities:b.a.bool,changeHistoryLimit:b.a.number,currentProjectCreatedDate:b.a.string,currentProjectId:b.a.number.isRequired,currentProjectType:b.a.oneOf([D.project_types.WEB,D.project_types.FULL_STACK,D.project_types.ROLLOUTS]).isRequired,customEntityTypes:b.a.arrayOf(b.a.string),initialEntityFilter:b.a.arrayOf(b.a.string),initialTypeFilter:b.a.arrayOf(b.a.string),isFlagsProject:b.a.bool,isGaeAdmin:b.a.bool,track:b.a.func,uiStyle:b.a.oneOf([X.MANAGER,X.PROJECT])},l.defaultProps={hasAllEntities:!1,changeHistoryLimit:R.a.UNLIMITED_VALUE,currentProjectCreatedDate:"",customEntityTypes:[],initialEntityFilter:[],initialTypeFilter:[],isGaeAdmin:!1,track:function track(){},uiStyle:X.PROJECT},c=l))||c)||c)||c),Z=Object(_.debounce)((function(t){return d.default.showNotification({message:"Showing results from the maximum ".concat(t," filters. The experiment is too large to show additional results. View all changes in Project History"),type:"warning"})}),100),ee=function withSidebarAndManagerChangeHistory(t){var r,a;return(r=function(r){_inherits(_class3,r);var a=_createSuper(_class3);function _class3(){var t;_classCallCheck(this,_class3);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=a.call.apply(a,[this].concat(i))).maxApiFilters=Object(w.getFeatureVariableInteger)("change_history_improvements","max_api_filters")||G.h.DEFAULT_MAX_API_FILTERS,t}return _createClass(_class3,[{key:"render",value:function render(){var r=this.props,a=r.fetchedEntities,i=r.sidebarProps,o=B.d.computeEntityFilterFromFetchedEntities(a);return o.length>this.maxApiFilters&&(o=o.splice(0,this.maxApiFilters),Z(this.maxApiFilters)),S.a.createElement("div",{className:"two-col","data-test-section":"change-history-manager-view"},S.a.createElement(t,i),S.a.createElement("div",{className:"two-col__content"},S.a.createElement("div",{className:"flex push-quad flush--bottom"},S.a.createElement("h1",null,"History")),S.a.createElement(Q,{initialEntityFilter:o,uiStyle:X.MANAGER})))}}]),_class3}(S.a.Component)).componentId="manager-change-history-".concat(+new Date),r.displayName="ManagerChangeHistory",r.propTypes={fetchedEntities:b.a.shape((a={},_defineProperty(a,J.campaign.entityType,b.a.array),_defineProperty(a,J.environment.entityType,b.a.array),_defineProperty(a,J.experiment.entityType,b.a.array),_defineProperty(a,J.feature.entityType,b.a.array),_defineProperty(a,J.project.entityType,b.a.array),a)),sidebarProps:b.a.object},r.defaultProps={fetchedEntities:{},sidebarProps:{}},r},te=function withTopbarAndProjectChangeHistory(t){var r;return(r=function(r){_inherits(_class4,r);var a=_createSuper(_class4);function _class4(){return _classCallCheck(this,_class4),a.apply(this,arguments)}return _createClass(_class4,[{key:"render",value:function render(){var r=this.props.topbarProps;return S.a.createElement("div",{className:"stage__item__content--column","data-test-section":"change-history-project-view"},S.a.createElement(t,r),S.a.createElement(Q,{uiStyle:X.PROJECT}))}}]),_class4}(S.a.Component)).componentId="project-change-history-".concat(+new Date),r.displayName="ProjectChangeHistory",r.propTypes={topbarProps:b.a.object},r.defaultProps={topbarProps:{}},r};r.c=Q},function(t,r,a){"use strict";a.r(r),a.d(r,"filterByProjectId",(function(){return filterByProjectId})),a.d(r,"filterPersonalizationIntegrations",(function(){return filterPersonalizationIntegrations})),a.d(r,"getClassicExperimentsUsingIntegration",(function(){return h})),a.d(r,"getLayersUsingIntegration",(function(){return y})),a.d(r,"getLogoSrc",(function(){return v})),a.d(r,"wrapFullStackLayerExperiments",(function(){return _})),a.d(r,"getAvailableAudiences",(function(){return E})),a.d(r,"getEnabledAndSortedIntegrationsForProjectType",(function(){return getEnabledAndSortedIntegrationsForProjectType})),a.d(r,"getProjectTypeFriendly",(function(){return b}));var i=a(31),o=a(2),c=a(112),l=a(15),u=a(338),d=a(21),p=a(68),m=a(22),g=a(56);function filterByProjectId(t,r){return t.filter((function(t){return r&&t.get("project_id")===r})).toList()}function filterPersonalizationIntegrations(t,r){return r.filter((function(r){var a=-1!==r.get("products").indexOf(u.default.products.PERSONALIZATION),i=!r.get("beta")||m.default.canUseIntegration(t,r.get("permissionRequired"));return a&&i}))}var h=function getClassicExperimentsUsingIntegration(t,r){return t.filter((function(t){return t.get("enabled_integration_ids")&&t.get("enabled_integration_ids").contains(r.get("id"))})).toList().map((function(t){return Object(o.toImmutable)({id:Number(t.get("id")),description:t.get("description")})}))},y=function getLayersUsingIntegration(t,r){var a=Object(o.toImmutable)({});return t.forEach((function(t){t.get("integration_settings")&&t.get("integration_settings").forEach((function(i){i.get("integration_id")===r.get("id")&&i.get("enabled")&&(a=a.set(t.get("id").toString(),t.get("name")))}))})),a.map((function(t,r){return Object(o.toImmutable)({id:Number(r),name:t})})).toList()},v=function getLogoSrc(t){var r="_placeholder.png";return t.get("id")&&t.get("logo_file_name")&&(r=t.get("logo_file_name")),a(3058)("./".concat(r))},_=function wrapFullStackLayerExperiments(t,r){return t.filter((function(t){return[d.default.policy.SINGLE_EXPERIMENT,d.default.policy.MULTIVARIATE].includes(null==t?void 0:t.get("layer_policy"))})).map((function(t){var a=t,i=a.get("id").toString(),o=a.get("variable_values");if(o&&o.size){var l=a.get("variations");l=l.map((function(t){var r=o.get(t.get("variation_id").toString());return t.set("variable_values",r)})),a=a.set("variations",l)}var u=r.has(i)?r.get(i).get("id"):c.b.NONE_GROUP_ID;return a.set("group_id",u)}))},E=function getAvailableAudiences(t){var r=p.default.deriveAudienceIdsFromAudienceConditions(t);return function(t){return t.filter((function(t){return(!t.get("archived")||(r||[]).includes(t.get("id")))&&t.get("user_touched")}))}};function getEnabledAndSortedIntegrationsForProjectType(t,r,a,c,d){if(!t)return Object(o.toImmutable)([]);var p=r.filter((function(t){return t.get("enabled")})).filter((function(r){return g.default.filterIntegrationByProject(t,r)})).filter((function(t){return!("odp_fullstack"===t.get("id"))||Object(i.isFeatureEnabled)("odp_fullstack_integration")})).toList().sortBy((function(t){return t.get("master_label").toLowerCase()})),m={};return a.filter((function(r){return r.get("project_id")===t.get("id")})).forEach((function(t){m[t.get("integration_id")]=t})),p.map((function(t){var r=m[t.get("id")],a=t.getIn(["settings_metadata","onOffableAtExperimentLevel"]),i=t.getIn(["settings_metadata","onOffableAtLayerLevel"]),p=t.getIn(["settings_metadata","onOffableAtProjectLevel"]),g=t.get("categories"),_=g.contains("Analytics")||g.contains("Heatmap"),E=!a&&!i&&p&&_,b={experiments:0,layers:0},T=c.filter((function(t){return t.get("status")!==l.ExperimentStatusType.ARCHIVED})),S=d.filter((function(t){return!t.get("archived")})),C=h(T,t),I=y(S,t),A=t.get("products")&&t.get("products").contains(u.default.products.AB_TESTING)?T.size:0,O=t.get("products")&&t.get("products").contains(u.default.products.PERSONALIZATION)?S.size:0;return b.experiments=E?A:C.size,b.layers=E?O:I.size,Object(o.toImmutable)({addonType:t.get("addon_type"),beta:t.get("beta"),developer:t.get("developer"),developerWebsite:t.get("developer_website"),labelAsBeta:!!t.get("label_as_beta"),usesCanvas:!!t.get("canvas_config"),categories:t.get("categories"),products:t.get("products"),categoriesLabels:t.get("categories_labels"),experimentLevelData:{fields:t.getIn(["settings_metadata","fields"],[]).filter((function(t){var r=t.get("saveLocations");return r&&-1!==r.indexOf("experiment")})),generalHelp:t.getIn(["settings_metadata","generalHelp","experiment"]),onOffable:t.getIn(["settings_metadata","onOffableAtExperimentLevel"]),settingsHelp:t.getIn(["settings_metadata","settingsHelp","experiment"])},layerLevelData:{fields:t.getIn(["settings_metadata","fields"],[]).filter((function(t){var r=t.get("saveLocations");return r&&-1!==r.indexOf("layer")})),generalHelp:t.getIn(["settings_metadata","generalHelp","layer"]),onOffable:t.getIn(["settings_metadata","onOffableAtLayerLevel"]),settingsHelp:t.getIn(["settings_metadata","settingsHelp","layer"]),dynamicLayerSettingsOptions:r?r.get("dynamic_layer_settings_options"):null},id:t.get("id"),isProjectLevelIntegration:E,logoSrc:v(t),masterLabel:t.get("master_label"),partnerDirectoryUrl:t.get("partner_dir_url"),permissionRequired:t.get("permission_required"),projectLevelData:{conflicts:r?r.get("conflicts"):{},description:t.get("description"),dynamicSettingsOptions:r?r.get("dynamic_settings_options"):null,enabled:!!r&&r.get("enabled"),fields:t.getIn(["settings_metadata","fields"],o.default.List()).filter((function(t){var r=t.get("saveLocations");return r&&-1!==r.indexOf("project")})),generalHelp:t.getIn(["settings_metadata","generalHelp","project"]),oauthTokenManagementUrl:t.getIn(["settings_metadata","oauthTokenManagementUrl"]),onOffable:t.getIn(["settings_metadata","onOffableAtProjectLevel"]),requiredFieldsFilled:t.get("requiredFieldsFilled"),settings:r?r.get("settings"):null,settingsHelp:t.getIn(["settings_metadata","settingsHelp","project"]),settingsMetadata:r?r.get("settings_metadata"):null,settingsValidationErrorRaised:t.get("settingsValidationErrorRaised"),settingsValidationErrorMessage:t.get("settingsValidationErrorMessage"),settingsText:t.getIn(["settings_metadata","settingsText"]),settingsLink:t.getIn(["settings_metadata","settingsLink"]),signInButtonImage:t.getIn(["settings_metadata","sign_in_button_image"]),usageInClassic:C,usageInX:I,usageCount:b,usesOAuth:!!t.getIn(["settings_metadata","oauthAuthorizationUrl"])}})}))}var b=function getProjectTypeFriendly(t){var r=g.default.isWebEdgeProject(t),a=g.default.isWebProject(t),i=g.default.isFullStackProject(t),o=g.default.isFlagsProject(t);return a&&r?"edge":a&&!r?"web":i&&o?"fullstack_flags":i&&!o?"fullstack_legacy":"other"};r.default={filterByProjectId:filterByProjectId,filterPersonalizationIntegrations:filterPersonalizationIntegrations,getClassicExperimentsUsingIntegration:h,getEnabledAndSortedIntegrationsForProjectType:getEnabledAndSortedIntegrationsForProjectType,getLayersUsingIntegration:y,getLogoSrc:v,wrapFullStackLayerExperiments:_,getAvailableAudiences:E,getProjectTypeFriendly:b}},function(t,r,a){"use strict";var i=a(1349),o=a.n(i),c=a(1350),l=a.n(c);r.a={V2_PLATFORM_TEXT__AB_AND_P13N:tr("Optimizely X"),V2_PLATFORM_TEXT__P13N_ONLY:tr("Personalization"),V2_PLATFORM_TEXT__AB_ONLY:tr("Optimizely X"),V1_PLATFORM_TEXT__AB_AND_P13N:tr("Optimizely Classic"),V1_PLATFORM_TEXT__P13N_ONLY:tr("Optimizely Testing"),V1_PLATFORM_TEXT__AB_ONLY:tr("Optimizely Classic"),V2_FIRST_RUN_TITLE__AB_AND_P13N:tr("Get started with Optimizely X"),V2_FIRST_RUN_SUBTITLE__AB_AND_P13N:tr("Take your experimentation to the next level."),V2_FIRST_RUN_IMAGE__AB_AND_P13N:o.a,V2_FIRST_RUN_TITLE__P13N_ONLY:tr("Get started with Optimizely X Web Personalization"),V2_FIRST_RUN_SUBTITLE__P13N_ONLY:tr("Everything you need to deliver tailored experiences across customer touchpoints."),V2_FIRST_RUN_IMAGE__P13N_ONLY:o.a,V2_FIRST_RUN_TITLE__AB_ONLY:tr("Get started with Optimizely X Web Experimentation"),V2_FIRST_RUN_SUBTITLE__AB_ONLY:tr("The easiest and most powerful way to run experiments across your website."),V2_FIRST_RUN_IMAGE__AB_ONLY:l.a,V2_FIRST_RUN_TITLE__EDGE:tr("Get started with Optimizely Performance Edge"),V2_FIRST_RUN_SUBTITLE__EDGE:tr("The fastest way to run experiments on your website."),V2_FIRST_RUN_IMAGE__EDGE:l.a,BUNDLED_SNIPPET_IDENTIFIER__P13N_ONLY:"p13n",BUNDLED_SNIPPET_LABEL__P13N_ONLY:tr("Use Personalization and Optimizely Testing"),BUNDLED_SNIPPET_DESCRIPTION__P13N_ONLY:tr("Allows you to run campaigns in Personalization while still using                                               Optimizely Testing, but <strong> increases Optimizely snippet                                               size</strong>."),BUNDLED_SNIPPET_IDENTIFIER__AB_AND_P13N:"ab_and_p13n",BUNDLED_SNIPPET_LABEL__AB_AND_P13N:tr("Use both Optimizely X and Optimizely Classic"),BUNDLED_SNIPPET_DESCRIPTION__AB_AND_P13N:tr("Allows you to run campaigns in both versions of Optimizely, but                                                 <strong>increases Optimizely snippet size</strong>."),STANDALONE_SNIPPET_IDENTIFIER__P13N_ONLY:"p13n",STANDALONE_SNIPPET_LABEL__P13N_ONLY:tr("Use Personalization only"),STANDALONE_SNIPPET_DESCRIPTION__P13N_ONLY:tr("Runs only the Personalization snippet. Experiments created in                                                  Optimizely Testing will <strong>not be served and results will not                                                  be collected</strong>."),STANDALONE_SNIPPET_IDENTIFIER__AB_AND_P13N:"ab_and_p13n",STANDALONE_SNIPPET_LABEL__AB_AND_P13N:tr("Use only Optimizely X"),STANDALONE_SNIPPET_DESCRIPTION__AB_AND_P13N:tr("Runs only Optimizely X snippet. Experiments created in Classic                                                    Optimizely will <strong>not be served and results will not be                                                    collected</strong>.")}},,function(t,r,a){"use strict";a.r(r);var i=a(12),o=a.n(i),c=a(4),l=a.n(c),u=a(3),d=a(105),p=a.n(d),m=a(31),g=a(152),h=a(412),y=a(406),v=a(20),_=a(50),E=a(34),b=a(36),T=a(2),S=a(554),C=a.n(S),I=a(136),A=a(83),O=a(21),P=a(460);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var R=b.default.createEntityActions(P.a);function removeLayerExperimentViews(t,r){var a=u.default.evaluate(v.default.getters.entityCache).filter((function(r){return r.get("layer_id")===t})).map((function(t){var a=v.default.fns.removeViews(t,r);return a.equals(t)?o.a.Deferred().resolve():v.default.actions.save({id:a.get("id"),variations:a.get("variations")})}));return o.a.when.apply(o.a,_toConsumableArray(a))}function removeSectionViews(t,r){var a=u.default.evaluate(y.default.entityCache).filter((function(r){return r.get("layer_id")===t})).map((function(t){var a=v.default.fns.removeViews(t,r);return a.equals(t)?C.a.resolve():h.default.save({id:a.get("id"),variations:a.get("variations")})}));return C.a.all(a)}function removeLayerExperimentOrSectionViews(t,r){var a=u.default.evaluate(I.default.byId(t));return A.isMultivariateTestLayer(a)?removeSectionViews(t,r):removeLayerExperimentViews(t,r)}function modifyStatusOfCampaignSpecificEventsUsedAsMetrics(t,r){var a=u.default.evaluate(I.default.byId(t.id));if(!a.get("metrics"))return o.a.Deferred().resolve();var i=T.default.Set();return a.get("metrics").forEach((function(t){var r=u.default.evaluate(_.getters.byId(t.get("event_id")));r&&r.get("variation_specific")&&(i=i.add(r))})),o.a.when(i.map((function(a){return r?u.default.evaluate(I.default.entityCache).filter((function(r){return r.get("id")!==t.id&&!r.get("archived")})).some((function(t){return t.get("metrics")&&t.get("metrics").some((function(t){return t.get("event_id")===a.get("id")}))}))?o.a.Deferred().resolve():_.actions.archive(a.toJS()):_.actions.unarchive(a.toJS())})))}function archiveCampaignSpecificEvents(t){return modifyStatusOfCampaignSpecificEventsUsedAsMetrics(t,!0)}function unarchiveCampaignSpecificEvents(t){return modifyStatusOfCampaignSpecificEventsUsedAsMetrics(t,!1)}r.default=_extends({},R,{archive:function archive(t){return this.save({id:t.id,archived:!0}).then((function(){return t.url_targeting&&t.url_targeting.view_id&&E.actions.fetch(t.url_targeting.view_id,!0),t})).then(l.a.partial(archiveCampaignSpecificEvents,t))},createExperimentForCOLayer:function createExperimentForCOLayer(t,r){var a=this,i=o.a.Deferred();return v.default.actions.save(t,{useAudienceConditionsJSON:!0}).then((function(t){var o=r.experiment_ids;o.push(t.id);var c={id:r.id,experiment_ids:o};return r.decision_metadata&&(c.decision_metadata=A.getDecisionMetadata(r),c.decision_metadata.experiment_priorities=r.decision_metadata.experiment_priorities.concat([[t.id]])),a.save(c).then(i.resolve())}))},createPersonalizationLayer:function createPersonalizationLayer(t,r){var a=this;if(t.id)throw new Error("Found unexpected layer id ".concat(t.id," preceding new Personalization Layer creation"));var i=o.a.Deferred(),c=l.a.extend(t,{policy:O.policy.EQUAL_PRIORITY,decision_metadata:{experiment_priorities:[]},experiment_ids:[],status:O.status.ACTIVE,type:O.type.PERSONALIZATION});return this.save(c).then((function(t){a.syncAudiencesAndExperimentsForPersonalization(t.project_id,t.id,r).then(l.a.partial(i.resolve,t))})),i},createSingleABTestLayer:function createSingleABTestLayer(t,r){var a=this;if(t.id)throw new Error("Found unexpected layer id ".concat(t.id," preceding new AB Test Layer creation"));var i=o.a.Deferred(),c=l.a.extend(t,{experiment_ids:[],status:O.status.ACTIVE,type:r&&"min-regret"===r.allocation_policy?O.type.MULTIARMED_BANDIT:O.type.AB});return this.save(c).then((function(t){r.layer_id=t.id,v.default.actions.save(r).then((function(r){a.save({id:t.id,experiment_ids:[r.id]}).then((function(){i.resolve(t)}))}))})),i},createMultivariateTestLayer:function createMultivariateTestLayer(t,r,a){var i=this;if(t.id)throw new Error("Found unexpected layer id ".concat(t.id," preceding new MVT Layer creation"));var c,u,d=o.a.Deferred(),p=l.a.extend(t,{status:O.status.ACTIVE,type:O.type.MULTIVARIATE});return this.save(p).then((function(t){return u=t,r.layer_id=u.id,c=u.id,v.default.actions.save(r)})).then((function(t){var r=[];return a.forEach((function(a){a.layer_experiment_id=t.id,r.push(h.default.save(a))})),C.a.all(r).then((function(t){var r=t.map((function(t){return t.id}));i.save({id:c,section_ids:r}).then((function(){d.resolve(u)}))}))})),d},delete:function softDelete(t){return this.archive(t)},duplicateToProject:function duplicateToProject(t,r){var a={layer_id:t,project_id:r};return p.a.makeV1AjaxRequest({url:"/layer/duplicate",type:"POST",data:a})},fetchAllByStatus:function fetchAllByStatus(t){var r=t.projectId,a=t.policies,i=t.byPage,o=void 0!==i&&i,c=t.archived,l={skipEvaluatingCachedData:!0},u={project_id:r,status:void 0!==c&&c?[O.entityStatus.ARCHIVED]:[O.entityStatus.NOT_STARTED,O.entityStatus.PAUSED,O.entityStatus.RUNNING],$order:"last_modified:desc"};if(a&&(u.policy=a),!o)return this.fetchAll(u,l);var d=g.enums.FEATURES.fetch_all_paginated,p=d.FEATURE_KEY,h=d.VARIABLES;return u.$limit=Object(m.getFeatureVariable)(p,h.page_size)||b.default.constants.DEFAULT_PAGE_SIZE,this.fetchAllPages(u,l)},syncAudiencesAndExperimentsForPersonalization:function syncAudiencesAndExperimentsForPersonalization(t,r,a){var i=this,c=o.a.Deferred(),d=[],p=u.default.evaluateToJS(I.default.experimentsByLayerId(r));return l.a.filter(a,(function(t){return!l.a.find(p,(function(r){return r.audience_ids[0]===t}))})).forEach((function(a){d.push(function createExperimentForAudience(t,r,a,i){return v.default.actions.save({project_id:t,layer_id:r,audience_ids:[a],variations:[{name:"Variation #1",actions:i||[],weight:1e4}]})}(t,r,a))})),C.a.all(d).then((function(){var t=u.default.evaluateToJS(I.default.experimentsByLayerId(r)),o=l.a.map(a,(function(r){return l.a.filter(t,(function(t){return t.audience_ids[0]===r}))[0].id})),d=l.a.uniq(o),p=l.a.uniq(o).map((function(t){return[t]})),m=u.default.evaluateToJS(I.default.byId(r)),g=A.getDecisionMetadata(m);g.experiment_priorities=p,i.save({id:r,decision_metadata:g,experiment_ids:d}).then(c.resolve)})),c},unarchive:function unarchive(t){return this.save({id:t.id,archived:!1}).then((function(){return t.url_targeting&&t.url_targeting.view_id&&E.actions.fetch(t.url_targeting.view_id,!0),t})).then(l.a.partial(unarchiveCampaignSpecificEvents,t))},updateABTestLayer:function updateABTestLayer(t,r){var a=o.a.Deferred(),i=u.default.evaluateToJS(I.default.byId(t.id));if(!i)return a.reject(),a;var c=u.default.evaluate(I.default.audienceIdsByLayerId(t.id)).toJS(),d=t.view_ids?l.a.difference(i.view_ids,t.view_ids):[],p=r?l.a.intersection(r,c):c;return this.save(t).then((function(i){var o=u.default.evaluate(I.default.experimentsByLayerId(t.id)),m=[];if(!l.a.isEqual(c,r)){var g=o.first().set("audience_ids",r);m.push(v.default.actions.save(g.toJS()))}d.length>0&&o.filter(function experimentHasAudience(t){return function(r){return 0===l.a.difference(r.get("audience_ids").toJS(),t).length}}(p)).map((function(t){var r=v.default.fns.removeViews(t,d);r.equals(t)||m.push(v.default.actions.save(r.toJS()))})),m.length?C.a.all(m).then(l.a.partial(a.resolve,i)):a.resolve(i)})),a},updateExperimentPriorities:function updateExperimentPriorities(t,r){var a=u.default.evaluateToJS(I.default.byId(t)),i={id:t,policy:O.policy.EQUAL_PRIORITY,decision_metadata:A.getDecisionMetadata(a)};return i.decision_metadata.experiment_priorities=r,this.save(i)},updateExperimentForCOLayer:function updateExperimentForCOLayer(t){return v.default.actions.save(t,{useAudienceConditionsJSON:!0})},updateExperimentForSingleABTestLayer:function updateExperimentForSingleABTestLayer(t,r){return this.save(t).then((function(){v.default.actions.save(r)}))},updateLayerViews:function updateLayerViews(t,r){var a=u.default.evaluate(I.default.byId(t)),i={id:t,view_ids:r},o=a.get("view_ids").toJS(),c=l.a.difference(o,r),d=this.save(i);return c.length>0&&(d=d.then((function(){return removeLayerExperimentOrSectionViews(t,c)})).then((function(){a.getIn(["url_targeting","view_id"])&&E.actions.fetch(a.getIn(["url_targeting","view_id"]),!0)}))),d},save:function save(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return R.save.apply(R,[t].concat(a)).then((function(r){return b.default.actions.inValidateCacheDataByEntity({entity:"layer_summaries",id:t.id}),r}))},saveOrUpdateLayerWithUrlTargeting:function saveOrUpdateLayerWithUrlTargeting(t,r){var a=u.default.evaluate(I.default.byId(t));r=l.a.pick(r,O.URL_TARGETING_FIELDS);var i={id:t,url_targeting:r};return this.save(i).then((function(r){return E.actions.fetch(r.url_targeting.view_id,!0).then((function(r){var i=o.a.Deferred();if(a.get("url_targeting")&&a.get("url_targeting").size)i.resolve(r);else{var c=a.get("view_ids").toJS();removeLayerExperimentOrSectionViews(t,c).then((function(){i.resolve(r)}))}return i}))}))},removeSectionViews:removeSectionViews,removeLayerExperimentViews:removeLayerExperimentViews,removeLayerExperimentOrSectionViews:removeLayerExperimentOrSectionViews})},,function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({REGISTER_ROOT_VM:null,RESET_ROOT_VM:null,REGISTER_GLOBAL_COMPONENT:null,REGISTER_REGION:null,UNREGISTER_REGION:null,REGISTER_COMPONENT:null,UNREGISTER_COMPONENT:null,QUEUE_REGION_COMPONENT:null,UNQUEUE_REGION_COMPONENT:null})},function(t,r,a){"use strict";var i,o,c,l,u,d,p,m;a.d(r,"a",(function(){return i})),a.d(r,"c",(function(){return o})),a.d(r,"b",(function(){return c})),a.d(r,"d",(function(){return l})),a.d(r,"e",(function(){return u})),a.d(r,"f",(function(){return d})),a.d(r,"g",(function(){return p})),a.d(r,"h",(function(){return m})),function(t){t.AddToCart="add_to_cart",t.Convert="convert",t.Other="other",t.Purchase="purchase",t.Save="save",t.Search="search",t.Share="share",t.SignUp="sign_up",t.Subscribe="subscribe"}(i||(i={})),function(t){t.Custom="custom"}(o||(o={})),function(t){t.Event="event"}(c||(c={})),function(t){t.Count="count",t.Sum="sum",t.Unique="unique"}(l||(l={})),function(t){t.Revenue="revenue",t.Value="value"}(u||(u={})),function(t){t.Event="event",t.Visitor="visitor"}(d||(d={})),function(t){t.Increasing="increasing",t.Decreasing="decreasing"}(p||(p={})),function(t){t.Custom="custom",t.Revenue="revenue"}(m||(m={}))},function(t,r,a){"use strict";a.d(r,"b",(function(){return i}));var i={CLICK:"click",CUSTOM:"custom",PAGE_VIEW:"pageview"};r.a={eventTypes:i,filterTypes:{TARGET_SELECTOR:"target_selector"}}},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({RECOMMENDATIONS_INIT:null,RECOMMENDATIONS_INIT_CURRENTLY_EDITING_CATALOG:null,RECOMMENDATIONS_LOAD_DATA:null,RECOMMENDATIONS_UPDATE_PROPERTY:null,RECOMMENDATIONS_UPDATE_EVENT:null,RECOMMENDATIONS_REMOVE_EVENT:null,RECOMMENDATIONS_SET_CATALOG:null,RECOMMENDATIONS_SET_CURRENTLY_EDITING_CATALOG:null,RECOMMENDATIONS_RESET_CURRENTLY_EDTING_CATALOG:null,RECOMMENDATIONS_SET_EDITING_EVENT:null,RECOMMENDATIONS_ADD_TAG_TO_CURRENTLY_EDITING_EVENT:null,RECOMMENDATIONS_REMOVE_TAG_FROM_CURRENTLY_EDITING_EVENT:null,RECOMMENDATIONS_UPDATE_FOR_CATALOG:null,RECOMMENDATIONS_SELECT_EVENT_PAGE:null,RECOMMENDATIONS_SET_EDITING_RECOMMENDER:null,RECOMMENDATIONS_UPDATE_EDITING_RECOMMENDER_PROPERTY:null,RECOMMENDATIONS_UPDATE_EDITING_RECOMMENDER_SPECIFICS_PROPERTY:null,RECOMMENDATIONS_UPSERT_RECOMMENDER:null})},function(t,r,a){var i=a(3014),o=a(937),c=a(3015),l=/^([a-z0-9.+-]+:)/i,u=a(42);i.queryString={parse:function parse(t){return o.parse(t,{decoder:function decoder(t){return t}})},stringify:function stringify(t){return o.stringify(t,{encoder:function encoder(t){return t}})}};var d=function ensureProtocol(t){return l.exec(t)?t:"http://".concat(t)};function Url(t,r){var a=document.createElement("a");a.href=t,r=r||{},this.hostname=r.hostname||a.hostname,this.protocol=r.protocol||a.protocol,this.pathname=r.pathname||a.pathname,this.search=r.search||a.search,this.href=r.href||a.href,this.fullpath=this.pathname+this.search,this.origin="".concat(a.protocol,"//").concat(a.hostname),this._params={},this._parseQuery(this.search)}function optimizelyHRDUrl(t){var r=u.get("env.OPTIMIZELY_HRD_HOST_URL","")||"";return"/"!==r.substr(r.length-1)&&(r+="/"),"/"===t.charAt(0)&&(t=t.substr(1)),r+t}Url.prototype._parseQuery=function(t){var r=this;t&&t.substring(1).split("&").forEach((function(t){var a=t.split("=");r._params[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}))},Url.prototype.getQueryParam=function(t){return this._params[t]},t.exports={create:function create(t,r){return t?new Url(t,r):null},ensureProtocol:d,urlParser:i,generateClientBuildServerEditorUrl:function generateClientBuildServerEditorUrl(t,r){return optimizelyHRDUrl("/js/editor-client.js?project_id=".concat(t,"&token=").concat(r))},generateClientDraftDataEndpointUrl:function generateClientDraftDataEndpointUrl(t,r){return optimizelyHRDUrl("/api/client/".concat(t,"/editor_data.js?token=").concat(r))},generateHttpUrl:function generateHttpUrl(t){var r=i.parse(d(t),!0);return r.protocol="http",r.slashes=!0,i.format(r)},generateHttpsUrl:function generateHttpsUrl(t){var r=i.parse(d(t),!0);return r.protocol="https",r.slashes=!0,i.format(r)},generateProxyUrl:function generateProxyUrl(t){var r=i.parse(d(t),!0),a=i.parse(u.get("env.EDIT_URL"),!0);return a.pathname=encodeURIComponent(i.format(r)),i.format(a)},generatePreviewProxyUrl:function generatePreviewProxyUrl(t){var r=i.parse(d(t),!0),a=i.parse(d(t)),o=i.parse(u.get("env.PREVIEW_URL"),!0);return a.search="",a.hash="",o.pathname=i.format(a),o.query=r.query,o.hash=r.hash,i.format(o)},generateUtmSourceValue:function generateUtmSourceValue(){var t,r,a=window.location.pathname,i=a.split("/");return-1!==a.indexOf("v2")?(t=i.length>2&&""!==i[2]?"_":"",r=i.length>2?i[2]:"","product_v2".concat(t).concat(encodeURIComponent(r))):(t=i.length>1&&""!==i[1]?"_":"",r=i.length>1?i[1]:"","product".concat(t).concat(encodeURIComponent(r)))},optimizelyHRDUrl:optimizelyHRDUrl,v2Url:function v2Url(t){if(!u.get("env.USE_NOVA"))return t;var r=u.get("env.NOVA_HOST_URL","");return"/"!==r.substr(r.length-1)&&(r+="/"),"/"===t.charAt(0)&&(t=t.substr(1)),r+t},isValidUrl:function isValidUrl(t){var r=d(t);return c.isUri(r)}}},,function(t,r,a){"use strict";var i=a(310);a.d(r,"a",(function(){return i.a}));var o=a(112);a.d(r,"b",(function(){return o.b}));var c=a(571),l=a(284);a.d(r,"d",(function(){return l.b}));var u=a(582);a.d(r,"e",(function(){return u.default}));var d=a(379);a.d(r,"f",(function(){return d.default}));var p=a(1224);r.c={actions:i.a,constants:o.b,entityDef:c.a,enums:l.b,fns:u.default,getters:d.default,humanReadable:p.a}},function(t,r,a){"use strict";a.d(r,"d",(function(){return loadingStart})),a.d(r,"e",(function(){return loadingStop})),a.d(r,"f",(function(){return loadingWhen})),a.d(r,"g",(function(){return loadingWhenFetchAllPages})),a.d(r,"c",(function(){return loadingEntityWhen})),a.d(r,"b",(function(){return loadingEntityFinished}));var i=a(12),o=a.n(i),c=a(3),l=a(297),u=a(465);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function isJqueryDeferred(t){return"function"==typeof t.always}function when(t){if(Array.isArray(t)){var r=t;return isJqueryDeferred(r[0])?o.a.when.apply(o.a,_toConsumableArray(r)):Promise.all(r)}return!t||isJqueryDeferred(t)?o.a.when(t):t}function always(t,r){t.always?t.always(r):t.finally?t.finally(r):console.log("WARN: core/ui - expected thenable of type jQuery.Deferred or Promise, but received ".concat(_typeof(t)))}function loadingStart(t){c.default.dispatch(l.a.LOADING_START,{id:t})}function loadingStop(t){c.default.dispatch(l.a.LOADING_FINISH,{id:t})}function loadingWhen(t,r,a){var i=a?"".concat(t).concat(u.a).concat(a):t;loadingStart(i),always(when(r),(function(){loadingStop(i)}))}function loadingWhenFetchAllPages(t,r){var a=r.firstPage,i=r.allPages;loadingWhen(t,a,1),loadingWhen(t,i)}function loadingEntityWhen(t,r,a){c.default.dispatch(l.a.ENTITY_LOADING_START,{entity:t,data:r}),always(when(a),(function(){c.default.dispatch(l.a.ENTITY_LOADING_FINISH,{entity:t,data:r})}))}function loadingEntityFinished(t){c.default.dispatch(l.a.CLEAR_ALL_ENTITY_LOADING,{entity:t})}r.a={loadingStart:loadingStart,loadingStop:loadingStop,loadingWhen:loadingWhen,loadingWhenFetchAllPages:loadingWhenFetchAllPages,loadingEntityWhen:loadingEntityWhen,loadingEntityFinished:loadingEntityFinished}},function(t,r,a){"use strict";a.r(r);var i=a(17),o=a.n(i);r.default=o()({P13N_CHANGE_EDITOR_SET_INITIAL_SELECTOR:null,P13N_CHANGE_EDITOR_SET_CURRENT_SELECTOR:null,P13N_CHANGE_EDITOR_SET_CURRENT_SELECTOR_TYPE:null,P13N_CURRENT_CHANGE_RESET_IS_DIRTY:null,P13N_CURRENT_CHANGE_REMOVE_CSS_PROPERTY:null,P13N_CURRENT_CHANGE_SET_ATTRIBUTES_PROPERTY:null,P13N_CURRENT_CHANGE_SET_CSS_PROPERTY:null,P13N_CURRENT_CHANGE_SET_REARRANGE_PROPERTY:null,P13N_CURRENT_CHANGE_SET_REDIRECT_PROPERTY:null,P13N_CURRENT_CHANGE_SET_ASYNC_PROPERTY:null,P13N_CURRENT_CHANGE_SET_NAME:null,P13N_CURRENT_CHANGE_SET_SELECTOR:null,P13N_EDITOR_RESET_CUSTOM_CODE_TABS_DIRTY:null,P13N_EDITOR_RESET_ELEMENT_INFO:null,P13N_EDITOR_SELECT_VARIATION:null,P13N_EDITOR_SELECT_VIEW:null,P13N_EDITOR_SET_CHANGE_EDITOR_ELEMENT_SELECTOR_ENABLED:null,P13N_EDITOR_SET_CHANGE_EDITOR_IS_EDITING_SELECTOR:null,P13N_EDITOR_SET_CURRENT_CHANGE_ELEMENT_INFO:null,P13N_EDITOR_SET_CURRENTLY_EDITING_CHANGE:null,P13N_EDITOR_SET_CURRENTLY_EDITING_INSERT_HTML_CHANGE:null,P13N_EDITOR_SET_CURRENTLY_EDITING_INSERT_IMAGE_CHANGE:null,P13N_EDITOR_SET_CURRENTLY_EDITING_REDIRECT_CHANGE:null,P13N_EDITOR_SET_CUSTOM_CODE_PANEL_VISIBILITY:null,P13N_EDITOR_SET_CUSTOM_CODE_PANEL_TAB:null,P13N_EDITOR_SET_CUSTOM_CODE_TAB_DIRTY:null,P13N_EDITOR_SET_CURRENTLY_EDITING_CHANGE_DEPENDENCIES:null,P13N_EDITOR_UNSELECT_VARIATION:null,P13N_EDITOR_UNSELECT_VIEW:null,P13N_EDITOR_UNSET_CURRENTLY_EDITING_CHANGE:null,P13N_INSERT_HTML_SET_HTML_VALUE:null,P13N_INSERT_HTML_SET_OPERATOR:null,P13N_EDITOR_SELECT_EXPERIMENT_ID:null,P13N_EDITOR_UNSELECT_EXPERIMENT_ID:null,P13N_EDITOR_SET_CHANGE_LIST_SIDEBAR_COMPONENT_CONFIG:null})},function(t,r,a){"use strict";a.r(r);var i=a(85);a.d(r,"actions",(function(){return i.default}));var o=a(1061);a.d(r,"constants",(function(){return o.default}));var c=a(288);a.d(r,"mixins",(function(){return c.c})),r.default={actions:i.default,constants:o.default,mixins:c.c}},function(t,r,a){"use strict";a.r(r);var i=a(12),o=a.n(i),c=a(4),l=a.n(c),u=a(31),d=a(75),p=a(3),m=a(2),g=a(499),h=a(95),y=(a(374),a(36)),v=a(29),_=a(68),E=a(111),b=a(450);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var T=y.default.createEntityActions(b.default),S=y.default.createEntityActions(Object.assign({},b.default,{isRelationshipEntity:!0,isSubresource:!0,parents:[{entity:"layer_experiments",key:"id"},{entity:"variations",key:"variation_id"},{entity:"views",entityName:"actions",key:"view_id"}]}));function shallowFlatten(t){return t.reduce((function(t,r){return t.concat(r)}),[])}function findExperimentIds(t){var r;return t.decision_metadata&&t.decision_metadata.experiment_priorities&&(r=shallowFlatten(t.decision_metadata.experiment_priorities)),r}var C=_extends({},T,{cleanAndSaveAction:function cleanAndSaveAction(t){t.changes.forEach((function(t){delete t.status}));for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return S.save.apply(S,[t].concat(a))},delete:function _delete(t){return C.archive(t)},pause:function pause(t){return C.save({id:t.id,status:v.status.PAUSED,is_launched:!1})},launch:function launch(t){return C.save({id:t.id,is_launched:!0})},unpause:function unpause(t){return C.save({id:t.id,status:v.status.ACTIVE,is_launched:!1})},archive:function archive(t){return C.save({id:t.id,status:v.status.ARCHIVED,is_launched:!1})},unarchive:function unarchive(t){return C.save({id:t.id,status:v.status.PAUSED,is_launched:!1})},save:function save(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{useAudienceConditionsJSON:!1},a=r.useAudienceConditionsJSON,i=t;return i=_.default.cleanActionsJSON(i),i=_.default.cleanAudiencesJSON(i,{useAudienceConditionsJSON:!!a}),T.save(i).then((function(t){return y.default.actions.inValidateCacheDataByEntity({entity:"layer_summaries",id:i.layer_id}),t}))},createNewVariation:function createNewVariation(t,r){var a={name:t,actions:[]};return r.variations.push(a),C.save(r)},createNewVariationWithRedistributedTraffic:function createNewVariationWithRedistributedTraffic(t,r){var a={name:t,actions:[]},i=Object(d.default)(r);return i.variations.push(a),i.variations=_.default.redistributeWithNewVariationTraffic(i.variations),C.save(i)},deleteVariation:function deleteVariation(t){var r=t.variations;return r.forEach((function(a){a.variation_id===t.variation.variation_id&&r.splice(r.indexOf(a),1)})),t.layerExperiment.variations=_.default.redistributeStoppedVariationTraffic(r,t.variation.weight),C.save(t.layerExperiment)},stopVariation:function stopVariation(t,r,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o={id:r.id};i&&(o.multivariate_traffic_policy=v.multivariateTrafficPolicies.PARTIAL_FACTORIAL);var c=Object(d.default)(a),l=0;return c.forEach((function(r){r.variation_id===t&&(r.archived=!0,r.status=v.VariationStatus.ARCHIVED,l=r.weight,r.weight=0)})),o.variations=_.default.redistributeStoppedVariationTraffic(c,l),C.save(o)},restoreVariation:function restoreVariation(t,r,a){var i=Object(d.default)(a);return i.forEach((function(r){r.variation_id===t&&(r.archived=!1,r.status=v.VariationStatus.ACTIVE)})),r.variations=_.default.redistributeRestoredVariationTraffic(t,i),C.save(r)},duplicateVariationActions:function duplicateVariationActions(t,r,a,i){var o=_.default.getViewIdsInVariation(t,a),c=r;return o.map((function(o){var l=_.default.changesForViewIdAndVariationIdAndExperimentId(o,a,t),u=_.default.cloneChangeList(l.toJS()),d=_.default.changesForViewIdAndVariationIdAndExperimentId(o,i,r).concat(u);c=_.default.addAction(o,i,d,c,g.default)})),C.save(c.toJS())},duplicateVariation:function duplicateVariation(t,r){var a={name:_.default.createDuplicateName(r,t.name),actions:_.default.cloneActions(t.actions)};return r.variations.push(a),r.variations=_.default.redistributeWithNewVariationTraffic(r.variations),C.save(r)},duplicate:function duplicate(t){var r=l.a.pick(t,["status","audience_conditions","audience_ids","holdback","layer_id","project_id"]);return r.variations=l.a.map(t.variations,(function(t){return{name:t.name,actions:_.default.cloneActions(t.actions),archived:!!t.archived,weight:t.weight}})),C.save(r)},restartExperiment:function restartExperiment(t,r){},renameVariation:function renameVariation(t,r,a){var i=p.default.evaluate(E.default.byId(t)).get("variations").map((function(t){return t.get("variation_id")===r?t.set("name",a):t}));return C.save({id:t,variations:i.toJS()})},duplicateVariationById:function duplicateVariationById(t,r){var a=p.default.evaluateToJS(E.default.byId(t)),i=l.a.find(a.variations,(function(t){return t.variation_id===r}));return C.duplicateVariation(i,a)},deleteVariationById:function deleteVariationById(t,r){var a=p.default.evaluate(E.default.byId(t)).get("variations"),i=a.findIndex((function(t){return t.get("variation_id")===r})),o=a.getIn([i,"weight"]),c=a.splice(i,1);return c=_.default.redistributeStoppedVariationTraffic(c.toJS(),o),C.save({id:t,variations:c})},restoreVariationById:function restoreVariationById(t,r){var a=p.default.evaluate(E.default.byId(t)).get("variations"),i=a.findIndex((function(t){return t.get("variation_id")===r})),o=a.update(i,(function(t){return t.set("archived",!1).set("status",v.VariationStatus.ACTIVE)}));return o=_.default.redistributeRestoredVariationTraffic(r,o.toJS()),C.save({id:t,variations:o})},getMultiRequestThreshold:function getMultiRequestThreshold(){return 40},fetchAllByStatus:function fetchAllByStatus(t){var r=t.projectId,a=t.policies,i=t.byPage,o=void 0!==i&&i,c=t.archived,l={skipEvaluatingCachedData:!0,excludeFields:"variations.variable_values"},d={project_id:r,status:void 0!==c&&c?[v.status.ARCHIVED]:[v.status.ACTIVE,v.status.PAUSED],$order:"last_modified:desc"};if(a&&(d.layer_policy=a),!o)return this.fetchAll(d,l);var p=h.b.FEATURES.fetch_all_paginated,m=p.FEATURE_KEY,g=p.VARIABLES;return d.$limit=Object(u.getFeatureVariable)(m,g.page_size)||y.default.constants.DEFAULT_PAGE_SIZE,this.fetchAllPages(d,l)},fetchAllExperimentIds:function fetchAllExperimentIds(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i="/api/v1/projects/".concat(r,"/layer_experiments"),o="?ids_only=true";return Object.assign(a,{layer_id:t}),l.a.each(a,(function(t,r){var a=Array.isArray(t)?t:[t];l.a.each(a,(function(t){o+="&filter=".concat(r,":").concat(t)}))})),fetch("".concat(i).concat(o),{credentials:"same-origin"}).then((function(t){if(t.status>=400)throw new Error("Unexpected error from server");return t.json()}))},fetchLayerExperimentsSingleRequest:function fetchLayerExperimentsSingleRequest(t,r){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return C.fetchAll(Object.assign({project_id:r,layer_id:t},i),{force:a,skipEvaluatingCachedData:!0})},fetchLayerExperimentsMultipleRequests:function fetchLayerExperimentsMultipleRequests(t,r){var a=arguments,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=[],u=[],d=o.a.Deferred();return C.fetchAllExperimentIds(t,r,c).then((function(t){for(var o=t.map((function(t){return t.id})),c=0;c<o.length;c+=C.getMultiRequestThreshold())l.push(o.slice(c,c+C.getMultiRequestThreshold()));l.forEach((function(t){u.push(C.fetchAll({project_id:r,id:t},{force:i,skipEvaluatingCachedData:!0}))})),Promise.all(u).then((function(){d.resolve(shallowFlatten(_toConsumableArray(a)))}))})),d.promise()},intelligentFetchAll:function intelligentFetchAll(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=findExperimentIds(t=Object(m.isImmutable)(t)?t.toJS():t),o=i&&i.length>C.getMultiRequestThreshold(),c=o?C.fetchLayerExperimentsMultipleRequests:C.fetchLayerExperimentsSingleRequest,u=Object(d.default)(a);return u.status&&(Array.isArray(u.status)?u.status=l.a.filter(u.status,(function(t){return Object.values(v.status).includes(t)})):Object.values(v.status).includes(u.status)||delete u.status),c.call(this,t.id,t.project_id,r,u)},pauseExperimentWithEnvironment:function pauseExperimentWithEnvironment(t,r){return C.save({id:t.get("id"),environments:_defineProperty({},r,{status:"paused"})})},runExperimentWithEnvironment:function runExperimentWithEnvironment(t,r){return C.save({id:t.get("id"),environments:_defineProperty({},r,{status:"running"})})}});r.default=C},,function(t,r,a){"use strict";var i=a(1205);a.d(r,"a",(function(){return i.a}));var o=a(1206);a.d(r,"b",(function(){return o.a}));var c=a(1207);a.d(r,"c",(function(){return c.a}));var l=a(1208);a.d(r,"d",(function(){return l.a})),r.e={Fieldset:i.a,Footer:o.a,Title:c.a,Wrapper:l.a}},function(t,r,a){var i=a(292);t.exports={pathname:function pathname(){return i.location.pathname},replaceLocation:function replaceLocation(t){return i.history.replaceState({},"",t)},setLocation:function setLocation(t){i.location=t},getLocation:function getLocation(){return i.location.href},getOrigin:function getOrigin(){return i.location.origin},getPath:function getPath(){return i.location.pathname},getSearch:function getSearch(){return i.location.search},getHash:function getHash(){return i.location.hash},windowLocationReload:function windowLocationReload(){return i.location.reload()}}},function(t,r,a){"use strict";a(4);var i=a(75),o=a(2),c=a(149),l=a.n(c),u=a(161),d=a(29),p=a(274);function createActionsForNewVariation(t,r){return t.set("actions",r.map((function(t){return Object(o.toImmutable)({view_id:t,changes:[]})})))}function deleteActionsForVariationIfNoViewId(t,r){var a=t.map((function(t){return t.get("view_id")})).toSet().subtract(r);return t.filter((function(t){return!a.has(t.get("view_id"))}))}r.a={createActionsForNewVariation:createActionsForNewVariation,deleteActionsForVariationIfNoViewId:deleteActionsForVariationIfNoViewId,updateVariationsForSave:function updateVariationsForSave(t,r){return r.map((function(r){return r.has("percentage")&&(r=r.set("weight",Number((100*r.get("percentage")).toFixed()))),(r=r.delete("guid")).has("actions")||(r=createActionsForNewVariation(r,t)),r=r.update("actions",(function(r){var a=deleteActionsForVariationIfNoViewId(r,t),i=a.map((function(t){return t.get("view_id")})),c=t.toSet().subtract(i);return a.withMutations((function(t){c.forEach((function(r){t.push(Object(o.toImmutable)({view_id:r,changes:[]}))}))}))}))}))},getViewIdsFromVariationActions:function getViewIdsFromVariationActions(t){return o.default.Set().withMutations((function(r){t.forEach((function(t){t.get("actions").forEach((function(t){r.add(t.get("view_id"))}))}))})).toList().toJS()},guidifySingle:function guidifySingle(t){var r=Object(i.default)(t);return r.guid=l()(),r},deguidifySingle:function deguidifySingle(t){return delete t.guid,t},guidifyList:function guidifyList(t){var r=this;return t.map((function(t){return r.guidifySingle(t)}))},deguidifyList:function deguidifyList(t){var r=this;return t.map((function(t){return r.deguidifySingle(t)}))},createNewSection:function createNewSection(t){var r=Object(i.default)(p.c.Sections.DEFAULT_SECTION);return r.guid=l()(),r.variations=this.guidifyList(r.variations),t&&(r.name="Section #".concat(t+1)),Object(o.toImmutable)(r)},getCombinationCount:function getCombinationCount(t){return t.size?t.reduce((function(t,r){return t*r.get("variations").size}),1):0},matcherToJson:function matcherToJson(t,r){var a=u.fns.constructAnyAllAudienceConditions(t,r);return null===a?"":JSON.stringify(a,null,2)},addTrafficDistributionInfoToVariations:function addTrafficDistributionInfoToVariations(t,r){return t.map((function(t){var a=(1e4-r)/1e4*t.get("weight");return t.set("percentage",Math.round(t.get("weight"))/100).set("totalTraffic",Math.round(a)/100)}))},stripVariableValuesFromVariations:function stripVariableValuesFromVariations(t){return t.map((function(t){return t.delete("variable_values")}))},addVariableValuesToVariations:function addVariableValuesToVariations(t,r){return t.map((function(t){var a=o.default.Map().withMutations((function(a){r.forEach((function(r){var i=r.get("usage_instances").find((function(r){return r.get("variation_id")===t.get("variation_id")}));a.set(r.get("live_variable_id"),i.get("value"))}))}));return t.set("variable_values",a)}))},isExperimentLive:function isExperimentLive(t){var r=Object(o.isImmutable)(t)?t.get("actual_status"):t.actual_status;return r===d.ActualStatus.RUNNING||r===d.ActualStatus.PAUSED}}},,,function(t,r,a){"use strict";a.r(r);var i=a(4),o=a.n(i),c=a(2),l=a(41),u=a(406),d=a(111),p=a(83),m=a(460),g=Object(l.default)(m.a);function experimentsByLayerId(t){return[d.default.entityCache,function(r){return r.filter((function(r){return r.get("layer_id")===t})).toList()}]}r.default=o.a.extend(g,{audienceIdsByLayerId:function audienceIdsByLayerId(t){return[this.byId(t),d.default.entityCache,function(t,r){if(!t)return Object(c.toImmutable)([]);var a=[];return t.get("experiment_ids")&&t.get("experiment_ids").size&&t.get("experiment_ids").map((function(t){r.filter((function(r){return r.get("id")===t})).map((function(t){a=a.concat(t.get("audience_ids").toJS())}))})),Object(c.toImmutable)(a)}]},experimentsByLayerId:experimentsByLayerId,experimentByLayerIdAndAudienceId:function experimentByLayerIdAndAudienceId(t,r){return[experimentsByLayerId(t),function(t){return t.filter((function(t){return t.get("audience_ids").first()===r})).first()}]},experimentIdsOFLayerByStatusFilter:function experimentIdsOFLayerByStatusFilter(t,r){return[g.entityCache,d.default.entityCache,function(a,i){return a.getIn([t,"experiment_ids"]).filter((function(t){return r(i.getIn([t,"status"]))}))}]},isLayerInDraftStatus:function isLayerInDraftStatus(t){return[g.byId(t),p.isLayerInDraftStatus]},sectionsByLayerId:function sectionsByLayerId(t){return[u.default.entityCache,function(r){return r.filter((function(r){return r.get("layer_id")===t})).toList()}]},singleExperimentByLayerId:function singleExperimentByLayerId(t){return[d.default.entityCache,function(r){return r.filter((function(r){return r.get("layer_id")===t})).first()}]}})},function(t,r,a){"use strict";a.d(r,"a",(function(){return m})),a.d(r,"b",(function(){return g})),a.d(r,"c",(function(){return h}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(26),d=a(40),p=a(65),m={AlgorithmChange:{title:"Confirm Algorithm Change?",message:"If you change the algorithm, your events for this recommender will no longer be valid and will be removed.",confirmText:"Change algorithm"},CatalogChange:{title:"Confirm Catalog Change?",message:"If you change the catalog, your events and filters for this recommender will no longer be valid and will be removed.",confirmText:"Change catalog"}},g=function RecommendationsCSVDownloadUnavailable(t){var r=t.testSection;return o.a.createElement("div",{className:"flex push-half--top","data-test-section":"recommendations-csv-unavailable-".concat(r)},o.a.createElement("div",{className:"push-half--top"},o.a.createElement(u.a,{color:p.brandPurpleDark,size:"small",name:"circle-exclamation"})),o.a.createElement("p",{className:"push-half--left flush--bottom micro color--base"},"The CSV for this report hasn't been generated yet. It may take up to 24 hours for a CSV to be available for download."))};g.propTypes={testSection:l.a.string},g.defaultProps={testSection:""};var h=function RecommendationsHelpLink(t){var r=t.helpLink,a=t.helpText,i=t.testSection;return o.a.createElement(d.a,{href:r,newWindow:!0,testSection:"recommendations-help-link-".concat(i)},"Learn more","".concat(a),".")};h.propTypes={helpLink:l.a.string,helpText:l.a.string,testSection:l.a.string},h.defaultProps={helpLink:"https://help.optimizely.com/Get_Started/Get_started_with_Optimizely_X_Web_Recommendations",helpText:"",testSection:""}},function(t,r,a){"use strict";r.a={apiActions:{DELETE:"delete",FETCH:"fetch",FETCH_ALL:"fetchAll",FETCH_PAGE:"fetchPage",SAVE:"save"},apiErrorCodes:{INVALID_CSRF_TOKEN:"invalid_csrf_token"},CONCURRENT_QUEUE_LIMIT:10,fetchAllPagesConfig:{requestHeader:"X-Include-Record-Total",responseHeader:"X-Record-Total"},INITIAL_PAGE_SIZE:50,INTERNAL_TO_SEARCH_API_ENTITY_MAP:{layers:"campaign",feature_flags:"feature",audiences:"audience",views:"page",events:"event"},SEARCH_API_REINDEX_CHECK_DEFAULT_DELAY:1,SEARCH_API_ERROR_FINGERPRINT:"SEARCH_API_ERROR_FINGERPRINT",SEARCH_API_REINDEX_FAILURE_FINGERPRINT:"SEARCH_API_REINDEX_FAILURE_FINGERPRINT"}},,function(t,r,a){var i=a(17);t.exports={tabs:i({EXPERIENCES:null,VARIATIONS:null,PAGES:null,AUDIENCES:null,INTEGRATIONS:null,METRICS:null,CUSTOM_CODE:null,TRAFFIC_ALLOCATION:null,SCHEDULE:null,API_NAMES:null,HISTORY:null,SETTINGS:null}),settingsTabs:i({CAMPAIGN_SETTINGS:null,INTEGRATIONS:null}),integrations:i({NO_VALUE_SELECTED:null}),improvementColors:i({GREEN:null,RED:null,DEFAULT:null})}},function(t,r,a){"use strict";a.r(r),a.d(r,"AdaptiveAudienceStatuses",(function(){return i})),a.d(r,"audienceMatchTypes",(function(){return o})),a.d(r,"audienceCompatility",(function(){return c})),a.d(r,"ConditionGroupTypes",(function(){return l})),a.d(r,"eventProperties",(function(){return u})),a.d(r,"metadataTagTypes",(function(){return d})),a.d(r,"aggregationTypes",(function(){return p})),a.d(r,"optimizelyTrackingTemplate",(function(){return m})),a.d(r,"status",(function(){return g}));var i={AVAILABLE:"available",NONE:"none",UNAVAILABLE:"unavailable"},o={ANY_AUDIENCES:"any_audiences",ALL_AUDIENCES:"all_audiences",CUSTOM_AUDIENCES:"custom_audiences"},c={ALL:"all",OPTIMIZELY_CLASSIC:"v1",OPTIMIZELY_X:"v2"},l={OR:"or",AND:"and",NOT:"not"},u={NAME:"n",TYPE:"y",CATEGORY:"c",METADATA:"o",REVENUE:"r",TIMESTAMP:"t"},d={CUSTOM:"custom",INTEGER:"integer",NUMBER:"number",STRING:"string"},p={MOST_FREQUENT:"most_frequent",MOST_RECENT:"most_recent",SUM:"sum",AVG:"avg"},m="{lpurl}?opti_ca={campaignid}&opti_ag={adgroupid}&opti_ad={creative}&opti_key={targetid}",g={ACTIVE:"active",ARCHIVED:"archived"};r.default={AdaptiveAudienceStatuses:i,audienceMatchTypes:o,audienceCompatility:c,ConditionGroupTypes:l,eventProperties:u,metadataTagTypes:d,aggregationTypes:p,optimizelyTrackingTemplate:m,status:g}},function(t,r,a){var i=a(1176),o=a(937);t.exports=function(){return t.exports.queryParamsToObject.apply(this,arguments)},t.exports.queryParamsToObject=function queryParamsToObject(t){var r=i({url:t});return o.parse(r.query)}},function(t,r,a){"use strict";var i=a(31),o=a(95);r.a={buildURLForDownloadCSV:function buildURLForDownloadCSV(t,r,a,i){var o="https://api.app.optimizely.com/v2/recommendations/catalogs/".concat(t,"/").concat(r);return i?"".concat(o,"/").concat(i,"/").concat(a):"".concat(o,"/").concat(a)},getHelpCopy:function getHelpCopy(t,r){return Object(i.getFeatureVariableString)(o.a.FEATURE_IDS.RECS_HELP_COPY,t)||r}}},function(t,r,a){"use strict";a.r(r),a.d(r,"DefaultHoldbackValues",(function(){return u})),a.d(r,"TargetingTypes",(function(){return d})),a.d(r,"DEFAULT_URL_TARGETING_CONFIG",(function(){return p}));var i=a(17),o=a.n(i),c=a(172),l=a(2),u={P13N_CAMPAIGN:5,SINGLE_EXPERIMENT:0},d=o()({URL:null,SAVED_PAGES:null}),p=Object(l.toImmutable)({activation_type:c.default.activationModes.IMMEDIATE,edit_url:"",conditions:'["and",["or",{"value":"","match_type":"simple","type":"url"}]]',activation_code:null});r.default={DEFAULT_URL_TARGETING_CONFIG:p,DefaultHoldbackValues:u,TargetingTypes:d}},function(t,r,a){"use strict";var i=a(3),o=a(432),c=/v2(\/?)(\?|$)/;r.a={getPerformanceMark:function getPerformanceMark(t){if(!window.performance)return null;var r=window.performance.getEntriesByName(t)[0];return r?r.startTime:null},getLatestPerformanceMark:function getLatestPerformanceMark(t){if(!window.performance)return null;var r=window.performance.getEntriesByName(t).slice(-1)[0];return r?r.startTime:null},setFrontendRenderStartTime:function setFrontendRenderStartTime(){i.default.dispatch(o.a.PERFORMANCE_TRACKING_SET_FRONTEND_RENDER_START_TIME)},setPerformanceMark:function setPerformanceMark(t){if(!window.performance)return null;var r=window.performance.mark(t);return r?r.startTime:null},clearPerformanceMark:function clearPerformanceMark(t){return window.performance?(window.performance.clearMarks(t),null):null},setRouteStartTime:function setRouteStartTime(){i.default.dispatch(o.a.PERFORMANCE_TRACKING_SET_ROUTE_START_TIME),this.setPerformanceMark("route_start")},trackRouteComplete:function trackRouteComplete(t){var r=t.fromPath,a=t.toPath;i.default.dispatch(o.a.PERFORMANCE_TRACKING_ROUTE_COMPLETE),this.setPerformanceMark("route_complete"),"PAGE LOAD"===r&&a.match(c)||i.default.dispatch(o.a.PERFORMANCE_TRACKING_VISUAL_ROUTES_CHANGED)}}},,function(t,r,a){"use strict";var i=a(2),o=a(37),c=a(13),l=a(121),u=a(834),d=a(46),p="RecommendationsDataStore",m=[p,"currentlyEditingCatalog"],g=function catalogProperty(t){return[m,function(r){return r.get(t)}]},h=function projectSpecificEvents(t){return[[p,t?"currentlyEditingCatalog":"catalog","project_specifics"],function(t){return t&&0!==t.size?t.first().get("events"):Object(i.toImmutable)([])}]},y=[c.default.currentProjectActiveViews,c.default.currentProjectActiveEvents,c.default.currentProjectActiveTags,g("id_tag_name"),function(t,r,a,o,c){return t.map((function(t){var l,u,p,m,g=t.get("id"),h=t.get("kind"),y=t.get("tags"),v=y.map((function(t){return o.getIn([t,"api_name"])})),_=!y.size,E=y.find((function(t){return!o.get(t)})),b=!v.includes(c);if(h===d.d.EventKind.VIEW)u=r.get(g),l=r.getIn([g,"name"]),p=d.d.ENTITY_HUMAN_READABLES.EVENT.VIEW;else if(h===d.d.EventKind.EVENT){u=a.get(g),l=a.getIn([g,"name"]);var T=u.get("event_type");p=d.d.ENTITY_HUMAN_READABLES.EVENT[T]}var S="".concat(p," - ").concat(l);return E?m=d.d.MISSING_WARNING_TEXTS.TAG.hasDeletedTag:_?m=d.d.MISSING_WARNING_TEXTS.TAG.hasNoTags:b&&(m=d.d.MISSING_WARNING_TEXTS.TAG.hasNoPrimaryIDTag),Object(i.toImmutable)({description:"ID: ".concat(g),entity:u,for_catalog:t.get("for_catalog"),id:g,kind:h,name:S,tags:y,humanReadableType:p,warningContent:m})}))}],v=[h(!1)].concat(y),_=[p,"catalog"],E=[[p,"catalog","id"],u.a.entityCache,function(t,r){return r.filter((function(r){return r.get("recommender_service_id")===t&&!r.get("archived")})).toList()}],b=[[p,"catalog","id"],u.a.entityCache,function(t,r){return r.filter((function(r){return r.get("recommender_service_id")===t&&!0===r.get("archived")})).toList()}],T=[p,"currentlyEditingEvent"],S=[T,c.default.currentProjectActiveViews,function(t,r){var a=t.get("kind");if(a===d.d.EventKind.EVENT&&t.getIn(["entity","event_type"])===l.a.eventTypes.CUSTOM)return"N/A";var i=a===d.d.EventKind.EVENT?t.getIn(["entity","view_id"]):t.getIn(["entity","id"]);return r.getIn([i,"name"])}],C=[h(!0)].concat(y),I=[C,function(t){return t.filter((function(t){return t.get("for_catalog")}))}],A=function unselectedUserEvents(t){return[h(!0),c.default.currentProjectActiveEvents,function(r,a){var o=[];r.forEach((function(t){t.get("kind")===d.d.EventKind.EVENT&&o.push(t.get("id"))}));var c=i.default.Set(o);return a.toList().filter((function(r){return!c.has(r.get("id"))&&r.get("event_type")===t})).map((function(t){var r=t.get("id"),a=d.d.EventKind.EVENT,o=d.d.ENTITY_HUMAN_READABLES.EVENT[t.get("event_type")];return Object(i.toImmutable)({description:"ID: ".concat(r),entity:t,for_catalog:!1,id:r,kind:a,name:"".concat(o," - ").concat(t.get("name")),tags:[],humanReadableType:o})}))}]},O=[h(!0),c.default.currentProjectActiveViews,function(t,r){var a=[];t.forEach((function(t){t.get("kind")===d.d.EventKind.VIEW&&a.push(t.get("id"))}));var o=i.default.Set(a);return r.toList().filter((function(t){return!o.has(t.get("id"))})).map((function(t){var r=t.get("id"),a=d.d.EventKind.VIEW,o=d.d.ENTITY_HUMAN_READABLES.EVENT.VIEW;return Object(i.toImmutable)({description:"ID: ".concat(r),entity:t,for_catalog:!1,id:r,kind:a,name:"".concat(o," - ").concat(t.get("name")),tags:[],humanReadableType:o})}))}],P=[O,A(l.a.eventTypes.CLICK),A(l.a.eventTypes.CUSTOM),function(t,r,a){return Object(i.toImmutable)([{key:"pageViews",label:"Page Views",items:t},{key:"clickEvents",label:"Click Events",items:r},{key:"customEvents",label:"Custom Events",items:a}])}],R=[p,"selectedEventPageId"],w=[c.default.currentProjectActiveTags,h(!1),function(t,r){if(r.isEmpty())return i.default.List();var a=r.map((function(t){return t.get("tags")})).reduce((function(t,r){return t.concat(r.tags)})).toSet();return t.filter((function(t){return a.has(t.get("id"))})).toList()}],N=[T,c.default.currentProjectActiveTags,c.default.currentProjectActiveViews,function(t,r,a){return t.get("tags").map((function(t){var o=!r.get(t),c=r.getIn([t,"api_name"],"Unavailable"),l=r.getIn([t,"value_type"]),u=r.getIn([t,"view_id"]),p=a.getIn([u,"name"],"N/A");return Object(i.toImmutable)({description:"ID: ".concat(t,", Page: ").concat(p),id:t,name:c,type:l,warningContent:o&&d.d.MISSING_WARNING_TEXTS.TAG.isDeletedTag})}))}],L=[T,c.default.currentProjectActiveTags,c.default.currentProjectActiveViews,R,function(t,r,a,o){var c=t.getIn(["entity","event_type"])===l.a.eventTypes.CUSTOM,u=t.get("tags").toSet(),d=r.filter((function(t){return(c||t.get("view_id")===o)&&!u.has(t.get("id"))})).map((function(t){var r=t.get("id"),o=t.get("api_name"),c=t.get("value_type"),l=t.get("view_id"),u=a.getIn([l,"name"],"N/A");return Object(i.toImmutable)({description:"ID: ".concat(r,", Page: ").concat(u),id:r,name:o,type:c})}));return Object(i.toImmutable)([{key:"tags",label:"Tags",items:d.toList()}])}],x=[I,c.default.currentProjectActiveTags,function(t,r){return i.default.Set().withMutations((function(a){t.forEach((function(t){return t.get("tags").filter((function(t){return!!r.get(t)})).map((function(t){var o=r.getIn([t,"api_name"]);return a.add(Object(i.toImmutable)({label:o,value:o}))}))}))})).toList().unshift(Object(i.toImmutable)({label:"None",value:null}))}],D=[g("id_tag_name"),x,function(t,r){return r.findIndex((function(r){return r.get("value")===t}))>-1?t:r.first().get("value")}],k=[g("url_tag_name"),x,function(t,r){return r.findIndex((function(r){return r.get("value")===t}))>-1?t:r.first().get("value")}],j=[T,c.default.currentProjectActiveViews,function(t,r){var a=t.get("kind");if(a===d.d.EventKind.EVENT&&t.getIn(["entity","event_type"])===l.a.eventTypes.CUSTOM)return r.toList();var o=a===d.d.EventKind.EVENT?t.getIn(["entity","view_id"]):t.getIn(["entity","id"]);return Object(i.toImmutable)([r.get(o)])}],M=[o.default.id,m,D,k,function(t,r,a,o){var c={account_id:t,description:r.get("description"),id_tag_name:a,name:r.get("name"),run_parameters:r.get("run_parameters"),url_tag_name:o};return r.get("id")&&(c.id=r.get("id")),c.project_specifics=r.get("project_specifics").updateIn([0,"events"],(function(t){return t.map((function(t){return Object(i.toImmutable)({id:t.get("id"),kind:t.get("kind"),tags:t.get("tags"),for_catalog:t.get("for_catalog")})}))})).toJS(),c}],U=[p,"currentlyEditingRecommender"];r.a={activeRecommenders:E,archivedRecommenders:b,availableTags:w,availableTagChoices:x,catalog:_,catalogForSave:M,catalogProperty:g,currentlyEditingCatalog:m,currentlyEditingEvent:T,currentlyEditingEventPageName:S,currentlyEditingRecommender:U,currentlyEditingRecommenderSpecificsField:function currentlyEditingRecommenderSpecificsField(t){return[[p,"currentlyEditingRecommender","specifics",t],function(t){return t||Object(i.toImmutable)([])}]},eventPages:j,recommenderById:function recommenderById(t){return[[p,"recommenders"],function(r){return r.find((function(r){return r.get("id")===t}))}]},selectedEvents:C,selectedEventsForSavedCatalog:v,selectedEventPageId:R,selectedRecommenderSpecificEventIds:function selectedRecommenderSpecificEventIds(t){return[[p,"currentlyEditingRecommender","specifics",t],v,function(t,r){return t?t.filter((function(t){return r.findIndex((function(r){return r.get("id")===t.get("id")}))>=0})).map((function(t){return t.get("id")})):Object(i.toImmutable)([])}]},selectedIdTagName:D,selectedTags:N,selectedUrlTagName:k,unselectedEvents:P,unselectedTags:L,unselectedUserEvents:A,unselectedViews:O}},,function(t,r){t.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=16*Math.random()|0;return("x"==t?r:3&r|8).toString(16)})).toUpperCase()}},function(t,r,a){"use strict";a.d(r,"a",(function(){return connectGetters})),a.d(r,"b",(function(){return y}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(513),d=a.n(u),p=a(4),m=a.n(p),g=a(3);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var h=["forwardedRef"];function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _objectWithoutProperties(t,r){if(null==t)return{};var a,i,o=function _objectWithoutPropertiesLoose(t,r){if(null==t)return{};var a,i,o={},c=Object.keys(t);for(i=0;i<c.length;i++)a=c[i],r.indexOf(a)>=0||(o[a]=t[a]);return o}(t,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(i=0;i<c.length;i++)a=c[i],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(o[a]=t[a])}return o}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function connectGetters(t,r){var a=function(a){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(FluxConnector,a);var i=_createSuper(FluxConnector);function FluxConnector(t,a){var o;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,FluxConnector),(o=i.call(this,t,a)).connectGetters=function(t){var r={};return m.a.each(t,(function(t,a){o.unwatchByKey(a),r[a]=g.default.evaluate(t),o.__unwatchFns[a]=g.default.observe(t,(function(t){o.setState(_defineProperty({},a,t))}))})),r},o.unwatchByKey=o.unwatchByKey.bind(_assertThisInitialized(o)),o.__unwatchFns={},o.__unwatchFlux=function(){m.a.each(m.a.keys(o.__unwatchFns),o.unwatchByKey)};var c=r;return"function"==typeof r&&(c=r(t)),o.state=o.connectGetters(_extends({},c,t.connectGetters)),a&&a.vueEvents&&a.vueEvents.$on("unwatchFluxBindVueValues",o.__unwatchFlux),o}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(FluxConnector,[{key:"unwatchByKey",value:function unwatchByKey(t){this.__unwatchFns[t]&&(this.__unwatchFns[t](),delete this.__unwatchFns[t])}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.context.vueEvents&&this.context.vueEvents.$off("unwatchFluxBindVueValues",this.__unwatchFlux),this.__unwatchFlux()}},{key:"render",value:function render(){var r=this.props,a=r.forwardedRef,i=_objectWithoutProperties(r,h),c=Object.assign({},this.state,i);return o.a.createElement(t,_extends({},c,{ref:a}))}}]),FluxConnector}(o.a.Component);a.propTypes={connectGetters:l.a.object,forwardedRef:l.a.oneOfType([l.a.func,l.a.object])},a.defaultProps={connectGetters:{}},a.contextTypes={vueEvents:l.a.shape({$emit:l.a.func,$on:l.a.func,$off:l.a.func,$dispatch:l.a.func})};var i=function forwardRef(t,r){return o.a.createElement(a,_extends({},t,{forwardedRef:r}))};return i.displayName="withFluxConnector(".concat(t.displayName||t.name,")"),d()(o.a.forwardRef(i),t)}var y=function useGetters(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=Object(i.useRef)(!0),o=Object(i.useCallback)((function(){return Object.entries(t).reduce((function(t,r){var a=_slicedToArray(r,2),i=a[0],o=a[1];return Object.assign(t,_defineProperty({},i,g.default.evaluate(o)))}),{})}),r),c=Object(i.useState)(o()),l=_slicedToArray(c,2),u=l[0],d=l[1];return Object(i.useEffect)((function(){a.current||d(o()),a.current=!1;var r=Object.entries(t).map((function(t){var r=_slicedToArray(t,2),a=r[0],i=r[1];return g.default.observe(i,(function(t){d((function(r){return _extends({},r,_defineProperty({},a,t))}))}))}));return function(){return r.forEach((function(t){return t()}))}}),r),u}},,function(t,r,a){"use strict";a.r(r);var i=a(87);a.d(r,"decorators",(function(){return i.a}));var o=a(339);a.d(r,"actions",(function(){return o.a}));var c=a(95);a.d(r,"enums",(function(){return c.b}));var l=a(679);a.d(r,"fns",(function(){return l.a}));var u=a(374);a.d(r,"getters",(function(){return u.a}));var d={actions:o.a,decorators:i.a,enums:c.b,fns:l.a,getters:u.a};r.default=d},,,function(t,r,a){"use strict";a.r(r);var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(52),d=a(19),p=a(26),m=a(335),g=a.n(m),h=a(76);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){_inherits(SelectDropdown,t);var r=_createSuper(SelectDropdown);function SelectDropdown(){var t;_classCallCheck(this,SelectDropdown);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={searchTerm:""},t.search=function(r){t.setState({searchTerm:r.target.value})},t.__filterTermValue=function(r){return g.a.isFilterTermInItem(t.state.searchTerm,r)},t.renderContents=function(){var r=t.props,a=r.items,i=r.value,o=r.minDropdownWidth,c=r.dropdownDirection,d=r.isFilterable,p=r.inputPlaceholder,m=a.filter((function(r){return t.__filterTermValue(r.label)}));return l.a.createElement(h.e,{minWidth:o,direction:c},d&&l.a.createElement(h.f,null,l.a.createElement("form",{className:"soft-half--ends lego-search"},l.a.createElement(u.a,{type:"text",isFilter:!0,value:t.state.searchTerm,placeholder:p,onChange:t.search}))),m.map((function(r,a){return l.a.createElement(v,{key:a,onChange:t.props.onChange,value:r.value,label:r.label,description:r.description,isSelected:r.value===i})})))},t}return _createClass(SelectDropdown,[{key:"render",value:function render(){var t,r=this.props,a=r.buttonStyle,i=r.value,o=r.width,c=r.zIndex;return this.props.items.forEach((function(r){r.value===i&&(t=r)})),l.a.createElement(h.a,{width:o,zIndex:c,activator:l.a.createElement(d.a,{isDisabled:this.props.isDisabled,onClick:this.props.onButtonClick,style:a,testSection:this.props.testSection,width:"full"},l.a.createElement("div",{className:"flex flex-align--center","data-track-id":this.props.trackId},l.a.createElement("span",{style:{overflow:"hidden"},className:"flex flex--1","data-test-section":"select-dropdown-displayed-text"},t.label),l.a.createElement(p.a,{className:"push--left",name:"angle-down",size:"small"})))},this.renderContents())}}]),SelectDropdown}(l.a.Component);y.propTypes={isFilterable:o.a.bool,inputPlaceholder:o.a.string,items:o.a.arrayOf(o.a.shape({description:o.a.string,label:o.a.string.isRequired,value:o.a.oneOfType([o.a.string.isRequired,o.a.number.isRequired,o.a.bool]).isRequired})).isRequired,value:o.a.oneOfType([o.a.string,o.a.number,o.a.bool]).isRequired,onChange:o.a.func.isRequired,width:o.a.oneOfType([o.a.string,o.a.number]),isDisabled:o.a.bool,minDropdownWidth:o.a.oneOfType([o.a.string,o.a.number]),dropdownDirection:o.a.oneOf(["right","left"]),testSection:o.a.string,trackId:o.a.string,buttonStyle:o.a.string,zIndex:o.a.number,onButtonClick:o.a.func},y.defaultProps={buttonStyle:"outline",isFilterable:!1,dropdownDirection:"right",width:"100%",trackId:"",testSection:"",onButtonClick:function onButtonClick(){}};var v=function(t){_inherits(SelectOption,t);var r=_createSuper(SelectOption);function SelectOption(){var t;_classCallCheck(this,SelectOption);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).onClick=function(){t.props.onChange(t.props.value)},t}return _createClass(SelectOption,[{key:"render",value:function render(){var t=this.props,r=t.isSelected,a=t.label,i=t.description,o=t.value;return l.a.createElement(h.f,{hideOnClick:!0},l.a.createElement(h.b,{isLink:!r,onClick:this.onClick,testSection:"dropdown-block-link-".concat(o)},a,i&&l.a.createElement("div",{className:"micro muted"},i)))}}]),SelectOption}(l.a.Component);v.propTypes={description:o.a.string,value:o.a.oneOfType([o.a.string,o.a.number,o.a.bool]).isRequired,label:o.a.string.isRequired,isSelected:o.a.bool.isRequired,onChange:o.a.func.isRequired},r.default=y},function(t,r,a){"use strict";var i=a(4),o=a(2),c=a(20),l=a(77);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var u={};function createDefaultEnvironmentConfig(t){return Object(o.toImmutable)({id:t.get("id"),is_primary:t.get("is_primary"),rollout_rules:[{audience_conditions:null,audience_ids:[],percentage_included:0,status:c.enums.EnvironmentStatus.NOT_STARTED}]})}function getPrimaryEnvironmentEntry(t){var r=_slicedToArray(t.get("environments",o.default.Map({})).findEntry((function(t){return t.get("is_primary")})),2),a=r[0];return{environmentKey:a,environmentName:a,environmentInfo:r[1]}}u={cleanAudiencesJson:function cleanAudiencesJson(t){var r=Object(i.cloneDeep)(t);return r.environments?(Object.values(r.environments).forEach((function deriveAudienceConfigfromAudiencesJson(t){(t.rollout_rules||[]).forEach((function(t){var r=t.audience_conditions_json;r&&(delete t.audience_conditions_json,t.audience_conditions=JSON.stringify(r),t.audience_ids=null,!r||r.length&&!r.every(i.isString)||(t.audience_conditions=null,t.audience_ids=[]))}))})),r):r},createFeatureEntity:function createFeatureEntity(t){return Object(i.extend)({},{archived:!1,api_name:"",description:"",variables:[]},t)},getDefaultValueForType:function getDefaultValueForType(t){return t===l.FEATURE_VARIABLE_TYPES.boolean?"false":t===l.FEATURE_VARIABLE_TYPES.integer?"0":t===l.FEATURE_VARIABLE_TYPES.double?"0.0":t===l.FEATURE_VARIABLE_TYPES.string?"":t===l.FEATURE_VARIABLE_TYPES.json?"{}":""},getPrimaryEnvironmentRolloutInfoOfFeature:function getPrimaryEnvironmentRolloutInfoOfFeature(t){return t.get("environments").find((function(t){return t.get("is_primary")}))},isFeatureRunningInRestrictedEnvironment:function isFeatureRunningInRestrictedEnvironment(t,r){return!(!t||!r)&&r.toList().filter((function(t){return t.get("has_restricted_permissions")})).map((function(t){return t.get("key")})).some((function(r){return t.get("environments").getIn([r,"rollout_rules"]).some((function(t){return t.get("status")===c.enums.EnvironmentStatus.RUNNING}))}))},isVariableValueInputValid:function isVariableValueInputValid(t,r){if("string"!=typeof t)return!1;switch(r){case l.FEATURE_VARIABLE_TYPES.boolean:return"true"===t||"false"===t;case l.FEATURE_VARIABLE_TYPES.double:return t.length>0&&!/[^0-9\-.]/.test(t);case l.FEATURE_VARIABLE_TYPES.integer:return t.length>0&&!/[^0-9-]/.test(t);case l.FEATURE_VARIABLE_TYPES.json:try{var a=JSON.parse(t);if(Array.isArray(a)||"boolean"==typeof a||"number"==typeof a||"string"==typeof a)return!1}catch(t){return!1}return!0;default:return!0}},createNewFeatureWithEnvironmentConfig:function createNewFeatureWithEnvironmentConfig(t,r){return Object(o.toImmutable)(u.createFeatureEntity({api_name:"",project_id:r,environments:_defineProperty({},t.get("name"),createDefaultEnvironmentConfig(t))}))},ensureDefaultEnvironmentConfig:function ensureDefaultEnvironmentConfig(t,r){return t.updateIn(["environments",r.get("key")],(function(t){return t||createDefaultEnvironmentConfig(r)}))},getPrimaryEnvironmentEntry:getPrimaryEnvironmentEntry,getIsFlagOnForEnvironment:function getIsFlagOnForEnvironment(t){var r=Object(o.toImmutable)(t);return function(t){return!!("running"===Object(o.toImmutable)(t).getIn(["environments",r.get("key"),"rollout_rules",0,"status"]))}},parseTraffic:function parseTraffic(t){return Math.round(100*parseFloat(t))},formatInitialPercentageIncluded:function formatInitialPercentageIncluded(t){return(t/100).toString()},updateRollout:function updateRollout(t,r,a){var i=getPrimaryEnvironmentEntry(t),c=i.environmentName,l=i.environmentInfo.setIn(["rollout_rules",0,r],a);return t.set("environments",Object(o.toImmutable)(_defineProperty({},c,l)))},getRolloutPropertyValue:function getRolloutPropertyValue(t,r){return getPrimaryEnvironmentEntry(t).environmentInfo.getIn(["rollout_rules",0,r])},ensureEnvironmentConfigs:function ensureEnvironmentConfigs(t,r){return r.reduce((function(t,r){return u.ensureDefaultEnvironmentConfig(t,r)}),t)},createNewFeatureWithEnvironmentConfigs:function createNewFeatureWithEnvironmentConfigs(t,r){var a=Object(o.toImmutable)(u.createFeatureEntity({api_name:"",project_id:r,environments:Object(o.toImmutable)({})}));return u.ensureEnvironmentConfigs(a,t)},formatPercentageIncluded:function formatPercentageIncluded(t){return(t/100).toString()},updateRolloutForEnvironment:function updateRolloutForEnvironment(t,r,a){var i=["environments",r.get("key"),"rollout_rules",0],o=t.getIn(i).merge(a);return t.setIn(i,o)}},r.a=u},function(t,r,a){"use strict";a.d(r,"a",(function(){return c})),a.d(r,"b",(function(){return l}));var i=a(45),o=a(360),c=i.default,l=o.default},function(t,r,a){"use strict";a.r(r),a.d(r,"temporaryTwoFactorToken",(function(){return p})),a.d(r,"totpCode",(function(){return m})),a.d(r,"password",(function(){return g})),a.d(r,"email",(function(){return h})),a.d(r,"recoverEmail",(function(){return y})),a.d(r,"lastSuccessfulAuth",(function(){return _})),a.d(r,"nextState",(function(){return v})),a.d(r,"passwordExpired",(function(){return E})),a.d(r,"csrfToken",(function(){return b})),a.d(r,"postSignInPath",(function(){return T})),a.d(r,"isFirstSignin",(function(){return S}));var i=a(42),o=a.n(i),c=a(182),l=a.n(c),u=a(123),d=a.n(u),p=["auth","lastSuccessfulAuth","two_factor_token"],m=["auth","totpCode"],g=["auth","password"],h=["auth","email"],y=[function(){return o.a.get("recover_email")}],v=["auth","nextState"],_=["auth","lastSuccessfulAuth"],E=["auth","lastSuccessfulAuth","account_enforced_password_is_expired"],b=["auth","lastSuccessfulAuth","csrf_token"],T=[[],function(){return d.a.v2Url(l.a.layersHome())}],S=["auth","lastSuccessfulAuth","is_first_signin"];r.default={temporaryTwoFactorToken:p,totpCode:m,password:g,email:h,recoverEmail:y,lastSuccessfulAuth:_,nextState:v,passwordExpired:E,csrfToken:b,postSignInPath:T,isFirstSignin:S}},function(t,r,a){"use strict";a.d(r,"a",(function(){return i})),a.d(r,"c",(function(){return o}));var i="PUBLIC_API_CONSUMER_ERROR",o={csrfMismatch:{MESSAGE:"Public API token fetch failed due to an invalid response CSRF token.",FINGERPRINT:"PUBLIC_API_TOKEN_FETCH_CSRF_MISMATCH_ERROR"},timeout:{MESSAGE:"Public API token fetch request timed out.",FINGERPRINT:"PUBLIC_API_TOKEN_FETCH_TIMEOUT_ERROR"},retryExhaustion:{MESSAGE:"Public API token fetch request timed out. Giving up.",FINGERPRINT:"PUBLIC_API_TOKEN_FETCH_RETRY_EXHAUSTION_ERROR",DEV_MESSSAGE:" **ACTION REQUIRED**, your local datastore needs to be seeded with a registered Oauth client!  See: https://github.com/optimizely/optimizely/blob/devel/src/www/docs/getting_started.md#seed-the-local-datastore-with-a-registered-application"},incompatibleEnvironment:{MESSAGE:"Cannot make public API requests in this environment.",FINGERPRINT:"PUBLIC_API_TOKEN_FETCH_ENVIRONMENT_ERROR"},expiredSession:{MESSAGE:"Public API token fetch failed due to an expired session.",FINGERPRINT:"PUBLIC_API_TOKEN_FETCH_EXPIRED_SESSION_ERROR"},iframeFailure:{MESSAGE:"Public API token fetch failed due to an error.",FINGERPRINT:"PUBLIC_API_TOKEN_FETCH_IFRAME_FAILURE_ERROR"},unauthorized:{MESSAGE:"Public API request was unauthorized.",FINGERPRINT:"PUBLIC_API_TOKEN_FETCH_UNAUTHORIZED_ERROR"},forbidden:{MESSAGE:"Public API request was forbidden.",FINGERPRINT:"PUBLIC_API_TOKEN_FETCH_FORBIDDEN_ERROR"},serviceException:{MESSAGE:"Public API request failed due to service error.",FINGERPRINT:"PUBLIC_API_TOKEN_FETCH_SERVICE_EXCEPTION_ERROR"},notFound:{MESSAGE:"Public API request could not find resource.",FINGERPRINT:"PUBLIC_API_TOKEN_FETCH_NOT_FOUND_ERROR"},generalHttpFailure:{MESSAGE:"Public API request failed.",FINGERPRINT:"PUBLIC_API_TOKEN_FETCH_GENERAL_HTTP_ERROR"}};r.b={TOKEN_NAME_PREFIX:"public_api.access_token",TOKEN_MESSAGE_DATA_EVENT_TYPE:"OPTLY_IMPLICIT_AUTH_DATA",TOKEN_MESSAGE_ERROR_EVENT_TYPE:"OPTLY_IMPLICIT_AUTH_ERROR",TOKEN_MESSAGE_SESSION_EXPIRED_EVENT_TYPE:"OPTLY_IMPLICIT_AUTH_SESSION_EXPIRED",TOKEN_FETCH_TIMEOUT_SECONDS:10,TOKEN_FETCH_MAX_ATTEMPTS:6,TOKEN_FETCH_TIMEOUT_RETRY_INCREMENT:4,TOKEN_FETCH_LOGOUT_SENTRY_FINGERPRINT:"TOKEN_FETCH_LOGOUT_SENTRY_FINGERPRINT",TOKEN_FETCH_TIMEOUT_SENTRY_FINGERPRINT:"TOKEN_FETCH_TIMEOUT_SENTRY_FINGERPRINT",PUBLIC_API_INIT_FAILURE_SENTRY_FINGERPRINT:"PUBLIC_API_INIT_FAILURE_SENTRY_FINGERPRINT",PUBLIC_API_REQUEST_FAILURE_SENTRY_FINGERPRINT:"PUBLIC_API_REQUEST_FAILURE_SENTRY_FINGERPRINT",BASE_ERROR_FINGERPRINT:i,errorTypes:o}},function(t,r,a){"use strict";a.r(r),a.d(r,"EntityTable",(function(){return P})),a.d(r,"pageableEntityTable",(function(){return R}));var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(9),d=a.n(u),p=a(2),m=a(3),g=a(28),h=a(44),y=a(168),v=a(945),_=a(390),E=a(64),b=a(561),T=a(2103),S=a(54),C=a(888),I=a.n(C);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var A=function getTableWrapperClasses(t){return d()({flex:!0,"flex--1":!0,"flex--column":!0,"soft-double--sides":!t.disableMargin,"soft-double--bottom":!0,"overflow-y--auto":!t.disableScrolling})},O=function getEntityTable(t){var r;return(r=function(r){_inherits(EntityTable,r);var a=_createSuper(EntityTable);function EntityTable(t){var r;return _classCallCheck(this,EntityTable),(r=a.call(this,t)).resetFilters=function(){r.props.resetFilters()},r.resetPagination=function(){var t=r.props.tableId;setTimeout((function(){return v.a.resetCurrentPage(t)}))},r.__unobserveQueue=[m.default.observe(h.e.filters(t.tableId),r.resetPagination),m.default.observe(_.b.sortData(t.tableId),r.resetPagination)],r}return _createClass(EntityTable,[{key:"componentWillUnmount",value:function componentWillUnmount(){for(;this.__unobserveQueue.length;)this.__unobserveQueue.shift()()}},{key:"render",value:function render(){var r=this.props,a=r.data,i=r.tableId,o=r.isLoading,c=r.disableScrolling,u=r.disableMargin,d=0===a.size;return l.a.createElement(S.default,{isLoading:o,className:A(this.props)},d&&!o&&l.a.createElement(I.a,{resetFilters:this.resetFilters,entityPlural:this.props.entityPlural,testSection:"entity-table-clear-filters-button"}),!d&&l.a.createElement(t,{tableId:i,data:this.props.data,pageSize:this.props.pageSize,renderTableHeader:this.props.renderTableHeader,renderTableRow:this.props.renderTableRow,defaultSortBy:this.props.defaultSortBy,style:this.props.style,density:this.props.density,tableLayoutAlgorithm:"auto",limit:this.props.filters.limit,testSection:this.props.testSection,shouldAddHover:this.props.shouldAddHover,disableMargin:u,disableScrolling:c}))}}]),EntityTable}(l.a.Component)).propTypes={tableId:o.a.string.isRequired,data:o.a.instanceOf(p.default.List).isRequired,renderTableHeader:o.a.func.isRequired,renderTableRow:o.a.func.isRequired,entityPlural:o.a.string.isRequired,resetFilters:o.a.func.isRequired,filters:o.a.object.isRequired,disableScrolling:o.a.bool,disableMargin:o.a.bool,defaultSortBy:o.a.oneOfType([o.a.object,o.a.array]),testSection:o.a.string,isLoading:o.a.bool,shouldAddHover:o.a.bool,pageSize:o.a.number,style:o.a.string,density:o.a.string},r.defaultProps={defaultSortBy:[],isLoading:!1,style:"rule-no-bottom-border",density:"loose"},r},P=Object(b.default)(O(Object(E.sortable)(E.TableComponent))),R=function pageableEntityTable(t){return Object(b.default)(O(Object(E.sortable)(function getPageableEntityTable(t){var r;return Object(T.a)(t)(Object(g.a)({isLoading:y.a.isLoading(t)})(r=function(t){_inherits(PageableWrapper,t);var r=_createSuper(PageableWrapper);function PageableWrapper(){return _classCallCheck(this,PageableWrapper),r.apply(this,arguments)}return _createClass(PageableWrapper,[{key:"render",value:function render(){var t=this.props,r=t.isLoading,a=t.renderControls,i=t.totalPages;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.TableComponent,t),(i>1||r)&&l.a.createElement("div",{className:"flex flex-justified--center soft-double--top"},a(r)))}}]),PageableWrapper}(l.a.Component))||r)}(t))))};r.default=P},function(t,r,a){"use strict";a.r(r);var i=a(262);a.d(r,"actions",(function(){return i.a}));var o=a(557);a.d(r,"entityDef",(function(){return o.a}));var c=a(141);a.d(r,"enums",(function(){return c.default}));var l=a(352);a.d(r,"fns",(function(){return l.default}));var u=a(308);a.d(r,"getters",(function(){return u.default})),r.default={actions:i.a,entityDef:o.a,enums:c.default,fns:l.default,getters:u.default}},,function(t,r,a){"use strict";var i=a(2),o=a(3),c=a(426),l=a(279),u=a(13),d=a(122),p=a(147);function selectEventPage(t){o.default.dispatch(d.a.RECOMMENDATIONS_SELECT_EVENT_PAGE,{viewId:t})}r.a={addTagToCurrentlyEditingEvent:function addTagToCurrentlyEditingEvent(t){o.default.dispatch(d.a.RECOMMENDATIONS_ADD_TAG_TO_CURRENTLY_EDITING_EVENT,{tag:t})},initialize:function initialize(){var t=o.default.evaluate(u.default.id);o.default.dispatch(d.a.RECOMMENDATIONS_INIT,{projectId:t})},initializeCurrentlyEditingCatalog:function initializeCurrentlyEditingCatalog(){var t=o.default.evaluate(u.default.id);o.default.dispatch(d.a.RECOMMENDATIONS_INIT_CURRENTLY_EDITING_CATALOG,{projectId:t})},removeEvent:function removeEvent(t){o.default.dispatch(d.a.RECOMMENDATIONS_REMOVE_EVENT,{event:t})},removeTagToCurrentlyEditingEvent:function removeTagToCurrentlyEditingEvent(t){o.default.dispatch(d.a.RECOMMENDATIONS_REMOVE_TAG_FROM_CURRENTLY_EDITING_EVENT,{tag:t})},saveSettings:function saveSettings(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=o.default.evaluate(p.a.catalogForSave),a=c.a.save(r);if(t){var i=o.default.evaluateToJS(u.default.project),d=i.recommender_service_ids||[];return a.then((function(t){return d.push(t.id),l.default.save({id:i.id,recommender_service_ids:d}),t}))}return a},selectEventPage:selectEventPage,setCatalog:function setCatalog(t){o.default.dispatch(d.a.RECOMMENDATIONS_SET_CATALOG,{catalog:t})},setCurrentlyEditingCatalog:function setCurrentlyEditingCatalog(t){o.default.dispatch(d.a.RECOMMENDATIONS_SET_CURRENTLY_EDITING_CATALOG,{catalog:t})},setCurrentlyEditingEvent:function setCurrentlyEditingEvent(t){o.default.dispatch(d.a.RECOMMENDATIONS_SET_EDITING_EVENT,{event:t}),selectEventPage(o.default.evaluate(p.a.eventPages).first().get("id"))},setCurrentlyEditingRecommender:function setCurrentlyEditingRecommender(t){o.default.dispatch(d.a.RECOMMENDATIONS_SET_EDITING_RECOMMENDER,{recommender:t})},updateCurrentlyEditingRecommenderProperty:function updateCurrentlyEditingRecommenderProperty(t,r){o.default.dispatch(d.a.RECOMMENDATIONS_UPDATE_EDITING_RECOMMENDER_PROPERTY,{property:t,value:r})},updateCurrentlyEditingRecommenderSpecificsAddEvent:function updateCurrentlyEditingRecommenderSpecificsAddEvent(t,r){var a=o.default.evaluate(p.a.currentlyEditingRecommenderSpecificsField(t)).push(Object(i.toImmutable)({id:r.get("id"),kind:r.get("kind")}));o.default.dispatch(d.a.RECOMMENDATIONS_UPDATE_EDITING_RECOMMENDER_SPECIFICS_PROPERTY,{property:t,value:a})},updateCurrentlyEditingRecommenderSpecificsRemoveEvent:function updateCurrentlyEditingRecommenderSpecificsRemoveEvent(t,r){var a=o.default.evaluate(p.a.currentlyEditingRecommenderSpecificsField(t)).filter((function(t){return t.get("id")!==r.get("id")||t.get("kind")!==r.get("kind")}));o.default.dispatch(d.a.RECOMMENDATIONS_UPDATE_EDITING_RECOMMENDER_SPECIFICS_PROPERTY,{property:t,value:a})},updateEvent:function updateEvent(t){o.default.dispatch(d.a.RECOMMENDATIONS_UPDATE_EVENT,{event:t})},updateForCatalog:function updateForCatalog(t){o.default.dispatch(d.a.RECOMMENDATIONS_UPDATE_FOR_CATALOG,{value:t})},updateProperty:function updateProperty(t,r){o.default.dispatch(d.a.RECOMMENDATIONS_UPDATE_PROPERTY,{property:t,value:r})}}},function(t,r,a){"use strict";var i=a(17),o=a.n(i),c=o()({HELP_CENTER_HOME:null,CHOOSE_CATEGORY:null,CHOOSE_CASE_TYPE:null,REQUEST_FORM:null,TICKET_STATUS:null}),l=o()({FEEDBACK_INPUT:null,CONFIRMATION:null}),u=o()({PRODUCT_FEEDBACK:null,SUPPORT:null,ONBOARDING_FEEDBACK:null}),d=o()({BILLING:null,ACCOUNT:null,DEVELOPER:null,OASIS:null,WEB:null,FREE_ROLLOUTS:null}),p=o()({ENTITY_ID:null,SDK_LANGUAGE:null,SDK_VERSION:null,PRIORITY:null}),m={BILLING:{value:"BILLING",text:"Billing",CASE_TYPE_CATEGORY:d.BILLING},ACCOUNT:{value:"ACCOUNT",text:"Account and Privacy",CASE_TYPE_CATEGORY:d.ACCOUNT},DEVELOPER:{value:"DEVELOPER",text:"Developer Support (REST API, etc.)",CASE_TYPE_CATEGORY:d.DEVELOPER},FREE_ROLLOUTS:{value:"FREE_ROLLOUTS",text:"Optimizely Rollouts",CASE_TYPE_CATEGORY:d.FREE_ROLLOUTS},X_FULL_STACK:{value:"X_FULL_STACK",text:"Optimizely X Full Stack",CASE_TYPE_CATEGORY:d.OASIS},X_MOBILE:{value:"X_MOBILE",text:"Optimizely X Mobile (iOS/Android)",CASE_TYPE_CATEGORY:d.OASIS},X_OTT:{value:"X_OTT",text:"Optimizely X OTT",CASE_TYPE_CATEGORY:d.OASIS},X_WEB_EDGE:{value:"X_WEB_EDGE",text:"Optimizely X Web Edge",CASE_TYPE_CATEGORY:d.WEB},X_WEB_EXPERIMENTATION:{value:"X_WEB_EXPERIMENTATION",text:"Optimizely X Web Experimentation",CASE_TYPE_CATEGORY:d.WEB},X_WEB_PERSONALIZATION:{value:"X_WEB_PERSONALIZATION",text:"Optimizely X Web Personalization",CASE_TYPE_CATEGORY:d.WEB},X_WEB_RECOMMENDATIONS:{value:"X_WEB_RECOMMENDATIONS",text:"Optimizely X Web Recommendations",CASE_TYPE_CATEGORY:d.WEB},PROGRAM_MANAGEMENT:{value:"PROGRAM_MANAGEMENT",text:"Program Management",CASE_TYPE_CATEGORY:d.PROGRAM_MANAGEMENT}},g=o()({CODE_SAMPLES:null,DOCUMENTATION_ERRORS:null,REST_API:null,SDK_INSTALLATION:null,SDK_TROUBLESHOOTING:null,EDITOR_LOADING:null,ACCOUNT_SETTINGS:null,EXPERIMENT_QA:null,EXPERIMENT_SETUP:null,GOALS:null,INTEGRATIONS:null,OTHER:null,RESULTS:null,SALES_BILLING:null}),h=o()({SUCCESS:null,DEFERRED:null});r.a={CaseTypeCategory:d,categories:m,caseType:g,detectManagingTeamByContinent:{NA:"managing_team_us",SA:"managing_team_us",EU:"managing_team_emea",AF:"managing_team_emea",AS:"managing_team_apac",OC:"managing_team_apac"},DROPZONE:{MAX_CHECKS_ALLOWED:10,MAX_FILE_SIZE_ERROR_SUBSTRING:"File is too big",FILE_TOO_BIG_ERROR:"Max file size: 10 MB",MAX_FILE_SIZE_ALLOWED:10,FILE_TOO_LARGE_HTTP_STATUS_CODE:413},feedbackView:l,fields:p,ORGANIZATION_INFO:{NONE_AVAILABLE:{name:"No organizations available",id:"no_organization_available"},DEFAULT:{name:"-",id:"-"}},PRIORITIES:[{label:"1 - Critical: Your website or application is unusable or unresponsive",value:"urgent"},{label:"2 - Urgent: Key features of the Optimizely Platform are unusable",value:"high"},{label:"3 - High: Normal usage of the Optimizely Platform is affected",value:"normal"},{label:"4 - Medium: Low-impact issue/request for information",value:"low"}],PrioritySupportLink:"https://outlook.office365.com/owa/calendar/ExperimentationSupport1@episerver99.onmicrosoft.com/bookings/",requestStatus:h,SDK_LANGUAGES:{FULL_STACK:[{label:"-",value:"-"},{label:"C#",value:"c_sharp_sdk"},{label:"Java",value:"java_sdk"},{label:"JavaScript",value:"javascript_sdk"},{label:"Node",value:"node_sdk"},{label:"PHP",value:"php_sdk"},{label:"Python",value:"python_sdk"},{label:"Ruby",value:"ruby_sdk"}],MOBILE:[{label:"-",value:"-"},{label:"Android",value:"android_sdk"},{label:"iOS (Objective-C)",value:"objective_c_sdk"},{label:"iOS (Swift)",value:"swift_sdk"}],OTT:[{label:"-",value:"-"},{label:"Android TV",value:"android_tv_sdk"},{label:"tvOS (Objective-C)",value:"tv_os_objective_c_sdk"},{label:"tvOS (Swift)",value:"tv_os_swift_sdk"}]},steps:c,ticketType:u}},function(t,r,a){"use strict";var i=a(1325);a.d(r,"a",(function(){return i.a}));var o=a(618);a.d(r,"b",(function(){return o.a}));i.a,o.a},,function(t,r,a){"use strict";a.d(r,"b",(function(){return isLoading})),a.d(r,"c",(function(){return isPageLoading}));var i=a(465);function isLoading(t,r){var a=r?"".concat(t).concat(i.a).concat(r):t;return[[i.b,"loading",a],function(t){return!!t}]}function isPageLoading(t,r){return isLoading(t,r)}r.a={isEntityLoading:function isEntityLoading(t,r){return[[i.b,"entitiesLoading",t],function(t){return!!t&&(r?!!t.get(r):t.filter((function(t){return!!t})).size>0)}]},isLoading:isLoading,isPageLoading:isPageLoading}},function(t,r,a){"use strict";var i=a(126),o=a(465),c=a(1179),l=a(167);a.d(r,"a",(function(){return l.a}));i.a,o.c,c.a,l.a},function(t,r,a){"use strict";var i=a(1201);a.d(r,"a",(function(){return i.a}));var o=a(462),c=a(1203),l=a(1204),u=a(803);a.d(r,"b",(function(){return u.a}));i.a,o.a,c.a,l.a,u.a},function(t,r,a){var i=a(1515),o=["name","value","match_type","type"];t.exports=function ConditionGroup(t){var r=this;this.IS_GROUP=!0,this.type=t,this.negate=!1,this.conditions=[],this.removeCondition=function(t){var a=r.conditions.indexOf(t);-1!==a&&r.conditions.splice(a,1)},this.deleteEmptyConditions=function(){var t=!1;return r.conditions.forEach((function(a,i){if(a.IS_GROUP)if(0===a.conditions.length)r.conditions.splice(i,1),t=!0;else{var o=a.deleteEmptyConditions();t||(t=o)}})),t&&r.deleteEmptyConditions(),t},this.serialize=function(){if(!this.type&&this.conditions.length>0)throw new Error("Type cannot be undefined to call serialize()");if(!this.type)return[];var t=[r.type];return r.conditions.forEach((function(r){if(r.IS_GROUP)t.push(r.serialize());else{var a={};o.forEach((function(t){Object.prototype.hasOwnProperty.call(r,t)&&void 0!==r[t]&&(a[t]=r[t])})),t.push(a)}})),r.negate&&(t=["not",t]),t},this.load=function(t){if(r.conditions=[],0!==t.length){var a=t;if("not"===a[0]){if(r.negate=!0,a.length>2)throw new Error("`not` is unary operator, cannot have multiple conditions or condition groups");var c=a[1];if(Array.isArray(c))r.load(c);else{if(!i(c))throw new Error("Expecting Array or Object, got: ".concat(JSON.stringify(c)));r.load(["or",c])}}else{if(!/^and|or$/.test(a[0]))throw new Error("Expecting and|or, got: ".concat(a[0]));r.type=a[0],a.slice(1).forEach((function(t){if(Array.isArray(t)){var a=new ConditionGroup;a.load(t),r.conditions.push(a)}else{if(!i(t))throw new Error("Expecting Array or Object, got: ".concat(JSON.stringify(t)));var c={};o.forEach((function(r){Object.prototype.hasOwnProperty.call(t,r)&&(c[r]=t[r])})),r.conditions.push(c)}}))}}}}},,function(t,r,a){"use strict";a.r(r),a.d(r,"pageTypes",(function(){return o})),a.d(r,"activationModes",(function(){return c})),a.d(r,"conditionGroupTypes",(function(){return l})),a.d(r,"conditionMatchTypes",(function(){return u})),a.d(r,"defaultConditionConfigs",(function(){return d}));var i;a(31);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var o={SINGLE_URL:"single_url",URL_SET:"url_set",GLOBAL:"global"},c={IMMEDIATE:"immediate",MANUAL:"manual",POLLING:"polling",CALLBACK:"callback",URL_CHANGED:"url_changed",DOM_CHANGED:"dom_changed"},l={OR:"or",AND:"and"},u={URL:"url",ELEMENT_PRESENT:"element_present",CUSTOM_CODE:"custom_code"},d=(_defineProperty(i={},u.URL,{value:"",match_type:"simple",type:"url"}),_defineProperty(i,u.ELEMENT_PRESENT,{value:"",type:"element_present"}),_defineProperty(i,u.CUSTOM_CODE,{value:"/**\n * Sample JavaScript Condition\n * This function is called after the page is triggered.\n * It should return true when the page is ready to activate.\n ".concat("*\n * Editor now supports ES6 compliant code. Note that adding ES6\n * specific code to an experiment will break for users running\n * ES5-only browsers as code entered is not transpiled down to ES5.",'\n */\n\nfunction jsCondition() {\n  return globalConfig.pageType === "PDP";\n}'),type:"custom_code"}),i);r.default={activationModes:c,conditionGroupTypes:l,conditionMatchTypes:u,defaultConditionConfigs:d,pageTypes:o}},function(t,r,a){"use strict";a.d(r,"a",(function(){return u})),a.d(r,"b",(function(){return d})),a.d(r,"d",(function(){return p})),a.d(r,"e",(function(){return m}));var i=a(2716),o=a(474),c=a(1027),l=a(2717),u=i.a,d=o.a,p=c.a,m=l.a;r.c={actions:u,constants:d,fns:p,getters:m}},,,,function(t,r,a){var i=a(3),o=a(1953);r.showCustomCodePanel=function(t){i.dispatch(o.CUSTOM_CODE_PANEL_VISIBILITY_SET,{shown:t})},r.setCustomCodePanelTab=function(t){i.dispatch(o.CUSTOM_CODE_PANEL_TAB_SET,{tab:t})},r.setCustomCodeTabDirty=function(t,r){i.dispatch(o.CUSTOM_CODE_TAB_DIRTY_SET,{tab:t,isDirty:r})},r.resetCustomCodeTabsDirty=function(){i.dispatch(o.CUSTOM_CODE_TABS_DIRTY_RESET)}},function(t,r,a){"use strict";a.r(r),a.d(r,"getDialogManager",(function(){return getDialogManager})),a.d(r,"showDialog",(function(){return showDialog})),a.d(r,"hideDialog",(function(){return hideDialog})),a.d(r,"showReactDialog",(function(){return showReactDialog}));var i=a(4),o=a.n(i),c=a(3),l=a(2175),u=a(392),d=a.n(u),p=a(469),m=a(386),g=function whenManagerReady(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];var o=function waitForManager(){return Object(p.b)(getDialogManager,3,5).then(getDialogManager)},c=getDialogManager();return c?c[t].apply(c,a):o().then((function(r){return r[t].apply(r,a)}))};function getDialogManager(){var t=c.default.evaluate(m.a.dialogManager);return t||console.warn("No DialogManager component instantiated and registered globally"),t}function showDialog(t){return g("showDialog",t)}function hideDialog(){return g("hideDialog")}function showReactDialog(t,r,a){return showDialog(o.a.merge({component:d.a.extendComponent(l.a,{component:t,dataBindings:r&&r.dataBindings||{},props:r&&r.props||{}})},a||{}))}r.default={getDialogManager:getDialogManager,showDialog:showDialog,hideDialog:hideDialog,showReactDialog:showReactDialog}},function(t,r,a){"use strict";var i=a(17),o=a.n(i);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var c=o()({CHANGE_HISTORY_DAYS:null,RUNNING_EXPERIMENT_LIMIT:null,NUMBER_OF_SEATS_LIMIT:null}),l=o()({CHANGE_HISTORY_DATE_PICKER:null,CHANGE_HISTORY_TABLE_FOOTER:null,INVITE_COLLABORATORS_FOOTER:null}),u={UPGRADE_LINK:"https://www.optimizely.com/plans",PP2020_UPGRADE_LINK:"https://www.optimizely.com/compare-rollouts-plans/",GLOBAL_NAV_BUTTON_TEXT:"See Upgrade Options",GLOBAL_NAV_SUBHEADING_TEXT:"Expand your Rollouts feature set",UPSELL_DIALOG_BUTTON_TEXT:"View upgrade options"};r.a={GENERIC_PLANS_PAGE_LINK:"https://www.optimizely.com/plans",FeatureLimitTypes:c,FeatureLimitUIs:l,UpgradeVariables:u,UpgradeDialogHeaders:{UPGRADE_TO_ROLLOUTS_PLUS:"Do more with Rollouts Plus",GENERIC_UPGRADE:"Upgrade for more"},UpgradeDialogMessages:function UpgradeDialogMessages(t){var r;return _defineProperty(r={},c.CHANGE_HISTORY_DAYS,"For access to an unlimited log of changes, upgrade your plan."),_defineProperty(r,c.RUNNING_EXPERIMENT_LIMIT,"You can create unlimited feature tests, but only run ".concat(t," at a time. To start this feature test, pause a running test or upgrade your account.")),_defineProperty(r,c.NUMBER_OF_SEATS_LIMIT,"You have reached your limit of ".concat(t," users. To add more, upgrade your plan.")),r}}},function(t,r,a){"use strict";var i=a(1323);a.d(r,"a",(function(){return i.a}));var o=a(828);a.d(r,"b",(function(){return o.a}));i.a,o.a},,function(t,r,a){var i=a(12),o=a(4),c=a(497),l=a(123),u=a(10).default,d=a(72),p=a(7),m={p13nAllAudiences:function(t,r){return d("/v2/projects/%s/results/%s",t,r)},experimentEdit:function(t){var r=t.experimentId,a=c.create("/edit");if(r)return a.param("experiment_id",r),t.platform&&a.param("platform",t.platform),a.toString();var o=t.name?i.trim(t.name):"",l=t.url?i.trim(t.url):"",u=t.projectId?i.trim(t.projectId):"";return l?(a.param("url",l),o&&a.param("name",o),u&&a.param("project_id",u),a.toString()):""},customProjectExperimentEdit:function(t){var r,a,i=t.projectId,o=t.experimentId;return i?o?(r=d("/projects/%s/experiments/%s",i,o),a=c.create(r)):(r=d("/projects/%s",i),a=c.create(r)):a=c.create("/projects"),a},classicAudiencesHome:function(t,r){return d("/projects/%s/audiences/%s",t,r)},classicDimensionsDashboard:function(t,r){return d("/projects/%s/dimensions/%s",t,r)},p13nAudiencesHome:function(t){return d("/v2/projects/%s/audiences",t)},p13nAttributesDashboard:function(t){return d("/v2/projects/%s/audiences/attributes",t)},p13nAudienceCreate:function(t){var r=[t,"audiences","create"];return c.create("/v2/projects/".concat(r.join("/"))).toString()},layerEdit:function(t,r){return d("/v2/projects/%s/campaigns/%s",t,r)},aBLayerResults:function(t,r,a){var i=d("/results2?layer_id=%s",r),o=c.create(i);return a&&o.param(a),l.optimizelyHRDUrl(o.toString())},layerDetail:function(t,r){return d("/v2/projects/%s/layers/%s/detail",t,r)},experimentResults:function(t){var r=c.create("/results");return r.param("experiment_id",t),r.toString()},dashboard:function(t,r){return m.dashboardTab(t,r)},projectHome:function(t,r){return r===p.project_platforms.CUSTOM?m.oasisHome(t):m.layersHome(t)},layersHome:function(t){return t?d("/v2/projects/%s",t):"/v2"},layersCreate:function(t){return d("/v2/projects/%s/campaigns/create",t)},dashboardTab:function(t,r,a,i){if(!t)return"/projects";var c=["/projects",t,r=r||"experiments"],l=[];a&&c.push(a);var u=c.join("/");return o.each(i,(function(t,r){l.push("".concat(r,"=").concat(encodeURIComponent(t)))})),l.length>0&&(u+="?".concat(l.join("&"))),u},accountDashboardTab:function(t,r){var a=["/accountsettings",t=t||"apps"];return r&&a.push(r),a.join("/")},sdkEmailInstructions:function(t,r,a){var i=c.create("/mobile/".concat(r,"/email"));return i.param("project_id",t),i.param("email_action",a),i.toString()},sdkInstallInstructions:function(t,r){var a=c.create("/mobile/".concat(r,"/install"));return a.param("project_id",t),a.toString()},sdkUpdateInstructions:function(t,r){var a=c.create("/mobile/".concat(r,"/update"));return a.param("project_id",t),a.toString()},viewsCreate:function(t){return d("/v2/projects/%s/implementation/pages/create",t)},viewsEdit:function(t,r){return d("/v2/projects/%s/implementation/pages/%s",t,r)},dataLayerTab:function(t,r){var a="pages";return r===u.DataLayerTabs.EVENT_TAB?a="events":r===u.DataLayerTabs.PLUGIN_TAB&&(a="extensions"),d("/v2/projects/%s/implementation/%s",t,a)},eventsEdit:function(t,r,a){return d("/v2/projects/%s/implementation/pages/%s/events/%s",t,a,r)},createClickEvent:function(t,r){return d("/v2/projects/%s/implementation/pages/%s/events/create",t,r)},manageProjects:function(t){return t?l.optimizelyHRDUrl("/projects/manage"):"/projects/manage"},plansAndPricing:function(){return l.optimizelyHRDUrl("/plans")},oasisHome:function(t){return d("/v2/projects/%s/experiments",t)},oasisImplementationTab:function(t){return d("/v2/projects/%s/implementation/%s",t,"events")}};t.exports=m},,,function(t,r,a){"use strict";a.r(r),a.d(r,"addGlobalCustomAttributes",(function(){return addGlobalCustomAttributes})),a.d(r,"addCustomAttributes",(function(){return addCustomAttributes})),a.d(r,"trackHeroElement",(function(){return trackHeroElement})),a.d(r,"addPageAction",(function(){return addPageAction})),a.d(r,"trackRouteComplete",(function(){return trackRouteComplete})),a.d(r,"trackPageReady",(function(){return trackPageReady})),a.d(r,"trackPageReadyAB",(function(){return trackPageReadyAB})),a.d(r,"trackRouteWithFrontendComplete",(function(){return trackRouteWithFrontendComplete})),a.d(r,"trackPageReadyP13N",(function(){return trackPageReadyP13N})),a.d(r,"trackDashboardPageReady",(function(){return trackDashboardPageReady})),a.d(r,"trackPageReadyWhenLoaded",(function(){return trackPageReadyWhenLoaded})),a.d(r,"trackXHRComplete",(function(){return trackXHRComplete})),a.d(r,"trackDataReady",(function(){return trackDataReady})),a.d(r,"trackDataReadyWhenLoaded",(function(){return trackDataReadyWhenLoaded})),a.d(r,"trackEditorIframeWebDoneLoading",(function(){return trackEditorIframeWebDoneLoading})),a.d(r,"trackFrontdoorTokenRequest",(function(){return trackFrontdoorTokenRequest})),a.d(r,"trackSearchApiReindexing",(function(){return trackSearchApiReindexing})),a.d(r,"trackSearchQueryRequestCompleted",(function(){return trackSearchQueryRequestCompleted})),a.d(r,"trackSearchHydrationRequestCompleted",(function(){return trackSearchHydrationRequestCompleted}));var i=a(12),o=a.n(i),c=a(4),l=a.n(c),u=(a(31),a(512)),d=a.n(u),p=a(3),m=a(318),g=a(145),h=a(37),y=a(13),v=a(275),_=a(420);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function when(t){return Array.isArray(t)?o.a.when.apply(o.a,_toConsumableArray(t)):o.a.when(t)}function getCompanyName(){return p.default.evaluate(h.default.companyName)}function addGlobalCustomAttributes(t,r){window.newrelic&&window.newrelic.setCustomAttribute(t,r)}function addCustomAttributes(t,r){window.newrelic&&window.newrelic.setCustomAttribute(t,r)}function setPerformanceAttributes(){var t=p.default.evaluateToJS(_.a.defaultAttributes()),r=getCompanyName(),a=p.default.evaluateToJS(y.default.isFullStackProject).toString();t&&(addCustomAttributes("isFullstack",a),addCustomAttributes("project_id",t.project_id),addCustomAttributes("project_name",t.project_name),addCustomAttributes("account_id",p.default.evaluate(h.default.id)),addCustomAttributes("company_name",r),addCustomAttributes("pathname",window.location.pathname))}function trackFirstContentfulPaint(){var t=p.default.evaluate(m.a.routesCompleted)<=1,r=window.performance.getEntriesByName("first-contentful-paint")[0];return t&&window.performance&&r?r.startTime:null}function trackHeroElement(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=g.a.setPerformanceMark(t);if(a){Object.keys(r).forEach((function(t){addCustomAttributes(t,r[t])})),addCustomAttributes(t,a);var i=g.a.getLatestPerformanceMark("route_start"),o=a-i;addCustomAttributes("".concat(t,"_since_route_change"),o);var c=p.default.evaluate(m.a.routesCompleted)||0;addCustomAttributes("number_route_changes",c),setPerformanceAttributes()}}function addPageAction(t,r){var a=_extends({},p.default.evaluateToJS(_.a.defaultAttributes(r)),r);window.newrelic&&window.newrelic.addPageAction(t,a)}function trackRouteComplete(t){var r=t.toPath,a=t.fromPath,i=t.duration;addPageAction(v.a.actionName.ROUTE_COMPLETE,{toPath:r,fromPath:a,duration:i,isRouting:!0})}function trackPageReady(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.attributes,i=void 0===a?{}:a,o=_extends({},i,{page_name:t}),c=p.default.evaluate(m.a.routeStartTime);c&&(o.route_start_time=d.a.getNow()-c);var l=p.default.evaluate(m.a.frontendRenderStartTime);l&&(o.frontend_render_duration=d.a.getNow()-l),this.addPageAction(v.a.actionName.PAGE_READY,o)}function trackPageReadyAB(t,r){var a=_extends({},r||{},{product:v.a.products.AB});this.trackPageReady(t,{attributes:a})}function trackRouteWithFrontendComplete(t){var r,a=d.a.getNow(),i=a-p.default.evaluate(m.a.frontendRenderStartTime),o=a-p.default.evaluate(m.a.routeStartTime);p.default.evaluate(m.a.routesCompleted)<=1&&window.performance&&window.performance.now&&(r=window.performance.now()),addPageAction(v.a.actionName.ROUTE_WITH_FRONTEND_COMPLETE,{page_name:t,render_duration:i,route_duration:o,e2e_duration:r,first_contentful_paint:trackFirstContentfulPaint()})}function trackPageReadyP13N(t,r){this.trackRouteWithFrontendComplete(t);var a=getCompanyName(),i=_extends({},r||{},{product:v.a.products.P13N,company_name:a});this.trackPageReady(t,{attributes:i})}function trackDashboardPageReady(t,r){this.trackRouteWithFrontendComplete(t);var a=getCompanyName(),i=_extends({},p.default.evaluateToJS(_.a.defaultAttributes()),r||{},{company_name:a});this.trackPageReady(t,{attributes:i})}function trackPageReadyWhenLoaded(t,r,a){var i=this;when(r).always((function(){i.trackPageReady(t,{attributes:a})}))}function trackXHRComplete(t,r,a){var i=function track(r,i){l.a.isFunction(a)&&(a=a(r));var o=_extends({},a,{request_key:t,status_code:r.status,status_text:i});addPageAction(v.a.actionName.XHR_COMPLETE,o)};r.then((function(t,r,a){return i(a,r)}),i)}function trackDataReady(t,r,a,i,o,c){var l=_extends({},c,{is_cached_data:r,page_name:t,retry_count:o,time_to_data:a,total_render_time:i});addPageAction(v.a.actionName.DATA_READY,l)}function trackDataReadyWhenLoaded(t,r,a){when(r).always((function(){trackDataReady(t,a)}))}function trackEditorIframeWebDoneLoading(t){addPageAction(v.a.actionName.EDITOR_IFRAME_WEB_DONE_LOADING,t)}function trackFrontdoorTokenRequest(t){var r=t.didSucceed,a=void 0!==r&&r,i=t.didTimeout,o=void 0!==i&&i,c=t.didError,l=void 0!==c&&c,u=t.didLogout,d=void 0!==u&&u,p=t.retries,m=void 0===p?0:p,g=t.maxAttempts;addPageAction(v.a.actionName.PUBLIC_API_TOKEN_FETCH_COMPLETED,{didSucceed:a,didTimeout:o,didError:l,didLogout:d,retries:m,maxAttempts:g})}function trackSearchApiReindexing(t){var r=t.didSearchApiRequestSucceed,a=void 0!==r&&r,i=t.didSearchApiRequestError,o=void 0!==i&&i,c=t.entity,l=void 0===c?null:c,u=t.searchQueryDuration,d=void 0===u?null:u,p=t.successfullyReindexed,m=void 0!==p&&p,g=t.testDelayDuration,h=void 0===g?null:g;addPageAction(v.a.actionName.SEARCH_API_REINDEX_TEST_COMPLETED,{didSearchApiRequestSucceed:a,didSearchApiRequestError:o,entity:l,successfullyReindexed:m,testDelayDuration:h,searchQueryDuration:d})}function trackSearchQueryRequestCompleted(t){var r=t.requestDuration,a=void 0===r?null:r,i=t.didUseBridgeApi,o=void 0!==i&&i;addPageAction(v.a.actionName.SEARCH_QUERY_REQUEST_COMPLETED,{requestDuration:a,didUseBridgeApi:o})}function trackSearchHydrationRequestCompleted(t){var r=t.requestDuration,a=void 0===r?null:r,i=t.dashboardName;addPageAction(v.a.actionName.SEARCH_HYDRATION_REQUEST_COMPLETED,{requestDuration:a,dashboardName:i})}r.default={addPageAction:addPageAction,trackDataReady:trackDataReady,trackDataReadyWhenLoaded:trackDataReadyWhenLoaded,trackEditorIframeWebDoneLoading:trackEditorIframeWebDoneLoading,trackFrontdoorTokenRequest:trackFrontdoorTokenRequest,trackHeroElement:trackHeroElement,trackPageReady:trackPageReady,trackPageReadyAB:trackPageReadyAB,trackPageReadyP13N:trackPageReadyP13N,trackPageReadyWhenLoaded:trackPageReadyWhenLoaded,trackDashboardPageReady:trackDashboardPageReady,trackRouteComplete:trackRouteComplete,trackRouteWithFrontendComplete:trackRouteWithFrontendComplete,trackSearchApiReindexing:trackSearchApiReindexing,trackXHRComplete:trackXHRComplete,trackSearchQueryRequestCompleted:trackSearchQueryRequestCompleted,trackSearchHydrationRequestCompleted:trackSearchHydrationRequestCompleted,addGlobalCustomAttributes:addGlobalCustomAttributes}},function(t,r,a){"use strict";var i=Math.pow(1e3,2),o=Math.pow(1e3,3),c=function round(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.isFinite(t)?Math.round(t*Math.pow(10,r))/Math.pow(10,r):null},l=function formatWholeNumber(t){return Number.isFinite(t)?tr.number(t,0):"--"},u=function formatFloatAsFloatOrWholeForDisplay(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return Number.isFinite(t)?Math.floor(t)===t?tr.number(t,0):tr.number(t,r):"--"},d=function formatPercent(t){return c(100*t,2)},p=function formatLift(t,r){var a=t;return Number.isFinite(a)?(r||(a=d(a)),"".concat((a>0?"+":"")+(a>=1e3?l(a):a),"%")):"--"},m=function formatRevenue(t){return Number.isFinite(t)?t/100:"--"},g=function formatPriceForDisplay(t,r,a,i){if(!Number.isFinite(t))return"--";var o=t;r||(o=m(t)),o=Math.abs(o);var c=i?a.symbol+Math.round(100*o)/100:o.toLocaleString(a.locale,{style:"currency",currency:a.code});return"USD"===a.code&&(0===c.indexOf("USD")&&(c=c.replace("USD","$")),0===c.indexOf("US$")&&(c=c.replace("US$","$"))),t<0?"-".concat(c):c};r.a={formatFloatAsFloatOrWholeForDisplay:u,formatFloatForDisplay:function formatFloatForDisplay(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return Number.isFinite(t)?tr.number(t,r):"--"},formatIncrease:function formatIncrease(t){return Number.isFinite(t)?(t>0?"+":"")+tr.number(t,2,!0):"--"},formatLift:p,formatNumberForDisplay:function formatNumberForDisplay(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.isFinite(t)?tr.number(t,r):"--"},formatBigNumberForDisplay:function formatBigNumberForDisplay(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!Number.isFinite(t))return"--";var a=Math.abs(t);return a=a<1e3?u(a,r):a<i?"".concat(u(a/1e3,r),"K"):a<o?"".concat(u(a/i,r),"M"):"".concat(u(a/o,r),"B"),t<0&&(a="-".concat(a)),a},formatPercent:d,formatPercentagePoint:function formatPercentagePoint(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Number.isFinite(t)?"".concat(t>=0?"+":"").concat(tr.number(t*(r?1:100),2),"pp"):"--"},formatPercentForDisplay:function formatPercentForDisplay(t){return Number.isFinite(t)?"".concat(tr.number(100*t,2),"%"):"--"},formatPercentLift:function formatPercentLift(t){return p(t,!1)},formatPriceForDisplay:g,formatPriceLift:function formatPriceLift(t,r,a,i){var o=g(t,r,a,i);return"".concat(t>=0?"+":"").concat(o)},formatRevenue:m,formatStatSig:function formatStatSig(t){return Number.isFinite(t)?t>=.991?">99%":t<=.009?"<1%":"".concat(tr.number(100*t,0),"%"):"--"},formatWholeNumber:l,round:c}},,,function(t,r,a){"use strict";var i=a(38),o=a(14),c=a(121),l=a(29),u={trackClicksChange:["track_clicks_change"],trackClicksChangeName:["track_clicks_change","name"],trackClicksChangeIsEnabled:["track_clicks_change","enabled"],trackClicksChangeSelector:["track_clicks_change","selector"],trackClicksChangeViewId:["track_clicks_change","viewId"],trackClicksChangeEventId:["track_clicks_change","eventId"],selectedViewId:["p13n/editor","selectedViewId"]};u.campaignEventWithMatchingId=[i.getters.layerEvents,u.trackClicksChangeEventId,function(t,r){if(r)return t.find((function(t){return t.get("id")===r}))}],u.campaignEventsForView=[i.getters.layerEvents,u.selectedViewId,function(t,r){return t.filter((function(t){return t.getIn(["event_filter","filter_type"])===c.a.filterTypes.TARGET_SELECTOR&&(t.get("view_id")===r&&t.get("variation_specific")&&!t.get("archived"))}))}],u.viewHasClickEvents=[u.campaignEventsForView,function(t){return t.size>0}],u.projectEventWithMatchingId=[o.getters.events,u.trackClicksChangeEventId,function(t,r){if(r)return t.find((function(t){return t.get("id")===r}))}],u.showCampaignSpecificEventText=[u.campaignEventWithMatchingId,u.projectEventWithMatchingId,function(t,r){return!t&&r?!!r.get("variation_specific"):!t&&!r||!!t.get("variation_specific")}],u.isCampaignSpecificEvent=[u.campaignEventWithMatchingId,function(t){return!(!t||!t.get("variation_specific"))}],u.trackClicksChangeIsDirty=[u.trackClicksChange,u.campaignEventWithMatchingId,function(t,r){var a=t.get("enabled"),i=!!r;if(i&&!a)return!0;if(!i&&a)return!0;if(i&&a){var o=t.get("name")!==r.get("name"),c=t.get("selector")!==r.getIn(["event_filter","selector"]);return o||c}return!1}],u.getTrackClicksChangeStatus=[u.trackClicksChangeIsDirty,u.trackClicksChangeIsEnabled,function(t,r){return t?l.ChangeStatuses.DIRTY:r?l.ChangeStatuses.LIVE:null}],r.a=u},,function(t,r,a){"use strict";a.d(r,"b",(function(){return historyBackSilent}));var i=a(12),o=a.n(i),c=a(31),l=a(5),u=a(3),d=a(35),p=a(95),m=a(43),g=a(161),h=a(771),y=a(385),v=a(38),_=a(14),E=a(50),b=a(125),T=a(300),S=a.n(T),C=a(101),I=a(23),A=a(129),O=a(202),P=a(49),R=a(39),w=a(539),N=a(279),L=a(56),x=a(231),D=a(212),k=a(658),j=a(34);function historyBackSilent(){return d.default.instance.executeWithoutPopstateListener((function(){return new Promise((function(t,r){var a=setTimeout((function(){window.removeEventListener("popstate",handlePopstateEvent),r(new Error("popstate event never received"))}),1e3);function handlePopstateEvent(){clearTimeout(a),window.removeEventListener("popstate",handlePopstateEvent),t()}window.addEventListener("popstate",handlePopstateEvent),C.default.back()}))})).catch((function(t){D.a.withScope((function(r){r.setFingerprint(["prevent_router_reevaluating_when_closing_dialog","popstate"]),D.a.captureException(t)}))}))}r.a={fetchLayerAndSetAsCurrent:function fetchLayerAndSetAsCurrent(t){var r=u.default.evaluateToJS(I.getters.byId(t));return(r?o.a.Deferred().resolve(r):I.actions.fetch(t)).then((function(r){if(!r)return o.a.Deferred().reject();v.actions.setCurrentLayerId(t)}))},fetchCreateLayerData:function fetchCreateLayerData(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=[],a={project_id:u.default.evaluate(_.getters.id)};return Object(c.isFeatureEnabled)(p.b.FEATURES.audience_combo_reskin.FEATURE_KEY)||r.push(g.actions.fetchAll(a,{skipEvaluatingCachedData:!0})),r.push(E.actions.fetchAll(a,{skipEvaluatingCachedData:!0})),t||(k.actions.fetchAll({},{skipEvaluatingCachedData:!0}),r.push(j.actions.fetchAll(a,{skipEvaluatingCachedData:!0})),h.a.fetchAll({},{skipEvaluatingCachedData:!0})),o.a.when.apply(o.a,r)},fetchLayerAndSetAsCurrentAndFetchAssociatedEntities:function fetchLayerAndSetAsCurrentAndFetchAssociatedEntities(t){var r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.fetchLiveCommitTag,c=void 0===i||i,l=a.experimentFilters,d=void 0===l?{}:l,p=u.default.evaluateToJS(I.getters.byId(t)),m=p?o.a.Deferred().resolve(p):I.actions.fetch(t);return m.then((function(a){if(!a)return o.a.Deferred().reject();v.actions.setCurrentLayerId(t);var i=u.default.evaluateToJS(x.a.byId(a.project_id));return(i?o.a.Deferred().resolve(i):N.default.fetch(a.project_id)).then((function(i){if(c&&!L.default.isFullStackProject(i)){var l=u.default.evaluateToJS(O.b.liveCommitTagByLayerId(t));(l?o.a.Deferred().resolve(l):O.a.fetch({layer_id:a.id},!0)).fail(S()((function(){}))).done((function(t){t&&t.commit_id&&(u.default.evaluate(y.c.byId(t.commit_id))||y.a.fetch(t.commit_id))}))}return o.a.when(A.default.intelligentFetchAll(a,!1,d),r.fetchCreateLayerData(L.default.isFullStackProject(i)))}))}))},fetchProjectPlugins:function fetchProjectPlugins(){if(!u.default.evaluate(R.default.canUsePlugins))return o.a.Deferred().resolve();var t={project_id:u.default.evaluate(_.getters.id)};w.actions.fetchAll(t)},fetchCommit:function fetchCommit(t){var r=o.a.Deferred();return O.a.fetch({layer_id:t}).done((function(t){t&&t.commit_id?y.a.fetch(t.commit_id).then((function(t){r.resolve(t)})):r.resolve()})).fail(S()((function(){r.resolve()}))),r},fetchGroupsData:function fetchGroupsData(){if(!u.default.evaluate([m.getters.accountPermissions,P.fns.canUseMutex]))return o.a.Deferred().resolve();var t={project_id:u.default.evaluate(_.getters.id)};return b.a.fetchAll(t)},historyBackSilent:historyBackSilent,initialize:function initialize(){d.default.initialize();var t=l.default.$on("NAVBAR__URL_CHANGED",(function(t){var r=t.href;d.default.go(r,"pop")}));return function(){t(),d.default.reset()}}}},function(t,r){t.exports=function(t,r){return t&&t.length>r?"".concat(t.substring(0,r),"..."):t}},,,,,function(t,r,a){"use strict";a.r(r),a.d(r,"capitalize",(function(){return c})),a.d(r,"formatForDisplay",(function(){return l})),a.d(r,"htmlDecode",(function(){return u})),a.d(r,"strLimiter",(function(){return d}));var i=a(12),o=a.n(i),c=function capitalize(t){return t?t.charAt(0).toUpperCase()+t.substring(1):t},l=function formatForDisplay(t){var r=c(t);return tr("{0}",r)},u=function htmlDecode(t){return o()("<div/>").html(t).text()},d=function strLimiter(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;if(!t)return"";if(t.length<=r)return t.trimEnd();var a=t.slice(0,r-1),i=a.lastIndexOf(" ");if(i<0)return"".concat(a.trimEnd(),"...");var o=a.slice(0,i);return"".concat(o,"...")};r.default={capitalize:c,formatForDisplay:l,htmlDecode:u,strLimiter:d}},function(t,r,a){"use strict";var i=a(2),o=a(36),c=a(31),l=a(152),u=a(459),d=a(156);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var p,m=o.default.createEntityActions(u.a);m.fetch,m.fetchAll,m.fetchAllPages,m.fetchPage,m.flush,m.delete;function getPageSize(){var t=l.enums.FEATURES.fetch_all_paginated,r=t.FEATURE_KEY,a=t.VARIABLES;return Object(c.getFeatureVariable)(r,a.page_size)||o.default.constants.DEFAULT_PAGE_SIZE}r.a=p=_extends({},m,{fetchAllByArchivedState:function fetchAllByArchivedState(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={project_id:t,archived:r,$order:"last_modified:desc",$limit:getPageSize()};return p.fetchAllPages(a,{skipEvaluatingCachedData:!0})},fetchByApiName:function fetchByApiName(t,r){var a={project_id:t,api_name:r};return p.fetchAll(a,{force:!0,skipEvaluatingCachedData:!0})},getPageSize:getPageSize,save:function save(t){var r=t;return r=d.a.cleanAudiencesJson(r),m.save(r)},getToggleFlagForEnvironment:function getToggleFlagForEnvironment(t){var r=Object(i.toImmutable)(t);return function(t){var a=Object(i.toImmutable)(t),o=d.a.getIsFlagOnForEnvironment(r)(a)?{status:"paused",percentage_included:0}:{status:"running",percentage_included:1e4},c=d.a.updateRolloutForEnvironment(a,r,o);return p.save(c)}},unarchive:function unarchive(t){return p.save({id:t,archived:!1})}})},function(t,r,a){"use strict";a.d(r,"a",(function(){return computeEntityTypeDropdownSelectedValue})),a.d(r,"b",(function(){return computeSearchIdsArray})),a.d(r,"c",(function(){return computeUpdatedTypeList})),a.d(r,"e",(function(){return getReadableDateRange}));var i,o=a(4),c=a(59),l=a.n(c),u=a(132),d=a.n(u),p=a(142),m=a.n(p),g=a(48),h=["conditions"],y=["url_targeting"],v=["audience_conditions","url_targeting"],_=["environments"],E=["conditions"];function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _objectWithoutProperties(t,r){if(null==t)return{};var a,i,o=function _objectWithoutPropertiesLoose(t,r){if(null==t)return{};var a,i,o={},c=Object.keys(t);for(i=0;i<c.length;i++)a=c[i],r.indexOf(a)>=0||(o[a]=t[a]);return o}(t,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(i=0;i<c.length;i++)a=c[i],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(o[a]=t[a])}return o}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var b=Object.values(g.a),T=Object.values(g.e).map((function(t){return t.type})),S=Object(o.flatten)(Object.values(g.f).map((function(t){return t.filterName}))),C=/^\w+:\d+$/,I=/((\w+:\d+)|\d+)/,A=/^\d+$/,O=/": "(.*\\n.*)"/g,P='": "\n$1"',R=/\\n/g,w="\n",N=/\\"/g,L='"';function extendJsonIfValueIsDefined(t){var r=t.acc,a=t.property,i=t.value;return _extends({},r,void 0!==i?_defineProperty({},a,i):{})}function formatAndStringifyNonEmptyJson(t){return Object.keys(t).length>0?JSON.stringify(t,null,2):""}function tryToFormatStringifiedJson(t){try{return JSON.stringify(JSON.parse(t),null,2)}catch(r){return t}}var x=(_defineProperty(i={},g.b.audience.entityType,(function(t){var r=t||{},a=r.conditions;return _extends({},_objectWithoutProperties(r,h),a?{conditions:tryToFormatStringifiedJson(a)}:{})})),_defineProperty(i,g.b.campaign.entityType,(function(t){var r=t||{},a=r.url_targeting;return _extends({},_objectWithoutProperties(r,y),a?{url_targeting:_extends({},a,{conditions:tryToFormatStringifiedJson(a.conditions)})}:{})})),_defineProperty(i,g.b.experiment.entityType,(function(t){var r=t||{},a=r.audience_conditions,i=r.url_targeting;return _extends({},_objectWithoutProperties(r,v),a?{audience_conditions:tryToFormatStringifiedJson(a)}:{},i?{url_targeting:_extends({},i,{conditions:tryToFormatStringifiedJson(i.conditions)})}:{})})),_defineProperty(i,g.b.feature.entityType,(function(t){var r=t||{},a=r.environments;return _extends({},_objectWithoutProperties(r,_),a?{environments:_extends({},Object.entries(a).reduce((function(t,r){var a=_slicedToArray(r,2),i=a[0],o=a[1];return _extends({},t,_defineProperty({},i,_extends({},o,{rollout_rules:o.rollout_rules.map((function(t){return _extends({},t,{audience_conditions:tryToFormatStringifiedJson(t.audience_conditions)})}))})))}),{}))}:{})})),_defineProperty(i,g.b.page.entityType,(function(t){var r=t||{},a=r.conditions;return _extends({},_objectWithoutProperties(r,E),a?{conditions:tryToFormatStringifiedJson(a)}:{})})),i);function computeEntityTypeDropdownSelectedValue(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=t||[],a=_slicedToArray(r,1),i=a[0];if(t.length>1)return"Multiple";var o=g.e[i];return o?o.readableName:g.f.TYPE.placeholder}function computeSearchIdsArray(t){return(t||"").split(I).reduce((function(t,r){return r&&!t.includes(r)&&I.test(r)?Number.isFinite(Number(r))?t.concat("".concat(g.b.experiment.entityType,":").concat(r)):t.concat(r):t}),[])}function computeUpdatedTypeList(t){var r=t.selectedTypes,a=void 0===r?[]:r,i=t.type,o=t.shouldAppendNonAnyType,c=void 0!==o&&o;return i===g.e.any.type?[]:c&&a.includes(i)?a.filter((function(t){return t!==i})):c?[].concat(_toConsumableArray(a),[i]):[i]}function getReadableDateRange(t,r,a){var i=t?l()(t).format("MMM D, YYYY"):null;if(t&&r&&l()(t).isSame(l()(r),"day"))return l()(t).isSame(l()(),"day")?"Today":i;var o=r?l()(r).format("MMM D, YYYY"):null;return i&&l()(r).isSame(l()(),"day")?"".concat(i," to Today"):o&&l()(t).isSame(a,"day")?"Through ".concat(o):i&&o?"".concat(i," - ").concat(o):g.f.DATE_RANGE.placeholder}r.d={cleanFiltersForApi:function cleanFiltersForApi(t){return Object.entries(t).reduce((function(t,r){var a=_slicedToArray(r,2),i=a[0],o=a[1];return[].concat(_toConsumableArray(b),_toConsumableArray(S)).includes(i)&&null!=o?i===g.f.TYPE.filterName?_extends({},t,_defineProperty({},g.a.ENTITY_TYPE,o.reduce((function(t,r){return g.e[r]?[].concat(_toConsumableArray(t),_toConsumableArray(g.e[r].entityTypes)):t}),[]))):_extends({},t,_defineProperty({},i,o)):t}),{})},ComplexEntityTypeToTransformFnMap:x,computeAllowedUrlFiltersFromState:function computeAllowedUrlFiltersFromState(t){return Object.entries(t).reduce((function(t,r){var a=_slicedToArray(t,2),i=a[0],o=a[1],c=_slicedToArray(r,2),l=c[0],u=c[1];return S.includes(l)?null==u||u&&!u.length?[i,o.concat(l)]:[_extends({},i,_defineProperty({},l,u)),o]:[i,o]}),[{},[]])},computeAllowedUrlFiltersFromUrl:function computeAllowedUrlFiltersFromUrl(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.a.getSearch(),r=m()(t);return Object.entries(r).reduce((function(t,r){var a=_slicedToArray(r,2),i=a[0],o=a[1];if(!S.includes(i))return t;var c=o;return i===g.f.LOG_ID.filterName&&(c=[].concat(o).filter((function(t){return A.test(t)}))),i===g.f.SEARCH.filterName&&(c=[].concat(o).filter((function(t){return C.test(t)}))),i===g.f.TYPE.filterName&&(c=[].concat(o).filter((function(t){return T.includes(t)}))),_extends({},t,_defineProperty({},i,c))}),{})},computeApiBodyDiff:function computeApiBodyDiff(t,r){var a=r.entityType,i=r.prettyDiffLineCap,o=r.shouldPrettifyDiff,c=(t||[]).reduce((function(t,r){var a=_slicedToArray(t,2),i=a[0],o=a[1],c=r.after,l=r.before,u=r.property;return[extendJsonIfValueIsDefined({property:u,acc:i,value:l}),extendJsonIfValueIsDefined({property:u,acc:o,value:c})]}),[{},{}]),l=_slicedToArray(c,2),u=l[0],d=l[1];if(o){var p=a&&x[a],m=_slicedToArray(this.formatBeforeAndAfter([u,d],p,i),3);return[m[0],m[1],m[2]]}return[formatAndStringifyNonEmptyJson(u),formatAndStringifyNonEmptyJson(d)]},computeAuthorTitleText:function computeAuthorTitleText(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.email,a=t.display_name,i=t.first_name,o=t.last_name;return a!==r?a:i&&o?"".concat(i," ").concat(o," (").concat(r,")"):r||a||""},computeEntityTypeDropdownSelectedValue:computeEntityTypeDropdownSelectedValue,computeEntityFilterFromFetchedEntities:function computeEntityFilterFromFetchedEntities(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r[g.b.campaign.entityType]||[],i=r[g.b.experiment.entityType]||[],o=r[g.b.group.entityType]||[],c=r[g.b.feature.entityType]||[],l=r[g.b.section.entityType]||[],u=[];return a.forEach((function(t){var r=t.id,a=t.metrics,i=t.view_ids;u.push("".concat(g.b.campaign.entityType,":").concat(r)),(a||[]).filter((function(t){var r=t.event_id;return Number.isFinite(r)})).forEach((function(t){var r=t.event_id;return u.push("".concat(g.b.event.entityType,":").concat(r))})),(i||[]).forEach((function(t){return u.push("".concat(g.b.page.entityType,":").concat(t))}))})),i.forEach((function(t){var r=t.audience_ids,a=t.feature_flag_id,i=t.id,o=t.metrics;(r||[]).forEach((function(t){return u.push("".concat(g.b.audience.entityType,":").concat(t))})),a&&u.push("".concat(g.b.feature.entityType,":").concat(a)),u.push("".concat(g.b.experiment.entityType,":").concat(i)),(o||[]).filter((function(t){var r=t.event_id;return Number.isFinite(r)})).forEach((function(t){var r=t.event_id;return u.push("".concat(g.b.event.entityType,":").concat(r))}))})),c.forEach((function(t){var r=t.environments,a=t.id;u.push("".concat(g.b.feature.entityType,":").concat(a)),Object.values(r||[]).forEach((function(t){return(t.rollout_rules||[]).forEach((function(t){return(t.audience_ids||[]).forEach((function(t){u.push("".concat(g.b.audience.entityType,":").concat(t))}))}))}))})),o.forEach((function(r){var o=r.id,c=r.public_entities;t=t||[].concat(_toConsumableArray(a),_toConsumableArray(i)).map((function(t){return t.id})),c.some((function(r){var a=r.id;return t.includes(a)}))&&u.push("".concat(g.b.group.entityType,":").concat(o))})),l.forEach((function(t){var r=t.id,a=t.feature_flag_id;u.push("".concat(g.b.section.entityType,":").concat(r)),a&&u.push("".concat(g.b.feature.entityType,":").concat(a))})),_toConsumableArray(new Set(u))},computeReadableType:function computeReadableType(t){var r=t.subType,a=t.type,i=g.b[a];if(i){var o=i.readableName,c=i.subTypeToReadableNameMap;return c&&c[r]||o}return a},computeSearchIdsArray:computeSearchIdsArray,computeUpdatedTypeList:computeUpdatedTypeList,formatBeforeAndAfter:function formatBeforeAndAfter(t,r,a){var i=t.map((function(t){return"function"==typeof r&&"object"===_typeof(t)?r(t):t})).map(formatAndStringifyNonEmptyJson);return this.hasAnyDiffExceededLineCap(i,a)?[].concat(_toConsumableArray(i),[g.c.TOO_LARGE.id]):i.map((function(t){return t.replace(O,P).replace(N,L).replace(R,w)}))},getReadableDateRange:getReadableDateRange,hasAnyDiffExceededLineCap:function hasAnyDiffExceededLineCap(t,r){return t.map((function(t){return"string"!=typeof t?null:(t.match(R)||"").length+1})).some((function(t){return t>r}))},isUiFiltered:function isUiFiltered(t){return S.some((function(r){return Array.isArray(t[r])?t[r].length:!!t[r]}))},timeAgo:function timeAgo(t){var r=l()(t),a=l()();if(r.isSame(a,"day"))return"Today, ".concat(r.format("LT"));var i=a.subtract(1,"days");return r.isSame(i,"day")?"Yesterday, ".concat(r.format("LT")):r.isSame(a,"year")?r.format("MMMM D, LT"):r.format("MMM D YYYY, LT")}}},function(t,r,a){"use strict";var i,o,c,l=a(7),u=a(17);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var d=a.n(u)()({EXPERIMENTS:null,GROUPS:null}),p=(_defineProperty(i={},l.default.sdkLanguages.PHP,"$variation = $optimizelyClient->activate('".concat("{ experimentKey }","', $userId);")),_defineProperty(i,l.default.sdkLanguages.PYTHON,"variation = optimizely_client.activate('".concat("{ experimentKey }","', user_id)")),_defineProperty(i,l.default.sdkLanguages.JAVA,'Variation variation = optimizelyClient.activate("'.concat("{ experimentKey }",'", userId);')),_defineProperty(i,l.default.sdkLanguages.RUBY,"variation = optimizely_client.activate('".concat("{ experimentKey }","', user_id)")),_defineProperty(i,l.default.sdkLanguages.REACT,function getActivationCodeBlockReact(t){return'function ExperimentComponent() {\n  return (\n    <OptimizelyExperiment experiment="'.concat(t,'">')}("{ experimentKey }")),_defineProperty(i,l.default.sdkLanguages.JAVASCRIPT,"var variation = optimizelyClientInstance.activate('".concat("{ experimentKey }","', userId);")),_defineProperty(i,l.default.sdkLanguages.OBJECTIVE_C,'OPTLYVariation *variation = [client activate:@"'.concat("{ experimentKey }",'" userId:userId];')),_defineProperty(i,l.default.sdkLanguages.SWIFT,'let variation = optimizelyClient?.activate("'.concat("{ experimentKey }",'", userId:userId)')),_defineProperty(i,l.default.sdkLanguages.CSHARP,'var variation = OptimizelyClient.Activate("'.concat("{ experimentKey }",'", userId);')),_defineProperty(i,l.default.sdkLanguages.GO,'variation, err := optimizelyClient.Activate("'.concat("{ experimentKey }",'", entities.UserContext{ID: userId})')),_defineProperty(i,l.default.sdkLanguages.AGENT,"curl -X POST \\\n  '{HOST_URL}/v1/activate?experimentKey={ experimentKey }' \\\n  -H 'Content-Type: application/json' \\\n  -H 'X-Optimizely-SDK-Key: \"YOUR-SDK-KEY\"' \\\n  -d '{\n    \"userId\":\"USER_ID\"\n  }'\n"),_defineProperty(i,l.default.sdkLanguages.FLUTTER,'var variation = await optimizelyClientInstance.activate("'.concat("{ experimentKey }",'", userId);')),i),m=_defineProperty({},l.default.sdkLanguages.REACT,"\n    </OptimizelyExperiment>\n  )\n}\n"),g=(_defineProperty(o={},l.default.sdkLanguages.PHP,"\n} else {\n // execute default code"),_defineProperty(o,l.default.sdkLanguages.PYTHON,"\nelse:\n  # execute default code"),_defineProperty(o,l.default.sdkLanguages.JAVA,"\n  }\n} else {\n  // execute default code"),_defineProperty(o,l.default.sdkLanguages.RUBY,"\nelse\n  # execute default code"),_defineProperty(o,l.default.sdkLanguages.REACT,"      <OptimizelyVariation default>\n        { // execute default code or show default component }\n      </OptimizelyVariation>"),_defineProperty(o,l.default.sdkLanguages.JAVASCRIPT,"\n} else {\n  // execute default code"),_defineProperty(o,l.default.sdkLanguages.OBJECTIVE_C,"\n} else {\n    // execute default code"),_defineProperty(o,l.default.sdkLanguages.SWIFT,"\n  }\n} else {\n    // execute default code"),_defineProperty(o,l.default.sdkLanguages.GO,"\n  }\n} else {\n    // execute default code"),_defineProperty(o,l.default.sdkLanguages.CSHARP,"\n  }\n} \nelse\n{\n  // execute default code"),_defineProperty(o,l.default.sdkLanguages.AGENT,""),_defineProperty(o,l.default.sdkLanguages.FLUTTER,"\n} else {\n  // execute default code"),o),h=(_defineProperty(c={},l.default.sdkLanguages.PHP,"if ($variation == '".concat("{ variationKey }","') {\n  // execute code for ").concat("{ variationKey }")),_defineProperty(c,l.default.sdkLanguages.PYTHON,"if variation == '".concat("{ variationKey }","':\n  # execute code for ").concat("{ variationKey }")),_defineProperty(c,l.default.sdkLanguages.JAVA,'if (variation.is("'.concat("{ variationKey }",'")) {\n    // execute code for ').concat("{ variationKey }")),_defineProperty(c,l.default.sdkLanguages.RUBY,"if variation == '".concat("{ variationKey }","'\n  # execute code for ").concat("{ variationKey }")),_defineProperty(c,l.default.sdkLanguages.REACT,function getVariationCodeBlockReact(t){return'      <OptimizelyVariation variation="'.concat(t,'">\n        { // execute code or render component for ').concat(t," }\n      </OptimizelyVariation>\n")}("{ variationKey }")),_defineProperty(c,l.default.sdkLanguages.JAVASCRIPT,"if (variation === '".concat("{ variationKey }","') {\n  // execute code for ").concat("{ variationKey }")),_defineProperty(c,l.default.sdkLanguages.OBJECTIVE_C,'if ([variation.variationKey isEqualToString:@"'.concat("{ variationKey }",'"]) {\n    // execute code for ').concat("{ variationKey }")),_defineProperty(c,l.default.sdkLanguages.SWIFT,'if variation.variationKey == "'.concat("{ variationKey }",'" {\n      // execute code for ').concat("{ variationKey }")),_defineProperty(c,l.default.sdkLanguages.CSHARP,'if (variation.Key == "'.concat("{ variationKey }",'")\n  {\n      // execute code for ').concat("{ variationKey }")),_defineProperty(c,l.default.sdkLanguages.GO,'if variation == "'.concat("{ variationKey }",'" {\n      // execute code for ').concat("{ variationKey }")),_defineProperty(c,l.default.sdkLanguages.AGENT,""),_defineProperty(c,l.default.sdkLanguages.FLUTTER,'if (variation.variationKey == "'.concat("{ variationKey }",'") {\n  // execute code for ').concat("{ variationKey }")),c);r.a={EXPERIMENT_ACTIVATION_CODE_BLOCKS:p,EXPERIMENT_ACTIVATION_CODE_BLOCKS_POSTFIX:m,EXPERIMENT_CONTROL_CODE_BLOCKS:g,EXPERIMENT_KEY_PLACEHOLDER:"{ experimentKey }",EXPERIMENT_VARIATION_CODE_BLOCKS:h,FORCED_VARIATION_MATCH_TYPES:{EXACT:"exact"},LAYER_EXPERIMENT_HUMAN_READABLE_STATUS_TYPES:{ARCHIVED:"Archived",DRAFT:"Draft",LAUNCHED:"Launched",PAUSED:"Paused",RUNNING:"Running"},TABLE_ID:"ExperimentsDashboard",tableIds:d,VARIATION_KEY_PLACEHOLDER:"{ variationKey }"}},function(t,r,a){var i=a(4),o=a(1185);r.setItem=function(t,r){var a=i.now();o.actions.writeToLocalStorage(t,r,a)},r.getItem=function(t){return o.actions.readFromLocalStorage(t)},r.removeItem=function(t){o.actions.removeFromLocalStorage(t)},r.clear=function(){window.localStorage.clear(),o.actions.clearLocalStorageMetaStore()},r.key=function(t){return window.localStorage.key(t)}},function(t,r,a){"use strict";var i=a(340);a.d(r,"a",(function(){return i.default}));var o=a(236),c=a(1225),l=a(312);a.d(r,"b",(function(){return l.default}));i.default,o.a,c.a,l.default},function(t,r,a){"use strict";var i={BASELINE:tr("baseline"),INCONCLUSIVE:tr("inconclusive"),LOSER:tr("loser"),WINNER:tr("winner")};r.a={status_type:{ARCHIVED:"Archived",DRAFT:"Draft",PAUSED:"Paused",RUNNING:"Running"},goal_status_type:{BASELINE:"baseline",INCONCLUSIVE:"inconclusive",LOSER:"loser",WINNER:"winner"},goal_status_type_text:i}},,function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({ADD_SELECTED_SEGMENT:null,API_REQUEST_REJECTED:null,API_REQUEST_RESOLVED:null,CLEAR_SELECTED_SEGMENTS:null,REMOVE_SELECTED_SEGMENT:null,RESULTS_SET_CURRENCY_TYPE:null,RESULTS_SET_DIFFERENCE_TYPE_OVERRIDE:null,RESULTS_SET_STATS_CONFIG:null,RESULTS_ADD_PROMISE:null,RESULTS_CLEAR_PROMISES:null,RESULTS_SET_TIMERANGE:null,RESULTS_SET_SELECTED_METRIC:null,RESULTS_SET_SELECTED_EXPERIMENT:null,RESULTS_SET_SELECTED_EXPERIMENT_IDS_FOR_FILTER:null,RESULTS_SET_SELECTED_SECTION_ID:null,RESULTS_SET_SELECTED_SEGMENT:null,RESULTS_SET_SELECTED_VARIATION:null,RESULTS_ORDER_COLORS:null,SET_AND_OR_SEGMENT_CONDITION:null,SET_IS_CLEANING_RESULTS_FILTERS:null,SET_IS_CLEANING_RESULTS_FILTERS_TO_FALSE:null})},,,,function(t,r,a){"use strict";a.r(r),a.d(r,"TrafficAllocationPolicyTypes",(function(){return c})),a.d(r,"ManualPolicyItem",(function(){return l})),a.d(r,"MultiArmedBanditPolicyItem",(function(){return u})),a.d(r,"StatsAcceleratorPolicyItem",(function(){return d})),a.d(r,"TrafficAllocationPolicyItems",(function(){return p})),a.d(r,"TrafficAllocationMessages",(function(){return m})),a.d(r,"TrafficAllocationVariationStatuses",(function(){return g}));var i=a(17),o=a.n(i),c={MANUAL:"manual",MAXIMIZE_CONVERSIONS:"min-regret",MINIMIZE_TIME:"min-time"},l={label:tr("Manual"),value:c.MANUAL,description:tr("Set traffic distribution for each variation in this experiment."),header:"",test:"manual-policy"},u={label:tr("Multi-armed Bandit"),value:c.MAXIMIZE_CONVERSIONS,description:tr("Quickly identify and show more traffic to the best-performing variation to optimize the impact based on the primary metric."),header:"Automation",test:"min-regret-policy"},d={label:tr("Stats Accelerator"),value:c.MINIMIZE_TIME,description:tr("Traffic will be dynamically managed to reach statistical significance faster."),header:"",test:"min-time-policy"},p=[l,u,d],m={FULLSTACK:"When using automated settings, Stats Accelerator will automatically adjust the traffic distribution based on your experiment data and your results will reflect this. In Full Stack experiments, it is important to make sure users see the same variation throughout the experiment.",MANUAL:"Change the percentage of visitors who see any given variation.",MAXIMIZE_CONVERSIONS:"Your traffic distribution will be automatically optimized for the primary metric. Traffic distribution can't be manually edited.",MINIMIZE_TIME:"Optimizely will automatically adjust Traffic Distribution as experiment data is collected to accelerate reaching statistical significance for the Primary Metric. Traffic Distribution cannot be manually edited.",MVT:"Stats Accelerator and Multi-Armed Bandits require Partial Factorial Mode. If you’d like to use Full Factorial Mode, switch to Manual Distribution Mode."},g=o()({STOPPED:null,STOPPING:null,LIVE:null});r.default={ManualPolicyItem:l,MultiArmedBanditPolicyItem:u,StatsAcceleratorPolicyItem:d,TrafficAllocationPolicyTypes:c,TrafficAllocationPolicyItems:p,TrafficAllocationMessages:m,TrafficAllocationVariationStatuses:g}},,function(t,r,a){"use strict";a.r(r),a.d(r,"filterFieldsByString",(function(){return filterFieldsByString})),a.d(r,"filterByArchivedStatusWithCustomArchive",(function(){return filterByArchivedStatusWithCustomArchive})),a.d(r,"filterByArchivedStatus",(function(){return filterByArchivedStatus})),a.d(r,"filterByListOfValues",(function(){return filterByListOfValues})),a.d(r,"matchesFields",(function(){return matchesFields})),a.d(r,"matchesArchivedStatus",(function(){return matchesArchivedStatus}));var i=a(335),o=a.n(i),c=a(97);function filterFieldsByString(t,r,a,i){var o=r?r.toString().toLowerCase():"";return o?t.filter((function(t){return a.some((function(r){var a=(t.get(r)||"").toString().toLowerCase();switch(i){case c.default.matchType.EQUALS:return function equals(t,r){return t===r}(o,a);default:return function contains(t,r){return-1!==r.indexOf(t)}(o,a)}}))})):t}function filterByArchivedStatusWithCustomArchive(t,r,a){return t.filter((function(t){var i=r===c.default.status.ARCHIVED;return a(t)===i}))}function filterByArchivedStatus(t,r){return this.filterByArchivedStatusWithCustomArchive(t,r,(function(t){return t.get("archived")}))}function filterByListOfValues(t,r,a){return t.filter((function(t){return r.includes(t.get(a))}))}function getFn(t,r){return t.get?t.get(r):t[r]}function matchesFields(t,r,a){return Array.isArray(r)||(r=[r]),r.map((function(r){var a=getFn(t,r);return"number"==typeof a?String(a):a})).some((function(t){return o.a.isFilterTermInItem(a,t)}))}function matchesArchivedStatus(t,r){return r===c.default.status.ARCHIVED?!!t.get("archived"):!t.get("archived")}r.default={filterByArchivedStatus:filterByArchivedStatus,filterByArchivedStatusWithCustomArchive:filterByArchivedStatusWithCustomArchive,filterByListOfValues:filterByListOfValues,filterFieldsByString:filterFieldsByString,getFn:getFn,matchesArchivedStatus:matchesArchivedStatus,matchesFields:matchesFields}},function(t,r,a){"use strict";var i=a(42),o=a.n(i),c=a(3),l=a(420),u=a(37),d=a(682),p=a(629);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var m=function withStandardScope(t){p.a.withScope((function(r){var a=c.default.evaluateToJS(l.a.defaultAttributes({}));r.setTag("first_page_load",a.first_page_load),r.setExtra("num_audiences",a.num_audiences),r.setExtra("num_projects",a.num_projects),r.setExtra("project_id",a.project_id),r.setExtra("routes_completed",a.routes_completed),t(r)}))},g=p.a.withScope;r.a={init:function init(){var t;if(!o.a.get("env.IS_LOCAL")&&!o.a.get("env.IS_STAGING")){var r=o.a.get("env.VERSION_NUMBER");if(r)t=_slicedToArray(r.split("."),1)[0]}p.a.init({attachStacktrace:!0,blacklistUrls:d.a.IGNORE_URLS,debug:!1,dsn:d.a.SENTRY_ENDPOINT,environment:o.a.get("env.ENVIRONMENT"),release:t}),p.a.configureScope((function(t){var r=c.default.evaluateToJS(l.a.defaultAttributes({}));t.setUser({id:c.default.evaluate(u.default.id),uuid:c.default.evaluate(u.default.uniqueUserId)}),t.setTag("is_desktop_app",r.is_desktop_app),t.setTag("app_version",r.app_version),t.setTag("is_api_error",!1),t.setTag("is_impersonating",r.is_impersonating),r.is_desktop_app&&(t.setTag("desktop_app_version",r.desktop_app_version),t.setTag("desktop_app_platform",r.desktop_app_platform))}))},withStandardScope:m,captureException:function captureException(t){m((function(){return p.a.captureException(t)}))},captureMessage:function captureMessage(t,r){m((function(){return p.a.captureMessage(t,r)}))},withScope:g}},function(t,r,a){"use strict";var i=a(36),o=a(508);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a),l=i.default.createEntityActions({entity:o.a.entity});r.a=_extends({},c,{fetchAllForAccount:function fetchAllForAccount(t,r){return l.fetchAll(t,r)},delete:function _delete(t){return this.archive(t)},archive:function archive(t){return this.save({id:t.id,archived:!0})},unarchive:function unarchive(t){return this.save({id:t.id,archived:!1})},fetchByName:function fetchByName(t,r){var a={project_id:t,name:r};return this.fetchAll(a,{force:!0})}})},function(t,r,a){"use strict";a.r(r),a.d(r,"sortData",(function(){return sortData})),a.d(r,"fieldSortDir",(function(){return fieldSortDir})),a.d(r,"isSorted",(function(){return isSorted})),a.d(r,"sortFn",(function(){return sortFn}));var i=a(2),o=a(102),c=a.n(o),l=a(4),u=a.n(l),d=a(985);function sortData(t){return[["sortableTable",t],function(t){return t?t.get("sortBy"):Object(i.toImmutable)([])}]}function fieldSortDir(t,r){return[["sortableTable",t],function(t){if(t){var a=u.a.find(t.get("sortBy").toJS(),{field:r});if(a)return a.dir}}]}function isSorted(t){return[["sortableTable",t,"sortBy"],function(t){return!!(t&&t.size>0)}]}function sortFn(t){return[["sortableTable",t],function(t){if(t)return c.a.generateImmutableObjectSortFn(t.get("sortBy").toJS(),d.a)}]}r.default={fieldSortDir:fieldSortDir,isSorted:isSorted,sortFn:sortFn,sortData:sortData}},function(t,r,a){"use strict";var i=a(702);a.d(r,"a",(function(){return i.a}));var o=a(516),c=a(703),l=a(249);a.d(r,"c",(function(){return l.a})),r.b={actions:i.a,constants:o.a,fns:c.a,getters:l.a}},function(t,r,a){var i=a(3018),o=Math.floor(Math.log(100)/Math.log(10));t.exports={MAX_PRECISION:o,MULTIPLIER:100,TOTAL_POINTS:1e4,toPoints:function toPoints(t){return Math.round(1e4*t)},toRatio:function toRatio(t){return new i(t,1e4)},toFloat:function toFloat(t){return t/1e4},getWeightFromPercentage:function getWeightFromPercentage(t){return t=Number(t),Number((100*t).toFixed())}}},function(t,r,a){"use strict";var i=a(2),o=a(149),c=a.n(o),l=a(100),u=a(156),d=a(29),p=a(68);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}r.a={addVariation:function addVariation(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default.List(),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.default.Map();r.forEach((function(t){o=o.set(t.get("api_name"),t.get("default_value"))}));var l=Object(i.toImmutable)(_extends({guid:c()(),variable_values:o},a)),u=t.push(l),d=p.default.redistributeWithNewVariationTrafficImmutable(u);return d},attachFeatureVariablesToExperiment:function attachFeatureVariablesToExperiment(t,r){var a=r.get("variations").map((function(r){var a=i.default.Map();return t.get("variables").forEach((function(t){a=a.set(t.get("api_name"),t.get("default_value"))})),r.set("variable_values",a)}));return r.set("variations",a)},deleteVariation:function deleteVariation(t,r){var a=r.delete(t);return p.default.redistributeWithNewVariationTrafficImmutable(a)},ensureExperimentKeyUnique:function ensureExperimentKeyUnique(t,r){return!r.some((function(r){return r.get("id")!==t.get("id")&&r.get("key")===t.get("key")}))},ensureExperimentKeyValid:function ensureExperimentKeyValid(t){return!!t&&!!l.default.apiName.test(t)},ensureVariationWeightsTotal100:function ensureVariationWeightsTotal100(t){return 1e4===t.reduce((function(t,r){return t+r.get("weight")}),0)},ensureVariableValuesValid:function ensureVariableValuesValid(t,r){var a=t.get("feature_flag_id");if(a&&r){var o=r.find((function(t){return a===t.get("id")})).get("variables").filter((function(t){return!t.get("archived")})).reduce((function(t,r){return t.set(r.get("api_name"),r.get("type"))}),i.default.Map());return t.get("variations").every((function(t){return t.get("variable_values").every((function(t,r){return u.a.isVariableValueInputValid(t,o.get(r))}))}))}return!0},ensureVariationKeyValid:function ensureVariationKeyValid(t){return!!t&&!!l.default.apiName.test(t)},hasNegativeVariationValues:function hasNegativeVariationValues(t){return t.some((function(t){return t.get("weight")<0}))},pauseVariation:function pauseVariation(t,r){var a=r.get(t),i=a.get("weight"),o=a.set("status",d.default.VariationStatus.PAUSED).set("weight",0),c=r.set(t,o);return p.default.redistributePausedVariationTraffic(c,i)},resetToUniformTraffic:function resetToUniformTraffic(t){var r=Math.round(1e4/t.size),a=t.map((function(t){return t.set("weight",r)}));return Object(i.toImmutable)(p.default.redistributeWithNewVariationTraffic(a.toJS()))},resumeVariation:function resumeVariation(t,r){var a=r.get(t).set("status",d.default.VariationStatus.ACTIVE),i=r.set(t,a);return p.default.redistributeResumedVariationTraffic(a.get("variation_id"),i)},updateVariationVariable:function updateVariationVariable(t,r){return t.get("variable_values")||(t=t.set("variable_values",i.default.Map())),t=t.setIn(["variable_values",r.get("api_name")],r.get("value"))}}},,,function(t,r,a){"use strict";a.r(r),a.d(r,"IFrameHighlightTypes",(function(){return o}));var i=a(17),o=a.n(i)()({DRAFT:null,LIVE:null,STAGED:null,HOVERED:null,SELECTED:null});r.default={IFrameHighlightTypes:o}},function(t,r,a){"use strict";var i=a(17),o=a.n(i),c=o()({VARIATIONS:null,AUDIENCES:null,METRICS:null,SCHEDULE:null,TRAFFIC_ALLOCATION:null,WHITELIST:null,API_NAMES:null,HISTORY:null,SETTINGS:null}),l=o()({AB_TEST:null,FEATURE_TEST:null,MULTIARMED_BANDIT:null,MVT:null}),u={AB_TEST:tr("A/B Test"),FEATURE_TEST:tr("Feature Test"),MULTIARMED_BANDIT:tr("Multi-Armed Bandit"),MVT:tr("Multivariate Test")},d={AB_TEST:tr("experiment"),FEATURE_TEST:tr("experiment"),MULTIARMED_BANDIT:tr("optimization"),MVT:tr("experiment")};r.a={Tabs:c,ExperimentType:l,ExperimentTypeToEntityName:d,ExperimentTypeToLabel:u,EMPTY_METRICS_POPOVER_CONTENT_AB:"You need to add at least one metric to start this experiment.\nMetrics will generate experiment results and help you measure performance."}},,,function(t,r,a){var i=a(12),o={show:function(t){var r=this;if(!i(t).prop("disabled")){var a=".dropdown-".concat((new Date).valueOf()),o=t.hasAttribute("data-use-overlay");i(t).addClass("is-active").data("eventNS",a),o&&(this._overlay=i("<div/>").prependTo(document.body).addClass("menu-overlay")),i(document).on("click".concat(a),(function(a){0===i(t).has(a.target).length&&r.hide(t)})),i(document).on("keyup".concat(a),(function(a){27===a.keyCode&&r.hide(t)}))}},hide:function(t){var r=i(t).data("eventNS");r&&(i(document).off(r),i(t).removeData("eventNS")),i(t).removeClass("is-active"),this._overlay&&(this._overlay.remove(),this._overlay=null)},toggle:function(t){i(t).hasClass("is-active")?this.hide(t):this.show(t)}};t.exports=o},function(t,r,a){"use strict";var i=a(363),o=a.n(i);a.d(r,"a",(function(){return o.a}));var c=a(315),l=a.n(c);a.d(r,"b",(function(){return l.a}));var u=a(613);a.d(r,"c",(function(){return u.a}));var d=a(296),p=a.n(d);o.a,l.a,u.a,p.a},,function(t,r,a){"use strict";a.d(r,"b",(function(){return getHelpCopy}));var i=a(4),o=a.n(i),c=a(3),l=a(42),u=a.n(l),d=a(21),p=a(117),m=a(78),g=a(20),h=a(70),y=a(15),v=a(235),_=a(43),E=a(31),b=a(13),T=a(968);function setCurrentProjectId(t){c.default.dispatch(T.a.CHANGE_CURRENT_PROJECT_ID,{id:t})}function getHelpCopy(t,r){return Object(E.getFeatureVariableString)("help_copy",t)||r}r.a={fetchCurrentProject:function fetchCurrentProject(){return h.actions.fetchAll().then((function(t){return o.a.find(t,{project_status:y.ProjectStatusType.ACTIVE})}))},fetchLayerExperimentsWithSingleAndMvtPolicies:function fetchLayerExperimentsWithSingleAndMvtPolicies(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c.default.evaluateToJS(b.default.id),i=Object.assign(t,{project_id:a,layer_policy:[d.default.policy.MULTIVARIATE,d.default.policy.SINGLE_EXPERIMENT]});return g.actions.fetchAll(i,r)},fetchCurrentProjectLayers:function fetchCurrentProjectLayers(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c.default.evaluateToJS(b.default.id),i=Object.assign(t,{project_id:a});return p.default.fetchAll(i,r)},setCurrentProject:function setCurrentProject(t){c.default.dispatch(m.a.API_INJECT_ENTITY,{entity:h.entityDef.entity,data:t}),setCurrentProjectId(t.id)},setCurrentProjectId:setCurrentProjectId,setLastViewedProjectId:function setLastViewedProjectId(t){var r=c.default.evaluateToJS(_.getters.accountInfo);if(!u.a.get("is_impersonating",!1))return Object(v.a)().one("users",encodeURIComponent(r.email)).all("preferences").put({last_viewed_project_id:t})},getHelpCopy:getHelpCopy}},function(t,r,a){var i=a(8);t.exports=function(t){return isNaN(Date.parse(t))?t:i.date(t).format("ll")}},,,function(t,r,a){"use strict";var i=a(41),o=a(2),c=a(456),l=a(7),u=a(56);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var d=Object(i.default)(c.a),p=(d.byId,d.entityCache),m=[p,function(t){return t.toList()}],g=[p,function(t){return t.filter((function(t){return!t.get("archived")&&t.get("project_status")!==l.default.project_status.ARCHIVED&&u.default.isWebProject(t)}))}],h=[p,function(t){return t.filter(u.default.isFullStackProject)}],y=[p,function(t){return Object(o.toImmutable)({}).withMutations((function(r){t.forEach((function(t){t.get("dcp_service_id")||t.get("project_status")===l.default.project_status.ARCHIVED||r.set(t.get("id"),t.toJS())}))}))}];r.a=_extends({},d,{activeWebProjects:g,asList:m,fullstackProjects:h,projectsWithoutDcpService:y})},,function(t,r,a){"use strict";var i=a(2),o=a(352),c=a(308),l=a(313),u=a.n(l),d=a(66),p=a.n(d),m=a(13),g=a(144),h=a(21),y=a(20),v=a(525),_=a(503),E=a(1447),b=a(249),T=a(339),S=a(95),C=a(818),I=a.n(C),A=a(282),O=a(37),P=a(22),R=a(39),w=a(133),N="currently_editing_experiment",L=[N,"selectedAudienceIds"],x=[[N,"name"],v.a.name,function(t,r){return t||r||null}],D=[[N,"description"],v.a.description,function(t,r){return t||r||null}],k=[N,"currentExperimentId"],j=[N,"selectedViewIds"],M=[N,"urlTargetingConfig"],U=function targetingType(t){return[[N,"targetingType"],R.default.canUseUrlTargeting,function(r,a){var i;return r||(t!==h.default.policy.MULTIVARIATE&&(i=T.a.activate(S.b.TestUrlTargetingSetup.EXPERIMENT_KEY)),i?i===S.b.TestUrlTargetingSetup.Variations.SIMPLIFIED_CREATION_FLOW?g.default.TargetingTypes.URL:g.default.TargetingTypes.SAVED_PAGES:u.a.getDefaultTargetingType(a))}]},V=[j,A.default.entityCache,function(t,r){return t.map((function(t){return r.get(t)}))}],B=[m.default.views,function(t){return t.filter((function(t){return!t.get("archived")}))}],G=[L,c.default.entityCache,function(t,r){return t.map((function(t){return r.get(t)}))}],H=[m.default.audiences,function(t){return t.filter((function(t){return!t.get("archived")&&t.get("user_touched")}))}],z=[N,"audienceMatchType"],W=[N,"audienceConditions"],q=[N,"audienceConditionsJson"],Y=[k,y.default.getters.entityCache,function(t,r){var a=r.get(t);return a&&a.get("allocation_policy")?a.get("allocation_policy"):"manual"}],K=[N,"weightDistributions"],J=[N,"layerHoldback"],X=[N,"sections"],$=[X,function(t){return w.a.getCombinationCount(t)}],Q=[k,y.default.getters.entityCache,function(t,r){var a=r.get(t);return!!a&&w.a.isExperimentLive(a)}],Z=[[N,"variations"],J,function(t,r){return Z?(t=w.a.addTrafficDistributionInfoToVariations(t,r),w.a.stripVariableValuesFromVariations(t)):null}],ee=[[N,"variations"],J,w.a.addTrafficDistributionInfoToVariations],te=[N,"bucketingStrategy"],ne=[N,"currentlySelectedTrafficAllocationPolicy"],re=[ne,Z,p.a.isPersonalizationLayer,function(t,r,a){var i=a?r.size+1:r.size;return y.default.fns.allocationPolicyAndNumberOfVariationsAreValid(t,i)}],ae=[p.a.layer,ne,p.a.layerPrimaryMetricFromList,b.a.primaryWorkingMetric,function(t,r,a,i){var o=t?a:i;return y.default.fns.allocationPolicyAndAbsenceOfPrimaryMetricAreValid(r,o)}],ie=[ne,b.a.primaryWorkingMetric,y.default.fns.allocationPolicyAndSelectedPrimaryMetricAreValid],oe=[re,ae,ie,function(t,r,a){return t&&r&&a}],se=[k,x,L,j,Z,te,p.a.id,m.default.id,W,q,ne,J,function(t,r,a,o,c,l,u,d,p,m,g,h){return{id:t||null,name:r,layer_id:u,project_id:d,variations:w.a.updateVariationsForSave(o,Object(i.toImmutable)(c)).toJS(),bucketing_strategy:l,audience_ids:a.toJS(),audience_conditions:p,audience_conditions_json:m,allocation_policy:g,layer_holdback:h}}],ce=[N,"errors"],le=[ce,function(t){return t.get("urlTargetingConditions")}],ue=[ce,function(t){return t.get("urlTargetingApiName")}],de=[ce,function(t){return t.get("urlTargetingUrl")}],fe=[ce,function(t){return t.get("views")}],pe=[W,I.a.activeAudiences,o.default.getPlaceHolderNameFromAudiences],me=[N,"selectedVariableIds"],ge=[me,_.default.entityCache,function(t,r){return t.map((function(t){return r.get(t)}))}],he=[ee,ge,k,m.default.id,function(t,r,a,i){return r.map((function(r){var o=r.get("id"),c=t.map((function(t){var a=t.getIn(["variable_values",o])||r.get("default_value");return{variation_id:t.get("api_name"),value:String(a)}}));return E.a.createLiveVariableUsageEntity({experiment_id:a,live_variable_id:o,project_id:i,usage_instances:c.toJS()})}))}],ye=[j,X,m.default.id,function(t,r,a){return r?r.map((function(r){var o=r.get("variations"),c=w.a.updateVariationsForSave(t,Object(i.toImmutable)(o));return{name:r.get("name"),variations:c.toJS(),project_id:a}})):null}],ve=[x,L,m.default.id,function(t,r,a){return{name:t,project_id:a,multivariate_traffic_policy:y.default.enums.multivariateTrafficPolicies.FULL_FACTORIAL}}];r.a={selectedAudienceIds:L,name:x,description:D,currentExperimentId:k,selectedViewIds:j,urlTargetingConfig:M,targetingType:U,selectedViews:V,availableViews:B,selectedAudiences:G,availableAudiences:H,audienceMatchType:z,audienceConditions:W,audienceConditionsJson:q,currentLayerExperimentTrafficAllocationPolicy:Y,currentlySelectedTrafficAllocationPolicy:ne,currentlySelectedTrafficAllocationPolicyAndNumberOfVariationsAreValid:re,currentlySelectedTrafficAllocationPolicyAndAbsenceOfPrimaryMetricValid:ae,currentlySelectedTrafficAllocationPolicyAndSelectedPrimaryMetricAreValid:ie,currentlySelectedTrafficAllocationPolicyConfigurationsAreValid:oe,weightDistributions:K,layerHoldback:J,sections:X,combinationCount:$,isLive:Q,variations:Z,variationsWithVariables:ee,bucketingStrategy:te,experimentToSave:se,errors:ce,urlTargetingConditionsError:le,urlTargetingApiNameError:ue,urlTargetingUrlError:de,savedPagesError:fe,layerDataToSave:function layerDataToSave(t){return[O.default.accountPermissions,k,x,D,m.default.id,p.a.id,j,b.a.outlierFilter,M,U(t),function(r,a,o,c,l,u,d,p,m,h){var y={holdback:0,policy:t,name:o,description:c,project_id:l,id:u||null,metrics:[],view_ids:d.toJS()};return P.default.canUseOutlierFiltering(r,Object(i.toImmutable)(y))?y.id?y.outlier_filter=p.toJS():y.outlier_filter={enabled:!0}:y.outlier_filter={enabled:!1},h===g.default.TargetingTypes.URL&&(y.url_targeting=m.toJS(),delete y.view_ids),y}]},selectedAudiencesInReadableEnglish:pe,selectedVariableIds:me,selectedVariables:ge,variableUsagesToSave:he,experimentSectionsToCreateForMVT:ye,layerExperimentToCreateForMVT:ve}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(72),l=a.n(c),u=a(102),d=a.n(u),p=a(2),m=a(33),g=a(138);function createSortFn(t,r){r=r||{},"string"==typeof t&&(t=[t]);var a=t.map((function(t){var a=t.split(":"),i=a[0],o=a.length>1&&a[1]===d.a.DESC?d.a.DESC:d.a.ASC,c=r[i];return c||"id"!==i||(c="id"===i?m.a.NUMBER:m.a.STRING),{field:i,dir:o,type:c}}));return d.a.generateImmutableObjectSortFn(a)}function createFilterFn(t,r){r=r||{};var a=Object.keys(t).filter((function(t){return"$"===t[0]})),i=o.a.omit(t,a),c=o.a.map(i,(function(t,a){return r[a]===m.a.ARRAY?function(r){return o.a.includes(r.get(a),t)}:Array.isArray(t)?function(r){return Array.isArray(r.toJS()[a])?r.get(a).get(0):o.a.includes(t,r.get(a))}:function(r){return Array.isArray(r.toJS()[a])||r.get(a)===t}}));return function(t){return c.every((function(r){return r(t)}))}}function getAll(t,r,a){var i=a||{};if(!t)return p.default.List([]);var c=t.toList(),l=i.$order,u=["$order","$limit","$offset"],d=o.a.omitBy(i,(function(t){return u.includes(t)||Array.isArray(t)&&!t.length}));return o.a.isEmpty(d)||(c=c.filter(createFilterFn(d,r))),l&&(c=c.sort(createSortFn(l,r.fieldTypes))),c}r.a={createFilterFn:createFilterFn,createSingleFetchRequestInfo:function createSingleFetchRequestInfo(t){return Object(p.toImmutable)({entity:t.entity,method:g.a.apiActions.FETCH,requestArgs:{id:t.id}})},createSortFn:createSortFn,getPage:function getPage(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=getAll(t,r,a);if(a.$limit||a.$offset){var o=a.$limit,c=a.$offset?a.$offset:0;return i.skip(c).take(o)}return i},getAll:getAll,getLocalStorageKey:function getLocalStorageKey(t,r,a){return l()("entity_%s_%s_%s",a,t,r)},isTrueFetchAll:function isTrueFetchAll(t,r,a){var i=["$order","$limit","$offset"];if("fetchAll"===r){t.parent&&i.push(t.parent.key);var c=o.a.omit(a,i);return 0===o.a.size(c)}return!1},processRequestQueue:function processRequestQueue(t,r){var a=0;return setTimeout((function process(){if(0!==t.length&&a<(r||g.a.CONCURRENT_QUEUE_LIMIT)){var i=t.shift();a+=1,i.fn().then(i.def.resolve,i.def.reject).always((function(){a-=1,process()})),process()}})),Promise.all(t.map((function(t){return t.def})))}}},function(t,r,a){"use strict";var i=a(42),o=a.n(i),c=a(2193);r.a=c.a.create({baseUrl:o.a.get("api.baseUrl","/api/v1"),headers:{"X-csrf-token":o.a.get("csrf","")}})},function(t,r,a){"use strict";r.a={entity:"live",parent:{entity:"layers",key:"layer_id"}}},function(t,r,a){"use strict";a.d(r,"b",(function(){return p}));var i=a(5),o=a(213),c=a(279),l=a(7),u=a(2739),d=a(2740);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var p=function fetchEventsForSelectedMetrics(t){t.forEach((function(t){var r=t.event_id;r&&o.a.fetch(r)}))};r.a={addEventFromSearchApiViaEditMetricSheet:function addEventFromSearchApiViaEditMetricSheet(t){var r=this,a=t.currentProjectId,i=t.metric,o=t.selectedMetrics;return new Promise((function(t){r.showEditMetricSheet({currentProjectId:a,isNewMetric:!0,metric:i,selectedMetrics:o}).then((function(r){return t([].concat(_toConsumableArray(o),[r]))}))}))},fetchEventsForSelectedMetrics:p,fetchProjectsAndSetProvidedProjectAsDeduplicatedFirst:function fetchProjectsAndSetProvidedProjectAsDeduplicatedFirst(){return new Promise((function(t,r){c.default.fetchAllPages({project_status:l.default.project_status.ACTIVE,project_platforms:l.default.project_platforms.CUSTOM}).allPages.then((function(r){return t(r)})).fail(r)}))},showCreateOrEditEventSheet:function showCreateOrEditEventSheet(t){var r=t.currentProjectId,a=t.id,o=t.name;return new Promise((function(t){i.default.showReactDialog(u.a,{props:_extends({},a&&{id:a},o&&{name:o},{currentProjectId:r,onSave:function onSave(r){return i.default.hideDialog().then((function(){return t(r)}))},onCancel:function onCancel(){return i.default.hideDialog()}})},{fullScreen:!0,dismissOnBack:!0,isOuiDialog:!0})}))},showEditMetricSheet:function showEditMetricSheet(t){var r=t.currentProjectId,a=t.isNewMetric,o=void 0!==a&&a,c=t.metric,l=t.selectedMetrics;return new Promise((function(t){i.default.showReactDialog(d.a,{props:{currentProjectId:r,isNewMetric:o,metric:c,selectedMetrics:l,onSave:function onSave(r){return i.default.hideDialog().then((function(){return t(r)}))},onCancel:function onCancel(){return i.default.hideDialog()}}},{fullScreen:!0,dismissOnBack:!0,isOuiDialog:!0})}))}}},function(t,r,a){"use strict";a.r(r),a.d(r,"REVENUE_METRIC",(function(){return p})),a.d(r,"INVALID_HOLDBACK_ERROR",(function(){return m})),a.d(r,"MIN_HOLDBACK_WARNING",(function(){return g})),a.d(r,"STATUS_BY_ACTUAL_STATUS",(function(){return h})),a.d(r,"TEXT_BY_LAYER_TYPE",(function(){return y})),a.d(r,"TEXT_BY_CAMPAIGN_TYPE",(function(){return v}));var i,o,c,l=a(8),u=a.n(l),d=a(21);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var p={name:u()("Overall Revenue"),description:u()("Overall Revenue")},m=u()("The campaign holdback must be a value between 0 and 99.99."),g=u()("This holdback is too small to measure results. We recommend a 5% holdback."),h=(_defineProperty(i={},d.entityStatus.ARCHIVED,u()("Archived")),_defineProperty(i,d.entityStatus.RUNNING,u()("Running")),_defineProperty(i,d.entityStatus.PAUSED,u()("Paused")),_defineProperty(i,d.entityStatus.NOT_STARTED,u()("Not Started")),i),y=(_defineProperty(o={},d.type.AB,{name:u()("A/B Test")}),_defineProperty(o,d.type.FEATURE,{name:u()("Feature Test")}),_defineProperty(o,d.type.MULTIVARIATE,{name:u()("Multivariate Test")}),_defineProperty(o,d.type.MULTIARMED_BANDIT,{name:u()("Multi-Armed Bandit")}),_defineProperty(o,d.type.PERSONALIZATION,{name:u()("Personalization Campaign")}),_defineProperty(o,d.type.ROLLOUT,{name:u()("Rollout")}),o),v=(_defineProperty(c={},d.campaignTypes.SINGLE_EXPERIMENT,{name:u()("A/B Test"),duplicate:{title:u()("Duplicate Experiment"),selectProject:u()("Select a project to duplicate this experiment to."),selectSameProject:u()("This will create a copy of your experiment in the current project."),inProgress:u()("Duplicating experiment..."),note:u()("Note: If you are duplicating a paused experiment with no variation changes, you will need to add some variation code in order to start the duplicate experiment."),permissionsError:u()("You do not have the necessary permissions to duplicate this experiment."),successTitle:u()("Experiment Duplicated"),successMessage:u()("Your experiment was duplicated successfully.")}}),_defineProperty(c,d.campaignTypes.P13N_CAMPAIGN,{name:u()("Personalization Campaign"),duplicate:{title:u()("Duplicate Campaign"),selectProject:u()("Select a project to duplicate this campaign to."),selectSameProject:u()("This will create a copy of your campaign in the current project."),inProgress:u()("Duplicating campaign..."),note:u()("Note: If you are duplicating a paused campaign with no variation changes, you will need to add some variation code in order to start the duplicate campaign."),permissionsError:u()("You do not have the necessary permissions to duplicate this campaign."),successTitle:u()("Campaign Duplicated"),successMessage:u()("Your campaign was duplicated successfully.")}}),_defineProperty(c,d.campaignTypes.MULTIVARIATE,{name:u()("Multivariate Test"),duplicate:{title:u()("Duplicate Experiment"),selectProject:u()("Select a project to duplicate this experiment to."),selectSameProject:u()("This will create a copy of your experiment in the current project."),inProgress:u()("Duplicating experiment..."),note:u()("Note: If you are duplicating a paused experiment with no variation changes, you will need to add some variation code in order to start the duplicate experiment."),permissionsError:u()("You do not have the necessary permissions to duplicate this experiment."),successTitle:u()("Experiment Duplicated"),successMessage:u()("Your experiment was duplicated successfully.")}}),_defineProperty(c,d.campaignTypes.MULTIARMED_BANDIT,{name:u()("Multi-Armed Bandit"),duplicate:{title:u()("Duplicate Multi-Armed Bandit"),selectProject:u()("Select a project to duplicate this experiment to."),selectSameProject:u()("This will create a copy of your bandit in the current project."),inProgress:u()("Duplicating multi-armed bandit..."),note:u()("Note: If you are duplicating a paused bandit with no variations changes, you will need to add some variation code in order to start the duplicate bandit."),permissionsError:u()("You do not have the necessary permissions to duplicate this bandit."),successTitle:u()("Multi-Armed Bandit Duplicated"),successMessage:u()("Your bandit was duplicated successfully.")}}),c)},,,,function(t,r,a){"use strict";a.r(r);var i=a(764),o=a.n(i);a.d(r,"actions",(function(){return o.a}));var c=a(1286),l=a.n(c);a.d(r,"fns",(function(){return l.a}));var u=a(818),d=a.n(u);a.d(r,"getters",(function(){return d.a})),r.default={actions:o.a,fns:l.a,getters:d.a}},function(t,r,a){"use strict";a.r(r);var i=a(824);a.d(r,"actions",(function(){return i.a}));var o=a(470);a.d(r,"actionTypes",(function(){return o.a}));var c=a(221);a.d(r,"constants",(function(){return c.a}));var l=a(494);a.d(r,"fns",(function(){return l.a}));var u=a(1084);a.d(r,"getters",(function(){return u.default})),r.default={actions:i.a,actionTypes:o.a,constants:c.a,fns:l.a,getters:u.default}},function(t,r,a){"use strict";var i=a(412);a.d(r,"a",(function(){return i.default}));var o=a(291);a.d(r,"b",(function(){return o.a}));var c=a(406);a.d(r,"d",(function(){return c.default}));var l=a(509),u=a(1307);a.d(r,"c",(function(){return u.a}));i.default,o.a,c.default,l.a,u.a},,function(t,r,a){"use strict";var i=a(3),o=a(1180);a.d(r,"a",(function(){return o.a}));var c=a(342);a.d(r,"c",(function(){return c.a}));var l=a(1181),u=a(410);a.d(r,"d",(function(){return u.a}));r.b={actions:o.a,enums:c.a,fns:l.a,getters:u.a,isOptimizelyX:function isOptimizelyX(){return i.default.evaluate(u.a.activeVersion)===c.a.versions.OPTIMIZELY_X},isClassic:function isClassic(){return i.default.evaluate(u.a.activeVersion)===c.a.versions.CLASSIC}}},function(t,r,a){function asyncGeneratorStep(t,r,a,i,o,c,l){try{var u=t[c](l),d=u.value}catch(t){return void a(t)}u.done?r(d):Promise.resolve(d).then(i,o)}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var i=a(12),o=a(4),c=a(2).toImmutable,l=a(3382).html,u=a(3),d=a(149),p=a(123),m=a(400).default,g=a(499).default,h=a(5).default,y=a(911).default,v=a(66),_=a(13),E=a(177),b=a(74),T=a(220),S=a(412).default,C=a(117).default,I=a(129).default,A=a(83).default,O=a(20),P=a(693).default,R=(a(282),a(1202)),w=a(85).default,N=a(90),L=a(394).default,x=a(330).default,D=a(127).default,k=a(31).default;r.saveLayerExperimentOrSectionAction=function(t,r,a,i){var o=t.get("variations").findIndex((function(t){return t.get("variation_id")===a})),c=t.getIn(["variations",o,"actions"]).find((function(t){return t.get("view_id")===i}));return(A.isMultivariateTestLayer(r)?S.cleanAndSaveAction:I.cleanAndSaveAction)(c.toJS(),{id:t.get("id"),variation_id:a,view_id:i}).then((function(){u.dispatch(D.P13N_CURRENT_CHANGE_RESET_IS_DIRTY)}))},r.unselectAction=function(){var t=u.evaluate(N.activeFrame),a=u.evaluate(N.currentlyEditingChangeId);t&&(t.get("component").shown=!1,t.get("component").$off(b.enums.IFrameMessageTypes.CLICK),b.actions.setMode(t.get("id"),b.enums.IFrameModeTypes.STANDARD)),a&&r.unsetCurrentlyEditingChange(),r.unselectView(),r.unselectVariation(),r.unselectExperimentOrSectionId(),E.showCustomCodePanel(!1)},r.setupEveryoneElseAction=function(t,a,i){r.selectView(a),r.selectVariation(x.EVERYONE_ELSE_AUDIENCE.variation_id),r.selectExperimentOrSectionId(i);var o=u.evaluate(N.activeFrame);this.setInteractiveModeOnIFrame(o)},r.setInteractiveModeOnIFrame=function(t){t.get("loadStatus")===b.enums.IFrameLoadStatuses.READY?b.actions.setMode(t.get("id"),b.enums.IFrameModeTypes.INTERACTIVE):t.get("component").$on(b.enums.IFrameMessageTypes.READY,o.partial(b.actions.setMode,t.get("id"),b.enums.IFrameModeTypes.INTERACTIVE))},r.reloadCurrentIframe=function(){var t=u.evaluate(N.activeFrameId);b.actions.reloadCurrentUrl(t)},r.editorCustomCodeOnSave=function(){var t=u.evaluateToJS(N.activeFrameId);u.evaluateToJS(b.getters.iframeLoadingStatus(t))===b.enums.IFrameLoadStatuses.READY&&r.reloadCurrentIframe()},r.refreshCurrentIframe=function(){var t=u.evaluate(N.activeFrameId),r=u.evaluate(N.currentActionRedirectChange),a=u.evaluateToJS(N.selectedView);if(!r||!r.get("dest_fn",null)){var i=r?r.get("dest"):a.edit_url,c=r?[b.enums.ProtocolTypes.PROXY]:o.keys(b.enums.ProtocolTypes);b.actions.setCurrentUrl(t,i,c)}},r.createAndSelectNewRedirect=function(){r.unsetCurrentlyEditingChange();var t={id:d(),type:O.enums.ChangeTypes.REDIRECT,status:O.enums.ChangeStatuses.INITIAL,preserveParameters:!0,allowAdditionalRedirect:!1,dest:""};r.setCurrentlyEditingRedirectChange(t)},r.setCurrentlyEditingChange=function(t){var a=u.evaluate(N.selectedViewId);P.actions.initializeCurrentlyEditingTrackClickEvent(t.selector,a),u.dispatch(D.P13N_EDITOR_SET_CURRENTLY_EDITING_CHANGE,{change:t});var i=u.evaluate(N.activeFrameId);b.actions.unhighlightAllElements(i),r.highlightChange(t)},r.applyCurrentlyEditingChange=function(){var t=u.evaluateToJS(N.currentlyEditingChange),r=u.evaluateToJS(N.currentlyEditingActionFormatted(!0,t)),a=u.evaluateToJS(N.activeFrameId);b.actions.applyChanges(a,r)},r.setCurrentlyEditingRedirectChange=function(t){var r=Object.assign({},t);r.isRedirectUrl=Object.prototype.hasOwnProperty.call(t,"isRedirectUrl")?t.isRedirectUrl:void 0===t.dest_fn,u.dispatch(D.P13N_EDITOR_SET_CURRENTLY_EDITING_REDIRECT_CHANGE,{change:r})},r.setCurrentlyEditingInsertHTMLChange=function(t){u.dispatch(D.P13N_EDITOR_SET_CURRENTLY_EDITING_INSERT_HTML_CHANGE,{change:t});var a=u.evaluate(N.activeFrameId);b.actions.unhighlightAllElements(a),r.highlightChange(t)},r.setCurrentlyEditingInsertImageChange=function(t){u.dispatch(D.P13N_EDITOR_SET_CURRENTLY_EDITING_INSERT_IMAGE_CHANGE,{change:t});var r=u.evaluate(N.activeFrameId);b.actions.unhighlightAllElements(r),b.actions.highlightElement({id:r,selector:t.selector,type:T.IFrameHighlightTypes.SELECTED})},r.createAndSelectNewChange=function(t){r.unsetCurrentlyEditingChange();var a={id:d(),selector:t,dependencies:[]};r.setCurrentlyEditingChange(a)},r.createAndSelectInsertHTMLChange=function(){r.unsetCurrentlyEditingChange();var t={id:d(),selector:"",dependencies:[]};r.setCurrentlyEditingInsertHTMLChange(t)},r.createAndSelectInsertImageChange=function(){r.unsetCurrentlyEditingChange();var t={id:d(),selector:"",dependencies:[]};r.setCurrentlyEditingInsertImageChange(t)},r.setChangeBasedOnExistingChange=function(t){var a=u.evaluate(N.activeFrameId);return b.actions.fetchElementInfo(a,t.selector,t.id).then((function(a){return r.setCurrentlyEditingChange(t),r.setElementInfoForChange(a),a}),(function(i){console.warn("Unable to fetch elementInfo for frameId ".concat(a),i),r.setCurrentlyEditingChange(t)})).fail(o.partial(r.setCurrentlyEditingChange,t))},r.setChangeBasedOnSelector=function(t,a){var c=u.evaluate(N.activeFrameId),l=o.map(u.evaluateToJS(N.currentActionAttributeChanges),"selector"),d=u.evaluateToJS(N.getAttributeChangeBySelector(t));if(d){var p=i.Deferred();return b.actions.fetchElementInfo(c,t,d.id).then((function(t){r.unsetCurrentlyEditingChange(),r.setCurrentlyEditingChange(d),r.setElementInfoForChange(t),p.resolve()})),p}return l.length?b.actions.testSelectorEquality(u.evaluate(N.activeFrameId),t,l).then((function(i){if(!i.length)return r.createAndSelectNewChange(t),r.setElementInfoForChange(a),void r.setInitialSelector(t||"");var o=i.pop(),l=u.evaluateToJS(N.getChangeBySelector(o));b.actions.fetchElementInfo(c,o,l.id).then((function(t){r.unsetCurrentlyEditingChange(),r.setCurrentlyEditingChange(l),r.setElementInfoForChange(t)}))})):(r.createAndSelectNewChange(t),r.setElementInfoForChange(a),r.setInitialSelector(t||""),i.Deferred().resolve())},r.undoDirtyChange=function(){if(u.evaluateToJS(N.currentlyEditingChangeIsDirty)){var t=u.evaluateToJS(N.currentlyEditingActionFormatted(!0)),r=u.evaluateToJS(N.activeFrameId);b.actions.applyChanges(r,t)}},r.unsetCurrentlyEditingChange=function(){P.actions.revertChanges();var t=u.evaluate(N.currentlyEditingChange);t.get("id")&&r.unhighlightChange(t.toJS()),u.dispatch(D.P13N_EDITOR_UNSET_CURRENTLY_EDITING_CHANGE)},r.setCurrentlyEditingChangeDependencies=function(t){var r=u.evaluate(N.currentActionAttributeChangesWithStatus),a=u.evaluate(N.currentlyEditingChange),i=a.get("dependencies"),o=r.findIndex((function(t){return t.get("id")===a.get("id")}));if(0!==o){var c=o<0?r.last().get("id"):r.getIn([o-1,"id"]);if(t)i.some((function(t){return t===c}))||(i=i.push(c));else i=i.filter((function(t){return t!==c}));u.dispatch(D.P13N_EDITOR_SET_CURRENTLY_EDITING_CHANGE_DEPENDENCIES,{dependencies:i})}},r.deleteChange=function(t){var a,o=u.evaluate(N.currentLayerExperimentOrSection),c=u.evaluate(N.currentActionChanges),l=u.evaluate(N.selectedViewId),d=u.evaluate(N.selectedVariationId),p=c.findIndex((function(r){return r.get("id")===t}));if(c=c.map((function(r){if(r.get("dependencies").contains(t)){var a=r.get("dependencies").filter((function(r){return r!==t}));return r.set(["dependencies"],a)}return r})),p>=0){a=c.delete(p),a=L.orderChangeList(a);var m=O.fns.addAction(l,d,a,o,g),h=u.evaluate(v.layer);return r.saveLayerExperimentOrSectionAction(m,h,d,l).then((function(){if(u.evaluate(P.getters.campaignEventWithMatchingId))return P.actions.setTrackClickEventEnabled(!1),P.actions.saveTrackClicksChangeEvent()}))}return console.warn("[EDITOR] Could not find change instance with matching id to delete"),i.Deferred().reject()},r.saveVariationCustomCodeChange=function(t){if(t.type===O.enums.ChangeTypes.CUSTOM_CODE){var a=b.fns.lintCode(t.value);if(a.hasLintErrors)return i.Deferred().reject(a)}var o=u.evaluate(N.currentLayerExperimentOrSection),l=u.evaluate(N.selectedVariationId),d=u.evaluate(N.selectedViewId),p=u.evaluate(N.currentActionChanges),m=L.updateChangeListWithFormattedChange(p,c(t));m=L.orderChangeList(m);var h=O.fns.addAction(d,l,m,o,g),y=u.evaluate(v.layer);return r.saveLayerExperimentOrSectionAction(h,y,l,d)},r.saveLayerCustomCodeChange=function(t){if(t.type===O.enums.ChangeTypes.CUSTOM_CODE){var r=b.fns.lintCode(t.value);if(r.hasLintErrors)return i.Deferred().reject(r)}var a=u.evaluate(v.layer),o=u.evaluate(v.layerChanges),l=L.updateChangeListWithFormattedChange(o,c(t));return C.save({id:a.get("id"),changes:l.toJS()})},r.saveWidgetChange=function(t){var a=u.evaluate(N.currentLayerExperimentOrSection),i=u.evaluate(N.selectedVariationId),o=u.evaluate(N.selectedViewId),l=u.evaluate(N.currentActionChanges),d=L.updateChangeListWithFormattedChange(l,c(t));d=L.orderChangeList(d);var p=O.fns.addAction(o,i,d,a,g),m=u.evaluate(v.layer);return r.saveLayerExperimentOrSectionAction(p,m,i,o)},r.saveEditingChange=function(){var t=u.evaluate(N.currentlyEditingChange);if(!O.fns.validateLayerExperimentChange(t))return i.Deferred().reject();var a=t.toJS(),l={id:a.id,status:a.status,type:a.type,dependencies:a.dependencies||[]};switch(a.type){case O.enums.ChangeTypes.ATTRIBUTE:l.selector=a.selector,l.async=a.async,l.attributes={},l.rearrange={insertSelector:a.rearrange.insertSelector,operator:a.rearrange.operator},l.css=a.css;break;case O.enums.ChangeTypes.INSERT_HTML:case O.enums.ChangeTypes.INSERT_IMAGE:l.selector=a.selector,l.async=a.async,l.value=a.value,l.operator=a.operator;break;case O.enums.ChangeTypes.REDIRECT:a.isRedirectUrl?(l.dest=a.dest,l.preserveParameters=a.preserveParameters):(l.dest_fn=a.dest_fn,l.preserveParameters=!1),l.allowAdditionalRedirect=a.allowAdditionalRedirect;break;default:window.console.warn("Editing change doesn't have a valid type")}l=c(l),o.isNull(a.name)||o.isUndefined(a.name)||(l=l.set("name",a.name)),o.each(a.attributes,(function(t,r){a.shouldSaveFlags[r]&&(l=l.setIn(["attributes",r],t))}));var d=u.evaluate(N.currentLayerExperimentOrSection),p=u.evaluate(N.currentActionChanges),m=u.evaluate(N.selectedViewId),h=u.evaluate(N.selectedVariationId),y=L.updateChangeListWithFormattedChange(p,l);y=L.orderChangeList(y);var _=O.fns.addAction(m,h,y,d,g),E=u.evaluate(v.layer);return r.saveLayerExperimentOrSectionAction(_,E,h,m).then((function(){return P.actions.saveTrackClicksChangeEvent()}))},r.resetCurrentlyEditingDirtyChange=function(){u.dispatch(D.P13N_CURRENT_CHANGE_RESET_IS_DIRTY)},r.setChangeAttributesProperty=function(t,r){var a=r,i=!0,c=u.evaluate(N.currentlyEditingChange),l=u.evaluate(N.getChangeById(c.get("id"))),d=l?l.getIn(["attributes",t],null):null,p=c.get("elementInfo").first();r===L.getOriginalValueForChange(d,p,t)?(a=d,i=!1):p||!o.isEmpty(r)||o.isBoolean(r)||(a=null,null===d&&(i=!1)),u.dispatch(D.P13N_CURRENT_CHANGE_SET_ATTRIBUTES_PROPERTY,{type:t,value:a,shouldSaveFlag:i})},r.revertChangeAttribute=function(t){var r=u.evaluate(N.currentlyEditingChange),a=u.evaluate(N.getChangeById(r.get("id"))),i=a?a.getIn(["attributes",t],null):null,o=r.get("elementInfo").first(),c=L.getOriginalValueForChange(i,o,t);u.dispatch(D.P13N_CURRENT_CHANGE_SET_ATTRIBUTES_PROPERTY,{type:t,value:c,shouldSaveFlag:!1})},r.revertChangeSelector=function(){u.dispatch(D.P13N_CURRENT_CHANGE_SET_SELECTOR,{selector:u.evaluate(N.initialSelector),isDirty:!1})},r.revertCSSProperty=function(t){var r=u.evaluate(N.storedCSSValue(t));null!==r?u.dispatch(D.P13N_CURRENT_CHANGE_SET_CSS_PROPERTY,{property:t,value:r}):u.dispatch(D.P13N_CURRENT_CHANGE_REMOVE_CSS_PROPERTY,{property:t})},r.revertChangeRearrange=function(){var t=u.evaluate(N.currentlyEditingChange),r=u.evaluate(N.getChangeById(t.get("id"))),a=r?r.get("rearrange").toJS():{operator:"before",insertSelector:""};u.dispatch(D.P13N_CURRENT_CHANGE_SET_REARRANGE_PROPERTY,{data:a})},r.revertInsertHTMLValue=function(){var t=u.evaluate(N.currentlyEditingChange),r=u.evaluate(N.getChangeById(t.get("id"))),a=r?r.get("value"):"";u.dispatch(D.P13N_INSERT_HTML_SET_HTML_VALUE,{html:a})},r.revertChangeTiming=function(){var t=u.evaluate(N.currentlyEditingChange),r=u.evaluate(N.getChangeById(t.get("id"))),a=!(!r||!r.has("async"))&&r.get("async");u.dispatch(D.P13N_CURRENT_CHANGE_SET_ASYNC_PROPERTY,{async:a})},r.setInitialSelector=function(t){u.dispatch(D.P13N_CHANGE_EDITOR_SET_INITIAL_SELECTOR,{selector:t})},r.setChangeSelector=function(t){var a=u.evaluateToJS(N.currentlyEditingChange);a.selector!==t&&r.unhighlightChange(a),u.dispatch(D.P13N_CURRENT_CHANGE_SET_SELECTOR,{selector:t,isDirty:t!==u.evaluate(N.initialSelector)}),a=u.evaluateToJS(N.currentlyEditingChange),r.highlightChange(a)},r.setChangeRearrangeProperty=function(t,a){u.dispatch(D.P13N_CURRENT_CHANGE_SET_REARRANGE_PROPERTY,{data:_defineProperty({},t,a)});var i=u.evaluateToJS(N.currentlyEditingChange);r.unhighlightChange(i),r.highlightChange(i)},r.setChangeTiming=function(t){u.dispatch(D.P13N_CURRENT_CHANGE_SET_ASYNC_PROPERTY,{async:t})},r.unhighlightChange=function(t){var r={id:u.evaluate(N.activeFrameId),dataOptlyId:t.id,selector:t.selector,type:T.IFrameHighlightTypes.SELECTED};b.actions.unhighlightElement(r)},r.highlightChange=function(t){var r=u.evaluate(N.activeFrameId),a=o.extend({id:r,type:T.IFrameHighlightTypes.SELECTED},L.getHighlighterOptionsForElementChange(t));b.actions.highlightElement(a)},r.setChangeName=function(t){u.dispatch(D.P13N_CURRENT_CHANGE_SET_NAME,{name:t})},r.uploadImage=function(t){return R.upload(t,null,null,u.evaluate(_.id))},r.destroyVariationIFrames=function(){var t=u.evaluate(v.variations),r=u.evaluateToJS(v.views),a=o.map(r,"id");t.forEach((function(t){var r=t.get("variation_id");o.map(a,(function(t){var a=L.getIframeId(t,r);b.actions.destroyIFrame(a)}))}))},r.applyChangesOnReady=function(t,r,a,i){t.$on(b.enums.IFrameMessageTypes.READY,(function(){var t=L.getIframeId(r.id,a),o=u.evaluate(v.layerChanges),c=u.evaluate(i(r.id,a)),l=o.concat(c).map(L.formatChangeForApply);b.actions.applyChanges(t,l.toJS()),b.actions.syncState(t,b.enums.EditorTypes.EXPERIMENT_EDITOR)}))},r.selectView=function(t){u.dispatch(D.P13N_EDITOR_SELECT_VIEW,{id:t.id})},r.unselectView=function(){u.dispatch(D.P13N_EDITOR_UNSELECT_VIEW)},r.unselectVariation=function(){r.unsubscribeFromCurrentExperiment(),u.dispatch(D.P13N_EDITOR_UNSELECT_VARIATION)},r.selectVariation=function(t){u.dispatch(D.P13N_EDITOR_SELECT_VARIATION,{id:t}),r.subscribeToCurrentExperiment()},r.subscribeToCurrentExperiment=function(){var t=u.evaluate(N.currentLayerExperimentOrSection);t&&(y.actions.subscribeToEntity(O.entityDef.entity,t.get("id")),i(window).one("online",r.subscribeToCurrentExperiment))},r.unsubscribeFromCurrentExperiment=function(){var t=u.evaluate(N.currentLayerExperimentOrSection);t&&y.actions.unsubscribeFromEntity(O.entityDef.entity,t.get("id")),i(window).off("online",r.subscribeToCurrentExperiment)},r.setElementInfoForChange=function(t){var r=t.elementInfo,a=k.isFeatureEnabled("beautify_html_enabled"),i=o.each(r,(function(t){return t.computedStyle.getPropertyValue=function(t){return this[t]||this[L.cssToIDL(t)]},o.extend(t,{html:a?l(t.html.trim(),{indent_size:2,max_preserve_newlines:1}):t.html.trim()})}));u.dispatch(D.P13N_EDITOR_SET_CURRENT_CHANGE_ELEMENT_INFO,{elementInfo:i,elementCount:t.elementCount})},r.resetElementInfo=function(){u.dispatch(D.P13N_EDITOR_RESET_ELEMENT_INFO)},r.setChangeEditorCurrentSelector=function(t){u.dispatch(D.P13N_CHANGE_EDITOR_SET_CURRENT_SELECTOR,{selector:t})},r.setChangeEditorCurrentSelectorType=function(t){u.dispatch(D.P13N_CHANGE_EDITOR_SET_CURRENT_SELECTOR_TYPE,{type:t})},r.setChangeEditorElementSelectorEnabled=function(t){u.dispatch(D.P13N_EDITOR_SET_CHANGE_EDITOR_ELEMENT_SELECTOR_ENABLED,{enabled:t})},r.setChangeEditorIsEditingSelector=function(t){u.dispatch(D.P13N_EDITOR_SET_CHANGE_EDITOR_IS_EDITING_SELECTOR,{isEditing:t})},r.getChangeMatchingSelector=function(t){var r=o.map(u.evaluateToJS(N.currentActionChanges),"selector"),a=u.evaluateToJS(N.getChangeBySelector(t));if(a)return a;if(r.length){var i=b.actions.testSelectorEquality(u.evaluate(N.activeFrameId),t,r);if(i.length)return u.evaluateToJS(N.getChangeBySelector(i.pop()))}return null},r.getSelectedViewUrlAndProtocol=function(){var t={url:null,protocol:null},r=u.evaluateToJS(N.selectedView);return r&&(t.url=r.edit_url,t.protocol=u.evaluateToJS(b.getters.urlProtocolMapping(r.edit_url))),t},r.getAbsoluteUrlForImage=function(t){if(t&&t.match(/^\/[^/]+/)){var a=r.getSelectedViewUrlAndProtocol();if(a.url&&a.protocol){var i=p.create(p.generateHttpUrl(a.url));switch(a.protocol){case b.enums.ProtocolTypes.PROXY:return p.generateProxyUrl(p.generateHttpUrl(i.hostname+t));case b.enums.ProtocolTypes.HTTPS:return p.generateHttpsUrl(i.hostname+t);default:return p.generateHttpUrl(i.hostname+t)}}}return t},r.setChangeCSSProperty=function(t,r){u.dispatch(D.P13N_CURRENT_CHANGE_SET_CSS_PROPERTY,{property:t,value:r})},r.removeChangeCSSProperty=function(t){u.dispatch(D.P13N_CURRENT_CHANGE_REMOVE_CSS_PROPERTY,{property:t})},r.setImageProperties=function(t){var a=o.debounce((function(t){L.getImageDimensions(t)}),x.IMAGE_DEBOUNCE_INTERVAL),i=o.debounce((function(t){L.getImageSize(t)}),x.IMAGE_DEBOUNCE_INTERVAL);t.absoluteUrl=r.getAbsoluteUrlForImage(t.displayValue),t.filename=L.getImageFileName(t.displayValue),a(t),i(t)},r.setImagePropertiesReact=function(){var t=function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var c=t.apply(r,a);function _next(t){asyncGeneratorStep(c,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return t.absoluteUrl=r.getAbsoluteUrlForImage(t.displayValue),t.filename=L.getImageFileName(t.displayValue),a.next=4,L.getImageSize(t);case 4:case"end":return a.stop()}}),_callee)})));return function(r){return t.apply(this,arguments)}}(),r.resetEditorUiState=function(){var t=u.evaluate(N.activeFrameId);b.actions.unhighlightAllElements(t),r.unselectView(),r.unselectVariation(),r.unselectExperimentOrSectionId(),r.unsetCurrentlyEditingChange(),r.resetElementInfo(),b.actions.reset()},r.setCurrentlyEditingInsertHTMLChangeValue=function(t){u.dispatch(D.P13N_INSERT_HTML_SET_HTML_VALUE,{html:t})},r.setInsertHTMLOperator=function(t){u.dispatch(D.P13N_INSERT_HTML_SET_OPERATOR,{operator:t})},r.setChangeRedirectProperty=function(t,r){u.dispatch(D.P13N_CURRENT_CHANGE_SET_REDIRECT_PROPERTY,{data:_defineProperty({},t,r)})},r.unselectExperimentOrSectionId=function(){u.dispatch(D.P13N_EDITOR_UNSELECT_EXPERIMENT_ID)},r.selectExperimentOrSectionId=function(t){u.dispatch(D.P13N_EDITOR_SELECT_EXPERIMENT_ID,{selectedExperimentOrSectionId:t})},r.setupEditorState=function(t){if(r.unselectAction(),r.selectVariation(t.variationId),t.experimentOrSectionId&&r.selectExperimentOrSectionId(t.experimentOrSectionId),!t.view){var a=u.evaluateToJS(v.views);t.view=a[0]}return r.selectView(t.view),t},r.initializeChangeListSidebar=function(){var t=u.evaluate(N.currentLayerExperimentOrSection);if(t&&t.get("status")===O.enums.status.ARCHIVED){var a=u.evaluate(N.activeFrame);r.setInteractiveModeOnIFrame(a)}"p13n-change-list-sidebar"===u.evaluate(m.mountedComponentId("p13n-editor-sidebar"))&&u.evaluate(m.mountedComponent("p13n-editor-sidebar")).$emit(x.EmittedEventTypes.INITIALIZE_CHANGE_LIST)},r.highlightCurrentSelector=function(){var t=u.evaluate(N.activeFrameId),r=u.evaluateToJS(N.currentlyEditingChange),a=L.getHighlighterOptionsForElementChange(r);b.actions.unhighlightAllElements(t),b.actions.highlightElement({id:t,dataOptlyId:a.dataOptlyId,selector:a.selector,type:T.IFrameHighlightTypes.SELECTED})},r.cleanupIframes=function(){var t=u.evaluate(N.oldestInactiveFrame);t&&t.get("component").$destroy()},r.onChangeSelectorInput=function(t,a){var i,o=u.evaluate(N.activeFrameId),c=u.evaluate(N.currentlyEditingChange);switch(a){case x.SelectorInputTypes.ELEMENT_SELECTOR:i=c.get("selector")||"",r.setChangeSelector(t),P.actions.updateTrackClickEventSelector(t);break;case x.SelectorInputTypes.REARRANGE_SELECTOR:i=c.getIn(["rearrange","insertSelector"])||"",r.setChangeRearrangeProperty("insertSelector",t);break;case x.SelectorInputTypes.INSERT_HTML_SELECTOR:case x.SelectorInputTypes.INSERT_IMAGE_SELECTOR:i=c.get("selector")||"",r.setChangeSelector(t);break;default:return void console.warn("No current selector type has been set - unable to set new selector for change")}if(t!==i.trim()){c=u.evaluate(N.currentlyEditingChange);var l=u.evaluateToJS(N.currentlyEditingActionFormatted(!0,c));b.actions.applyChangesAndFetchElementInfo(o,l,c.get("selector",null),c.get("id",null)).then(r.setElementInfoForChange)}},r.toggleElementSelection=function(t,a){r.setChangeEditorIsEditingSelector(t),r.setChangeEditorCurrentSelectorType(t?a:null)},r.discardChangesAndSetChangeBasedOnSelector=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},i=function afterConfirmAction(){r.setChangeBasedOnSelector(t.selector,t.selectorInfo).then((function(){w.showChangeEditorSidebar(),a()}))},o=u.evaluate(N.currentlyEditingChangeIsDirty);if(o){var c=u.evaluate(N.activeFrameId);h.confirm({title:tr("Are you sure you want to discard changes?"),message:tr("Changing elements will discard your unsaved changes. Are you sure you want to continue?"),confirmText:tr("Discard Changes and Select New Element"),isWarning:!0}).then((function(){var t=u.evaluateToJS(N.currentlyEditingActionFormatted(!0));b.actions.applyChanges(c,t),i()}))}else i()},r.setChangeListSidebarComponentConfig=function(t){u.dispatch(D.P13N_EDITOR_SET_CHANGE_LIST_SIDEBAR_COMPONENT_CONFIG,t)}},,function(t,r,a){"use strict";var i=["metricsManager","workingMetricWrappers"],o=[i,function(t){return t.size?t.first().get("metric"):null}],c=[i,function(t){return t.map((function(t){return t.get("metric")}))}];r.a={currentlyEditingMetricWrapper:["metricsManager","currentlyEditingMetricWrapper"],outlierFilter:["metricsManager","outlierFilter"],primaryWorkingMetric:o,workingMetrics:c,workingMetricWrappers:i}},,,function(t,r,a){"use strict";a.d(r,"a",(function(){return d})),a.d(r,"b",(function(){return p})),a.d(r,"d",(function(){return g})),a.d(r,"e",(function(){return h}));var i=a(72),o=a.n(i),c=a(761),l=a(103),u=a(120);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var d=function computeDefaultMetricFromSearchApiEvent(t){var r=t.id,a=t.name;return _extends({},l.a.CUSTOM,{display_title:a,event_id:r})},p=function computeSearchApiEventFormatFromEvent(t){var r=t.archived,a=t.api_name,i=t.created,o=t.description,c=t.id,l=t.last_modified,d=t.name;return{archived:r,created:i,description:o,id:c,last_modified:l,name:a||d,project_id:t.project_id,type:u.b.Event}},m=function getAggregatorAndFieldDescription(t,r){var a=l.b.aggregatorAndField[t],i=a&&a[r||l.c];return i||"".concat(t," ").concat(r)},g=function getCodeBlock(t,r){var a=c.a.CODE_BLOCKS;return r?o()(a[t],r):o()(a[t],"")},h=function getMetricDescription(t,r,a,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=l.b.winningDirection[t],u=m(r,a),d=l.b.scope[i],p=o?" ".concat(o):"";return c&&u&&d?{description:"".concat(c," in ").concat(u," per ").concat(d," for").concat(p," event"),isAdvancedConfigFromApi:!1}:{description:"Winning direction: ".concat(t,", aggregator: ").concat(r,", field: ").concat(a,", scope: ").concat(i," for").concat(p," event"),isAdvancedConfigFromApi:!0}};r.c={computeDefaultMetricFromSearchApiEvent:d,computeSearchApiEventFormatFromEvent:p,getAggregatorAndFieldDescription:m,getCodeBlock:g,getMetricDescription:h}},function(t,r,a){"use strict";a.d(r,"a",(function(){return c}));var i=a(17),o=a.n(i),c=o()({VARIATIONS:null,PAGES:null,AUDIENCES:null,INTEGRATIONS:null,METRICS:null,CUSTOM_CODE:null,API_NAMES:null,SCHEDULE:null,TRAFFIC_ALLOCATION:null,HISTORY:null,SETTINGS:null}),l=o()({SECTIONS:null,COMBINATIONS:null});r.b={Tabs:c,MvtTabs:l}},function(t,r,a){"use strict";var i=["localStorageMeta","entries"],o=["localStorageMeta","lruKeyList"],c=[i,function(t){var r=0;return t&&t.forEach((function(t){r+=t.get("size")})),r}];var l=[i,o,function(t,r){var a={entries:t&&t.toJS(),lruKeyList:i&&r.toJS()};return JSON.stringify(a)}];r.a={entries:i,entryDateModified:function entryDateModified(t){return[i,function(r){if(r&&r.has(t))return r.getIn([t,"dateModified"])}]},entrySize:function entrySize(t){return[i,function(r){return r&&r.has(t)?r.getIn([t,"size"]):0}]},isManagedKey:function isManagedKey(t){return[i,function(r){return r&&r.has(t)}]},lruKeyList:o,serializedMetaStore:l,sizeOfAllEntries:c}},function(t,r,a){"use strict";a.d(r,"a",(function(){return p}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(9),d=a.n(u);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ButtonGrid,t);var r=_createSuper(ButtonGrid);function ButtonGrid(){var t;_classCallCheck(this,ButtonGrid);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).handleButtonClick=function(t,r,a){r?(r(),t.stopPropagation()):(t.preventDefault(),window.open(a,"_blank"))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ButtonGrid,[{key:"render",value:function render(){var t=this,r=this.props,a=r.title,i=r.buttons.filter((function(t){return!Object.prototype.hasOwnProperty.call(t,"isVisible")||t.isVisible})),c=Math.ceil(i.length/4);return o.a.createElement("div",null,a&&o.a.createElement("p",{"data-test-section":"button-grid-title",className:"weight--bold muted flush"},a),_toConsumableArray(Array(c)).map((function(r,a){return o.a.createElement("div",{key:a,className:"lego-grid flush--sides flush--top push--bottom"},_toConsumableArray(Array(4)).map((function(r,c){var l=4*a+c,u=i[l];return l<i.length?o.a.createElement("div",{key:c,"data-test-section":u.testSection,onClick:function onClick(r){return t.handleButtonClick(r,u.onClick,u.href)},className:d()({flex:!0,"flex-justified--center":!0,"flex-align--center":!0,soft:!0,"lego-selector__item":!0,"push--ends":!0,"push--right":!0,"soft-double--ends":u.addExtraLineBreak})},o.a.createElement("a",{target:"_blank","data-test-section":"".concat(u.testSection,"-link"),className:"color--base",href:u.href},u.label,u.description&&o.a.createElement("span",{className:"weight--light oui-label flush micro"},"(",u.description,")"))):o.a.createElement("div",{key:c,className:"soft lego-selector__item visibility--hidden"},o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null))})))})))}}]),ButtonGrid}(o.a.Component);p.propTypes={title:l.a.string,buttons:l.a.arrayOf(l.a.shape({label:l.a.oneOfType([l.a.string,l.a.node]),description:l.a.string,onClick:l.a.func,href:l.a.string,isVisible:l.a.bool,testSection:l.a.string,addExtraLineBreak:l.a.bool}))}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(8),l=a.n(c),u=a(15),d=a.n(u),p=a(37),m=a(161),g=a(872),h=a(2460),y=a(1347),v=a(607),_=a(13),E=a(125),b=a(56),T=a(231),S=a(214),C=a(961),I=a(2),A=a(563),O=a.n(A),P=["tabs","activeTab"],R=o.a.invert(d.a.GoalType),w=a(338).products,N=a(946);function toPercentageString(t){return l.a.number(1*t/100,2,!0)}function tableFilters(t){return[["tableFilters","tableFilters",t],function(r){if(!r)throw new Error("No table filters registered for ".concat(t));return r}]}function selectedIds(t){return[["selectedItems","selectedItems",t],function(t){return t||Object(I.toImmutable)([])}]}var L=[selectedIds("activities"),C.a.entityCache,function(t,r){return 1===t.size?r.get(t.first()):null}],x=[L,function(t){var r=null;if(t&&!o.a.includes(t.get("event"),"goal")){var a=N.retrieveChangedObject(t,["more_info","percentage_included"],toPercentageString);a.before&&a.after&&(r=a)}return Object(I.toImmutable)(r)}],D=[L,function(t){var r=null;if(t&&!o.a.includes(t.get("event"),"goal")){var a=t.getIn(["more_info","audience_ids","added"],Object(I.toImmutable)([])).toJS(),i=t.getIn(["more_info","audience_ids","removed"],Object(I.toImmutable)([])).toJS();(a.length>0||i.length>0)&&(r={added:a,removed:i})}return Object(I.toImmutable)(r)}],k=[L,function(t){var r=null;if(t&&o.a.includes(t.get("event"),"goal")){var a=t.get("goal_id",null),i=t.getIn(["more_info","description","before"],null),c=t.getIn(["more_info","description","after"],null),l={after:c=null!==c?c:t.getIn(["more_info","description"],null),before:i},u=t.getIn(["more_info","event","before"],null),d=t.getIn(["more_info","event","after"],null),p={after:d=null!==d?d:t.getIn(["more_info","event"],null),before:u},m=t.getIn(["more_info","goal_type","before"],null);m=null!==m?R[m].toLowerCase().replace("_"," "):m;var g=t.getIn(["more_info","goal_type","after"],null),h={after:g=null!==(g=null!==g?g:t.getIn(["more_info","goal_type"],null))?R[g].toLowerCase().replace("_"," "):g,before:m},y=t.getIn(["more_info","selector","before"],null),v=t.getIn(["more_info","selector","after"],null),_={after:v=null!==v?v:t.getIn(["more_info","selector"],null),before:y},E=t.getIn(["more_info","target_to_experiments","before"],null),b=t.getIn(["more_info","target_to_experiments","after"],null),T={after:b=null!==b?b:t.getIn(["more_info","target_to_experiments"],null),before:E},S=t.getIn(["more_info","title","before"],null),C=t.getIn(["more_info","title","after"],null),A={after:C=null!==C?C:t.getIn(["more_info","title"],null),before:S},O=t.getIn(["more_info","targeting_urls","before"],Object(I.toImmutable)([])),P=t.getIn(["more_info","targeting_urls","after"],Object(I.toImmutable)([])),w={after:(void 0!==(P=void 0!==P?P:t.getIn(["more_info","targeting_urls"],Object(I.toImmutable)([])))?P:Object(I.toImmutable)([])).toJS(),before:(void 0!==O?O:Object(I.toImmutable)([])).toJS()};w.before&&w.before.length>0&&(w.before=w.before.map((function(t){return t.url=t.url.replace(/_/g,"."),t}))),w.after&&w.after.length>0&&(w.after=w.after.map((function(t){return t.url=t.url.replace(/_/g,"."),t}))),r={description:l,event:p,goalId:a,goalType:h,selector:_,targetToExperiment:T,title:A,urls:w}}return Object(I.toImmutable)(r)}],j=[L,function(t){var r=null;if(t&&"project_visible"===t.get("category")){var a=N.retrieveChangedObject(t,["more_info","experiment_confidence_threshold"],toPercentageString);a.before&&a.after&&(r={experimentConfidenceThreshold:a})}return Object(I.toImmutable)(r)}],M=[L,function(t){var r=null;if(t&&!o.a.includes(t.get("event"),"goal")){var a=t.getIn(["more_info","experiment_type","after"],null);if(a||(a=t.getIn(["more_info","experiment_type"],null)),"multivariate"===a){var i=t.getIn(["more_info","sections","added"],Object(I.toImmutable)([])).toJS(),c=t.getIn(["more_info","sections","changed"],Object(I.toImmutable)([])).toJS(),l=t.getIn(["more_info","sections","deleted"],Object(I.toImmutable)([])).toJS();(i.length>0||c.length>0||l.length>0)&&(r={added:i,changed:c,deleted:l})}}return Object(I.toImmutable)(r)}],U=[L,function(t){var r=null;if(t&&!o.a.includes(t.get("event"),"goal")){var a=t.getIn(["more_info","experiment_type","after"],null);if(a||(a=t.getIn(["more_info","experiment_type"],"ab")),"ab"===a){var i=t.getIn(["more_info","variations","added"],Object(I.toImmutable)([])).toJS(),c=t.getIn(["more_info","variations","changed"],Object(I.toImmutable)([])).toJS(),l=t.getIn(["more_info","variations","deleted"],Object(I.toImmutable)([])).toJS(),u=t.getIn(["more_info","variations","unchanged"],Object(I.toImmutable)([])).toJS();(i.length>0||c.length>0||l.length>0||u.length>0)&&(r={added:i,changed:c,deleted:l,unchanged:u})}}return Object(I.toImmutable)(r)}],V=[_.default.project,["labsData"],p.default.isAdmin,function(t,r,a){var i=t.get("project_permissions");return r.filter((function(r){if(r.get("requiresAdmin")&&!a)return!1;if(b.default.isCustomProject(t))return r.get("allowedInFullStack");var c=r.get("permissionRequired");return!c||(o.a.isString(c)?i.contains(c):c.some((function(t){return i.contains(t)})))})).toList()}],B=[_.default.dimensions,S.default.sortFn("dashboard-dimensions"),tableFilters("dimensions"),function(t,r,a){var i=a.get("string");return i&&(i=i.toLowerCase(),t=t.filter((function(t){var r=t.get("name")||"",a=t.get("client_api_name")||"",o=t.get("description")||"",c=t.get("id");return-1!==r.toLowerCase().indexOf(i)||-1!==o.toLowerCase().indexOf(i)||-1!==a.toLowerCase().indexOf(i)||-1!==c.toString().indexOf(i)}))),r&&(t=t.sort(r)),t}],G=[_.default.audiences,S.default.sortFn("dashboard-audiences"),_.default.experiments,tableFilters("audiences"),function(t,r,a,i){var o=!!i.get("archived"),c=t.filter((function(t){return t.get("archived")===o&&t.get("user_touched")})),l=i.get("string");return l&&(l=l.toLowerCase(),c=c.filter((function(t){var r=t.get("id"),a=t.get("name"),i=t.get("description")||"";return-1!==a.toLowerCase().indexOf(l)||-1!==i.toLowerCase().indexOf(l)||-1!==r.toString().indexOf(l)}))),c=c.map((function(t){return t.set("experiments",a.filter((function(r){return r.get("audience_ids").contains(t.get("id"))})))})),r&&(c=c.sort(r)),c}],H=[_.default.userLists,S.default.sortFn("dashboard-user-lists"),_.default.integrations,tableFilters("user-lists"),function(t,r,a,i){var o=t,c=i.get("string");return c&&(c=c.toLowerCase(),o=o.filter((function(t){var r=t.get("id"),a=t.get("name"),i=t.get("description")||"";return-1!==a.toLowerCase().indexOf(c)||-1!==i.toLowerCase().indexOf(c)||-1!==r.toString().indexOf(c)}))),o=o.map((function(t){var r=t.get("integration_id"),i=a.filter((function(t){return r===t.get("id")})).get(0),o=i?i.get("masterLabel"):"Manual upload";return t.set("source",o)})),r&&(o=o.sort(r)),o}],z=[_.default.dcpDatasources,S.default.sortFn("dashboard-datasources"),_.default.integrations,tableFilters("datasources"),function(t,r,a,i){var o=t,c=i.get("archived")||!1,l=i.get("string");return o=o.filter((function(t){return t.get("archived")===c})),l&&(l=l.toLowerCase(),o=o.filter((function(t){var r=t.get("id"),a=t.get("name"),i=t.get("description")||"";return-1!==a.toLowerCase().indexOf(l)||-1!==i.toLowerCase().indexOf(l)||-1!==r.toString().indexOf(l)}))),o=o.map((function(t){return t.set("source","Manual upload")})),r&&(o=o.sort(r)),o}],W=[y.a.getters.combinedExperimentsAndResults,S.default.sortFn("dashboard-experiments"),v.default.getters.experimentToGoalsMap,tableFilters("experiments"),_.default.id,E.c.getters.entityToGroupMap,function(t,r,a,i,c,u){var p=i.get("string"),m=i.get("status");return t=t.filter((function(t){return c&&t.get("project_id")===c})).toList(),m.size>0&&(t=t.filter((function(t){return m.contains(t.get("status"))}))),p&&(p=p.toLowerCase(),t=t.filter((function(t){var r=t.get("id").toString(),a=t.get("details").toLowerCase(),i=t.get("description").toLowerCase();return o.a.includes(a,p)||o.a.includes(i,p)||o.a.includes(r,p)}))),t=t.map((function(t){return t.withMutations((function(t){var r,i,c=t.get("results");if(t.set("goals",a.get(t.get("id"))||Object(I.toImmutable)([])),t.get("status")===d.a.ExperimentStatusType.NOT_STARTED&&(r=-1,i=l()("This experiment hasn't been started yet.")),c){r=t.getIn(["results","visitors"]);var p=t.getIn(["results","cache_time"]);i=p?l()("Last refreshed: {0}",O()(new Date(p))):l()("Last refreshed: just now")}else r=-1,i=l()("No results available.");var m=t.get("id").toString();if(u.has(m)&&t.set("group",u.get(m).get("name")),t.set("visitors",r),t.set("visitorsTooltip",i),c){var g=c.get("conclusions");g&&(t.set("winners",o.a.filter(g,{status:"winner"})),t.set("losers",o.a.filter(g,{status:"loser"})),t.set("inconclusives",o.a.filter(g,{status:"inconclusive"})),t.set("primaryConclusion",g[t.get("primary_goal_id")]))}return t}))})),r&&(t=t.sort(r)),t.toList()}],q=[_.default.experimentationGroups,function(t){return t.filter((function(t){return!t.get("archived",!1)})).map((function(t){var r=E.c.humanReadable.POLICY_TYPES[t.get("policy")];return t.set("policy",r)}))}],Y=[_.default.goals,S.default.sortFn("dashboard-goals"),tableFilters("goals"),function(t,r,a){var i=a.get("archived")||!1,c=a.get("string"),l=t.filter((function(t){return t.get("archived",!1)===i}));return c&&(c=c.toLowerCase(),l=l.filter((function(t){var r=t.get("id").toString(),a=t.get("title").toLowerCase(),i=t.get("description").toLowerCase(),l=t.get("event")?t.get("event").toLowerCase():"";return o.a.includes(l,c)||o.a.includes(r,c)||o.a.includes(i,c)||o.a.includes(a,c)}))),r&&(l=l.sort(r)),l}],K=[_.default.integrations,tableFilters("integrations"),P,function(t,r,a){var i=r.get("category"),o=r.get("string"),c="apps"===a?"app":"integration";return t=t.filter((function(t){return t.get("addonType")===c})),i!==d.a.IntegrationCategoryTypes.ALL&&(t=t.filter((function(t){return-1!==t.get("categories").indexOf(i)}))),o&&(t=t.filter((function(t){var r=t.get("masterLabel").toLowerCase(),a=t.getIn(["categories",0]).toLowerCase();return o=o.toLowerCase(),-1!==r.indexOf(o)||-1!==a.indexOf(o)}))),t}],J=[K,function(t){return t=t.filter((function(t){return-1!==t.get("products").indexOf(w.AB_TESTING)}))}],X=[K,function(t){return t=t.filter((function(t){return-1!==t.get("products").indexOf(w.PERSONALIZATION)}))}],$=[_.default.collaborators,S.default.sortFn("dashboard-collaborators"),tableFilters("collaborators"),function(t,r,a){var i=a.get("string"),c=t;return i&&(i=i.toLowerCase(),c=t.filter((function(t){var r=(t.get("user_id")||t.get("target_user_email")).toLowerCase(),a=t.get("role_name").toLowerCase(),c="".concat(t.get("first_name")," ").concat(t.get("last_name")).toLowerCase();return o.a.includes(r,i)||o.a.includes(a,i)||o.a.includes(c,i)}))),r&&(c=c.sort(r)),c.toList()}],Q=[selectedIds("collaborators"),$,function(t,r){return r.filter((function(r){return t.contains(r.get("id"))}))}],Z=[selectedIds("audiences"),G,function(t,r){return r.filter((function(r){return t.contains(r.get("id"))}))}],ee=[selectedIds("dimensions"),B,function(t,r){return r.filter((function(r){return t.contains(r.get("id"))}))}],te=[selectedIds("experiments"),W,function(t,r){return r.filter((function(r){return t.contains(r.get("id"))}))}],ne=[_.default.integrations,selectedIds("integrations"),function(t,r){var a=r.get(0);return t.find((function(t){return t.get("id")===a&&"integration"===t.get("addonType")}))||Object(I.toImmutable)({})}],re=[_.default.integrations,selectedIds("integrations"),function(t,r){var a=r.get(0);return t.find((function(t){return t.get("id")===a&&"app"===t.get("addonType")}))||Object(I.toImmutable)({})}],ae=[selectedIds("projects"),T.a.entityCache,function(t,r){if(1===t.size)return r.get(t.get(0))}],ie=[selectedIds("goals"),Y,function(t,r){return r.filter((function(r){return t.contains(r.get("id"))}))}],oe=[selectedIds("groups"),q,function(t,r){return r.filter((function(r){return t.contains(r.get("id"))}))}],se=[selectedIds("user-lists"),H,function(t,r){return r.filter((function(r){return t.contains(r.get("id"))}))}],ce=[M,function(t){var r=null;if(t){var a=o.a.union(t.get("added").toJS(),t.get("changed").toJS());a=a.map((function(t){var r=t.variations;return o.a.isArray(r)||(r=o.a.union(t.variations.added,t.variations.changed,t.variations.unchanged)),r=r.map((function(t){var r=t.weight.before||0===t.weight.before?toPercentageString(t.weight.before):null,a=t.weight.after||0===t.weight.after?toPercentageString(t.weight.after):null;return null===a&&(a=toPercentageString(t.weight)),{description:t.description,weight:{before:r,after:a}}})),r=o.a.sortBy(r,"description"),{title:t.title,variations:r}})),r=o.a.sortBy(a,"title")}return Object(I.toImmutable)(r)}],le=[U,function(t){var r=null;if(t){var a=o.a.union(t.get("added").toJS(),t.get("changed").toJS(),t.get("unchanged").toJS());r=o.a.sortBy(a.map((function(t){var r=t.weight.before||0===t.weight.before?toPercentageString(t.weight.before):null,a=t.weight.after||0===t.weight.after?toPercentageString(t.weight.after):null;return null===a&&(a=toPercentageString(t.weight)),{description:t.description,weight:{before:r,after:a}}})),"description")}return Object(I.toImmutable)(r)}],ue=[selectedIds("datasources"),z,function(t,r){return r.filter((function(r){return t.contains(r.get("id"))}))}];r.a={apiFilters:function apiFilters(t){var r={audiences:m.default,collaborators:g.c,dimensions:h.a,experiments:y.a,goals:v.default};return[tableFilters(t),_.default.id,function(a,i){var c=r[t].entityDef.fieldTypes,l={project_id:i};return o()(a.toJS()).pick(o.a.keys(c)).assign(l).value()}]},activeMainTab:P,activeCanvasIntegration:["tabs","activeCanvasIntegration"],activeSubTab:["tabs","activeSubTab"],activityFilters:["activityFilters","filters"],hasMoreActivities:[["activityFilters"],function(t){return t.get("resultsLength")===t.getIn(["filters","$limit"])}],hasNoActivities:[["activityFilters"],function(t){return 0===t.get("resultsLength")&&0===t.getIn(["filters","$offset"])}],changedAllocations:x,changedAudiences:D,changedGoal:k,changedProject:j,changedSections:M,changedVariations:U,enabledLabs:V,filteredAudiences:G,filteredCollaborators:$,filteredDimensions:B,filteredExperiments:W,filteredExperimentationGroups:q,filteredGoals:Y,filteredIntegrationsForAB:J,filteredIntegrationsForP13N:X,filteredUserLists:H,filteredDatasources:z,selectedActivity:L,selectedAudiences:Z,selectedCollaborators:Q,selectedDimensions:ee,selectedExperiments:te,selectedGoals:ie,selectedExperimentationGroups:oe,selectedIntegration:ne,selectedApp:re,selectedProject:ae,selectedUserLists:se,selectedDatasources:ue,selectedIds:selectedIds,tableFilters:tableFilters,sectionDetails:ce,variationDetails:le,isSelected:function isSelected(t,r){return[["selectedItems","selectedItems"],function(a){var i=a.get(t);return!!i&&-1!==i.indexOf(r)}]}}},function(t,r,a){"use strict";var i,o,c;function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var l={CO_BROWSE:"co-browse",CO_BUY:"co-buy",COLLABORATIVE_FILTERING:"collaborative-filtering",POPULAR:"popular",CUSTOM:"custom"},u=(_defineProperty(i={},l.CO_BROWSE,"Serve recommendations based on connection strength defined by order of pages viewed and actions performed on those pages."),_defineProperty(i,l.CO_BUY,"Serve recommendations based on Add to Cart and Buy events occurring together in any order."),_defineProperty(i,l.COLLABORATIVE_FILTERING,"Serve recommendations based on the browse history of both the user and similar users."),_defineProperty(i,l.POPULAR,"Serve recommendations based on the most frequent interactions (as defined by your events)."),i),d=(_defineProperty(o={},l.CO_BROWSE,{description:"Choose the catalog events you want to use for this recommender. ",id:"item_view_events",label:"Catalog Events",placeholder:"Search and add events to this catalog",testSection:"co-browse-catalog-events-picker"}),_defineProperty(o,l.CO_BUY,{description:"Choose the catalog events you want to use for this recommender. ",id:"buy_events",label:"Catalog Events",placeholder:"Search and add events to this catalog",testSection:"co-buy-catalog-events-picker"}),_defineProperty(o,l.POPULAR,{description:"Choose the catalog events you want to use for this recommender. ",id:"events",label:"Catalog Events",placeholder:"Search and add events to this catalog",testSection:"popular-catalog-events-picker"}),_defineProperty(o,l.COLLABORATIVE_FILTERING,{description:"Choose the catalog events you want to use for this recommender. ",id:"item_view_events",label:"Catalog Events",placeholder:"Search and add events to this catalog",testSection:"collaborative-filtering-catalog-events-picker"}),_defineProperty(o,"BOOST",{description:"This algorithm supports boost events. Choose the boost events you want to use for this recommender. ",id:"boost_events",label:"Boost Events",placeholder:"Search and add events to this catalog",testSection:"boost-events-picker"}),o),p={CO_BROWSE:"Co-Browse",CO_BUY:"Co-Buy",COLLABORATIVE_FILTERING:"Collaborative Filtering",POPULAR:"Popular",CUSTOM:"Custom"},m=(_defineProperty(c={},l.CO_BROWSE,{emptyResponse:"No catalog item found matching that ItemID.",humanReadable:p.CO_BROWSE,label:"Enter an ItemID to see sample recommendations for that item.",placeholder:"Search by ItemID",response:"recommendations generated using the Co-Browse algorithm."}),_defineProperty(c,l.CO_BUY,{emptyResponse:"No catalog item found matching that ItemID.",humanReadable:p.CO_BUY,label:"Enter an ItemID to see sample recommendations for that item.",placeholder:"Search by ItemID",response:"recommendations generated using the Co-Buy algorithm."}),_defineProperty(c,l.COLLABORATIVE_FILTERING,{emptyResponse:"No visitor found matching that VisitorID.",humanReadable:p.COLLABORATIVE_FILTERING,label:"Enter a VisitorID to see sample recommendations for that visitor.",placeholder:"Search by VisitorID",response:"recommendations generated using the Collaborative Filtering algorithm."}),_defineProperty(c,l.POPULAR,{humanReadable:p.POPULAR,placeholder:"View Results",response:"recommendations generated using the Popular algorithm."}),c),g=[{label:"Select an algorithm...",value:void 0},{description:u[l.CO_BROWSE],label:p.CO_BROWSE,value:l.CO_BROWSE},{description:u[l.CO_BUY],label:p.CO_BUY,value:l.CO_BUY},{description:u[l.COLLABORATIVE_FILTERING],label:p.COLLABORATIVE_FILTERING,value:l.COLLABORATIVE_FILTERING},{description:u[l.POPULAR],label:p.POPULAR,value:l.POPULAR}];r.a={Algorithm:l,AlgorithmDescriptions:u,AlgorithmEventInfo:d,AlgorithmHumanReadables:p,AlgorithmPreviewerTexts:m,AlgorithmSelectorTexts:g}},function(t,r,a){"use strict";var i=a(17);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var o=a.n(i)()({VERIFIER_ADD_PROJECT_RECORD:null,VERIFIER_FETCH_START:null,VERIFIER_FETCH_ERROR:null,VERIFIER_FETCH_SUCCESS:null,VERIFIER_ADD_VERSION_REQUEST:null,VERIFIER_REMOVE_VERSION_REQUEST:null});r.a=_extends({},o)},,function(t,r,a){"use strict";var i=a(212),o=a(159);r.a={createCsrfMismatchError:function createCsrfMismatchError(){var t=o.c.csrfMismatch,r=new Error(t.MESSAGE);return r.fingerprint=t.FINGERPRINT,r},createTimeoutError:function createTimeoutError(){var t=o.c.timeout,r=new Error(t.MESSAGE);return r.fingerprint=t.FINGERPRINT,r},isTimeoutError:function isTimeoutError(t){return t.fingerprint===o.c.timeout.FINGERPRINT},createRetryExhaustionError:function createRetryExhaustionError(t){var r=o.c.retryExhaustion,a=new Error("".concat(r.MESSAGE).concat(""));return a.fingerprint=r.FINGERPRINT,a.tags={maxRetries:t},a},createIncompatibleEnvironmentError:function createIncompatibleEnvironmentError(t){var r=o.c.incompatibleEnvironment,a=new Error(r.MESSAGE);return a.fingerprint=r.FINGERPRINT,a.tags={environment:t},a},createExpiredSessionError:function createExpiredSessionError(){var t=o.c.expiredSession,r=new Error(t.MESSAGE);return r.fingerprint=t.FINGERPRINT,r},isExpiredSessionError:function isExpiredSessionError(t){return t.fingerprint===o.c.expiredSession.FINGERPRINT},createIframeFailureError:function createIframeFailureError(t){var r=o.c.iframeFailure,a=new Error(r.MESSAGE);return a.fingerprint=r.FINGERPRINT,a.extras={iframeMessage:t},a},createErrorForFailedHttpResponse:function createErrorForFailedHttpResponse(t,r,a,i){var c={500:"serviceException",404:"notFound",403:"forbidden",401:"unauthorized"}[t.status]||"generalHttpFailure",l=o.c[c],u=new Error(l.MESSAGE);return u.fingerprint=l.FINGERPRINT,u.tags={statusText:t.statusText,type:t.type,doesTokenExist:!!r.token,isTokenExpired:new Date(r.expires)<=new Date,lastRefreshSucceeded:i},u.extras={lastRefreshTime:a,tokenExpriationDate:r.expires,timeToTokenExpiration:new Date(r.expires).getTime()-Date.now(),url:t.url},u},capturePublicApiError:function capturePublicApiError(t){i.a.withStandardScope((function(r){r.setFingerprint([o.a,t.fingerprint||t.message]),t.tags&&Object.keys(t.tags).forEach((function(a){return r.setTag(a,t.tags[a])})),t.extras&&Object.keys(t.extras).forEach((function(a){return r.setExtra(a,t.extras[a])})),i.a.captureException(t)}))}}},function(t,r,a){function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var i=a(12),o=a(2),c=o.default,l=o.toImmutable,u=a(3),d=a(911).default,p=a(23),m=a(20),g=a(340).default,h=a(45),y=a(359).actions,v=a(152).default,_=a(34).actions,E=a(50).actions,b=(a(14).getters,a(66)),T=a(1945),S=a(49).getters;r.setCurrentLayerId=function(t){u.dispatch(T.P13N_SET_CURRENT_LAYER_ID,{id:t})},r.fetchAllLayerMetrics=function(){var t=u.evaluate(b.layer);if(t){var r=t.get("metrics"),a=r.filter((function(t){return t.get("event_type")===h.event_type.PAGEVIEW})).map((function(t){return _.fetch(t.get("event_id"))})).toJS(),i=r.filter((function(t){return t.get("event_id")&&t.get("event_type")!==h.event_type.PAGEVIEW})).map((function(t){return E.fetch(t.get("event_id"))})).toJS();return Promise.all([].concat(_toConsumableArray(a),_toConsumableArray(i)))}},r.revalidateCrossProjectMetrics=function(){return u.evaluate(S.canUseCrossProjectMetrics)?r.fetchAllLayerMetrics():Promise.resolve()},r.fetchAllCrossProjectMetrics=function(){var t,r,a=u.evaluate(b.layer);if(a){var o=a.get("metrics"),l=o.filter((function(t){return t.get("event_type")===h.event_type.PAGEVIEW})).map((function(t){return t.get("event_id")})).toJS(),d=o.filter((function(t){return t.get("event_id")&&t.get("event_type")!==h.event_type.PAGEVIEW})).map((function(t){return t.get("event_id")})).toJS();t=_.fetchAllForAccount().then((function(t){var r=c.Set(t.map((function(t){return t.id}))),a=l.filter((function(t){return!r.has(t)})).map((function(t){return _.fetch(t)}));return 0===a.length?i.Deferred().resolve():i.when.apply(i,_toConsumableArray(a))})),r=E.fetchAllForAccount().then((function(t){var r=c.Set(t.map((function(t){return t.id}))),a=d.filter((function(t){return!r.has(t)})).map((function(t){return E.fetch(t)}));return 0===a.length?i.Deferred().resolve():i.when.apply(i,_toConsumableArray(a))}))}else t=_.fetchAllForAccount(),r=E.fetchAllForAccount();return Promise.all([new Promise((function(r,a){t.then(r).fail(a)})),new Promise((function(t,a){r.then(t).fail(a)}))])},r.startCampaign=function(t){var r=[p.enums.policy.SINGLE_EXPERIMENT,p.enums.policy.MULTIVARIATE];return new Promise((function(a){if(!r.includes(t.policy))return a();m.actions.fetchAll({project_id:t.project_id,layer_id:t.id}).then((function(){var r=u.evaluateToJS(b.campaignExperimentsByLayerId(t.id)),i=r&&r[0];if(!i)return a();m.actions.save({id:i.id,status:m.enums.status.ACTIVE}).then(a)}))})).then((function(){return g.activateTag({layer_id:t.id})})).then((function(r){y.verify({projectId:t.project_id,revisionToVerify:r.project_code_revision}).catch((function(){}))})).then((function(){if(t.policy===p.enums.policy.SINGLE_EXPERIMENT){v.actions.track(v.enums.TestUrlTargetingSetup.Events.EXPERIMENT_STARTED);var r=Date.now()-Date.parse(t.created);v.actions.track(v.enums.TestUrlTargetingSetup.Events.TIME_TO_PUBLISH,{eventTags:{value:r}}),t.metrics&&t.metrics.length&&v.actions.track(v.enums.TestUrlTargetingSetup.Events.COUNT_METRICS_ON_PUBLISH,{eventTags:{value:t.metrics.length}})}}))},r.pauseCampaign=function(t){var r=[p.enums.policy.SINGLE_EXPERIMENT,p.enums.policy.MULTIVARIATE];return new Promise((function(a,i){r.includes(t.policy)?m.actions.fetchAll({project_id:t.project_id,layer_id:t.id}).then((function(){var r=u.evaluateToJS(b.campaignExperimentsByLayerId(t.id)),a=r&&r[0];return m.actions.save({id:a.id,status:m.enums.status.PAUSED})})).then(a):a()})).then((function(){var r=g.deactivateTag({layer_id:t.id});return r.then((function(r){y.verify({projectId:t.project_id,revisionToVerify:r.project_code_revision}).catch((function(){}))})),r}))},r.setCurrentLayerShareToken=function(t){u.dispatch(T.P13N_SET_CURRENT_LAYER_SHARE_TOKEN,{share_token:t})},r.subscribeToCurrentABExperiment=function(){var t=u.evaluate(b.currentLayerABExperiment);t&&(d.actions.subscribeToEntity(m.entityDef.entity,t.get("id")),i(window).one("online",r.subscribeToCurrentABExperiment))},r.unsubscribeFromCurrentABExperiment=function(){var t=u.evaluate(b.currentLayerABExperiment);t&&(d.actions.unsubscribeFromEntity(m.entityDef.entity,t.get("id")),i(window).off("online",r.subscribeToCurrentABExperiment))},r.addEventToCurrentLayerMetricsWithMetricsBuilder=function(t){var a=u.evaluate(b.layer),i=a.get("metrics"),o=l({aggregator:h.aggregator.UNIQUE,display_title:null,display_unit:null,event_id:t,event_type:h.event_type.CLICK,field:null,scope:p.fns.isPersonalizationLayer(a)?h.scope.SESSION:h.scope.VISITOR,winning_direction:h.winning_direction.INCREASING});return i=i.push(o),r.saveCurrentLayerMetricsWithMetricsBuilder(i)},r.removeEventFromCurrentLayerMetrics=function(t){var a=u.evaluate(b.layer).get("metrics").filter((function(r){return r.get("event_id")!==t}));return r.saveCurrentLayerMetricsWithMetricsBuilder(a)},r.saveCurrentLayerMetricsWithMetricsBuilder=function(t){var r=u.evaluate(b.id);return p.actions.save({id:r,metrics:t.toJS()})}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(12),l=a.n(c),u=a(36),d=a(61),p=a.n(d),m=a(557);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var g=u.default.createEntityActions(m.a);r.a=_extends({},g,{fetchAll:g.fetchAll,archive:function archive(t){return p.a.track("dashboard2","archive-audience"),this.save({id:t.id,archived:!0})},unarchive:function unarchive(t){return p.a.track("dashboard2","unarchive-audience"),this.save({id:t.id,archived:!1})},fetchAudiencesById:function fetchAudiencesById(t){var r=l.a.Deferred(),a=o.a.map(t,(function(t){return g.fetch(t)}));return l.a.when.apply(l.a,_toConsumableArray(a)).then((function(){var t=[].slice.call(arguments);r.resolve(t)}),r.reject),r},fetchSavedAudiences:function fetchSavedAudiences(t){return this.fetchAll({project_id:t,user_touched:!0})}})},function(t,r,a){"use strict";var i=a(185);a.d(r,"a",(function(){return i.default}));var o=a(275),c=a(1183),l=a(1132);a.d(r,"c",(function(){return l.a}));var u=a(420);r.b={actions:i.default,enums:o.a,abPages:c.a,p13nPages:l.a,getters:u.a}},,,,,function(t,r,a){"use strict";a.d(r,"a",(function(){return d}));var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(1335);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ErrorBoundary,t);var r=_createSuper(ErrorBoundary);function ErrorBoundary(){var t;_classCallCheck(this,ErrorBoundary);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={hasError:!1},t.condenseComponentStack=function(t){return t.trim().split("\n").map((function(t){return t.trim().replace("in ","")})).reverse().join(".")},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ErrorBoundary,[{key:"componentDidCatch",value:function componentDidCatch(t,r){var a=this,i=this.props.onCatch;this.setState((function(){return{hasError:!0}})),i&&i(),u.a.withScope((function(i){i.setFingerprint([a.condenseComponentStack(r.componentStack),t.message]),i.setExtra("react_component_stack",r.componentStack),u.a.captureException(t,r)}))}},{key:"render",value:function render(){var t=this.props,r=t.alternateContent,a=t.children,i=this.state.hasError;return l.a.createElement(l.a.Fragment,null,i&&(r||l.a.createElement("div",{title:"There was an error loading this component.","data-test-section":"fallback-message"},"There was an error loading this component.")),!i&&a)}}]),ErrorBoundary}(l.a.Component);d.displayName="ErrorBoundary",d.propTypes={alternateContent:o.a.node,children:o.a.node.isRequired,onCatch:o.a.func},d.defaultProps={alternateContent:null,onCatch:null}},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(2602),d=a(2603),p=a(2604),m=function Card(t){var r=l.a.Children.toArray(t.children).filter((function(t){return null!==t})).map((function(t,r,a){var i={className:r===a.length-1?null:"push-double--bottom"};return i.key=t.key,l.a.createElement("div",i,t)}));return l.a.createElement("div",{"data-ui-component":!0,className:"shadow-box","data-test-section":t.testSection},r)};m.propTypes={children:o.a.node,testSection:o.a.string},m.Body=u.a,m.Label=d.a,m.Row=p.a,r.a=m},function(t,r){t.exports=i},,,,function(t,r,a){"use strict";a.d(r,"b",(function(){return i})),a.d(r,"a",(function(){return o}));var i={VARIATION_ORIGINAL:{name:tr("Original"),weight:5e3},VARIATION_1_NO_VARIABLE_VALUES:{name:tr("Variation #1"),weight:5e3},VARIATION_1:{name:tr("Variation #1"),weight:5e3,variable_values:{}},SINGLE_VARIATION:{name:tr("Variation #1"),weight:1e4,variable_values:{}}},o={DEFAULT_SECTION:{name:tr("Section #1"),variations:[i.VARIATION_ORIGINAL,i.VARIATION_1_NO_VARIABLE_VALUES]}},c={NAME_MISSING:tr("Please name your experiment."),VIEW_MISSING:tr("Please select at least one page."),URL_TARGETING_MISSING:tr("Please provide a URL for targeting."),URL_TARGETING_API_NAME_MISSING:tr("Please provide an api name for manual targeting."),VARIATION_NAMES_MISSING:tr("Please provide variation names for all your variations.")};r.c={Variations:i,Sections:o,ErrorMessages:c}},function(t,r,a){"use strict";var i=a(17),o=a.n(i),c=o()({PAGE_READY:null,DATA_READY:null,XHR_COMPLETE:null,ROUTE_COMPLETE:null,ROUTE_WITH_FRONTEND_COMPLETE:null,EDITOR_IFRAME_WEB_DONE_LOADING:null,PUBLIC_API_TOKEN_FETCH_COMPLETED:null,SEARCH_API_REINDEX_TEST_COMPLETED:null,SEARCH_QUERY_REQUEST_COMPLETED:null,SEARCH_HYDRATION_REQUEST_COMPLETED:null}),l=o()({AB:null,P13N:null}),u=o()({P13N_WITH_VARIATIONS:null,P13N_WITHOUT_VARIATIONS:null});r.a={actionName:c,products:l,resultsType:u}},function(t,r,a){"use strict";var i=a(400);a.d(r,"c",(function(){return i.default}));var o=a(1184);a.d(r,"a",(function(){return o.a}));var c=a(799);a.d(r,"b",(function(){return c.a}));i.default,o.a,c.a},function(t,r,a){"use strict";var i=a(1229);a.d(r,"a",(function(){return i.a}));var o=a(179);a.d(r,"b",(function(){return o.a}));var c=a(555);a.d(r,"c",(function(){return c.a}));i.a,o.a,c.a},,function(t,r,a){"use strict";a.r(r),a.d(r,"save",(function(){return m})),a.d(r,"fetch",(function(){return g})),a.d(r,"fetchAll",(function(){return h})),a.d(r,"fetchPage",(function(){return y})),a.d(r,"fetchAllPages",(function(){return v})),a.d(r,"flush",(function(){return _})),a.d(r,"delete",(function(){return E})),a.d(r,"archive",(function(){return archive})),a.d(r,"unarchive",(function(){return unarchive})),a.d(r,"fetchProject",(function(){return fetchProject})),a.d(r,"sendProjectCode",(function(){return sendProjectCode})),a.d(r,"addProjectName",(function(){return addProjectName})),a.d(r,"emailSDKInstructions",(function(){return emailSDKInstructions})),a.d(r,"fetchExecutiveSummary",(function(){return fetchExecutiveSummary})),a.d(r,"hasExperiments",(function(){return hasExperiments})),a.d(r,"saveClientBuildSettings",(function(){return saveClientBuildSettings})),a.d(r,"saveCSP",(function(){return saveCSP})),a.d(r,"saveExcludeInactiveGoals",(function(){return saveExcludeInactiveGoals})),a.d(r,"resave",(function(){return resave})),a.d(r,"saveAppsBetaOptInStatus",(function(){return saveAppsBetaOptInStatus})),a.d(r,"share",(function(){return share}));var i=a(105),o=a.n(i),c=a(15),l=a.n(c),u=a(36),d=a(456);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var p=u.default.createEntityActions(d.a),m=p.save,g=p.fetch,h=p.fetchAll,y=p.fetchPage,v=p.fetchAllPages,_=p.flush,E=p.delete;function archive(t){return this.save({id:t.id,project_status:l.a.ProjectStatusType.ARCHIVED})}function unarchive(t){return this.save({id:t.id,project_status:l.a.ProjectStatusType.ACTIVE})}function fetchProject(t){return o.a.makeV1AjaxRequest({url:"/api/projects/".concat(t,"/"),type:"GET"}).then((function(t){return t.project}))}function sendProjectCode(t,r){o.a.makeV1AjaxRequest({url:"/project/send_code",type:"POST",data:{email:t,project_id:r.id}})}function addProjectName(t,r,a){return o.a.makeV1AjaxRequest({url:"".concat("/mobile","/add-project-name"),type:"POST",data:{project_name:t,project_platform:r,next_step:a}})}function emailSDKInstructions(t,r,a,i){return o.a.makeV1AjaxRequest({url:"".concat("/mobile","/send-email"),type:"POST",data:{project_id:t,emails:r,message_body:a,email_action:i}})}function fetchExecutiveSummary(t){return o.a.makeV1AjaxRequest({url:"/executive-summary/latest_report?account_id=".concat(t)})}function hasExperiments(t){return o.a.makeV1AjaxRequest("/api/experiments.json",{data:{project_ids:t,status:"".concat(l.a.ExperimentStatusType.RUNNING,",").concat(l.a.ExperimentStatusType.PAUSED,",").concat(l.a.ExperimentStatusType.NOT_STARTED)},optimizelyRetryLimit:3})}function saveClientBuildSettings(t,r){var a={id:t,client_build_settings:{client_type:r.client_type,build_server:r.build_server||null,client_version:r.client_version||null}};return this.save(a)}function saveCSP(t,r){var a={id:t,client_options:{"csp-support":r}};return this.save(a)}function saveExcludeInactiveGoals(t,r){var a={id:t,exclude_inactive_goals:r};return this.save(a)}function resave(t){return o.a.makeV1AjaxRequest({url:"/tool/resave_project",type:"POST",data:{account_id:t}})}function saveAppsBetaOptInStatus(t,r){var a={id:t,opted_into_apps_beta:r};return this.save(a)}function share(t){return o.a.makeV1AjaxRequest({url:"api/v1/projects/".concat(t,"/share"),type:"POST"})}r.default=_extends({},p,{addProjectName:addProjectName,archive:archive,emailSDKInstructions:emailSDKInstructions,fetchExecutiveSummary:fetchExecutiveSummary,fetchProject:fetchProject,hasExperiments:hasExperiments,unarchive:unarchive,resave:resave,saveAppsBetaOptInStatus:saveAppsBetaOptInStatus,saveClientBuildSettings:saveClientBuildSettings,saveCSP:saveCSP,saveExcludeInactiveGoals:saveExcludeInactiveGoals,sendProjectCode:sendProjectCode,share:share})},,,function(t,r,a){"use strict";a.r(r),a.d(r,"byId",(function(){return l})),a.d(r,"entityCache",(function(){return u})),a.d(r,"asList",(function(){return d})),a.d(r,"activeAccountViews",(function(){return p})),a.d(r,"activeAccountPageViews",(function(){return m}));var i=a(41),o=a(511);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a),l=c.byId,u=c.entityCache,d=[u,function(t){return t.toList()}],p=[u,function(t){return t.filter((function(t){return!t.get("archived")}))}],m=[u,function(t){return t.filter((function(t){return!t.get("archived")&&!t.get("single_use")}))}];r.default=_extends({},c,{activeAccountViews:p,activeAccountPageViews:m,asList:d})},function(t,r,a){"use strict";a.d(r,"b",(function(){return variableBeginsWithNumber}));var i=a(2),o=a(133),c=a(29),l=a(7),u=a(200);c.default.EnvironmentStatus;function getElseKeywordByLanguage(t){switch(t){case l.default.sdkLanguages.PYTHON:return"\nel";case l.default.sdkLanguages.RUBY:return"\nels";case l.default.sdkLanguages.JAVA:case l.default.sdkLanguages.SWIFT:case l.default.sdkLanguages.GO:return"\n  } else ";case l.default.sdkLanguages.OBJECTIVE_C:case l.default.sdkLanguages.JAVASCRIPT:case l.default.sdkLanguages.FLUTTER:case l.default.sdkLanguages.PHP:return"\n} else ";case l.default.sdkLanguages.CSHARP:return"\n  }\n  else ";case l.default.sdkLanguages.REACT:default:return""}}function getIfElseClauseEndingByLanguage(t){switch(t){case l.default.sdkLanguages.RUBY:return"\nend";case l.default.sdkLanguages.JAVA:case l.default.sdkLanguages.JAVASCRIPT:case l.default.sdkLanguages.FLUTTER:case l.default.sdkLanguages.PHP:case l.default.sdkLanguages.OBJECTIVE_C:case l.default.sdkLanguages.SWIFT:case l.default.sdkLanguages.GO:case l.default.sdkLanguages.CSHARP:return"\n}";case l.default.sdkLanguages.REACT:default:return""}}function variableBeginsWithNumber(t){return/\d/.test(t[0])}r.a={canRunAdditionalExperiment:function canRunAdditionalExperiment(t,r,a){return!!(r=r.toSet()).includes(t)||r.size<=a-1},compareExperimentIsOfStatus:function compareExperimentIsOfStatus(t,r,a){var i=!1;return r===c.default.oasis_status.ACTIVE?i=t.status===c.default.oasis_status.ACTIVE||t.status===c.default.oasis_status.PAUSED||!t.status:r===c.default.oasis_status.ARCHIVED?i=t.status===r:r===c.default.oasis_status.RUNNING?i=t.status===c.default.oasis_status.ACTIVE&&this.getExperimentStatus(t,a)===u.a.LAYER_EXPERIMENT_HUMAN_READABLE_STATUS_TYPES.RUNNING:r===c.default.oasis_status.PAUSED?i=t.status===r:r===c.default.oasis_status.DRAFT&&(i=t.status===c.default.oasis_status.ACTIVE&&this.getExperimentStatus(t,a)===u.a.LAYER_EXPERIMENT_HUMAN_READABLE_STATUS_TYPES.DRAFT),i},ensureVariationKeysUnique:function ensureVariationKeysUnique(t){var r={};return t.every((function(t){var a=t.get("api_name");return!a||!r[a]&&(r[a]=!0,!0)}))},getElseKeywordByLanguage:getElseKeywordByLanguage,getExperimentActivateCodeBlock:function getExperimentActivateCodeBlock(t,r){return t=t||"experimentKey",r=r||"python",u.a.EXPERIMENT_ACTIVATION_CODE_BLOCKS[r].replace(u.a.EXPERIMENT_KEY_PLACEHOLDER,t)},getExperimentActivateCodeBlockPostfix:function getExperimentActivateCodeBlockPostfix(t,r){t=t||"experimentKey",r=r||"python";var a=u.a.EXPERIMENT_ACTIVATION_CODE_BLOCKS_POSTFIX[r];return a&&a.replace(u.a.EXPERIMENT_KEY_PLACEHOLDER,t)||""},getExperimentStatus:function getExperimentStatus(t){var r=o.a.isExperimentLive(t);return t.is_launched?u.a.LAYER_EXPERIMENT_HUMAN_READABLE_STATUS_TYPES.LAUNCHED:r?t.status===c.default.status.PAUSED?u.a.LAYER_EXPERIMENT_HUMAN_READABLE_STATUS_TYPES.PAUSED:u.a.LAYER_EXPERIMENT_HUMAN_READABLE_STATUS_TYPES.RUNNING:u.a.LAYER_EXPERIMENT_HUMAN_READABLE_STATUS_TYPES.DRAFT},getIfElseClauseEndingByLanguage:getIfElseClauseEndingByLanguage,getLiveVariableUsagesInOtherExperiments:function getLiveVariableUsagesInOtherExperiments(t,r,a){return Object(i.isImmutable)(t)&&(t=Object(i.toJS)(t)),t.filter((function(t){return t.live_variable_id===a&&t.experiment_id!==r&&t.experiment_status!==c.default.status.ARCHIVED}))},getNullCheckingCodeByLanguage:function getNullCheckingCodeByLanguage(t){switch(t){case l.default.sdkLanguages.JAVA:return"if (variation != null) {";case l.default.sdkLanguages.CSHARP:return"if (variation != null) \n{";case l.default.sdkLanguages.SWIFT:return"if let variation = variation {";case l.default.sdkLanguages.GO:return"if err == nil {";default:return""}},getVariationsCodeBlock:function getVariationsCodeBlock(t,r){r=r||"python";var a="";return t&&t.forEach((function(o,c){var l=u.a.EXPERIMENT_VARIATION_CODE_BLOCKS[r],d=Object(i.isImmutable)(o)&&o.get("api_name")||o.api_name||"variation_".concat(c+1);l=l.replace(new RegExp(u.a.VARIATION_KEY_PLACEHOLDER,"g"),d),0!==c&&(l=getElseKeywordByLanguage(r)+l),c===t.size-1&&(l+=u.a.EXPERIMENT_CONTROL_CODE_BLOCKS[r],l+=getIfElseClauseEndingByLanguage(r)),a+=l})),a},variableBeginsWithNumber:variableBeginsWithNumber}},function(t,r,a){"use strict";a.d(r,"a",(function(){return i}));var i={EXPERIMENT:"Experiment",LAYER_EXPERIMENT:"LayerExperiment",LAYER:"Layer"};r.b={EXPERIMENTATION_GROUP_TYPES:i,POLICY_TYPES:{OVERLAPPING:"overlapping",RANDOM:"random"}}},,,,function(t,r,a){"use strict";a.d(r,"a",(function(){return m})),a.d(r,"b",(function(){return g}));var i=a(449),o=a(773),c=a(2522),l=a(854),u=a(2096),d=a(2523),p=a(1006),m=i.default,g=o.default,h=c.a,y=l.a,v=u.default,_=d.a,E=p.a;r.c={ChangeEditorSidebar:m,CodeMirror:g,CustomCode:h,EditableSelector:y,EditorToolbar:v,Filterable:_,SidebarHeader:E}},function(t,r,a){"use strict";a.d(r,"a",(function(){return l})),a.d(r,"b",(function(){return u}));var i=a(2697),o=a(521),c=a(525),l=i.a,u=(o.a,c.a)},,function(t,r,a){"use strict";r.a={MAX_COMBINATION_COUNT:64,ErrorMessages:{EXCEEDS_MAX_COMBINATION_COUNT:tr("You've exceeded the maximum number of combinations. Please remove sections or variations to save this experiment."),SECTION_NAMES_MISSING:tr("Please provide section names for all your sections."),SECTION_NAME_MISSING:tr("Please provide a section name for your section"),VARIATION_NAMES_MISSING:tr("Please provide variation names for all your variations."),VARIATION_ALLOCATION_NOT_100:tr("Please ensure that variation traffic adds up to 100% for each section.")},REQUIRED_TOTAL_VARIATION_PERCENTAGE_PER_SECTION:100}},function(t,r){t.exports=window},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({SET_CURRENT_STATE_FOR_ENTITY:null,SET_CONNECTION_ID:null,SET_FIREBASE_DB_REF:null,REMOVE_FIREBASE_DB_REF:null})},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({RESULTS_API_ADD_XHR:null,RESULTS_API_CLEAR_XHRS:null,RESULTS_API_SET_DATE_NOW:null,RESULTS_API_SET_TRACE_ID:null,RESULTS_API_STUB_DATE_NOW:null,RESULTS_API_REQUEST_SUCCESS:null})},,function(t,r){t.exports={statusText:{NOT_STARTED:tr("Not Started"),STARTING:tr("Starting..."),RUNNING:tr("Running"),PAUSING:tr("Pausing..."),PAUSED:tr("Paused"),ARCHIVED:tr("Archived")}}},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({API_ENTITY_PERSIST_START:null,API_ENTITY_PERSIST_FAIL:null,API_ENTITY_PERSIST_SUCCESS:null,LOADING_START:null,LOADING_FINISH:null,ENTITY_LOADING_START:null,ENTITY_LOADING_FINISH:null,CLEAR_ALL_ENTITY_LOADING:null})},,function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({PUBLIC_API_CONSUMER_SET_REFRESH_LOCK:null,PUBLIC_API_CONSUMER_CLEAR_REFRESH_LOCK:null,PUBLIC_API_CONSUMER_SET_REFRESH_TIMEOUT:null,PUBLIC_API_CONSUMER_CLEAR_REFRESH_TIMEOUT:null,PUBLIC_API_CONSUMER_CLEAR_INITIALIZATION_LOCK:null})},function(t,r){t.exports=function handleAjaxError(t){return function onFail(r){var a,i;try{a=function parseErrorResponse(t){if(!(t instanceof Object))return t;var r,a=JSON.parse(t.responseText);return a.error?r=a.error:a.errors?r=a.errors.join("; "):a.message?r=a.message:a.msg?r=a.msg:(r=tr("Server error occurred"),a.id&&(r+=" (ID: ".concat(a.id,")"))),r}(r),i=t.call(this,a,r)}catch(a){i=r instanceof Object&&r.statusText?t.call(this,r.statusText,r):t.call(this,r)}r.optlyErrorHandled=!1!==i}}},function(t,r,a){var i=a(17),o=a(8);t.exports={BrowserBeforeUnloadMessages:{CHROME:o("Stay on this Page"),NON_CHROME:o("Cancel")},InnerLoadStatus:i({READY:null,FAILED:null,LOADED:null,WAITING:null}),IFrameMessageTypes:i({APPLY_CHANGES:null,APPLY_CHANGES_AND_FETCH_ELEMENT_INFO:null,CLICK:null,DESTROY:null,ELEMENT_INFO:null,EVAL:null,EVAL_ERROR:null,TIMEDOUT:null,FAILED:null,FETCH_ELEMENT_INFO:null,FETCH_RELATED_ELEMENT_SELECTORS:null,FETCH_TAG_VALUE:null,HELLO:null,HIGHLIGHT_ELEMENT:null,HOVER:null,KEY_UP:null,LOAD_URL:null,CONTENT_READY:null,POP_IN:null,READY:null,REGISTER:null,RESOLVE_DEFERRED:null,RELOAD:null,SECURITY_EXCEPTION:null,SET_CHANGE_APPLIER_RESULT:null,SET_ELEMENT_INFO:null,SET_MODE:null,SET_TAG_VALUE:null,TEST_SELECTOR_EQUALITY:null,UNHIGHLIGHT_ELEMENT:null}),IFrameSelectorTypes:i({EVENT:null,EVENT_AND_TAG:null,TAG:null}),ProtocolTypes:i({HTTP:null,HTTPS:null,PROXY:null}),PreviewProtocolTypes:i({PREVIEW_PROXY:null}),IFrameModeTypes:i({STANDARD:null,INTERACTIVE:null,NO_HOVER:null}),IFrameLoadStatuses:i({INITIAL:null,LOADING:null,READY:null,FAILED:null,CANCELED:null}),FrameTypes:i({IFRAME:null,POPOUT:null,WEBVIEW:null}),EditorTypes:i({EXPERIMENT_EDITOR:null,EXPERIMENT_EDITOR_READ_ONLY:null,VIEW_EDITOR:null}),Sizes:{custom:{key:"custom",label:o("Custom Width"),width:null,height:"100%",userAgent:null,icon:"arrows-left-right"},full:{key:"full",label:o("Full Width"),width:"100%",height:"100%",userAgent:null,icon:"arrows-left-right",testSection:"responsive-presets-full"},desktop:{key:"desktop",label:o("Desktop"),width:980,height:"100%",userAgent:null,icon:"display",testSection:"responsive-presets-desktop"},tablet:{key:"tablet",label:o("Tablet"),width:768,height:"100%",userAgent:null,icon:"tablet",testSection:"responsive-presets-tablet"},mobile:{key:"mobile",label:o("Mobile"),width:320,height:"100%",userAgent:null,icon:"mobile",testSection:"responsive-presets-mobile"}},Devices:{iPhone6:{key:"iPhone6",label:"iPhone 6",width:375,height:667,userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 6_0 like Mac OS X) AppleWebKit/536.26 (KHTML, like Gecko) Version/6.0 Mobile/10A5376e Safari/8536.25",icon:"mobile",testSection:"emulation-presets-iPhone6"},iPad:{key:"iPad",label:"iPad",width:768,height:1024,userAgent:"Mozilla/5.0 (iPad; CPU OS 6_0 like Mac OS X) AppleWebKit/536.26 (KHTML, like Gecko) Version/6.0 Mobile/10A5376e Safari/8536.25",icon:"tablet",testSection:"emulation-presets-iPad"},galaxyS5:{key:"GalaxyS5",label:"Galaxy S5",width:360,height:640,userAgent:"Mozilla/5.0 (Linux; Android 4.4.2; en-us; SAMSUNG SM-G900T Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Version/1.6 Chrome/28.0.1500.94 Mobile Safari/537.36",icon:"mobile",testSection:"emulation-presets-galaxyS5"}},PresetsTabs:i({RESIZE:null,EMULATE:null}),ChromiumErrorCodes:{NAME_NOT_RESOLVED:-105}}},,,,,,function(t,r,a){"use strict";a.d(r,"a",(function(){return u})),a.d(r,"b",(function(){return d})),a.d(r,"c",(function(){return p}));var i=a(396),o=a(502),c=a(597),l=a(376),u=i.a,d=(o.a,c.a),p=l.a},function(t,r,a){"use strict";a.r(r);var i=a(41),o=a(557);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a);r.default=_extends({},c)},function(t,r,a){"use strict";a.d(r,"a",(function(){return y}));var i=a(4),o=a(1),c=a.n(o),l="https://p13n-results-api.optimizely.com",u="https://p13n-api-canary.dz.optimizely.com",d={LOCAL:{BASE:"http://localhost:8080",SEGMENT:"".concat("http://localhost:8080","/segments")},CANARY:{BASE:u,SEGMENT:"".concat(u,"/segments")},PROD:{BASE:l,SEGMENT:"".concat(l,"/segments")}},p=c.a.arrayOf(c.a.oneOfType([c.a.number,c.a.string])),m={ABSOLUTE:"absolute",RELATIVE:"relative"},g=c.a.oneOf(Object(i.values)(m)),h=c.a.shape({confidenceInterval:p.isRequired,confidenceIntervalScaled:p,isSignificant:c.a.bool.isRequired,significance:c.a.number.isRequired,status:c.a.string,value:c.a.number.isRequired,valueScaled:c.a.number,visitorsRemaining:c.a.number.isRequired}),y=2;r.b={BASE_URL:l,BASE_CANARY_URL:u,BASE_LOCAL_URL:"http://localhost:8080",API_URLS:d,ACCEPT_HEADER:"application/vnd.optimizely.v3+json",API_SOURCE_QUERY_PARAM:"api_source",CONFIDENCE_INTERVAL_SHAPE:p,CONFIDENCE_LEVEL_DIVISOR:1e4,DIFFERENCE_TYPES:m,DIFFERENCE_TYPE_PROP:g,LIFT_SHAPE:h,MAX_CONFIDENCE_LEVEL:.9999999999,RESTRICTION_NUM_YEARS:y,SEGMENT_CATEGORY_API_ROUTE:"/api/projects/%s/segments.json?default_segments=true",TRACE_ID_VERSION:1}},function(t,r,a){"use strict";var i,o=a(12),c=a.n(o),l=a(4),u=a.n(l),d=a(3),p=a(36),m=a(571),g=a(284),h=a(379);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var y=p.default.createEntityActions(m.a);function addEntityToGroup(t,r){var a=_extends({},r);return a.entities||(a.entities=[]),a.entities.push(t),i.save(a)}r.a=i=_extends({},y,{addEntityToGroup:addEntityToGroup,archive:function archive(t){return i.save({id:t.get("id"),archived:!0})},createExperimentationGroup:function createExperimentationGroup(t){var r=_extends({},t,{policy:g.b.POLICY_TYPES.RANDOM});return i.save(r)},unarchive:function unarchive(t){return i.save({id:t.get("id"),archived:!1})},updateExperimentGroup:function updateExperimentGroup(t,r,a,o){var l=function associateNewGroup(i){var o=d.default.evaluateToJS(h.default.byId(i));return addEntityToGroup({id:t,kind:a,weight:r},o)},p=d.default.evaluateToJS(h.default.entityToGroupMap);if(p[t]){var m=p[t].id,g=d.default.evaluateToJS(h.default.byId(m));return m===o?(u.a.chain(g.entities).find({id:t}).extend({weight:r}).value(),i.save(g)):function dissociateOldGroup(r){return u.a.remove(r.entities,{id:t}),i.save(r)}(g).then((function(){if(o)return l(o)}))}return o?l(o):c.a.Deferred().resolve()}})},function(t,r,a){"use strict";a.r(r),a.d(r,"byId",(function(){return l})),a.d(r,"entityCache",(function(){return u})),a.d(r,"asList",(function(){return d})),a.d(r,"activeEvents",(function(){return p}));var i=a(41),o=a(508);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a),l=c.byId,u=c.entityCache,d=[u,function(t){return t.toList()}],p=[u,function(t){return t.filter((function(t){return!t.get("archived")}))}];r.default=_extends({},c,{activeEvents:p,asList:d})},function(t,r,a){"use strict";a.r(r),a.d(r,"byId",(function(){return l})),a.d(r,"entityCache",(function(){return u})),a.d(r,"liveCommitTagByLayerId",(function(){return liveCommitTagByLayerId}));var i=a(41),o=a(236);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a),l=c.byId,u=c.entityCache;function liveCommitTagByLayerId(t){return[u,function(r){return r.find((function(r){return r.get("layer_id")===t}))||null}]}r.default=_extends({},c,{liveCommitTagByLayerId:liveCommitTagByLayerId})},function(t,r,a){var i=a(4),o=a(3175),c=a(2).default,l=(a(25),a(2).toImmutable),u=a(23).constants,d=a(83).default,p=a(29),m=a(68),g=(a(22),a(96)),h=a(912);r.customCodeLinesChanged=function(t,r){var a=t&&t.get("value")||"",c=r&&r.get("value")||"",l=o.diffTrimmedLines(a,c);return i.reduce(l,(function(t,r){return r.removed?t.removed+=r.count||r.value.split("\n").length:r.added&&(t.added+=r.count||r.value.split("\n").length),t}),{added:0,removed:0})},r.changesForLayerExperimentList=function(t){return t.reduce((function(t,a){return a.get("archived")||"archived"===a.get("actual_status")?t:t.concat(r.changesForLayerExperiment(a))}),l([]))},r.changesForLayerExperiment=function(t){var r=l([]);return t.get("variations")?(t.get("variations").forEach((function(t){t.get("actions")&&t.get("actions").forEach((function(t){t.get("changes")&&t.get("changes").forEach((function(t){r=r.push(t)}))}))})),r):r},r.savedChangesForCampaign=function(t){return t?r.changesForLayerExperimentList(t):l([])},r.liveChangesForCampaign=function(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(a){var c=a.get("revisions").get("layer_experiment");c&&i.size&&o&&(c=c.filter((function(t){var r=t.get("id"),a=i.get(r);return a&&a.get("status")===o})));var u=d.isMultivariateTestLayer(t),p=u?a.get("revisions").get("experiment_section"):c;if(p)return r.changesForLayerExperimentList(p)}return l([])},r.newChangesForChangeList=function(t,r){return t.filter((function(t){return!r.some((function(r){return r.get("id")===t.get("id")}))}))},r.modifiedChangesForChangeList=function(t,r){return t.filter((function(t){var a=r.find((function(r){return r.get("id")===t.get("id")}));return a&&!c.is(t,a)}))},r.deletedChangesForChangeList=function(t,r){return r.filter((function(r){return!t.some((function(t){return t.get("id")===r.get("id")}))}))},r.changesForVariation=function(t,r){var a,i=l([]);t&&r&&(t.find((function(t){var i=t.get("variations").find((function(t){return t.get("variation_id")===r}));return!!i&&(a=i,!0)})),a&&a.get("actions").forEach((function(t){i=i.concat(t.get("changes"))})));return i},r.liveChangesForVariation=function(t,a){var i=l([]);if(t){var o=t.get("revisions").get("layer_experiment");i=r.changesForVariation(o,a)}return i},r.changesForAction=function(t,r,a){var i;if(t&&r&&a&&(t.find((function(t){var r=t.get("variations").find((function(t){return t.get("variation_id")===a}));return!!r&&(i=r,!0)})),i)){var o=i.get("actions").find((function(t){return t.get("view_id")===r}));return o&&o.get("changes")||l([])}return l([])},r.liveChangesForAction=function(t,a,i){var o=l([]);if(t){var c=t.get("revisions").get("layer").get(0),u=d.isMultivariateTestLayer(c)?t.get("revisions").get("experiment_section"):t.get("revisions").get("layer_experiment");o=r.changesForAction(u,a,i)}return o},r.attributeChangesWithStatusForAction=function(t,a,o,c,u){return l([]).concat(t.map((function(t){return t.set("status",p.ChangeStatuses.NEW)}))).concat(o.map((function(t){return t.set("status",p.ChangeStatuses.MODIFIED)}))).concat(c.map((function(t){return t.set("status",p.ChangeStatuses.DELETED)}))).concat(a.filter((function(t){return!o.some((function(r){return r.get("id")===t.get("id")}))&&!c.some((function(r){return r.get("id")===t.get("id")}))})).map((function(t){return t.set("status",p.ChangeStatuses.LIVE)}))).filter((function(t){return i.includes([p.ChangeTypes.ATTRIBUTE,p.ChangeTypes.WIDGET,p.ChangeTypes.INSERT_HTML,p.ChangeTypes.INSERT_IMAGE,p.ChangeTypes.REDIRECT],t.get("type"))})).sort(r.createActionListSortFn(u))},r.createActionListSortFn=function(t){return function(r,a){var i=t.findIndex((function(t){return t.get("id")===r.get("id")})),o=t.findIndex((function(t){return t.get("id")===a.get("id")}));return-1===i&&-1===o?0:-1===i?1:-1===o?-1:i-o}},r.experimentHasUnpublishedAudienceChanges=function(t,r){return!!r&&m.getAudienceConditions(t)!==m.getAudienceConditions(r)},r.experimentHasUnpublishedChanges=function(t,a){return function experimentHasUnpublishedVariationChanges(t,a){var i=r.changesForLayerExperiment(t),o=a?r.changesForLayerExperiment(a):c.List();return!!r.newChangesForChangeList(i,o).size||(!!r.modifiedChangesForChangeList(i,o).size||!!r.deletedChangesForChangeList(i,o).size)}(t,a)||function experimentHasUnpublishedTrafficAllocationChanges(t,r){if(!r)return!1;var a=t.get("variations").map((function(t){return t.get("weight")})),i=r.get("variations").map((function(t){return t.get("weight")}));return!c.is(a,i)}(t,a)||r.experimentHasUnpublishedAudienceChanges(t,a)},r.variationHasUnpublishedActionChanges=function(t,a,i){var o,l=r.changesForVariation(c.List([a]),t);return o=i?r.changesForVariation(c.List([i]),t):c.List(),r.newChangesForChangeList(l,o).size>0||r.modifiedChangesForChangeList(l,o).size>0||r.deletedChangesForChangeList(l,o).size>0},r.variationHasUnpublishedTrafficAllocationChanges=function(t,r,a){if(!a)return!1;var i=r.get("variations").find((function(r){return r.get("variation_id")===t})),o=a.get("variations").find((function(r){return r.get("variation_id")===t}));return!!o&&i.get("weight")!==o.get("weight")},r.variationHasUnpublishedChanges=function(t,a,i){return r.variationHasUnpublishedActionChanges(t,a,i)||r.variationHasUnpublishedTrafficAllocationChanges(t,a,i)},r.variationIsRunning=function(t,a,i,o){var l=d.isMultivariateTestLayer(t);return!(!o||!l&&i.get("status")!==p.status.ACTIVE)&&r.changesForVariation(c.List([o]),a).size>0},r.addStatusInfoToVariations=function(t,a,i,o){return a.map((function(a){var c=r.variationHasUnpublishedActionChanges(a.get("variation_id"),i,o),l=r.variationIsRunning(t,a.get("variation_id"),i,o);return a.set("hasUnpublishedChanges",c).set("isRunning",l)}))},r.getVariationById=function(t,r){var a;return r.find((function(r){return r.get("variations").find((function(r){if(r.get("variation_id")===t)return a=r,!0}))})),a},r.generateChangeCountsMessage=function(t){var r=t.filter((function(t){return t.get("type")===p.ChangeTypes.CUSTOM_CODE||t.get("type")===p.ChangeTypes.CUSTOM_CSS})),a=t.filter((function(t){return t.get("type")===p.ChangeTypes.ATTRIBUTE||t.get("type")===p.ChangeTypes.INSERT_HTML||t.get("type")===p.ChangeTypes.INSERT_IMAGE})),i=t.filter((function(t){return t.get("type")===p.ChangeTypes.WIDGET})),o=t.filter((function(t){return t.get("type")===p.ChangeTypes.REDIRECT})),c="";return r.size&&(c+="".concat(tr.pluralize("{0} variation code change","{0} variation code changes",r.size),"<br />")),a.size&&(c+="".concat(tr.pluralize("{0} visual change","{0} visual changes",a.size),"<br />")),i.size&&(c+="".concat(tr.pluralize("{0} extension change","{0} extension changes",i.size),"<br />")),o.size&&(c+="".concat(tr.pluralize("{0} redirect change","{0} redirect changes",o.size),"<br />")),c},r.getExperimentSnippetStatus=function(t,r,a){return t.get("status")===p.status.PAUSED?h.snippetStatuses.PAUSED:a&&!1===a.get("active")?h.snippetStatuses.CAMPAIGN_PAUSED:r&&t.get("status")===p.status.ACTIVE?h.snippetStatuses.RUNNING:h.snippetStatuses.NOT_STARTED},r.formatAnalyticsExtensionsToIntegrationsUI=function(t,r){return t.map((function(t){var a=t.get("form_schema").map((function(t){var r=t.getIn(["options","choices"])&&t.getIn(["options","choices"]).map((function(t){return l({id:t.get("value"),text:t.get("label")})})),a=t.get("field_type")===g.fieldType.DROPDOWN?"select":t.get("field_type");return l({label:t.get("label"),name:t.get("name"),inputType:a,values:r,required:!1})})),i=l({layerLevelData:l({fields:l(a),generalHelp:l({message:t.get("description")})}),masterLabel:t.get("name"),id:t.get("plugin_id")});if(Object.prototype.hasOwnProperty.call(r,t.get("plugin_id"))){var o=r[t.get("plugin_id")].get("settings"),c={};t.get("form_schema").forEach((function(t){o.get(t.get("name"))?c[t.get("name")]=o.get(t.get("name")):t.get("default_value")&&(c[t.get("name")]=t.get("default_value"))})),i=i.setIn(["layerLevelData","enabled"],l(r[t.get("plugin_id")].get("enabled"))).setIn(["layerLevelData","settings"],l(c))}else{var u={};t.get("form_schema").forEach((function(t){t.get("default_value")&&(u[t.get("name")]=t.get("default_value"))})),i=i.setIn(["layerLevelData","enabled"],l(!1)).setIn(["layerLevelData","settings"],l(u))}return i}))},r.getDefaultTargetingType=function(t){return t?u.TargetingTypes.URL:u.TargetingTypes.SAVED_PAGES},r.sectionsHaveTrafficChanges=function(t,a){if(!a||!a.size)return!1;var i=a&&a.filter((function(t){return!t.get("archived")})),o=t&&t.filter((function(t){return!t.get("archived")})),l=i.map((function(t){return t.get("id")})).sort(),u=o.map((function(t){return t.get("id")})).sort();return!c.is(l,u)||r.hasWeightDifferences(o,i)},r.destinationLayerExperimentHasTrafficChanges=function(t,a){if(!a||!a.size)return!1;var i=a&&a.filter((function(t){return!t.get("archived")})),o=t&&t.filter((function(t){return!t.get("archived")}));return r.hasWeightDifferences(o,i)},r.hasWeightDifferences=function(t,r){return t.some((function(t){var a=r.find((function(r){return r.get("id")===t.get("id")})),i=t.get("variations").map((function(t){return t.get("weight")})),o=a&&a.get("variations").map((function(t){return t.get("weight")}));return!c.is(o,i)}))}},,function(t,r,a){var i=a(886),o=a(21),c=a(8);r.getText=function(t,r){var a={};return a[o.campaignTypes.P13N_CAMPAIGN]={name:c("Campaign"),adaptive:{title:i.AdaptiveAudienceHelpTexts.TITLE,message:c("The campaign <b>{0}</b> has an experience that {1}<a href=".concat(i.AdaptiveAudienceReferenceLinks.CONDITIONS," rel='noopener noreferrer' target='_blank'>{2}</a>"),r,i.AdaptiveAudienceHelpTexts.PROCESSING,i.AdaptiveAudienceHelpTexts.CONDITIONS)},archive:{title:c("Archive Campaign"),message:c("Are you sure you want to archive the campaign <b>{0}</b>?",r),confirmText:c("Archive Campaign"),confirmationText:c("The campaign <b>{0}</b> has been archived.",r)},archiveAndPause:{title:c("Archive Campaign"),message:c("The campaign <b>{0}</b> is currently running. Archiving a running campaign will pause it. Are you sure you want to archive it?",r),confirmText:c("Archive Campaign"),confirmationText:c("The campaign <b>{0}</b> has been paused and archived.",r)},firstPublish:{title:c("Start Campaign"),message:c("Are you sure you want to start the campaign <b>{0}</b>?",r),confirmText:c("Start Campaign")},pause:{title:c("Pause Campaign"),message:c("Are you sure you want to pause the campaign <b>{0}</b>?",r),confirmText:c("Pause Campaign"),confirmationText:c("The campaign <b>{0}</b> has been paused.",r)},publish:{title:c("Publish Campaign"),message:c("Are you sure you want to publish the campaign <b>{0}</b>? Your draft changes will go live to the world.",r),inProgressMessage:c("Publishing Campaign"),confirmText:c("Publish Campaign"),confirmationText:c("Your changes to <b>{0}</b> are published and are now live!",r)},publishAndStart:{title:c("You are publishing a paused campaign"),message:c("The campaign <b>{0}</b> is paused, and published changes will not affect visitors until this campaign is started. Would you like to publish and start this campaign?",r)},publishLayerOnly:{title:c("Publish Campaign Settings"),message:c("Are you sure you want to publish the campaign settings for <b>{0}</b>? The new settings will be live, but changes made to experiences and variations will not.",r),confirmText:c("Publish Campaign Settings"),confirmationText:c("Your changes for <b>{0}</b> are now being published.",r),fullPublishOptionText:c("Publish campaign…"),layerOnlyPublishOptionText:c("Publish campaign settings only…")},start:{title:c("Start Campaign"),message:c("Are you sure you want to start the campaign <b>{0}</b>?",r),confirmText:c("Start Campaign"),confirmationText:c("The campaign <b>{0}</b> has been started.",r)},unarchive:{message:c("The campaign <b>{0}</b> has been unarchived.",r)}},a[o.policy.ORDERED]={name:c("Experience"),adaptive:{title:i.AdaptiveAudienceHelpTexts.TITLE,message:c("The experience <b>{0}</b> {1}<a href=".concat(i.AdaptiveAudienceReferenceLinks.CONDITIONS," rel='noopener noreferrer' target='_blank'>{2}</a>"),r,i.AdaptiveAudienceHelpTexts.PROCESSING,i.AdaptiveAudienceHelpTexts.CONDITIONS)},archive:{title:c("Archive {0}",r),message:c("Are you sure you would like to archive the experience <b>{0}</b> in the current campaign?",r),confirmText:c("Archive"),confirmationText:c("The experience <b>{0}</b> in the current campaign has been archived.",r)},pause:{title:c("Pause {0}",r),message:c("Are you sure you would like to pause the experience <b>{0}</b> in the current campaign? This change will take effect immediately.",r),confirmText:c("Pause"),confirmationText:c("The experience <b>{0}</b> in the current campaign has been paused.",r)},publish:{title:c("Are you sure you want to publish this experience?"),message:c("Your draft changes to <b>{0}</b> will go live to the world.",r),confirmText:c("Publish"),confirmationText:c("The experience <b>{0}</b> in the current campaign has been published.",r)},unarchive:{title:c("Unarchive {0}",r),message:c("Are you sure you would like to unarchive the experience <b>{0}</b> in the current campaign?",r),confirmText:c("Unarchive"),confirmationText:c("The experience <b>{0}</b> in the current campaign has been unarchived.",r)},unpause:{title:c("Unpause {0}",r),message:c("Are you sure you would like to unpause the experience <b>{0}</b> in the current campaign? This change will take effect immediately.",r),confirmText:c("Unpause"),confirmationText:c("The experience <b>{0}</b> in the current campaign has been unpaused.",r)}},a[o.policy.EQUAL_PRIORITY]=a[o.policy.ORDERED],a[o.campaignTypes.SINGLE_EXPERIMENT]={name:c("A/B Test"),adaptive:{title:i.AdaptiveAudienceHelpTexts.TITLE,message:c("The experiment <b>{0}</b> has an experience that {1}<a href=".concat(i.AdaptiveAudienceReferenceLinks.CONDITIONS," rel='noopener noreferrer' target='_blank'>{2}</a>"),r,i.AdaptiveAudienceHelpTexts.PROCESSING,i.AdaptiveAudienceHelpTexts.CONDITIONS)},archive:{title:c("Archive Experiment"),message:c("Are you sure you want to archive the experiment <b>{0}</b>?",r),confirmText:c("Archive Experiment"),confirmationText:c("The experiment <b>{0}</b> has been archived.",r)},archiveAndPause:{title:c("Archive Experiment"),message:c("The experiment <b>{0}</b> is currently running. Archiving a running experiment will pause it. Are you sure you want to archive it?",r),confirmText:c("Archive Experiment"),confirmationText:c("The experiment <b>{0}</b> has been paused and archived.",r)},firstPublish:{title:c("Start Experiment"),message:c("Are you sure you want to start the experiment <b>{0}</b>?",r),confirmText:c("Start Experiment")},pause:{title:c("Pause Experiment"),message:c("Are you sure you want to pause the experiment <b>{0}</b>?",r),confirmText:c("Pause Experiment"),confirmationText:c("The experiment <b>{0}</b> has been paused.",r)},publish:{title:c("Publish Experiment"),message:c("Are you sure you want to publish the experiment <b>{0}</b>? Your draft changes will go live to the world.",r),inProgressMessage:c("Publishing Experiment"),confirmText:c("Publish Experiment"),confirmationText:c("Your changes to <b>{0}</b> are published and are now live!",r)},publishAndStart:{title:c("You are publishing a paused experiment"),message:c("The experiment <b>{0}</b> is paused, and published changes will not affect visitors until this experiment is started. Would you like to publish and start this experiment?",r)},start:{title:c("Start Experiment"),message:c("Are you sure you want to start the experiment <b>{0}</b>?",r),confirmText:c("Start Experiment"),confirmationText:c("The experiment <b>{0}</b> has been started.",r)},unarchive:{message:c("The experiment <b>{0}</b> has been unarchived.",r)}},a[o.campaignTypes.MULTIVARIATE]={name:c("Multivariate Test"),adaptive:{title:i.AdaptiveAudienceHelpTexts.TITLE,message:c("The experiment <b>{0}</b> has an experience that {1}<a href=".concat(i.AdaptiveAudienceReferenceLinks.CONDITIONS," rel='noopener noreferrer' target='_blank'>{2}</a>"),r,i.AdaptiveAudienceHelpTexts.PROCESSING,i.AdaptiveAudienceHelpTexts.CONDITIONS)},archive:{title:c("Archive Multivariate Test"),message:c("Are you sure you want to archive the multivariate test <b>{0}</b>?",r),confirmText:c("Archive Multivariate Test"),confirmationText:c("The multivariate test <b>{0}</b> has been archived.",r)},archiveAndPause:{title:c("Archive Multivariate Test"),message:c("The multivariate test <b>{0}</b> is currently running. Archiving a running multivariate test will pause it. Are you sure you want to archive it?",r),confirmText:c("Archive Multivariate Test"),confirmationText:c("The multivariate test <b>{0}</b> has been paused and archived.",r)},firstPublish:{title:c("Start Multivariate Test"),message:c("Are you sure you want to start the multivariate test <b>{0}</b>?",r),confirmText:c("Start Multivariate Test")},pause:{title:c("Pause Multivariate Test"),message:c("Are you sure you want to pause the multivariate test <b>{0}</b>?",r),confirmText:c("Pause Multivariate Test"),confirmationText:c("The multivariate test <b>{0}</b> has been paused.",r)},publish:{title:c("Publish Multivariate Test"),message:c("Are you sure you want to publish the multivariate test <b>{0}</b>? Your draft changes will go live to the world.",r),inProgressMessage:c("Publishing Multivariate Test"),confirmText:c("Publish Multivariate Test"),confirmationText:c("Your changes to <b>{0}</b> are published and are now live!",r)},publishAndStart:{title:c("You are publishing a paused multivariate test"),message:c("The multivariate test <b>{0}</b> is paused, and published changes will not affect visitors until this multivariate test is started. Would you like to publish and start this multivariate test?",r)},start:{title:c("Start Multivariate Test"),message:c("Are you sure you want to start the multivariate test <b>{0}</b>?",r),confirmText:c("Start Multivariate Test"),confirmationText:c("The multivariate test <b>{0}</b> has been started.",r)},unarchive:{message:c("The multivariate test <b>{0}</b> has been unarchived.",r)}},a[o.campaignTypes.MULTIARMED_BANDIT]={name:c("Multi-Armed Bandit"),adaptive:{title:i.AdaptiveAudienceHelpTexts.TITLE,message:c("The multi-armed bandit <b>{0}</b> has an experience that {1}<a href=".concat(i.AdaptiveAudienceReferenceLinks.CONDITIONS," rel='noopener noreferrer' target='_blank'>{2}</a>"),r,i.AdaptiveAudienceHelpTexts.PROCESSING,i.AdaptiveAudienceHelpTexts.CONDITIONS)},archive:{title:c("Archive Multi-Armed Bandit"),message:c("Are you sure you want to archive the multi-armed bandit <b>{0}</b>?",r),confirmText:c("Archive Multi-Armed Bandit"),confirmationText:c("The multi-armed bandit <b>{0}</b> has been archived.",r)},archiveAndPause:{title:c("Archive Multi-Armed Bandit"),message:c("The multi-armed bandit <b>{0}</b> is currently running. Archiving a running multi-armed bandit will pause it. Are you sure you want to archive it?",r),confirmText:c("Archive Multi-Armed Bandit"),confirmationText:c("The multi-armed bandit <b>{0}</b> has been paused and archived.",r)},firstPublish:{title:c("Start Multi-Armed Bandit"),message:c("Are you sure you want to start the multi-armed bandit <b>{0}</b>?",r),confirmText:c("Start Multi-Armed Bandit")},pause:{title:c("Pause Multi-Armed Bandit"),message:c("Are you sure you want to pause the multi-armed bandit <b>{0}</b>?",r),confirmText:c("Pause Multi-Armed Bandit"),confirmationText:c("The multi-armed bandit <b>{0}</b> has been paused.",r)},publish:{title:c("Publish Multi-Armed Bandit"),message:c("Are you sure you want to publish the multi-armed bandit <b>{0}</b>? Your draft changes will go live to the world.",r),inProgressMessage:c("Publishing Multi-Armed Bandit"),confirmText:c("Publish Multi-Armed Bandit"),confirmationText:c("Your changes to <b>{0}</b> are published and are now live!",r)},publishAndStart:{title:c("You are publishing a paused multi-armed bandit"),message:c("The multi-armed bandit <b>{0}</b> is paused, and published changes will not affect visitors until this multi-armed bandit is started. Would you like to publish and start this multi-armed bandit?",r)},start:{title:c("Start Multi-Armed Bandit"),message:c("Are you sure you want to start the multi-armed bandit <b>{0}</b>?",r),confirmText:c("Start Multi-Armed Bandit"),confirmationText:c("The multi-armed bandit <b>{0}</b> has been started.",r)},unarchive:{message:c("The multi-armed bandit <b>{0}</b> has been unarchived.",r)}},a[o.campaignTypes.FEATURE]={name:c("Feature Test"),adaptive:{title:i.AdaptiveAudienceHelpTexts.TITLE,message:c("The feature test <b>{0}</b> has an experience that {1}<a href=".concat(i.AdaptiveAudienceReferenceLinks.CONDITIONS," rel='noopener noreferrer' target='_blank'>{2}</a>"),r,i.AdaptiveAudienceHelpTexts.PROCESSING,i.AdaptiveAudienceHelpTexts.CONDITIONS)},archive:{title:c("Archive Feature Test"),message:c("Are you sure you want to archive the feature test <b>{0}</b>?",r),confirmText:c("Archive Feature Test"),confirmationText:c("The feature test <b>{0}</b> has been archived.",r)},archiveAndPause:{title:c("Archive Feature Test"),message:c("The feature test <b>{0}</b> is currently running. Archiving a running feature test will pause it. Are you sure you want to archive it?",r),confirmText:c("Archive Feature Test"),confirmationText:c("The feature test <b>{0}</b> has been paused and archived.",r)},firstPublish:{title:c("Start Feature Test"),message:c("Are you sure you want to start the feature test <b>{0}</b>?",r),confirmText:c("Start Feature Test")},pause:{title:c("Pause Feature Test"),message:c("Are you sure you want to pause the feature test <b>{0}</b>?",r),confirmText:c("Pause Feature Test"),confirmationText:c("The feature test <b>{0}</b> has been paused.",r)},publish:{title:c("Publish Feature Test"),message:c("Are you sure you want to publish the feature test <b>{0}</b>? Your draft changes will go live to the world.",r),inProgressMessage:c("Publishing Feature Test"),confirmText:c("Publish Feature Test"),confirmationText:c("Your changes to <b>{0}</b> are published and are now live!",r)},publishAndStart:{title:c("You are publishing a paused multi-armed bandit"),message:c("The feature test <b>{0}</b> is paused, and published changes will not affect visitors until this feature test is started. Would you like to publish and start this feature test?",r)},start:{title:c("Start Feature Test"),message:c("Are you sure you want to start the feature test <b>{0}</b>?",r),confirmText:c("Start Feature Test"),confirmationText:c("The feature test <b>{0}</b> has been started.",r)},unarchive:{message:c("The feature test <b>{0}</b> has been unarchived.",r)}},a[t]}},function(t,r,a){"use strict";var i=a(33);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var o={project_id:null,user_id:null,role_name:null,title:null,first_name:null,last_name:null,invitation_status:null},c=_extends({},o,{target_user_email:null}),l={project_id:i.a.NUMBER,user_id:i.a.NUMBER,role_name:i.a.STRING,title:i.a.STRING,first_name:i.a.STRING,last_name:i.a.STRING,invitation_status:i.a.STRING},u=_extends({},l,{target_user_email:i.a.STRING});r.a={v1:{entity:"collaborators",isRelationshipEntity:!0,parents:[{entity:"projects",key:"project_id"},{entity:"collaborators",key:"user_id"}],fields:o,fieldTypes:l},v2:{entity:"collaborators_v2",isRelationshipEntity:!0,parents:[{entity:"projects",key:"project_id"},{entity:"collaborators_v2",key:"target_user_email"}],fields:c,fieldTypes:u},crossCompatible:{entity:"collaborators_v2",isRelationshipEntity:!1,createEntityVerb:"put",fields:c,fieldTypes:u}}},function(t,r,a){"use strict";var i,o,c,l,u,d,p,m,g,h,y,v,_,E,b,T,S,C,I,A,O=a(27),P=a(7);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var R=(_defineProperty(i={},O.constants.FEATURE_VARIABLE_TYPES.boolean,"true"),_defineProperty(i,O.constants.FEATURE_VARIABLE_TYPES.float,0),_defineProperty(i,O.constants.FEATURE_VARIABLE_TYPES.integer,0),_defineProperty(i,O.constants.FEATURE_VARIABLE_TYPES.string,""),_defineProperty(i,O.constants.FEATURE_VARIABLE_TYPES.json,{}),i),w=(_defineProperty(S={},P.default.sdkLanguages.PYTHON,(_defineProperty(o={},O.constants.FEATURE_VARIABLE_TYPES.boolean,"%s = optimizely_client.get_feature_variable_boolean('%s', '%s', user_id)"),_defineProperty(o,O.constants.FEATURE_VARIABLE_TYPES.double,"%s = optimizely_client.get_feature_variable_double('%s', '%s', user_id)"),_defineProperty(o,O.constants.FEATURE_VARIABLE_TYPES.integer,"%s = optimizely_client.get_feature_variable_integer('%s', '%s', user_id)"),_defineProperty(o,O.constants.FEATURE_VARIABLE_TYPES.string,"%s = optimizely_client.get_feature_variable_string('%s', '%s', user_id)"),_defineProperty(o,O.constants.FEATURE_VARIABLE_TYPES.json,"%s = optimizely_client.get_feature_variable_json('%s', '%s', user_id)"),o)),_defineProperty(S,P.default.sdkLanguages.RUBY,(_defineProperty(c={},O.constants.FEATURE_VARIABLE_TYPES.boolean,"%s = optimizely_client.get_feature_variable_boolean('%s', '%s', user_id)"),_defineProperty(c,O.constants.FEATURE_VARIABLE_TYPES.double,"%s = optimizely_client.get_feature_variable_double('%s', '%s', user_id)"),_defineProperty(c,O.constants.FEATURE_VARIABLE_TYPES.integer,"%s = optimizely_client.get_feature_variable_integer('%s', '%s', user_id)"),_defineProperty(c,O.constants.FEATURE_VARIABLE_TYPES.string,"%s = optimizely_client.get_feature_variable_string('%s', '%s', user_id)"),_defineProperty(c,O.constants.FEATURE_VARIABLE_TYPES.json,"%s = optimizely_client.get_feature_variable_json('%s', '%s', user_id)"),c)),_defineProperty(S,P.default.sdkLanguages.JAVASCRIPT,(_defineProperty(l={},O.constants.FEATURE_VARIABLE_TYPES.boolean,"var %s = optimizelyClientInstance.getFeatureVariableBoolean('%s', '%s', userId);"),_defineProperty(l,O.constants.FEATURE_VARIABLE_TYPES.double,"var %s = optimizelyClientInstance.getFeatureVariableDouble('%s', '%s', userId);"),_defineProperty(l,O.constants.FEATURE_VARIABLE_TYPES.integer,"var %s = optimizelyClientInstance.getFeatureVariableInteger('%s', '%s', userId);"),_defineProperty(l,O.constants.FEATURE_VARIABLE_TYPES.string,"var %s = optimizelyClientInstance.getFeatureVariableString('%s', '%s', userId);"),_defineProperty(l,O.constants.FEATURE_VARIABLE_TYPES.json,"var %s = optimizelyClientInstance.getFeatureVariableJSON('%s', '%s', userId);"),l)),_defineProperty(S,P.default.sdkLanguages.FLUTTER,(_defineProperty(u={},O.constants.FEATURE_VARIABLE_TYPES.boolean,'var %1$s = decision.variables["%3$s"];'),_defineProperty(u,O.constants.FEATURE_VARIABLE_TYPES.double,'var %1$s = decision.variables["%3$s"];'),_defineProperty(u,O.constants.FEATURE_VARIABLE_TYPES.integer,'var %1$s = decision.variables["%3$s"];'),_defineProperty(u,O.constants.FEATURE_VARIABLE_TYPES.string,'var %1$s = decision.variables["%3$s"];'),_defineProperty(u,O.constants.FEATURE_VARIABLE_TYPES.json,'var %1$s = decision.variables["%3$s"];'),u)),_defineProperty(S,P.default.sdkLanguages.JAVA,(_defineProperty(d={},O.constants.FEATURE_VARIABLE_TYPES.boolean,'Boolean %s = optimizelyClient.getFeatureVariableBoolean("%s", "%s", userId);'),_defineProperty(d,O.constants.FEATURE_VARIABLE_TYPES.double,'Double %s = optimizelyClient.getFeatureVariableDouble("%s", "%s", userId);'),_defineProperty(d,O.constants.FEATURE_VARIABLE_TYPES.integer,'Integer %s = optimizelyClient.getFeatureVariableInteger("%s", "%s", userId);'),_defineProperty(d,O.constants.FEATURE_VARIABLE_TYPES.string,'String %s = optimizelyClient.getFeatureVariableString("%s", "%s", userId);'),_defineProperty(d,O.constants.FEATURE_VARIABLE_TYPES.json,'OptimizelyJSON %s = optimizelyClient.getFeatureVariableJSON("%s", "%s", userId);'),d)),_defineProperty(S,P.default.sdkLanguages.PHP,(_defineProperty(p={},O.constants.FEATURE_VARIABLE_TYPES.boolean,"$%s = $optimizelyClient->getFeatureVariableBoolean('%s', '%s', $userId);"),_defineProperty(p,O.constants.FEATURE_VARIABLE_TYPES.double,"$%s = $optimizelyClient->getFeatureVariableDouble('%s', '%s', $userId);"),_defineProperty(p,O.constants.FEATURE_VARIABLE_TYPES.integer,"$%s = $optimizelyClient->getFeatureVariableInteger('%s', '%s', $userId);"),_defineProperty(p,O.constants.FEATURE_VARIABLE_TYPES.string,"$%s = $optimizelyClient->getFeatureVariableString('%s', '%s', $userId);"),_defineProperty(p,O.constants.FEATURE_VARIABLE_TYPES.json,"$%s = $optimizelyClient->getFeatureVariableJSON('%s', '%s', $userId);"),p)),_defineProperty(S,P.default.sdkLanguages.CSHARP,(_defineProperty(m={},O.constants.FEATURE_VARIABLE_TYPES.boolean,'bool? %s = OptimizelyClient.GetFeatureVariableBoolean("%s", "%s", userId);'),_defineProperty(m,O.constants.FEATURE_VARIABLE_TYPES.double,'double? %s = OptimizelyClient.GetFeatureVariableDouble("%s", "%s", userId);'),_defineProperty(m,O.constants.FEATURE_VARIABLE_TYPES.integer,'int? %s = OptimizelyClient.GetFeatureVariableInteger("%s", "%s", userId);'),_defineProperty(m,O.constants.FEATURE_VARIABLE_TYPES.string,'string %s = OptimizelyClient.GetFeatureVariableString("%s", "%s", userId);'),_defineProperty(m,O.constants.FEATURE_VARIABLE_TYPES.json,'OptimizelyJSON %s = OptimizelyClient.GetFeatureVariableJSON("%s", "%s", userId);'),m)),_defineProperty(S,P.default.sdkLanguages.OBJECTIVE_C,(_defineProperty(g={},O.constants.FEATURE_VARIABLE_TYPES.boolean,'NSNumber *%s = [optimizelyClient getFeatureVariableBooleanWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),_defineProperty(g,O.constants.FEATURE_VARIABLE_TYPES.double,'NSNumber *%s = [optimizelyClient getFeatureVariableDoubleWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),_defineProperty(g,O.constants.FEATURE_VARIABLE_TYPES.integer,'NSNumber *%s = [optimizelyClient getFeatureVariableIntegerWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),_defineProperty(g,O.constants.FEATURE_VARIABLE_TYPES.string,'NSString *%s = [optimizelyClient getFeatureVariableStringWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),_defineProperty(g,O.constants.FEATURE_VARIABLE_TYPES.json,'OptimizelyJSON *%s = [optimizelyClient getFeatureVariableJSONWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),g)),_defineProperty(S,P.default.sdkLanguages.SWIFT,(_defineProperty(h={},O.constants.FEATURE_VARIABLE_TYPES.boolean,'let %s = optimizelyClient?.getFeatureVariableBoolean("%s", variableKey: "%s", userId: userId).boolValue'),_defineProperty(h,O.constants.FEATURE_VARIABLE_TYPES.double,'let %s = optimizelyClient?.getFeatureVariableDouble("%s", variableKey: "%s", userId: userId).doubleValue'),_defineProperty(h,O.constants.FEATURE_VARIABLE_TYPES.integer,'let %s = optimizelyClient?.getFeatureVariableInteger("%s", variableKey: "%s", userId: userId).intValue'),_defineProperty(h,O.constants.FEATURE_VARIABLE_TYPES.string,'let %s = optimizelyClient?.getFeatureVariableString("%s", variableKey: "%s", userId: userId)'),_defineProperty(h,O.constants.FEATURE_VARIABLE_TYPES.json,'let %s = optimizelyClient?.getFeatureVariableJSON("%s", variableKey: "%s", userId: userId)'),h)),_defineProperty(S,P.default.sdkLanguages.IOS,(_defineProperty(y={},O.constants.FEATURE_VARIABLE_TYPES.boolean,'NSNumber *%s = [optimizelyClient getFeatureVariableBooleanWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),_defineProperty(y,O.constants.FEATURE_VARIABLE_TYPES.double,'NSNumber *%s = [optimizelyClient getFeatureVariableDoubleWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),_defineProperty(y,O.constants.FEATURE_VARIABLE_TYPES.integer,'NSNumber *%s = [optimizelyClient getFeatureVariableIntegerWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),_defineProperty(y,O.constants.FEATURE_VARIABLE_TYPES.string,'NSString *%s = [optimizelyClient getFeatureVariableStringWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),_defineProperty(y,O.constants.FEATURE_VARIABLE_TYPES.json,'OptimizelyJSON *%s = [optimizelyClient getFeatureVariableJSONWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),y)),_defineProperty(S,P.default.sdkLanguages.TV_OS,(_defineProperty(v={},O.constants.FEATURE_VARIABLE_TYPES.boolean,'NSNumber *%s = [optimizelyClient getFeatureVariableBooleanWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),_defineProperty(v,O.constants.FEATURE_VARIABLE_TYPES.double,'NSNumber *%s = [optimizelyClient getFeatureVariableDoubleWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),_defineProperty(v,O.constants.FEATURE_VARIABLE_TYPES.integer,'NSNumber *%s = [optimizelyClient getFeatureVariableIntegerWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),_defineProperty(v,O.constants.FEATURE_VARIABLE_TYPES.string,'NSString *%s = [optimizelyClient getFeatureVariableStringWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),_defineProperty(v,O.constants.FEATURE_VARIABLE_TYPES.json,'OptimizelyJSON *%s = [optimizelyClient getFeatureVariableJSONWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),v)),_defineProperty(S,P.default.sdkLanguages.ANDROID,(_defineProperty(_={},O.constants.FEATURE_VARIABLE_TYPES.boolean,'Boolean %s = optimizelyClient.getFeatureVariableBoolean("%s", "%s", userId);'),_defineProperty(_,O.constants.FEATURE_VARIABLE_TYPES.double,'Double %s = optimizelyClient.getFeatureVariableDouble("%s", "%s", userId);'),_defineProperty(_,O.constants.FEATURE_VARIABLE_TYPES.integer,'Integer %s = optimizelyClient.getFeatureVariableInteger("%s", "%s", userId);'),_defineProperty(_,O.constants.FEATURE_VARIABLE_TYPES.string,'String %s = optimizelyClient.getFeatureVariableString("%s", "%s", userId);'),_defineProperty(_,O.constants.FEATURE_VARIABLE_TYPES.json,'OptimizelyJSON %s = optimizelyClient.getFeatureVariableJSON("%s", "%s", userId);'),_)),_defineProperty(S,P.default.sdkLanguages.ANDROID_TV,(_defineProperty(E={},O.constants.FEATURE_VARIABLE_TYPES.boolean,'Boolean %s = optimizelyClient.getFeatureVariableBoolean("%s", "%s", userId);'),_defineProperty(E,O.constants.FEATURE_VARIABLE_TYPES.double,'Double %s = optimizelyClient.getFeatureVariableDouble("%s", "%s", userId);'),_defineProperty(E,O.constants.FEATURE_VARIABLE_TYPES.integer,'Integer %s = optimizelyClient.getFeatureVariableInteger("%s", "%s", userId);'),_defineProperty(E,O.constants.FEATURE_VARIABLE_TYPES.string,'String %s = optimizelyClient.getFeatureVariableString("%s", "%s", userId);'),_defineProperty(E,O.constants.FEATURE_VARIABLE_TYPES.json,'OptimizelyJSON %s = optimizelyClient.getFeatureVariableJSON("%s", "%s", userId);'),E)),_defineProperty(S,P.default.sdkLanguages.GO,(_defineProperty(b={},O.constants.FEATURE_VARIABLE_TYPES.boolean,'%s,err := optimizelyClient.GetFeatureVariableBoolean("%s", "%s", entities.UserContext{ID: userId})'),_defineProperty(b,O.constants.FEATURE_VARIABLE_TYPES.double,'%s,err := optimizelyClient.GetFeatureVariableDouble("%s", "%s", entities.UserContext{ID: userId})'),_defineProperty(b,O.constants.FEATURE_VARIABLE_TYPES.integer,'%s,err := optimizelyClient.GetFeatureVariableInteger("%s", "%s", entities.UserContext{ID: userId})'),_defineProperty(b,O.constants.FEATURE_VARIABLE_TYPES.string,'%s,err := optimizelyClient.GetFeatureVariableString("%s", "%s", entities.UserContext{ID: userId})'),_defineProperty(b,O.constants.FEATURE_VARIABLE_TYPES.json,'%s,err := optimizelyClient.GetFeatureVariableJSON("%s", "%s", entities.UserContext{ID: userId})'),b)),_defineProperty(S,P.default.sdkLanguages.REACT,(_defineProperty(T={},O.constants.FEATURE_VARIABLE_TYPES.boolean,"        let %s = variables.%1$s;"),_defineProperty(T,O.constants.FEATURE_VARIABLE_TYPES.double,"        let %s = variables.%1$s;"),_defineProperty(T,O.constants.FEATURE_VARIABLE_TYPES.integer,"        let %s = variables.%1$s;"),_defineProperty(T,O.constants.FEATURE_VARIABLE_TYPES.string,"        let %s = variables.%1$s;"),_defineProperty(T,O.constants.FEATURE_VARIABLE_TYPES.json,"        let %s = variables.%1$s;"),T)),S),N=(_defineProperty(C={},P.default.sdks.PYTHON,w[P.default.sdkLanguages.PYTHON]),_defineProperty(C,P.default.sdks.RUBY,w[P.default.sdkLanguages.RUBY]),_defineProperty(C,P.default.sdkLanguages.REACT,w[P.default.sdkLanguages.REACT]),_defineProperty(C,P.default.sdks.NODE,w[P.default.sdkLanguages.JAVASCRIPT]),_defineProperty(C,P.default.sdks.JAVASCRIPT,w[P.default.sdkLanguages.JAVASCRIPT]),_defineProperty(C,P.default.sdks.FLUTTER,w[P.default.sdkLanguages.FLUTTER]),_defineProperty(C,P.default.sdks.JAVA,w[P.default.sdkLanguages.JAVA]),_defineProperty(C,P.default.sdks.PHP,w[P.default.sdkLanguages.PHP]),_defineProperty(C,P.default.sdks.CSHARP,w[P.default.sdkLanguages.CSHARP]),_defineProperty(C,P.default.sdkLanguages.OBJECTIVE_C,w[P.default.sdkLanguages.OBJECTIVE_C]),_defineProperty(C,P.default.sdkLanguages.SWIFT,w[P.default.sdkLanguages.SWIFT]),_defineProperty(C,P.default.sdks.IOS,w[P.default.sdkLanguages.IOS]),_defineProperty(C,P.default.sdks.TV_OS,w[P.default.sdkLanguages.TV_OS]),_defineProperty(C,P.default.sdks.ANDROID,w[P.default.sdkLanguages.ANDROID]),_defineProperty(C,P.default.sdks.ANDROID_TV,w[P.default.sdkLanguages.ANDROID_TV]),_defineProperty(C,P.default.sdks.GO,w[P.default.sdkLanguages.GO]),_defineProperty(C,P.default.sdkLanguages.AGENT,""),C),L=(_defineProperty(I={},P.default.sdks.PYTHON,"enabled = optimizely_client.is_feature_enabled('%s', user_id)"),_defineProperty(I,P.default.sdks.RUBY,"enabled = optimizely_client.is_feature_enabled('%s', user_id)"),_defineProperty(I,P.default.sdkLanguages.REACT,'// Note that you don\'t set the userID here.\n// Instead, set it on a higher-level OptimizelyProvider component.\nfunction FeatureComponent() {\n  return (\n    <OptimizelyFeature feature="%s">\n      {(isEnabled, variables) => {'),_defineProperty(I,P.default.sdks.JAVASCRIPT,"var enabled = optimizelyClientInstance.isFeatureEnabled('%s', userId);"),_defineProperty(I,P.default.sdks.NODE,"var enabled = optimizelyClient.isFeatureEnabled('%s', userId);"),_defineProperty(I,P.default.sdks.JAVA,'Boolean enabled = optimizelyClient.isFeatureEnabled("%s", userId);'),_defineProperty(I,P.default.sdks.PHP,"$enabled = $optimizelyClient->isFeatureEnabled('%s', $userId);"),_defineProperty(I,P.default.sdks.CSHARP,'bool enabled = OptimizelyClient.IsFeatureEnabled("%s", userId);'),_defineProperty(I,P.default.sdkLanguages.OBJECTIVE_C,'bool enabled = [client isFeatureEnabled:@"%s" userId: userId attributes: nil];'),_defineProperty(I,P.default.sdkLanguages.SWIFT,'let enabled = optimizelyClient?.isFeatureEnabled("%s", userId: userId)'),_defineProperty(I,P.default.sdks.IOS,'bool enabled = [client isFeatureEnabled:@"%s" userId: userId];'),_defineProperty(I,P.default.sdks.TV_OS,'bool enabled = [client isFeatureEnabled:@"%s" userId: userId];'),_defineProperty(I,P.default.sdks.ANDROID,"Boolean enabled = optimizelyClient.isFeatureEnabled(c, userId);"),_defineProperty(I,P.default.sdks.ANDROID_TV,'Boolean enabled = optimizelyClient.isFeatureEnabled("%s", userId);'),_defineProperty(I,P.default.sdks.GO,'enabled, err := optimizelyClient.IsFeatureEnabled("%s", entities.UserContext{ID: userId})'),_defineProperty(I,P.default.sdkLanguages.AGENT,"curl -X POST \\\n  '{HOST_URL}/v1/activate?featureKey=%s' \\\n  -H 'Content-Type: application/json' \\\n  -H 'X-Optimizely-SDK-Key: \"YOUR-SDK-KEY\"' \\\n  -d '{\n    \"userId\":\"USER_ID\"\n  }'\n"),_defineProperty(I,P.default.sdks.FLUTTER,'var user = await optimizelyClientInstance.createUserContext(userId, attributes);\nvar decision = await user.decide("%s");\nvar enabled = decision.enabled;'),I),x=_defineProperty({},P.default.sdkLanguages.REACT,"\n      }}\n    </OptimizelyFeature>\n  )\n}\n"),D=(_defineProperty(A={},P.default.sdks.PYTHON,"# add a feature key to generate example code."),_defineProperty(A,P.default.sdks.RUBY,"# add a feature key to generate example code."),_defineProperty(A,P.default.sdks.JAVASCRIPT,"// add a feature key to generate example code."),_defineProperty(A,P.default.sdks.FLUTTER,"// add a feature key to generate example code."),_defineProperty(A,P.default.sdkLanguages.REACT,"// add a feature key to generate example code."),_defineProperty(A,P.default.sdks.NODE,"// add a feature key to generate example code."),_defineProperty(A,P.default.sdks.JAVA,"// add a feature key to generate example code."),_defineProperty(A,P.default.sdks.PHP,"// add a feature key to generate example code."),_defineProperty(A,P.default.sdks.CSHARP,"// add a feature key to generate example code."),_defineProperty(A,P.default.sdkLanguages.OBJECTIVE_C,"// add a feature key to generate example code."),_defineProperty(A,P.default.sdkLanguages.SWIFT,"// add a feature key to generate example code."),_defineProperty(A,P.default.sdks.IOS,"// add a feature key to generate example code."),_defineProperty(A,P.default.sdks.TV_OS,"// add a feature key to generate example code."),_defineProperty(A,P.default.sdks.ANDROID,"// add a feature key to generate example code."),_defineProperty(A,P.default.sdks.ANDROID_TV,"// add a feature key to generate example code."),_defineProperty(A,P.default.sdks.GO,"// add a feature key to generate example code."),_defineProperty(A,P.default.sdkLanguages.AGENT,"// add a feature key to generate example code."),A);r.a={VARIABLE_VALUE_DEFAULTS:R,VARIABLE_CODE_BLOCKS_BY_LANG:w,VARIABLE_CODE_BLOCKS:N,FEATURE_CODE_BLOCKS:L,FEATURE_CODE_BLOCKS_DEFAULT:D,FEATURE_CODE_BLOCKS_POSTFIX:x,TABLE_ID:"FeaturesDashboard",CREATING_FIRST_FEATURE_LOADING_ID:"CREATING_FIRST_FEATURE_LOADING_ID"}},function(t,r,a){"use strict";r.a={routesCompleted:["performanceTracking","routesCompleted"],frontendRenderStartTime:["performanceTracking","frontendRenderStartTime"],routeStartTime:["performanceTracking","routeStartTime"],visualRoutesChanged:["performanceTracking","visualRoutesChanged"]}},function(t,r,a){"use strict";var i=a(100);r.a=function userFriendlyNameToKey(t){return t.replace(i.default.variableNameDisallowedChars,"_")}},,function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(59),l=a.n(c),u=a(142),d=a.n(u),p=a(2293),m=a(309),g=function _formatTime(t,r){var a=l()(t);return r&&(a=a.utcOffset(r)),a.format()};r.a={appendAdditionalQueryParams:function appendAdditionalQueryParams(t){t||(t={});var r=d()(window.location.href),a={};return o.a.forEach(r,(function(t,r){"_"===r[0]&&(a[r.substring(1)]=t)})),o.a.defaults({},t,a)},formatDates:function formatDates(t,r){var a=r?r.replace(/GMT/g,""):"";return t.begin&&(t.begin=g(t.begin,a)),t.end&&(t.end=g(t.end,a)),t},generateTraceId:function generateTraceId(){var t=m.b.TRACE_ID_VERSION,r=Math.floor(Date.now()/1e3).toString(16),a=p.a.generateFixedLengthShortId(8,!0);return"".concat(t,"-").concat(r,"-").concat(a)},getApiUrls:function getApiUrls(){var t=m.b.API_URLS.PROD,r=d()(window.location.href)[m.b.API_SOURCE_QUERY_PARAM];if(r){var a=m.b.API_URLS[r.toUpperCase()];a&&(t=a)}return t},getResultsDataSource:function getResultsDataSource(t){return t.getResponseHeader?t.getResponseHeader("X-Results-Data-Source"):null}}},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({SET_TOTP_CODE:null,SET_TWO_FACTOR_TOKEN:null,SET_PASSWORD:null,SET_EMAIL:null,SET_CSRF_TOKEN:null,SET_LAST_SUCCESSFUL_AUTH:null,SET_NEXT_STATE:null})},function(t,r,a){"use strict";var i=a(599);a.d(r,"a",(function(){return i.b}));var o=a(1300);a.d(r,"b",(function(){return o.a}));i.b,o.a},function(t,r,a){"use strict";a.d(r,"b",(function(){return m}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(65),d=a(26),p=a(17),m=a.n(p)()({GREY_EMPTY:null,GREEN_CHECK:null,HALF_GREEN:null});function EnvironmentStatus(t){var r,a=u.greenBase;return t.iconType===m.GREY_EMPTY?(r="circle-solid",a=u.greyLight):r=t.iconType===m.HALF_GREEN?"circle-half-stroke-solid":"check-circle-solid",o.a.createElement("span",{className:"flex flex--1 push-half--bottom flex-align--center"},o.a.createElement("span",{className:"flex flex-shrink--none"},o.a.createElement(d.a,{color:a,name:r,size:"small"})),o.a.createElement("span",{"data-test-section":"environment-name",className:"push-half--left truncate max-width--200"},t.name))}EnvironmentStatus.propTypes={name:l.a.string.isRequired,iconType:l.a.oneOf(Object.keys(m)).isRequired},r.a=EnvironmentStatus},function(t,r,a){"use strict";a.r(r),a.d(r,"TableFilterControls",(function(){return b}));var i,o,c=a(4),l=a.n(c),u=a(1),d=a.n(u),p=a(0),m=a.n(p),g=a(135),h=a(52),y=a(561),v=a(28),_=a(168),E=a(15);a(352);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=Object(y.default)(Object(v.a)((function(t){return{isLoading:_.a.isLoading(t.tableId)}}))(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(TableFilterControls,t);var r=_createSuper(TableFilterControls);function TableFilterControls(){var t;_classCallCheck(this,TableFilterControls);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).setStatusFilter=function(r){t.props.setFilter({status:r}),t.props.onStatusChange&&t.props.onStatusChange(r)},t.handleStringFilterChange=function(r){t.props.setFilter({string:r.target.value})},t.getStatusText=function(){var r=t.props.filters.status,a=t.props.statusOptions[l.a.findKey(t.props.statusOptions,{value:r})];return a?a.label:""},t.renderStatusFilterDropdown=function(){var r=t.props,a=r.statusOptions,i=r.filters,o=r.isLoading;return a?m.a.createElement(g.a,{buttonContent:{label:"Status",content:t.getStatusText()},items:a,value:i.status,buttonStyle:"plain",onChange:function onChange(r){return t.setStatusFilter(r)},isDisabled:o,testSection:"filter-table-dropdown"}):null},t.getLabelForCustomFilter=function(t,r){return l.a.find(t.options,{value:r}).label},t.renderCustomFilterDropdowns=function(){var r=t.props,a=r.customFilters,i=r.isLoading;return a?a.map((function(r,a){return m.a.createElement(g.a,{key:a,className:"push--left",buttonContent:{label:r.label,content:t.getLabelForCustomFilter(r,r.value)},items:r.options,value:r.value,buttonStyle:"plain",onChange:function onChange(t){return r.onChange(t)},isDisabled:i,testSection:"filter-table-custom-dropdown-".concat(a)})})):null},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(TableFilterControls,[{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(t){this.props.onFiltersChange&&!l.a.isEqual(t.filters,this.props.filters)&&this.props.onFiltersChange(t.filters)}},{key:"render",value:function render(){var t=this.props,r=t.filters,a=t.inputPlaceholder,i=t.inputWidth,o=t.isLoading,c=t.showCustomFilters,l=t.showStringFilter,u=t.showStatusFilter;return m.a.createElement("div",{className:"lego-button-group flex--1",style:{zIndex:E.ZIndex.FILTER_STATUS_DROPDOWN}},l&&m.a.createElement("div",{className:"".concat(i," push--right")},m.a.createElement(h.a,{isDisabled:o,isFilter:!0,onChange:this.handleStringFilterChange,placeholder:o?"Loading...":a,type:"text",value:r.string,testSection:"table-filter-input"})),u&&this.renderStatusFilterDropdown(),c&&this.renderCustomFilterDropdowns())}}]),TableFilterControls}(m.a.Component)).propTypes={tableId:d.a.string.isRequired,isLoading:d.a.bool.isRequired,statusOptions:d.a.arrayOf(d.a.shape({label:d.a.string,value:d.a.string})),filters:d.a.shape({string:d.a.string.isRequired,status:d.a.string.isRequired}).isRequired,customFilters:d.a.arrayOf(d.a.shape({label:d.a.string.isRequired,value:d.a.string.isRequired,options:d.a.arrayOf(d.a.shape({label:d.a.string.isRequired,value:d.a.string.isRequired})),onChange:d.a.func.isRequired})),setFilter:d.a.func.isRequired,resetFilters:d.a.func.isRequired,onFiltersChange:d.a.func,onStatusChange:d.a.func,inputPlaceholder:d.a.string,inputWidth:d.a.string,dropdownContentDirection:d.a.oneOf(["left","right"]),showCustomFilters:d.a.bool,showStringFilter:d.a.bool,showStatusFilter:d.a.bool},o.defaultProps={inputPlaceholder:"Browse by Name",inputWidth:"width--200",showCustomFilters:!1,showStatusFilter:!0,showStringFilter:!0},i=o))||i);r.default=b},function(t,r,a){"use strict";a.d(r,"b",(function(){return showSupportDialog}));var i=a(105),o=a.n(i),c=a(3),l=a(5),u=a(1421),d=a(714);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var p=function _getOnClose(t){return function(){l.default.hideDialog(),t&&t()}};function showSupportDialog(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l.default.showReactDialog(u.a,{props:_extends({},t,{onClose:p(r.onHideDialog)})},_extends({fullScreen:!0},r))}r.a={_getOnClose:p,createZendeskTicket:function createZendeskTicket(t){return o.a.makeV1AjaxRequest({url:"/support/submit",type:"POST",data:t})},getZendeskOrganizations:function getZendeskOrganizations(){return o.a.makeV1AjaxRequest({url:"/support/organizations",type:"GET"})},setDirectToExternalSupportPortal:function setDirectToExternalSupportPortal(t){c.default.dispatch(d.a.SUPPORT_SET_PORTAL_VERSION,{directToExternalSupportPortal:t})},setShowSchedulePhoneCall:function setShowSchedulePhoneCall(t){c.default.dispatch(d.a.SUPPORT_SET_CALL_SCHEDULER_VISIBILITY,{showSchedulePhoneCall:t})},showSupportDialog:showSupportDialog}},,,,function(t,r,a){"use strict";a.r(r),a.d(r,"CSSPropertyNames",(function(){return c})),a.d(r,"ElementChangeSections",(function(){return l})),a.d(r,"MessageTypes",(function(){return u})),a.d(r,"SelectorInputTypes",(function(){return d})),a.d(r,"TimingDropdownTypes",(function(){return p})),a.d(r,"SupportedAttributeChanges",(function(){return m})),a.d(r,"SupportedCSSProperties",(function(){return g})),a.d(r,"INVALID_BACKGROUND_IMAGE",(function(){return h})),a.d(r,"EmittedEventTypes",(function(){return y})),a.d(r,"EVERYONE_ELSE_AUDIENCE",(function(){return v})),a.d(r,"IMAGE_PROPERTIES",(function(){return _})),a.d(r,"IMAGE_DEBOUNCE_INTERVAL",(function(){return E})),a.d(r,"CROSS_BROWSER_TESTING_ROUTE",(function(){return b})),a.d(r,"DEFAULT_REDIRECT_DESTINATION_FUNCTION",(function(){return T}));var i=a(17),o=a.n(i),c={BACKGROUND_COLOR:"background-color",BACKGROUND_IMAGE:"background-image",BORDER_COLOR:"border-color",BORDER_STYLE:"border-style",BORDER_WIDTH:"border-width",COLOR:"color",FONT_SIZE:"font-size",FONT_WEIGHT:"font-weight",HEIGHT:"height",POSITION:"position",WIDTH:"width"},l=o()({BACKGROUND:null,BORDERS:null,DIMENSIONS:null,ELEMENT_CODE:null,LAYOUT:null,TIMING:null,TRACK_CLICKS:null,TYPOGRAPHY:null}),u=o()({HIGHLIGHT_ELEMENTS:null,UNHIGHLIGHT_ELEMENTS:null}),d=o()({ELEMENT_SELECTOR:null,REARRANGE_SELECTOR:null,INSERT_HTML_SELECTOR:null,INSERT_IMAGE_SELECTOR:null}),p=o()({ELEMENT_TIMING:null,CUSTOM_JS_TIMING:null,CUSTOM_CSS_TIMING:null}),m={class:null,href:null,html:null,src:null,style:null,text:null,remove:null,hide:null},g=o()({"background-color":null,"background-image":null,"border-color":null,"border-style":null,"border-width":null,color:null,"font-size":null,"font-weight":null,height:null,position:null,width:null}),h="INVALID_BACKGROUND_IMAGE",y=o()({SELECT_ACTION:null,SELECT_ACTION_EVERYONE_ELSE:null,INITIALIZE_CHANGE_LIST:null,SHOW_CAMPAIGN_NAV_SIDEBAR:null}),v={variation_id:-1,name:tr("Holdback"),urlParam:"holdback"},_={height:0,width:0,thumbnailHeight:0,thumbnailWidth:0,size:null,absoluteUrl:null,filename:null,displayValue:null,editingEnabled:!1},E=800,b="/tool/experiment/cross_browser?url=",T='function redirectFn() {\n\treturn window.location.pathname.replace(/\\/$/, "") + "/new-final-path" + window.location.search;\n}';r.default={CSSPropertyNames:c,ElementChangeSections:l,MessageTypes:u,SelectorInputTypes:d,TimingDropdownTypes:p,SupportedAttributeChanges:m,SupportedCSSProperties:g,INVALID_BACKGROUND_IMAGE:h,EmittedEventTypes:y,EVERYONE_ELSE_AUDIENCE:v,IMAGE_PROPERTIES:_,IMAGE_DEBOUNCE_INTERVAL:E,CROSS_BROWSER_TESTING_ROUTE:b,DEFAULT_REDIRECT_DESTINATION_FUNCTION:T}},,,,,function(t,r,a){var i=a(1415);r.isFilterTermInItem=function isFilterTermInItem(t,a){if(!a)return!1;if("string"==typeof a){for(var o=t.match(/\S+/g)||[],c=0;c<o.length;c++)if(-1===a.toLocaleLowerCase().indexOf(o[c].toLocaleLowerCase()))return!1;return!0}return function isFilterTerminItemHelper(t,a){var o=[];a=a.toJS(),Array.isArray(a)?a.forEach((function(a){o=o.concat(r.isFilterTermInItem(t,a))})):i(a)&&Object.keys(a).forEach((function(i){i&&(o=o.concat(r.isFilterTermInItem(t,a[i])))}));return o.some((function(t){return t}))}(t,a)}},function(t,r,a){"use strict";a.r(r),a.d(r,"modes",(function(){return c})),a.d(r,"types",(function(){return l}));var i=a(17),o=a.n(i),c=o()({CREATE:null,EDIT:null,DUPLICATE:null}),l=o()({P13N_EXP:null});r.default={modes:c,types:l}},,function(t,r,a){"use strict";a.r(r),a.d(r,"categories",(function(){return i})),a.d(r,"products",(function(){return o}));var i={ALL:"All",ANALYTICS:"Analytics",AUDIENCES:"Audiences",CALL_TRACKING:"Call Tracking",CONTENT_MANAGEMENT:"Content Management",CUSTOM_ANALYTICS:"Custom Analytics",CUSTOM_AUDIENCES:"Custom Audiences",HEATMAP:"Heatmap",PRODUCTIVITY:"Productivity"},o={AB_TESTING:"ab_testing",PERSONALIZATION:"personalization"};r.default={categories:i,products:o}},function(t,r,a){"use strict";var i=a(42),o=a.n(i),c=a(4),l=a(678),u=a.n(l),d=a(245),p=a(62),m=a(13),g=a(3),h=a(938),y=a(132),v=a.n(y),_=a(142),E=a.n(_),b=a(619),T=a(679),S=void 0;function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var C,I=d.a.consoleWarn,A=d.a.getClientInstance,O=d.a.setForcedVariation,P=d.a.setForcedVariationsFromUrlParams,R=d.a.track;function observeUserState(){C&&C(),C=A().onUserUpdate((function(t){g.default.dispatch(b.a.SET_REACT_SDK_USER_STATE,Object(h.hash)(t))}))}function setForcedVariationsFromConfig(t){Object(c.forEach)(t,(function(t,r){Object(c.forEach)(t,(function(t,a){return O(a,t,{userId:r})}))}))}function setPlanProductIds(t){t&&setAttributes(t.reduce((function(t,r){return _extends({},t,function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}({},r,"true"))}),{}))}function setAttributes(t){var r=A();r.setUser({attributes:Object.assign(r.user.attributes,t)})}function setUserId(t){A().setUser({id:t})}function setForcedVariationsFromUrlParamsIfAuthorized(t){return o.a.get("account_info")&&o.a.get("account_info.is_admin")?P(t):null}r.a=_extends({},d.a,{getEventDispatcher:function getEventDispatcher(){return{dispatchEvent:function dispatchEvent(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];"true"!==u.a.get("green")?p.eventDispatcher.dispatchEvent.apply(p.eventDispatcher,r):I.apply(void 0,[S,"JS-SDK not logging event due to test environment:"].concat(r))}}},initializeAndObserveUserInfo:function initializeAndObserveUserInfo(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];observeUserState();try{var r=String(o.a.get("admin_account.id",""));setUserId(r),setAttributes({account_id:r,has_optimizely_email:T.a.hasOptimizelyEmail(o.a.get("account_info.email","")),user_id:o.a.get("account_info.unique_user_id",""),plan_id:o.a.get("account_info.plan_id",""),optly_config_env:o.a.get("env.ENVIRONMENT",null),optly_config_host_url:o.a.get("env.HOST_URL",null),is_local:!!o.a.get("env.IS_LOCAL",null),is_gae_admin:!!o.a.get("account_info.is_admin",null),is_impersonating:!!o.a.get("is_impersonating",null),account_admin_account_id:o.a.get("admin_account.id",null),account_plan_id:o.a.get("account_info.plan_id",null),account_in_trial:!!o.a.get("account_info.subscription.in_trial",null),account_free_trial_days_remaining:o.a.get("account_info.subscription.free_trial_days_remaining",null),account_created_epoch_date:+new Date(o.a.get("admin_account.created",null)),account_has_optimizely_email:o.a.get("account_info.email","").includes("@optimizely.com"),current_project_experiment_confidence_threshold:o.a.get("current_project.experiment_confidence_threshold",null),current_project_code_revision:o.a.get("current_project.code_revision",null),current_project_milliseconds_since_code_last_modified:+new Date-+new Date(o.a.get("current_project.code_last_modified"))||null,current_user_unique_id:o.a.get("account_info.unique_user_id",null),current_user_is_admin:!!o.a.get("account_info.is_user_admin",null),current_user_country:o.a.get("current_user.country",null),current_user_two_factor_enrolled:!!o.a.get("current_user.two_factor_enrolled",null),current_user_email_change_requested:!!o.a.get("current_user.email_change_requested",null),segment_user_id:T.a.generateUserId(o.a.get("account_info",{}),t),turnstile_instance_id:o.a.get("account_info.subscription.turnstile_instance_id",null)}),setForcedVariationsFromUrlParamsIfAuthorized(window.location.search),setForcedVariationsFromConfig(o.a.get("fullstack_forced_variations")),setPlanProductIds(o.a.get("account_info.subscription.product_ids",null)),setAttributes(g.default.evaluate(m.default.attributesForChampagne)),g.default.observe(m.default.attributesForChampagne,(function(t){setTimeout((function(){return setAttributes(t)}))}))}catch(t){I.call(initializeAndObserveUserInfo,"Error initializing user info: ".concat(t.message))}},setAttributes:setAttributes,setForcedVariationsFromConfig:setForcedVariationsFromConfig,setForcedVariationsFromUrlParamsIfAuthorized:setForcedVariationsFromUrlParamsIfAuthorized,setLogLevel:function setLogLevel(){var t=E()(v.a.getSearch()).js_sdk_log,r=o.a.get("fullstack_log_level")||"error";Object(p.setLogLevel)(t||r)},setUserId:setUserId,setUserIdForFeature:function setUserIdForFeature(t,r){return g.default.dispatch(b.a.SET_USER_ID_FOR_FEATURE,{feature:t,userId:r}),r},trackEvents:function trackEvents(t){t.forEach((function(t){return R(t)}))},trackSnippetPerformanceMetrics:function trackSnippetPerformanceMetrics(){if(window.optimizely){var t,r,a,i,o=window.optimizely.get("visitor_id").randomId,l=[],u="false",d=window.performance.getEntriesByType("navigation")[0];d?(u="true",a=d.domContentLoadedEventEnd,i=d.loadEventEnd,r=d.domComplete-d.responseEnd):(d=window.performance.timing)&&(a=d.domContentLoadedEventEnd-d.navigationStart,i=d.loadEventEnd-d.navigationStart,r=d.domComplete-d.responseEnd),d&&(l=[["domProcessingTime",{eventTags:{value:r},userId:o,attributes:{supportsNavTiming:u}}],["domContentLoaded",{eventTags:{value:a},userId:o,attributes:{supportsNavTiming:u}}],["loadEventEnd",{eventTags:{value:i},userId:o,attributes:{supportsNavTiming:u}}]]);var p=window.performance.getEntriesByName("first-contentful-paint")[0];p&&(t=p.startTime,l.push(["first-contentful-paint",{eventTags:{value:t},userId:o,attributes:{supportsNavTiming:u}}])),Object(c.forEach)(l,(function(t){return R.apply(void 0,_toConsumableArray(t))}))}}})},function(t,r,a){"use strict";a.r(r),a.d(r,"activateTag",(function(){return activateTag})),a.d(r,"deactivateTag",(function(){return deactivateTag})),a.d(r,"save",(function(){return save})),a.d(r,"fetch",(function(){return fetch})),a.d(r,"fetchPage",(function(){return fetchPage})),a.d(r,"fetchAll",(function(){return fetchAll})),a.d(r,"delete",(function(){return g}));var i,o=a(3),c=a(36),l=a(235),u=a(236);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var d=c.default.createEntityActions(u.a),p=_extends({},u.a,{parent:{entity:"projects",key:"project_id"}}),m=c.default.createEntityActions(p);function activateTag(t){return i.save({layer_id:t.layer_id,active:!0})}function deactivateTag(t){return i.save({layer_id:t.layer_id,active:!1})}function save(t){var r=onPersistSuccess.bind(i,u.a.entity),d=onPersistFail.bind(i,u.a.entity,t);return o.default.dispatch(c.default.actionTypes.API_ENTITY_PERSIST_START,{entity:u.a.entity,data:t}),function isEntityStubbed(t){return o.default.evaluate(["apiStubs","stubAll"])||o.default.evaluate(["apiStubs","entityData",t.entity])}(u.a)?a(838).save(u.a,t).done(r).fail(d):Object(l.a)().one(u.a.parent.entity,t.layer_id).one(u.a.entity,"").put(t).done(r).fail(d)}function fetch(t,r){return d.fetchAll(t,r).then((function(t){return Array.isArray(t)&&(t=t[0]),t}))}function fetchPage(t,r){throw"The /live endpoint is a non-standard endpoint. To use fetchPage, implement it and test that its functionality is consistent"}function fetchAll(t,r){return m.fetchAll(t,r).then((function(r){c.default.actions.onAncestorFetchAllSuccess(t,p,u.a,r)}))}var g=function deleteLiveCommitTag(t){throw"The /live endpoint is a non-standard endpoint. To use delete, implement it and test that its functionality is consistent"};function onPersistSuccess(t,r){return o.default.dispatch(c.default.actionTypes.API_ENTITY_PERSIST_SUCCESS,{entity:t,data:r}),r}function onPersistFail(t,r,a){return o.default.dispatch(c.default.actionTypes.API_ENTITY_PERSIST_FAIL,{entity:t,reason:a,data:r}),a}r.default=i=_extends({},d,{activateTag:activateTag,deactivateTag:deactivateTag,save:save,delete:g,fetch:fetch,fetchPage:fetchPage,fetchAll:fetchAll})},,function(t,r,a){"use strict";r.a={versions:{UNKNOWN:null,CLASSIC:"v1",OPTIMIZELY_X:"v2"},projectRoot:{CLASSIC:"/projects",OPTIMIZELY_X:"/v2/projects"}}},,function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(72),l=a.n(c),u=a(3),d=a(201),p=a.n(d),m=a(2),g=a(78),h=a(966),y=a(138),v=a(234);r.a={getCurrentDateTimeAsISOString:function getCurrentDateTimeAsISOString(){return(new Date).toISOString()},inValidateCacheDataByEntity:function inValidateCacheDataByEntity(t){u.default.dispatch(g.a.FLUSH_SINGLE_API_ENTITY,t)},isCachedLocally:function isCachedLocally(t){var r=u.default.evaluate(["apiLocalCache",t]);return r&&r.get("hasData")},onAncestorFetchAllSuccess:function onAncestorFetchAllSuccess(t,r,a,i){if(o.a.isArray(i)){var c=i.map((function(i){if(!r.parent||!r.parent.key)throw new Error("ancestorDef: must be an object with a parent key defined");var c=r.parent.key,l={},u=i[a.parent.key];l[a.parent.key]=u;var d=o()(t).omit(c).assign(l).value();return Object(h.a)(a.entity,y.a.apiActions.FETCH_ALL,d)}));u.default.dispatch(g.a.API_CACHE_REQUESTS,{requestsToCache:c,fetchTimestamp:this.getCurrentDateTimeAsISOString()})}},requestCacheData:function requestCacheData(t){var r=u.default.evaluate(["apiRequestCache",t]);if(!r)return{isCached:!1,responseHeaders:null};var a=new Date(r.get("fetchTimestamp")),i=(new Date(this.getCurrentDateTimeAsISOString())-a)/6e4,o=a-new Date(new Date(this.getCurrentDateTimeAsISOString())-3e5),c=(o/6e4).toFixed(1),l=o>0?"(fresh for ".concat(c," min longer)"):"(".concat(Math.abs(c)," min stale)");window.console.debug("[API REQUEST CACHE][".concat(t.get("entity"),".").concat(t.get("method"),"]")+"Request is ".concat(i.toFixed(1)," min old. ").concat(l));var d=o>0;return{isCached:d,responseHeaders:d?r.get("responseHeaders"):null}},setupLocalEntityCache:function setupLocalEntityCache(t,r,a){if(!o.a.isArray(a))throw new Error("setupEntityCaching must be passed an array");this.unwatchExistingLocalCacheEntity(t,r,a),a.map((function(a){var i=v.a.getLocalStorageKey(t,r,a),c=u.default.evaluate(["apiLocalCache",a]);if(!c||c.get("localStorageKey")!==i){var d=[["entityCache",a],function(a){return a?a.filter((function(a){return a.get(t)===r})).toList():Object(m.toImmutable)([])}];return{entity:a,unwatchFn:u.default.observe(d,o.a.debounce((function(t){try{var r=JSON.stringify(Object(m.toJS)(t));p.a.setItem(i,r)}catch(t){console.warn(l()("Setting the value of %s exceeded localstorage quota",i))}}),50)),localStorageKey:i}}})).forEach((function(t){t&&u.default.batch((function(){var r=t.entity,a=t.localStorageKey;try{var i=!0,c=JSON.parse(p.a.getItem(a));o.a.isArray(c)||(i=!1,p.a.removeItem(a)),u.default.dispatch(g.a.API_ADD_LOCAL_CACHE_ENTITY,{entity:r,localStorageKey:a,unwatchFn:t.unwatchFn,hasData:i}),i&&u.default.batch((function(){u.default.dispatch(g.a.API_INJECT_ENTITY,{entity:r,data:c})}))}catch(t){console.warn("Cannot load data for entity=".concat(r))}}))}))},unwatchExistingLocalCacheEntity:function unwatchExistingLocalCacheEntity(t,r,a){u.default.batch((function(){a.forEach((function(a){var i=v.a.getLocalStorageKey(t,r,a),o=u.default.evaluate(["apiLocalCache",a]);o&&o.get("localStorageKey")!==i&&(o.get("unwatchFn")(),u.default.dispatch(g.a.API_REMOVE_LOCAL_CACHE_ENTITY,{entity:o.get("entity")}))}))}))}}},function(t,r,a){"use strict";a.d(r,"a",(function(){return u}));var i=a(17),o=a.n(i),c=o()({ENABLED:null,DISABLED:null}),l=o()({VERIFY_PASSWORD:null,PASSWORD_VERIFIED:null}),u=o()({EMAIL_PASSWORD_VERIFIED:null,HAS_SESSION:null,READY:null});r.b={TwoFactorAuthenticationStatus:c,AuthenticationEvents:l,States:u,LoginOptions:{LEGACY_PASSWORD:"legacy_password",LEGACY_SSO:"legacy_sso",OPTI_ID:"optiid"}}},function(t,r,a){var i=a(17);t.exports={THUMBNAIL_MAX_DIMENSION:60,EventTypes:i({CALCULATE_IMAGE_PORPERTIES:null,IMAGE_CHANGED:null,SET_IMAGE_URL:null})}},,function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({LOCAL_STORAGE_META_LOAD_STORE:null,LOCAL_STORAGE_META_ADD_ITEM:null,LOCAL_STORAGE_META_REMOVE_ITEM:null,LOCAL_STORAGE_META_UPDATE_ITEM:null,LOCAL_STORAGE_META_CLEAR_STORE:null})},,function(t,r,a){"use strict";a.r(r),a.d(r,"AB_CHART_DATE_TIME_FORMAT",(function(){return A})),a.d(r,"allCombinationsSection",(function(){return O})),a.d(r,"AND_OR",(function(){return P})),a.d(r,"baseGetterPaths",(function(){return R})),a.d(r,"campaignResultStates",(function(){return w})),a.d(r,"chartColors",(function(){return N})),a.d(r,"dashStyles",(function(){return L})),a.d(r,"chartType",(function(){return x})),a.d(r,"chartYAxisLabelBounces",(function(){return D})),a.d(r,"chartYAxisLabelConversions",(function(){return k})),a.d(r,"chartYAxisLabelExits",(function(){return j})),a.d(r,"chartYAxisLabelSums",(function(){return M})),a.d(r,"confidenceIntervalChartColors",(function(){return U})),a.d(r,"currencyTypes",(function(){return V})),a.d(r,"currencies",(function(){return B})),a.d(r,"nonDecimalCurrencyTypes",(function(){return G})),a.d(r,"DEFAULT_VARIATIONS_TO_SHOW",(function(){return H})),a.d(r,"BROWSER_SEGMENT_ID",(function(){return z})),a.d(r,"CAMPAIGN_SEGMENT_ID",(function(){return W})),a.d(r,"DEVICE_SEGMENT_ID",(function(){return q})),a.d(r,"REFERRER_SEGMENT_ID",(function(){return Y})),a.d(r,"SOURCE_SEGMENT_ID",(function(){return K})),a.d(r,"DEVICE_TYPE_SEGMENT_ID",(function(){return J})),a.d(r,"defaultSegmentCategories",(function(){return X})),a.d(r,"deviceSegmentValues",(function(){return $})),a.d(r,"deviceTypeSegmentValues",(function(){return Q})),a.d(r,"deviceSegmentSortOrder",(function(){return Z})),a.d(r,"DIFFERENCE_TYPE_PARAM",(function(){return ee})),a.d(r,"emittedEventTypes",(function(){return te})),a.d(r,"eventType",(function(){return ne})),a.d(r,"EXPERIMENT_GROUPING",(function(){return re})),a.d(r,"holdbackProperties",(function(){return ae})),a.d(r,"holdbackVariation",(function(){return ie})),a.d(r,"MAX_CACHED_RESULTS_AGE",(function(){return oe})),a.d(r,"MAX_EXPERIMENTS_FOR_DETAILED_RESULTS",(function(){return se})),a.d(r,"MAX_EXPERIMENTS_TO_FETCH",(function(){return ce})),a.d(r,"MAX_VISITORS_REMAINING",(function(){return le})),a.d(r,"MIN_VISITORS_REMAINING",(function(){return ue})),a.d(r,"overviewVariations",(function(){return de})),a.d(r,"P13N_CHART_DATE_TIME_FORMAT",(function(){return fe})),a.d(r,"previousViews",(function(){return pe})),a.d(r,"queryParams",(function(){return me})),a.d(r,"RESULTS_CONTROL_KEY",(function(){return ge})),a.d(r,"RESULTS_DELAY_NOTIFICATION_ID",(function(){return he})),a.d(r,"RESULTS_DELAY_TIMEOUT",(function(){return ye})),a.d(r,"RESULTS_FAILURE_NOTIFICATION_ID",(function(){return ve})),a.d(r,"RESULTS_FETCH_DELAY_TIMEOUT",(function(){return _e})),a.d(r,"RESULTS_TREATMENT_KEY",(function(){return Ee})),a.d(r,"resultShape",(function(){return be})),a.d(r,"segmentValues",(function(){return Te})),a.d(r,"SORT_DIRECTIONS",(function(){return Se})),a.d(r,"timeseriesNodeState",(function(){return Ce})),a.d(r,"timeseriesShape",(function(){return Ie})),a.d(r,"MAX_RESULTS_RETRIES",(function(){return Ae}));var i,o,c,l,u=a(4),d=a.n(u),p=a(1),m=a.n(p),g=a(290),h=a(2),y=a(17),v=a.n(y),_=a(8),E=a.n(_);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var b={IMPROVEMENT:"Improvement",NET_IMPROVEMENT:"Improvement",STAT_SIG:"Statistical Significance"},T=Object.assign({},b,{CONVERSIONS:"Revenue"}),S=Object.assign({},b,{CONVERSIONS:"Value"}),C={variationId:m.a.string,isBaseline:m.a.bool.isRequired,value:m.a.number.isRequired,rate:m.a.number.isRequired,lift:m.a.shape({confidenceInterval:m.a.oneOfType([m.a.arrayOf(m.a.number),m.a.arrayOf(m.a.string)]),isSignificant:m.a.bool.isRequired,significance:m.a.number.isRequired,value:m.a.number.isRequired,visitorsRemaining:m.a.number.isRequired})},I=d.a.extend({},C,{timestamp:m.a.number}),A="%A, %B %e, %H:%M",O={id:-1,name:E()("All Combinations"),value:E()("All Combinations")},P={AND:"and",OR:"or"},R={andOrSegmentCondition:["p13n/results","andOrSegmentCondition"],colorOrder:["p13n/results","colorOrder"],currencyType:["p13n/results","currencyType"],differenceTypeOverride:["p13n/results","differenceTypeOverride"],isCleaningResultsFilters:["p13n/results","isCleaningResultsFilters"],resultsQueryPromises:["p13n/results","resultsQueryPromises","promises"],selectedExperimentId:["p13n/results","selectedExperimentId"],selectedExperimentIdsForFilter:["p13n/results","selectedExperimentIdsForFilter"],selectedSectionId:["p13n/results","selectedSectionId"],selectedSegments:["p13n/results","selectedSegments"],statsConfig:["p13n/results","statsConfig"]},w={INCONCLUSIVE:"inconclusive",LOSER:"loser",WINNER:"winner"},N={IS_SIGNIFICANT_NEGATIVE:"#C60C0C",IS_SIGNIFICANT_POSITIVE:"#14A54A",IS_NOT_SIGNIFICANT:"#B2B2B2",TIMESERIES_COLORS:["#C34687","#84CFCA","#F4B852","#869FAB","#0081BA"],PERSONALIZED:"#F4B852",BASELINE:"#7E8C93",REBRAND_BASELINE:g.j,REBRAND_TIMESERIES:[g.g,g.h,g.b,g.e,g.i,g.f,g.d,g.a]},L={BASELINE_STYLE:"Solid",VARIATION_STYLES:["ShortDash","ShortDot","ShortDashDot","ShortDashDotDot","Dot","Dash","LongDash","DashDot","LongDashDot","LongDashDotDot"]},x=v()({CONVERSION_RATE:null,CONVERSIONS:null,IMPROVEMENT:null,IMPROVEMENT_OVER_ORIGINAL:null,NET_IMPROVEMENT:null,SAMPLES:null,STAT_SIG:null}),D=Object.assign({},b,{CONVERSION_RATE:"Bounce Rate",CONVERSIONS:"Bounces"}),k=Object.assign({},b,{CONVERSION_RATE:"Conversion Rate",CONVERSIONS:"Conversions"}),j=Object.assign({},b,{CONVERSION_RATE:"Exit Rate",CONVERSIONS:"Exits"}),M={revenue:{VISITOR:Object.assign({},T,{CONVERSION_RATE:"Revenue per Visitor"}),SESSION:Object.assign({},T,{CONVERSION_RATE:"Revenue per Session"}),EVENT:Object.assign({},T,{CONVERSION_RATE:"Revenue per Conversion"})},value:{VISITOR:Object.assign({},S,{CONVERSION_RATE:"Value per Visitor"}),SESSION:Object.assign({},S,{CONVERSION_RATE:"Value per Session"}),EVENT:Object.assign({},S,{CONVERSION_RATE:"Value per Conversion"})}},U={INCONCLUSIVE_CONFIDENCE_RANGE:"rgba(136, 136, 136, 0.4)",INCONCLUSIVE_IMPROVEMENT:"#888",NEGATIVE_CONFIDENCE_RANGE:"rgba(198, 12, 12, 0.4)",NEGATIVE_IMPROVEMENT:"#C60C0C",POSITIVE_CONFIDENCE_RANGE:"rgba(33, 163, 80, 0.4)",POSITIVE_IMPROVEMENT:"#21a350"},V=v()({DOLLAR:null,EURO:null,KRONA:null,POUND:null,WON:null,YEN:null,YUAN:null}),B=(_defineProperty(i={},V.DOLLAR,{code:"USD",locale:"us-US",symbol:"$"}),_defineProperty(i,V.EURO,{code:"EUR",locale:"de-DE",symbol:"€"}),_defineProperty(i,V.KRONA,{code:"SEK",locale:"sv-SV",symbol:"kr"}),_defineProperty(i,V.POUND,{code:"GBP",locale:"gb-GB",symbol:"£"}),_defineProperty(i,V.WON,{code:"KRW",locale:"kr-KR",symbol:"₩"}),_defineProperty(i,V.YEN,{code:"JPY",locale:"ja-JP",symbol:"￥"}),_defineProperty(i,V.YUAN,{code:"CNY",locale:"cn-CN",symbol:"CN¥"}),i),G=[V.WON,V.YEN],H=5,z=100,W=200,q=300,Y=500,K=600,J=700,X=(_defineProperty(o={},z,E()("Browser")),_defineProperty(o,W,E()("Campaign")),_defineProperty(o,q,E()("Device")),_defineProperty(o,Y,E()("Referrer")),_defineProperty(o,K,E()("Source")),_defineProperty(o,J,E()("Device Type")),o),$={DESKTOP:"desktop",IPAD:"ipad",IPHONE:"iphone",MOBILE:"mobile",TABLET:"tablet"},Q={DESKTOP_LAPTOP:"desktop_laptop",OTHER:"other",PHONE:"phone",TABLET:"tablet"},Z=[{segmentId:J,value:Q.DESKTOP_LAPTOP},{segmentId:J,value:Q.PHONE},{segmentId:q,value:$.IPHONE},{segmentId:q,value:$.MOBILE},{segmentId:J,value:Q.TABLET},{segmentId:q,value:$.IPAD},{segmentId:q,value:$.TABLET},{segmentId:J,value:Q.OTHER},{segmentId:q,value:$.DESKTOP}],ee="differenceType",te={RESET_RESULTS:"results-reset-results"},ne={REVENUE:"revenue"},re={combinations:"combinations",sectionVariations:"section variations",variations:"variations"},ae={NAME:E()("Holdback"),VARIATION_ID:"holdback"},ie={name:E()("Holdback"),variation_id:"holdback"},oe=6e5,se=8,ce=100,le=1e5,ue=1e3,de=Object(h.toImmutable)([{variation_id:"baseline",name:"Holdback"},{variation_id:"variation",name:"Variations"}]),fe="%A, %B %e",pe=v()({EXPERIENCES:null,EXPERIMENTS:null,CAMPAIGNS:null,MULTIVARIATE_SECTIONS:null,MULTIVARIATE_COMBINATIONS:null,VARIATIONS:null}),me={BASELINE_VARIATION_ID:"baseline",CURRENCY_TYPE:"currency",DATE_RANGE_BEGIN:"beginDate",DATE_RANGE_END:"endDate",METRIC_ALIAS:"metricAlias",SEGMENT_CONDITION:"segmentCondition",SEGMENT_ID:"segId",SEGMENT_NAME:"segName",SEGMENT_VALUE:"segValue"},ge="baseline",he="results-delay-notification",ye=3e4,ve="results-failure-notification",_e=2e3,Ee="variation",be=m.a.shape(C),Te={browser:{edge:"Microsoft Edge",ff:"Firefox",gc:"Google Chrome",ie:"Internet Explorer",opera:"Opera",safari:"Safari",unknown:E()("Unknown")},device:(c={},_defineProperty(c,$.DESKTOP,E()("Desktop (deprecated)")),_defineProperty(c,$.IPAD,"iPad"),_defineProperty(c,$.IPHONE,"iPhone"),_defineProperty(c,$.MOBILE,E()("Other phones")),_defineProperty(c,$.TABLET,E()("Other tablets")),c),"device type":(l={},_defineProperty(l,Q.DESKTOP_LAPTOP,E()("Desktop / laptop")),_defineProperty(l,Q.OTHER,E()("Other devices")),_defineProperty(l,Q.PHONE,E()("All phones")),_defineProperty(l,Q.TABLET,E()("All tablets")),l),source:{campaign:E()("Campaign"),direct:E()("Direct"),referral:E()("Referral"),search:E()("Search")}},Se={ASC:"asc",DESC:"desc"},Ce=v()({INCONCLUSIVE:null,NEGATIVE:null,POSITIVE:null}),Ie=m.a.shape(I);r.default={AB_CHART_DATE_TIME_FORMAT:A,allCombinationsSection:O,AND_OR:P,baseGetterPaths:R,BROWSER_SEGMENT_ID:z,campaignResultStates:w,chartColors:N,chartType:x,chartYAxisLabelBounces:D,chartYAxisLabelConversions:k,chartYAxisLabelExits:j,chartYAxisLabelSums:M,confidenceIntervalChartColors:U,currencies:B,currencyTypes:V,dashStyles:L,DEFAULT_VARIATIONS_TO_SHOW:H,defaultSegmentCategories:X,DEVICE_SEGMENT_ID:q,DEVICE_TYPE_SEGMENT_ID:J,deviceTypeSegmentValues:Q,deviceSegmentSortOrder:Z,DIFFERENCE_TYPE_PARAM:ee,emittedEventTypes:te,eventType:ne,EXPERIMENT_GROUPING:re,holdbackProperties:ae,holdbackVariation:ie,MAX_CACHED_RESULTS_AGE:oe,MAX_EXPERIMENTS_FOR_DETAILED_RESULTS:se,MAX_EXPERIMENTS_TO_FETCH:ce,MAX_VISITORS_REMAINING:le,MIN_VISITORS_REMAINING:ue,nonDecimalCurrencyTypes:G,overviewVariations:de,P13N_CHART_DATE_TIME_FORMAT:fe,previousViews:pe,queryParams:me,REFERRER_SEGMENT_ID:Y,RESULTS_CONTROL_KEY:ge,RESULTS_DELAY_NOTIFICATION_ID:he,RESULTS_DELAY_TIMEOUT:ye,RESULTS_FAILURE_NOTIFICATION_ID:ve,RESULTS_FETCH_DELAY_TIMEOUT:_e,RESULTS_TREATMENT_KEY:Ee,resultShape:be,segmentValues:Te,SORT_DIRECTIONS:Se,timeseriesNodeState:Ce,timeseriesShape:Ie};var Ae=25},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(76);function filterByIsVisible(t){return void 0===t.isVisible||!!t.isVisible}var d=function ListDropdown(t){var r;return r=t.isNested?t.items.map((function(t){return t.filter(filterByIsVisible)})).filter((function(t){return t.length>0})).map((function(t,r){return l.a.createElement(u.f,{key:r},t.map((function(t,r){return l.a.createElement(u.b,{key:r,onClick:t.onClick,isLink:t.isLink,isIndented:t.isIndented,isDisabled:t.isDisabled,isDestructive:t.isDestructive,minWidth:t.minWidth,testSection:t.testSection},l.a.createElement(u.d,{testSection:t.testSection,text:t.text}),t.secondaryText&&l.a.createElement(u.c,{isWarning:t.isWarning,testSection:t.testSection,descriptionText:t.secondaryText}))})))})):t.items.filter(filterByIsVisible).map((function(t,r){return l.a.createElement(u.f,{hideOnClick:!0,key:r},l.a.createElement(u.b,{key:r,onClick:t.onClick,isLink:t.isLink,isIndented:t.isIndented,isDisabled:t.isDisabled,isDestructive:t.isDestructive,minWidth:t.minWidth,testSection:t.testSection},l.a.createElement(u.d,{testSection:t.testSection,text:t.text}),t.secondaryText&&l.a.createElement(u.c,{isWarning:t.isWarning,testSection:t.testSection,secondaryText:t.secondaryText})))})),l.a.createElement(u.a,{activator:t.activator,width:t.width},l.a.createElement(u.e,{minWidth:t.minWidth,isNoWrap:t.isNoWrap,direction:t.direction},r))};d.propTypes={activator:o.a.node.isRequired,direction:o.a.oneOf(["left","right"]),isNested:o.a.bool,minWidth:o.a.number,isNoWrap:o.a.bool,width:o.a.oneOfType([o.a.string,o.a.number]),items:o.a.oneOfType([o.a.arrayOf(o.a.object),o.a.arrayOf(o.a.array)]),testSection:o.a.string},d.defaultProps={minWidth:200},r.a=d},function(t,r,a){"use strict";a.r(r),a.d(r,"allAudienceConditions",(function(){return allAudienceConditions})),a.d(r,"constructCustomAudienceLabel",(function(){return constructCustomAudienceLabel})),a.d(r,"hasAnyProcessingAdaptiveAudienceConditions",(function(){return hasAnyProcessingAdaptiveAudienceConditions})),a.d(r,"hasProcessingAdaptiveAudienceStatus",(function(){return hasProcessingAdaptiveAudienceStatus})),a.d(r,"isAPIAudience",(function(){return isAPIAudience})),a.d(r,"validateCustomCode",(function(){return validateCustomCode})),a.d(r,"constructAnyAllAudienceConditions",(function(){return constructAnyAllAudienceConditions})),a.d(r,"createAudienceEntity",(function(){return createAudienceEntity})),a.d(r,"getStartingBehavioralData",(function(){return getStartingBehavioralData})),a.d(r,"getStartingAttributeData",(function(){return getStartingAttributeData})),a.d(r,"migrateBehavioralRuleToNewSchema",(function(){return migrateBehavioralRuleToNewSchema})),a.d(r,"thirdPartyNeedsModification",(function(){return thirdPartyNeedsModification})),a.d(r,"constructAudienceLabelFromList",(function(){return constructAudienceLabelFromList})),a.d(r,"shouldStylizeAudienceConditionOperator",(function(){return shouldStylizeAudienceConditionOperator})),a.d(r,"compatibleWithOptimizelyX",(function(){return compatibleWithOptimizelyX})),a.d(r,"compatibleWithOptimizelyClassic",(function(){return compatibleWithOptimizelyClassic})),a.d(r,"getPlaceHolderNameFromAudiences",(function(){return getPlaceHolderNameFromAudiences}));var i=a(4),o=a.n(i),c=a(75),l=a(2),u=a(8),d=a.n(u),p=a(141),m=p.default.audienceMatchTypes,g=m.ALL_AUDIENCES,h=m.ANY_AUDIENCES;function allAudienceConditions(t){var r=t.get("conditions");return void 0===r?l.default.Set():(o.a.isString(r)&&(r=Object(l.toImmutable)(JSON.parse(r))),function appendMoreConditionTypes(t,r){return t.forEach((function(t){if(o.a.isString(t))return r;var a=t.get("type");r=a?r.add(a):appendMoreConditionTypes(t,r)})),r}(r,l.default.Set()))}function constructCustomAudienceLabel(t,r){var a=function _constructNestedCustomCode(t,r){if(o.a.isArray(t)){var a,i=t.shift();return a="not"===i?d()("not ")+_constructNestedCustomCode(t[0],r):o.a.reduce(t,(function(t,a){return t=_constructNestedCustomCode(t,r),a=_constructNestedCustomCode(a,r),t.concat(" ".concat(d()(i)," ").concat(a))})),"(".concat(_constructNestedCustomCode(a,r),")")}if(o.a.isString(t))return t;var c=t?r[t.audience_id]||d()("ID:".concat(t.audience_id)):d()("Everyone");return o.a.filter(c.split(" "),(function(t){return t.toLowerCase()===d()("and")||t.toLowerCase()===d()("or")})).length>0?"(".concat(c,")"):c}(t,r);return a.slice(1,a.length-1)}function hasAnyProcessingAdaptiveAudienceConditions(t){return!!t.find((function(t){return hasProcessingAdaptiveAudienceStatus(t)}))}function hasProcessingAdaptiveAudienceStatus(t){return t.get("adaptive_audience_status")===p.default.AdaptiveAudienceStatuses.UNAVAILABLE}function isAPIAudience(t){var r=a(2763);return!!t.id&&r.isEmpty(t.conditions)}function validateCustomCode(t){return""===t?null:JSON.parse(t)}function constructAnyAllAudienceConditions(t,r){if(!t)return null;var a=0===t.size;if(Object(l.isImmutable)(t)||(a=0===t.length),![g,h].includes(r)||a)return null;var i=[];return r===p.default.audienceMatchTypes.ALL_AUDIENCES?i=["and"]:r===p.default.audienceMatchTypes.ANY_AUDIENCES&&(i=["or"]),t.forEach((function(t){return i.push({audience_id:t})})),i}function createAudienceEntity(t){return o.a.extend({},{id:null,project_id:null,name:null,description:null,last_modified:null,conditions:[],segmentation:!1},t)}function getStartingBehavioralData(t){return{version:"0.1",source:"events",action:{type:t.event_type,value:t.api_name},time:{type:"last_days",days:30},count:{comparator:"gte",value:1}}}function getStartingAttributeData(t,r){var a=[];t.is_optimizely||a.push(t.id),a.push(r.id);var i={where:["and",["or",{op:"eq",args:[{field:a},{value:""}]}]]};return t.is_optimizely?i:{rule:i}}function migrateBehavioralRuleToNewSchema(t){var r={version:"0.1",source:"events"},a=t.where,i=function getActionParameters(t){if(!t)return null;if(!o.a.isArray(t)||t.length<2||"and"!==t[0])throw new Error('Unexpected "where" clause format '.concat(JSON.stringify(t)));var r=null;return t.slice(1).forEach((function(t){if(!o.a.isArray(t)||t.length<2||"or"!==t[0])throw new Error('Unexpected "where" clause entry '.concat(JSON.stringify(t)));var a=t[1],i=a.label_;"eventType"!==i&&"event"!==i&&"goal"!==i||(r=r||{}),"eventType"===i?r.type=a.args[1].value:"event"!==i&&"goal"!==i||(r.value=a.args[1].value)})),r}(a);i&&(r.action=i);var c=function getTimeParameters(t){if(!t)return null;if(!o.a.isArray(t)||t.length<2||"and"!==t[0])throw new Error('Unexpected "where" clause format '.concat(JSON.stringify(t)));var r=null;return t.slice(1).forEach((function(t){if(!o.a.isArray(t)||t.length<2||"or"!==t[0])throw new Error('Unexpected "where" clause entry '.concat(JSON.stringify(t)));var a=t[1];if("time"===a.label_)if(r=r||{},"between"===a.op)r.type="range",r.start=a.args[1].value,r.stop=a.args[2].value;else{if("lt"!==a.op)throw new Error('Unexpected "time" operator: '.concat(a.op));r.type="last_days",r.days=a.period_}})),r}(a);c&&(r.time=c);var l=function getCountParameters(t){if(!t)return null;if(!o.a.isArray(t)||t.length<2||"and"!==t[0])throw new Error('Unexpected "having" clause format '.concat(JSON.stringify(t)));var r=null;return t.slice(1).forEach((function(t){if(!o.a.isArray(t)||t.length<2||"or"!==t[0])throw new Error('Unexpected "having" clause entry '.concat(JSON.stringify(t)));var a=t[1];"count"===a.label_&&((r=r||{}).comparator=a.op,r.value=a.args[1].value)})),r}(t.having);l&&(r.count=l);var u=function getFilters(t){if(!t)return null;if(!o.a.isArray(t)||t.length<2||"and"!==t[0])throw new Error('Unexpected "where" clause format '.concat(JSON.stringify(t)));var r=null;return t.slice(1).forEach((function(t){if(!o.a.isArray(t)||t.length<2||"or"!==t[0])throw new Error('Unexpected "where" clause entry '.concat(JSON.stringify(t)));var a=t[1];"tag"===a.label_&&(r=r||[]).push({name:a.field_,datatype:a.tagType_||"string",comparator:a.op,value:a.value_})})),r}(a);return u&&(r.filters=u),r}function thirdPartyNeedsModification(t){var r=!1,a=["google_adwords"];return function checkForThirdPartyModificationNecessary(t){for(var i=0;i<t.length;i++)if(t[i]instanceof Array)checkForThirdPartyModificationNecessary(t[i]);else if(t[i]instanceof Object)for(var o=0;o<a.length;o++)if(t[i].name&&t[i].name.indexOf(a[o])>-1)return void(r=!0)}(t),r}function constructAudienceLabelFromList(t,r){var a;if(!r||!r.size)return Object(l.toImmutable)([d()("Everyone")]);var i=r.reduce((function(t,r){return r?t.set(r.get("id"),r.get("name")):t}),Object(l.toImmutable)({}));return a=t?constructCustomAudienceLabel(JSON.parse(t),Object(l.toJS)(i)).split(" "):r.map((function(t){return t.get("name")})).interpose(d()("or")).join(" ").split(" "),Object(l.toImmutable)(a)}function shouldStylizeAudienceConditionOperator(t){return o.a.includes([d()("and"),d()("or"),d()("not")],t.toLowerCase())}function compatibleWithOptimizelyX(t){var r=t.compatible_with;return Object(l.isImmutable)(t)&&(r=t.get("compatible_with")),r===p.default.audienceCompatility.OPTIMIZELY_X||r===p.default.audienceCompatility.ALL}function compatibleWithOptimizelyClassic(t){return t.compatible_with===p.default.audienceCompatility.OPTIMIZELY_CLASSIC||t.compatible_with===p.default.audienceCompatility.ALL}function getPlaceHolderNameFromAudiences(t,r){var a,i;try{i="string"==typeof t?JSON.parse(t):Object(l.toJS)(t)}catch(t){return""}if(!i||i.length<=1)a="Everyone";else{var o=Object(c.default)(i),u={};r.forEach((function(t){u[t.get("id")]=t.get("name")})),a=constructCustomAudienceLabel(o,u)}return a}r.default={allAudienceConditions:allAudienceConditions,constructCustomAudienceLabel:constructCustomAudienceLabel,constructAnyAllAudienceConditions:constructAnyAllAudienceConditions,constructAudienceLabelFromList:constructAudienceLabelFromList,compatibleWithOptimizelyClassic:compatibleWithOptimizelyClassic,compatibleWithOptimizelyX:compatibleWithOptimizelyX,createAudienceEntity:createAudienceEntity,getPlaceHolderNameFromAudiences:getPlaceHolderNameFromAudiences,getStartingBehavioralData:getStartingBehavioralData,getStartingAttributeData:getStartingAttributeData,hasAnyProcessingAdaptiveAudienceConditions:hasAnyProcessingAdaptiveAudienceConditions,hasProcessingAdaptiveAudienceStatus:hasProcessingAdaptiveAudienceStatus,isAPIAudience:isAPIAudience,migrateBehavioralRuleToNewSchema:migrateBehavioralRuleToNewSchema,shouldStylizeAudienceConditionOperator:shouldStylizeAudienceConditionOperator,thirdPartyNeedsModification:thirdPartyNeedsModification,validateCustomCode:validateCustomCode}},,,function(t,r,a){var i=a(4),o=a(12),c={replace:!0,data:{validationResponse:{}},directives:{"plugin-validate":{_updateValidation:function _updateValidation(){if(this.vm){var t=this.vm.$get("validationResponse.isValid"),r=this.vm.$get("validationResponse.message"),a=o(this.el);t?(a.removeClass("lego-form-bad-news"),this.$formNote.hide()):(a.addClass("lego-form-bad-news"),this.$formNote.text(r).show())}},bind:function bind(){var t=o('<div class="lego-form-note lego-form-note--bad-news"></div>');this.$formNote=o(t).appendTo(this.el),this.vm.$watch("validationResponse",this._updateValidation.bind(this))}}},methods:{onChange:function onChange(t){this.updateValue(t.target.value)},updateValue:function updateValue(t){this.value=t,this.$dispatch("pluginUpdateFormValue",{name:this.inputConfig.name,value:t,field_type:this.inputConfig.field_type})},getValue:function getValue(){try{var t;return this.$$&&this.$$.input&&(t=this.$$.input),t||(t=o(this.$el).find("input").get(0)),t.value}catch(t){throw new Error("Invalid `getValue` implementation")}},doValidate:function doValidate(){var t=this.getValue(),r=this.validate(t);return this.validationResponse=r,r},validate:function validate(t){return{isValid:!0,message:""}}},ready:function ready(){if(!this.inputConfig)throw new Error("input must be passed inputConfig");this.doValidate(),this.$watch("value",this.doValidate)}};t.exports=function(t){return i.merge({},c,t)}},function(t,r,a){"use strict";function isDesktopApp(){return!!window.optlyDesktop}function getInnerUrl(){return window.optlyDesktop&&window.optlyDesktop.innerUrl}function getInnerUrlLegacy(){return window.optlyDesktop&&window.optlyDesktop.innerUrlLegacy}function getAppVersion(){return window.optlyDesktop&&window.optlyDesktop.version}function getAppPlatform(){return window.optlyDesktop&&window.optlyDesktop.platform}a.r(r),a.d(r,"isDesktopApp",(function(){return isDesktopApp})),a.d(r,"getInnerUrl",(function(){return getInnerUrl})),a.d(r,"getInnerUrlLegacy",(function(){return getInnerUrlLegacy})),a.d(r,"getAppVersion",(function(){return getAppVersion})),a.d(r,"getAppPlatform",(function(){return getAppPlatform})),r.default={isDesktopApp:isDesktopApp,getInnerUrl:getInnerUrl,getInnerUrlLegacy:getInnerUrlLegacy,getAppVersion:getAppVersion,getAppPlatform:getAppPlatform}},function(t,r,a){var i=a(3),o=a(1425);t.exports={replace:!0,template:"",data:{config:{}},ready:function ready(){var t=o.fns.getThirdPartyIntegrationName(this.condition.name);i.bindVueValues(this,{config:o.getters.thirdPartyConditionsByName(t)})}}},,function(t,r,a){"use strict";a.r(r);var i=a(689);a.d(r,"actions",(function(){return i.a}));var o=a(806);a.d(r,"constants",(function(){return o.a}));var c=a(520);a.d(r,"fns",(function(){return c.a}));var l=a(430);a.d(r,"getters",(function(){return l.a})),r.default={actions:i.a,fns:c.a,getters:l.a,constants:o.a}},function(t,r,a){"use strict";a.r(r),a.d(r,"isRevenueMetric",(function(){return h})),a.d(r,"isValueMetric",(function(){return y})),a.d(r,"isAbandonmentMetric",(function(){return v})),a.d(r,"isMetricOverallRevenue",(function(){return _})),a.d(r,"getMetricEventName",(function(){return E})),a.d(r,"getMetricGlobalName",(function(){return b})),a.d(r,"getMetricName",(function(){return T})),a.d(r,"getMetricValueTypeForDisplay",(function(){return I})),a.d(r,"getScopeForDisplay",(function(){return A})),a.d(r,"getScopeDescriptionsForDisplay",(function(){return O})),a.d(r,"getAverageLabelsForDisplay",(function(){return P})),a.d(r,"getScopeOptions",(function(){return R})),a.d(r,"getMetricHash",(function(){return N})),a.d(r,"getAggregatorOptions",(function(){return L})),a.d(r,"getAggregatorSelected",(function(){return x})),a.d(r,"createSingleMetricWrapper",(function(){return D})),a.d(r,"createMetricWrappers",(function(){return k}));var i,o=a(2),c=a(99),l=a.n(c),u=a(186),d=a(938),p=a.n(d),m=a(45),g=function getMetricEventApiName(t,r,a){var i=function getEventFromMetric(t,r,a){var i=t.get("event_id"),o=t.get("event_type");if(i)return o===m.default.event_type.PAGEVIEW?a.get(i):r.get(i)}(t,r,a);return i?i.get("api_name"):null},h=function isRevenueMetric(t){return t.get("field")===m.default.field.REVENUE},y=function isValueMetric(t){return t.get("field")===m.default.field.VALUE},v=function isAbandonmentMetric(t){var r=t.get("aggregator");return r===m.default.aggregator.BOUNCE||r===m.default.aggregator.EXIT},_=function isMetricOverallRevenue(t){return h(t)&&!t.get("event_id")},E=function getMetricEventName(t,r,a){var i=t.get("event_id"),o=t.get("event_type");if(i){var c=o===m.default.event_type.PAGEVIEW?a.get(i):r.get(i);return c?(o===m.default.event_type.PAGEVIEW?"Visit Page: ":"")+c.get("name"):"Unnamed event"}return""},b=function getMetricGlobalName(t){var r=t.get("field");switch(r){case m.default.field.REVENUE:case m.default.field.SESSION_DURATION:return m.default.globalMetricsByField[r];default:return"Unknown"}},T=function getMetricName(t,r,a){var o=t.get("display_title");if(o)return o;var c=i.getMetricEventName(t,r,a);return c||i.getMetricGlobalName(t)},S=function _formatStringForDisplay(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t&&r&&(t=l()(t)),t&&a&&(t="".concat(t,"s")),t},C=function getFieldForDisplay(t){return m.default.fieldHumanReadable[t]||""},I=function getMetricValueTypeForDisplay(t){var r,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=t.get("aggregator"),c=t.get("field");switch(o){case m.default.aggregator.BOUNCE:case m.default.aggregator.EXIT:r=o;break;case m.default.aggregator.SUM:r=C(c),i=!1;break;case m.default.aggregator.UNIQUE:case m.default.aggregator.COUNT:r=m.default.aggregationTypes.CONVERSION;break;default:throw new Error("Unable to get metric value type due to invalid aggregator")}return S(r,a,i)},A=function getScopeForDisplay(t){var r,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.get("scope");return v(t)?(r=m.default.abandonmentMetricScopeHumanReadable.QUALIFIED_SESSION,r=a?r:r.toLowerCase()):r=m.default.scopeHumanReadable[o]||"",S(r,a,i)},O=function getScopeDescriptionsForDisplay(t){var r=t.get("scope");return v(t)?t.get("aggregator")===m.default.aggregator.BOUNCE?m.default.scopeDescriptions.BOUNCE_QUALIFIED_SESSION:m.default.scopeDescriptions.EXIT_QUALIFIED_SESSION:m.default.scopeDescriptions[r.toUpperCase()]||""},P=function getAverageLabelsForDisplay(t){var r,a,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=t.get("aggregator");switch(o){case m.default.aggregator.BOUNCE:case m.default.aggregator.EXIT:case m.default.aggregator.UNIQUE:return r=I(t,i,!1),a=i?l()(m.default.measureTypeHumanReadable.RATE):m.default.measureTypeHumanReadable.RATE,"".concat(r," ").concat(a);case m.default.aggregator.SUM:case m.default.aggregator.COUNT:r=I(t,i,!0);var c=A(t,i,!1);return a=i?l()(m.default.measureTypeHumanReadable.PER):m.default.measureTypeHumanReadable.PER,"".concat(r," ").concat(a," ").concat(c);default:throw new Error("Unable to get average label due to invalid aggregator")}},R=function getScopeOptions(t,r){var a=[];switch(t){case m.default.aggregator.BOUNCE:case m.default.aggregator.EXIT:a=a.concat(m.default.eventScopeOptions);break;case m.default.aggregator.SUM:a=(a=a.concat(m.default.layerBasedScopeOptions[r])).concat(m.default.revenueScopeOptions);break;case m.default.aggregator.UNIQUE:case m.default.aggregator.COUNT:a=a.concat(m.default.layerBasedScopeOptions[r]);break;default:throw new Error("Unable to get scope options due to invalid aggregator")}return Object(o.toImmutable)(a)},w=function getMetricDescription(t){var r=t.get("aggregator"),a=t.get("field"),i=t.get("scope");switch(t.get("winning_direction")){case m.default.winning_direction.DECREASING:"Decrease in";break;default:"Increase in"}var o=function getAggregatorForDisplay(t){return m.default.aggregatorHumanReadable[t]||""}(r),c="";switch(a){case m.default.field.VALUE:case m.default.field.REVENUE:case m.default.field.SESSION_DURATION:c=C(a);break;default:c="conversions"}var l="";switch(i){case m.default.scope.VISITOR:l="per visitor";break;case m.default.scope.SESSION:l="per session";break;case m.default.scope.EVENT:l="per conversion"}var u="";!t.get("event_id")&&a&&(u="summed across all events"),v(t)&&(o="",c="".concat(r," ").concat(m.default.measureTypeHumanReadable.RATE),l="");var d=[o,c,l,u].filter(String).join(" ").trim();return d.charAt(0).toUpperCase()+d.slice(1)},N=function getMetricHash(t){var r=t.set("display_title",null);return p.a.hash(r.toJS())},L=function getAggregatorOptions(t){if(_(t))return m.default.overallRevenueAggregatorOptions;var r=[m.default.aggregationOperations[m.default.aggregationOptions.UNIQUE_CONVERSIONS],m.default.aggregationOperations[m.default.aggregationOptions.TOTAL_CONVERSIONS],m.default.aggregationOperations[m.default.aggregationOptions.TOTAL_REVENUE],m.default.aggregationOperations[m.default.aggregationOptions.TOTAL_VALUE]];return function isPageViewMetric(t){return t.get("event_type")===m.default.event_type.PAGEVIEW}(t)&&(r.push(m.default.aggregationOperations[m.default.aggregationOptions.BOUNCE_RATE]),r.push(m.default.aggregationOperations[m.default.aggregationOptions.EXIT_RATE])),r},x=function getAggregatorSelected(t){var r=t.get("aggregator"),a=t.get("field");switch(r){case m.default.aggregator.UNIQUE:return m.default.aggregationOptions.UNIQUE_CONVERSIONS;case m.default.aggregator.COUNT:return m.default.aggregationOptions.TOTAL_CONVERSIONS;case m.default.aggregator.BOUNCE:return m.default.aggregationOptions.BOUNCE_RATE;case m.default.aggregator.EXIT:return m.default.aggregationOptions.EXIT_RATE;case m.default.aggregator.SUM:switch(a){case m.default.field.VALUE:return m.default.aggregationOptions.TOTAL_VALUE;case m.default.field.REVENUE:default:return m.default.aggregationOptions.TOTAL_REVENUE}default:throw new Error("Unable to select aggregator")}},D=function createSingleMetricWrapper(t,r,a,c,l){var d=i.getMetricHash(t),p=T(t,l,c),v=E(t,l,c),_=g(t,l,c),b=0===r,S=null,C=null,I=null,A=null,O=null,P=R(t.get("aggregator"),a.get("policy")),N=L(t);return h(t)?(S=u.a.formatPriceLift,C=u.a.formatPriceForDisplay,I=u.a.formatPriceForDisplay,A=u.a.formatPercentLift,O=u.a.formatPriceForDisplay):y(t)?(S=u.a.formatIncrease,C=u.a.formatFloatAsFloatOrWholeForDisplay,I=u.a.formatIncrease,A=u.a.formatLift,O=u.a.formatFloatForDisplay):(S=t.get("aggregator")===m.default.aggregator.COUNT?u.a.formatIncrease:u.a.formatPercentagePoint,C=u.a.formatWholeNumber,I=u.a.formatIncrease,A=u.a.formatLift,O=t.get("aggregator")===m.default.aggregator.COUNT?u.a.formatNumberForDisplay:u.a.formatPercentForDisplay),Object(o.toImmutable)({metric:t,alias:d,eventApiName:_,name:p,description:w(t),eventName:v,isPrimary:b,absoluteLiftFormatFn:S,conversionFormatFn:C,increaseFormatFn:I,relativeLiftFormatFn:A,rateFormatFn:O,aggregatorOptions:N,scopeOptions:P})},k=function createMetricWrappers(t,r,a,o){return t.map((function(t,c){return i.createSingleMetricWrapper(t,c,r,a,o)}))};r.default=i={isRevenueMetric:h,isValueMetric:y,isAbandonmentMetric:v,isMetricOverallRevenue:_,getMetricDescription:w,getMetricEventName:E,getMetricGlobalName:b,getMetricName:T,getMetricValueTypeForDisplay:I,getScopeForDisplay:A,getScopeDescriptionsForDisplay:O,getAverageLabelsForDisplay:P,getScopeOptions:R,getMetricHash:N,getAggregatorOptions:L,getAggregatorSelected:x,createSingleMetricWrapper:D,createMetricWrappers:k}},function(t,r,a){"use strict";var i=a(59),o=a.n(i)()("2018-05-22"),c=Number.MAX_SAFE_INTEGER;r.a={OUTLIER_FILTERING_CUTOFF_DATE:o,UNLIMITED_VALUE:c}},function(t,r,a){"use strict";var i=a(212);a.d(r,"a",(function(){return i.a}));var o=a(682);i.a,o.a},function(t,r,a){var i=a(3),o=a(1954);r.startPausing=function(t){i.dispatch(o.START_PAUSING,{layerId:t})},r.startPublishing=function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i.dispatch(o.START_PUBLISHING,{layerId:t,isFirstPublish:r})},r.startStarting=function(t){i.dispatch(o.START_STARTING,{layerId:t})},r.finishPausing=function(t){i.dispatch(o.FINISH_PAUSING,{layerId:t})},r.finishPublishing=function(t){i.dispatch(o.FINISH_PUBLISHING,{layerId:t})},r.finishStarting=function(t){i.dispatch(o.FINISH_STARTING,{layerId:t})}},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({LAYER_DIALOG_SET_VIEW_IDS:null,LAYER_DIALOG_SET_URL_TARGETING_CONFIG:null,LAYER_DIALOG_SET_TARGETING_TYPE:null,LAYER_DIALOG_SET_ERRORS:null,LAYER_DIALOG_RESET:null})},,function(t,r,a){"use strict";var i=a(1314);a.d(r,"a",(function(){return i.a}));var o=a(518);a.d(r,"b",(function(){return o.a}));var c=a(617),l=a(1315);a.d(r,"c",(function(){return l.a}));i.a,o.a,c.a,l.a},function(t,r,a){"use strict";var i=a(1306);a.d(r,"a",(function(){return i.a}));var o=a(1168),c=a(253);a.d(r,"c",(function(){return c.b}));var l=a(1083);a.d(r,"d",(function(){return l.b}));var u=a(1308);a.d(r,"e",(function(){return u.a})),r.b={actions:i.a,constants:o.a,enums:c.b,fns:l.b,getters:u.a}},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(9),d=a.n(u),p=a(402),m=function RouterLink(t){var r=t.ariaLabel,a=t.children,i=t.className,o=t.href,c=t.isDisabled,u=t.testSection,m=d()(i,{"link--disabled":c,"pointer-events--none":c});return l.a.createElement("a",{"aria-label":r,"data-ui-component":!0,href:o,className:m,"data-test-section":u,"data-track-id":u,onClick:function onClick(t){return Object(p.default)(o,t)},disabled:c},a)};m.propTypes={ariaLabel:o.a.string,children:o.a.node.isRequired,className:o.a.string,href:o.a.string.isRequired,isDisabled:o.a.bool,testSection:o.a.string},m.defaultProps={ariaLabel:"",className:"",isDisabled:!1,testSection:""},r.a=m},,,,,function(t,r,a){"use strict";var i=a(9),o=a.n(i),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(2541),m=a.n(p);a(1161),a(3545),a(2092);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g={annotations:!0,extraKeys:{"Ctrl-Enter":function CtrlEnter(){},"Ctrl-Space":"autocomplete"},fixedGutter:!0,gutters:["CodeMirror-lint-markers"],lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,mode:"javascript",tabSize:2,lint:!0},h=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ReactCodeMirror,t);var r=_createSuper(ReactCodeMirror);function ReactCodeMirror(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ReactCodeMirror),(a=r.call(this,t)).assignRef=a.assignRef.bind(_assertThisInitialized(a)),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ReactCodeMirror,[{key:"componentDidMount",value:function componentDidMount(){var t=this;setTimeout((function(){t._codeMirror&&t._codeMirror.getCodeMirror().refresh()}),0)}},{key:"componentDidUpdate",value:function componentDidUpdate(t){var r=this.props,a=r.value;if(null===r.defaultValue&&t.value!==a){var i=this._codeMirror.getCodeMirror(),o=i.getCursor();i.setValue(a),i.setCursor(o)}}},{key:"assignRef",value:function assignRef(t){this._codeMirror=t}},{key:"render",value:function render(){var t=this.props,r=t.maxHeight,a=t.isReadOnly,i=t.onChange,c=t.options,l=t.testSection,u=t.value,p=t.height,h=t.defaultValue,y=_extends({},Number.isFinite(r)?{maxHeight:r}:{},{height:p}),v=Object.assign({},g,c,{readOnly:a});return d.a.createElement("div",{className:o()("border--all width--1-1 min-height--200 overflow-y--auto",{faded:a}),style:y,"data-test-section":l},d.a.createElement(m.a,{"data-ui-component":!0,ref:this.assignRef,onChange:i,options:v,value:u,defaultValue:h}))}}]),ReactCodeMirror}(d.a.Component);h.propTypes={height:l.a.string,maxHeight:l.a.number,isReadOnly:l.a.bool,onChange:l.a.func.isRequired,options:l.a.object,testSection:l.a.string,value:l.a.string,defaultValue:l.a.string},h.defaultProps={isReadOnly:!1,maxHeight:200,options:{},testSection:"",height:null,value:null,defaultValue:null},r.a=h},function(t,r,a){"use strict";a.d(r,"b",(function(){return c}));var i=a(245),o=["optimizelyChampagne","reactSDKUserState"],c=function isFeatureEnabled(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return[o,function(){return i.a.isFeatureEnabled.apply(i.a,r)}]};r.a={isFeatureEnabled:c,getFeatureVariable:function getFeatureVariable(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return[o,function(){return i.a.getFeatureVariable.apply(i.a,r)}]},userIdForFeature:function userIdForFeature(t){return["optimizelyChampagne","featureToUserId",t]}}},function(t,r,a){"use strict";var i=a(4),o=a(42),c=a.n(o),l=a(3),u=a(158),d=a(123),p=a.n(d);r.a={makeOptlyFetchRequest:function makeOptlyFetchRequest(t){if(1!==arguments.length||!t.url)throw new Error("Must supply a single options object containing url, type, etc");var r=Object(i.cloneDeep)(t),a=-1!==t.url.search("migrate")||-1!==t.url.search("migration_status")?t.url:p.a.optimizelyHRDUrl(t.url);delete r.url,r.credentials="include",r.headers=t.headers||{},r.headers["X-csrf-token"]=l.default.evaluate(u.default.csrfToken)||c.a.get("csrf","");var o=Boolean(r.noResponseParse);return delete r.noResponseParse,fetch(a,r).then((function(t){if(t.ok)return o?t:t.json();throw new Error("Network response was not ok.")}))}}},function(t,r,a){"use strict";var i=a(2),o=a(13),c=a(20),l=a(27),u=a(39),d=a(41),p=a(502),m=a(597);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var g=Object(d.default)(p.a),h=(g.byId,g.entityCache),y=[o.default.environmentsAuthorizedAndSupported,c.getters.entityCache,h,o.default.project,m.a.getEnvironmentStatusesByExperimentId],v=[o.default.environmentsAuthorizedAndSupported,l.getters.entityCache,h,o.default.project,u.default.canCurrentProjectUseTargetedRollouts,m.a.getEnvironmentStatusesByFeatureId],_=[o.default.id,h,function(t,r){return null===t?Object(i.toImmutable)([]):r.filter((function(r){return r.get("project_id")===t&&!r.get("archived")})).toList().sortBy((function(t){return t.get("priority")}))}],E=[h,function(t){return t.reduce((function(t,r){return t.set(r.get("key"),r)}),Object(i.toImmutable)({}))}];r.a=_extends({},g,{byKey:E,environmentStatusesByExperimentId:y,environmentStatusesByFeatureId:v,unarchivedEnvironmentsSortedByPriority:_})},function(t,r,a){"use strict";a.r(r),a.d(r,"byId",(function(){return l})),a.d(r,"entityCache",(function(){return u}));var i=a(41),o=a(575);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a),l=c.byId,u=c.entityCache;r.default=_extends({},c)},function(t,r,a){"use strict";var i=a(431),o=a(667);a.d(r,"a",(function(){return o.a}));i.a,o.a},function(t,r,a){"use strict";a.r(r),a.d(r,"entityToGroupMap",(function(){return u}));var i=a(41),o=a(2),c=a(571);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var l=Object(i.default)(c.a),u=[l.entityCache,function(t){var r={};return t.forEach((function(t){t.has("entities")&&t.get("entities").forEach((function(a){r[a.get("id")]=t}))})),Object(o.toImmutable)(r)}];r.default=_extends({},l,{entityToGroupMap:u})},,,function(t,r){r.LAST_VIEWED_PROJECT_ID="lastViewedProjectId",r.DEFAULT_LOCALE="en_US",r.LOCALES=[{locale:"de_DE",title:"Deutsch",translatedTitle:tr("German")},{locale:"en_US",title:"English (US)",translatedTitle:tr("English (US)")},{locale:"es_ES",title:"Español (España)",translatedTitle:tr("Spanish (Spain)")},{locale:"fr_FR",title:"Français",translatedTitle:tr("French")},{locale:"ja_JP",title:"日本語",translatedTitle:tr("Japanese")}],r.FEATURE_DETAILS={sdkWarningText:"Improvements are coming! Please ensure your SDK meets the minimum requirements to use targeted rollouts.",sdkWarningKbLink:"https://docs.developers.optimizely.com/rollouts/docs/roll-out-and-roll-back-features"}},function(t,r,a){"use strict";var i=a(145);a.d(r,"a",(function(){return i.a}));var o=a(318);a.d(r,"b",(function(){return o.a}));i.a,o.a},function(t,r,a){"use strict";var i=a(34),o=a(2),c=a(144),l={};l.targetingTypeItems=[{label:"URL",value:c.TargetingTypes.URL},{label:"Saved Pages",value:c.TargetingTypes.SAVED_PAGES}],l.DEFAULT_URL_TARGETING_CONFIG=Object(o.toImmutable)({activation_type:i.enums.activationModes.IMMEDIATE,edit_url:"",includeConditions:Object(o.toImmutable)([i.constants.DEFAULT_URL_CONDITION]),excludeConditions:Object(o.toImmutable)([i.constants.DEFAULT_URL_CONDITION]),activation_code:null,api_name:""}),l.DEFAULT_URL_TARGETING_CONFIG_SMART=Object(o.toImmutable)({activation_type:i.enums.activationModes.IMMEDIATE,edit_url:"",conditions:'["and",["or",{"value":"","match_type":"simple","type":"url"}]]',activation_code:null,api_name:"",deactivation_enabled:!1,undo_on_deactivation:!1,is_url_targeting:!0}),l.helpText={edit_url:"The editor URL will be used if the page is loaded in the visual editor.",api_name:"Please provide a unique name so you can activate this page with an API call.\n      We recommend creating the name using alphanumeric characters and underscores between words."},r.a=l},function(t,r,a){"use strict";var i=a(1223);a.d(r,"a",(function(){return i.a}));var o=a(581),c=a(809);a.d(r,"b",(function(){return c.a}));var l=a(942);a.d(r,"c",(function(){return l.default}));i.a,o.a,c.a,l.default},function(t,r,a){"use strict";r.a={dialogManager:["uiComponents","globalComponents","dialogManager"],notificationManager:["uiComponents","globalComponents","notificationManager"],ouiIcons:["uiComponents","globalComponents","ouiIcons"]}},,function(t,r,a){"use strict";var i=a(15),o={active:[i.ExperimentStatusType.RUNNING,i.ExperimentStatusType.PAUSED,i.ExperimentStatusType.NOT_STARTED],archived:[i.ExperimentStatusType.ARCHIVED],draft:[i.ExperimentStatusType.NOT_STARTED],paused:[i.ExperimentStatusType.PAUSED],running:[i.ExperimentStatusType.RUNNING]},c={experiments:{statusString:"active",status:o.active,string:null},audiences:{string:null},collaborators:{string:null},goals:{string:null},groups:{string:null},dimensions:{string:null},integrations:{category:i.IntegrationCategoryTypes.ALL,string:null},"user-lists":{string:null},datasources:{string:null}};r.a={DEFAULT_EXPERIMENT_STATUS_FILTER:"active",DEFAULT_STATUS_STRING:"active",EXPERIMENT_STATUS_FILTERS:o,FILTER_DEFAULTS:c,SUB_PART_TO_ENTITY:{experiments:"experiments",audiences:"audiences","change-history":"activities",collaborators:"collaborators",goals:"goals",dimensions:"dimensions",integrations:"integrations","user-lists":"targeting_list",datasources:"dcp_datasource"}}},,function(t,r,a){"use strict";var i=a(93),o=a.n(i),c=a(952),l=a(690),u=a(214);a.d(r,"b",(function(){return u.default}));var d=a(2553),p=a.n(d),m=a(2554),g=a.n(m);o.a.component("sortable-th",p.a),o.a.component("sortable-li",g.a),r.a={actions:c.default,fns:l.a,getters:u.default}},function(t,r,a){"use strict";var i=a(384),o=a(1321),c=a(1322),l=a(706);r.a={constants:i.a,getters:o.a,actions:c.a,fns:l.a}},function(t,r,a){function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=a(12),o=a(4);t.exports={extendComponent:function extendComponent(t,r){var a=t||{};return a.defaultData&&((a=o.cloneDeep(a)).data=a.defaultData,delete a.defaultData),i.extend(!0,{},a,r)},sanitizeFromVueSideEffects:function sanitizeFromVueSideEffects(t){return function _remove$IndexKey(t){return o.each(t,(function(r,a){"$index"===a?delete t[a]:"object"===_typeof(t[a])&&null!==t[a]&&_remove$IndexKey(t[a])})),t}(o.cloneDeep(t))}}},function(t,r){r.customCodePanelShown=["custom_code","customCodePanelShown"],r.tabType=["custom_code","tabType"],r.dirtyCustomCodeTabs=["custom_code","dirtyCustomCodeTabs"],r.hasDirtyCustomCode=[r.dirtyCustomCodeTabs,function(t){return 0!==t.filter((function(t){return t})).size}]},function(t,r,a){"use strict";a.r(r);var i=a(72),o=a.n(i),c=a(4),l=a.n(c),u=a(75),d=a(2),p=a(2474),m=a(20),g=(a(3386),a(330));function asyncGeneratorStep(t,r,a,i,o,c,l){try{var u=t[c](l),d=u.value}catch(t){return void a(t)}u.done?r(d):Promise.resolve(d).then(i,o)}var h={};function resetImageDimensions(t){t.width=0,t.height=0,t.thumbnailWidth=0,t.thumbnailHeight=0}h.formatChangeForApply=function(t){if(t.get("type")!==m.enums.ChangeTypes.ATTRIBUTE)return t;var r={id:t.get("id"),status:t.get("status"),type:t.get("type"),selector:t.get("selector"),dependencies:t.get("dependencies").toJS()||[],attributes:{},css:t.get("css")||{}};return t.get("rearrange")&&(r.rearrange=t.get("rearrange")),t.get("attributes").map((function(t,a){null!==t&&(r.attributes[a]=t)})),t.get("name")&&(r.name=t.get("name")),Object(d.toImmutable)(r)},h.formatCustomCodeChange=function(t,r,a){return{id:t,type:m.enums.ChangeTypes.CUSTOM_CODE,async:a,value:r,dependencies:[]}},h.formatCustomCssChange=function(t,r,a){return{id:t,type:m.enums.ChangeTypes.CUSTOM_CSS,async:a,selector:"head",value:r,dependencies:[]}},h.getIframeId=function(t,r){return"".concat(t,":").concat(r)},h.getViewIdFromIframeId=function(t){var r=t.split(":")[0];if(!r)throw new Error("Could not parse viewId from iframeId");return Number(r)},h.getVariationIdFromIframeId=function(t){var r=t.split(":");if(r.length<2)throw new Error("Could not parse variationId from iframeId");return Number(r[1])},h.updateChangeListWithFormattedChange=function(t,r){var a,i=t&&t.findIndex((function(t){return t.get("id")===r.get("id")}));if(a=i>=0?t.update(i,(function(t){return(r.get("type")===m.enums.ChangeTypes.WIDGET?t.merge(r):t.mergeDeep(r)).set("dependencies",r.get("dependencies"))})):r.get("type")===m.enums.ChangeTypes.CUSTOM_CODE||r.get("type")===m.enums.ChangeTypes.CUSTOM_CSS?t.unshift(r):t.push(r),r.get("type")===m.enums.ChangeTypes.ATTRIBUTE&&(a=a.updateIn([i,"attributes"],(function(t){return t.filter((function(t){return null!==t}))}))),r.get("type")===m.enums.ChangeTypes.REDIRECT){var o=r.get("dest",null)?"dest_fn":"dest";a=a.removeIn([i,o])}return a.filterNot((function(t){return l.a.includes([m.enums.ChangeTypes.CUSTOM_CODE,m.enums.ChangeTypes.CUSTOM_CSS],t.get("type"))&&l.a.isEmpty(t.get("value").trim())}))},h.changeListSortFn=function(t,r){var a=function changePriority(t){var r=l.a.indexOf(m.enums.ChangeTypePriority,t.get("type"));return-1===r?m.enums.ChangeTypePriority.length:r};return a(t)-a(r)},h.orderChangeList=function(t){return t.sort(h.changeListSortFn)},h.getImageFileName=function(t){return t?t.substring(t.lastIndexOf("/")+1):""},h.getImageDimensions=function(t){if(t.displayValue){var r=new Image,a=t.absoluteUrl;r.onload=function(){a===t.absoluteUrl&&(t.height=r.height,t.width=r.width,t.height>t.width?(t.thumbnailHeight=60,t.thumbnailWidth=t.thumbnailHeight/t.height*t.width):(t.thumbnailWidth=60,t.thumbnailHeight=t.thumbnailWidth/t.width*t.height))},r.onerror=function(){a===t.absoluteUrl&&resetImageDimensions(t)},r.src=a}else resetImageDimensions(t)},h.getImageSize=function(){var t=function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var c=t.apply(r,a);function _next(t){asyncGeneratorStep(c,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var r,a;return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(r=t.absoluteUrl){i.next=4;break}return t.size=null,i.abrupt("return");case 4:return i.prev=4,i.next=7,Object(p.getResourceSize)(r.replace("cdn.optimizely.com","optimizely.s3.amazonaws.com"));case 7:(a=i.sent)&&t.absoluteUrl===r&&(t.size=a),i.next=14;break;case 11:i.prev=11,i.t0=i.catch(4),t.absoluteUrl===r&&(t.size=null);case 14:case"end":return i.stop()}}),_callee,null,[[4,11]])})));return function(r){return t.apply(this,arguments)}}(),h.getUrlFromStyleValue=function(t){return"string"==typeof t&&t.startsWith("url(")?-1!==t.indexOf(", url(")||t.match(/^url\(['"]?data/)?null:((t=t.slice(4,-1)).match(/^['"]/)&&(t=t.slice(1,-1)),t):null},h.convertProxyUrlToRelativeUrl=function(t){if(null===t)return null;var r=t.match("https?://.*?.?optimizelyedit.(com|test)(/.*)");return r?r[2]:t},h.wrapEvalCodeWithjQuery=function(t){return o()('(function() {\nvar $ = window.optimizely.get("jquery");\n%s\n})()',t)},h.createWidgetChange=function(t){return{id:m.fns.generateGuid(),type:m.enums.ChangeTypes.WIDGET,async:!1,dependencies:[],name:t.name,widget_id:t.widget_id,config:Object(u.default)(t.config)}},h.getOriginalValueForChange=function(t,r,a){if("remove"===a||"hide"===a)return t;var i="style"===a?["style","cssText"]:[a],o=r?r.getIn(i):null;return t||o},h.getAttributeChangeStatuses=function(t,r,a,i,o,c){var u=Object(d.toImmutable)({}),p=Object(d.toImmutable)(g.default.SupportedAttributeChanges).map((function(r,a){if(t.get("id")===c&&t.getIn(["shouldSaveFlags",a]))return m.enums.ChangeStatuses.DIRTY;var l=o&&o.hasIn(["attributes",a]),u=!i||o&&i.getIn(["attributes",a])===o.getIn(["attributes",a]);return l&&u?m.enums.ChangeStatuses.LIVE:i&&(i.hasIn(["attributes",a])||l)?m.enums.ChangeStatuses.DRAFT:null})),y=null;t.get("id")===c&&r?y=m.enums.ChangeStatuses.DIRTY:!o||l.a.isEmpty(o.getIn(["rearrange","insertSelector"]))||i&&!d.default.is(i.get("rearrange"),o.get("rearrange"))?i&&!l.a.isEmpty(i.getIn(["rearrange","insertSelector"]))&&(y=m.enums.ChangeStatuses.DRAFT):y=m.enums.ChangeStatuses.LIVE;var v=Object(d.toImmutable)(g.default.SupportedCSSProperties).map((function(r,a){var l={};return l.draft=i&&i.getIn(["css",a]),l.live=o&&o.getIn(["css",a]),l.currentChange=t.getIn(["css",a]),t.get("id")===c&&l.currentChange!=l.draft&&l.currentChange!=l.live?m.enums.ChangeStatuses.DIRTY:l.draft&&l.live&&l.draft!=l.live?m.enums.ChangeStatuses.DRAFT:l.live?m.enums.ChangeStatuses.LIVE:l.draft?m.enums.ChangeStatuses.DRAFT:null}));return u.set("async",h.getStatusOfAsyncProperty(t,i,o,c)).set("attributes",p).set("css",v).set("rearrange",y).set("selector",h.getStatusOfChangeProperty("selector",t,a,i,o,c))},h.getStatusOfChangeProperty=function(t,r,a,i,o,c){return r.get("id")===c&&a?m.enums.ChangeStatuses.DIRTY:!o||i&&!d.default.is(i.get(t),o.get(t))?i?m.enums.ChangeStatuses.DRAFT:void 0:m.enums.ChangeStatuses.LIVE},h.getStatusOfAsyncProperty=function(t,r,a,i){var o;if(t.get("id")===i&&(r&&r.has("async")?o=r.get("async"):a&&a.has("async")&&(o=a.get("async")),t.get("async")&&l.a.isUndefined(o)||!l.a.isUndefined(o)&&o!==t.get("async")))return m.enums.ChangeStatuses.DIRTY;return!a||!a.has("async")||r&&r.get("async")!==a.get("async")?!r||!r.has("async")||a&&r.get("async")===a.get("async")?void 0:m.enums.ChangeStatuses.DRAFT:m.enums.ChangeStatuses.LIVE},h.getWidgetChangeStatuses=function(t,r){if(!t)return r.get("config").map((function(){return m.enums.ChangeStatuses.LIVE}));if(!r)return t.get("config").map((function(){return m.enums.ChangeStatuses.DRAFT}));var a=t.get("config"),i=r.get("config");return a.map((function(t,r){return d.default.is(t,i.get(r))?m.enums.ChangeStatuses.LIVE:m.enums.ChangeStatuses.DRAFT}))},h.getInsertHTMLChangeStatus=function(t,r,a,i,o,c){var l=Object(d.toImmutable)({html:null}),u=i&&i.get("value"),p=o&&o.get("value");return l.map((function(){return t.get("id")===c&&(t.get("value")&&!i&&!o||i&&u!==t.get("value")||o&&p!==t.get("value"))?m.enums.ChangeStatuses.DIRTY:!o||!o.get("value")||i&&u!==o.get("value")?i&&i.get("value")?m.enums.ChangeStatuses.DRAFT:void 0:m.enums.ChangeStatuses.LIVE})).set("selector",h.getStatusOfChangeProperty("selector",t,r,i,o,c)).set("operator",h.getStatusOfChangeProperty("operator",t,a,i,o,c)).set("async",h.getStatusOfAsyncProperty(t,i,o,c))},h.getRedirectChangeStatuses=function(t,r,a){a&&a.get("type")!==m.enums.ChangeTypes.REDIRECT&&(a=void 0),r&&r.get("type")!==m.enums.ChangeTypes.REDIRECT&&(r=void 0),t&&t.get("type")!==m.enums.ChangeTypes.REDIRECT&&(t=void 0);var i=r||a||t,o=i?i.get("id"):void 0,c=l.a.partial((function getStatusForKey(i,o,c){if(t&&t.get("id")===i){var l=r||a;if(l){if(t.get(c)!==l.get(c))return m.enums.ChangeStatuses.DIRTY}else if(t.get(c)!==o[c])return m.enums.ChangeStatuses.DIRTY}return!a||!a.has(c)||r&&r.get(c)!==a.get(c)?r&&r.has(c)?m.enums.ChangeStatuses.DRAFT:null:m.enums.ChangeStatuses.LIVE}),o,{allowAdditionalRedirect:!1,dest:"",preserveParameters:!0}),u=d.default.Map();return i&&(u=u.set("allowAdditionalRedirect",c("allowAdditionalRedirect")).set("dest",c("dest")).set("dest_fn",c("dest_fn")).set("preserveParameters",c("preserveParameters"))),u},h.getHighlighterOptionsForElementChange=function(t){var r=null,a=null;return t.rearrange&&t.rearrange.insertSelector||t.operator?r=t.id:a=t.selector,{dataOptlyId:r,selector:a}},h.isCSSObjectDirty=function(t){return!!t.css&&l.a.find(t.css,(function(t,r){return t===m.enums.ChangeStatuses.DIRTY}))},h.cssToIDL=function(t){for(var r="",a=0;a<t.length;++a){var i=t[a];r+="-"===i?t[++a].toUpperCase():i}return r},h.getStatusClassForView=function(t,r){return t&&t.length?"background--draft":r&&r.length?"background--live":""},h.formatRedirectUrl=function(t){return t.match(/^([a-zA-Z0-9\-_]+(\.[a-zA-Z0-9\-_]+)+.*)$/)&&(t="http://".concat(t)),t},h.coalesceStatusesIntoClass=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return l.a.includes(r,"dirty")?"lego-form-field__item--dirty":l.a.includes(r,"draft")?"lego-form-field__item--draft":l.a.includes(r,"live")?"lego-form-field__item--live":""},h.getStatusesForExtensionFields=function(t,r,a){return t||r?a.map((function(a,i){if(!t)return d.default.is(r.getIn(["config",i]),a)?m.enums.ChangeStatuses.LIVE:m.enums.ChangeStatuses.DIRTY;if(!r)return d.default.is(t.getIn(["config",i]),a)?m.enums.ChangeStatuses.DRAFT:m.enums.ChangeStatuses.DIRTY;var o=r.getIn(["config",i]),c=t.getIn(["config",i]),l=d.default.is(o,c)?m.enums.ChangeStatuses.LIVE:m.enums.ChangeStatuses.DRAFT;return d.default.is(a,c)?l:m.enums.ChangeStatuses.DIRTY})):a.map((function(t,r){return m.enums.ChangeStatuses.DRAFT}))},h.changeDependsOnPrevious=function(t,r){if(!r)return!1;var a=r.get("id"),i=t.findIndex((function(t){return t.get("id")===a}));if(0===i||t.isEmpty())return!1;var o=i<0?t.last():t.get(i-1);return r.get("dependencies")&&r.get("dependencies").some((function(t){return t===o.get("id")}))},r.default=h},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(640);r.a={generateLocalTimeString:function generateLocalTimeString(){var t=new Date,r=t.toString().match(/\(.*\)$/),a=r?r[0]:"",i=(t=tr.date()).format("LT"),o=this.timezoneOffsetToGMTString(t.utcOffset());return"".concat(i,", ").concat(o," ").concat(a)},getCurrentTimezoneName:function getCurrentTimezoneName(){return Intl.DateTimeFormat().resolvedOptions().timeZone},generateLocalTimeZoneNameString:function generateLocalTimeZoneNameString(){var t=tr.date(),r=t.format("LT"),a=this.timezoneOffsetToGMTString(t.utcOffset()),i=this.getCurrentTimezoneName().replace("_"," ");return"".concat(r," (").concat(i," (").concat(a,"))")},timezoneOffsetToGMTString:function timezoneOffsetToGMTString(t){return t=parseInt(t,10),o.a.isNaN(t)?null:"GMT".concat(tr.date().utcOffset(t).format("Z"))},gmtStringToTimezoneOffset:function gmtStringToTimezoneOffset(t){var r=t.match(/^GMT([+-])(\d\d?):(\d\d)$/);return null===r?null:(t="".concat(r[1]+(1===r[2].length?"0":"")+r[2],":").concat(r[3]),tr.date().utcOffset(t).utcOffset())},getOffsetFromTimezone:function getOffsetFromTimezone(t){var r=o.a.find(c.a.TIMEZONES,{title:t});if(r)return Number(r.offset)},getTimezoneFromOffset:function getTimezoneFromOffset(t){var r=o.a.find(c.a.TIMEZONES,{offset:Number(t)});if(r)return r.title},isTimeInFuture:function isTimeInFuture(t,r){var a=tr.date.utc(t),i=a.year(),o=a.month(),c=a.date(),l=a.hour(),u=a.minute(),d=a.second(),p=this.getOffsetFromTimezone(r);return tr.date().utcOffset(p).set("year",i).set("month",o).set("date",c).set("hour",l).set("minute",u).set("second",d).isAfter(tr.date())}}},function(t,r,a){"use strict";var i,o=a(36),c=a(502),l=o.default.createEntityActions(c.a);l.save,l.fetch,l.fetchPage,l.fetchAll,l.flush,l.delete;r.a=i=Object.assign({},l,{toggleArchived:function toggleArchived(t){var r=t.get("id");return t.get("archived")?i.save({id:r,archived:!1}):i.delete({id:r})},removePublicDatafile:function removePublicDatafile(t){return Object(o.requester)().one("environments",t).all("datafile").all("remove_from_cdn").post()},toggleSecure:function toggleSecure(t){return Object(o.requester)().one("environments",t).all("secure").post()}})},,,,function(t,r,a){"use strict";a.r(r),a.d(r,"mountedComponent",(function(){return i})),a.d(r,"mountedComponentId",(function(){return o})),a.d(r,"navigationController",(function(){return c})),a.d(r,"queuedComponent",(function(){return l}));var i=function mountedComponent(t){return[["uiRegions",t,"component"],function(t){return t&&t.component}]},o=function mountedComponentId(t){return["uiRegions",t,"componentId"]},c=function navigationController(t){return["uiRegions",t,"navigationController"]},l=function queuedComponent(t){return["uiRegions","componentsToMount",t]},u={mountedComponent:i,mountedComponentId:o,navigationController:c,queuedComponent:l};r.default=u},function(t,r,a){"use strict";var i=a(1340),o=a.n(i),c=a(42),l=a.n(c),u=a(3),d=a(469),p=a(185),m=a(299),g=a(260),h=a(630),y=a(159);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var v;function logMessage(t){for(var r,a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];(r=console).log.apply(r,["[PUBLIC API CONSUMER] ".concat(t)].concat(i))}function getTokenName(){var t=l.a.get("account_info.account_id");return"".concat(y.b.TOKEN_NAME_PREFIX,".").concat(t)}function getToken(){var t=window.localStorage.getItem(getTokenName());if(!t)return{};try{return JSON.parse(t)}catch(t){return logMessage("Token could not be deseralized.",t),{}}}function getTimeToTokenExpiration(){var t=getToken().expires;return new Date(t).getTime()-Date.now()}function ensureValidTokenExists(){var t=getToken().token;if(function isValidTokenAvailable(){return getToken().token&&getTimeToTokenExpiration()>=0}()){var r=getTimeToTokenExpiration();logMessage("Non-expired token found. Scheduling a token refresh in ".concat(r/1e3,"s."));var a=u.default.evaluate(h.a.scheduledRefreshTimer);a&&(u.default.dispatch(m.a.PUBLIC_API_CONSUMER_CLEAR_REFRESH_TIMEOUT),clearTimeout(a));var i=setTimeout((function(){logMessage("Executing automatically-scheduled token refresh now."),u.default.dispatch(m.a.PUBLIC_API_CONSUMER_CLEAR_REFRESH_TIMEOUT),getNewToken().catch((function(t){g.a.capturePublicApiError(t),g.a.isExpiredSessionError(t)&&v.triggerPageReload()}))}),r);return u.default.dispatch(m.a.PUBLIC_API_CONSUMER_SET_REFRESH_TIMEOUT,i),Promise.resolve()}return logMessage(t?"Expired token found. Fetching a new token.":"Token not found. Fetching a new token."),getNewToken().catch((function(t){return g.a.capturePublicApiError(t),g.a.isExpiredSessionError(t)&&v.triggerPageReload(),Promise.reject(t)}))}function registerNewToken(t,r){var a=Date.now()+1e3*(r-1800);!function setToken(t,r){logMessage("Saving token to local storage.");var a=JSON.stringify({token:t,expires:r.toISOString()});window.localStorage.setItem(getTokenName(),a)}(t,new Date(a))}function makeRequestToPublicApi(t){var r=function generateRequestUri(t){var r=t.entityName,a=t.entityId,i=t.queryParams,c=void 0===i?{}:i,l="/v2/".concat(r).concat(a?"/".concat(a):""),u=Object.entries(c).reduce((function(t,r){var a,i=_slicedToArray(r,2),c=i[0],l=i[1];return a=Array.isArray(l)?l.map((function(t){return"".concat(o()(c),"=").concat(t)})):["".concat(o()(c),"=").concat(l)],[].concat(_toConsumableArray(t),_toConsumableArray(a))}),[]).join("&");return"".concat(l).concat(u?"?".concat(u):"")}(t),a={headers:t.headers,method:t.httpVerb};return["PATCH","POST"].includes(t.httpVerb)&&t.entity&&(a.body=JSON.stringify(t.entity)),fetchWithPublicApiToken(r,a)}function attemptToGetNewToken(t){var r=document.createElement("iframe");r.style.display="none",r.src=function getAuthorizationUrl(){var t=l.a.get("env.HOST_URL"),r=l.a.get("csrf"),a=encodeURIComponent(JSON.stringify({csrf:r,parentHost:t})),i=l.a.get("env.PUBLIC_API_CLIENT_ID"),o="".concat(t,"/oauth2/authorize"),c=l.a.get("env.PUBLIC_API_REDIRECT_URL");return"".concat(o,"?client_id=").concat(i,"&redirect_uri=").concat(c,"&response_type=token&scopes=all&state=").concat(a)}();var a=function waitForNextIframeMessage(t){return new Promise((function(r,a){var i,o=function messageEventHandler(t){t&&t.data&&t.data.type&&[y.b.TOKEN_MESSAGE_DATA_EVENT_TYPE,y.b.TOKEN_MESSAGE_ERROR_EVENT_TYPE,y.b.TOKEN_MESSAGE_SESSION_EXPIRED_EVENT_TYPE].includes(t.data.type)&&(window.removeEventListener("message",messageEventHandler),clearTimeout(i),r(t.data))};window.addEventListener("message",o,!1),i=setTimeout((function(){window.removeEventListener("message",o),a(g.a.createTimeoutError())}),t)}))}(t);return window.document.body.appendChild(r),a.then((function(t){var a,i;if(window.document.body.removeChild(r),t.type===y.b.TOKEN_MESSAGE_DATA_EVENT_TYPE){logMessage("Token message event received.");var o=JSON.parse(decodeURIComponent(t.message.state));if(l.a.get("csrf")!==o.csrf)throw g.a.createCsrfMismatchError();a=t.message.access_token,i=parseInt(t.message.expires_in,10)}else{if(t.type===y.b.TOKEN_MESSAGE_ERROR_EVENT_TYPE)throw g.a.createIframeFailureError(t.message);if(t.type===y.b.TOKEN_MESSAGE_SESSION_EXPIRED_EVENT_TYPE)throw g.a.createExpiredSessionError()}return{didTimeout:!1,accessToken:a,expiresIn:i}}),(function(t){throw window.document.body.removeChild(r),t}))}function isPublicApiAvailable(){var t=l.a.get("env.PUBLIC_API_CLIENT_ID"),r=l.a.get("env.HOST_URL"),a=l.a.get("env.PUBLIC_API_HOST"),i=l.a.get("env.PUBLIC_API_REDIRECT_URL");return!!(t&&r&&a&&i)}function canGetToken(){return!!l.a.get("account_info.account_id")}function getNewToken(){if(!isPublicApiAvailable()||!canGetToken())return Promise.reject(new Error("Public API tokens cannot be fetched in this environment."));var t=u.default.evaluate(h.a.refreshLock);if(t)return logMessage("A token is already being fetched. Blocking new fetch request."),t;var r=new Promise((function(t,r){var a=1;!function attemptToGetNewTokenOrRetry(){logMessage("Beginning request to fetch token (attempt ".concat(a," of ").concat(y.b.TOKEN_FETCH_MAX_ATTEMPTS,").")),attemptToGetNewToken(1e3*(y.b.TOKEN_FETCH_TIMEOUT_SECONDS+(a-1)*y.b.TOKEN_FETCH_TIMEOUT_RETRY_INCREMENT)).then((function(r){var i=r.accessToken,o=r.expiresIn;Object(p.trackFrontdoorTokenRequest)({didSucceed:!0,retries:a-1,maxAttempts:y.b.TOKEN_FETCH_MAX_ATTEMPTS}),registerNewToken(i,o),t(),ensureValidTokenExists(),u.default.dispatch(m.a.PUBLIC_API_CONSUMER_CLEAR_REFRESH_LOCK,!0)}),(function(t){if(t&&g.a.isTimeoutError(t)){if(a<y.b.TOKEN_FETCH_MAX_ATTEMPTS)return a+=1,logMessage("Public API token fetch request timed out. Retrying..."),void attemptToGetNewTokenOrRetry();r(g.a.createRetryExhaustionError(y.b.TOKEN_FETCH_MAX_ATTEMPTS))}else r(t);Object(p.trackFrontdoorTokenRequest)({didTimeout:t&&g.a.isTimeoutError(t),didLogout:t&&g.a.isExpiredSessionError(t),didError:t&&!g.a.isTimeoutError(t)&&!g.a.isExpiredSessionError(t),retries:a-1,maxAttempts:y.b.TOKEN_FETCH_MAX_ATTEMPTS}),u.default.dispatch(m.a.PUBLIC_API_CONSUMER_CLEAR_REFRESH_LOCK,!1)}))}()}));return u.default.dispatch(m.a.PUBLIC_API_CONSUMER_SET_REFRESH_LOCK,r),r}function fetchWithPublicApiToken(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!isPublicApiAvailable()||!canGetToken())return Promise.reject(new Error("Cannot make public API requests in this environment."));var a=u.default.evaluate(h.a.initializationLock);return a.then(v.ensureValidTokenExists).then((function(){return u.default.evaluate(h.a.refreshLock)||Promise.resolve()})).then((function(){var a=r;a.headers||(a.headers={}),a.headers=_extends({},a.headers,{Authorization:"Bearer ".concat(getToken().token)});var i=l.a.get("env.PUBLIC_API_HOST"),o=t.startsWith("/")?"":"/",c="".concat(i).concat(o).concat(t);return logMessage("Making request to ".concat(c," using token.")),fetch(c,a).then((function(t){if(logMessage("Request to ".concat(c," responded (HTTP ").concat(t.status," ").concat(t.statusText,")")),!t.ok){var r=g.a.createErrorForFailedHttpResponse(t,getToken(),u.default.evaluate(h.a.lastRefreshTime),u.default.evaluate(h.a.lastRefreshSucceeded));403===t.status&&(logMessage("Clearing token due to request failure"),v.clearCurrentToken(),r.tags.didClearToken=!0),g.a.capturePublicApiError(r)}return t}))}))}r.a=v={init:function init(){if(isPublicApiAvailable()&&canGetToken())return d.a.waitForSelector("body").then(ensureValidTokenExists).then((function(){logMessage("Initialization succeeded. Clearing initialization lock."),u.default.dispatch(m.a.PUBLIC_API_CONSUMER_CLEAR_INITIALIZATION_LOCK)})).catch((function(t){logMessage("Initialization failed. Reason: ".concat(t.message)),u.default.dispatch(m.a.PUBLIC_API_CONSUMER_CLEAR_INITIALIZATION_LOCK,Promise.reject(t))}))},getNewToken:getNewToken,fetchWithPublicApiToken:fetchWithPublicApiToken,isPublicApiAvailable:isPublicApiAvailable,canGetToken:canGetToken,fetchOne:function fetchOne(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.queryParams,o=a.headers;if(!r)throw new Error("Must specify entity ID to fetch an entity.");return makeRequestToPublicApi({entityName:t,entityId:r,queryParams:i,headers:o,httpVerb:"GET"})},fetchPage:function fetchPage(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.queryParams,i=r.headers;return makeRequestToPublicApi({entityName:t,queryParams:a,headers:i,httpVerb:"GET"})},save:function save(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.queryParams,o=a.headers;return makeRequestToPublicApi({entityName:t,entity:r,entityId:r.id,queryParams:i,headers:o,httpVerb:r.id?"PATCH":"POST"})},archive:function archive(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=a.queryParams,o=a.headers;if(!r)throw new Error("Must specify entity ID to archive an entity.");return makeRequestToPublicApi({entityName:t,entityId:r,queryParams:i,headers:o,httpVerb:"DELETE"})},triggerPageReload:function triggerPageReload(){window.location.reload()},ensureValidTokenExists:ensureValidTokenExists,clearCurrentToken:function clearCurrentToken(){window.localStorage.removeItem(getTokenName())}}},function(t,r,a){"use strict";a.r(r);var i=a(35);r.default=function(t,r){(function shouldUseDefault(){return 1===r.button||r.ctrlKey||r.shiftKey||r.metaKey})()||(r.preventDefault(),i.default.go(t))}},function(t,r,a){"use strict";a.r(r);var i=a(1266),o=a.n(i);a.d(r,"actions",(function(){return o.a}));var c=a(1267),l=a.n(c);a.d(r,"fns",(function(){return l.a}));var u=a(1268),d=a.n(u);a.d(r,"getters",(function(){return d.a})),r.default={actions:o.a,fns:l.a,getters:d.a}},function(t,r,a){"use strict";a.r(r),a.d(r,"keyFieldLocations",(function(){return i})),a.d(r,"dcpSteps",(function(){return o})),a.d(r,"ALLOWED_FILE_EXTENSIONS",(function(){return c})),a.d(r,"ALLOWED_FILE_TYPES",(function(){return l})),a.d(r,"FILE_SIZE_LIMIT_IN_BYTES",(function(){return u}));var i={COOKIE:"cookie",JS_VARIABLE:"js_variable",QUERY_PARAM:"query_param",UID:"uid"},o={FLOW_INTRO:"flow-intro",FLOW_CONFIGURE_DATASOURCE:"flow-configure-datasource",FLOW_EDIT_ATTRIBUTES:"flow-edit-attributes",FLOW_DATASOURCE_UPLOAD:"flow-datasource-upload"},c=["csv","tsv"],l=["text/csv","text/tab-separated-values"],u=5e6;r.default={ALLOWED_FILE_TYPES:l,ALLOWED_FILE_EXTENSIONS:c,dcpSteps:o,FILE_SIZE_LIMIT_IN_BYTES:u,keyFieldLocations:i}},function(t,r,a){"use strict";var i,o=a(1),c=a.n(o),l=a(0),u=a.n(l),d=a(32),p=a(9),m=a.n(p),g=a(31),h=a(201),y=a.n(h),v=a(2461);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var _="android",E="csharp",b="flutter",T="go",S="ios",C="java",I="javascript",A="php",O="python",P="react",R="ruby",w="tv_os",N="agent",L=(_defineProperty(i={},_,{title:"Android SDK",value:_}),_defineProperty(i,E,{title:"C# SDK",value:E}),_defineProperty(i,b,{title:"Flutter SDK",value:b}),_defineProperty(i,T,{title:"Go SDK",value:T}),_defineProperty(i,S,{title:"iOS SDK",value:S}),_defineProperty(i,C,{title:"Java SDK",value:C}),_defineProperty(i,I,{title:"Javascript SDK",value:I}),_defineProperty(i,A,{title:"PHP SDK",value:A}),_defineProperty(i,O,{title:"Python SDK",value:O}),_defineProperty(i,P,{title:"React SDK",value:P}),_defineProperty(i,R,{title:"Ruby SDK",value:R}),_defineProperty(i,w,{title:"tvOS SDK",value:w}),_defineProperty(i,N,{title:"Agent",value:N}),i),x=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(CodeSamplePicker,t);var r=_createSuper(CodeSamplePicker);function CodeSamplePicker(t){var a,i;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,CodeSamplePicker),(a=r.call(this,t)).shouldShowCode=function(t){return!a.props.showMobileOnly||"android"===t||"ios"===t},a.renderSDKCode=function(t){return a.shouldShowCode(t)?u.a.createElement(v.a,{getCodeSample:a.props.getCodeSample,sdk:a.state.selectedSDK,showMobileOnly:a.props.showMobileOnly}):u.a.createElement("div",{className:"soft--sides push--top","data-test-section":"code-sample-picker-upgrade-message"},"Upgrade your license to include Full Stack and take advantage of other platforms.")};try{i=y.a.getItem("code_sample_picker_selected_sdk")}catch(t){console.error(t)}var o=t.showMobileOnly?"android":"javascript",c=Object(g.isFeatureEnabled)("flutter_sdk_live"),l=_extends({},L);return c||delete l[b],i&&i===b&&!c&&(i=null),a.state={selectedSDK:i||o,sdkDropdownOptions:l},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(CodeSamplePicker,[{key:"componentDidUpdate",value:function componentDidUpdate(t,r){var a=this.state.selectedSDK;if(a!==r.selectedSDK)try{y.a.setItem("code_sample_picker_selected_sdk",a)}catch(t){console.error(t)}}},{key:"render",value:function render(){var t=this,r=this.props,a=r.description,i=r.isHero,o=r.title,c=this.state,l=c.selectedSDK,p=c.sdkDropdownOptions;return u.a.createElement("div",{className:"lego-grid","data-test-section":"code-sample-picker"},u.a.createElement("div",{className:"soft-double--left width--1-1 push--top"},u.a.createElement("div",{className:m()({"push--bottom":!i,"push-triple--bottom":i})},u.a.createElement("div",{className:"push--bottom","data-test-section":"code-sample-picker-title"},i?u.a.createElement("h2",null,o):u.a.createElement("h3",null,o)),u.a.createElement("p",{"data-test-section":"code-sample-picker-description"},a)),u.a.createElement(d.a,{arrowIcon:"down",buttonContent:p[l].title,style:"outline",testSection:"code-samples-dropdown",width:200},u.a.createElement(d.a.Contents,null,Object.values(p).map((function(r){return u.a.createElement(d.a.ListItem,{key:r.value},u.a.createElement(d.a.BlockLink,{onClick:function onSDKChange(){return t.setState({selectedSDK:r.value})},testSection:"code-sample-option-".concat(r.value)},u.a.createElement(d.a.BlockLinkText,{isItemSelected:l===r.value,text:r.title})))})))),this.renderSDKCode(l)))}}]),CodeSamplePicker}(u.a.Component);x.propTypes={description:c.a.oneOfType([c.a.node,c.a.string]),getCodeSample:c.a.func.isRequired,isHero:c.a.bool,showMobileOnly:c.a.bool.isRequired,title:c.a.string},x.defaultProps={isHero:!1},r.a=x},function(t,r,a){"use strict";a.r(r);var i=a(41),o=a(509);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a);r.default=_extends({},c,{byExperimentId:function byExperimentId(t){return[c.entityCache,function(r){return r.toList().filter((function(r){return r.get("layer_experiment_id")===t&&!r.get("archived")})).sortBy((function(t){return t.get("id")}))}]}})},function(t,r,a){"use strict";var i=a(3),o=a(185),c=a(1031),l=a(527),u=a(1032);r.a={trackCacheHit:function trackCacheHit(t){if(i.default.evaluate(c.a.isTrackingCacheHits)){var r=i.default.evaluate(c.a.entitiesWithCacheHits);r.includes(t)||(i.default.dispatch(l.a.TRACK_CACHE_HIT,{entity:t}),o.default.addGlobalCustomAttributes(u.a.CACHE_TRACKING_ATTRIBUTE_KEY,r.add(t).toArray().sort().join(",")))}},trackCachedBlockingApiCallsForRoute:function trackCachedBlockingApiCallsForRoute(t){var r=i.default.evaluate(c.a.entitiesWithCacheHits).intersect(t);o.default.addGlobalCustomAttributes(u.a.BLOCKING_CACHE_TRACKING_ATTRIBUTE_KEY,r.toArray().sort().join(","))},trackRouteStart:function trackRouteStart(){i.default.dispatch(l.a.START_TRACKING_CACHE_HITS),o.default.addGlobalCustomAttributes(u.a.CACHE_TRACKING_ATTRIBUTE_KEY,"")},trackRouteComplete:function trackRouteComplete(){i.default.dispatch(l.a.STOP_TRACKING_CACHE_HITS)}}},function(t,r,a){"use strict";a.d(r,"b",(function(){return showNotification})),a.d(r,"c",(function(){return showPersistentNotification})),a.d(r,"a",(function(){return clearPersistentNotification}));var i=a(3),o=a(469),c=a(386),l=function whenManagerReady(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];var c=function waitForManager(){return Object(o.b)(getNotificationManager,3,5).then(getNotificationManager)},l=getNotificationManager();l?l[t].apply(l,a):c().then((function(r){return r[t].apply(r,a)}))};function getNotificationManager(){var t=i.default.evaluate(c.a.notificationManager);return t||console.warn("No NotificationManager component instantiated and registered globally"),t}function showNotification(t){l("showNotification",t)}function showPersistentNotification(t){l("showPersistentNotification",t)}function clearPersistentNotification(t){l("clearPersistentNotification",t)}},function(t,r,a){"use strict";a.r(r);var i=a(4),o=a.n(i),c=a(65),l=a(3),u=a(668),d=a.n(u),p=a(5),m=a(392),g=a.n(m),h=a(38),y=a(1052),v=a(14),_=a(18),E=a(74),b=a(1006),T=a(49),S=a(694),C=a(2514),I={replace:!0,template:a.n(C).a,computed:{backButtonText:function backButtonText(){var t=this.isNewChange?tr("Create"):tr("Changes"),r={"p13n-change-editor-sidebar":t,"p13n-insert-html-sidebar":t,"p13n-insert-image-sidebar":t,"p13n-redirect-editor-sidebar":t,"p13n-widget-config-sidebar":t};return r[this.$parent.$options.componentId]?r[this.$parent.$options.componentId]:tr("Changes")},disableSaveButton:function disableSaveButton(){return!this.changeIsDirty||!this.canUpdateLayerExperiment&&!this.canUpdateLayerExperimentWithExtension||this.isEditorReadOnly},isABTestLayer:d.a.isABTest,isPersonalizationLayer:d.a.isPersonalizationCampaign,sidebarTitle:function sidebarTitle(){var t={"p13n-change-editor-sidebar":tr("Element Change"),"p13n-change-selector-sidebar":tr("Create Change"),"p13n-insert-html-sidebar":tr("Insert HTML"),"p13n-insert-image-sidebar":tr("Insert Image"),"p13n-redirect-editor-sidebar":tr("Redirect"),"p13n-widget-config-sidebar":this.currentlyEditingPlugin?this.currentlyEditingPlugin.config.name:""};return t[this.$parent.$options.componentId]?t[this.$parent.$options.componentId]:""},getBrandBlueDark:function getBrandBlueDark(){return c.brandBlueDark}},methods:{handleBackButtonClick:function handleBackButtonClick(){switch(this.$parent.$options.componentId){case"p13n-change-editor-sidebar":case"p13n-insert-html-sidebar":case"p13n-insert-image-sidebar":case"p13n-redirect-editor-sidebar":case"p13n-widget-config-sidebar":var t=l.default.evaluateToJS(_.getters.activeFrameId),r=l.default.evaluateToJS(_.getters.currentlyEditingActionFormatted(!0));E.actions.applyChanges(t,r),this.showCorrectSidebar(this.changeListSidebarComponentConfig);break;default:this.showChangeListSidebar(this.changeListSidebarComponentConfig)}},handleSaveButtonClick:function handleSaveButtonClick(){switch(this.$parent.$options.componentId){case"p13n-widget-config-sidebar":this.saveWidgetChange();break;case"p13n-redirect-editor-sidebar":this.saveChangeAndShowChangeListSidebarAndRefreshCurrentIFrame(this.changeListSidebarComponentConfig);break;default:this.saveChangeAndShowChangeListSidebar(this.changeListSidebarComponentConfig)}},saveWidgetChange:function saveWidgetChange(){var t=this,r=g.a.sanitizeFromVueSideEffects(this.editingChange);p.default.loadingWhen("widget-editor-sidebar",_.actions.saveWidgetChange(r).then((function(){t.showChangeListSidebar(t.changeListSidebarComponentConfig)})))}},created:function created(){l.default.bindVueValues(this,{canUpdateLayerExperiment:[v.getters.project,T.fns.canUpdateLayerExperiment],canUpdateLayerExperimentWithExtension:[v.getters.project,T.fns.canUpdateLayerExperimentWithExtension],changeListSidebarComponentConfig:_.getters.changeListSidebarComponentConfig,currentLayer:h.getters.layer,currentProjectName:v.getters.name,currentlyEditingChange:_.getters.currentlyEditingChange,currentlyEditingChangeIsDirty:_.getters.currentlyEditingChangeIsDirty,currentlyEditingPlugin:y.getters.data,isEditorReadOnly:_.getters.isEditorReadOnly,experienceOrExperimentName:_.getters.currentExperimentOrSectionDisplayName,selectedVariationName:[_.getters.selectedVariationId,_.getters.variationsInCurrentLayerExperimentOrSection,function(t,r){var a=r.find((function(r){return r.get("variation_id")===t}));return a&&a.get("name")?a.get("name"):""}]})},ready:function ready(){p.default.renderReactComponent(this,{component:S.a,el:this.$$.concurrentEditingContainer,dataBindings:{entityId:_.getters.currentLayerExperimentOrSectionId}})}};r.default=o.a.merge({},b.a,I)},function(t,r,a){"use strict";r.a={activeVersion:["uiVersion","activeVersion"],deployedVersionId:["uiVersion","deployedVersionId"]}},function(t,r,a){"use strict";a.d(r,"a",(function(){return $broadcast})),a.d(r,"c",(function(){return $on})),a.d(r,"b",(function(){return $off}));var i=window.listeners=window.listeners||new Map;function $broadcast(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(!i.get(t))return console.warn("[Event System] No handlers registered for eventType ".concat(t)),!1;i.get(t).forEach((function(t){return t.apply(void 0,a)}))}function $on(t,r){if(t&&"function"==typeof r)return i.get(t)||i.set(t,new Set),i.get(t).add(r),function(){return $off(t,r)};console.warn("[Event System] $on expects an eventType<String> and a handler<function>, received: ".concat(t," - ").concat(r))}function $off(t,r){if(!i.get(t))return console.warn("[Event System] No handlers registered for eventType ".concat(t)),!1;void 0!==r?i.get(t).delete(r):i.get(t).clear()}},function(t,r,a){"use strict";a.r(r);var i=a(3),o=a(36),c=a(117),l=a(68),u=a(509),d=a(406);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var p=o.default.createEntityActions(u.a),m=o.default.createEntityActions(Object.assign({},u.a,{isRelationshipEntity:!0,isSubresource:!0,parents:[{entity:"experiment_sections",key:"id"},{entity:"variations",key:"variation_id"},{entity:"views",entityName:"actions",key:"view_id"}]}));r.default=_extends({},p,{cleanAndSaveAction:function cleanAndSaveAction(t){t.changes.forEach((function(t){delete t.status}));for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return m.save.apply(m,[t].concat(a))},save:function save(t){var r=l.default.cleanActionsJSON(t);return p.save(r)},archive:function archive(t){return this.save({id:t.id,archived:!0})},deleteSection:function deleteSection(t,r){var a=this.archive(t),i=r.section_ids.filter((function(r){return r!==t.id})),o=c.default.save({id:r.id,section_ids:i});return Promise.all([a,o])},createNewVariationWithRedistributedTraffic:function createNewVariationWithRedistributedTraffic(t,r){var a={name:t,actions:[]},i=Object.assign({},r);return i.variations.push(a),i.variations=l.default.redistributeWithNewVariationTraffic(i.variations),this.save(i)},renameVariationInSection:function renameVariationInSection(t,r,a){var o=i.default.evaluate(d.default.byId(t)).get("variations").map((function(t){return t.get("variation_id")===r?t.set("name",a):t}));return this.save({id:t,variations:o.toJS()})},deleteVariationById:function deleteVariationById(t,r){var a=t.get("variations"),i=a.findIndex((function(t){return t.get("variation_id")===r})),o=a.getIn([i,"weight"]),c=a.splice(i,1);return c=l.default.redistributeStoppedVariationTraffic(c.toJS(),o),this.save({id:t.get("id"),variations:c})}})},,function(t,r,a){"use strict";a.r(r),a.d(r,"dimension_status",(function(){return i})),a.d(r,"NON_STANDARD_DIMENSIONS",(function(){return o}));var i={ACTIVE:"Active",INACTIVE:"Inactive"},o=["behavior","default_behavior","dynamic_customer_profile","custom_attribute","custom_dimension","predicted_intent","third_party_dimension","list"];r.default={dimension_status:i,NON_STANDARD_DIMENSIONS:o}},function(t,r,a){var i=a(4),o=a(36),c=a(2).toImmutable,l=a(559);i.extend(r,o.createEntityGetters(l)),r.getUngroupedList=function(t){return[r.entityCache,function(r){return r.has(t)?r.getIn([t,"options"]):c([])}]},r.getList=function(t){return[r.entityCache,function(r){return r.getIn([t,"options"]).map((function(t){return t.get("value")}))}]}},,function(t,r,a){"use strict";a.d(r,"a",(function(){return l}));var i=a(2),o=a(4),c=a.n(o),l=function deepEqual(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(a,o){var l=window.performance.now(),u=c.a.some(this.props,(function(r,o){if(t.includes(o))return!1;var l=a[o];return Object(i.isImmutable)(r)?!i.default.is(r,l):!c.a.isEqual(r,l)})),d=c.a.some(this.state,(function(t,a){if(r.includes(a))return!1;var l=o[a];return Object(i.isImmutable)(t)?!i.default.is(t,l):!c.a.isEqual(t,l)})),p=window.performance.now()-l;return p>10&&console.warn("[shouldComponentUpdate deepEqual] Comparison took ".concat(p,"ms")),u||d}}},function(t,r,a){"use strict";var i={CLICK:tr("Click"),CUSTOM_EVENT:tr("Custom Event"),ENGAGEMENT:tr("Built-in"),PAGEVIEW:tr("Pageview"),REVENUE:tr("Built-in"),MOBILE_TAP_EVENT_TYPE:tr("Tap"),MOBILE_VIEW_EVENT_TYPE:tr("View"),MOBILE_SESSION_GOAL:tr("Built-in"),MOBILE_SESSION_LENGTH_GOAL:tr("Built-in"),MOBILE_NUM_SESSION_GOAL:tr("Built-in")},o={CLICK:0,CUSTOM_EVENT:1,ENGAGEMENT:2,PAGEVIEW:3,REVENUE:4,MOBILE_TAP_EVENT_TYPE:5,MOBILE_VIEW_EVENT_TYPE:6,MOBILE_SESSION_GOAL:7,MOBILE_SESSION_LENGTH_GOAL:8,MOBILE_NUM_SESSION_GOAL:9},c=[o.ENGAGEMENT,o.REVENUE,o.MOBILE_SESSION_GOAL,o.MOBILE_SESSION_LENGTH_GOAL,o.MOBILE_NUM_SESSION_GOAL];r.a={TypeNames:i,TypeCodes:o,DefaultGoals:c,MatchTypeCodes:{EXACT:1,REGEX:2,SIMPLE:3,SUBSTRING:4}}},function(t,r,a){"use strict";r.a={entity:"webhooks",fields:{id:null,project_id:null,url:null,active:null,validated:null,events:[],secret:null},parent:{entity:"projects",key:"project_id"}}},function(t,r,a){"use strict";var i=a(2),o=a(42),c=a.n(o),l=a(308),u=a(13),d=a(356),p=a(231),m=a(410),g=a(620),h=a.n(g),y=a(318),v=a(678),_=a.n(v).a.get("use_local_bundle");r.a={defaultAttributes:function defaultAttributes(t){return[u.default.project,p.a.entityCache,l.default.entityCache,m.a.deployedVersionId,m.a.activeVersion,y.a.routesCompleted,y.a.visualRoutesChanged,function(r,a,o,l,u,p,m){var g=r||i.default.Map(),y=c.a.get("env.VERSION_NUMBER")&&c.a.get("env.VERSION_NUMBER").split(".")[0],v=null,E=null,b=null,T=null;(t=t||{}).isRouting&&(v="".concat(t.fromPath," - ").concat(t.toPath),E="".concat(h()(v)),b=h()(t.fromPath),T=h()(t.toPath));var S={use_local_bundle:_,host:c.a.get("env.HOST"),project_id:g.get("id"),project_name:g.get("project_name"),num_projects:a.size,num_audiences:o.size,routes_completed:p,visual_routes_changed:m,is_impersonating:c.a.get("is_impersonating"),app_version:u,stack:d.default.isDesktopApp()?"desktop":"web",deployed_gae_version_id:l,js_bundle_version_id:y,is_js_bundle_current:l===y,is_desktop_app:d.default.isDesktopApp(),desktop_app_version:d.default.getAppVersion(),desktop_app_platform:d.default.getAppPlatform(),is_routing:t.isRouting,navigation:E,navigation_with_ids:v,to_path_no_ids:T,from_path_no_ids:b};return window.optlyFF&&(S=Object.assign(S,window.optlyFF)),S}]}}},function(t,r,a){"use strict";a.d(r,"a",(function(){return getRootVM}));var i=a(3);function getRootVM(){return i.default.evaluate(["uiComponents","rootVM"])}},,function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({P13N_SET_LAYER_HOLDBACK:null,P13N_SET_LAYER_HOLDBACK_INVALID:null})},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({EXPERIMENT_RESULTS_FETCH_SUCCESS:null,EXPERIMENT_VISITOR_COUNT_FETCH_SUCCESS:null,EXPERIMENT_VISITOR_COUNT_FETCH_SUCCESS_BATCH:null})},function(t,r){t.exports=function(t){return{after:tr("after"),append:tr("at the end of"),before:tr("before"),prepend:tr("at the beginning of")}[t]||tr("before")}},function(t,r,a){"use strict";var i=a(36),o=a(959);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a);c.save,c.fetch,c.fetchAll,c.fetchPage,c.fetchAllPages,c.flush,c.delete;r.a=_extends({},c)},function(t,r,a){"use strict";r.a={PROJECT_ROLES:["Viewer","Editor","Restricted Editor","Project Owner","Publisher","Restricted Publisher"],ACCOUNT_ROLES_USER:["User"],ACCOUNT_ROLES_ADMIN:["Administrator"],ACCOUNT_ROLES_NON_ADMIN:["Project Creator","User"],TOTAL_REPORTING_SLOTS:10,TOTAL_REPORTING_SLOTS_CUSTOM_PROJECT:25,LAST_VIEWED_PROJECT_COOKIE_ID:"optimizely_last_viewed_project_id",LIMITED_COOKIE_AGE:7}},function(t,r,a){"use strict";r.a={LOCAL_STORAGE_BYTE_LIMIT:10485760,META_STORE_LOCAL_STORAGE_KEY:"meta_store_local_storage_key"}},function(t,r,a){"use strict";var i=a(2),o=a(805),c=["p13n/concurrency_legacy","entities"],l=["p13n/concurrency_legacy","refsByKeypath"];function concurrencyStateByEntityId(t,r){return[c,function(a){return a.getIn([t,r],i.default.Map())}]}r.a={concurrencyStateByEntityId:concurrencyStateByEntityId,connectionId:["p13n/concurrency_legacy","connectionId"],entities:c,refsByKeypath:l,firebaseRefByKeypath:function firebaseRefByKeypath(t){return[l,function(r){return r.get(t)}]},usersListByEntityId:function usersListByEntityId(t,r){return[concurrencyStateByEntityId(t,r),o.a.userListFromEntity]}}},function(t,r,a){"use strict";r.a={maxVerifiedRevision:function maxVerifiedRevision(t){return["verifier","projectRecords",t,"maxVerifiedRevision"]},isRequestInflight:function isRequestInflight(t){return["verifier","projectRecords",t,"isFetching"]},mostRecentVerificationAttempt:function mostRecentVerificationAttempt(t){return["verifier","projectRecords",t,"mostRecentVerificationAttempt"]},versionRequests:function versionRequests(t){return["verifier","projectRecords",t,"versionRequests"]}}},function(t,r,a){"use strict";var i=a(56),o=a(115);r.a={getV2PlatformText:function getV2PlatformText(t,r){return t&&r?o.a.V2_PLATFORM_TEXT__AB_AND_P13N:t?o.a.V2_PLATFORM_TEXT__P13N_ONLY:r?o.a.V2_PLATFORM_TEXT__AB_ONLY:o.a.V2_PLATFORM_TEXT__AB_AND_P13N},getV1PlatformText:function getV1PlatformText(t,r){return t&&r?o.a.V1_PLATFORM_TEXT__AB_AND_P13N:t?o.a.V1_PLATFORM_TEXT__P13N_ONLY:r?o.a.V1_PLATFORM_TEXT__AB_ONLY:o.a.V1_PLATFORM_TEXT__AB_AND_P13N},getV2FirstRunText:function getV2FirstRunText(t,r,a){return i.default.isWebEdgeProject(a)?{title:o.a.V2_FIRST_RUN_TITLE__EDGE,subtitle:o.a.V2_FIRST_RUN_SUBTITLE__EDGE}:t&&r?{title:o.a.V2_FIRST_RUN_TITLE__AB_AND_P13N,subtitle:o.a.V2_FIRST_RUN_SUBTITLE__AB_AND_P13N}:t?{title:o.a.V2_FIRST_RUN_TITLE__P13N_ONLY,subtitle:o.a.V2_FIRST_RUN_SUBTITLE__P13N_ONLY}:r?{title:o.a.V2_FIRST_RUN_TITLE__AB_ONLY,subtitle:o.a.V2_FIRST_RUN_SUBTITLE__AB_ONLY}:{title:o.a.V2_FIRST_RUN_TITLE__AB_AND_P13N,subtitle:o.a.V2_FIRST_RUN_SUBTITLE__AB_AND_P13N}},getV2FirstRunImage:function getV2FirstRunImage(t,r,a){return i.default.isWebEdgeProject(a)?o.a.V2_FIRST_RUN_IMAGE__EDGE:t&&r?o.a.V2_FIRST_RUN_IMAGE__AB_AND_P13N:t?o.a.V2_FIRST_RUN_IMAGE__P13N_ONLY:r?o.a.V2_FIRST_RUN_IMAGE__AB_ONLY:o.a.V2_FIRST_RUN_IMAGE__AB_AND_P13N},getBundledSnippetText:function getBundledSnippetText(t,r){return t&&!r?{identifier:o.a.BUNDLED_SNIPPET_IDENTIFIER__P13N_ONLY,label:o.a.BUNDLED_SNIPPET_LABEL__P13N_ONLY,description:o.a.BUNDLED_SNIPPET_DESCRIPTION__P13N_ONLY}:{identifier:o.a.BUNDLED_SNIPPET_IDENTIFIER__AB_AND_P13N,label:o.a.BUNDLED_SNIPPET_LABEL__AB_AND_P13N,description:o.a.BUNDLED_SNIPPET_DESCRIPTION__AB_AND_P13N}},getStandaloneSnippetText:function getStandaloneSnippetText(t,r){return t&&!r?{identifier:o.a.STANDALONE_SNIPPET_IDENTIFIER__P13N_ONLY,label:o.a.STANDALONE_SNIPPET_LABEL__P13N_ONLY,description:o.a.STANDALONE_SNIPPET_DESCRIPTION__P13N_ONLY}:{identifier:o.a.BUNDLED_SNIPPET_IDENTIFIER__AB_AND_P13N,label:o.a.STANDALONE_SNIPPET_LABEL__AB_AND_P13N,description:o.a.STANDALONE_SNIPPET_DESCRIPTION__AB_AND_P13N}}}},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({PERFORMANCE_TRACKING_ROUTE_COMPLETE:null,PERFORMANCE_TRACKING_SET_FRONTEND_RENDER_START_TIME:null,PERFORMANCE_TRACKING_SET_ROUTE_START_TIME:null,PERFORMANCE_TRACKING_VISUAL_ROUTES_CHANGED:null})},,function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({METRIC_EDITOR_SET_CURRENTLY_EDITING_METRIC_WRAPPER:null,METRICS_MANAGER_UPDATE_OUTLIER_FILTER:null,METRICS_MANAGER_UPDATE_WORKING_METRIC_WRAPPERS:null,METRICS_MANAGER_RESET_WORKING_METRIC_WRAPPERS:null})},,function(t,r){t.exports={DOMInsertionType:{AFTER:"after",APPEND:"append",BEFORE:"before",PREPEND:"prepend"}}},,,function(t,r,a){"use strict";var i=a(821);a.d(r,"a",(function(){return i.a}));var o=a(1297);a.d(r,"b",(function(){return o.a}));i.a,o.a},,,,,function(t,r,a){var i=a(306),o=a(3379);t.exports=function sanitizeHTML(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Array.isArray(t)){for(var a=0;a<t.length;a++)t[a]=sanitizeHTML(t[a],r);return t}return r?o(i.sanitize(t)):i.sanitize(t)}},function(t,r,a){"use strict";a.d(r,"b",(function(){return I}));var i,o,c,l,u,d,p,m,g,h,y,v,_,E,b=a(17),T=a.n(b),S=a(27),C=a(7);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var I=T()({RULES:null,VARIABLES:null,EXPERIMENT_USAGE:null,SETTINGS:null,HISTORY:null,SDK_SETUP:null}),A=(_defineProperty(v={},C.default.sdkLanguages.PYTHON,(_defineProperty(i={},S.constants.FEATURE_VARIABLE_TYPES.boolean,"  %s = optimizely_client.get_feature_variable('%s', '%s', user_id, attributes)"),_defineProperty(i,S.constants.FEATURE_VARIABLE_TYPES.double,"  %s = optimizely_client.get_feature_variable('%s', '%s', user_id, attributes)"),_defineProperty(i,S.constants.FEATURE_VARIABLE_TYPES.integer,"  %s = optimizely_client.get_feature_variable('%s', '%s', user_id, attributes)"),_defineProperty(i,S.constants.FEATURE_VARIABLE_TYPES.string,"  %s = optimizely_client.get_feature_variable('%s', '%s', user_id, attributes)"),_defineProperty(i,S.constants.FEATURE_VARIABLE_TYPES.json,"  %s = optimizely_client.get_feature_variable_json('%s', '%s', user_id, attributes)"),i)),_defineProperty(v,C.default.sdkLanguages.RUBY,(_defineProperty(o={},S.constants.FEATURE_VARIABLE_TYPES.boolean,"  %s = optimizely_client.get_feature_variable('%s', '%s', user_id, attributes)"),_defineProperty(o,S.constants.FEATURE_VARIABLE_TYPES.double,"  %s = optimizely_client.get_feature_variable('%s', '%s', user_id, attributes)"),_defineProperty(o,S.constants.FEATURE_VARIABLE_TYPES.integer,"  %s = optimizely_client.get_feature_variable('%s', '%s', user_id, attributes)"),_defineProperty(o,S.constants.FEATURE_VARIABLE_TYPES.string,"  %s = optimizely_client.get_feature_variable('%s', '%s', user_id, attributes)"),_defineProperty(o,S.constants.FEATURE_VARIABLE_TYPES.json,"  %s = optimizely_client.get_feature_variable_json('%s', '%s', user_id, attributes)"),o)),_defineProperty(v,C.default.sdkLanguages.JAVASCRIPT,(_defineProperty(c={},S.constants.FEATURE_VARIABLE_TYPES.boolean,"var %s = optimizelyClientInstance.getFeatureVariable('%s', '%s', userId, attributes);"),_defineProperty(c,S.constants.FEATURE_VARIABLE_TYPES.double,"var %s = optimizelyClientInstance.getFeatureVariable('%s', '%s', userId, attributes);"),_defineProperty(c,S.constants.FEATURE_VARIABLE_TYPES.integer,"var %s = optimizelyClientInstance.getFeatureVariable('%s', '%s', userId, attributes);"),_defineProperty(c,S.constants.FEATURE_VARIABLE_TYPES.string,"var %s = optimizelyClientInstance.getFeatureVariable('%s', '%s', userId, attributes);"),_defineProperty(c,S.constants.FEATURE_VARIABLE_TYPES.json,"var %s = optimizelyClientInstance.getFeatureVariableJSON('%s', '%s', userId, attributes);"),c)),_defineProperty(v,C.default.sdkLanguages.JAVA,(_defineProperty(l={},S.constants.FEATURE_VARIABLE_TYPES.boolean,'  Boolean %s = optimizelyClient.getFeatureVariableBoolean("%s", "%s", userId, attributes);'),_defineProperty(l,S.constants.FEATURE_VARIABLE_TYPES.double,'  Double %s = optimizelyClient.getFeatureVariableDouble("%s", "%s", userId, attributes);'),_defineProperty(l,S.constants.FEATURE_VARIABLE_TYPES.integer,'  Integer %s = optimizelyClient.getFeatureVariableInteger("%s", "%s", userId, attributes);'),_defineProperty(l,S.constants.FEATURE_VARIABLE_TYPES.string,'  String %s = optimizelyClient.getFeatureVariableString("%s", "%s", userId, attributes);'),_defineProperty(l,S.constants.FEATURE_VARIABLE_TYPES.json,'  OptimizelyJSON %s = optimizelyClient.getFeatureVariableJSON("%s", "%s", userId, attributes);'),l)),_defineProperty(v,C.default.sdkLanguages.PHP,(_defineProperty(u={},S.constants.FEATURE_VARIABLE_TYPES.boolean,"  $%s = $optimizelyClient->getFeatureVariableBoolean('%s', '%s', $userId, $attributes);"),_defineProperty(u,S.constants.FEATURE_VARIABLE_TYPES.double,"  $%s = $optimizelyClient->getFeatureVariableDouble('%s', '%s', $userId, $attributes);"),_defineProperty(u,S.constants.FEATURE_VARIABLE_TYPES.integer,"  $%s = $optimizelyClient->getFeatureVariableInteger('%s', '%s', $userId, $attributes);"),_defineProperty(u,S.constants.FEATURE_VARIABLE_TYPES.string,"  $%s = $optimizelyClient->getFeatureVariableString('%s', '%s', $userId, $attributes);"),_defineProperty(u,S.constants.FEATURE_VARIABLE_TYPES.json,"  $%s = $optimizelyClient->getFeatureVariableJSON('%s', '%s', $userId, $attributes);"),u)),_defineProperty(v,C.default.sdkLanguages.CSHARP,(_defineProperty(d={},S.constants.FEATURE_VARIABLE_TYPES.boolean,'  var %s = optimizelyClientInstance.GetFeatureVariableBoolean("%s", "%s", userId, attributes);'),_defineProperty(d,S.constants.FEATURE_VARIABLE_TYPES.double,'  var %s = optimizelyClientInstance.GetFeatureVariableDouble("%s", "%s", userId, attributes);'),_defineProperty(d,S.constants.FEATURE_VARIABLE_TYPES.integer,'  var %s = optimizelyClientInstance.GetFeatureVariableInteger("%s", "%s", userId, attributes);'),_defineProperty(d,S.constants.FEATURE_VARIABLE_TYPES.string,'  var %s = optimizelyClientInstance.GetFeatureVariableString("%s", "%s", userId, attributes);'),_defineProperty(d,S.constants.FEATURE_VARIABLE_TYPES.json,'  var %s = optimizelyClientInstance.GetFeatureVariableJSON("%s", "%s", userId, attributes);'),d)),_defineProperty(v,C.default.sdkLanguages.OBJECTIVE_C,(_defineProperty(p={},S.constants.FEATURE_VARIABLE_TYPES.boolean,'NSNumber *%s = [optimizelyClient getFeatureVariableBooleanWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),_defineProperty(p,S.constants.FEATURE_VARIABLE_TYPES.double,'NSNumber *%s = [optimizelyClient getFeatureVariableDoubleWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),_defineProperty(p,S.constants.FEATURE_VARIABLE_TYPES.integer,'NSNumber *%s = [optimizelyClient getFeatureVariableIntegerWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),_defineProperty(p,S.constants.FEATURE_VARIABLE_TYPES.string,'NSString *%s = [optimizelyClient getFeatureVariableStringWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),_defineProperty(p,S.constants.FEATURE_VARIABLE_TYPES.json,'OptimizelyJSON *%s = [optimizelyClient getFeatureVariableJSONWithFeatureKey:@"%s" variableKey: @"%s" userId: userId attributes: nil error: nil];'),p)),_defineProperty(v,C.default.sdkLanguages.SWIFT,(_defineProperty(m={},S.constants.FEATURE_VARIABLE_TYPES.boolean,'      let %s = try optimizelyClient?.getFeatureVariableBoolean(featureKey: "%s", variableKey: "%s", userId: userId, attributes: attributes)'),_defineProperty(m,S.constants.FEATURE_VARIABLE_TYPES.double,'      let %s = try optimizelyClient?.getFeatureVariableDouble(featureKey: "%s", variableKey: "%s", userId: userId, attributes: attributes)'),_defineProperty(m,S.constants.FEATURE_VARIABLE_TYPES.integer,'      let %s = try optimizelyClient?.getFeatureVariableInteger(featureKey: "%s", variableKey: "%s", userId: userId, attributes: attributes)'),_defineProperty(m,S.constants.FEATURE_VARIABLE_TYPES.string,'      let %s = try optimizelyClient?.getFeatureVariableString(featureKey: "%s", variableKey: "%s", userId: userId, attributes: attributes)'),_defineProperty(m,S.constants.FEATURE_VARIABLE_TYPES.json,'      let %s = try optimizelyClient?.getFeatureVariableJSON(featureKey: "%s", variableKey: "%s", userId: userId, attributes: attributes)'),m)),_defineProperty(v,C.default.sdkLanguages.GO,(_defineProperty(g={},S.constants.FEATURE_VARIABLE_TYPES.boolean,'\t%s, err := optimizelyClient.GetFeatureVariableBoolean("%s", "%s", userContext)'),_defineProperty(g,S.constants.FEATURE_VARIABLE_TYPES.double,'\t%s, err := optimizelyClient.GetFeatureVariableDouble("%s", "%s", userContext)'),_defineProperty(g,S.constants.FEATURE_VARIABLE_TYPES.integer,'\t%s, err := optimizelyClient.GetFeatureVariableInteger("%s", "%s", userContext)'),_defineProperty(g,S.constants.FEATURE_VARIABLE_TYPES.string,'\t%s, err := optimizelyClient.GetFeatureVariableString("%s", "%s", userContext)'),_defineProperty(g,S.constants.FEATURE_VARIABLE_TYPES.json,'\t%s, err := optimizelyClient.GetFeatureVariableJSON("%s", "%s", userContext)'),g)),_defineProperty(v,C.default.sdkLanguages.REACT,(_defineProperty(h={},S.constants.FEATURE_VARIABLE_TYPES.boolean,["            const %1$s = variables['%3$s'];"]),_defineProperty(h,S.constants.FEATURE_VARIABLE_TYPES.double,["            const %1$s = variables['%3$s'];"]),_defineProperty(h,S.constants.FEATURE_VARIABLE_TYPES.integer,["            const %1$s = variables['%3$s'];"]),_defineProperty(h,S.constants.FEATURE_VARIABLE_TYPES.string,["            const %1$s = variables['%3$s'];"]),_defineProperty(h,S.constants.FEATURE_VARIABLE_TYPES.json,["            const %1$s = variables['%3$s'];"]),h)),_defineProperty(v,C.default.sdkLanguages.AGENT,(_defineProperty(y={},S.constants.FEATURE_VARIABLE_TYPES.boolean,""),_defineProperty(y,S.constants.FEATURE_VARIABLE_TYPES.double,""),_defineProperty(y,S.constants.FEATURE_VARIABLE_TYPES.integer,""),_defineProperty(y,S.constants.FEATURE_VARIABLE_TYPES.string,""),_defineProperty(y,S.constants.FEATURE_VARIABLE_TYPES.json,""),y)),v),O=(_defineProperty(_={},C.default.sdks.PYTHON,["# Check if feature is enabled for user","attributes = {","    # Optional example attributes","    'location': 'california',","    'isAdmin': True","}","","is_enabled = optimizely_client.is_feature_enabled('%s', user_id, attributes)"]),_defineProperty(_,C.default.sdks.RUBY,["# Check if feature is enabled for user","attributes = {","    # Optional example attributes","    'location' => 'california',","    'isAdmin' => true","}","","is_enabled = optimizely_client.is_feature_enabled('%s', user_id, attributes)"]),_defineProperty(_,C.default.sdks.JAVASCRIPT,["// Check if feature is enabled for user","var attributes = {","  // Optional example attributes",'  location: "california",',"  isAdmin: true,","};","","var isEnabled = optimizelyClientInstance.isFeatureEnabled('%s', userId, attributes);"]),_defineProperty(_,C.default.sdks.NODE,["// Check if feature is enabled for user","var isEnabled = optimizelyClient.isFeatureEnabled('%s', userId);"]),_defineProperty(_,C.default.sdks.JAVA,["// Check if feature is enabled for user","Map<String, ?> attributes = new HashMap<String, Object>() {","    {","        // Optional example attributes",'        put("location", "california");','        put("isAdmin", true);',"    }","};","",'Boolean isEnabled = optimizelyClient.isFeatureEnabled("%s", userId, attributes);']),_defineProperty(_,C.default.sdks.PHP,["// Check if feature is enabled for user","$attributes = [",'    "location" => "california",','    "isAdmin" => true',"];","","$isEnabled = $optimizelyClient->isFeatureEnabled('%s', $userId, $attributes);"]),_defineProperty(_,C.default.sdks.CSHARP,["var attributes = new UserAttributes","{",'    {"location", "California" },','    {"isAdmin", true }',"};","",'var isEnabled = optimizelyClientInstance.IsFeatureEnabled("%s", userId, attributes);']),_defineProperty(_,C.default.sdkLanguages.OBJECTIVE_C,["// Check if feature is enabled for user",'BOOL enabled = [optimizelyClient isFeatureEnabledWithFeatureKey:@"%s" userId: userId attributes: nil];']),_defineProperty(_,C.default.sdkLanguages.SWIFT,["// Check if feature is enabled for user","let attributes: OptimizelyAttributes = [","    // Optional example attributes",'    "location": "california",','    "isAdmin": true',"]","",'if let isEnabled = optimizelyClient?.isFeatureEnabled(featureKey: "%s", userId: userId, attributes: attributes), isEnabled {']),_defineProperty(_,C.default.sdks.GO,["attributes := map[string]interface{}{","\t// Optional example attributes",'\t"location": "california",','\t"isAdmin":  true,',"}","userContext := entities.UserContext{","\tID:         userID,","\tAttributes: attributes,","}","",'isEnabled, err := optimizelyClientInstance.IsFeatureEnabled("%s", userContext)']),_defineProperty(_,C.default.sdkLanguages.REACT,["const attributes = {","  // Optional example attributes",'  location: "california",',"  isAdmin: true,","};","","class App extends React.Component {","  render() {","    return (","      <OptimizelyProvider","        optimizely={optimizelyClientInstance}","        timeout={500}","        user={{ id: userId, attributes }}","      >",'        <OptimizelyFeature feature="%s">',"          {(isEnabled, variables) => {"]),_defineProperty(_,C.default.sdkLanguages.AGENT,"curl -X POST \\\n  '{HOST_URL}/v1/activate?featureKey=%s' \\\n  -H 'Content-Type: application/json' \\\n  -H 'X-Optimizely-SDK-Key: \"YOUR-SDK-KEY\"' \\\n  -d '{\n    \"userId\":\"USER_ID\",\n    \"attributes\": {}\n  }'\n"),_),P=(_defineProperty(E={},C.default.sdks.PYTHON,["","if is_enabled:","%s","    # Implement your feature"]),_defineProperty(E,C.default.sdks.RUBY,["","if is_enabled","%s","    # Implement your feature","end"]),_defineProperty(E,C.default.sdks.JAVASCRIPT,["","if (isEnabled) {","%s","  // Implement your feature","}"]),_defineProperty(E,C.default.sdks.NODE,["\n","if (isEnabled) {","%s","  // Show your feature","}"]),_defineProperty(E,C.default.sdks.JAVA,["","if (isEnabled) {","%s","    // Implement your feature","}"]),_defineProperty(E,C.default.sdks.PHP,["","if($isEnabled) {","%s","    // Implement your feature","}"]),_defineProperty(E,C.default.sdks.CSHARP,["","if (isEnabled)","%s","    // Implement your feature","}"]),_defineProperty(E,C.default.sdkLanguages.OBJECTIVE_C,["","if (enabled) {","%s","  // Show your feature","}"]),_defineProperty(E,C.default.sdkLanguages.SWIFT,["    do {","%s","    } catch {","        print(error.localizedDescription)","    }","","    // Implement your feature","}"]),_defineProperty(E,C.default.sdks.GO,["","if isEnabled {","%s","\t// Implement your feature","}"]),_defineProperty(E,C.default.sdkLanguages.REACT,["            if (isEnabled) {","%s","              // Implement your feature","              return <p>Feature enabled! Variable values: {JSON.stringify(variables)}</p>;","            }","          }}","        </OptimizelyFeature>","      </OptimizelyProvider>","    );","  }","}"]),E),R=[C.default.sdkLanguages.CSHARP,C.default.sdkLanguages.GO,C.default.sdkLanguages.JAVA,C.default.sdkLanguages.JAVASCRIPT,C.default.sdkLanguages.OBJECTIVE_C,C.default.sdkLanguages.PHP,C.default.sdkLanguages.REACT,C.default.sdkLanguages.SWIFT];r.a={CAMEL_CASE_LANGS:R,featureEnabledCodeBlocks:O,showFeatureCodeBlocks:P,tabs:I,variableCodeBlocks:A}},function(t,r,a){"use strict";a.r(r),a.d(r,"ConfigureViewSmart",(function(){return R}));var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(9),m=a.n(p),g=a(4),h=a(87),y=a(154),v=a(19),_=a(2),E=a(3),b=a(5),T=a(34),S=a(61),C=a.n(S),I=a(54),A=(a(3609),a(1366)),O=a(856);a(3610);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P="createStandaloneOrSaveWebViewEvent",R=Object(h.b)("metrics_usability")(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ConfigureViewSmart,t);var r=_createSuper(ConfigureViewSmart);function ConfigureViewSmart(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ConfigureViewSmart),(a=r.call(this,t)).state={viewConfiguration:a.props.viewConfiguration,errors:{name:null,edit_url:null,api_name:null,description:null,conditions:[]},isSavingViewEvent:!1},a.saveViewConfiguration=function(){var t=a.state.viewConfiguration,r=a.props.isStandAlone,i=T.default.fns.validateSmartView(t,!0),o=Object(g.cloneDeep)(i);if(o.conditions=Object(g.flatten)(o.conditions).join(""),Object(g.some)(o))return a.setState({errors:i}),Promise.reject();var c=a.props.onSave;a.setState({isSavingViewEvent:!0});var l=t.toJS();a.metrics_usability||(l.conditions=T.default.fns.splitMultilineConditions(t));var u=T.default.actions.save(l).then((function(t){c&&c(t),b.default.showNotification({message:tr("Page saved"),type:"success"}),a.setState({isSavingViewEvent:!1}),C.a.trackMarketoEvent("x_component","setup","view_conditions")})).catch((function(){return a.setState({isSavingViewEvent:!1})}));return t.get("id")||r?(b.default.loadingWhen(P,u),u):(b.default.loadingWhen("createWebEventFromDashboard",u),u)},a.destroy=function(){a.props.onCancel&&a.props.onCancel(),b.default.hideDialog()},a.saveAndCloseDialog=function(){a.saveViewConfiguration().then(b.default.hideDialog,(function(){}))},a.cancelAndCloseDialog=function(){a.destroy()},a.updateViewConfiguration=function(t,r,i){a.setState((function(a,i){var o={viewConfiguration:a.viewConfiguration.set(t,r),errors:a.errors};return Object.prototype.hasOwnProperty.call(a.errors,t)&&"conditions"!==t&&(o.errors[t]=null),o}),i)},a.updateConditionErrors=function(t){a.setState({errors:{conditions:t}})},a.hasUnsavedChanges=function(){return!_.default.is(a.originalView,a.state.viewConfiguration)},a.render=function(){var t=a.state,r=t.errors,i=t.viewConfiguration,o=t.isSavingViewEvent,c=a.props.isStandAlone,u=void 0===c||c,d=!i.get("id"),p=m()({"soft-quad--bottom":!0,"reading-column":u});return a.metrics_usability?l.a.createElement(y.a,{testSection:"configure-view-smart",title:u&&"".concat(d?"New":"Edit"," Page"),onClose:a.cancelAndCloseDialog,footerButtonList:[l.a.createElement(v.a,{style:"plain",key:"cancel",onClick:a.cancelAndCloseDialog,testSection:"configure-view-smart-cancel"},"Cancel"),l.a.createElement(v.a,{style:"highlight",key:"save",isDisabled:!a.hasUnsavedChanges()||o,onClick:a.saveAndCloseDialog,testSection:"configure-view-smart-save"},"".concat(d?"Create":"Save"," Page"))]},l.a.createElement(I.default,{loadingId:P},l.a.createElement("div",{className:"flex--1","data-test-section":"configure-view-smart"},l.a.createElement("div",{className:p},l.a.createElement(A.a,{pageName:i.get("name"),onUpdate:a.updateViewConfiguration,error:r.name}),l.a.createElement(O.a,{viewConfiguration:i,onUpdate:a.updateViewConfiguration,updateConditionErrors:a.updateConditionErrors,errors:r}))))):l.a.createElement(y.a,{testSection:"configure-view-smart",title:u&&"".concat(d?"New":"Edit"," Page"),onClose:a.cancelAndCloseDialog,footerButtonList:[l.a.createElement(v.a,{style:"plain",key:"cancel",onClick:a.cancelAndCloseDialog,testSection:"configure-view-smart-cancel"},"Cancel"),l.a.createElement(v.a,{style:"highlight",key:"save",isDisabled:!a.hasUnsavedChanges()||o,onClick:a.saveAndCloseDialog,testSection:"configure-view-smart-save"},"".concat(d?"Create":"Save"," Page"))]},l.a.createElement(I.default,{loadingId:P},l.a.createElement("div",null,l.a.createElement(A.a,{pageName:i.get("name"),onUpdate:a.updateViewConfiguration,error:r.name}),l.a.createElement(O.a,{viewConfiguration:i,onUpdate:a.updateViewConfiguration,updateConditionErrors:a.updateConditionErrors,errors:r}))))},a.originalView=E.default.evaluate(T.default.getters.byId(t.viewConfiguration.get("id")))||t.viewConfiguration,a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ConfigureViewSmart)}(l.a.Component)).propTypes={viewConfiguration:d.a.object,isStandAlone:d.a.bool,onSave:d.a.func,onCancel:d.a.func},i=o))||i;r.default=R},function(t,r,a){"use strict";var i=a(41),o=a(459),c=Object(i.default)(o.a);r.a=c},function(t,r,a){"use strict";a.r(r),a.d(r,"default",(function(){return T}));var i=a(4),o=a(9),c=a.n(o),l=a(1),u=a.n(l),d=a(0),p=a.n(d),m=a(8),g=a.n(m),h=a(3),y=a(90),v=a.n(y),_=a(74),E=a(220),b=a(2512);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(SelectorInput,t);var r=_createSuper(SelectorInput);function SelectorInput(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,SelectorInput),(a=r.call(this,t)).highlightSelectorInIframe=function(t,r,i){var o=a.props.iframe;o&&(_.actions.unhighlightAllElements(o.id),_.actions.highlightElement({dataOptlyId:r,selector:t,id:o.id,type:i}))},a.addIframeListeners=function(){var t=a.props.iframe;t&&(t.$on(_.enums.IFrameMessageTypes.HOVER,a.onIframeHover),t.$on(_.enums.IFrameMessageTypes.CLICK,a.onIframeClick))},a.removeIframeListeners=function(){var t=a.props.iframe;t&&(t.$off(_.enums.IFrameMessageTypes.HOVER,a.onIframeHover),t.$off(_.enums.IFrameMessageTypes.CLICK,a.onIframeClick))},a.applyNewSelector=function(t){var r=a.props,o=r.onChange,c=r.onEditStop,l=r.selectorInputType;o(t,l),a.setState({isSearching:!1,isEditingText:!1},(function(){var r=a.props.currentSelectorHighlightOptions,o=r.selector,c=r.dataOptlyId;a.highlightSelectorInIframe(Object(i.isUndefined)(o)?t:o,Object(i.isUndefined)(c)?null:c,E.default.IFrameHighlightTypes.SELECTED)})),c()},a.revertToPreviousSelector=function(){var t=a.state.previousSelector,r=a.props,o=r.currentSelectorHighlightOptions,c=r.onEditStop,l=o.selector,u=o.dataOptlyId;a.setState((function(t){return{isSearching:!1,isEditingText:!1,workingSelector:t.previousSelector}})),a.highlightSelectorInIframe(Object(i.isUndefined)(l)?t:l,Object(i.isUndefined)(u)?null:u,E.default.IFrameHighlightTypes.SELECTED),c()},a.onTextEditStart=function(){(0,a.props.onEditStart)(),a.setState((function(t){return{isEditingText:!0,previousSelector:t.workingSelector}}))},a.onTextEdit=function(t){a.setState({workingSelector:t}),a.highlightSelectorInIframe(t,null,E.default.IFrameHighlightTypes.HOVERED)},a.onTextEditRevert=function(){a.revertToPreviousSelector()},a.onTextEditConfirm=function(t){a.applyNewSelector(t)},a.onSearchStart=function(){(0,a.props.onEditStart)(),a.setState((function(t){return{isSearching:!0,previousSelector:t.workingSelector}})),a.addIframeListeners()},a.onSearchCancel=function(){a.revertToPreviousSelector(),a.removeIframeListeners()};var o=a.props,c=o.elementCount,l=o.value;return a.state={elementCount:c,isSearching:!1,isEditingText:!1,workingSelector:l,previousSelector:l},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(SelectorInput,[{key:"componentDidMount",value:function componentDidMount(){var t=this,r=this.props.mountInSearchMode;this.onIframeHover=function(r){t.setState({workingSelector:r.selector})},this.onIframeClick=function(r){t.applyNewSelector(r.selector),t.removeIframeListeners()},r&&this.onSearchStart()}},{key:"componentDidUpdate",value:function componentDidUpdate(t){var r=this.props,a=r.elementCount,i=r.value,o={};i!==t.value&&(o=Object.assign(o,{isSearching:!1,isEditingText:!1,workingSelector:i,previousSelector:t.value})),a!==t.elementCount&&(o=Object.assign(o,{elementCount:a})),Object.keys(o).length&&this.setState(o)}},{key:"componentWillUnmount",value:function componentWillUnmount(){var t=this.props.onEditStop;this.removeIframeListeners(),t()}},{key:"render",value:function render(){var t,r,a=this.props,o=a.iframe,l=a.isDisabled,u=a.placeholder,d=a.value,m=this.state,y=m.elementCount,E=m.isEditingText,T=m.isSearching,S=m.workingSelector,C=E||T?S||"":d||"",I=_.enums.IFrameLoadStatuses.FAILED;return r=(null===(t=h.default.evaluate(v.a.activeFrame))||void 0===t?void 0:t.get("loadStatus"))===I?"No elements found, visual editor failed to load.":g.a.pluralize("1 element matches this selector","{0} elements match this selector",y),p.a.createElement("div",null,p.a.createElement(b.a,{activeFrameId:o?o.id:null,allDisabled:l,applyNewSelector:this.applyNewSelector,onSearchCancel:this.onSearchCancel,onSearchStart:this.onSearchStart,onTextEdit:this.onTextEdit,onTextEditConfirm:this.onTextEditConfirm,onTextEditStart:this.onTextEditStart,onTextEditRevert:this.onTextEditRevert,placeholder:u,handleRevert:this.revertToPreviousSelector,inputDisabled:T,isEditingText:E,isSearching:T,value:C,workingSelector:S}),!T&&!Object(i.isUndefined)(y)&&p.a.createElement("div",{className:c()("lego-form-note",{"lego-form-note--bad-news":!y}),"data-test-section":"element-count"},r))}}]),SelectorInput}(p.a.Component);T.propTypes={currentSelectorHighlightOptions:u.a.object,elementCount:u.a.number,iframe:u.a.object.isRequired,isDisabled:u.a.bool,mountInSearchMode:u.a.bool,onChange:u.a.func.isRequired,onEditStart:u.a.func,onEditStop:u.a.func,placeholder:u.a.string,selectorInputType:u.a.string,value:u.a.string},T.defaultProps={currentSelectorHighlightOptions:{},isDisabled:!1,onEditStart:function onEditStart(){},onEditStop:function onEditStop(){},placeholder:"",mountInSearchMode:!1,value:""}},function(t,r,a){"use strict";a.r(r);var i=a(12),o=a.n(i),c=a(4),l=a.n(c),u=a(93),d=a.n(u),p=a(75),m=a(3),g=a(5),h=a(18),y=a(74),v=a(887),_=a.n(v),E=a(854),b=a(85),T={extraKeys:{"Ctrl-Enter":function CtrlEnter(){},"Ctrl-Space":"autocomplete"},fixedGutter:!1,lineNumbers:!1,lineWrapping:!0,matchBrackets:!0,mode:"css",tabSize:2},S={methods:{applyChangesAndFetchElementInfo:function applyChangesAndFetchElementInfo(){var t=m.default.evaluateToJS(h.default.getters.currentlyEditingActionFormatted(!0,this.currentlyEditingChange));y.actions.applyChangesAndFetchElementInfo(this.activeFrameId,t,this.currentlyEditingChange.selector,this.currentlyEditingChange.id).then(h.default.actions.setElementInfoForChange)},confirmDiscardChanges:function confirmDiscardChanges(t){var r=tr("Leaving will discard your unsaved changes. Are you sure you want to go back?");return g.default.confirm({title:tr("Are you sure you want to discard changes?"),message:t||r,confirmText:tr("Discard Changes"),isWarning:!0})},deleteChange:function deleteChange(t){var r=this;g.default.confirm({title:tr("Are you sure you want to delete these changes?"),message:tr("The deletion will not take effect until the next publish."),confirmText:tr("Delete Changes"),isWarning:!0}).then((function(){var t=r.currentlyEditingChange.name||r.currentlyEditingChange.selector||"",a=h.default.actions.deleteChange(r.currentlyEditingChange.id).then((function(){g.default.showNotification({message:tr("Your changes on the element <b>{0}</b> have been deleted.",t),type:"warning"});var a=m.default.evaluateToJS(h.default.getters.currentlyEditingActionFormatted(!0));y.actions.applyChanges(r.activeFrameId,a),h.default.actions.unsetCurrentlyEditingChange(),b.default.showChangeListSidebar(r.changeListSidebarComponentConfig)}));g.default.loadingWhen("change-editor-sidebar",a)}))},getAttribute:function getAttribute(t){return null!==this.currentlyEditingChange.attributes[t]?this.currentlyEditingChange.attributes[t]:1===this.currentlyEditingChange.elementCount?"style"===t?this.currentlyEditingChange.elementInfo[0].style.cssText||"":this.currentlyEditingChange.elementInfo[0][t]||"":""},getBackgroundImageFromParentElement:function getBackgroundImageFromParentElement(){return this.currentlyEditingChange.elementInfo&&1===this.currentlyEditingChange.elementCount&&this.currentlyEditingChange.elementInfo[0].parentBackground&&this.currentlyEditingChange.elementInfo[0].parentBackground.backgroundImage?h.default.fns.getUrlFromStyleValue(this.currentlyEditingChange.elementInfo[0].parentBackground.backgroundImage):null},getStatusClassForAttribute:function getStatusClassForAttribute(t){return l.a.includes(t,"dirty")?"lego-form-field__item--dirty":l.a.includes(t,"draft")?"lego-form-field__item--draft":l.a.includes(t,"live")?"lego-form-field__item--live":""},handleSelectorUpdateEvent:function handleSelectorUpdateEvent(t){var r=t.selector;this.currentlyEditingChange.selector!==r&&(this.isEditingSelector||this.toggleCodeMirrorComponentsDisabled(!0),E.a.methods.handleSelectorUpdate.call(this,t.event,r),h.default.actions.setChangeEditorCurrentSelectorType(t.instanceIdentifier))},handleToggleSelectorEditing:function handleToggleSelectorEditing(t){h.default.actions.setChangeEditorCurrentSelectorType(t.instanceIdentifier),h.default.actions.setChangeEditorIsEditingSelector(t.isEditing)},initializeCodeMirrorField:function initializeCodeMirrorField(t,r,a,i){var c=this,u=_.a.fromTextArea(t,l.a.extend(Object(p.default)(T),{mode:a}));return d.a.nextTick((function(){u.setSize("auto",parseInt(o()(t.parentElement).css("min-height"),10)),u.on("change",function(t,r,a){!l.a.isEqual(a.text,a.removed)&&void 0!==a.origin&&"setValue"!==a.origin&&this.shouldObserveCodeMirror&&i(t,r.getValue?r.getValue():"")}.bind(c,r)),u.on("scrollCursorIntoView",(function(t,r){r.preventDefault()}))})),u},resizeCodeMirror:function resizeCodeMirror(t,r){r.element.css("width","auto");var a=o()(r.originalElement.context).data("codemirror-ref");this._codeMirrors[a].setSize("auto",o()(r.originalElement.context).height())},restoreSelectorState:function restoreSelectorState(){this.toggleCodeMirrorComponentsDisabled(!1),h.default.actions.setChangeEditorCurrentSelectorType(null);var t=h.default.fns.getHighlighterOptionsForElementChange(this.currentlyEditingChange);E.a.methods.restoreSelectorState.call(this,t.selector,t.dataOptlyId)},revertChangeAttribute:function revertChangeAttribute(t,r){if("rearrange"===t)h.default.actions.revertChangeRearrange();else if("selector"===t)h.default.actions.revertChangeSelector();else if("css"===t){if(!r)return;h.default.actions.revertCSSProperty(r)}else h.default.actions.revertChangeAttribute(t);h.default.actions.applyCurrentlyEditingChange(),h.default.actions.highlightCurrentSelector()},selectedElementNodeNameMatches:function selectedElementNodeNameMatches(t){return this.currentlyEditingChange.elementCount>0&&this.currentlyEditingChange.elementInfo.length>0&&this.currentlyEditingChange.elementInfo[0].nodeName===t},setAttribute:function setAttribute(t,r){h.default.actions.setChangeAttributesProperty(t,r),h.default.actions.applyCurrentlyEditingChange()},setAttributeDebounced:l.a.debounce((function(t,r){this.setAttribute(t,r)}),100),statusClassForCSSProperty:function statusClassForCSSProperty(t){return this.getStatusClassForAttribute([this.changeStatusMap.css[t]])},toggleCodeMirrorComponentsDisabled:function toggleCodeMirrorComponentsDisabled(t){Object.values(this._codeMirrors).forEach((function(r){r.setOption("readOnly",!!t),r.display&&r.display.wrapper&&o()(r.display.wrapper).toggleClass("lego-input--disabled faded background--faint",t)}))}}};r.default=S},function(t,r,a){"use strict";a.r(r),a.d(r,"computeLayerExperimentWithAudienceConditionsJson",(function(){return computeLayerExperimentWithAudienceConditionsJson}));var i=a(4),o=a(141),c=a(33);function computeLayerExperimentWithAudienceConditionsJson(t){var r=Object(i.cloneDeep)(t);if("string"==typeof r.audience_conditions)r.audience_conditions_json=JSON.parse(r.audience_conditions);else{var a=r.audience_ids||[];r.audience_conditions_json=[o.default.ConditionGroupTypes.OR].concat(a.map((function(t){return{audience_id:t}})))}return r}r.default={entity:"layer_experiments",parent:{entity:"projects",key:"project_id"},fieldTypes:{id:c.a.NUMBER,layer_id:c.a.NUMBER,audience_ids:c.a.ARRAY,audience_conditions:c.a.STRING,variations:c.a.ARRAY,holdback:c.a.NUMBER,experiment_changes:c.a.STRING,last_modified:c.a.DATE,created:c.a.DATE,forced_variations:c.a.ARRAY},deserialize:function deserialize(t){return computeLayerExperimentWithAudienceConditionsJson(t)}}},function(t,r,a){"use strict";a.r(r),a.d(r,"fetch",(function(){return p})),a.d(r,"fetchAll",(function(){return m})),a.d(r,"fetchPage",(function(){return g})),a.d(r,"fetchAllPages",(function(){return h})),a.d(r,"flush",(function(){return y})),a.d(r,"fetchAllForAccount",(function(){return fetchAllForAccount})),a.d(r,"archive",(function(){return archive})),a.d(r,"unarchive",(function(){return unarchive})),a.d(r,"save",(function(){return save})),a.d(r,"fetchViewsById",(function(){return fetchViewsById})),a.d(r,"delete",(function(){return deleteView}));var i=a(4),o=a.n(i),c=a(36),l=a(511);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var u=c.default.createEntityActions(l.a),d=c.default.createEntityActions({entity:l.a.entity}),p=u.fetch,m=u.fetchAll,g=u.fetchPage,h=u.fetchAllPages,y=u.flush;function fetchAllForAccount(t,r){return d.fetchAll(t,r)}function deleteView(t){return this.archive(t)}function archive(t){return this.save({id:t.id,archived:!0})}function unarchive(t){return this.save({id:t.id,archived:!1})}function save(t){return t.api_name||delete t.api_name,u.save.call(this,t).then((function(t){return c.default.actions.inValidateCacheDataByEntity({entity:"events"}),t}))}function fetchViewsById(t){var r,a=$.Deferred(),i=o.a.map(t,(function(t){return u.fetch(t)}));return(r=$).when.apply(r,_toConsumableArray(i)).then((function(){var t=[].slice.call(arguments);a.resolve(t)}),a.reject),a}r.default=_extends({},u,{fetchViewsById:fetchViewsById,fetchAllForAccount:fetchAllForAccount,delete:deleteView,archive:archive,unarchive:unarchive,save:save})},function(t,r,a){"use strict";a.r(r),a.d(r,"experimentFilterStatuses",(function(){return o})),a.d(r,"BucketingOptions",(function(){return c}));var i=a(29).default,o={ALL:"all",ACTIVE:i.status.ACTIVE,ARCHIVED:i.status.ARCHIVED,PAUSED:i.status.PAUSED},c={LIFETIME:"lifetime",IMPRESSION:"impression"};r.default={experimentFilterStatuses:o,BucketingOptions:c}},function(t,r,a){"use strict";r.a={JOYRIDE_IDS:{MAB_RESULTS:"mabResults",SA_RESULTS:"saResults",TARGETED_ROLLOUTS_RULES_PAGE:"trRules",TARGETED_ROLLOUTS_LIST_PAGE:"trList"},JOYRIDE_LOCAL_STORAGE_KEY:"optimizelyJoyrides",SKIP_JOYRIDE_LOCAL_STORAGE_KEY:"optimizelySkipJoyrides"}},function(t,r,a){"use strict";a.d(r,"a",(function(){return K})),a.d(r,"c",(function(){return J})),a.d(r,"d",(function(){return X}));var i=a(4),o=a.n(i),c=a(12),l=a.n(c),u=a(42),d=a.n(u),p=a(62),m=a(75),g=a(2137),h=a.n(g),y=a(2138),v=a(833),_=a(3),E=a(1185),b=a(132),T=a.n(b),S=a(142),C=a(35),I=a(2174),A=(a(8),a(3164),a(5)),O=a(43),P=a(2244),R=a(152),w=a(1338),N=a(362),L=a(246),x=a(401),D=a(2254),k=a(2267),j=a(2304),M=a(2360),U=a(2368),V=a(14),B=a(986),G=a.n(B),H=a(2425),z=a(2427),W=a(191);function asyncGeneratorStep(t,r,a,i,o,c,l){try{var u=t[c](l),d=u.value}catch(t){return void a(t)}u.done?r(d):Promise.resolve(d).then(i,o)}var q=!!d.a.get("is_impersonating"),Y=d.a.get("current_project.id"),K=function bootstrap(){if(_.default.evaluate(O.getters.id))return Promise.resolve();h()(),Object(y.a)(),Object(D.a)(),Object(k.a)(),Object(j.a)(),Object(M.a)(),Object(U.a)(),window._=o.a,window.$j=l.a,window.$=l.a,window.jQuery=l.a,window.optly={ui:A.default,flux:_.default},window.optlyApp=P.a,I.a.loadInitialData(),L.a.setActiveVersion(L.c.versions.OPTIMIZELY_X),x.a.init(),d.a.get("env.USE_SENTRY")&&N.a.init();var t=Promise.resolve();if(v.a.tracking.initialize(d.a.get("account_info"),d.a.get("current_project"),q||!1),-1===T.a.getSearch().indexOf("share_token")){R.actions.setLogLevel();var r=Object(p.createInstance)({datafile:Object(m.default)(d.a.get("fullstack_datafile")),eventDispatcher:R.actions.getEventDispatcher()});r.logger=r.client.logger,R.actions.setClientInstance(r),t=r.onReady().then((function(){window.optimizelyClientInstance=r;var t=d.a.get("current_project");V.actions.setCurrentProject(t)})).catch((function(t){N.a.captureException(t),console.warn("[OPTLY_X][Main] Optimizely JS SDK error with initialization: ".concat(t.message))})),R.actions.initializeAndObserveUserInfo(q),O.actions.checkGAEAdmin()}window.addEventListener("load",(function(){setTimeout((function(){R.actions.trackSnippetPerformanceMetrics()}),0)}));try{E.actions.initialize(),G.a.setupProjectLocalEntityCache(Y)}catch(t){console.warn("Error setting up local entity cache: "+t)}try{var a=new CustomEvent("optly-signin",{detail:{optlyConfig:window.optlyConfig}});window.dispatchEvent(a)}catch(t){console.warn("CustomEvent not supported")}return t},J=function mount(t){var r=t.selector;return A.default.mountRootVM(H.a,r).then((function(){W.a.initialize(),C.default.loadRoutes(z.a),C.default.go(C.default.getLocation());(Object(S.queryParamsToObject)(window.location.href).is_first_signin||window.location.pathname.match("/v2/welcome"))&&w.a.setIsFirstSignin(),q||w.a.maybeShowCollaboratorDetailsDialog()}))},X=function(){var t=function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var c=t.apply(r,a);function _next(t){asyncGeneratorStep(c,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var r;return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:r=t.selector,A.default.reset(!1,r);case 2:case"end":return a.stop()}}),_callee)})));return function unmount(r){return t.apply(this,arguments)}}();r.b={bootstrap:K,mount:J,unmount:X}},function(t,r,a){"use strict";r.a={entity:"accounts"}},function(t,r,a){"use strict";r.a={entity:"projects"}},function(t,r,a){"use strict";r.a={entity:"targeting_conditions"}},function(t,r,a){"use strict";var i=a(33);r.a={entity:"experiments",parent:{entity:"projects",key:"project_id"},field:{id:null,status:null,audience_ids:null,enabled_integration_ids:null,variation_ids:null,earliest:null},fieldTypes:{status:i.a.STRING,audience_ids:i.a.ARRAY,enabled_integration_ids:i.a.ARRAY,variation_ids:i.a.ARRAY,earliest:i.a.DATE},serialize:function serialize(t){return Array.isArray(t.display_goal_order_lst)&&(t.display_goal_order_lst=t.display_goal_order_lst.map(String)),t},deserialize:function deserialize(t){return Array.isArray(t.display_goal_order_lst)&&(t.display_goal_order_lst=t.display_goal_order_lst.map((function(t){return parseInt(t,10)}))),t}}},function(t,r,a){"use strict";var i=a(4),o=a(33),c=a(141);r.a={entity:"feature_flags",parent:{entity:"projects",key:"project_id"},fieldTypes:{id:o.a.NUMBER,project_id:o.a.NUMBER,api_name:o.a.STRING,archived:o.a.BOOLEAN,created:o.a.DATE,description:o.a.STRING,last_modified:o.a.DATE,variables:o.a.ARRAY},deserialize:function deserialize(t){return function computeFeatureFlagWithAudienceConditionsJson(t){var r=Object(i.cloneDeep)(t);if(!r.environments)return r;var a=function computeAudienceConditionFromRolloutRule(t){if(t){var r=t.audience_conditions,a=t.audience_ids;if("string"==typeof r)t.audience_conditions_json=JSON.parse(r);else{var i=a||[];t.audience_conditions_json=[c.default.ConditionGroupTypes.OR].concat(i.map((function(t){return{audience_id:t}})))}}};return Object.values(r.environments).forEach((function(t){t.rollout_rules.forEach(a)})),r}(t)}}},function(t,r,a){"use strict";var i=a(33);r.a={entity:"layers",parent:{entity:"projects",key:"project_id"},fieldTypes:{id:i.a.NUMBER,project_id:i.a.NUMBER,policy:i.a.STRING,name:i.a.STRING,description:i.a.STRING,status:i.a.STRING,last_modified:i.a.DATE,created:i.a.DATE}}},,function(t,r,a){"use strict";r.a={entity:"users"}},function(t,r,a){var i=a(4);t.exports={resolveReadableName:function resolveReadableName(t,r){var a=i.find(t,{value:r});return a?a.text:""}}},function(t,r,a){"use strict";var i=a(2),o=a(97),c=["filterableTable","defaultFilter"],l={string:"",status:o.default.status.ACTIVE},u=function filtersNoDefaults(t){return["filterableTable","filters",t]},d=function fieldFilter(t,r){return[u(t),c,function(t,a){return t?t.get(r):a.get(r)}]},p=function tableDefaults(t){return[["filterableTable","defaults",t],function(t){return Object(i.toImmutable)({}).merge(Object(i.toImmutable)(l),t)}]};r.a={filters:function filters(t){return[u(t),c,function(t,r){return t||r}]},fieldFilter:d,stringFilter:function stringFilter(t){return d(t,"string")},filtersNoDefaults:u,computedFilters:function computedFilters(t,r){return[u(t),p(t),function(t,a){return Object(i.toImmutable)({}).merge(a,Object(i.toImmutable)(r),t)}]}}},function(t,r,a){"use strict";a.d(r,"a",(function(){return i})),a.d(r,"b",(function(){return o}));var i="__",o="loading";r.c={NAMESPACE_DELIMITER:i,STORE_KEY:o}},function(t,r,a){"use strict";r.a={audienceVersions:{OPTIMIZELY_X:"v2",OPTIMIZELY_CLASSIC:"v1"}}},function(t,r,a){"use strict";var i=a(41),o=a(468);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a),l=(c.byId,[c.entityCache,function(t){return t.filter((function(t){return!t.get("archived")}))}]);r.a=_extends({},c,{activeTags:l})},function(t,r,a){"use strict";r.a={entity:"tags",parent:{entity:"views",key:"view_id"}}},function(t,r,a){"use strict";a.d(r,"b",(function(){return waitUntil}));var i=a(12),o=a.n(i),c=a(709),l={attributes:!0,childList:!0,subtree:!0,characterData:!0};function waitUntil(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,i=o.a.Deferred(),c=0,l=window.setInterval((function(){c>r&&window.clearInterval(l),t()&&(window.clearInterval(l),i.resolve()),c++}),a);return i}r.a={waitForSelector:function waitForSelector(t){var r=function getElement(){return c.a.querySelector(t)};return new Promise((function(t){if(r())t(r());else if(window.MutationObserver){new MutationObserver((function(){r()&&(this.disconnect(),t(r()))})).observe(window.document,l)}else waitUntil(r,100,25).then((function(){return t(r())}))}))},waitUntil:waitUntil}},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({OASIS_SET_CURRENTLY_EDITING_EXPERIMENT_ID:null,OASIS_SET_CURRENTLY_EDITING_EXPERIMENT_TAB:null})},function(t,r,a){"use strict";var i=a(608);a.d(r,"a",(function(){return i.a}));var o=a(813);a.d(r,"b",(function(){return o.a}));i.a,o.a},function(t,r,a){"use strict";var i=a(1324);a.d(r,"a",(function(){return i.a}));var o=a(423),c=a(829);a.d(r,"b",(function(){return c.a}));var l=a(830);i.a,o.a,l.a,c.a},,function(t,r,a){"use strict";var i=a(17),o=a.n(i),c=a(8),l=a.n(c),u=o()({FULL_STACK_RUNNING_EXPERIMENT_UPDATE:null}),d=l()("Two or more Experiments are running and using the same Feature within the same environment. To remove, ensure this Experiment is running a maximum of once per environment."),p={AB_ONLY:l()("Experiments can be added to exclusion groups. Changes to group membership take effect when you save the group, but saving won't start or unpause the experiments in the group."),P13N_ONLY:l()("Campaigns can be added to exclusion groups. Changes to group membership take effect when you save the group, but saving won't start or unpause the campaigns in the group."),AB_AND_P13N:l()("Both experiments and campaigns can be added to exclusion groups. Changes to group membership take effect when you save the group, but saving won't start or unpause the experiments or campaigns in the group."),FULL_STACK:l()("Experiments can be added to exclusion groups. Changes to group membership take effect when you save the group, but saving won't start or unpause the experiments in the group.")};r.a={ErrorFlag:u,MAX_RUNNING_FEATURES_POPTIP_TEXT:d,GroupExplanation:p}},function(t,r,a){"use strict";var i=a(1262);a.d(r,"a",(function(){return i.a}));var o=a(592),c=a(1263),l=a(1264);a.d(r,"b",(function(){return l.a}));i.a,o.a,c.a,l.a},,function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({EXPERIENCE_MANAGER_ADD_AUDIENCE_ID:null,EXPERIENCE_MANAGER_REMOVE_AUDIENCE_ID:null,EXPERIENCE_MANAGER_SET_ORDERED_AUDIENCE_IDS:null})},,,function(t,r,a){"use strict";a.d(r,"a",(function(){return i})),a.d(r,"d",(function(){return o})),a.d(r,"b",(function(){return c})),a.d(r,"c",(function(){return l}));var i="create-metric-modal",o=[{label:"Increase",value:"increasing"},{label:"Decrease",value:"decreasing"}],c={unique:{label:"Unique Conversions",value:"unique"},count:{label:"Total Conversions",value:"count"},sum:[{label:"Total Revenue",value:"sum revenue"},{label:"Total Value",value:"sum value"}]},l=[{label:"Visitor",value:"visitor"},{label:"Session",value:"session"},{label:"Event",value:"event"}]},function(t,r,a){"use strict";a.d(r,"a",(function(){return x}));var i=a(0),o=a.n(i),c=a(987),l=a.n(c),u=a(104),d=a.n(u),p=a(270),m=a(62),g=a(482),h=a(119),y=a(680),v=a(3),_=a(681),E=a(150),b=a(386),T=a(37),S=a(339),C=a(13),I=a(227),A=a(988),O=a(454),P=a(191),R=["adminAccountId","currentProjectId","dialogManager","notificationManager","ouiIcons"];function _objectWithoutProperties(t,r){if(null==t)return{};var a,i,o=function _objectWithoutPropertiesLoose(t,r){if(null==t)return{};var a,i,o={},c=Object.keys(t);for(i=0;i<c.length;i++)a=c[i],r.indexOf(a)>=0||(o[a]=t[a]);return o}(t,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(i=0;i<c.length;i++)a=c[i],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(o[a]=t[a])}return o}var w=function makePortalRenderedComponent(t){return function(r){var a=Object(i.useRef)(document.createElement("div"));return Object(i.useEffect)((function(){return document.body.appendChild(a.current),function(){document.body.removeChild(a.current)}}),[]),d.a.createPortal(o.a.createElement(t,r),a.current)}},N=w(Object(g.a)(y.a,null,{handleHistoryBack:P.b})),L=w(Object(g.a)(_.a)),x=function makeExternallyConsumable(t){return Object(E.a)((function(r){var a=r.adminAccountId,c=r.currentProjectId,u=r.dialogManager,d=r.notificationManager,g=r.ouiIcons,y=_objectWithoutProperties(r,R),_=Object(i.useRef)(),E=Object(i.useRef)(),T=Object(i.useRef)();Object(i.useEffect)((function(){return a||O.b.bootstrap(),function(){}}),[]),Object(i.useEffect)((function(){return Object(p.subscribe)(p.Subscriptions.CURRENT_PROJECT,(function(t){t.get("id")!==c&&I.a.setCurrentProjectId(t.get("id"))}))}),[]);var C=S.a.getClientInstance(),P=(!u||u===_.current)&&a,w=(!d||d===E.current)&&a,x=(!g||g===T.current)&&a;Object(i.useEffect)((function(){if(_.current&&!v.default.evaluate(b.a.dialogManager))return v.default.dispatch(h.a.REGISTER_GLOBAL_COMPONENT,{id:"dialogManager",instance:_.current}),function(){v.default.dispatch(h.a.REGISTER_GLOBAL_COMPONENT,{id:"dialogManager",instance:void 0})}}),[_.current,P]);Object(i.useEffect)((function(){if(E.current&&!v.default.evaluate(b.a.notificationManager))return v.default.dispatch(h.a.REGISTER_GLOBAL_COMPONENT,{id:"notificationManager",instance:E.current}),function(){v.default.dispatch(h.a.REGISTER_GLOBAL_COMPONENT,{id:"notificationManager",instance:void 0})}}),[!!E.current,w]);return Object(i.useEffect)((function(){if(T.current&&!v.default.evaluate(b.a.ouiIcons))return v.default.dispatch(h.a.REGISTER_GLOBAL_COMPONENT,{id:"ouiIcons",instance:T.current}),function(){v.default.dispatch(h.a.REGISTER_GLOBAL_COMPONENT,{id:"ouiIcons",instance:void 0})}}),[!!T.current,x]),o.a.createElement(m.OptimizelyProvider,{optimizely:C},x&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"ouiIconSprite",className:"display--none",dangerouslySetInnerHTML:{__html:l.a},ref:function registerOUIIcons(t){return T.current=t}}),o.a.createElement(A.a,null)),P&&o.a.createElement(N,{"data-test-section":"dialog-manager-react-wrapper",vueComponentRef:function registerDialogManager(t){return _.current=t}}),w&&o.a.createElement(L,{"data-test-section":"notification-manager-react-wrapper",vueComponentRef:function registerNotificationManager(t){return E.current=t}}),a&&o.a.createElement(t,y))}),{adminAccountId:T.default.id,currentProjectId:C.default.id,dialogManager:b.a.dialogManager,notificationManager:b.a.notificationManager,ouiIcons:b.a.ouiIcons})}},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(93),d=a.n(u);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.a=function getReactWrapperForVueComponent(t,r,a,i){var c=d.a.extend(Object.assign({},t)),u=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(VueWrapper,t);var o=_createSuper(VueWrapper);function VueWrapper(t){var r;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,VueWrapper),(r=o.call(this,t)).createRef=r.createRef.bind(_assertThisInitialized(r)),r}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(VueWrapper,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(){return!1}},{key:"componentDidMount",value:function componentDidMount(){var t=Object.assign({},a,{parent:r,data:i});this.vueComponent=new c(t),this.vueComponent.$appendTo(this.el),this.props.vueComponentRef&&this.props.vueComponentRef(this.vueComponent)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.vueComponent&&this.vueComponent.$destroy(),this.props.vueComponentRef&&this.props.vueComponentRef(null)}},{key:"createRef",value:function createRef(t){this.el=t}},{key:"render",value:function render(){return l.a.createElement("div",{className:this.props.className||"",ref:this.createRef})}}]),VueWrapper}(l.a.Component);return u.propTypes={className:o.a.string,vueComponentRef:o.a.func},u}},function(t,r,a){"use strict";var i=a(9),o=a.n(i),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(368);var m=function DashboardHeader(t){var r=t.tabs.filter((function(t){return function filterByIsVisible(t){return void 0===t.isVisible||!!t.isVisible}(t)})),a=(o()({gamma:"small"===t.dashboardSize,"push-double--bottom":"small"===t.dashboardSize,beta:!t.dashboardSize,"push--bottom":!t.dashboardSize}),o()({"soft-double--top":!0,"soft-double--sides":"small"===t.dashboardSize,"soft-quad--sides":!t.dashboardSize})),i=o()({"lego-tabs":!0,"dashboard-tabs":!0,"dashboard-tabs--half":"small"===t.dashboardSize});return d.a.createElement("div",{"data-ui-component":!0,className:a,"data-test-section":t.testSection},d.a.createElement("h1",{"data-test-section":"dashboard-header-title"},t.title),!!r.length&&d.a.createElement("div",{className:i},d.a.createElement("div",{className:"lego-tabs-nav"},r.map((function(r){var a=o()({"lego-tabs-nav__item":!0,"is-active":t.activeTab===r.id,"link--muted":!0});return d.a.createElement(p.a,{className:a,href:r.url,key:r.id,testSection:r.testSection},r.title)})))))};m.propTypes={projectName:l.a.string,title:l.a.string.isRequired,dashboardSize:l.a.string,tabs:l.a.arrayOf(l.a.shape({title:l.a.oneOfType([l.a.string,l.a.node]).isRequired,url:l.a.string.isRequired,isVisible:l.a.bool,id:l.a.string.isRequired,testSection:l.a.string})),activeTab:l.a.string,testSection:l.a.string},m.defaultProps={activeTab:"",projectName:"",tabs:[],testSection:""},r.a=m},function(t,r,a){"use strict";var i,o,c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(28),m=a(87),g=a(483),h=a(2),y=a(13),v=a(56),_=a(39),E=a(24),b=a(10);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=Object(p.a)({canUseCrossProjectMetrics:_.canUseCrossProjectMetrics,canUseEventInspector:_.canUseEventInspector,canUseRecommendationsDashboard:_.canUseRecommendationsDashboard,currentProject:y.default.project,currentProjectId:y.default.id,canUsePlugins:_.canUsePlugins,isCustomProject:y.default.isCustomProject,isFullStackProject:y.default.isFullStackProject,primarySDKLanguage:y.default.primarySDKLanguage})(i=Object(m.b)("metrics_usability")(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(DataLayerTopbar,t);var r=_createSuper(DataLayerTopbar);function DataLayerTopbar(){return _classCallCheck(this,DataLayerTopbar),r.apply(this,arguments)}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(DataLayerTopbar,[{key:"render",value:function render(){var t=this.props,r=t.activeTab,a=t.canUseCrossProjectMetrics,i=t.canUseEventInspector,o=t.canUsePlugins,c=t.canUseRecommendationsDashboard,l=t.currentProject,u=t.currentProjectId,p=t.isCustomProject,m=t.isFullStackProject,h=t.primarySDKLanguage,y=[{id:b.default.DataLayerTabs.VIEW_TAB,isVisible:!p,testSection:"views-tab",title:"Pages",url:E.default.pagesHome(u)},{id:b.default.DataLayerTabs.EVENT_TAB,isVisible:!0,testSection:"events-tab",title:"Events",url:E.default.eventsHome(u)},{id:b.default.DataLayerTabs.METRIC_TAB,isVisible:a&&!m&&this.metrics_usability,testSection:"metrics-tab",title:"Metrics",url:E.default.metricsHome(u)},{id:b.default.DataLayerTabs.INSPECTOR_TAB,isVisible:i,testSection:"inspector-tab",title:"Inspector",url:E.default.eventInspector(u)},{id:b.default.DataLayerTabs.PLUGIN_TAB,isVisible:o&&!p,testSection:"plugins-tab",title:"Extensions",url:E.default.extensionsHome(u)},{id:b.default.DataLayerTabs.CATALOGS_DASHBOARD_TAB,isVisible:!!c,testSection:"catalogs-dashboard-tab",title:"Catalogs",url:E.default.catalogDashboard(u)},{id:b.default.DataLayerTabs.RECOMMENDERS_DASHBOARD_TAB,isVisible:!!c,testSection:"recommenders-dashboard-tab",title:"Recommenders",url:E.default.recommenderDashboard(u)}],_=p?"Events":"Implementation";return d.a.createElement(g.a,{activeTab:r,projectName:v.default.formatAnyProjectName(l,h),tabs:y,testSection:"data-layer-topbar-root",title:_})}}]),DataLayerTopbar}(d.a.Component)).displayName="DataLayerTopbar",o.propTypes={activeTab:l.a.oneOf(Object.values(b.default.DataLayerTabs)),canUseCrossProjectMetrics:l.a.bool,canUseEventInspector:l.a.bool,canUsePlugins:l.a.bool,canUseRecommendationsDashboard:l.a.bool,currentProject:l.a.instanceOf(h.default.Map),currentProjectId:l.a.number,isCustomProject:l.a.bool,primarySDKLanguage:l.a.string},i=o))||i)||i;r.a=T},,,,,,,,,function(t,r,a){var i=a(12),o=a(42),c=a(149),l=(a(3),a(1133)),u=l.withScope,d=l.captureMessage;r.getAjaxErrorData=function(t,r){if("abort"!==r&&!t.optlyErrorHandled){var a,l="";if(t&&t.responseText)try{var u=i.parseJSON(t.responseText);u.errors?l=u.errors.join("; "):u.message?l=u.message:u.error&&(l=u.error),(a=u.uuid)||(a=u.id)}catch(t){}var d={};if(t&&t.options){if(t.options.optimizelyIgnoreErrors)return;i.each(["contentType","dataType","optimizelyRetryLimit","optimizelyRetryCount","type","url","contents"],(function(r,a){d[a]=t.options[a]}))}var p=o.get("account_info.account_id"),m={options:d,status:r,statusCode:t&&t.status,accountId:p};return{errorId:a||c(),message:l,errorDetails:m,errorUrl:t&&t.originalRequestOptions&&t.originalRequestOptions.url,type:t&&t.originalRequestOptions&&t.originalRequestOptions.type,data:t&&t.originalRequestOptions&&t.originalRequestOptions.data,response:t&&t.responseText&&t.responseText.substring(0,100)}}},r.logToServer=function(t,r){var a="unknown";if(window.optlyConfig&&window.optlyConfig.env){if(!window.optlyConfig.env.USE_SENTRY)return void console.error("An error occurred:",t,r);window.optlyConfig.env.USE_SENTRY&&(a=window.optlyConfig.env.ENVIRONMENT)}u((function(t){t.setTag("error_dialog",r.wasErrorDialogShown?"yes":"no"),t.setTag("origin",r.isServerOriginated?"server":"client"),t.setTag("env",a),t.setTag("error_id",r.errorId),t.setTag("error_location",r.errorLocation),t.setExtra("type",r.type),t.setExtra("data",r.data),t.setExtra("response",r.response),t.setExtra("accountId",r.accountId),t.setExtra("errorId",r.errorId),t.setExtra("errorMessage",r.errorMessage),t.setExtra("url",r.errorUrl),t.setExtra("stackTrace",r.stackTrace),t.setExtra("status",r.status),t.setExtra("statusCode",r.statusCode),t.setExtra("timestamp",r.timestamp),d(r.errorMessage)}))}},function(t,r,a){"use strict";var i=a(2),o=a(156),c=a(29),l=a(68),u=a(149),d=a.n(u),p=a(100),m=a(221);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}r.a={addVariation:function addVariation(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default.List(),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.default.Map();r.forEach((function(t){o=o.set(t.get("api_name"),t.get("default_value"))}));var c=Object(i.toImmutable)(_extends({guid:d()(),variable_values:o},a)),u=t.push(c);return l.default.redistributeWithNewVariationTrafficImmutable(u)},deleteVariation:function deleteVariation(t,r){var a=r.delete(t);return l.default.redistributeWithNewVariationTrafficImmutable(a)},pauseVariation:function pauseVariation(t,r){var a=r.get(t),i=a.get("weight"),o=a.set("status",c.default.VariationStatus.PAUSED).set("weight",0),u=r.set(t,o);return l.default.redistributePausedVariationTraffic(u,i)},resumeVariation:function resumeVariation(t,r){var a=r.get(t).set("status",c.default.VariationStatus.ACTIVE),i=r.set(t,a);return l.default.redistributeResumedVariationTraffic(a.get("variation_id"),i)},attachFeatureVariablesToExperiment:function attachFeatureVariablesToExperiment(t,r){var a=r.get("variations").map((function(r){var a=i.default.Map();return t.get("variables").forEach((function(t){t.get("archived")||(a=a.set(t.get("api_name"),t.get("default_value")))})),r.set("variable_values",a)}));return r.set("variations",a)},ensureExperimentKeyUnique:function ensureExperimentKeyUnique(t,r){return!r.some((function(r){return r.get("id")!==t.get("id")&&r.get("key")===t.get("key")}))},ensureExperimentKeyValid:function ensureExperimentKeyValid(t){return!!t&&!!p.default.apiName.test(t)},ensureVariableValuesValid:function ensureVariableValuesValid(t,r){var a=t.get("feature_flag_id");if(a&&r){var c=r.find((function(t){return a===t.get("id")})).get("variables").filter((function(t){return!t.get("archived")})).reduce((function(t,r){return t.set(r.get("api_name"),r.get("type"))}),i.default.Map());return t.get("variations").every((function(t){return t.get("variable_values").every((function(t,r){return o.a.isVariableValueInputValid(t,c.get(r))}))}))}return!0},ensureVariationKeysUnique:function ensureVariationKeysUnique(t){var r={};return t.every((function(t){var a=t.get("api_name");return!a||!r[a]&&(r[a]=!0,!0)}))},ensureVariationKeyValid:function ensureVariationKeyValid(t){return!!t&&!!p.default.apiName.test(t)},ensureVariationWeightsTotal100:function ensureVariationWeightsTotal100(t){return 1e4===t.reduce((function(t,r){return t+r.get("weight")}),0)},getExperimentType:function getExperimentType(t){return l.default.isFeatureTest(t)?m.a.ExperimentType.FEATURE_TEST:l.default.isMultivariateTest(t)?m.a.ExperimentType.MVT:l.default.isMultiArmedBandit(t)?m.a.ExperimentType.MULTIARMED_BANDIT:m.a.ExperimentType.AB_TEST},getExperimentTypeToLabel:function getExperimentTypeToLabel(t){return m.a.ExperimentTypeToLabel[t]},hasNegativeVariationValues:function hasNegativeVariationValues(t){return t.some((function(t){return t.get("weight")<0}))},updateVariationVariable:function updateVariationVariable(t,r){var a=t;return a.get("variable_values")||(a=a.set("variable_values",i.default.Map())),a=a.setIn(["variable_values",r.get("api_name")],r.get("value"))}}},function(t,r,a){"use strict";a.d(r,"b",(function(){return C}));var i=a(2547),o=a.n(i),c=a(2),l=a(352),u=a(133),d=a(313),p=a.n(d),m=a(335),g=a.n(m),h=a(83),y=a(68),v=a(29),_=a(8),E=a.n(_),b=a(99),T=a.n(b),S=a(452),C=function getAllCampaignAudienceIds(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=Object(c.toImmutable)([]);return t.forEach((function(t){r=r.concat(y.default.deriveAudienceIdsFromAudienceConditions(Object(c.toImmutable)(t.audience_conditions_json)))})),r.toSet()};r.a={filterExperiments:function filterExperiments(t,r,a,i){return t.filter((function(t){if(!function experimentAllowedByStatusFilter(t,r){var a=t.get("status");switch(r){case S.default.experimentFilterStatuses.ALL:return!0;case S.default.experimentFilterStatuses.ACTIVE:return o()([v.default.status.ACTIVE,v.default.status.PAUSED],a);case S.default.experimentFilterStatuses.ARCHIVED:return a===v.default.status.ARCHIVED;case S.default.experimentFilterStatuses.PAUSED:return a===v.default.status.PAUSED;default:return!0}}(t,i))return!1;if(""===a)return!0;var c=r.getIn([t.get("id"),"name"]);if(c)return g.a.isFilterTermInItem(a,c);var l=function getAudiencesSubtitle(t){return 0===t.size?E()("Everyone"):t.map((function(t){return t.get("name")})).toJS().join(", ")}(t.get("audiences"));return g.a.isFilterTermInItem(a,l)}))},getAllCampaignAudienceIds:C,getBucketingStrategyOptions:function getBucketingStrategyOptions(){var t=S.default.BucketingOptions,r=t.LIFETIME,a=t.IMPRESSION;return[{activatorLabel:T()(r),label:E()(T()("".concat(r," (default)"))),description:"Choose a new variation of this experiment only if the visitor has not been previously bucketed.",value:r},{label:E()(T()(a)),description:"Choose a new variation of this experiment for each impression.",value:a}]},getExperimentCardData:function getExperimentCardData(t,r,a,i,o,d){var m,g;a&&(m=a.getIn(["revisions","layer_experiment"])||Object(c.toImmutable)([]),g=m.reduce((function(t,r){return t[r.get("id")]=r,t}),{}));var v=h.default.getPriorityGroupsSplitByStatus(i,t),_=v.unarchivedGroups,E=v.archivedGroup,b=function getPriorityGroupsByExperiment(t){return t.flatMap((function(t,r){return t.map((function(t){return Object(c.toImmutable)([t,r])}))})).fromEntrySeq().toMap()}(_);return _.flatten().concat(E).map((function(r){return t.get(r)})).filter((function(t){return t})).map((function(t){var a=t.get("audience_ids").map((function(t){return r.get(t)})).filter((function(t){return!!t})),c=l.default.constructAudienceLabelFromList(t.get("audience_conditions"),a),m=t.get("id"),v=g?g[m]:null,_=p.a.experimentHasUnpublishedChanges(t,v),E=p.a.getExperimentSnippetStatus(t,v,d),T=t.get("variations"),S=y.default.addPercentageToVariations(T),C=h.default.isMultivariateTestLayer(i),I=h.default.isPersonalizationLayer(i),A=y.default.addVariationModificationInfo(S,o,v,C,I,t.get("allocation_policy")),O=p.a.addStatusInfoToVariations(i,A,t,v),P=u.a.addTrafficDistributionInfoToVariations(O,i.get("holdback"));return t.withMutations((function(r){r.set("audiences",a),r.set("audienceLabels",c),r.set("variations",P),r.set("hasUnpublishedChanges",_),r.set("snippetStatus",E),r.set("name",h.default.getExperimentName(r,i)),r.set("priorityGroupIndex",b.get(m)),r.set("suggestedNewVariationName",y.default.suggestedNewVariationName(t.get("variations")))}))}))},getExperimentPriorityDialogData:function getExperimentPriorityDialogData(t,r,a,i){var o,u;r&&(o=r.getIn(["revisions","layer_experiment"])||Object(c.toImmutable)([]),u=o.reduce((function(t,r){return t[r.get("id")]=r,t}),{}));var d=h.default.getPriorityGroupsSplitByStatus(t,a).unarchivedGroups,m=d.flatten().reduce((function(t,r){var o=a.get(r),d=o.get("audience_ids").map((function(t){return i.get(t)})),m=u?u[r]:null,g=p.a.experimentHasUnpublishedChanges(o,m),h=l.default.constructAudienceLabelFromList(o.get("audience_conditions"),d);return t.set(r,Object(c.toImmutable)({name:o.get("name"),audiencesCount:o.get("audience_ids").size,audienceLabels:h,hasUnpublishedChanges:g,isPaused:o.get("status")===v.default.status.PAUSED}))}),Object(c.toImmutable)({}));return Object(c.toImmutable)({layerId:t.get("id"),experiments:m,priorityGroups:d})},unarchivedExperimentsHaveUnpublishedChanges:function unarchivedExperimentsHaveUnpublishedChanges(t){return t.some((function(t){return t.get("hasUnpublishedChanges")&&t.get("status")!==v.default.status.ARCHIVED}))}}},function(t,r,a){"use strict";var i,o,c,l=a(1),u=a.n(l),d=a(0),p=a.n(d),m=a(52),g=a(218),h=a(2),y=a(28),v=a(38),_=a(23),E=a(289);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var b=(_defineProperty(i={},_.enums.campaignTypes.SINGLE_EXPERIMENT,{NOUN:"experiment",VERB:"testing"}),_defineProperty(i,_.enums.campaignTypes.MULTIVARIATE,{NOUN:"experiment",VERB:"testing"}),_defineProperty(i,_.enums.campaignTypes.P13N_CAMPAIGN,{NOUN:"campaign",VERB:"personalizing"}),_defineProperty(i,_.enums.campaignTypes.MULTIARMED_BANDIT,{NOUN:"optimization",VERB:"optimizing"}),i),T=Object(y.a)({currentLayer:v.getters.layer,description:E.b.description,name:E.b.name})(((c=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(LayerSettings,t);var r=_createSuper(LayerSettings);function LayerSettings(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,LayerSettings),(a=r.call(this,t)).updateLayerDescription=function(t){E.a.setLayerDescription(t.target.value)},a.updateLayerName=function(t){var r=a.props.onNameChange,i=t.target.value;r(i),E.a.setLayerName(i)},a.renderDescriptionLabel=function(){return p.a.createElement("span",null,"Description")};var i=t.campaignType,o=t.currentLayer,c=o&&o.get("type"),l=i;if(c)switch(c){case _.enums.type.PERSONALIZATION:l=_.enums.campaignTypes.P13N_CAMPAIGN;break;case _.enums.type.MULTIVARIATE:l=_.enums.campaignTypes.MULTIVARIATE;break;case _.enums.type.MULTIARMED_BANDIT:l=_.enums.campaignTypes.MULTIARMED_BANDIT;break;default:l=_.enums.campaignTypes.SINGLE_EXPERIMENT}return a.editMode=!!o,a.descriptionWords=b[l],a.nameInputRef=p.a.createRef(),E.a.setLayerName(o&&o.get("name")||""),E.a.setLayerDescription(o&&o.get("description")||""),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(LayerSettings,[{key:"componentDidMount",value:function componentDidMount(){this.nameInputRef.current.focus()}},{key:"componentWillUnmount",value:function componentWillUnmount(){E.a.setLayerName(null),E.a.setLayerDescription(null)}},{key:"render",value:function render(){var t=this.props,r=t.description,a=t.name,i=t.nameError;return p.a.createElement("div",null,p.a.createElement("fieldset",null,p.a.createElement("ol",{className:"lego-form-fields"},p.a.createElement("li",{className:"lego-form-field__item"},p.a.createElement(m.a,{className:"lego-text-input width--1-2",onChange:this.updateLayerName,label:"Name",isRequired:!0,placeholder:"Add a name",ref:this.nameInputRef,testSection:"layer-name",type:"text",value:a||""}),i&&p.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"error-campaign-name"},i)))),p.a.createElement("fieldset",null,p.a.createElement("ol",{className:"lego-form-fields"},p.a.createElement("li",{className:"lego-form-field__item"},p.a.createElement(g.a,{className:"lego-textarea",label:this.renderDescriptionLabel(),"data-test-section":"campaign-description",name:"experiment_description",onChange:this.updateLayerDescription,placeholder:"Add a description",value:r||""})))))}}]),LayerSettings}(p.a.Component)).propTypes={campaignType:u.a.oneOf(Object.keys(_.enums.campaignTypes)),currentLayer:u.a.instanceOf(h.default.Map),description:u.a.string,name:u.a.string,nameError:u.a.string,onNameChange:u.a.func},c.defaultProps={campaignType:_.enums.campaignTypes.SINGLE_EXPERIMENT,currentLayer:null,description:"",name:"",nameError:null,onNameChange:function onNameChange(){}},o=c))||o;r.a=T},function(t,r,a){function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=a(12),o=a(132);function UriLocation(t){this._base=t,this._params={}}UriLocation.prototype.param=function(t,r){var a=this;"object"===_typeof(t)?i.each(t,(function(t,r){a._params[t]=r})):this._params[t]=r},UriLocation.prototype.toString=function(){var t,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=this._base;if(r)t=i.param(this._params);else{var c=o.getSearch();t=c.substring(1)}return t&&(a+=-1!==a.indexOf("?")?"&":"?",a+=t),a},t.exports={create:function create(t){return new UriLocation(t)}}},function(t,r,a){"use strict";a.r(r);a(4);var i=a(41),o=a(37),c=a(466),l=a(792),u=a(569);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var d=Object(i.default)(u.a);r.default=_extends({},d,{defaultDimensions:[o.default.accountPermissions,l.a.entityCache,function(t,r){return r.filter((function(t){return t.get("compatible_audiences")&&t.get("compatible_audiences").includes(c.a.audienceVersions.OPTIMIZELY_X)})).map((function(r){var a="string"!=typeof r.get("permission_required")||t.contains(r.get("permission_required")),i="string"==typeof r.get("deprecated_by")&&t.contains(r.get("deprecated_by"));return r.set("has_permission",a).set("deprecated",i)}))}]})},function(t,r,a){"use strict";a.r(r),a.d(r,"default",(function(){return error}));var i=a(4),o=a.n(i),c=a(178),l=a(2176);function error(t){t=t||{};var r=$.Deferred();return Object(c.showDialog)({component:l.a,data:o.a.extend({},t,{_onClose:r})}),r}},function(t,r,a){"use strict";a.r(r),a.d(r,"SIMPLE_MATCH_TYPE",(function(){return i})),a.d(r,"EXACT_MATCH_TYPE",(function(){return o})),a.d(r,"SUBSTRING_MATCH_TYPE",(function(){return c})),a.d(r,"REGEX_MATCH_TYPE",(function(){return l})),a.d(r,"URL_MATCH_TYPES",(function(){return u})),a.d(r,"SINGLE_URL_MATCH_TYPES",(function(){return d})),a.d(r,"DEFAULT_URL_CONDITION",(function(){return p}));var i="simple",o="exact",c="substring",l="regex",u=[{label:"Simple Match",value:i,description:"Useful for testing a single page"},{label:"Exact Match",value:o,description:"Use only to load the exact URL"},{label:"Substring Match",value:c,description:"Use to match specific strings of texts within a URL"},{label:"Regular Expression Match",value:l,description:"Use to target complicated URL structures"}],d=[{label:"Simple Match",value:i,description:"Useful for testing a single page"},{label:"Exact Match",value:o,description:"Use only to load the exact URL"}],p={type:"url",value:"",match_type:"simple"};r.default={SIMPLE_MATCH_TYPE:i,EXACT_MATCH_TYPE:o,SUBSTRING_MATCH_TYPE:c,REGEX_MATCH_TYPE:l,URL_MATCH_TYPES:u,SINGLE_URL_MATCH_TYPES:d,DEFAULT_URL_CONDITION:p}},function(t,r,a){"use strict";a.r(r),a.d(r,"createViewEntity",(function(){return createViewEntity})),a.d(r,"validateViewData",(function(){return validateViewData})),a.d(r,"validateApiName",(function(){return validateApiName})),a.d(r,"getTrimmedUrlValues",(function(){return getTrimmedUrlValues})),a.d(r,"validateUrlForConditions",(function(){return validateUrlForConditions})),a.d(r,"doesUrlMatchAny",(function(){return doesUrlMatchAny})),a.d(r,"deserializeConditions",(function(){return deserializeConditions})),a.d(r,"serializeConditions",(function(){return serializeConditions})),a.d(r,"createSmartViewEntity",(function(){return createSmartViewEntity})),a.d(r,"smartDeserializeConditions",(function(){return smartDeserializeConditions})),a.d(r,"smartSerializeConditions",(function(){return smartSerializeConditions})),a.d(r,"createConditionGroup",(function(){return createConditionGroup})),a.d(r,"validateSmartView",(function(){return validateSmartView})),a.d(r,"validateApiNameSmart",(function(){return validateApiNameSmart})),a.d(r,"validateConditions",(function(){return validateConditions})),a.d(r,"smartValidateUrlForConditions",(function(){return smartValidateUrlForConditions})),a.d(r,"splitMultilineConditions",(function(){return splitMultilineConditions}));var i,o=a(4),c=a.n(o),l=a(75),u=a(2),d=a(1334),p=a.n(d),m=a(170),g=a.n(m),h=a(7),y=a(500),v=a(172),_=/[^\w]/;function createViewEntity(t){var r={api_name:null,category:"other",conditions:null,edit_url:null,id:null,name:null,page_type:null,activation_type:null,platform:null,project_id:null};return c.a.extend({},r,t)}function validateViewData(t,r){var a={};t.get("name")||(a.name=tr("Please provide a name for the page")),t.get("page_type")||(a.page_type=tr("Please select a page type")),r.getIn([0,"value"])||t.get("page_type")!==v.default.pageTypes.SINGLE_URL&&t.get("page_type")!==v.default.pageTypes.URL_SET||(a.url_condition=tr("Please provide a url")),t.get("edit_url")||t.get("page_type")!==v.default.pageTypes.URL_SET&&t.get("page_type")!==v.default.pageTypes.GLOBAL||(a.edit_url=tr("Please provide an example url for use when editing or previewing"));var o=i.validateApiName(t);return o&&(a.api_name=o),a}function validateApiName(t){return t.get("activation_type")!==v.default.activationModes.MANUAL?null:t.get("api_name")?_.test(t.get("api_name"))?tr("The api name can only contain alphanumeric characters and underscores."):null:tr("Please provide the api name.")}function getTrimmedUrlValues(t){return t.map((function(t){var r=t.get("value").trim();return t.set("value",r)}))}function validateUrlForConditions(t,r,a){return t=t.trim(),r=i.getTrimmedUrlValues(r),a=i.getTrimmedUrlValues(a),!i.doesUrlMatchAny(t,a)&&i.doesUrlMatchAny(t,r)}function doesUrlMatchAny(t,r){return r.size&&r.some((function(r){return p.a.matchUrl(t,r.get("value"),r.get("match_type"))}))}function deserializeConditions(t){function ungroupUrlConditions(t,r){var a=c.a.find(t.conditions,(function(t){return"or"===t.type&&t.negate===r}));return a?a.conditions:[Object(l.default)(y.default.DEFAULT_URL_CONDITION)]}var r=new g.a;return r.load(JSON.parse(t)),"and"===r.type?{includeConditions:ungroupUrlConditions(r,!1),excludeConditions:ungroupUrlConditions(r,!0)}:{includeConditions:u.default.List(),excludeConditions:u.default.List()}}function serializeConditions(t,r){function groupUrlConditions(t,r,a){var i=t.filter((function(t){return!!t.value})),o=new g.a(r);return Array.prototype.push.apply(o.conditions,i),o.negate=a,o}var a=new g.a("and");return a.conditions.push(groupUrlConditions(i.getTrimmedUrlValues(t).toJS(),"or",!1),groupUrlConditions(i.getTrimmedUrlValues(r).toJS(),"or",!0)),a.deleteEmptyConditions(),JSON.stringify(a.serialize())}function createSmartViewEntity(t){var r={api_name:null,category:"other",conditions:'["and",["or",{"value":"","match_type":"simple","type":"url"}]]',edit_url:null,id:null,name:null,page_type:null,activation_type:v.default.activationModes.IMMEDIATE,platform:h.default.project_platforms.WEB,project_id:null};return c.a.extend({},r,t)}function smartDeserializeConditions(t){var r=new g.a;return r.load(JSON.parse(t)),r}function smartSerializeConditions(t){return JSON.stringify(t.serialize())}function createConditionGroup(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.default.conditionGroupTypes.OR,a=new g.a(r);return t&&a.load([r,t]),a}function validateSmartView(t,r){var a={name:null,edit_url:null,activation_code:null,api_name:null,conditions:i.validateConditions(t.get("conditions"))};if(!t.get("name")&&r&&(a.name=tr("Please provide a name for the page.")),t.get("edit_url")||(a.edit_url=tr("Editor URL is required.")),t.get("activation_type")!==v.default.activationModes.CALLBACK&&t.get("activation_type")!==v.default.activationModes.POLLING||t.get("activation_code")||(a.activation_code=tr("A javascript function is required.")),t.get("id")||t.get("activation_type")===v.default.activationModes.MANUAL){var o=i.validateApiNameSmart(t);o&&(a.api_name=o)}return a}function validateApiNameSmart(t){return t.get("api_name")?_.test(t.get("api_name"))?tr("The api name can only contain alphanumeric characters and underscores."):null:tr("Please provide the api name.")}function validateConditions(t){return t?i.smartDeserializeConditions(t).conditions.map((function(t){return t.conditions.map((function(t){if(t.type===v.default.conditionMatchTypes.URL){var r=t.value.trim(),a=t.match_type;if(!r)return"URL is required.";if(a===y.default.REGEX_MATCH_TYPE)try{new RegExp(r);return null}catch(t){return"Valid regular expression is required."}return null}return t.type===v.default.conditionMatchTypes.ELEMENT_PRESENT?t.value.trim()?null:"CSS Selector is required.":t.type===v.default.conditionMatchTypes.CUSTOM_CODE?t.value.trim()?null:"Custom Code is required.":null}))})):[]}function smartValidateUrlForConditions(t,r){if(r.conditions){var a=function evaluateConditions(r,a){for(var o=!1,l=a===v.default.conditionGroupTypes.OR,u=0;u<r.length;u++){var d=r[u];if(!(d instanceof g.a)||!d.conditions[0]||d.conditions[0].type===v.default.conditionMatchTypes.URL){var p=i.smartValidateUrlForConditions(t,r[u]);if(p===l)return l;c.a.isUndefined(p)&&(o=!0)}}if(!o)return!l}(r.conditions,r.type);return r.negate?!a:a}return p.a.matchUrl(t,r.value,r.match_type)}function splitMultilineConditions(t){var r=t.get("conditions");if(null===r)return r;var a=smartDeserializeConditions(r),i=a.conditions.map((function(t){return t.conditions=t.conditions.flatMap((function(t){var r=t.type,a=t.match_type,i=t.value;return r===v.default.conditionMatchTypes.URL?i.trim().split(/(?:\\r)+|(?:\\n)+|(?:\\t)+|<br>/).filter((function(t){return t})).map((function(t){return{match_type:a,type:r,value:t}})):t})),t}));return a.conditions=i,smartSerializeConditions(a)}r.default=i={createViewEntity:createViewEntity,validateViewData:validateViewData,validateApiName:validateApiName,getTrimmedUrlValues:getTrimmedUrlValues,validateUrlForConditions:validateUrlForConditions,doesUrlMatchAny:doesUrlMatchAny,deserializeConditions:deserializeConditions,serializeConditions:serializeConditions,createSmartViewEntity:createSmartViewEntity,smartDeserializeConditions:smartDeserializeConditions,smartSerializeConditions:smartSerializeConditions,splitMultilineConditions:splitMultilineConditions,createConditionGroup:createConditionGroup,validateSmartView:validateSmartView,validateApiNameSmart:validateApiNameSmart,validateConditions:validateConditions,smartValidateUrlForConditions:smartValidateUrlForConditions}},function(t,r,a){"use strict";var i=a(33),o=i.a.STRING,c=i.a.NUMBER,l=i.a.BOOLEAN;r.a={entity:"environments",parent:{entity:"projects",key:"project_id"},fieldTypes:{name:o,description:o,has_restricted_permissions:l,priority:c,is_primary:l,key:o,archived:l,project_id:c}}},function(t,r,a){"use strict";a.r(r),a.d(r,"byId",(function(){return l})),a.d(r,"entityCache",(function(){return u}));var i=a(41),o=a(602);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a),l=c.byId,u=c.entityCache;r.default=_extends({},c)},function(t,r,a){"use strict";var i=a(1309);a.d(r,"a",(function(){return i.a}));var o=a(1310);a.d(r,"b",(function(){return o.a}));var c=a(1311);a.d(r,"c",(function(){return c.a}));i.a,o.a,c.a},function(t,r,a){"use strict";a.r(r),a.d(r,"TABLE_ID",(function(){return I})),a.d(r,"NAV_TABS",(function(){return A})),a.d(r,"VARIABLE_VALUE_DEFAULTS",(function(){return O})),a.d(r,"VARIABLE_CODE_BLOCKS_BY_LANG",(function(){return P})),a.d(r,"VARIABLE_CODE_BLOCKS",(function(){return R})),a.d(r,"FEATURE_CODE_BLOCKS",(function(){return w}));var i,o,c,l,u,d,p,m,g,h,y,v,_,E,b=a(17),T=a.n(b),S=a(69),C=a(7);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var I="FeaturesDashboard",A=T()({FEATURESOLD:null}),O=(_defineProperty(i={},S.default.LIVE_VARIABLE_TYPES.boolean,"true"),_defineProperty(i,S.default.LIVE_VARIABLE_TYPES.float,0),_defineProperty(i,S.default.LIVE_VARIABLE_TYPES.integer,0),_defineProperty(i,S.default.LIVE_VARIABLE_TYPES.string,""),i),P=(_defineProperty(v={},C.default.sdkLanguages.PYTHON,(_defineProperty(o={},S.default.LIVE_VARIABLE_TYPES.boolean,"%s = optimizely.get_feature_variable_boolean('%s', '%s', user_id)"),_defineProperty(o,S.default.LIVE_VARIABLE_TYPES.double,"%s = optimizely.get_feature_variable_double('%s', '%s', user_id)"),_defineProperty(o,S.default.LIVE_VARIABLE_TYPES.integer,"%s = optimizely.get_feature_variable_integer('%s', '%s', user_id)"),_defineProperty(o,S.default.LIVE_VARIABLE_TYPES.string,"%s = optimizely.get_feature_variable_string('%s', '%s', user_id)"),o)),_defineProperty(v,C.default.sdkLanguages.RUBY,(_defineProperty(c={},S.default.LIVE_VARIABLE_TYPES.boolean,"%s = optimizely.get_feature_variable_boolean('%s', '%s', user_id)"),_defineProperty(c,S.default.LIVE_VARIABLE_TYPES.double,"%s = optimizely.get_feature_variable_double('%s', '%s', user_id)"),_defineProperty(c,S.default.LIVE_VARIABLE_TYPES.integer,"%s = optimizely.get_feature_variable_integer('%s', '%s', user_id)"),_defineProperty(c,S.default.LIVE_VARIABLE_TYPES.string,"%s = optimizely.get_feature_variable_string('%s', '%s', user_id)"),c)),_defineProperty(v,C.default.sdkLanguages.JAVASCRIPT,(_defineProperty(l={},S.default.LIVE_VARIABLE_TYPES.boolean,"var %s = optimizely.getFeatureVariableBoolean('%s', '%s', userId);"),_defineProperty(l,S.default.LIVE_VARIABLE_TYPES.double,"var %s = optimizely.getFeatureVariableDouble('%s', '%s', userId);"),_defineProperty(l,S.default.LIVE_VARIABLE_TYPES.integer,"var %s = optimizely.getFeatureVariableInteger('%s', '%s', userId);"),_defineProperty(l,S.default.LIVE_VARIABLE_TYPES.string,"var %s = optimizely.getFeatureVariableString('%s', '%s', userId);"),l)),_defineProperty(v,C.default.sdkLanguages.JAVA,(_defineProperty(u={},S.default.LIVE_VARIABLE_TYPES.boolean,"Boolean %s = optimizely.getFeatureVariableBoolean('%s', '%s', userId);"),_defineProperty(u,S.default.LIVE_VARIABLE_TYPES.double,"Double %s = optimizely.getFeatureVariableDouble('%s', '%s', userId);"),_defineProperty(u,S.default.LIVE_VARIABLE_TYPES.integer,"Integer %s = optimizely.getFeatureVariableInteger('%s', '%s', userId);"),_defineProperty(u,S.default.LIVE_VARIABLE_TYPES.string,"String %s = optimizely.getFeatureVariableString('%s', '%s', userId);"),u)),_defineProperty(v,C.default.sdkLanguages.PHP,(_defineProperty(d={},S.default.LIVE_VARIABLE_TYPES.boolean,"$%s = optimizely.getFeatureVariableBoolean('%s', '%s', $userId);"),_defineProperty(d,S.default.LIVE_VARIABLE_TYPES.double,"$%s = optimizely.getFeatureVariableDouble('%s', '%s', $userId);"),_defineProperty(d,S.default.LIVE_VARIABLE_TYPES.integer,"$%s = optimizely.getFeatureVariableInteger('%s', '%s', $userId);"),_defineProperty(d,S.default.LIVE_VARIABLE_TYPES.string,"$%s = optimizely.getFeatureVariableString('%s', '%s', $userId);"),d)),_defineProperty(v,C.default.sdkLanguages.CSHARP,(_defineProperty(p={},S.default.LIVE_VARIABLE_TYPES.boolean,"Boolean %s = optimizely.getFeatureVariableBoolean('%s', '%s', userId);"),_defineProperty(p,S.default.LIVE_VARIABLE_TYPES.double,"Double %s = optimizely.getFeatureVariableDouble('%s', '%s', userId);"),_defineProperty(p,S.default.LIVE_VARIABLE_TYPES.integer,"Integer %s = optimizely.getFeatureVariableInteger('%s', '%s', userId);"),_defineProperty(p,S.default.LIVE_VARIABLE_TYPES.string,"String %s = optimizely.getFeatureVariableString('%s', '%s', userId);"),p)),_defineProperty(v,C.default.sdkLanguages.IOS,(_defineProperty(m={},S.default.LIVE_VARIABLE_TYPES.boolean,'bool %s = [optimizely getFeatureVariableBoolean:@"%s" userId: userId];'),_defineProperty(m,S.default.LIVE_VARIABLE_TYPES.double,'double %s = [optimizely getFeatureVariableDouble:@"%s" userId: userId];'),_defineProperty(m,S.default.LIVE_VARIABLE_TYPES.boolean,'int %s = [optimizely getFeatureVariableInteger:@"%s" userId: userId];'),_defineProperty(m,S.default.LIVE_VARIABLE_TYPES.boolean,'NSString *%s = [optimizely getFeatureVariableString:@"%s" userId: userId];'),m)),_defineProperty(v,C.default.sdkLanguages.TV_OS,(_defineProperty(g={},S.default.LIVE_VARIABLE_TYPES.boolean,'BOOL %s = [optimizely getFeatureVariableBoolean:@"%s" userId: userId];'),_defineProperty(g,S.default.LIVE_VARIABLE_TYPES.double,'double %s = [optimizely getFeatureVariableDouble:@"%s" userId: userId];'),_defineProperty(g,S.default.LIVE_VARIABLE_TYPES.boolean,'NSInteger %s = [optimizely getFeatureVariableInteger:@"%s" userId: userId];'),_defineProperty(g,S.default.LIVE_VARIABLE_TYPES.boolean,'NSString *%s = [optimizely getFeatureVariableString:@"%s" userId: userId];'),g)),_defineProperty(v,C.default.sdkLanguages.ANDROID,(_defineProperty(h={},S.default.LIVE_VARIABLE_TYPES.boolean,"Boolean %s = optimizely.getFeatureVariableBoolean('%s', '%s', userId);"),_defineProperty(h,S.default.LIVE_VARIABLE_TYPES.double,"Double %s = optimizely.getFeatureVariableDouble('%s', '%s', userId);"),_defineProperty(h,S.default.LIVE_VARIABLE_TYPES.integer,"Integer %s = optimizely.getFeatureVariableInteger('%s', '%s', userId);"),_defineProperty(h,S.default.LIVE_VARIABLE_TYPES.string,"String %s = optimizely.getFeatureVariableString('%s', '%s', userId);"),h)),_defineProperty(v,C.default.sdkLanguages.ANDROID_TV,(_defineProperty(y={},S.default.LIVE_VARIABLE_TYPES.boolean,"Boolean %s = optimizely.getFeatureVariableBoolean('%s', '%s', userId);"),_defineProperty(y,S.default.LIVE_VARIABLE_TYPES.double,"Double %s = optimizely.getFeatureVariableDouble('%s', '%s', userId);"),_defineProperty(y,S.default.LIVE_VARIABLE_TYPES.integer,"Integer %s = optimizely.getFeatureVariableInteger('%s', '%s', userId);"),_defineProperty(y,S.default.LIVE_VARIABLE_TYPES.string,"String %s = optimizely.getFeatureVariableString('%s', '%s', userId);"),y)),v),R=(_defineProperty(_={},C.default.sdks.PYTHON,P[C.default.sdkLanguages.PYTHON]),_defineProperty(_,C.default.sdks.RUBY,P[C.default.sdkLanguages.RUBY]),_defineProperty(_,C.default.sdks.NODE,P[C.default.sdkLanguages.JAVASCRIPT]),_defineProperty(_,C.default.sdks.JAVASCRIPT,P[C.default.sdkLanguages.JAVASCRIPT]),_defineProperty(_,C.default.sdks.JAVA,P[C.default.sdkLanguages.JAVA]),_defineProperty(_,C.default.sdks.PHP,P[C.default.sdkLanguages.PHP]),_defineProperty(_,C.default.sdks.CSHARP,P[C.default.sdkLanguages.CSHARP]),_defineProperty(_,C.default.sdks.IOS,P[C.default.sdkLanguages.IOS]),_defineProperty(_,C.default.sdks.TV_OS,P[C.default.sdkLanguages.TV_OS]),_defineProperty(_,C.default.sdks.ANDROID,P[C.default.sdkLanguages.ANDROID]),_defineProperty(_,C.default.sdks.ANDROID_TV,P[C.default.sdkLanguages.ANDROID_TV]),_),w=(_defineProperty(E={},C.default.sdks.PYTHON,"enabled = optimizely.is_feature_enabled('%s', user_id)"),_defineProperty(E,C.default.sdks.RUBY,"enabled = optimizely.is_feature_enabled('%s', user_id)"),_defineProperty(E,C.default.sdks.JAVASCRIPT,"var enabled = optimizely.isFeatureEnabled('%s', userId);"),_defineProperty(E,C.default.sdks.NODE,"var enabled = optimizely.isFeatureEnabled('%s', userId);"),_defineProperty(E,C.default.sdks.JAVA,"Boolean enabled = optimizely.isFeatureEnabled('%s', userId);"),_defineProperty(E,C.default.sdks.PHP,"$enabled = optimizely.isFeatureEnabled('%s', $userId);"),_defineProperty(E,C.default.sdks.CSHARP,"Boolean enabled = optimizely.isFeatureEnabled('%s', userId);"),_defineProperty(E,C.default.sdks.IOS,'BOOL enabled = [optimizely isFeatureEnabled:@"%s" userId: userId];'),_defineProperty(E,C.default.sdks.TV_OS,'BOOL enabled = [optimizely isFeatureEnabled:@"%s" userId: userId];'),_defineProperty(E,C.default.sdks.ANDROID,"Boolean enabled = optimizely.isFeatureEnabled('%s', userId);"),_defineProperty(E,C.default.sdks.ANDROID_TV,"Boolean enabled = optimizely.isFeatureEnabled('%s', userId);"),E);r.default={TABLE_ID:I,NAV_TABS:A,VARIABLE_VALUE_DEFAULTS:O,VARIABLE_CODE_BLOCKS_BY_LANG:P,VARIABLE_CODE_BLOCKS:R,FEATURE_CODE_BLOCKS:w}},function(t,r,a){"use strict";r.a={MAX_CUSTOM_ATTRIBUTES:100,MAX_CUSTOM_ATTRIBUTES_PER_CUSTOM_PROJECT:100,MAX_EXPERIMENTS_PER_PROJECT:800}},function(t,r,a){"use strict";var i=a(2),o=a(41),c=a(316),l=Object(o.default)(c.a.v1),u=Object(o.default)(c.a.v2),d=[l.entityCache,u.entityCache,function(t,r){var a=(r||[]).map((function(t){return t.merge({user_id:t.get("target_user_email"),is_v2:!0})}));return t.concat(a)}];r.a={entityCache:d,byId:function byId(t){return[d,function(r){return r.get(t)}]},byUserId:function byUserId(t){return[d,function(r){var a=r.filter((function(r){return r.get("user_id")===t}));return a&&a.size>0?a.first():void 0}]},emailToCollaboratorMap:[d,function(t){return Object(i.toImmutable)({}).withMutations((function(r){t.forEach((function(t){r.set(t.get("user_id"),t)}))}))}]}},function(t,r,a){"use strict";r.a={entity:"events",parent:{entity:"projects",key:"project_id"}}},function(t,r,a){"use strict";r.a={entity:"experiment_sections",parent:{entity:"layer_experiments",key:"layer_experiment_id"}}},function(t,r,a){"use strict";r.a={entity:"metrics",parent:{entity:"projects",key:"project_id"}}},function(t,r,a){"use strict";r.a={entity:"views",parent:{entity:"projects",key:"project_id"}}},function(t,r){r.getNow=function(){return window.performance&&window.performance.now?window.performance.now():Date.now()}},,,function(t,r,a){"use strict";a.r(r),a.d(r,"getThirdPartyIntegrationName",(function(){return getThirdPartyIntegrationName})),a.d(r,"getKeyFromConditionName",(function(){return getKeyFromConditionName})),a.d(r,"enabledVersions",(function(){return enabledVersions})),a.d(r,"buildOneClickIntegrationConditionsConfigObject",(function(){return buildOneClickIntegrationConditionsConfigObject})),a.d(r,"buildCustomAudienceIntegrationConditionsConfigObject",(function(){return buildCustomAudienceIntegrationConditionsConfigObject}));var i=a(2),o=a(466);function getThirdPartyIntegrationName(t){var r=t.split(".");return"".concat(r[0],".").concat(r[1])}function getKeyFromConditionName(t){var r=t.split(".");return r[2]?r[2]:""}function enabledVersions(t,r,a){var i=[];return t?i=[o.a.audienceVersions.OPTIMIZELY_X]:(r&&i.push(o.a.audienceVersions.OPTIMIZELY_CLASSIC),a&&i.push(o.a.audienceVersions.OPTIMIZELY_X)),i}function buildOneClickIntegrationConditionsConfigObject(t,r){return t.map((function(t){var a=r.find((function(r){return r.get("integration_id")===t.get("id")})),o=(a?a.get("conditions"):Object(i.toImmutable)([])).map((function(t){return t.set("integration_master_label",a.get("master_label")).set("integration_id",a.get("integration_id"))}));return Object(i.toImmutable)({id:t.get("id"),masterLabel:t.get("masterLabel"),conditions:o})}))}function buildCustomAudienceIntegrationConditionsConfigObject(t,r){return t.map((function(t){var a=r.find((function(r){return r.get("integration_id")===t.get("api_name")})),o=(a?a.get("conditions"):Object(i.toImmutable)([])).map((function(t){return t.set("integration_master_label",a&&a.get("master_label")).set("integration_id",a&&a.get("integration_id"))}));return Object(i.toImmutable)({id:t.get("id"),masterLabel:a&&a.get("master_label"),conditions:o})}))}r.default={enabledVersions:enabledVersions,buildOneClickIntegrationConditionsConfigObject:buildOneClickIntegrationConditionsConfigObject,buildCustomAudienceIntegrationConditionsConfigObject:buildCustomAudienceIntegrationConditionsConfigObject,getKeyFromConditionName:getKeyFromConditionName,getThirdPartyIntegrationName:getThirdPartyIntegrationName}},function(t,r,a){"use strict";var i=a(2),o=Object(i.toImmutable)({enabled:!0}),c=o.set("enabled",!1);r.a={OUTLIER_FILTER_DEFAULT_STATE:o,OUTLIER_FILTER_PRIOR_LAYERS_DEFAULT_STATE:c}},function(t,r,a){"use strict";var i=a(2),o=a(20);var c=o.enums.ActualStatus.RUNNING;r.a={isFeatureAssignmentValid:function isFeatureAssignmentValid(t,r,a){if(!t.get("id"))return!0;var o=r.find((function(r){return r.get("id")===t.get("id")})),l=o?o.mergeDeep(t):t,u=l.get("feature_flag_id");if(!Number.isFinite(u))return!0;var d=r;if(!a){var p=function makeEnvironmentAlias(t){return Object(i.toImmutable)(function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}({},"PRODUCTION",{environment_id:"PRODUCTION",status:t.get("actual_status")}))};l=l.set("environments",p(l)),d=r.map((function(t){return t.set("environments",p(t))}))}if(!l.get("environments").some((function(t){return t.get("status")===c})))return!0;var m=l.get("environments").filter((function(t){return t.get("status")===c})).toList().map((function(t){return t.get("environment_id")}));return!d.map((function(t){return t.set("environments_list",t.get("environments",Object(i.toImmutable)({})).toList())})).some((function(t){return t.get("feature_flag_id")===u&&t.get("id")!==l.get("id")&&t.get("environments_list").some((function(t){return m.includes(t.get("environment_id"))&&t.get("status")===c}))&&(t.get("group_id")!==l.get("group_id")||[0,null].includes(t.get("group_id",null)))}))}}},function(t,r,a){"use strict";r.a={eventTypes:{CLICK:"click",CUSTOM:"custom",PAGE_VIEW:"pageview",REVENUE:"revenue",EVENT:"event"},METRIC_LIMIT:4,METRICS_PICKER_EDIT_METRIC_FINISH:"metrics-picker-edit-metric-finish",METRICS_PICKER_EDIT_METRIC_START:"metrics-picker-edit-metric-start",VIEW_ACTIVATED_EVENT_TYPE:"view_activated"}},,function(t,r,a){"use strict";var i=a(15);r.a={getEnvironment:function getEnvironment(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.ENVIRONMENT||i.AppEnvironment.PRODUCTION},getEnvS3Bucket:function getEnvS3Bucket(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.S3_BUCKET||"optimizely"}}},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({P13N_SET_LAYER_DESCRIPTION:null,P13N_SET_LAYER_NAME:null})},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(523),l=a(100);r.a={validateAccountInfo:function validateAccountInfo(t,r){var a={first_name:{msg:tr("First name is required"),fn:function fn(t){return t.length>0}},last_name:{msg:tr("Last name is required"),fn:function fn(t){return t.length>0}},email:{msg:tr("Invalid Email Address"),fn:function fn(t){return l.default.email.test(t)}},"terms-of-service":{msg:tr("Please accept our Terms of Service"),fn:function fn(t){return"on"===t}}};return r&&(a=o.a.pick(a,r)),this.validateInfo(a,t)},validateCreatePasswordInfo:function validateCreatePasswordInfo(t){var r={email:{msg:tr("Invalid Email Address"),fn:function fn(t){return l.default.email.test(t)}},password:{msg:tr("Invalid Password"),fn:function fn(t){return c.a.checkComplexPassword(t).passed}},confirm_password:{msg:tr("Invalid Password"),fn:function fn(t){return c.a.checkComplexPassword(t).passed}},create_password_token:{msg:tr("Invalid Token"),fn:function fn(t){return l.default.token.test(t)}}};return this.validateInfo(r,t)},validateSetPasswordInfo:function validateSetPasswordInfo(t){var r={email:{msg:tr("Invalid Email Address"),fn:function fn(t){return l.default.email.test(t)}},new_password1:{msg:tr("Invalid Password"),fn:function fn(t){return c.a.checkComplexPassword(t).passed}},new_password2:{msg:tr("Invalid Password"),fn:function fn(t){return c.a.checkComplexPassword(t).passed}},token:{msg:tr("Invalid Token"),fn:function fn(t){return/^[a-z0-9]+$/i.test(t)}}};return this.validateInfo(r,t)},validateInfo:function validateInfo(t,r){for(var a={valid:!0,msg:""},i=Object.keys(t),o=0;o<i.length;o++)if(!r.hasOwnProperty(i[o])||!t[i[o]].fn(r[i[o]])){a.valid=!1,a.msg=t[i[o]].msg;break}return a}}},function(t,r,a){"use strict";var i=a(100),o=a(12),c=a.n(o),l=a(1348),u=a.n(l),d=a(42),p="".concat(a.n(d).a.get("env.HOST_URL"),"/static/js/zxcvbn.js");function checkComplexPassword(t){for(var r="message",a=!0,i=[/[a-z]/,/[A-Z]/,/[0-9]/,/[?=.*!@#$%^&*]/],o=4,c=0;c<i.length;c++)i[c].test(t)||o--;return(o<=1||t.length<8)&&(r=tr("Use at least 8 characters and a mix of upper/lowercase letters, numbers, or symbols."),a=!1),{passed:a,message:r}}r.a={validateLogin:function validateLogin(t){return i.default.email.test(t.email)&&checkComplexPassword(t.password).passed},checkComplexPassword:checkComplexPassword,checkPasswordStrength:function checkPasswordStrength(t,r){var a=c.a.Deferred();return u()([p],"zxcvbn"),u.a.ready("zxcvbn",(function(){var i=function passwordStrength(t,r){return r=r||{},window.zxcvbn(t,[r.firstName,r.lastName,r.email]).score}(t,r);a.resolve(i)})),a.promise()}}},function(t,r,a){"use strict";var i=a(36),o=a(835);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a),l=i.default.createEntityActions(Object.assign({},o.a,{parent:null}));c.save,c.fetch,c.fetchAll,c.fetchPage,c.fetchAllPages,c.flush,c.delete;r.a=_extends({},c,{fetchAllPagesForAccount:function fetchAllPagesForAccount(){return l.fetchAllPages.apply(l,arguments)}})},function(t,r,a){"use strict";r.a={description:["p13n/layerSettings","description"],name:["p13n/layerSettings","name"]}},function(t,r,a){"use strict";a.d(r,"b",(function(){return V}));var i,o,c=a(26),l=a(19),u=a(1003),d=a(218),p=a(295),m=a(40),g=a(98),h=a(1),y=a.n(h),v=a(0),_=a.n(v),E=a(28),b=a(37),T=a(227),S=a(231),C=a(167),I=a(22),A=a(39),O=a(17),P=a.n(O),R=a(54),w=a(8),N=a.n(w),L=a(131),x=a(5),D=a(869),k=a(2683),j=a.n(k),M=a(2684),U=a.n(M);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var V=P()({EDGE:null,FULL_STACK:null,MOBILE:null,MOBILE_OTT:null,WEB:null,OTT:null}),B={edge:V.EDGE,web:V.WEB,fullstack:V.FULL_STACK},G={EDGE:N()("Edge"),FULL_STACK:N()("Full Stack"),MOBILE:N()("Mobile"),MOBILE_OTT:N()("Mobile / OTT"),WEB:N()("Web"),OTT:N()("OTT")};function showUpsellDialog(t){x.default.showUpsell({message:N()("Your account does not allow creating new {0} projects. To gain access, please contact your Optimizely Customer Success Manager or Optimizely Sales.",t),title:N()("Would you like access to {0}?",t)})}var H=function renderImageContainerFromPath(t){return _.a.createElement("div",{className:"push-quad--right"},_.a.createElement("img",{src:t,className:"width--150",alt:"logo"}))},z=_.a.createElement("span",{key:"lock",className:"push-half--left","data-test-section":"platform-card-lock"},_.a.createElement(c.a,{name:"lock",size:"small"})),W=function PlatformCard(t){var r=t.image,a=t.title,i=t.body,o=t.buttonContent,c=t.onSelect,u=t.testSection;return _.a.createElement("div",{className:"flex shadow-box push-quad--bottom","data-test-section":u},r,_.a.createElement("div",{className:"flex--1"},_.a.createElement("h3",null,a),_.a.createElement("p",{className:"push-double--bottom"},i),_.a.createElement(l.a,{style:"outline",onClick:c,testSection:"select-platform"},o)))};W.propTypes={body:y.a.node.isRequired,buttonContent:y.a.node.isRequired,image:y.a.node.isRequired,onSelect:y.a.func.isRequired,testSection:y.a.string.isRequired,title:y.a.node.isRequired};var q={description:"",isLoading:!1,name:"",selectedPlatform:null},Y=Object(E.a)({canUseDatafileAuthentication:A.default.canUseDatafileAuthentication,canAccountUseEdgeProjects:A.default.canAccountUseEdgeProjects,canUseFullStackSDKs:[b.default.accountPermissions,I.default.canUseFullStackSDKs],canUseMobileSDKs:[b.default.accountPermissions,I.default.canUseMobileSDKs],canUseXWeb:A.default.canUseXWeb,canUseOverTheTopSDKs:[b.default.accountPermissions,I.default.canUseOverTheTopSDKs],canCreateFullStackProjects:[[b.default.accountPermissions,I.default.canUseFullStackSDKs],[b.default.accountPermissions,I.default.canUseFullStackMultipleProjects],C.a.isLoading("activeProjects"),S.a.fullstackProjects,function(t,r,a,i){return!!t&&(!!r||!a&&0===i.size)}]})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(CreateProject,t);var r=_createSuper(CreateProject);function CreateProject(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,CreateProject),(a=r.call(this,t)).onEdgeSelect=function(){a.props.canAccountUseEdgeProjects?a.setState({selectedPlatform:V.EDGE}):showUpsellDialog(G[V.EDGE])},a.onWebSelect=function(){a.props.canUseXWeb?a.setState({selectedPlatform:V.WEB}):showUpsellDialog(G[V.WEB])},a.onFullStackSelect=function(){a.props.canCreateFullStackProjects?a.setState({selectedPlatform:V.FULL_STACK}):showUpsellDialog(G[V.FULL_STACK])},a.onMobileOrOTTSelect=function(){a.setState({selectedPlatform:V.FULL_STACK})},a.onNameInput=function(t){a.setState({name:t.target.value.slice(0,50)})},a.onDescriptionInput=function(t){a.setState({description:t.target.value.slice(0,200)})},a.onBack=function(){a.setState(q)},a.onCreate=function(){var t=a.state,r=t.description,i=t.name,o=t.selectedPlatform,c=t.hasPrivateDefaultDatafiles,l=t.useFullStackLegacyExperience,u=a.props.onCreate;a.setState({isLoading:!0}),u(_extends({description:r,name:i,selectedPlatform:o,hasPrivateDefaultDatafiles:c},o===B.fullstack?{useFullStackLegacyExperience:l}:{})).fail((function(){a.setState({isLoading:!1})}))},a.updatePrivateDefaultDatafiles=function(){a.setState((function(t){return{hasPrivateDefaultDatafiles:!t.hasPrivateDefaultDatafiles}}))},a.updateuseFullStackLegacyExperience=function(){a.setState((function(t){return{useFullStackLegacyExperience:!t.useFullStackLegacyExperience}}))};var i=null,o=B[t.projectType];return o&&(i=o),a.state=_extends({},q,{selectedPlatform:i,useFullStackLegacyExperience:!1}),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(CreateProject,[{key:"render",value:function render(){var t,r=this.props,a=r.canUseDatafileAuthentication,i=r.canUseFullStackSDKs,o=r.canUseMobileSDKs,c=r.canUseOverTheTopSDKs,h=r.canAccountUseEdgeProjects,y=r.canUseXWeb,v=r.canCreateFullStackProjects,E=this.state,b=E.selectedPlatform,S=E.isLoading,C=h,I=!i&&o&&!c,A=!i&&!o&&c,O=!i&&o&&c,P=a&&i&&b===V.FULL_STACK,w=i&&b===V.FULL_STACK;if(null===b){var x,k=[N()("Create Edge Project")],M=[N()("Create Web Project")];if(y||M.push(z),I)x={image:_.a.createElement(D.a,{isMobileOrOTTOnlyAccount:!0}),title:G[V.MOBILE],body:N()("Run mobile experiments on Android and Apple iOS devices. Upgrade your license to include Full Stack and take advantage of other platforms."),buttonContent:N()("Create Mobile Project"),testSection:"platform-card-mobile",onSelect:this.onMobileOrOTTSelect};else if(A)x={image:_.a.createElement(D.a,{isMobileOrOTTOnlyAccount:!0}),title:G[V.OTT],body:N()("Run OTT experiments on Android and Apple iOS devices. Upgrade your license to include Full Stack and take advantage of other platforms."),buttonContent:N()("Create OTT Project"),testSection:"platform-card-ott",onSelect:this.onMobileOrOTTSelect};else if(O)x={image:_.a.createElement(D.a,{isMobileOrOTTOnlyAccount:!0}),title:G[V.MOBILE_OTT],body:N()("Run experiments on Android and Apple iOS devices. Upgrade your license to include Full Stack and take advantage of other platforms."),buttonContent:N()("Create Mobile / OTT Project"),testSection:"platform-card-mobile-ott",onSelect:this.onMobileOrOTTSelect};else{var B=[N()("Create Full Stack Project")];v||B.push(z),x={image:_.a.createElement(D.a,null),title:G[V.FULL_STACK],body:N()("Run experiments anywhere in your technology stack. Supported platforms and languages include C#, Go, Java, JavaScript, React, Node, PHP, Python, Ruby, Android, iOS, Android TV, and tvOS."),buttonContent:B,testSection:"platform-card-full-stack",onSelect:this.onFullStackSelect}}t=[_.a.createElement(W,{key:"web-platform-card",image:H(U.a),title:G[V.WEB],body:N()("Optimize your website using Optimizely's visual editor or code editor. If you're unsure, choose this project type to get started."),buttonContent:M,onSelect:this.onWebSelect,testSection:"platform-card-web"}),C?_.a.createElement(W,{key:"edge-platform-card",image:H(j.a),title:G[V.EDGE],body:N()("Run A/B tests on your website using Optimizely's visual editor or code editor with extremely fast page load performance."),buttonContent:k,onSelect:this.onEdgeSelect,testSection:"platform-card-edge"}):null,_.a.createElement(W,{key:"full-stack-platform-card",image:x.image,title:x.title,body:x.body,buttonContent:x.buttonContent,testSection:x.testSection,onSelect:x.onSelect})]}else{var q=this.state,Y=q.name,K=q.description,J=q.hasPrivateDefaultDatafiles,X=q.useFullStackLegacyExperience,$=T.a.getHelpCopy("create_project_legacy_fullstack_text","If you want to take advantage of future Full Stack features, leave this option unchecked. If you need legacy Full Stack to use Stats Accelerator, Multi-Armed Bandits, Mutual Exclusions Groups, or linking to ideas in Program Management, select this option."),Q=T.a.getHelpCopy("create_project_legacy_fullstack_learn_more_link","https://docs.developers.optimizely.com/full-stack/v2.1/docs"),Z=0===Y.length;t=_.a.createElement("div",null,_.a.createElement("p",{className:"push--bottom"},"Add a name and description for this project. You can change these at any time in the Project Settings."),_.a.createElement("div",{className:"push-double--bottom"},_.a.createElement(u.a,{isRequired:!0,label:"Name",placeholder:"Enter name",testSection:"project-creator-name",type:"text",value:Y,onInput:this.onNameInput})),_.a.createElement(d.a,{label:"Description",placeholder:"Enter description",testSection:"project-creator-description",value:K,onInput:this.onDescriptionInput}),_.a.createElement("fieldset",null,P&&_.a.createElement("div",{className:"push-double--top"},_.a.createElement(p.a,{label:"Secure environments","data-test-section":"secure-environments-checkbox",onChange:this.updatePrivateDefaultDatafiles,checked:J}),_.a.createElement("div",{className:"push-triple--left"},_.a.createElement("p",null,"The default environments for this project will be secure environments and will not be publicly accessible without access tokens."," ",_.a.createElement(m.a,{href:"https://docs.developers.optimizely.com/full-stack/v2.1/docs/create-and-manage-environments",newWindow:!0},"Learn more.")))),w&&_.a.createElement("div",{className:"push-double--top"},_.a.createElement(p.a,{label:"Use Legacy Experience","data-test-section":"legacy-experience-checkbox",onChange:this.updateuseFullStackLegacyExperience,checked:X}),_.a.createElement("div",{className:"push-triple--left"},_.a.createElement("p",null,$," ",_.a.createElement(m.a,{href:Q,newWindow:!0},"Learn more."))))),_.a.createElement("div",{className:"border--top soft-double--top"},_.a.createElement("div",{className:"flex flex-align--center"},_.a.createElement("div",{className:"oui-sheet__required-indicator cursor--default color--red"},_.a.createElement("span",null,"* Required field")),_.a.createElement("div",{className:"flex--1"},_.a.createElement(g.a,{rightGroup:[_.a.createElement(l.a,{key:"back",style:"plain",onClick:this.onBack},"Back"),_.a.createElement(l.a,{key:"create",isDisabled:Z,style:"highlight",testSection:"project-creator-create",onClick:this.onCreate},"Create Project")]})))))}return _.a.createElement(R.default,{isLoading:S},_.a.createElement(L.d,{testSection:"project-creator"},_.a.createElement("h2",{className:"weight--light"},"Create Project"),_.a.createElement("p",{className:"push-quad--bottom"},"Use Optimizely to run experiments on a variety of platforms. Choose the platform which best suits your type of project. For more information, see"," ",_.a.createElement("a",{href:"https://help.optimizely.com/Set_Up_Optimizely/Manage_projects_in_Optimizely_X",target:"_blank",rel:"noopener noreferrer"},"Managing Projects"),"."),t))}}]),CreateProject}(_.a.Component)).propTypes={canAccountUseEdgeProjects:y.a.bool.isRequired,canCreateFullStackProjects:y.a.bool,canUseDatafileAuthentication:y.a.bool.isRequired,canUseFullStackSDKs:y.a.bool.isRequired,canUseMobileSDKs:y.a.bool.isRequired,canUseOverTheTopSDKs:y.a.bool.isRequired,canUseXWeb:y.a.bool.isRequired,onCreate:y.a.func.isRequired,projectType:y.a.string},o.defaultProps={projectType:null,canCreateFullStackProjects:!1},i=o))||i;r.a=Y},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({TRACK_CACHE_HIT:null,START_TRACKING_CACHE_HITS:null,STOP_TRACKING_CACHE_HITS:null})},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({BROWSER_HISTORY_PUSH_STATE:null,BROWSER_HISTORY_POP_PREVIOUS_STATE:null,BROWSER_HISTORY_REPLACE_STATE:null})},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({SET_IS_FIRST_SIGNIN:null,SET_IS_DIALOG_VISIBLE:null,CHECK_PROFILE_DETAILS:null})},function(t,r,a){"use strict";var i=a(17),o=a.n(i)()({FLAG_ERROR:null,RESET_ERROR_FLAGS:null,SET_GROUP:null});r.a=o},function(t,r,a){"use strict";var i=a(17)({ONBOARDING_GOTO_STEP:null,ONBOARDING_NEXT_STEP:null,ONBOARDING_SET_LANGUAGE:null,ONBOARDING_SET_PROJECT_TYPE:null,ONBOARDING_SET_DATAFILE_URL:null,ONBOARDING_LOAD_PROGRESS:null,ONBOARDING_FEEDBACK_SUBMITTED:null});r.a=i},function(t,r,a){"use strict";a.d(r,"a",(function(){return i}));var i=[" ","_",";",",",".","|","/","\\","\t","\n"];r.b={KEYWORD_INPUT_SEPARATORS:i,TAGS_LIMIT:12,TAGS_LIMIT_VISIBLE_THRESHOLD:.75}},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({FILTERABLE_TABLE_RESET_FILTER:null,FILTERABLE_TABLE_SET_FILTER:null,FILTERABLE_TABLE_SET_FILTER_DEFAULT:null})},function(t,r,a){"use strict";a.d(r,"a",(function(){return o}));var i=a(17);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var o=a.n(i)()({SORT_TABLE:null,TOGGLE_SORT_TABLE_FIELD:null,RESET_TABLE_SORTING:null});_extends({},o)},,function(t,r,a){"use strict";r.a={USER_TYPE:{guest:"guest",enterprise:"enterprise",selfServe:"selfServe",saturatedSelfServe:"saturatedSelfServe"},ENTERPRISE_SUBSTRING:"enterprise",ENTERPRISE_C_SUBSTRING:"c",PP2020_FS_PLUS_ROLLOUT:"pp2020_fs_plus_rollout"}},,function(t,r,a){"use strict";a.d(r,"c",(function(){return o})),a.d(r,"a",(function(){return c})),a.d(r,"b",(function(){return l}));var i=a(17),o={DIALOG_DISMISS:"Features Intro Dialog: closed",DIALOG_CLICK_TO_DOCS:"Features Intro Dialog: clicked link to docs"},c=a.n(i)()({DIALOG_MOUNTED_START:null,DIALOG_TIMER_STOP_ON_DISMISS:null,DIALOG_TIMER_STOP_ON_LINK_CLICK:null}),l={href:"https://docs.developers.optimizely.com/rollouts/docs/quickstart"}},function(t,r,a){"use strict";a.r(r);var i=a(1076);a.d(r,"actions",(function(){return i.a}));var o=a(575);a.d(r,"entityDef",(function(){return o.a}));var c=a(96);a.d(r,"enums",(function(){return c.default}));var l=a(755);a.d(r,"fns",(function(){return l.default}));var u=a(377);a.d(r,"getters",(function(){return u.default}));var d=a(1226);a.d(r,"humanReadable",(function(){return d.a})),r.default={actions:i.a,entityDef:o.a,enums:c.default,fns:l.default,getters:u.default,humanReadable:d.a}},function(t,r,a){var i=a(2).toImmutable,o=a(301);r.iframes=["p13n/editorIframe"],r.iframe=function(t){return["p13n/editorIframe",t]},r.iframeComponent=function(t){return["p13n/editorIframe",t,"component"]},r.iframeLoadingStatus=function(t){return["p13n/editorIframe",t,"loadStatus"]},r.width=function(t){return["p13n/editorIframe",t,"width"]},r.selectedDevice=function(t){return["p13n/editorIframe",t,"selectedDevice"]},r.isLandscapeMode=function(t){return["p13n/editorIframe",t,"isLandscapeMode"]},r.editorType=function(t){return["p13n/editorIframe",t,"editorType"]},r.frameMode=function(t){return["p13n/editorIframe",t,"mode"]},r.frameType=function(t){return["p13n/editorIframe",t,"frameType"]},r.urlProtocolMap=["p13n/urlProtocolMap"],r.iframeLoggingEnabled=["p13n/editorIframeLogging","loggingEnabled"],r.iframeLog=function(t){return[["p13n/editorIframe",t,"log"],function(t){return t||i([])}]},r.urlProtocolMapping=function(t){return["p13n/urlProtocolMap",t]},r.shouldShortcutProxyTimeoutForUrl=function(t){return[r.urlProtocolMap,function(r){return r.has(t)&&r.get(t)===o.ProtocolTypes.PROXY}]},r.iframeCustomCodeAlertsShown=function(t){return["p13n/editorIframe",t,"customCodeAlertsShown"]},r.iframeEvalError=function(t){return["p13n/editorIframe",t,"evalError"]}},,,,function(t,r,a){var i=a(8);t.exports=function(t){if(null==t)return"";if(0===t)return i("0 bytes");var r=Math.floor(Math.log(t)/Math.log(1024)),a=t/Math.pow(1024,r);switch(r){case 0:return i("{0} bytes",i.number(a,0));case 1:return i("{0} KB",i.number(a,2));case 2:return i("{0} MB",i.number(a,2));case 3:return i("{0} GB",i.number(a,2));default:return""}}},,,,,,,,,,,function(t,r,a){"use strict";var i=a(3),o=a(43),c=a(179),l=function getUpgradeLink(){return i.default.evaluate(o.getters.isFreeRolloutsPlan)?c.a.UpgradeVariables.PP2020_UPGRADE_LINK:c.a.UpgradeVariables.UPGRADE_LINK},u=function getUpgradeDialogButtonText(){return c.a.UpgradeVariables.UPSELL_DIALOG_BUTTON_TEXT};r.a={getUpgradeDialogCopy:function getUpgradeDialogCopy(t){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0,o=i?c.a.UpgradeDialogHeaders.UPGRADE_TO_ROLLOUTS_PLUS:c.a.UpgradeDialogHeaders.GENERIC_UPGRADE,d=l(),p=u();return t===c.a.FeatureLimitTypes.CHANGE_HISTORY_DAYS&&(r=c.a.UpgradeDialogMessages(a)[c.a.FeatureLimitTypes.CHANGE_HISTORY_DAYS]),t===c.a.FeatureLimitTypes.RUNNING_EXPERIMENT_LIMIT&&(r=c.a.UpgradeDialogMessages(a)[c.a.FeatureLimitTypes.RUNNING_EXPERIMENT_LIMIT]),t===c.a.FeatureLimitTypes.NUMBER_OF_SEATS_LIMIT&&(r=c.a.UpgradeDialogMessages(a)[c.a.FeatureLimitTypes.NUMBER_OF_SEATS_LIMIT]),{buttonLink:d,buttonText:p,message:r,header:o}},getUpgradeLink:l,getGlobalNavUpgradeButtonText:function getGlobalNavUpgradeButtonText(){return c.a.UpgradeVariables.GLOBAL_NAV_BUTTON_TEXT},getGlobalNavUpgradeHeadingText:function getGlobalNavUpgradeHeadingText(){return c.a.UpgradeVariables.GLOBAL_NAV_SUBHEADING_TEXT}}},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(9),m=a.n(p),g=a(79),h=a(223),y=a(40),v=a(26),_=a(222),E=a(154),b=a(851),T=a(5),S=a(35),C=a(28),I=a(2),A=a(182),O=a.n(A),P=a(54),R=a(50),w=a(403),N=a(10),L=a(34),x=a(14),D=a(242),k=a(446),j=a(1022),M=a(2655);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var U=Object(C.a)({currentProjectId:x.getters.id})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(CreateEventComponent,t);var r=_createSuper(CreateEventComponent);function CreateEventComponent(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,CreateEventComponent),(a=r.call(this,t)).getCustomLabel=function(){var t=R.enums.eventTypes,r=R.humanReadable.EVENT_TYPES;return l.a.createElement(g.a,null,r[t.CUSTOM],l.a.createElement("div",null,l.a.createElement("span",{className:"milli muted"},"Track other kinds of behavior using custom code.")))},a.getPageViewLabel=function(){var t=R.enums.eventTypes,r=R.humanReadable.EVENT_TYPES;return l.a.createElement(g.a,null,r[t.PAGE_VIEW],l.a.createElement("div",null,l.a.createElement("span",{className:"milli muted"},"Track whether a visitor views a certain page.")))},a.goToEventsDashboard=function(){var t=a.props.currentProjectId;S.default.go(O.a.dataLayerTab(t,N.default.DataLayerTabs.EVENT_TAB))};var i=a.props.clickEventsDisabled;return a.state={selectedEventType:i?R.enums.eventTypes.CUSTOM:R.enums.eventTypes.CLICK},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(CreateEventComponent,[{key:"componentDidMount",value:function componentDidMount(){w.actions.resetCurrentEventId()}},{key:"componentWillUnmount",value:function componentWillUnmount(){var t=this.props.currentProjectId,r=[R.actions.fetchAll({project_id:t},!0),L.actions.fetchAll({project_id:t},!0)];T.default.loadingWhen("createWebEventFromDashboard",r)}},{key:"eventsDashboardUrl",value:function eventsDashboardUrl(){var t=this.props.currentProjectId;return O.a.dataLayerTab(t,N.default.DataLayerTabs.EVENT_TAB)}},{key:"getClickLabel",value:function getClickLabel(){var t=l.a.createElement(h.a,null,l.a.createElement("p",null,"You can easily create a click event using the editor once you have created this campaign. You can also create one by going to"," ",l.a.createElement(y.a,{href:this.eventsDashboardUrl(),newWindow:!0},"Events"," ",l.a.createElement(v.a,{name:"arrow-up-right-from-square",size:"small",color:"color--base"}))," ","tab.")),r=this.props.clickEventsDisabled,a=R.enums.eventTypes,i=R.humanReadable.EVENT_TYPES;return l.a.createElement(g.a,null,i[a.CLICK],r&&l.a.createElement("span",{className:"push-half--left"},l.a.createElement(_.a,{horizontalAttachment:"left",shouldHideOnClick:!0,overlay:t,verticalAttachment:"top"},l.a.createElement(v.a,{name:"circle-exclamation",size:"small"}))),l.a.createElement("div",null,l.a.createElement("span",{className:m()({muted:!r,faint:r,milli:!0})},"Track clicks on elements within a page.")))}},{key:"render",value:function render(){var t=this,r=this.props,a=r.onSave,i=r.clickEventsDisabled,o=this.state.selectedEventType,c=R.enums.eventTypes;return l.a.createElement(E.a,{title:"Create New Event",onClose:T.default.hideDialog,testSection:"create-event-page",subtitle:l.a.createElement("p",null,"Custom tracking events allow you to capture and report on visitor actions or events."," ",l.a.createElement("a",{href:"https://support.optimizely.com/hc/en-us/articles/4410289407885-Metrics-in-Optimizely"},"Learn more."))},l.a.createElement(P.default,{loadingId:"createWebEventFromDashboard"},l.a.createElement("div",{className:"overflow-y--auto flex--1"},l.a.createElement("ul",{className:"oui-input-list"},l.a.createElement("li",{className:i?"faint":""},l.a.createElement(b.a,{testSection:"event-type-click",isDisabled:i,checked:o===R.enums.eventTypes.CLICK,name:"click",labelWeight:"bold",label:this.getClickLabel(),onChange:function onChange(){return t.setState({selectedEventType:R.enums.eventTypes.CLICK})}})),l.a.createElement("li",null,l.a.createElement(b.a,{testSection:"event-type-custom",name:"custom",checked:o===R.enums.eventTypes.CUSTOM,labelWeight:"bold",label:this.getCustomLabel(),onChange:function onChange(){return t.setState({selectedEventType:R.enums.eventTypes.CUSTOM})}})),l.a.createElement("li",null,l.a.createElement(b.a,{testSection:"event-type-page-view",name:"page-view",checked:o===R.enums.eventTypes.PAGE_VIEW,labelWeight:"bold",label:this.getPageViewLabel(),onChange:function onChange(){return t.setState({selectedEventType:R.enums.eventTypes.PAGE_VIEW})}}))),!i&&o===c.CLICK&&l.a.createElement("div",{className:"push-quad--top"},l.a.createElement(M.a,null)),o===c.CUSTOM&&l.a.createElement("div",{className:"push-quad--top"},l.a.createElement(j.a,{onSave:i?a:this.goToEventsDashboard,isStandAlone:!1,noRedirectOnCancel:i})),o===c.PAGE_VIEW&&l.a.createElement("div",{className:"push-quad--top"},l.a.createElement(k.default,{onCancel:i?null:this.goToEventsDashboard,onSave:i?a:this.goToEventsDashboard,isStandAlone:!1,viewConfiguration:Object(I.toImmutable)(D.actions.createView())})))))}}]),CreateEventComponent}(l.a.Component)).propTypes={clickEventsDisabled:d.a.bool.isRequired,currentProjectId:d.a.number.isRequired,onSave:d.a.func},o.defaultProps={onSave:function onSave(){}},i=o))||i;r.a=U},function(t,r,a){"use strict";var i=a(33),o=a(4),c=a.n(o);r.a={entity:"audiences",parent:{entity:"projects",key:"project_id"},fieldTypes:{id:i.a.NUMBER,project_id:i.a.NUMBER,name:i.a.STRING,description:i.a.STRING,last_modified:i.a.DATE,conditions:i.a.ARRAY,segmentation:i.a.BOOLEAN},serialize:function serialize(t){return t.conditions&&(t.conditions=JSON.stringify(t.conditions)),t},deserialize:function deserialize(t){return c.a.isString(t.conditions)&&(t.conditions=JSON.parse(t.conditions)),t}}},function(t,r,a){"use strict";var i=a(1218);a.d(r,"a",(function(){return i.a}));var o=a(886);a.d(r,"b",(function(){return o.default}));var c=a(584),l=a(1219);i.a,o.default,c.a,l.a},function(t,r){t.exports={entity:"categories"}},,function(t,r,a){"use strict";a.r(r);var i=a(4),o=a.n(i),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(2),m=a(3),g=a(44);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.default=function filterable(t){var r;return(r=function(r){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(_class,r);var a=_createSuper(_class);function _class(){var t;_classCallCheck(this,_class);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=a.call.apply(a,[this].concat(i))).state={filters:{}},t.setFilter=function(r){g.a.setFilter(t.props.tableId,r)},t.resetFilters=function(){g.a.resetFilter(t.props.tableId)},t.__filterItem=function(r,a){var i=a.string,o=a.status,c=!0;return i&&(c=t.props.filterItemByString(r,i)),c&&o&&(c=t.props.filterItemByStatus(r,o)),c},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(_class,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(t,r){return!(t===this.props&&o.a.isEqual(r,this.state))}},{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){var t=this,r=this.props,a=r.tableId,i=r.defaultFilters,o=g.e.computedFilters(a,i);this.setState({filters:m.default.evaluateToJS(o)}),this.__unwatchFilters=m.default.observe(o,(function(r){t.setState({filters:Object(p.toJS)(r)})})),i&&setTimeout((function(){g.a.setFilterDefault(a,i)}),0)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.__unwatchFilters()}},{key:"render",value:function render(){var r=this,a=this.props.data,i=this.state.filters,c=o.a.omit(this.props,"data");return a&&(c.data=a.filter((function(t){return r.__filterItem(t,i)}))),d.a.createElement(t,_extends({setFilter:this.setFilter,resetFilters:this.resetFilters,filters:i},c))}}]),_class}(d.a.Component)).displayName="FilterableContainer",r.propTypes={tableId:l.a.string.isRequired,data:l.a.instanceOf(p.default.List),defaultFilters:l.a.object,filterItemByString:l.a.func,filterItemByStatus:l.a.func},r.defaultProps={filterItemByString:function filterItemByString(){return!0},filterItemByStatus:function filterItemByStatus(){return!0}},r}},function(t,r,a){"use strict";a.r(r),a.d(r,"save",(function(){return l})),a.d(r,"fetch",(function(){return u})),a.d(r,"fetchAll",(function(){return d})),a.d(r,"fetchPage",(function(){return p})),a.d(r,"fetchAllPages",(function(){return m})),a.d(r,"flush",(function(){return g})),a.d(r,"delete",(function(){return h})),a.d(r,"archive",(function(){return archive})),a.d(r,"unarchive",(function(){return unarchive}));var i=a(36),o=a(602);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a),l=c.save,u=c.fetch,d=c.fetchAll,p=c.fetchPage,m=c.fetchAllPages,g=c.flush,h=c.delete;function archive(t){return c.delete({id:t.id})}function unarchive(t){return c.save({id:t.id,archived:!1})}r.default=_extends({},c,{archive:archive,unarchive:unarchive})},function(t,r,a){var i=a(8);t.exports=function(t){var r=i.date(t);if(!r.isValid())throw new Error("Invalid date");return r.isAfter(i.date().subtract(6,"d"))?r.fromNow():r.format("LL")}},function(t,r,a){"use strict";var i=a(1064),o=a(356);a.d(r,"a",(function(){return o.default}));var c=a(1177),l=a(1178);i.default,o.default,c.a,l.a},function(t,r,a){"use strict";r.a={entity:"oauth_clients",parent:{entity:"accounts",key:"account_id"},fields:{id:null,client_id:null,account_id:null,client_type:null,client_secret:null,master_label:null,redirect_uris:[]}}},function(t,r,a){"use strict";r.a={entity:"oauth_bearer_tokens",parent:{entity:"accounts",key:"account_id"}}},function(t,r,a){"use strict";r.a={entity:"oauth_authorized_clients"}},function(t,r,a){"use strict";r.a={entity:"audience_experiment_count",parent:{entity:"projects",key:"project_id"}}},function(t,r,a){"use strict";var i=a(33);r.a={entity:"dimensions",parent:{entity:"projects",key:"project_id"},fieldsTypes:{id:i.a.NUMBER,project_id:i.a.NUMBER,name:i.a.STRING,description:i.a.STRING,status:i.a.STRING,last_modified:i.a.DATE}}},function(t,r,a){"use strict";r.a={entity:"dcp_datasources",parent:{entity:"dcp_services",key:"dcp_service_id"}}},function(t,r,a){"use strict";var i=a(33);r.a={entity:"groups",parent:{entity:"projects",key:"project_id"},fieldTypes:{id:i.a.NUMBER,project_id:i.a.NUMBER,entities:i.a.ARRAY,name:i.a.STRING}}},function(t,r,a){"use strict";var i=a(33),o={experiment_ids:i.a.ARRAY,created:i.a.DATE};r.a={entity:"goals",fieldTypes:o,parent:{entity:"projects",key:"project_id"}}},function(t,r,a){"use strict";r.a={entity:"integrations"}},function(t,r,a){"use strict";var i=a(41),o=a(510);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a),l=(c.byId,c.entityCache),u=[l,function(t){return t.filter((function(t){return!t.get("archived")}))}];r.a=_extends({},c,{activeMetrics:u})},function(t,r,a){"use strict";var i=a(4),o=a.n(i);r.a={entity:"plugins",parent:{entity:"projects",key:"project_id"},deserialize:function deserialize(t){return t.form_schema=o.a.map(t.form_schema,(function(t){return void 0!==t.default_value&&null!==t.default_value||(t.default_value=t.default),delete t.default,t})),t}}},function(t,r,a){"use strict";r.a={entity:"projectintegrations",isRelationshipEntity:!0,parents:[{entity:"projects",key:"project_id"},{entity:"integrations",key:"integration_id"}]}},function(t,r,a){"use strict";r.a={entity:"tag_groups",parent:{entity:"projects",key:"project_id"}}},function(t,r,a){"use strict";a.d(r,"a",(function(){return getComponent}));var i=a(421);function getComponent(t){var r=Object(i.a)();if(!r)throw new Error("Cannot call getComponent with root ViewModel mounted");var a=r.$options.components[t];if(!a)throw new Error("No component found for: ".concat(t));return a}},,function(t,r,a){"use strict";r.a={entity:"support_info",parent:{entity:"accounts",key:"account_id"}}},function(t,r,a){"use strict";r.a={entity:"commits",parent:{entity:"layers",key:"layer_id"}}},function(t,r,a){"use strict";a.r(r),a.d(r,"createExperimentationGroupEntity",(function(){return m})),a.d(r,"calculateAvailableTrafficForGroup",(function(){return g})),a.d(r,"calculateRemainingTraffic",(function(){return h})),a.d(r,"getStatusDetails",(function(){return y})),a.d(r,"getPercentageIncludedForEntity",(function(){return v})),a.d(r,"getCurrentSingleExperimentLayerWithGroupIdAndPercentageIncluded",(function(){return _})),a.d(r,"getSelectedGroupIdForEntity",(function(){return E}));var i=a(4),o=a.n(i),c=a(2),l=a(23),u=a(20),d=a(112),p=a(284),m=function createExperimentationGroupEntity(t){var r={archived:!1,description:"",entities:[],id:null,name:"",policy:p.b.POLICY_TYPES.RANDOM,weight_distributions:[]};return o.a.extend({},r,t)},g=function calculateAvailableTrafficForGroup(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=d.b.MAX_TRAFFIC_ALLOCATION;if(t&&t.get("id")){var i=t.get("entities").reduce((function(t,a){return a.get("id")===r?t:t+a.get("weight")}),0);a=d.b.MAX_TRAFFIC_ALLOCATION-i}return a},h=function calculateRemainingTraffic(t,r){return t-r},y=function getStatusDetails(t,r){var a={actual:t,readable:l.default.humanReadable.STATUS_BY_ACTUAL_STATUS[t],class:""};switch(t){case l.default.enums.entityStatus.NOT_STARTED:r&&(a.readable=u.default.humanReadable.STATUS_BY_ACTUAL_STATUS[t]);break;case l.default.enums.entityStatus.RUNNING:a.class="color--good-news";break;case l.default.enums.entityStatus.PAUSED:a.class="color--bad-news";break;case u.default.enums.ActualStatus.CAMPAIGN_PAUSED:a.readable=u.default.humanReadable.STATUS_BY_ACTUAL_STATUS[t],a.class="color--bad-news";break;case l.default.enums.entityStatus.ARCHIVED:break;default:0,a.readable=""}return Object(c.toImmutable)(a)},v=function getPercentageIncludedForEntity(t,r){var a=d.b.MAX_TRAFFIC_ALLOCATION;return t&&(a=t.get("entities").find((function(t){return t.get("id")===r})).get("weight")),a},_=function getCurrentSingleExperimentLayerWithGroupIdAndPercentageIncluded(t,r,a){var i=a.get("holdback"),o=d.b.MAX_TRAFFIC_ALLOCATION-i;return t&&t!==d.b.NONE_GROUP_ID&&(o=v(r.get(t),a.get("id"))),a.set("percentage_included",o).set("group_id",t)},E=function getSelectedGroupIdForEntity(t,r,a){var i,o=a.toString();return i=t.has(o)?t.get(o).get("id"):d.b.NONE_GROUP_ID,r.find((function(t){return t.get("id")===i}))||(i=d.b.NONE_GROUP_ID),i};r.default={createExperimentationGroupEntity:m,calculateAvailableTrafficForGroup:g,calculateRemainingTraffic:h,getStatusDetails:y,getPercentageIncludedForEntity:v,getCurrentSingleExperimentLayerWithGroupIdAndPercentageIncluded:_,getSelectedGroupIdForEntity:E}},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({SET_ENTITY_VISITORS_BY_ID:null})},function(t,r,a){"use strict";r.a={entity:"interest_groups",parent:{entity:"projects",key:"project_id"}}},function(t,r,a){"use strict";r.a={currentPage:function currentPage(t){return[["pageable",t,"currentPage"],function(t){return t||1}]}}},function(t,r,a){"use strict";r.a={entity:"share",parent:{entity:"layers",key:"layer_id"}}},function(t,r,a){"use strict";var i=a(36),o=a(468);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a),l=_extends({},o.a,{parent:{entity:"projects",key:"project_id"}}),u=i.default.createEntityActions(l);c.save,c.fetch,c.fetchPage,c.fetchAllPages,c.flush,c.delete;function fetchAllByProject(t,r){u.fetchAll(t,r).then((function(r){i.default.actions.onAncestorFetchAllSuccess(t,l,o.a,r)}))}r.a=_extends({},c,{fetchAll:function fetchAll(t,r){return(t.project_id?fetchAllByProject:c.fetchAll)(t,r)}})},function(t,r,a){"use strict";var i=a(810);a.d(r,"a",(function(){return i.a}));var o=a(510),c=(a(1236),a(574));a.d(r,"b",(function(){return c.a}));i.a,o.a,c.a},function(t,r,a){"use strict";var i=a(33),o={opt_out_category_ids:i.a.ARRAY,email:i.a.STRING};r.a={entity:"email_settings",fieldTypes:o,parent:{entity:"users",key:"email"}}},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(4),l=a.n(c),u=a(3),d=a(8),p=a.n(d),m=a(161),g=a(2457),h=a(607),y=a(1067),v=a(36),_=a(61),E=a.n(_),b=a(2458),T=a.n(b),S=a(458),C=a(203),I=a(424);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var A=v.default.createEntityActions(S.a);A.fetchAll;r.a=_extends({},A,{start:function start(t){return E.a.trackMarketoEvent("experiments_tab","start","experiment",t.id),E.a.track("dashboard2","start-experiment"),this.save({id:t.id,status:"Running"})},pause:function pause(t){return E.a.track("dashboard2","pause-experiment"),this.save({id:t.id,status:"Paused"})},duplicate:function duplicate(t,r){var a=this;E.a.track("dashboard2","duplicate-experiment");var i={experiment_id:t.id,new_project_id:r};return o.a.ajax("/experiment/duplicate",{data:i,type:"POST"}).then((function(t){return a.fetch(t.experiment_id),h.actions.fetchAll({project_id:r},!0),l.a.some(t.destination_audiences,"is_new")&&m.actions.fetchAll({project_id:r},!0),t}))},archive:function archive(t){return E.a.track("dashboard2","archive-experiment"),y.a.flush(),this.save({id:t.id,status:"Archived"})},unarchive:function unarchive(t){var r=t.earliest?"Paused":"Not started";return this.save({id:t.id,status:r})},deleteExperiment:function deleteExperiment(t){return A.delete(t).then((function(){h.actions.flush(),y.a.flush(),h.actions.fetchAll({project_id:t.project_id})}))},updateVariationWeight:function updateVariationWeight(t,r){return g.a.save({id:t,weight:r})},fetchVisitorCounts:function fetchVisitorCounts(t){var r=[C.a.status_type.PAUSED,C.a.status_type.RUNNING],a=t.filter((function(t){return r.includes(t.status)})).map((function(t){return _extends({},t,{earliest:p.a.date(t.earliest).toISOString()})})),i=T.a.create().makeVisitorRequests(a);return i.forEach((function(t){t.then((function(t){u.default.dispatch(I.a.EXPERIMENT_VISITOR_COUNT_FETCH_SUCCESS,{results:t.experiments,timestamp:Date.now()})}))})),Promise.all(i)},fetchResults:function fetchResults(t){for(var r=[],a=[C.a.status_type.PAUSED,C.a.status_type.RUNNING],i=t.filter((function(t){return a.includes(t.status)}));i.length>0;)r.push(i.splice(0,50));function createJSON(t){var r={};return Object.values(t).forEach((function(t){var a="".concat("https://reper.dz.optimizely.com","/v1/experiments/").concat(t.id,"/results");r[t.id]={method:"GET",headers:{"X-share-token":t.share_token},url:a}})),r}r.forEach((function(t){window.console.log(createJSON(t));var r=JSON.stringify(createJSON(t));o.a.ajax({data:r,url:"".concat("https://reper.dz.optimizely.com","/batch"),type:"POST",contentType:"application/json"}).then((function(t){window.console.log(t),u.default.dispatch(I.a.EXPERIMENT_VISITOR_COUNT_FETCH_SUCCESS_BATCH,{timestamp:Date.now(),results:t})}))}))},listUniversalAnalyticsSlotsInUse:function listUniversalAnalyticsSlotsInUse(t){return o.a.ajax("/project/list_universal_analytics_mobile_slots?project_id=".concat(t)).then((function(t){return t.slots_map}))},createMobileExperiment:function createMobileExperiment(t,r,a){return o.a.ajax({type:"POST",url:"/experiment/create",error:function error(){},data:{experiment_title:t,project_id:r,experiment_type:"ab",percentage_included:1e4,platform:a,sections:JSON.stringify([{variations:[{id:null,title:p()("Original"),is_paused:!1,weight:5e3,code:"",variation_platforms:[{id:null,assets:{},views:{},variables:{},type:a}]},{id:null,title:p()("Variation #1"),is_paused:!1,weight:5e3,code:"",variation_platforms:[{id:null,assets:"{}",views:"{}",variables:"{}",type:a}]}]}])}})}})},function(t,r,a){"use strict";r.a={entity:"variations",parent:{entity:"experiments",key:"experiment_id"}}},function(t,r,a){"use strict";r.a={entity:"links",parent:{entity:"projects",key:"project_id"},deserialize:function deserialize(t){return t.results?t.results:t}}},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(4),l=a(3),u=a(385),d=a(38),p=a(14),m=a(50),g=a(189),h=a(724),y=a(847),v={setTrackClickEvent:function(t){l.default.dispatch(y.a.TRACK_CLICKS_SET_EVENT,t)},setTrackClickEventName:function(t){v.setTrackClickEvent({name:t})},initializeCurrentlyEditingTrackClickEvent:function(t,r){var a=l.default.evaluate(d.getters.layerEvents),i=h.a.findMatchingEvent(a,t,r),o=l.default.evaluate(p.getters.events),u=h.a.findMatchingEvent(o,t,r),m={name:"",selector:t,viewId:r,enabled:!1,eventId:null};i?m=Object(c.extend)({},m,{name:i.get("name"),eventId:i.get("id"),enabled:!0}):u&&(m=Object(c.extend)({},m,{name:u.get("name"),eventId:u.get("id")})),v.setTrackClickEvent(m)},updateTrackClickEventSelector:function(t){var r=l.default.evaluate(g.a.isCampaignSpecificEvent),a=l.default.evaluate(g.a.trackClicksChangeIsEnabled);if(r&&a)v.setTrackClickEvent({selector:t});else{var i=l.default.evaluate(g.a.trackClicksChangeViewId);v.initializeCurrentlyEditingTrackClickEvent(t,i)}},setTrackClickEventEnabled:function(t){var r=l.default.evaluate(d.getters.layer).get("metrics");return!(!t&&0===r.size)&&(l.default.dispatch(y.a.TRACK_CLICKS_SET_EVENT,{enabled:t}),!0)},revertChanges:function(){var t=l.default.evaluate(g.a.trackClicksChangeSelector),r=l.default.evaluate(g.a.trackClicksChangeViewId);v.initializeCurrentlyEditingTrackClickEvent(t,r)},saveTrackClicksChangeEvent:function(){if(!l.default.evaluate(g.a.trackClicksChangeIsDirty))return o.a.Deferred().resolve();var t=l.default.evaluate(g.a.trackClicksChange);if(!t.get("name")){var r=tr("Click Event for {0}",t.get("selector"));v.setTrackClickEventName(r),t=l.default.evaluate(g.a.trackClicksChange)}var a=l.default.evaluate(g.a.campaignEventWithMatchingId),i=!!a,c=l.default.evaluate(g.a.projectEventWithMatchingId),u=!!c,h=d.actions.addEventToCurrentLayerMetricsWithMetricsBuilder;if(i&&!t.get("enabled"))return d.actions.removeEventFromCurrentLayerMetrics(a.get("id")).then((function(){if(a.get("variation_specific"))return m.default.actions.archive(a.toJS())}));if(!i&&u&&t.get("enabled"))return h(c.get("id")).then((function(){return t.get("name")!==c.get("name")?m.default.actions.save({name:t.get("name"),id:c.get("id"),archived:!1}):c.get("archived")?m.default.actions.unarchive(c.toJS()):void 0}));if(!i&&!u&&t.get("enabled")){var y=m.default.fns.createEventEntity({name:t.get("name"),event_type:m.default.enums.eventTypes.CLICK,event_filter:{filter_type:m.default.enums.filterTypes.TARGET_SELECTOR,selector:t.get("selector")},project_id:l.default.evaluate(p.getters.id),view_id:t.get("viewId"),variation_specific:!0});return m.default.actions.save(y).then((function(t){return v.setTrackClickEvent({eventId:t.id}),h(t.id)}))}return i&&t.get("enabled")?m.default.actions.save({id:a.get("id"),name:t.get("name"),event_filter:{filter_type:m.default.enums.filterTypes.TARGET_SELECTOR,selector:t.get("selector")}}):o.a.Deferred().resolve()},getMatchingEventChangeText:function(t,r){var a=l.default.evaluate(d.getters.layerEvents);if(h.a.findMatchingEvent(a,t,r))return tr("Enabled click tracking");var i=l.default.evaluate(p.getters.events);if(!h.a.findMatchingEvent(i,t,r))return null;var o,c=l.default.evaluate(u.c.entityCache),g=l.default.evaluate(m.default.getters.entityCache),y=l.default.evaluate(d.getters.id);return c.forEach((function(a){a.getIn(["revisions","layer"]).filter((function(t){return t.get("id")===y})).forEach((function(a){var i=a.get("metrics"),c=g.filter((function(t){return i.find((function(r){return r.get("event_id")===t.get("id")}))}));o=h.a.findMatchingEvent(c,t,r)}))})),o?tr("Disabled click tracking"):null}};r.a=v},,function(t,r,a){var i;function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var o=a(4),c=a(96),l=a(8),u=a(2).toImmutable,d=a(670),p={plugin_type:function plugin_type(t){return o.includes(o.values(c.plugin_type),t)},name:o.isString,edit_page_url:o.isString,form_schema:o.isArray,description:o.isString,options:o.isObject},m=(_defineProperty(i={},c.plugin_type.WIDGET,p),_defineProperty(i,c.plugin_type.EDITOR_PANEL,p),_defineProperty(i,c.plugin_type.EVENT,p),_defineProperty(i,c.plugin_type.ANALYTICS_INTEGRATION,o.pickBy(p,(function(t,r){return"edit_page_url"!==r}))),i);r.validateLabel=function(t){return o.isString(t)&&t.length>0?{isValid:!0}:{isValid:!1,message:l("Invalid label: {0}",t)}},r.validateFieldName=function(t){var r={isValid:!0,message:""};return t&&o.isString(t)||(r.isValid=!1,r.message=l("API Name is required.")),/^\w+$/.test(t)||(r.isValid=!1,r.message=l("API Name may only contain characters, numbers and underscores.")),r},r.getFieldNameValidator=function(t,a){return function(i){var c=r.validateFieldName(i.name);return c.isValid?o.some(t,(function(t,r){return t.name===i.name&&r!==a}))?{isValid:!1,message:l("A field named {0} already exists",i.name)}:{isValid:!0}:c}};var g={field_type:function validateFieldType(t){return o.includes(o.values(c.fieldType),t)?{isValid:!0}:{isValid:!1,message:l("Invalid field_type: {0}",t)}},name:r.validateFieldName,label:r.validateLabel,default_value:function validateDefault(t,r){return r.field_type===c.fieldType.MULTI_SELECT?function validateMultiSelectDefault(t){return o.isArray(t)?{isValid:!0}:{isValid:!1,message:l("Default value for multi-select must be an array")}}(t):o.isUndefined(t)?{isValid:!1,message:l("default_value must be set for schema field named: {0}",r.name)}:{isValid:!0}},options:function validateOptions(t){return o.isObject(t)||o.isNull(t)?{isValid:!0}:{isValid:!1,message:l("Invalid options: {0}",t)}}};r.getEditableAsJSONSubset=function(t){return o.pick(t,o.keys(m[t.plugin_type]))},r.validateEditedPlugin=function(t){var a=o.findKey(m[t.plugin_type],(function(r,a){return!r.call(o,t[a],t.plugin_type)}));if(a)return{isValid:!1,message:l('Property "{0}" is missing or has an invalid value',a)};if(o.size(t)!==o.size(m[t.plugin_type]))return{isValid:!1,message:l("Plugin config should have only these properties: {0}",o.keys(m[t.plugin_type]).join(", "))};var i,u=c.propertyOptions[t.plugin_type];if(u){var p=o.find(u,(function(r){return!o.isString(t.options[r])}));if(p)return{isValid:!1,message:l('Option "{0}" is missing or has an invalid value',p)};if(o.size(t.options)!==u.length)return{isValid:!1,message:l("Options object should have only these properties: {0}",u.join(", "))}}return o.some(t.form_schema,(function(t){return!(i=function validateFormField(t){if(!o.isObject(t))return{isValid:!1,message:l("The form_schema array must contain only objects")};var r;if(o.some(g,(function(a,i){return!(r=a(t[i],t)).isValid})),r&&!r.isValid)return r;if(o.size(t)!==o.size(g))return{isValid:!1,message:l("form_schema objects should have only these properties: {0}",o.keys(g).join(", "))};var a,i=d[t.field_type].validateDefaultOptions;if(i&&(a=i(t)),a&&!a.isValid)return a;var c,u=d[t.field_type].validateDefaultValue;return u&&(c=u(t)),c&&!c.isValid?c:{isValid:!0}}(t)).isValid})),i&&!i.isValid?i:(o.forEach(t.form_schema,(function(a,o){return(i=r.getFieldNameValidator(t.form_schema,o)(a)).isValid})),i&&!i.isValid?i:{isValid:!0})},r.mapFormSchemaDefaults=function(t){return t.reduce((function(t,r){return t.set(r.get("name"),r.get("default_value"))}),u({}))},r.mapFormSchemaOptions=function(t){return t.reduce((function(t,r){return t.set(r.get("name"),r.get("options"))}),u({}))},r.JsonStringify=function(t){return JSON.stringify(t,null,2)}},function(t,r,a){"use strict";r.a={entity:"plugin_layer_count",parent:{entity:"projects",key:"project_id"}}},function(t,r,a){"use strict";var i,o=a(22),c=a(8),l=a.n(c),u=a(21),d=a(29),p=a(2),m=d.default.EnvironmentStatus;function addErrorForProperty(t,r,a){t[r]||(t[r]=[]),t[r].push(a)}function sortEnvironments(t,r){return t.filter((function(t){return!t.get("archived")&&t.get("project_id")===r})).toList().sortBy((function(t){return t.get("priority")}))}r.a=i={canStartAndPause:function canStartAndPause(t,r){return!!t&&(r.get("has_restricted_permissions")?o.default.canModifyRunningExperiment(t):o.default.canUpdateLayerExperimentWithExtension(t))},getEnvironmentStatusesByExperimentId:function getEnvironmentStatusesByExperimentId(t,r,a,o){if(!t)return p.default.Map();var c=o?o.get("id"):null,l=sortEnvironments(a,o.get("id"));return r.filter((function(t){var r=t.get("layer_policy");return t.get("project_id")===c&&(r===u.default.policy.SINGLE_EXPERIMENT||r===u.default.policy.MULTIVARIATE)})).map((function(t){var r=t.get("environments");return r?l.map((function(t){var a,c=r.get(t.get("key"));return a=c?c.get("status"):m.NOT_STARTED,p.default.Map({status:a,name:t.get("name"),id:t.get("id"),canStartAndPause:i.canStartAndPause(o,t),key:t.get("key")})})):p.default.List()}))},getEnvironmentStatusesByFeatureId:function getEnvironmentStatusesByFeatureId(t,r,a,o,c){if(!t)return p.default.Map();var l=o?o.get("id"):null,u=sortEnvironments(a,o.get("id"));return r.filter((function(t){return t.get("project_id")===l})).map((function(t){var r=t.get("environments");return r?u.map((function(t){var a;if(c){var l=r.getIn([t.get("key"),"rollout_rules"],p.default.List());if(a=m.NOT_STARTED,l.size>0)a=l.map((function(t){return t.get("percentage_included")})).every((function(t){return 0===t}))?m.PAUSED:m.RUNNING}else a=r.getIn([t.get("key"),"rollout_rules",0,"status"])||m.NOT_STARTED;var u=r.getIn([t.get("key"),"rollout_rules",0,"percentage_included"])||0;return p.default.Map({status:a,name:t.get("name"),id:t.get("id"),canStartAndPause:i.canStartAndPause(o,t),key:t.get("key"),percentage_included:u})})):p.default.List()}))},validateEnvironment:function validateEnvironment(t,r){var a={},i=t.key,o=t.name,c=t.id;return i||addErrorForProperty(a,"key",l()("Key is required.")),o||addErrorForProperty(a,"name",l()("Name is required.")),/^[a-zA-Z0-9_]+$/.test(i)||addErrorForProperty(a,"key",l()("Key must contain only numbers, letters, and underscores.")),r.some((function(t){return t.get("name")===o&&t.get("id")!==c}))&&addErrorForProperty(a,"name",l()("That name is already used by another environment in this project. Please choose another.")),r.some((function(t){return t.get("key")===i&&t.get("id")!==c}))&&addErrorForProperty(a,"key",l()("That key is already used by another environment in this project. Please choose another.")),a}}},function(t,r,a){"use strict";r.a={entity:"audience_layers",isRelationshipEntity:!0,parents:[{entity:"projects",key:"project_id"},{entity:"audiences",key:"audience_id"},{entity:"experiments"}]}},function(t,r,a){"use strict";a.d(r,"a",(function(){return computeSelectedAudienceNamesMapPOJO}));var i=a(4),o=a(2),c=a(68),l=a(161);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var u=l.enums.audienceMatchTypes,d=u.ALL_AUDIENCES,p=u.ANY_AUDIENCES,m=u.CUSTOM_AUDIENCES,g=l.enums.ConditionGroupTypes,h=g.AND,y=g.OR,v=g.NOT;function computeSelectedAudienceNamesMapPOJO(t,r){return Object(c.deriveAudienceIdsFromAudienceConditionsPOJO)(t).reduce((function(t,a){var i=r.find((function(t){return t.id===a}));return t[a]=i&&i.name||a,t}),{})}var _={audienceConditionsInvalidJson:function audienceConditionsInvalidJson(t){var r=t.audienceConditionsString;try{if(!JSON.parse(r))return"Audience conditions must be valid JSON."}catch(t){return"Audience conditions must be valid JSON."}},audienceConditionsInvalidLeafKey:function audienceConditionsInvalidLeafKey(t){var r=t.audienceConditionsString;try{var a=JSON.parse(r),o=Object(i.flattenDeep)(a).filter((function(t){return t instanceof Object}));if(o.length&&!o.every((function(t){return Object.keys(t).every((function(t){return"audience_id"===t}))})))return'Only the key "audience_id" can be used for Audience combinations.'}catch(t){}},audienceConditionsInvalidOperator:function audienceConditionsInvalidOperator(t){var r=t.audienceConditionsString;try{var a=function getOperatorsFromAudienceConditions(t){return Array.isArray(t)?[t.length<1?"":t[0]].concat(_toConsumableArray(t.reduce((function(t,r){return Array.isArray(r)?[].concat(_toConsumableArray(t),_toConsumableArray(getOperatorsFromAudienceConditions(r))):t}),[]))):[]}(JSON.parse(r));if(!a.length||a.some((function(t){return![y,h,v].includes(t)})))return'A valid operator ("or", "and", or "not") must be used.'}catch(t){}}};r.b={computeSelectedAudienceNamesMap:function computeSelectedAudienceNamesMap(t,r){var a=Object(c.deriveAudienceIdsFromAudienceConditions)(t),i={};return a.forEach((function(t){var a=r.find((function(r){return r.get("id")===t}));i[t]=a&&a.get("name")||t})),i},computeSelectedAudienceNamesMapPOJO:computeSelectedAudienceNamesMapPOJO,deriveAudienceConditionsJsonFromString:function deriveAudienceConditionsJsonFromString(t){if("string"==typeof t&&""===t.trim())return Object(o.toImmutable)([y]);try{var r=JSON.parse(t);return Object(o.toImmutable)(r)}catch(t){return null}},deriveAudienceMatchTypeFromConditions:function deriveAudienceMatchTypeFromConditions(t){if(!t||!t.size)return p;var r=_slicedToArray(t.slice(0,1),1)[0];return[h,y].includes(r)&&t.slice(1).every((function(t){return t instanceof o.default.Map}))?r===y?p:d:m},deriveAudienceMatchTypeFromConditionsPOJO:function deriveAudienceMatchTypeFromConditionsPOJO(t){if(!t||!t.length)return p;var r=_slicedToArray(t.slice(0,1),1)[0];return[h,y].includes(r)&&t.slice(1).every((function(t){return!Array.isArray(t)}))?r===y?p:d:m},derivePrettyStringFromImmutableList:function derivePrettyStringFromImmutableList(t){if(!t)return null;var r=Object(o.toJS)(t);return JSON.stringify(r,null,2)},getShouldShowAudienceCombinationOptions:function getShouldShowAudienceCombinationOptions(t,r){return t||r},validators:_}},function(t,r,a){"use strict";var i=a(36),o=a(2),c=a(601);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var l=i.default.createEntityActions(c.a),u=(l.save,l.fetch,l.fetchAll);l.fetchPage,l.fetchAllPages,l.flush,l.delete;r.a=_extends({},l,{fetchRecommenderStatsByRecommenderId:function fetchRecommenderStatsByRecommenderId(t,r){return u({recommender_id:t},r)},fetchRecommendationsById:function fetchRecommendationsById(t,r){var a="".concat(t.get("recommender_serving_url"),"/").concat(encodeURIComponent(r));return window.fetch(a,{credentials:"same-origin"}).then((function(t){return t.ok?t.json():null})).then((function(t){var r=!!t&&Object(o.toImmutable)(t).getIn(["data","recos"]);return r&&Object(o.toImmutable)(JSON.parse(r))}))}})},function(t,r,a){"use strict";r.a={entity:"recommenders_stats",isRelationshipEntity:!0,parents:[{entity:"recommenders",key:"recommender_id"},{entity:"last_run"}]}},function(t,r,a){"use strict";var i=a(33),o={id:i.a.NUMBER,project_id:i.a.NUMBER,api_name:i.a.STRING,archived:i.a.BOOLEAN,created:i.a.DATE,default_value:i.a.STRING,description:i.a.STRING,last_modified:i.a.DATE,type:i.a.STRING};r.a={entity:"live_variables",parent:{entity:"projects",key:"project_id"},fieldTypes:o}},function(t,r,a){"use strict";r.a={entity:"layer_summaries",isRelationshipEntity:!0,parents:[{entity:"projects",key:"project_id"},{entity:"layers/summaries"}]}},,,function(t,r){t.exports={DOWN:40,ENTER_KEY:13,ESCAPE_KEY:27,TAB:9,UP:38}},function(t,r,a){"use strict";a.r(r);var i=a(1255);a.d(r,"actions",(function(){return i.a}));var o=a(418);a.d(r,"constants",(function(){return o.a}));var c=a(572);a.d(r,"entityDef",(function(){return c.a}));var l=a(1256);a.d(r,"fns",(function(){return l.a}));var u=a(794);a.d(r,"getters",(function(){return u.a})),r.default={actions:i.a,constants:o.a,entityDef:c.a,fns:l.a,getters:u.a}},function(t,r,a){"use strict";var i=a(3),o=a(375),c=a(123),l=a(132),u=a.n(l),d=a(14),p=a(715),m=function setUserConnected(t){i.default.dispatch(p.a.SET_USER_CONNECTED,t)};function makeJQLRequest(t,r,a){var c=i.default.evaluate(d.getters.id),l="api/v1/projects/".concat(c,"/integrations/jira/api/search?maxResults=").concat(r,"&startAt=").concat(a||0,"&jql=").concat(t);return o.a.makeOptlyFetchRequest({url:l,type:"GET",headers:{Accept:"application/json"}})}r.a={getProjectUserConnectionState:function getProjectUserConnectionState(){var t=i.default.evaluate(d.getters.id),r="api/v1/projects/".concat(t,"/integrations/jira/connection");return o.a.makeOptlyFetchRequest({url:r,type:"GET"}).then((function(t){m(t.authorized)}))},searchByText:function searchByText(t,r,a){return makeJQLRequest('(summary~"'.concat(t,'"%20OR%20description~"').concat(t,'"%20OR%20comment~"').concat(t,'")'),r,a)},searchByKey:function searchByKey(t,r,a){return makeJQLRequest('(key="'.concat(t,'")'),r,a)},searchByProject:function searchByProject(t,r,a){return makeJQLRequest('(project="'.concat(t,'")'),r,a)},getAllRecentIssues:function getAllRecentIssues(){var t=this,r=i.default.evaluate(d.getters.id),a="api/v1/projects/".concat(r,"/integrations/jira/api/issue/picker");return o.a.makeOptlyFetchRequest({url:a,type:"GET",headers:{Accept:"application/json"}}).then((function(r){if(r.sections&&r.sections[0]&&r.sections[0].issues){var a=r.sections[0].issues.slice(0,10).map((function(t){return t.key}));return t.getIssueIdsByKeys(a).then((function(t){i.default.dispatch(p.a.SET_RECENT_ISSUES,t.issues)}))}}))},getIssueIdsByKeys:function getIssueIdsByKeys(t){var r=i.default.evaluate(d.getters.id),a="api/v1/projects/".concat(r,"/integrations/jira/api/search?jql=key+in+(").concat(t.join(","),")");return o.a.makeOptlyFetchRequest({url:a,type:"GET"})},getUrlToConnectUser:function getUrlToConnectUser(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{redirect:!0},r=i.default.evaluate(d.getters.id),a=u.a.getPath(),o="integrations/start-flow?proj_id=".concat(r,"&integration_id=jira");return t.redirect&&(o+="&redirect_uri=".concat(a)),Object(c.optimizelyHRDUrl)(o)},setUserConnected:m,getUserDetails:function getUserDetails(){var t=i.default.evaluate(d.getters.id),r="api/v1/projects/".concat(t,"/integrations/jira/api/myself");return o.a.makeOptlyFetchRequest({url:r})},getIssueByKey:function getIssueByKey(t){var r=i.default.evaluate(d.getters.id);return o.a.makeOptlyFetchRequest({url:"api/v1/projects/".concat(r,"/integrations/jira/api/issue/").concat(t),type:"GET"})}}},,,function(t,r,a){"use strict";a.d(r,"a",(function(){return _}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(135),d=a(99),p=a.n(d),m=a(425),g=a.n(m),h=a(436),y=a.n(h);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=[{label:p()(g()(y.a.DOMInsertionType.BEFORE)),value:y.a.DOMInsertionType.BEFORE},{label:p()(g()(y.a.DOMInsertionType.AFTER)),value:y.a.DOMInsertionType.AFTER},{label:p()(g()(y.a.DOMInsertionType.APPEND)),value:y.a.DOMInsertionType.APPEND},{label:p()(g()(y.a.DOMInsertionType.PREPEND)),value:y.a.DOMInsertionType.PREPEND}],_=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(InsertOperatorDropdown,t);var r=_createSuper(InsertOperatorDropdown);function InsertOperatorDropdown(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,InsertOperatorDropdown),a=r.call(this,t);var i=t.initialOperator;return a.state={operator:i},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(InsertOperatorDropdown,[{key:"handleOperatorChosen",value:function handleOperatorChosen(t){var r=this.props.onOperatorChangeCallback;this.state.operator!==t&&(this.setState({operator:t}),r(t))}},{key:"render",value:function render(){var t=this,r=this.state.operator;return o.a.createElement("div",{className:"push-half--bottom display--block"},o.a.createElement(u.a,{testSection:"insert-operator-dropdown",items:v,value:r,onChange:function onChange(r){return t.handleOperatorChosen(r)}}))}}]),InsertOperatorDropdown}(o.a.Component);_.propTypes={initialOperator:l.a.string.isRequired,onOperatorChangeCallback:l.a.func.isRequired}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(190),d=a(26),p=a(2),m=a(91),g=a(28),h=a(14),y=a(38),v=a(29),_=a(39),E=a(633),b=a(2542);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.a=function(t,r){var a,i;return Object(g.a)({currentProject:h.getters.project,currentProjectId:h.getters.id,currentLayer:y.getters.layer,currentLayerId:y.getters.id,draftChangesFromAllExperimentsOrSections:y.getters.draftChangesFromAllExperimentsOrSections,currentCampaignLiveChanges:y.getters.currentCampaignLiveChangesByExperimentStatus(v.status.ACTIVE),draftTooltipText:[y.getters.newChangesFromAllExperiments,y.getters.modifiedChangesFromAllExperiments,y.getters.deletedChangesFromAllExperiments,function(t,r,a){return E.fns.draftTooltipText(t.size,r.size,a.size)}],addedViews:y.getters.addedViews,removedViews:y.getters.removedViews,addedAudiences:y.getters.addedAudiencesFromAllExperimentsPointingToLayer,removedAudiences:y.getters.removedAudiencesFromAllExperimentsPointingToLayer,hasChangedAudienceConditions:y.getters.hasChangedAudienceConditions,haveIntegrationSettingsChanged:y.getters.haveIntegrationSettingsChanged,campaignCustomCodeLinesChanged:y.getters.campaignCustomCodeLinesChanged,hasTrafficAllocationToPublish:y.getters.hasTrafficAllocationToPublish,hasDraftHoldbackSetting:y.getters.hasDraftHoldbackSetting,customCodeTooltipText:y.getters.customCodeTooltipText,hasLayerMetrics:y.getters.hasLayerMetrics,canUseUrlTargeting:_.default.canUseUrlTargeting,hasDirtySettingsToPublish:y.getters.hasDirtySettingsToPublish})(((i=function(a){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(NavSidebarWeb,a);var i=_createSuper(NavSidebarWeb);function NavSidebarWeb(){return _classCallCheck(this,NavSidebarWeb),i.apply(this,arguments)}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(NavSidebarWeb,[{key:"renderVariationChangeCounts",value:function renderVariationChangeCounts(){var r=this.props,a=r.draftChangesFromAllExperimentsOrSections,i=r.currentCampaignLiveChanges,c=r.draftTooltipText;return o.a.createElement("ul",{className:"lego-badge"},o.a.createElement("li",{className:a.size&&"badge__draft","data-test-section":"".concat(t,"-variations-draft-line-count")},o.a.createElement(u.a,{content:c},o.a.createElement("p",null,a.size))),o.a.createElement("li",{className:i.size&&"badge__live","data-test-section":"".concat(t,"-variations-live-line-count")},o.a.createElement(u.a,{content:"".concat(i.size," Live")},o.a.createElement("p",null,i.size))))}},{key:"renderVariationChangedBadge",value:function renderVariationChangedBadge(){return o.a.createElement("ul",{className:"lego-badge"},Boolean(this.props.draftChangesFromAllExperimentsOrSections.size)&&o.a.createElement("li",{className:"badge__draft","data-test-section":"".concat(t,"-variations-dirty-status")},"Changed"))}},{key:"render",value:function render(){var a=this.props,i=a.activeTab,c=a.canUseUrlTargeting,l=a.items,p=a.name,g=a.showVariationChangedBadge,h=a.addedViews,y=a.removedViews,v=a.addedAudiences,_=a.removedAudiences,E=(a.hasReorderedAudiences,a.hasChangedAudienceConditions),T=a.haveIntegrationSettingsChanged,S=a.campaignCustomCodeLinesChanged,C=a.hasTrafficAllocationToPublish,I=a.hasDraftHoldbackSetting,A=a.customCodeTooltipText,O=a.hasLayerMetrics,P=a.experiencesHaveUnpublishedChanges,R=a.hasDirtySettingsToPublish,w=a.currentLayerId;return o.a.createElement(m.a,{testSection:"".concat(t,"-sidebar")},o.a.createElement(b.a,{campaignType:r,layerId:w}),o.a.createElement(m.e,null,o.a.createElement(m.d,{label:"Manage ".concat(p),testSection:"".concat(t,"-nav-list")},l.experiences&&o.a.createElement(m.f,{isActive:i===l.experiences.name,testSection:"".concat(t,"-nav-item-experiences"),href:l.experiences.url},o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement("div",null,"Experiences"),P&&o.a.createElement("div",{className:"anchor--right flex--none soft--left"},o.a.createElement("ul",{className:"lego-badge"},o.a.createElement("li",{className:"badge__draft"},"Unpublished"))))),l.variations&&o.a.createElement(m.f,{isActive:i===l.variations.name,testSection:"".concat(t,"-nav-item-variations"),href:l.variations.url},o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement("div",null,"Variations"),o.a.createElement("div",{className:"anchor--right flex--none soft--left"},g?this.renderVariationChangedBadge():this.renderVariationChangeCounts()))),l.pages&&o.a.createElement(m.f,{isActive:i===l.pages.name,testSection:"".concat(t,"-nav-item-pages"),href:l.pages.url},o.a.createElement("div",{className:"flex flex-align--center"},!c&&o.a.createElement("div",null,"Pages"),c&&o.a.createElement("div",null,"Targeting"),o.a.createElement("div",{className:"anchor--right flex--none soft--left"},o.a.createElement("ul",{className:"lego-badge"},Boolean(h.size||y.size)&&o.a.createElement("li",{className:"badge__draft","data-test-section":"".concat(t,"-pages-dirty-status")},"Changed"))))),l.audiences&&o.a.createElement(m.f,{isActive:i===l.audiences.name,testSection:"".concat(t,"-nav-item-audiences"),href:l.audiences.url},o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement("div",null,"Audiences"),o.a.createElement("div",{className:"anchor--right flex--none soft--left"},o.a.createElement("ul",{className:"lego-badge"},Boolean(v.size||_.size||E)&&o.a.createElement("li",{className:"badge__draft","data-test-section":"".concat(t,"-audiences-dirty-status")},"Changed"))))),l.integrations&&o.a.createElement(m.f,{isActive:i===l.integrations.name,testSection:"".concat(t,"-nav-item-integrations"),href:l.integrations.url},o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement("div",null,"Integrations"),o.a.createElement("div",{className:"anchor--right flex--none soft--left"},o.a.createElement("ul",{className:"lego-badge"},T&&o.a.createElement("li",{className:"badge__draft"},"Changed"))))),l.metrics&&o.a.createElement(m.f,{isActive:i===l.metrics.name,testSection:"".concat(t,"-nav-item-metrics"),href:l.metrics.url},o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement("div",null,"Metrics"),!O&&o.a.createElement("div",{className:"anchor--right flex--none soft--left"},o.a.createElement(u.a,{content:"You need to add at least one metric to start this campaign.\nMetrics will generate campaign results and help you measure performance."},o.a.createElement(d.a,{name:"circle-exclamation",size:"small",className:"lego-icon color--brand vertical-align--middle cursor--pointer push-half--left flex--none"}))))),l.custom_code&&o.a.createElement(m.f,{isActive:i===l.custom_code.name,testSection:"".concat(t,"-nav-item-custom-code"),href:l.custom_code.url},o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement("div",null,"Shared Code"),o.a.createElement("div",{className:"anchor--right flex--none soft--left"},o.a.createElement("ul",{className:"lego-badge"},Boolean(S)&&o.a.createElement("li",{className:"badge__draft","data-test-section":"".concat(t,"-custom-code-draft-line-count")},o.a.createElement(u.a,{content:o.a.createElement("div",{dangerouslySetInnerHTML:{__html:A}})},o.a.createElement("p",null,S))))))),l.traffic_allocation&&o.a.createElement(m.f,{isActive:i===l.traffic_allocation.name,testSection:"".concat(t,"-nav-item-traffic-allocation"),href:l.traffic_allocation.url},o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement("div",null,"Traffic Allocation"),o.a.createElement("div",{className:"anchor--right flex--none soft--left"},o.a.createElement("ul",{className:"lego-badge"},(C||I)&&o.a.createElement("li",{className:"badge__draft","data-test-section":"".concat(t,"-nav-item-changed-badge")},"Changed"))))),l.schedule&&o.a.createElement(m.f,{isActive:i===l.schedule.name,testSection:"".concat(t,"-nav-item-schedule"),href:l.schedule.url},o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement("div",null,"Schedule"))),l.api_names&&o.a.createElement(m.f,{isActive:i===l.api_names.name,testSection:"".concat(t,"-nav-item-api-names"),href:l.api_names.url},o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement("div",null,"API Names"))),l.history&&o.a.createElement(m.f,{isActive:i===l.history.name,testSection:"".concat(t,"-nav-item-history"),href:l.history.url},o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement("div",null,"History"))),l.settings&&o.a.createElement(m.f,{isActive:i===l.settings.name,testSection:"".concat(t,"-nav-item-settings"),href:l.settings.url},o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement("div",null,"Settings"),o.a.createElement("div",{className:"anchor--right flex--none soft--left"},o.a.createElement("ul",{className:"lego-badge"},R&&o.a.createElement("li",{className:"badge__draft","data-test-section":"".concat(t,"-settings-dirty-status")},"Changed"))))))))}}]),NavSidebarWeb}(o.a.Component)).componentId="".concat(t,"-sidebar"),i.propTypes={items:l.a.object.isRequired,showVariationChangedBadge:l.a.bool,name:l.a.string.isRequired,activeTab:l.a.oneOf(Object.keys(E.enums.tabs)).isRequired,draftChangesFromAllExperimentsOrSections:l.a.instanceOf(p.default.List),currentCampaignLiveChanges:l.a.instanceOf(p.default.List),draftTooltipText:l.a.string.isRequired,addedViews:l.a.instanceOf(p.default.List),removedViews:l.a.instanceOf(p.default.List),addedAudiences:l.a.instanceOf(p.default.List),removedAudiences:l.a.instanceOf(p.default.List),hasChangedAudienceConditions:l.a.bool,haveIntegrationSettingsChanged:l.a.bool,campaignCustomCodeLinesChanged:l.a.number,hasDraftHoldbackSetting:l.a.bool,hasTrafficAllocationToPublish:l.a.bool,customCodeTooltipText:l.a.string,hasLayerMetrics:l.a.number,canUseUrlTargeting:l.a.bool,hasDirtySettingsToPublish:l.a.bool,experiencesHaveUnpublishedChanges:l.a.bool},i.defaultProps={showVariationChangedBadge:!1,experiencesHaveUnpublishedChanges:!1},a=i))||a}},function(t,r,a){"use strict";var i=a(23),o=a(20),c=a(202),l=a(49),u=a(359),d=a(43),p=a(70),m=a(296),g=a.n(m),h=a(315),y=a.n(h);r.a={publishStatus:function publishStatus(t){return[["p13n/campaignOverview/sidebar/publishStatus",t,"isInProcessOfPausing"],["p13n/campaignOverview/sidebar/publishStatus",t,"isInProcessOfPublishing"],["p13n/campaignOverview/sidebar/publishStatus",t,"isInProcessOfStarting"],["p13n/campaignOverview/sidebar/publishStatus",t,"isInProcessOfFirstPublish"],function(t,r,a,i){return{pausing:t||!1,publishing:r||!1,starting:a||!1,firstPublish:i||!1}}]},isChangingStatus:function isChangingStatus(t){return[this.publishStatus(t),function(t){return t.pausing||t.publishing||t.starting}]},liveTag:function liveTag(t){return[c.b.liveCommitTagByLayerId(t),function(t){return t||null}]},isActive:function isActive(t){return[c.b.liveCommitTagByLayerId(t),function(t){return t&&!0===t.get("active")||!1}]},isPaused:function isPaused(t){return[c.b.liveCommitTagByLayerId(t),function(t){return t&&!1===t.get("active")||!1}]},isDraft:function isDraft(t){return[c.b.liveCommitTagByLayerId(t),function(t){return!t||void 0===t.get("active")}]},statusText:function statusText(t){return[i.default.getters.byId(t),this.isActive(t),this.isPaused(t),this.isDraft(t),this.publishStatus(t),function(t,r,a,i,o){var c;return o.pausing?c=g.a.statusText.PAUSING:o.starting||o.firstPublish?c=g.a.statusText.STARTING:t&&t.get("archived")?c=g.a.statusText.ARCHIVED:r?c=g.a.statusText.RUNNING:a?c=g.a.statusText.PAUSED:i&&(c=g.a.statusText.NOT_STARTED),c}]},statusTextByExperimentId:function statusTextByExperimentId(t){return[o.getters.byId(t),function(t){var r=t.get("environments");if(r&&r.size){if(r.find((function(t){return t.get("status")===o.enums.ActualStatus.RUNNING})))return g.a.statusText.RUNNING;if(r.find((function(t){return t.get("status")===o.enums.ActualStatus.PAUSED})))return g.a.statusText.PAUSED}return g.a.statusText[t.get("actual_status").toUpperCase()]}]},showPlayButton:function showPlayButton(t){return[this.isPaused(t),this.publishStatus(t),function(t,r){return(t||r.starting)&&!r.pausing}]},isFirstPublish:function isFirstPublish(t){return[c.b.liveCommitTagByLayerId(t),function(t){return!t}]},publishText:function publishText(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default.enums.campaignTypes.P13N_CAMPAIGN;return[i.default.getters.byId(t),this.isFirstPublish(t),function(t,a){var i=y.a.getText(r,t.get("name"));return a?i.firstPublish.title:i.publish.title}]},publishStatusText:function publishStatusText(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default.enums.campaignTypes.P13N_CAMPAIGN;return[i.default.getters.byId(t),this.publishStatus(t),function(t,a){var i=y.a.getText(r,t.get("name"));return a.publishing?i.publish.inProgressMessage:i.name}]},showGreenStatus:function showGreenStatus(t){return[this.isActive(t),this.publishStatus(t),function(t,r){return t&&!r.starting&&!r.firstPublish||r.pausing}]},showGreenStatusByExperimentId:function showGreenStatusByExperimentId(t){return[this.statusTextByExperimentId(t),function(t){return t===g.a.statusText.RUNNING}]},isUploadingToCDN:function isUploadingToCDN(t,r){return[u.getters.maxVerifiedRevision(t),this.liveTag(r),function(t,r){return!(!t||!r)&&(r.get("project_code_revision")>t&&0!==t)}]},shouldPublishLayerOnly:function shouldPublishLayerOnly(t){return[[d.getters.accountPermissions,l.fns.shouldPublishLayerOnly],this.isFirstPublish(t),i.default.getters.byId(t),p.getters.entityCache,function(t,r,a,o){var c=o.get(a.get("project_id")),u=!!c&&l.fns.canViewVariationsInP13N(c,a);return t&&u&&!r&&i.default.fns.isPersonalizationLayer(a)}]}}},function(t,r,a){"use strict";var i=a(1294);a.d(r,"a",(function(){return i.a}));var o=a(517);a.d(r,"b",(function(){return o.a}));i.a,o.a},,function(t,r,a){"use strict";var i=a(36),o=a(2),c=a(1017);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var l=i.default.createEntityActions(c.a),u=(l.save,l.fetch,l.fetchAll);l.fetchPage,l.fetchAllPages,l.flush,l.delete;r.a=_extends({},l,{fetchCatalogStatsById:function fetchCatalogStatsById(t,r){return u({recommender_service_id:t},r)},fetchItemMetadataById:function fetchItemMetadataById(t,r){var a="".concat(t.get("catalog_serving_url"),"/").concat(encodeURIComponent(r));return window.fetch(a,{credentials:"same-origin"}).then((function(t){return t.ok?t.json():null})).then((function(t){var r=!!t&&Object(o.toImmutable)(t).getIn(["data","itemMetadata"]);return r&&JSON.parse(r)}))}})},function(t,r,a){"use strict";var i=a(2),o=a(21),c=a(518);r.a={addProjectNameToEntities:function addProjectNameToEntities(t,r){return t.map((function(t){var a=r.get(t.get("project_id"));return a?t.set("project_name",a.get("project_name")):t})).toList()},createMapOfQueryableEvents:function createMapOfQueryableEvents(t,r,a){var l=t.map((function(t){return t.set("kind",o.default.metricKinds.EVENT)})),u=r.map((function(t){return Object(i.toImmutable)({id:t.get("id"),api_name:String(t.get("id")),category:c.a.VIEW_ACTIVATED_EVENT_TYPE,name:tr("Visit Page: {0}",t.get("name")),project_id:t.get("project_id"),project_name:t.get("project_name"),description:t.get("description"),kind:o.default.metricKinds.VIEW,event_type:c.a.eventTypes.PAGE_VIEW})})).concat(l);return i.default.OrderedMap({}).withMutations((function(t){u.forEach((function(r){t.set(r.get("id"),r)}))}))}}},function(t,r,a){"use strict";var i=a(13),o=a(313),c=a.n(o),l=[["layersDialog","targetingType"],a(39).default.canUseUrlTargeting,function(t,r){return t||c.a.getDefaultTargetingType(r)}],u=[i.default.views,function(t){return t.filter((function(t){return!t.get("single_use")}))}];r.a={selectedViewIds:["layersDialog","selectedViewIds"],urlTargetingConfig:["layersDialog","urlTargetingConfig"],targetingType:l,errors:["layersDialog","errors"],urlTargetingConditionsError:[["layersDialog","errors"],function(t){return t.get("urlTargetingConditions")}],urlTargetingApiNameError:[["layersDialog","errors"],function(t){return t.get("urlTargetingApiName")}],urlTargetingUrlError:[["layersDialog","errors"],function(t){return t.get("urlTargetingUrl")}],viewsError:[["layersDialog","errors"],function(t){return t.get("views")}],allSavedViewsWithoutSingleUse:u}},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({SET_REACT_SDK_USER_STATE:null,SET_USER_ID_FOR_FEATURE:null,REMOVE_USER_ID_FOR_FEATURE:null})},function(t,r,a){var i=a(4);t.exports=function(t){return i.isString(t)?t.replace(/\/(?:[0-9]+)/g,"/<ID>"):t}},,,,,,function(t,r,a){"use strict";a.r(r),a.d(r,"pages",(function(){return l}));var i=a(2595),o=a(2608),c=a(2610),l={catalog_dashboard:i.a,event_inspector:o.a,recommender_dashboard:c.a};r.default={pages:l}},function(t,r,a){"use strict";a.d(r,"a",(function(){return l}));var i,o,c=a(34);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var l=(_defineProperty(i={},c.enums.activationModes.IMMEDIATE,{label:tr("Immediately"),description:tr("Check conditions as soon as the page is loaded."),value:c.enums.activationModes.IMMEDIATE}),_defineProperty(i,c.enums.activationModes.URL_CHANGED,{label:tr("When the URL changes"),description:tr("Triggered when the URL in the visitor's browser changes."),value:c.enums.activationModes.URL_CHANGED,linkNewWindow:!0,linkText:"Requires Dynamic Website support",linkURL:"https://help.optimizely.com/Build_Campaigns_and_Experiments/Support_for_Dynamic_Websites%3A_Use_Optimizely_on_Single_Page_Applications_(beta)"}),_defineProperty(i,c.enums.activationModes.CALLBACK,{label:tr("When a callback is called"),description:tr("A javascript function you can call to activate the page when needed."),value:c.enums.activationModes.CALLBACK}),_defineProperty(i,c.enums.activationModes.DOM_CHANGED,{label:tr("When the DOM changes"),description:tr("Triggered when any element on the page changes."),value:c.enums.activationModes.DOM_CHANGED,linkNewWindow:!0,linkText:"Requires Dynamic Website support",linkURL:"https://help.optimizely.com/Build_Campaigns_and_Experiments/Support_for_Dynamic_Websites%3A_Use_Optimizely_on_Single_Page_Applications_(beta)"}),_defineProperty(i,c.enums.activationModes.MANUAL,{label:tr("Manually"),description:tr("Manually trigger a page to check conditions."),value:c.enums.activationModes.MANUAL}),_defineProperty(i,c.enums.activationModes.POLLING,{label:tr("When a javascript condition is true"),description:tr("Polling. Wait until a condition is met to check for true conditions, polling every 50ms. Polling functions in the client timeout 2 seconds after DOM ready."),value:c.enums.activationModes.POLLING}),i),u=[l[c.enums.activationModes.IMMEDIATE],l[c.enums.activationModes.URL_CHANGED],l[c.enums.activationModes.DOM_CHANGED],l[c.enums.activationModes.CALLBACK],l[c.enums.activationModes.MANUAL],l[c.enums.activationModes.POLLING]],d=(_defineProperty(o={},c.enums.activationModes.CALLBACK,"/**\n * Sample Activation Function\n * For complete documentation, see https://docs.developers.optimizely.com/web/docs/dynamic-websites#section-callback\n * @param {Function} activate - Call this function when you want to activate the page.\n * @param {Object} options - An object containing Page information.\n */\n\nfunction callbackFn(activate, options) {\n  document.querySelector('button').addEventListener('click', activate);\n}"),_defineProperty(o,c.enums.activationModes.POLLING,"/**\n * Sample Polling Function\n * Supply an expression to return a boolean inside a function.\n * For complete documentation, see https://docs.developers.optimizely.com/web/docs/dynamic-websites#section-polling\n */\n\nfunction pollingFn() {\n  return window.globalVarToWaitFor === 'READY';\n}"),o),p=[{label:tr("all"),description:tr("All conditions must be true for the page to activate."),value:c.enums.conditionGroupTypes.AND},{label:tr("any"),description:tr("Any condition being true will cause the page to activate."),value:c.enums.conditionGroupTypes.OR}];r.b={DEFAULT_ACTIVATION_TYPE_OPTIONS:l,ORDERED_DEFAULT_ACTIVATION_TYPE_OPTIONS:u,DEFAULT_CODE:d,ROOT_TYPE_OPTIONS:p}},,function(t,r,a){"use strict";var i=a(372),o=a(116),c=i.e,l=o.m,u=o.c,d=o.d,p=o.e;r.a={init:c,withScope:l,captureException:u,captureMessage:d,configureScope:p}},function(t,r,a){"use strict";r.a={refreshLock:["publicApiConsumer","refreshLock"],scheduledRefreshTimer:["publicApiConsumer","scheduledRefreshTimer"],initializationLock:["publicApiConsumer","initializationLock"],lastRefreshTime:["publicApiConsumer","lastRefreshTime"],lastRefreshSucceeded:["publicApiConsumer","lastRefreshSucceeded"]}},,,function(t,r,a){"use strict";a.r(r);var i=a(1288),o=a.n(i);a.d(r,"actions",(function(){return o.a}));var c=a(1164);a.d(r,"constants",(function(){return c.a}));var l=a(140),u=a.n(l);a.d(r,"enums",(function(){return u.a}));var d=a(1165);a.d(r,"fns",(function(){return d.default}));var p=a(672),m=a.n(p);a.d(r,"getters",(function(){return m.a})),r.default={actions:o.a,constants:c.a,enums:u.a,fns:d.default,getters:m.a}},,,,,,function(t,r,a){"use strict";var i=a(8),o=a.n(i);r.a=function(t,r){if(!r){var a=o.a.date(t),i=o.a.date(a).format("dddd, LL"),c=o.a.date();return a.isSame(c,"day")?o()("Today, {0}",i):a.isSame(c.subtract(1,"d"),"day")?o()("Yesterday, {0}",i):i}return o.a.date(t).format(r)}},function(t,r,a){"use strict";var i=a(2162),o=i.timezones;o.push({offset:-0,title:"GMT+00:00"}),r.a={TIMEZONES:o}},,function(t,r,a){var i=a(17);t.exports=i({P13N_EDITOR_IFRAME_ADD_IFRAME:null,P13N_EDITOR_IFRAME_EVAL_COMPLETE:null,P13N_EDITOR_IFRAME_HIGHLIGHT_ELEMENT:null,P13N_EDITOR_IFRAME_INCREMENT_ALERT_COUNT:null,P13N_EDITOR_IFRAME_LOG:null,P13N_EDITOR_IFRAME_REGISTER_PROTOCOL_FOR_URL:null,P13N_EDITOR_IFRAME_REMOVE_IFRAME:null,P13N_EDITOR_IFRAME_RESET:null,P13N_EDITOR_IFRAME_SET_EDITOR_TYPE:null,P13N_EDITOR_IFRAME_SET_FRAME_TYPE:null,P13N_EDITOR_IFRAME_SET_IS_LANDSCAPE_MODE:null,P13N_EDITOR_IFRAME_SET_MODE:null,P13N_EDITOR_IFRAME_SET_READY_STATE:null,P13N_EDITOR_IFRAME_SET_SELECTED_DEVICE:null,P13N_EDITOR_IFRAME_SET_URL:null,P13N_EDITOR_IFRAME_SET_WIDTH:null,P13N_EDITOR_IFRAME_UNHIGHLIGHT_ALL_ELEMENTS:null,P13N_EDITOR_IFRAME_UNHIGHLIGHT_ELEMENT:null,P13N_EDITOR_IFRAME_UNREGISTER_PROTOCOL_FOR_URL:null,P13N_EDITOR_SET_LOGGING_ENABLED:null})},function(t,r,a){"use strict";var i=a(914),o=a.n(i),c=a(1955),l=a(101),u=a(142),d=a.n(u),p=a(5),m=a(24),g=a(401),h=a(199);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}r.a={fetchChanges:function fetchChanges(t){var r=t;"string"==typeof t&&(r=d()(t));var a=h.d.cleanFiltersForApi(r);return g.a.fetchPage("changes",{queryParams:_extends({},a)}).then((function(t){return Promise.all([Promise.resolve(t.headers),t.json()])})).then((function(t){var r=_slicedToArray(t,2),a=r[0],i=r[1],c=(o()(a.get("Link"))||{}).next;return{changes:i,nextPageUrl:c&&c.url||null,queryTotalCount:Number(a.get("X-Record-Total"))}}))},getCopyShareLinkAndNotify:function getCopyShareLinkAndNotify(t,r){return function(){var a=m.default.changeHistoryLog(t,r);return c.a.copyToClipboard(a),p.default.showNotification({message:"Share link copied"}),a}},setRouteAndFetchChanges:function setRouteAndFetchChanges(t){var r=this;return new Promise((function(a,i){var o=_slicedToArray(h.d.computeAllowedUrlFiltersFromState(t),2),c=o[0],u=o[1],d=_extends({},h.d.computeAllowedUrlFiltersFromUrl(),c);l.default.pushStateAndAddAndRemoveQueryParams(d,u),r.fetchChanges(t).then(a,i)}))}}},,,,,,,,,,,,function(t,r,a){"use strict";var i=a(100),o=a(24),c=a(97),l=a(211),u=a(464),d=a(114),p=a(13),m=a(133),g=a(233),h=a(111),y=a(312),v=a(503),_=a(1394),E=a(10),b=a(56),T=a(22),S=a(37),C=a(283);var I=[p.default.experimentationGroups,function(t){return t=l.default.filterByArchivedStatus(t,c.default.status.ACTIVE)}],A=p.default.features;var O=[g.a.variations,C.a.ensureVariationKeysUnique],P=[g.a.variations,function(t){return t.every((function(t){return t.get("api_name")&&i.default.apiName.test(t.get("api_name"))}))}],R=[g.a.variationsWithVariables,function(t){return t.map((function(t){return t.has("percentage")&&(t=t.set("weight",Number((100*t.get("percentage")).toFixed())).delete("percentage")),t.set("name",t.get("api_name")).delete("guid").delete("$index")}))}],w=[_.a.entityCache,p.default.id,d.default.filterByProjectId],N=[v.default.entityCache,p.default.id,d.default.filterByProjectId],L=[N,function(t){return l.default.filterByArchivedStatus(t,c.default.status.ACTIVE)}],x=[p.default.id,[S.default.accountPermissions,T.default.canUseMutex],p.default.currentProjectType,function(t,r,a){return[{title:"Overview",url:o.default.xFullStackHome(t),id:E.default.OasisTabs.EXPERIMENTS,testSection:"oasis-experiments-overview-tab"},{title:"Exclusion Groups",url:o.default.groups(t),id:E.default.OasisTabs.GROUPS,testSection:"oasis-experiments-groups-tab",isVisible:r}]}],D=[p.default.project,p.default.primarySDKLanguage,function(t,r){return b.default.formatCustomProjectName(t.toJS(),r)}];r.a={currentProjectActiveGroups:I,isExperimentLive:function isExperimentLive(t){return[h.default.entityCache,y.default.entityCache,function(r,a){var i=r.get(t);return m.a.isExperimentLive(i,a)}]},currentProjectFeatures:A,filteredAndSortedGroups:function filteredAndSortedGroups(t){return[p.default.experimentationGroups,u.a.fieldFilter(t,"status"),u.a.stringFilter(t),function(t,r,a){return t=l.default.filterByArchivedStatus(t,r),t=l.default.filterFieldsByString(t,a,["name","description"])}]},allVariationKeysUnique:O,allVariationKeysValid:P,variationsToSave:R,currentProjectVariableUsages:w,currentProjectVariables:N,currentProjectActiveVariables:L,topbarItems:x,customProjectName:D}},function(t,r,a){var i=a(8);t.exports=function(t){return i.date(t).format("LTS")}},function(t,r,a){var i=a(8);t.exports=function(t,r){return r=void 0!==r?Number(r):0,"".concat(i.number(100*t,r,!0),"%")}},function(t,r,a){"use strict";a.r(r);var i=a(807);a.d(r,"actions",(function(){return i.a}));var o=a(457);a.d(r,"entityDef",(function(){return o.a}));var c=a(466);a.d(r,"enums",(function(){return c.a}));var l=a(792);a.d(r,"getters",(function(){return l.a})),r.default={actions:i.a,entityDef:o.a,enums:c.a,getters:l.a}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(107),l=a(19),u=a(40);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}r.a=function ArchiveModal(t){var r=t.onArchiveClick,a=t.closeArchiveModal,d=_slicedToArray(Object(i.useState)(!1),2),p=d[0],m=d[1];return o.a.createElement(c.a,{hasCloseButton:!p,title:"Archive Warning",onClose:function onClose(){return a()},footerButtonList:[o.a.createElement(l.a,{style:"plain",key:0,onClick:function onClick(){return a()},disabled:p},"Cancel"),o.a.createElement(l.a,{style:"highlight",key:1,onClick:function onClick(){m(!0),r&&r().then((function(){m(!1),a()}))},isLoading:p,loadingText:"Archiving..."},"Archive")]},o.a.createElement("p",null,"Once an experiment is archived you can no longer unarchive it at a later time. All experiment details and results will be preserved and can be accessed at any time. ",o.a.createElement(u.a,{newWindow:!0,href:"https://support.optimizely.com/hc/en-us/articles/4410289080077-Events-from-paused-experiments-stopped-variations-and-archived-experiments"},"Learn more.")))}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(107),l=a(19),u=a(40);r.a=function UnarchiveModal(t){var r=t.closeArchiveModal;return o.a.createElement(c.a,{hasCloseButton:!0,title:"Unarchive Not Available",onClose:function onClose(){return r()},footerButtonList:[o.a.createElement(l.a,{style:"plain",key:0,onClick:function onClick(){return r()}},"Cancel")]},o.a.createElement("p",null,"You can click the experiment name to see all experiment details and results of an archived experiment. ",o.a.createElement(u.a,{newWindow:!0,href:"https://support.optimizely.com/hc/en-us/articles/4410289080077-Events-from-paused-experiments-stopped-variations-and-archived-experiments"},"Learn more.")))}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(19),d=a(40);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function ShowArchivedItemsCtaIfAvailable(t){var r=t.fetchAnyProjectEntityAndReturnTrueIfPresent,a=t.handleFetchArchivedItems,c=_slicedToArray(Object(i.useState)("idle"),2),l=c[0],p=c[1];return Object(i.useEffect)((function loadArchivedItems(){var t=!0;return"idle"===l&&(p("loading"),r().then((function(r){t&&p(r?"success":"failed")}))),function(){t=!1}}),[]),"success"===l?o.a.createElement("p",{className:"push--top flex flex--dead-center"},o.a.createElement("span",{className:"push-half--right"},"Or"),o.a.createElement(u.a,{ariaLabel:"Show archived items",onClick:a,style:"unstyled",testSection:"show-archived-items-button"},o.a.createElement(d.a,null,"show archived items"),".")):null}ShowArchivedItemsCtaIfAvailable.propTypes={fetchAnyProjectEntityAndReturnTrueIfPresent:l.a.func.isRequired,handleFetchArchivedItems:l.a.func.isRequired},r.a=ShowArchivedItemsCtaIfAvailable},function(t,r,a){"use strict";a.r(r),a.d(r,"default",(function(){return S}));var i=a(4),o=a.n(i),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(65),m=a(19),g=a(206),h=a(26),y=a(2),v=a(444),_=a.n(v),E=a(76),b=a(663);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){_inherits(SelectedEntity,t);var r=_createSuper(SelectedEntity);function SelectedEntity(){var t;_classCallCheck(this,SelectedEntity);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).onUnselect=function(r){var a=t.props,i=a.index;(0,a.onUnselect)(r,i)},t.secondaryOnClick=function(r){var a=t.props,i=a.index;(0,a.secondaryOnClick)(r,i)},t}return _createClass(SelectedEntity,[{key:"render",value:function render(){var t=this.props,r=t.description,a=t.index,i=t.isEntityRequired,o=t.isFullWidth,c=t.name,l=t.secondaryActions,u=t.secondaryOnClick,y=t.secondaryText,v=t.selectedEntity,b=t.selectedEntitySecondaryText,T=t.testSection,S=t.warningContent,C="".concat(T,"-entity-selector-selected-").concat(a),I="";return u&&y&&(I=d.a.createElement("span",{className:"draggable-token__meta soft--sides"},d.a.createElement(m.a,{testSection:"".concat(C,"-secondary"),size:"narrow",style:"outline",onClick:this.secondaryOnClick},y))),l&&y&&(I=d.a.createElement(E.a,{activator:d.a.createElement(m.a,{testSection:"".concat(C,"-secondary"),size:"small",style:"outline"},d.a.createElement("div",{className:"flex flex-align--center"},d.a.createElement("span",{className:"flex flex--1"},y),d.a.createElement("span",{className:"push--left oui-arrow-inline--down"})))},d.a.createElement(E.e,{direction:"left",minWidth:"200px"},l.map((function(t,r){return d.a.createElement(E.f,{hideOnClick:!0,key:r},d.a.createElement(E.b,{isLink:!0,onClick:function onSelectedSecondaryClick(){t.onClick(v)},testSection:t.testSection,trackId:t.trackId},t.text))}))))),d.a.createElement("li",null,d.a.createElement("div",{className:"flex flex-align--center"},d.a.createElement("div",{className:"flex--1"},d.a.createElement(g.a,{description:r,showWell:!1,isDismissible:!i,isFullWidth:o,name:c,onDismiss:this.onUnselect,style:S?"tertiary":"secondary",testSection:C}),b&&d.a.createElement("span",{className:"micro muted soft-half--left","data-test-section":"selected-entity-secondary-text-".concat(v.get("id"))},b(v.get("id")))),I),S&&d.a.createElement("div",{className:"flex flex-align--center push-double--left push-half--bottom","data-test-section":"".concat(C,"-warning")},d.a.createElement(h.a,{color:p.redBase,size:"small",name:"circle-exclamation"}),d.a.createElement("span",{className:"push-half lego-form-note--bad-news",dangerouslySetInnerHTML:{__html:_()(S)},"data-test-section":"".concat(C,"-warning-text")})))}}]),SelectedEntity}(d.a.Component);T.propTypes={description:l.a.string,index:l.a.number.isRequired,isEntityRequired:l.a.bool,isFullWidth:l.a.bool,name:l.a.string.isRequired,onUnselect:l.a.func.isRequired,secondaryOnClick:l.a.func,secondaryText:l.a.string,secondaryActions:l.a.arrayOf(l.a.shape({text:l.a.string,onClick:l.a.func})),selectedEntitySecondaryText:l.a.func,selectedEntity:l.a.object,testSection:l.a.oneOfType([l.a.string,l.a.number]).isRequired,warningContent:l.a.string},T.defaultProps={isEntityRequired:!1};var S=function(t){_inherits(EntitySelector,t);var r=_createSuper(EntitySelector);function EntitySelector(){var t;_classCallCheck(this,EntitySelector);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).displayName="EntitySelector",t.onUnselect=function(r,a,i){(0,t.props.onEntityUnselected)(r,i.get(a))},t.onSelectedSecondaryClick=function(r,a,i){(0,t.props.onSelectedSecondaryClick)(r,i.get(a))},t}return _createClass(EntitySelector,[{key:"render",value:function render(){var t=this,r=this.props,a=r.isDisabled,i=r.emptyStateTokenName,c=r.entityName,l=r.inputPlaceholder,u=r.isFullWidth,p=r.onEntitySelected,m=r.onUnselectedSecondaryClick,h=r.primaryActionOnClick,y=r.primaryActionText,v=r.selectedSecondaryActions,_=r.selectedSecondaryText,E=r.selectedEntitySecondaryText,S=r.selectedItems,C=r.testSection,I=r.unselectedItems,A=r.unselectedSecondaryText,O=null;if(S.isEmpty()&&i)O=d.a.createElement("li",{className:"hard--sides"},d.a.createElement("div",{className:"flex"},d.a.createElement(g.a,{name:i,style:"secondary"})));else{var P=S.sortBy((function(t){return!t.get("__isEntitySelectedRequired")}));O=P.map((function(r,a){return d.a.createElement(T,{description:r.get("description"),key:r.get("id"),testSection:C,index:a,isEntityRequired:r.get("__isEntitySelectedRequired"),isFullWidth:u,name:r.get("name"),selectedEntity:r,onUnselect:o.a.partialRight(t.onUnselect,P),secondaryText:_,secondaryOnClick:o.a.partialRight(t.onSelectedSecondaryClick,P),secondaryActions:v,selectedEntitySecondaryText:E,warningContent:r.get("warningContent")})}))}return d.a.createElement("div",{"data-ui-component":!0},d.a.createElement("ul",{className:"lego-block-list push-double--bottom"},O),d.a.createElement(b.a,{isDisabled:a,entityName:c,itemOnClick:p,itemSecondaryOnClick:m,itemSecondaryText:A,primaryActionText:y,primaryActionOnClick:h,inputPlaceholder:l,lists:I}))}}]),EntitySelector}(d.a.Component);S.propTypes={isDisabled:l.a.bool,entityName:l.a.string,emptyStateTokenName:l.a.string,inputPlaceholder:l.a.string,isFullWidth:l.a.bool,onEntitySelected:l.a.func.isRequired,onEntityUnselected:l.a.func.isRequired,onSelectedSecondaryClick:l.a.func,selectedSecondaryActions:l.a.arrayOf(l.a.shape({text:l.a.string,onClick:l.a.func})),onUnselectedSecondaryClick:l.a.func,primaryActionOnClick:l.a.func,primaryActionText:l.a.string,selectedItems:l.a.instanceOf(y.default.List).isRequired,selectedSecondaryText:l.a.string,selectedEntitySecondaryText:l.a.func,testSection:l.a.oneOfType([l.a.string,l.a.number]),unselectedItems:l.a.instanceOf(y.default.List).isRequired,unselectedSecondaryText:l.a.string},S.defaultProps={isDisabled:!1,inputPlaceholder:"",testSection:""}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(9),m=a.n(p),g=a(19),h=a(26),y=a(52),v=a(65),_=a(2),E=a(335),b=a.n(E),T=a(192),S=a.n(T);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var C=function BlockListCategory(t){var r,a=t.children,i=t.testSection,o=t.url;return o&&(r=d.a.createElement("a",{href:o,className:"truncate max-width--300",title:o,"data-test-section":"block-list-category-link-".concat(i)},o)),d.a.createElement("div",{className:"drop-filter-list__category soft--sides soft-half--ends border--ends","data-test-section":"block-list-category-".concat(i)},d.a.createElement("span",{className:"flex--1"},a),r)};C.propTypes={children:l.a.node,testSection:l.a.oneOfType([l.a.string,l.a.number]),url:l.a.string},C.defaultProps={testSection:""};var I=function(t){_inherits(BlockListItem,t);var r=_createSuper(BlockListItem);function BlockListItem(){var t;_classCallCheck(this,BlockListItem);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).itemOnClick=function(r){var a=t.props,i=a.itemIndex;(0,a.itemOnClick)(r,a.listIndex,i)},t.itemSecondaryOnClick=function(r){r.stopPropagation();var a=t.props,i=a.itemIndex;(0,a.itemSecondaryOnClick)(r,a.listIndex,i)},t}return _createClass(BlockListItem,[{key:"render",value:function render(){var t,r=this.props,a=r.category,i=r.children,o=r.itemDescription,c=r.entityName,l=r.isBold,u=r.itemSecondaryOnClick,p=r.itemSecondaryText,y=r.testSection,_=m()("flex-align--center","lego-dropdown__block-link","flex","soft--sides","soft--half-ends","flush","flex-align--center",{"weight--bold":l});return u&&p?t=d.a.createElement(g.a,{testSection:"block-list-item-secondary-action-".concat(y),onClick:this.itemSecondaryOnClick,size:"tiny",style:"outline"},p):a&&(t=d.a.createElement("div",{className:"muted micro width--1-3 force-break",title:a},S()(a,60))),d.a.createElement("a",{"data-test-section":"block-list-item-".concat(y),className:_,onClick:this.itemOnClick},d.a.createElement("div",{"data-test-section":"unselected-".concat(c,"-add-button")},d.a.createElement(h.a,{className:"lego-icon push--right vertical-align--text-top",color:v.brandBlueDark,name:"plus",size:"small"})),d.a.createElement("div",{className:"flex--1 soft--right"},i,d.a.createElement("div",{className:"micro muted"},o)),t)}}]),BlockListItem}(d.a.Component);I.propTypes={category:l.a.string,children:l.a.node.isRequired,entityName:l.a.string,isBold:l.a.bool,itemDescription:l.a.string,itemIndex:l.a.number,itemOnClick:l.a.func,itemSecondaryOnClick:l.a.func,itemSecondaryText:l.a.string,listIndex:l.a.number,testSection:l.a.oneOfType([l.a.string,l.a.number])},I.defaultProps={isBold:!1,testSection:""};var A={lists:l.a.oneOfType([l.a.instanceOf(_.default.List),l.a.instanceOf(_.default.Map)]).isRequired,entityName:l.a.string,primaryActionOnClick:l.a.func,primaryActionText:l.a.string,itemOnClick:l.a.func,itemSecondaryOnClick:l.a.func,itemSecondaryText:l.a.string,bottomBorderOnly:l.a.bool,noMaxHeight:l.a.bool,isSubcategory:l.a.bool,showNameAndKey:l.a.bool,skipFilter:l.a.bool},O={list:l.a.instanceOf(_.default.Map),primaryActionOnClick:l.a.func,primaryActionText:l.a.string,itemOnClick:l.a.func,itemSecondaryOnClick:l.a.func,itemSecondaryText:l.a.string,bottomBorderOnly:l.a.bool,noMaxHeight:l.a.bool,isCollapsible:l.a.bool,showNameAndKey:l.a.bool},P=function(t){_inherits(BlockList,t);var r=_createSuper(BlockList);function BlockList(){var t;_classCallCheck(this,BlockList);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).itemOnClick=function(r,a,i){var o=t.props,c=o.itemOnClick,l=o.lists;c&&c(r,l.getIn([a,"items",i]))},t.itemSecondaryOnClick=function(r,a,i){var o=t.props,c=o.itemSecondaryOnClick,l=o.lists;c&&c(r,l.getIn([a,"items",i]))},t}return _createClass(BlockList,[{key:"render",value:function render(){var t,r=this,a=this.props,i=a.bottomBorderOnly,o=a.entityName,c=a.itemOnClick,l=a.itemSecondaryOnClick,u=a.itemSecondaryText,p=a.lists,g=a.noMaxHeight,h=a.primaryActionOnClick,y=a.primaryActionText,v=a.showNameAndKey;h&&y&&(t=d.a.createElement(I,{testSection:"primary-action",itemOnClick:h,isBold:!0},y));var _={};return g&&(_.maxHeight="none"),d.a.createElement("div",{className:m()({"drop-filter-list":!0,"border--all":!i,"border--bottom":i}),style:_},t,p.map((function(t,a){return d.a.createElement("div",{"data-test-section":"block-list-block-".concat(t.get("key")),key:t.get("key")},t.get("label")&&d.a.createElement(C,{url:t.get("url"),testSection:a},t.get("label")),t.get("items").map((function(t,i){return t.get("isSubcategory")?d.a.createElement(R,{list:t,key:t.get("key"),primaryActionOnClick:h,primaryActionText:y,isCollapsible:!0,itemOnClick:c,itemSecondaryOnClick:l,itemSecondaryText:u,showNameAndKey:v}):d.a.createElement(I,{category:t.get("category"),testSection:t.get("id"),entityName:o,key:t.get("id"),listIndex:a,isBold:t.get("isBold"),itemIndex:i,itemDescription:t.get("description"),itemOnClick:r.itemOnClick,itemSecondaryOnClick:r.itemSecondaryOnClick,itemSecondaryText:u},t.get("name"),v?d.a.createElement("div",{className:"zeta monospace muted micro word-break--all","data-test-section":"unselected-".concat(o,"-key-").concat(t.get("key")),style:{marginTop:"-1px"}},t.get("key")):null)})))})))}}]),BlockList}(d.a.Component);P.propTypes=A,P.defaultProps={bottomBorderOnly:!1,isSubcategory:!1,showNameAndKey:!1};var R=function(t){_inherits(BlockListSubcategory,t);var r=_createSuper(BlockListSubcategory);function BlockListSubcategory(){var t;_classCallCheck(this,BlockListSubcategory);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={isExpanded:!1},t.toggleDisclose=function(r){r.preventDefault(),t.setState((function(t){return{isExpanded:!t.isExpanded}}))},t}return _createClass(BlockListSubcategory,[{key:"render",value:function render(){var t=this.props,r=t.isCollapsible,a=t.itemOnClick,i=t.itemSecondaryOnClick,o=t.itemSecondaryText,c=t.list,l=t.primaryActionOnClick,u=t.primaryActionText,p=t.showNameAndKey,g=this.state.isExpanded,h={};r&&(h["is-active"]=g,h["lego-disclose"]=!0);var y=c.set("label",null),v=Object(_.toImmutable)([y]),E=d.a.createElement(P,{lists:v,primaryActionOnClick:l,primaryActionText:u,itemOnClick:a,itemSecondaryOnClick:i,itemSecondaryText:o,bottomBorderOnly:!0,noMaxHeight:!0,showNameAndKey:p});return d.a.createElement("div",null,d.a.createElement("div",{className:m()(h)},r&&d.a.createElement("div",null,d.a.createElement("a",{href:"#",className:"lego-disclose__link link--dark push--left push--top",onClick:this.toggleDisclose},d.a.createElement("span",{className:"lego-disclose__symbol push--right"},d.a.createElement("svg",{height:"14",width:"14"},d.a.createElement("use",{xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:"#chevron-right"}))),c.get("label")),d.a.createElement("div",{className:"lego-disclose__content"},E)),!r&&d.a.createElement("div",null,d.a.createElement("div",{className:"push--left push--top"},c.get("label")),E)))}}]),BlockListSubcategory}(d.a.Component);R.propTypes=O;var w=function(t){_inherits(FilterList,t);var r=_createSuper(FilterList);function FilterList(){var t;_classCallCheck(this,FilterList);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={query:""},t.setQuery=function(r){t.setState({query:r.target.value})},t.primaryActionOnClick=function(r){(0,t.props.primaryActionOnClick)(r)},t}return _createClass(FilterList,[{key:"render",value:function render(){var t=this.props,r=t.inputPlaceholder,a=t.isDisabled,i=t.itemOnClick,o=t.itemSecondaryOnClick,c=t.itemSecondaryText,l=t.lists,u=t.entityName,p=t.primaryActionText,m=t.showNameAndKey,g=t.testSection,h=this.state.query,v=l.map((function(t){return t.get("skipFilter")?t:t.update("items",(function(t){return t.map((function(t){return t.get("isSubcategory")?t.update("items",(function(t){return t.filter((function(t){return b.a.isFilterTermInItem(h,"".concat(t.get("name")," ").concat(t.get("description","")," ").concat(t.get("category","")))||t.get("skipFilter")}))})):t})).filter((function(t){return t.get("isSubcategory")?t.get("items").size:b.a.isFilterTermInItem(h,"".concat(t.get("name")," ").concat(t.get("description","")," ").concat(t.get("category","")))||t.get("skipFilter")}))}))}));return d.a.createElement("div",{"data-ui-component":!0,"data-test-section":g},d.a.createElement(y.a,{testSection:"block-list-input",type:"search",isFilter:!0,isDisabled:a,placeholder:r,onInput:this.setQuery}),!a&&d.a.createElement(P,{entityName:u,lists:v,primaryActionOnClick:this.primaryActionOnClick,primaryActionText:p,itemOnClick:i,itemSecondaryOnClick:o,itemSecondaryText:c,showNameAndKey:m}))}}]),FilterList}(d.a.Component);w.propTypes=o.a.extend({},A,{inputPlaceholder:l.a.string,isDisabled:l.a.bool,showNameAndKey:l.a.bool,testSection:l.a.string}),w.defaultProps={isDisabled:!1,showNameAndKey:!1},r.a=w},,function(t,r,a){"use strict";a.r(r),a.d(r,"dateNow",(function(){return u})),a.d(r,"stubDateNow",(function(){return d})),a.d(r,"stubTimerange",(function(){return p})),a.d(r,"traceId",(function(){return m})),a.d(r,"campaignTimerange",(function(){return g})),a.d(r,"defaultLoadTimerange",(function(){return h}));var i=a(38),o=a(23),c=a(2),l=a(309),u=["p13n/resultsApi","now"],d=["p13n/resultsApiStub","now"],p=["p13n/resultsApiStub","timerange"],m=["p13n/resultsApi","traceId"],g=[i.getters.layer,d,u,function(t,r,a){var i=a;i||(i=Date.now());var c=new Date(i),u=c.setFullYear(c.getFullYear()-l.a);if(!t)return{begin:Date.now(),end:Date.now()+1e3,restrictedBegin:Date.now()};t.get("status")!==o.enums.entityStatus.RUNNING&&(i=t.get("latest")||i);var d=t.get("earliest")||t.get("created");return(new Date(u).valueOf()<new Date(d).valueOf()||new Date(u).valueOf()>new Date(i).valueOf())&&(u=d),new Date(d).valueOf()>=new Date(i).valueOf()?{begin:new Date(d).valueOf(),end:new Date(d).valueOf()+1e3,restrictedBegin:new Date(d).valueOf()}:{begin:new Date(d).valueOf(),end:new Date(i).valueOf(),restrictedBegin:new Date(u).valueOf()}}],h=[i.getters.layer,g,function(t,r){if(!t)return r;var a=r.restrictedBegin,i=t.get("earliest")||t.get("created"),o=r.end;return new Date(o)<new Date(i)&&(o=new Date(i).valueOf()+1e3),Object(c.toImmutable)({begin:new Date(i).valueOf(),end:new Date(o).valueOf(),restrictedBegin:new Date(a).valueOf()})}];r.default={campaignTimerange:g,dateNow:u,defaultLoadTimerange:h,stubDateNow:d,stubTimerange:p,traceId:m}},function(t,r,a){"use strict";var i=a(3),o=a(101),c=a(716),l=a(585),u=function getPagedUrl(t,r){var a=i.default.evaluate(l.a.currentPage(t));return a&&a>1&&(r+="?page=".concat(a)),r},d=function saveCurrentPage(t){var r=t.id,a=t.currentPage;i.default.dispatch(c.a.PAGEABLE_SAVE_CURRENT_PAGE,{id:r,currentPage:a})};r.a={pushStateWithPageNumber:function pushStateWithPageNumber(t,r){o.default.pushState(u(t,r))},resetCurrentPage:function resetCurrentPage(t){i.default.dispatch(c.a.PAGEABLE_RESET_CURRENT_PAGE,{id:t})},replaceStateWithPageNumber:function replaceStateWithPageNumber(t,r){o.default.replaceState(u(t,r))},saveCurrentPage:d,setPageFromPath:function setPageFromPath(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.page&&Number(r.page)&&d({id:t,currentPage:Number(r.page)})}}},function(t,r,a){"use strict";var i=a(37),o=a(13),c=a(22),l=a(39),u=a(431),d=l.default.canUsePersonalization,p=[i.default.accountPermissions,c.default.canUseABTesting],m=[i.default.accountPermissions,c.default.canUseABTestingV2],g=[d,m,u.a.getV2PlatformText],h=[d,m,u.a.getV1PlatformText],y=[d,m,o.default.project,u.a.getV2FirstRunText],v=[d,m,o.default.project,u.a.getV2FirstRunImage],_=[d,m,u.a.getBundledSnippetText],E=[d,m,u.a.getStandaloneSnippetText],b=[p,o.default.isClassicTestingEnabledInClient,o.default.isCustomProject,function(t,r,a){return(t||r)&&!a}];r.a={v2PlatformText:g,v1PlatformText:h,v2FirstRunText:y,v2FirstRunImage:v,bundledSnippetText:_,standaloneSnippetText:E,hasClassicEnabled:b}},function(t,r,a){var i=a(83).default;r.isABTest=function(){return this.currentLayer,this.policy,i.isABTestLayer(this.currentLayer?this.currentLayer:{policy:this.policy})},r.isPersonalizationCampaign=function(){return this.currentLayer,this.policy,i.isPersonalizationLayer(this.currentLayer?this.currentLayer:{policy:this.policy})}},,function(t,r,a){var i=a(4),o=a(96),c={},l=function validateChoicesShape(t){var r=t.options;return r&&r.choices?r.choices.length<2?{isValid:!1,message:"This field requires at least two choices."}:i.some(r.choices,(function(t){return!i.isObject(t)||!i.isString(t.value)||!i.isString(t.label)||2!==i.keys(t).length}))?{isValid:!1,message:tr("choices must be an array of objects with value & label string properties")}:{isValid:!0}:{isValid:!1,message:'This field requires a "choices" array.'}},u=function validateDefaultIsOneOfChoices(t){var r=t.options,a=i.some(r.choices,(function(r){return i.isEqual(r.value,t.default_value)}));return t.default_value&&!a?{isValid:!1,message:"The default must be one of these choices."}:{isValid:!0,message:""}};c[o.fieldType.HTML]={name:"HTML",description:"",singleton:!1},c[o.fieldType.SELECTOR]={name:"Selector",description:"",singleton:!1},c[o.fieldType.CSS]={name:"CSS",description:"",singleton:!1},c[o.fieldType.TEXT]={name:"Text (one line)",description:"",singleton:!1},c[o.fieldType.MULTI_TEXT]={name:"Text (multiple lines)",description:"",singleton:!1},c[o.fieldType.RICH_TEXT]={name:"Rich Text",description:"",singleton:!1},c[o.fieldType.NUMBER]={name:"Number",description:"",singleton:!1},c[o.fieldType.DROPDOWN]={name:"Dropdown",description:"",singleton:!1,defaultOptions:{choices:[{value:"a",label:"Option A"},{value:"b",label:"Option B"}]},validateDefaultOptions:l,validateDefaultValue:u,getDefaultValue:function getDefaultValue(t){return t.choices[0].value}},c[o.fieldType.MULTI_SELECT]={name:"Multiple Select",description:"",singleton:!1,defaultOptions:{choices:[{value:"a",label:"Option A"},{value:"b",label:"Option B"}]},validateDefaultOptions:l,validateDefaultValue:function validateDefaultValue(t){if(0===t.default_value.length)return{isValid:!0};var r=t.options,a=i.reduce(r.choices,(function(t,r){return t[r.value]=!0,t}),{});return i.some(t.default_value,(function(t){return!a[t]}))?{isValid:!1,message:tr("The default value contains invalid selections")}:{isValid:!0}},getDefaultValue:function getDefaultValue(t){return[t.choices[0].value]}},c[o.fieldType.TOGGLE]={name:"Toggle",description:"",singleton:!1,defaultOptions:{choices:[{value:"a",label:"Option A"},{value:"b",label:"Option B"}]},validateDefaultOptions:l,validateDefaultValue:u,getDefaultValue:function getDefaultValue(t){return t.choices[0].value}},c[o.fieldType.COLOR]={name:"Color Picker",description:"",singleton:!1,defaultOptions:{mode:"rgba"},validateDefaultOptions:function validateDefaultOptions(t){var r=t.options,a=["rgba","hex"];return r&&r.mode?i.includes(a,r.mode)?{isValid:!0,message:""}:{isValid:!1,message:"Mode must be one of ".concat(a)}:{isValid:!1,message:'Color fields require a "mode" attribute.'}},getDefaultValue:function getDefaultValue(t){return t.mode}},c[o.fieldType.IMAGE]={name:"Image",description:"",singleton:!1},t.exports=c},function(t,r,a){"use strict";a.r(r),a.d(r,"default",(function(){return T}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(9),d=a.n(u),p=a(218),m=a(26),g=a(5),h=a(18),y=a(54),v=a(544),_=a.n(v),E=a(346),b=a.n(E);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ImageInputManager,t);var r=_createSuper(ImageInputManager);function ImageInputManager(){var t;_classCallCheck(this,ImageInputManager);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={url:"",image:_extends({},h.constants.IMAGE_PROPERTIES)},t.setValue=function(r){t.setState({url:r})},t.onImageUrlChanged=function(r){var a=t.props.onImageChange;t.setState({url:r.target.value,image:_extends({},h.constants.IMAGE_PROPERTIES)}),a(r.target.value)},t.handleCalculateImageProperties=function(r){var a,i=t.state.image,o=new Image,c=t.props.imageEditingEnabled,l=(a=_extends({},c?i:h.constants.IMAGE_PROPERTIES)).displayValue;a.displayValue=r,l!==a.displayValue?h.actions.setImagePropertiesReact(a).finally((function(){o.src=a.absoluteUrl,o.onload=t.onImageLoad,o.onerror=t.onImageError,t.setState({image:a,url:a.displayValue})})):t.setState({image:a,url:a.displayValue})},t.uploadImageAndSetAsSource=function(r){var a=t.props.onImageChange,i=r.target.files;if(i.length){var o=i[0],c=h.actions.uploadImage(o).done((function(r){a(r),t.setState({url:r})})).fail((function(t){g.default.showNotification({type:"error",message:"There was an error uploading your image. Please try again."})}));g.default.loadingWhen("img-upload",c)}},t.getProportionalHeight=function(t){return t.height>t.width?b.a.THUMBNAIL_MAX_DIMENSION:b.a.THUMBNAIL_MAX_DIMENSION/t.width*t.height},t.getProportionalWidth=function(t){return t.height>t.width?b.a.THUMBNAIL_MAX_DIMENSION/t.height*t.width:b.a.THUMBNAIL_MAX_DIMENSION},t.onImageLoad=function(r){var a=r.target;t.setState((function(r){return{image:_extends({},r.image,{height:a.height,width:a.width,thumbnailHeight:t.getProportionalHeight(a),thumbnailWidth:t.getProportionalWidth(a)})}}))},t.onImageError=function(r){var a=r.target;t.state.image.src===a.absoluteUrl&&t.setState((function(t){return{image:_extends({},t.image,{width:0,height:0,thumbnailWidth:0,thumbnailHeight:0})}}))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ImageInputManager,[{key:"componentDidMount",value:function componentDidMount(){var t=this.context.vueEvents,r=this.props.setupChange;t&&(t.$on(b.a.EventTypes.CALCULATE_IMAGE_PORPERTIES,this.handleCalculateImageProperties),t.$on(b.a.EventTypes.SET_IMAGE_URL,this.setValue),r())}},{key:"render",value:function render(){var t=this.state,r=t.image,a=t.url,i=this.props,c=i.isEditingSelector,l=i.isEditorReadOnly,u=i.imageEditingEnabled,g={backgroundPosition:"center center",backgroundImage:"url( ".concat(r.absoluteUrl," )"),backgroundSize:"".concat(r.thumbnailWidth,"px ").concat(r.thumbnailHeight,"px")};return o.a.createElement(y.default,{loadingId:"img-upload",className:"img-upload"},o.a.createElement("div",{className:"img-upload__data"},o.a.createElement("div",{className:"img-upload__img",style:g}),o.a.createElement("div",{className:"img-upload__stats flex--1 force-break"},o.a.createElement("ul",null,o.a.createElement("li",{"data-test-section":"image-filename"},r.filename),o.a.createElement("li",{className:"muted","data-test-section":"image-size"},_()(r.size)),o.a.createElement("li",{className:"muted","data-test-section":"image-dimensions"},"".concat(r.width," x ").concat(r.height))))),o.a.createElement("div",{className:"push-half--bottom"},o.a.createElement(p.a,{value:a,onChange:this.onImageUrlChanged,testSection:"image-input-textarea",isDisabled:c||l})),o.a.createElement("div",null,o.a.createElement("span",{className:"file-input"},o.a.createElement("input",{type:"file",onChange:this.uploadImageAndSetAsSource,disabled:c||!u}),o.a.createElement("span",{className:d()("oui-button","anchor--left","oui-button--small","oui-button--outline",{"oui-button--disabled":c||!u})},o.a.createElement("div",{className:"flex"},o.a.createElement("span",{className:"push-half--right flex--dead-center"},o.a.createElement(m.a,{name:"upload",size:"small"})),tr("Upload New"))))))}}]),ImageInputManager}(o.a.Component);T.propTypes={imageEditingEnabled:l.a.bool.isRequired,isEditingSelector:l.a.bool.isRequired,isEditorReadOnly:l.a.bool.isRequired,onImageChange:l.a.func.isRequired,setupChange:l.a.func.isRequired}},function(t,r,a){var i=a(4),o=a(2).toImmutable,c=a(66),l=a(13),u=a(301),d=a(948),p=a(111),m=a(68),g=a(22);r.selectedTab=["p13n/campaignManager","selectedTab"],r.selectedSettingsTab=["p13n/campaignManager","selectedSettingsTab"],r.dirtySettingsTabs=["p13n/campaignManager","dirtySettingsTabs"],r.orderedAudienceIds=["link","audienceSelector","orderedAudienceIds"],r.layerName=["LegacyLayerSettingsStore","name"],r.layerDescription=["LegacyLayerSettingsStore","description"],r.holdback=["LegacyLayerSettingsStore","holdback"],r.isCreatingNewVariation=["p13n/campaignManager","creatingNewVariation"],r.currentlyRenamingVariationId=["p13n/campaignManager","currentlyRenamingVariationId"],r.formatLayerHoldback=[r.holdback,function(t){return Number(i.isNull(t)?null:t/100||0)}],r.campaignQAUrl=[l.project,l.previewJSFileName,c.id,c.views,function(t,r,a,i){var o=i.getIn([0,"edit_url"]);if(!o)return null;var c=0===o.indexOf("https:")?u.ProtocolTypes.HTTPS:u.ProtocolTypes.HTTP;return d.generatePreviewUrl(o,c,r,{projectId:t.get("id"),previewLayerIds:[a],previewMode:{type:"CAMPAIGN",id:a}})}],r.selectedViewIds=[["link","viewSelector","selectedViews"],function(t){if(t)return t.map((function(t){return t.get("id")}))}],r.hasDirtyHoldback=[c.layer,r.holdback,function(t,r){return!(!t||void 0===r)&&t.get("holdback")!==r}],r.hasDirtyLayerName=[c.layer,r.layerName,function(t,r){return!(!t||!r)&&t.get("name")!==r}],r.hasDirtyLayerDescription=[c.layer,r.layerDescription,function(t,r){return!(!t||!r)&&t.get("description")!==r}],r.hasDirtyAudienceIds=[c.orderedAudienceIds,r.orderedAudienceIds,function(t,r){return!(!t||!r)&&!t.equals(r)}],r.hasDirtySelectedViews=[c.layer,r.selectedViewIds,function(t,r){return!(!t||!r)&&!t.get("view_ids").equals(r)}],r.hasDirtySettingsTab=[r.hasDirtyLayerName,r.hasDirtyLayerDescription,r.hasDirtyHoldback,r.hasDirtyAudienceIds,function(t,r,a,i){return a||r||t||i}],r.singleExperiment=[c.id,p.entityCache,function(t,r){return i.isNumber(t)?r.find((function(r){return r.get("layer_id")===t})):null}],r.singleExperimentId=[r.singleExperiment,function(t){return t?t.get("id"):null}],r.variationsForSingleExperiment=[r.singleExperiment,[l.project,g.canUpdateLayer],c.liveCommit,c.isMultivariateTestLayer,c.isPersonalizationLayer,function(t,r,a,i,c){if(!t)return o([]);var l=t.get("id"),u=a&&a.getIn(["revisions","layer_experiment"],o([])).find((function(t){return l===t.get("id")})),d=m.addVariationModificationInfo(t.get("variations"),r,u,i,c,t.get("allocation_policy"));return m.addPercentageToVariations(d)}],r.suggestedNewVariationName=[r.singleExperiment,function(t){return t?m.suggestedNewVariationName(t.get("variations")):""}]},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(19),d=a(1e3),p=a(32),m=a(26),g=a(204),h=a(320),y=a(153),v=a(108),_=a(1068),E=a.n(_),b=a(65),T=a(5),S=a(268),C=a(262),I=a(326),A=a(401),O=a(192),P=a.n(O);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var R=function searchAudiencesByProjectId(t){return function(r){var a=r.query;return A.a.fetchPage("search",{queryParams:_extends({type:"audience",page:1,per_page:25,archived:!1,projectId:t,query:a},""===a?{sort:"created"}:{})}).then((function(t){if(t.ok)return t.json();T.default.showNotification({message:"There was an error loading Audiences. Please refresh the page or visit our Help Center if the issue persists.",type:"error"})})).catch((function(t){T.default.showNotification({message:t.message,type:"error"})}))}},w=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(AudienceSearchPicker,t);var r=_createSuper(AudienceSearchPicker);function AudienceSearchPicker(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,AudienceSearchPicker),(a=r.call(this,t)).state={isFetchingAudience:!1},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(AudienceSearchPicker,[{key:"handleAddAudience",value:function handleAddAudience(t){var r=this,a=this.props,i=a.addAudience;a.shouldWaitForAudienceFetch?(this.setState({isFetchingAudience:!0}),C.a.fetch(t.id).then((function(){r.setState({isFetchingAudience:!1}),i(t)}))):(i(t),C.a.fetch(t.id))}},{key:"render",value:function render(){var t=this,r=this.props,a=r.hasAudienceCombinationOption,i=r.minDropdownWidth,c=r.openAudienceCombinationDialog,l=r.openCreateAudienceDialog,_=r.openEditAudienceDialog,E=r.placeholder,T=r.projectId,C=r.selectedEntityIds,A=this.state.isFetchingAudience,O=a?2:1;return o.a.createElement(S.a,{alternateContent:o.a.createElement("div",{title:"Something went wrong","data-test-section":"audiences-error-boundary"},o.a.createElement("h3",null,"Audiences"),"There was an error loading Audiences. Please refresh the page or visit our Help Center if the issue persists.",o.a.createElement("div",{className:"display--block push--top"},o.a.createElement(u.a,{style:"highlight",onClick:I.b},"Optimizely Help Center")))},o.a.createElement(d.a,{additionalItems:O,onItemSelected:function onItemSelected(r,i,o){0!==r?a&&1===r?c():t.handleAddAudience(i[r-O]):l(o)},searchFunction:R(T),selectedEntityIds:C,supportedTypes:["audience"]},(function(r){var d=r.availableEntities,T=r.currentFauxFocusIndex,S=r.makeSearchRequest,C=r.isLoading,I=r.renderInput,R=r.resultsText,w=r.searchQuery;return o.a.createElement(p.a,{fullWidth:!0,renderActivator:function renderActivator(t){return I(_extends({},t,{placeholder:E,testSection:"audience-search-picker-input",onFocus:function onFocus(){return S(w)}}))},testSection:"audience-search-picker-dropdown",isLoading:C||A},o.a.createElement(p.a.Contents,{minWidth:i,direction:"right"},o.a.createElement(p.a.ListItem,null,o.a.createElement(p.a.BlockLink,{hasFauxFocus:0===T,onClick:function onClick(){return l(w)},testSection:"audience-search-picker-create-audience-button"},o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement(m.a,{color:b.brandBlueDark,name:"plus",size:"small"}),o.a.createElement("span",{className:"push--left"},"Create new audience")))),a&&o.a.createElement(p.a.ListItem,null,o.a.createElement(p.a.BlockLink,{hasFauxFocus:1===T,onClick:c,testSection:"audience-search-picker-create-audience-combination-button"},o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement(m.a,{color:b.brandBlueDark,name:"plus",size:"small"}),o.a.createElement("span",{className:"push--left"},"Create new audience combination")))),o.a.createElement(p.a.ListItem,{role:"separator",ignoreToggle:!0},o.a.createElement("span",{"data-test-section":"audience-search-picker-list-divider"},R.summary)),C&&o.a.createElement("div",{className:"push flex flex-justified--center"},o.a.createElement(g.a,{size:"small"})),!C&&d.map((function(r,a){return o.a.createElement(p.a.ListItem,{key:r.id},o.a.createElement(h.a,{pullRowPadding:!0},o.a.createElement(y.a,{verticalAlignment:"center"},o.a.createElement(v.a,{small:"fillSpace"},o.a.createElement(p.a.BlockLink,{hasFauxFocus:T===a+O,onClick:function onClick(){return t.handleAddAudience(r)},testSection:"audience-search-picker-audience-add-button"},o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement("div",{className:"flex"},o.a.createElement(m.a,{color:b.brandBlueDark,name:"plus",size:"small"})),o.a.createElement("span",{className:"push--left"},o.a.createElement(p.a.BlockLinkText,{text:P()(r.name,68)}),r.description&&o.a.createElement(p.a.BlockLinkSecondaryText,{secondaryText:r.description,testSection:"audience-search-picker-audience-description"}))))),o.a.createElement(v.a,{small:"fitContent"},o.a.createElement(u.a,{style:"outline",size:"small",onClick:function onClick(){return _(r)},testSection:"audience-search-pick-audience-view-button"},"View")))))})),A&&o.a.createElement(g.a,{hasOverlay:!0})))})))}}]),AudienceSearchPicker}(i.Component);w.propTypes={addAudience:l.a.func.isRequired,hasAudienceCombinationOption:l.a.bool,openAudienceCombinationDialog:l.a.func,openCreateAudienceDialog:l.a.func.isRequired,openEditAudienceDialog:l.a.func.isRequired,minDropdownWidth:l.a.number,placeholder:l.a.string,projectId:l.a.number.isRequired,selectedEntityIds:l.a.array.isRequired,shouldWaitForAudienceFetch:l.a.bool},w.defaultProps={hasAudienceCombinationOption:!1,openAudienceCombinationDialog:E.a,placeholder:"Search and add audiences",shouldWaitForAudienceFetch:!0},r.a=w},,function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(93),l=a.n(c),u=a(3),d=a(168),p={isLiteral:!0,showTime:null,toggleSpinner:function toggleSpinner(t){var r=this;if(t&&!this.shown){var a=o()(this.el);a.is("tr")?(this.spinner.appendTo(a.parents("table")),this.showTime=Date.now(),l.a.nextTick((function(){var t=a.position();r.spinner.css({position:"absolute",top:t.top,left:t.left,width:r.el.clientWidth,height:r.el.clientHeight})}))):(this.spinner.appendTo(this.el),this.showTime=Date.now())}else if(!t&&this.shown){var i=Date.now()-this.showTime;i>300?this.spinner.remove():this.timeout||(this.timeout=setTimeout((function(){r.spinner.remove(),r.timeout=null}),300-i))}this.shown=t},bind:function bind(){this.shown=!1;var t=o()(this.el).css("position");t&&"static"!==t||o()(this.el).css("position","relative"),this.spinner=o()('<div class="lego-overlay" style="z-index: 2000;"><div class="lego-spinner"></div></div>');var r=this.el.getAttribute("spinner-size");r&&this.spinner.find(".lego-spinner").addClass("lego-spinner--".concat(r)),this.setupObservation()},setupObservation:function setupObservation(){var t=this,r=d.a.isLoading(this.key);this.toggleSpinner(u.default.evaluate(r)),this.__unwatchLoadingStore=u.default.observe(r,(function(r){t.toggleSpinner(r)}))},unbind:function unbind(){this.spinner.remove(),this.timeout&&clearTimeout(this.timeout),this.__unwatchLoadingStore&&this.__unwatchLoadingStore(),delete this.timeout,delete this.showTime,delete this.spinner}};r.a=p},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(338);r.a={isAudienceIntegration:function isAudienceIntegration(t){try{return o.a.includes(t.categories,c.default.categories.AUDIENCES)}catch(t){return console.warn("Could not read `integration.categories` as an array"),!1}},isEnabled:function isEnabled(t){try{return!!t.projectLevelData.enabled}catch(t){return console.warn("Could not read `integration.projectLevelData.enabled`"),!1}}}},function(t,r,a){"use strict";var i=a(41),o=a(2),c=a(576);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var l=Object(i.default)(c.a),u=(l.byId,l.entityCache);r.a=_extends({},l,{settingsByIntegrationId:function settingsByIntegrationId(t){return[u,function(r){return r.toList().filter((function(r){return r.get("integration_id")===t}))||o.default.List()}]}})},,function(t,r,a){"use strict";r.a={hasOptimizelyEmail:function hasOptimizelyEmail(t){return t.includes("@optimizely.com")?"yes":"no"},generateUserId:function generateUserId(t,r){if(!t.unique_user_id)return null;var a=r?"_impersonating":"";return"".concat(t.account_id+a,"_").concat(t.unique_user_id)}}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(12),l=a.n(c),u=a(93),d=a.n(u),p=a(245),m=a(837),g=a.n(m),h=a(101),y=a(132),v=a.n(y),_=a(201),E=a.n(_),b=a(965),T=a(578),S=a(178),C=a(408),I=a(2189),A=a(836),O=a(2190),P=a.n(O);var R=d.a.extend(a(3158)),w={bind:function bind(){var t=this;l()(this.el).on("click.hide-dialog-directive",(function(r){t.vm.$dispatch("hideDialog")}))},unbind:function unbind(){this.__unbindTransitionEnd&&this.__unbindTransitionEnd(),l()(this.el).off("click.hide-dialog-directive")}},N={replace:!0,template:P.a,data:{hasLightOverlay:!1},directives:{"hide-dialog":w},computed:{shouldShowWithLightOverlay:function shouldShowWithLightOverlay(){return this.showOverlay&&this.hasLightOverlay},hasFullscreenDialog:function hasFullscreenDialog(){return o.a.some(this.dialogFrameVMs,"fullScreen")||o.a.some(this.dialogFrameVMs,"fullHeight")},shouldHaveModalFullClass:function shouldHaveModalFullClass(){return this.hasFullscreenDialog||0===this.dialogFrameVMs.length},topShownDialog:function topShownDialog(){return o.a.last(o.a.sortBy(this.dialogFrameVMs,"zIndex"))},shouldShowOverlay:function shouldShowOverlay(){return(void 0===this.isOuiDialog||!this.isOuiDialog)&&this.showOverlay}},methods:{isDialogShown:function isDialogShown(t){return!!o.a.find(this.dialogFrameVMs,{dialogComponentId:t})},showDialog:function showDialog(t){if(!t.component)throw new Error("showDialog: must supply config.component");var r=this.__getNextZIndex(),a=new R({parent:this,data:{shouldApplyNegativeLeftMargin:!!t.shouldApplyNegativeLeftMargin,zIndex:r,noEscape:!!t.noEscape,noPadding:!!t.noPadding,fullHeight:!!t.fullHeight,fullScreen:!!t.fullScreen,isOuiDialog:!!t.isOuiDialog},onHideDialog:t.onHideDialog});a.$appendTo(this.$el);var i=t.options||{};Object(I.a)(i);try{var c=new(o.a.isString(t.component)?Object(T.a)(t.component):d.a.extend(t.component))(o.a.extend({},i,{parent:a,data:t.data||{}}));if(c.$appendTo(a.$$.frame),a.dialogComponentId=c.$options.componentId,t.fullScreen&&(this.isFullscreenActive=!0),this.dismissOnBack=!!t.dismissOnBack,t.fullScreen&&t.dismissOnBack&&!this.hasFullscreenDialog){var u=["",document.title,"#modal"];this.$options.handleHistoryBack?h.default.pushState.apply(h.default,u):h.default.replaceState.apply(h.default,u),l()(window).on("popstate.modal",(function(t){var r=t.originalEvent;r&&r.singleSpa||Object(S.hideDialog)()}))}if(this.dialogFrameVMs.push(a),this._setIsOuiDialog(t.isOuiDialog),this._updateOverlay(),t&&t.shouldTrack){var p=JSON.parse(E.a.getItem(A.a.DIALOG_LOCAL_STORAGE_KEY)),m=c&&c.$options&&c.$options.componentId;if(m||(m=c&&c.$options&&c.$options.component&&c.$options.component.componentId),!m)throw new Error("Must have componentId if shouldTrack is enabled.");p?p[m]=Date.now().toString():p=function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}({},m,Date.now().toString()),m&&E.a.setItem(A.a.DIALOG_LOCAL_STORAGE_KEY,JSON.stringify(p))}return c}catch(t){a.$destroy(),Object(C.b)({type:"error",message:"An error has occurred"})}},_executeOnHide:function _executeOnHide(t){t.$options.onHideDialog&&t.$options.onHideDialog()},hideDialog:function hideDialog(){var t=this,r=this.topShownDialog;if(!r)return Promise.resolve();var a=this.dialogFrameVMs.indexOf(r);this.dialogFrameVMs.splice(a,1);var i=new b.a,o=function executeDialogDestroy(){r.$destroy(),t._updateOverlay();var a=t._executeOnHide(r);return Promise.resolve().then((function(){return a})).then((function(t){console.log("[DIALOG_MANAGER][hideDialog][executeDialogDestroy] dialog destroyed"),i.resolve(t)}))};return this.dialogFrameVMs.length||!this.isFullscreenActive?o():(this.isFullscreenActive=!1,l()(window).off("popstate.modal"),Promise.resolve().then((function(){if(t.dismissOnBack&&"#modal"===v.a.getHash()){if(console.log("[DIALOG_MANAGER][hideDialog] invoking handleHistoryBack"),t.$options.handleHistoryBack)return t.$options.handleHistoryBack();h.default.replaceState("",document.title,window.location.pathname+window.location.search)}})).then((function(){return console.log("[DIALOG_MANAGER][hideDialog][destroyWithTransition] invoking executeDialogDestroy"),t.__unbindTransitionEnd=g.a.transitionEndOnce(t.$el,o),i})))},hideDialogLegacy:function hideDialogLegacy(){var t=this,r=Promise.resolve(),a=this.topShownDialog;if(a){var i=this.dialogFrameVMs.indexOf(a);if(this.dialogFrameVMs.splice(i,1),!this.dialogFrameVMs.length&&this.isFullscreenActive){var o=setTimeout((function(){a.$destroy(),t._executeOnHide(a),t._updateOverlay()}),500);this.__unbindTransitionEnd=g.a.transitionEndOnce(this.$el,(function(){a.$destroy(),t._executeOnHide(a),t._updateOverlay(),window.clearTimeout(o)})),this.hasFullscreenDialog||(this.dismissOnBack&&"#modal"===v.a.getHash()&&(this.$options.handleHistoryBack?r=Promise.resolve().then((function(){return t.$options.handleHistoryBack()})):h.default.replaceState("",document.title,window.location.pathname+window.location.search)),l()(window).off("popstate.modal")),this.isFullscreenActive=!1}else a.$destroy(),this._executeOnHide(a),this._updateOverlay()}return r},handleKeyup:function handleKeyup(t){var r=this._getDocumentActiveElement();if(r){var a=r.tagName.toLowerCase();if("textarea"===a||"input"===a||"select"===a)return}27===t.keyCode&&this.topShownDialog&&!this.topShownDialog.noEscape&&this.hideDialog()},isDialogFullScreen:function isDialogFullScreen(t){return t.fullScreen||t.fullHeight},_getDocumentActiveElement:function _getDocumentActiveElement(){return document.activeElement},_updateOverlay:function _updateOverlay(){this.topShownDialog?(this.hasLightOverlay=this.isDialogFullScreen(this.topShownDialog),this.showOverlay=!0==!o.a.some(this.dialogFrameVMs,"isOuiDialog"),this.overlayZIndex=this.topShownDialog.zIndex-1):(this.hasLightOverlay=!1,this.showOverlay=!1),l()("html").toggleClass("dialog-shown",!!this.topShownDialog)},_setIsOuiDialog:function _setIsOuiDialog(t){this.isOuiDialog=t},__getNextZIndex:function __getNextZIndex(){return this.topShownDialog?this.topShownDialog.zIndex+2:3e3}},created:function created(){this.showOverlay=!1,this.overlayZIndex=2999,this.dialogFrameVMs=[],!0===p.a.isFeatureEnabled("fei-hide-dialog-legacy")&&(this.hideDialog=this.hideDialogLegacy),this.$on("hideDialog",this.hideDialog.bind(this)),this.$on("showDialog",this.showDialog.bind(this))},ready:function ready(){l()(window.document).on("keyup.dialog-manager-component",this.handleKeyup.bind(this))},afterDestroy:function afterDestroy(){l()(window.document).off("keyup.dialog-manager-component"),l()("html").removeClass("dialog-shown")}};r.a=N},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(93),l=a.n(c),u=a(493),d=a.n(u),p=a(2192),m=a.n(p);r.a={replace:!0,template:m.a,data:{notificationTypes:{default:"lego-attention--brand",success:"lego-attention--good-news",warning:"lego-attention--warning",error:"lego-attention--bad-news"},notifications:[],persistentNotifications:[]},methods:{showNotification:function showNotification(t){var r=this;t.doNotShowDuplicates&&o.a.some(this.notifications,{identifier:t.identifier})||(t.type||(t.type="default"),t.timestamp=Date.now(),t.notificationClass=this.notificationTypes[t.type],this.notifications.push(t),t.logToServer&&d.a.logToServer("JSError",o.a.extend({},t.errorData.errorDetails,{errorId:t.errorData.errorId,errorUrl:t.errorData.errorUrl,errorMessage:t.errorData.errorMessage,timestamp:t.timestamp,type:t.errorData.type,response:t.errorData.response,data:t.errorData.data})),l.a.nextTick((function(){t.shown=!0})),window.setTimeout((function(){t.shown=!1}),3e3),window.setTimeout((function(){r.notifications=o.a.dropWhile(r.notifications,{timestamp:t.timestamp})}),3300))},showPersistentNotification:function showPersistentNotification(t){if(t){if(!t.id)throw new Error("Must supply config.id to show and hide persistent notifications");t.type||(t.type="default"),o.a.isUndefined(t.showCloseButton)&&(t.showCloseButton=!0),this.clearPersistentNotification(t.id),t.notificationClass=this.notificationTypes[t.type],this.persistentNotifications.push(t)}},clearPersistentNotification:function clearPersistentNotification(t){if(!t)throw new Error("Must supply id to hide persistent notifications");this.persistentNotifications=o.a.filter(this.persistentNotifications,(function(r){return r.id!==t}))}}}},function(t,r,a){"use strict";r.a={IGNORE_URLS:[/chrome-extension/,/appspot\.com/],SENTRY_ENDPOINT:"https://a84512de41244b67bbd61ef7bcae3605@sentry.io/100089"}},,,,,,function(t,r,a){"use strict";var i=a(1213);a.d(r,"a",(function(){return i.a}));var o=a(580),c=a(1214);a.d(r,"b",(function(){return c.a}));i.a,o.a,c.a},function(t,r,a){"use strict";var i=a(3),o=a(70),c=a(15),l=a(42),u=a.n(l),d=a(965),p=a(258),m=a(806),g=a(520),h=a(430);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _wrapNativeSuper(t){var r="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper)}function Wrapper(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,t)})(t)}function _construct(t,r,a){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function _construct(t,r,a){var i=[null];i.push.apply(i,r);var o=new(Function.bind.apply(t,i));return a&&_setPrototypeOf(o,a.prototype),o}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(UnsatisfiedRequestsError,t);var r=function _createSuper(t){var r=_isNativeReflectConstruct();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}(UnsatisfiedRequestsError);function UnsatisfiedRequestsError(){return _classCallCheck(this,UnsatisfiedRequestsError),r.apply(this,arguments)}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(UnsatisfiedRequestsError)}(_wrapNativeSuper(Error));function consoleLog(){var t;(t=console).log.apply(t,arguments)}function formatVerification(t,r){var a=g.a.getEnvironment(u.a.get("env")).toUpperCase();return consoleLog("[VERIFIER] ".concat(a," up to date for projectId ").concat(t," at revision ").concat(r)),{projectId:t,cdn_revision:r}}r.a={setProjectRecordAsVerified:function setProjectRecordAsVerified(t,r){i.default.dispatch(p.a.VERIFIER_ADD_PROJECT_RECORD,{projectId:t}),i.default.dispatch(p.a.VERIFIER_FETCH_SUCCESS,{projectId:t,maxVerifiedRevision:r})},verify:function verify(t){var r=t.projectId,a=t.revisionToVerify;if(!r)return Promise.reject(new Error("No project ID to verify"));var l=g.a.getEnvironment(u.a.get("env")).toUpperCase();consoleLog("[VERIFIER] Verifying ".concat(l," revision for projectId ").concat(r)),a||(a=i.default.evaluate(o.getters.byId(r)).get("code_revision")),i.default.dispatch(p.a.VERIFIER_ADD_PROJECT_RECORD,{projectId:r});var v=i.default.evaluate(h.a.maxVerifiedRevision(r));return v>=a?Promise.resolve(formatVerification(r,v)):function retrieveVerifiedRevision(t,r){var a=i.default.evaluate(h.a.versionRequests(t)).get(r);if(a)return a.deferred.promise();var o=new d.a;i.default.dispatch(p.a.VERIFIER_ADD_VERSION_REQUEST,{projectId:t,version:r,deferred:o}),i.default.evaluate(h.a.isRequestInflight(t))||function fetchRevisionData(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=!!i.default.evaluate(h.a.versionRequests(t));if(!a)return;var o=u.a.get("env"),l=g.a.getEnvironment(o),d=m.a.POLL_SETTINGS[l],v=l===c.AppEnvironment.PRODUCTION?"https://cdn.optimizely.com/js/".concat(t,".js"):"https://".concat(g.a.getEnvS3Bucket(o),".s3.amazonaws.com/js/").concat(t,".js");i.default.dispatch(p.a.VERIFIER_FETCH_START,{projectId:t}),fetch(v,{cache:"no-cache",method:"HEAD"}).then((function(t,r,a){if(t.ok)return t.headers.get("x-amz-meta-revision");throw new Error("Network response was not ok.")})).then((function(a){i.default.dispatch(p.a.VERIFIER_FETCH_SUCCESS,{projectId:t,maxVerifiedRevision:a});var o=!0;if(i.default.evaluate(h.a.versionRequests(t)).forEach((function(c,u){u<=a?(c.deferred.resolve(formatVerification(t,a)),i.default.dispatch(p.a.VERIFIER_REMOVE_VERSION_REQUEST,{projectId:t,version:u})):(consoleLog("[VERIFIER] Failed ".concat(l.toUpperCase()," revision verification for projectId ").concat(t," (attempt ").concat(r,"): ").concat(a," < ").concat(u)),o=!1)})),!o)throw new y("not all version requests were satisfied")})).catch((function(a){(a instanceof y||consoleLog("[VERIFIER] Error fetching revision info for projectId ".concat(t)),r>=d.MAX_ATTEMPTS)?(consoleLog("[VERIFIER] Verifier timed out for projectId ".concat(t," after ").concat(r," attempts.")),i.default.evaluate(h.a.versionRequests(t)).forEach((function(r,a){r.deferred.reject(),i.default.dispatch(p.a.VERIFIER_REMOVE_VERSION_REQUEST,{projectId:t,version:a})})),i.default.dispatch(p.a.VERIFIER_FETCH_ERROR,{projectId:t})):setTimeout(fetchRevisionData.bind(null,t,r+1),d.POLLING_INTERVAL)}))}(t);return o.promise()}(r,a)}}},function(t,r,a){"use strict";var i=a(102),o=a.n(i),c=o.a.ASC,l=o.a.DESC,u=c,d={string:c,number:l,length:l,date:l,boolean:l};r.a={getDefaultSortDir:function getDefaultSortDir(t){return d[t]||u}}},function(t,r,a){"use strict";a.r(r),a.d(r,"check",(function(){return check})),a.d(r,"getLocation",(function(){return getLocation})),a.d(r,"getSuffix",(function(){return getSuffix}));var i,o=a(42),c=a.n(o),l=[/.*?\.?optimizelyedit\.(com|test)/,/.*\.?optimizelypreview\.(com|test)/,/(edit|preview)(-local)?(-hrd)?\.optimizely\.(com|test)/,/optimizelyedit(-hrd)?\.appspot\.com/,/cdn[^.]*\.optimizely\.com/],u=[/^\/?api\/client/];function check(t){for(var r=i.getLocation(t),a=0;a<u.length;a++)if(u[a].test(r.pathname))return!1;for(var o=0;o<l.length;o++)if(l[o].test(r.hostname))return!1;var d=c.a.get("env.ORIGIN_WHITELIST")||[];0===d.length&&window.optlyConfig&&window.optlyConfig.env&&window.optlyConfig.env.ORIGIN_WHITELIST&&(d=window.optlyConfig.env.ORIGIN_WHITELIST);for(var p=0;p<d.length;p++)if(d[p]==="".concat(r.protocol,"//").concat(r.hostname))return!0;return!1}function getLocation(t){var r=document.createElement("a");return r.href=t,r}function getSuffix(){return"com"}r.default=i={check:check,getLocation:getLocation,getSuffix:getSuffix}},function(t,r,a){"use strict";var i=a(36),o=a(573);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a);c.save,c.fetch,c.fetchAll,c.fetchPage,c.fetchAllPages,c.flush,c.delete;r.a=_extends({},c)},function(t,r,a){"use strict";a.r(r);var i=a(593);a.d(r,"actions",(function(){return i.a}));var o=a(189);a.d(r,"getters",(function(){return o.a})),r.default={actions:i.a,getters:o.a}},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(67),m=a(31),g=a(28),h=a(1352),y=a(2482),v=a.n(y);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=Object(g.a)((function(t){var r=t.entityId;return{users:h.b.usersListByEntityId(r)}}))(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ConcurrentEditingContainer,t);var r=_createSuper(ConcurrentEditingContainer);function ConcurrentEditingContainer(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ConcurrentEditingContainer),(a=r.call(this,t)).state={timeToNextRequest:Date.now(),failedTries:0},a.callVisitorsEndpoints=a.callVisitorsEndpoints.bind(_assertThisInitialized(a)),a.canUseConcurrentEditing=Object(m.isFeatureEnabled)("concurrent_editing"),a.backoff=Object(m.getFeatureVariableInteger)("concurrent_editing","backoff_in_seconds"),a.requestInterval=Object(m.getFeatureVariableInteger)("concurrent_editing","request_interval_in_seconds"),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ConcurrentEditingContainer,[{key:"callVisitorsEndpoints",value:function callVisitorsEndpoints(){var t=this,r=this.props.entityId;h.a.subscribeToEntityById(r).then((function(){return t.setState({failedTries:0,timeToNextRequest:Date.now()+1e3*t.requestInterval})})).catch((function(){return t.setState((function(r){var a=r.failedTries+1;return{failedTries:a,timeToNextRequest:Date.now()+1e3*Math.pow(t.backoff,a)}}))}))}},{key:"componentDidMount",value:function componentDidMount(){this.canUseConcurrentEditing&&this.callVisitorsEndpoints()}},{key:"componentDidUpdate",value:function componentDidUpdate(t,r){if(this.canUseConcurrentEditing){var a=this.state.timeToNextRequest;r.timeToNextRequest<a&&(this.nextRequest=setTimeout(this.callVisitorsEndpoints,a-Date.now()))}}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.canUseConcurrentEditing&&clearTimeout(this.nextRequest)}},{key:"render",value:function render(){var t=this.props.users;return this.canUseConcurrentEditing&&t.size?l.a.createElement(v.a,{users:t}):null}}]),ConcurrentEditingContainer}(l.a.Component)).propTypes={entityId:d.a.number.isRequired,users:d.a.instanceOf(p.List)},o.defaultProps={users:Object(p.List)()},i=o))||i;r.a=_},,,,,,function(t,r,a){"use strict";r.a={rolloutTrafficAllocationIsInvalid:function rolloutTrafficAllocationIsInvalid(t){var r=parseFloat(t);return!!Number.isNaN(r)||(parseFloat(r.toFixed(2))!==r||(r<0||r>100))}}},,function(t,r,a){"use strict";var i=a(3),o=a(703),c=a(434),l=function updateOutlierFilter(t){i.default.dispatch(c.a.METRICS_MANAGER_UPDATE_OUTLIER_FILTER,{outlierFilter:t})};r.a={resetWorkingMetricWrappers:function resetWorkingMetricWrappers(){i.default.dispatch(c.a.METRICS_MANAGER_RESET_WORKING_METRIC_WRAPPERS)},setCurrentlyEditingMetricWrapper:function setCurrentlyEditingMetricWrapper(t){i.default.dispatch(c.a.METRIC_EDITOR_SET_CURRENTLY_EDITING_METRIC_WRAPPER,{metricWrapper:t})},setDefaultOutlierFilter:function setDefaultOutlierFilter(t){var r=o.a.getDefaultOutlierFilter(t);l(r)},setOriginalOutlierFilter:function setOriginalOutlierFilter(t){var r=o.a.getOriginalOutlierFilter(t);l(r)},updateOutlierFilter:l,updateWorkingMetricWrappers:function updateWorkingMetricWrappers(t){i.default.dispatch(c.a.METRICS_MANAGER_UPDATE_WORKING_METRIC_WRAPPERS,{metricWrappers:t})}}},function(t,r,a){"use strict";var i=a(516);r.a={getDefaultOutlierFilter:function getDefaultOutlierFilter(t){return t&&t.get("outlier_filter")?t.get("outlier_filter"):i.a.OUTLIER_FILTER_DEFAULT_STATE},getOriginalOutlierFilter:function getOriginalOutlierFilter(t){return t&&t.get("outlier_filter")?t.get("outlier_filter"):i.a.OUTLIER_FILTER_PRIOR_LAYERS_DEFAULT_STATE}}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(190),d=a(26),p=function ConditionCardHeader(t){var r=t.showMultipleURLsMessage,a=t.title,i=t.onClose;return o.a.createElement("div",{className:"background--faint border--bottom flex flex--row  flex-justified--between soft-half--ends soft-double--right"},o.a.createElement("div",{className:"push--left flex flex--row flex--1 flex-align--center"},o.a.createElement("div",{className:"weight--bold","data-test-section":"condition-card-header-title"},a),r&&o.a.createElement("div",{"data-test-section":"condition-card-header-multiple-urls",className:"muted micro push-half--left flex flex--row flex-align--center"},"Add multiple URLs separated by line breaks",o.a.createElement(u.a,{position:"right",content:"A line break can also be expressed as \\n \\r \\t or <br>"},o.a.createElement("div",{className:"push-half--left push-half--top"},o.a.createElement(d.a,{name:"circle-question",size:"small"}))))),o.a.createElement("div",{className:"flex soft--left","data-test-section":"condition-card-header-close",onClick:i,onKeyDown:i,role:"button",tabIndex:0},o.a.createElement(d.a,{className:"oui-icon icon-target",name:"xmark",size:"small"})))};p.propTypes={showMultipleURLsMessage:l.a.bool.isRequired,onClose:l.a.func.isRequired,title:l.a.string.isRequired},r.a=p},function(t,r,a){"use strict";var i,o=a(0),c=a.n(o),l=a(28),u=a(14),d=a(23),p=a(39),m=a(877),g=a(82);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=Object(l.a)({canUseUrlTargeting:p.default.canUseUrlTargeting,targetingType:g.getters.targetingType(d.enums.policy.SINGLE_EXPERIMENT),urlTargetingConfig:g.getters.urlTargetingConfig,selectedViewIds:g.getters.selectedViewIds,views:u.getters.views,urlTargetingConditionsError:g.getters.urlTargetingConditionsError,urlTargetingApiNameError:g.getters.urlTargetingApiNameError,urlTargetingUrlError:g.getters.urlTargetingUrlError,viewsError:g.getters.savedPagesError})(i=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(BoundTargetingComponent,t);var r=_createSuper(BoundTargetingComponent);function BoundTargetingComponent(){return _classCallCheck(this,BoundTargetingComponent),r.apply(this,arguments)}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(BoundTargetingComponent,[{key:"render",value:function render(){return c.a.createElement(m.default,_extends({isABExperiment:!0,isCreating:!0,onChangeSelectedViewIds:g.actions.setSelectedViewIds,onChangeUrlTargeting:g.actions.setUrlTargetingConfig,setTargetingType:g.actions.setTargetingType},this.props))}}]),BoundTargetingComponent}(c.a.Component))||i;r.a=h},function(t,r,a){"use strict";var i=a(34),o=a(70),c=a(2);r.a={validateUrlTargetingConfig:function validateUrlTargetingConfig(t){var r=c.default.Map();t.getIn(["includeConditions",0,"value"])||(r=r.set("url_condition",tr("Please provide a url"))),t.get("edit_url")||(r=r.set("edit_url",tr("Please provide an example url for use when editing or previewing")));var a=i.fns.validateApiName(t);return a&&(r=r.set("api_name",a)),r},addFieldsToTargetingConfigForViewConversion:function addFieldsToTargetingConfigForViewConversion(t,r,a){var c;return r?c=(c=r.merge(t).set("single_use",!1).delete("view_id")).toJS():(c=t.set("page_type",i.enums.pageTypes.URL_SET).set("project_id",a).set("platform",o.enums.project_platforms.WEB),c=i.fns.createViewEntity(c.toJS())),c}}},function(t,r,a){var i=a(12);t.exports={getArrowDirection:function getArrowDirection(t){if(!t)return"bottom-center";return{"top-left":"bottom-left","top-center":"bottom-center","top-right":"bottom-right","bottom-left":"top-left","bottom-center":"top-center","bottom-right":"top-right","left-bottom":"left-bottom","left-center":"left-center","left-top":"left-top","right-top":"right-top","right-center":"right-center","right-bottom":"right-bottom",right:"left-center",left:"right-center",top:"bottom-center",bottom:"top-center"}[t]},getPoptipOffset:function getPoptipOffset(t,r,a,o,c,l){var u={left:0,top:0},d={left:0,top:0};l=l||20,a&&t.offset()&&(d=a.offset(),(u=t.offset()).left-=d.left,u.top-=d.top);var p=u.left,m=u.top;switch(o){case"top-left":m-=r.outerHeight(!0)+6;break;case"top-center":p+=t.outerWidth(!1)/2-r.innerWidth()/2,m-=r.outerHeight(!0)+6;break;case"top-right":p-=r.outerWidth(!0)-t.outerWidth(!1),m-=r.outerHeight(!0)+6;break;case"bottom-left":m+=t.outerHeight(!1)+6;break;case"bottom-center":p+=t.outerWidth(!1)/2-r.innerWidth()/2,m+=t.outerHeight(!1)+6;break;case"bottom-right":p-=r.outerWidth(!0)-t.outerWidth(!1),m+=t.outerHeight(!1)+6;break;case"left-bottom":p+=t.outerWidth(!1)+12,m-=r.outerHeight(!0)-t.outerHeight(!1);break;case"left-center":p+=t.outerWidth(!1)+12,m+=t.outerHeight(!1)/2-r.innerHeight()/2;break;case"left-top":p+=t.outerWidth(!1)+12;break;case"right-top":p-=r.outerWidth(!0)+12;break;case"right-center":p-=r.outerWidth(!0)+12,m+=t.outerHeight(!1)/2-r.innerHeight()/2;break;case"right-bottom":p-=r.outerWidth(!0)+12,m-=r.outerHeight(!0)-t.outerHeight(!1);break;case"right":p+=t.outerWidth(!1)+12,m+=t.outerHeight(!1)/2-r.innerHeight()/2;break;case"left":p-=r.outerWidth(!0)+12,m+=t.outerHeight(!1)/2-r.innerHeight()/2;break;case"top":p+=t.outerWidth(!1)/2-r.innerWidth()/2,m-=r.outerHeight(!0)+6;break;case"bottom":p+=t.outerWidth(!1)/2-r.innerWidth()/2,m+=t.outerHeight(!1)+6}if(c){var g=i(document).height(),h=i(document).width(),y=r.outerHeight(!0),v=r.outerWidth(!0);m=m<l?d.top+l:m,p=p<l?d.left+l:p,m=m+y>g-l?g-y-d.top-l:m,p=p+v>h-l?h-v-d.left-l:p}return{left:p,top:m}}}},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({SET_ACTIVE_UI_VERSION:null,SET_DEPLOYED_VERSION_ID:null})},function(t,r,a){"use strict";var i=a(860);r.a={querySelector:function querySelector(t,r){try{return i.a.isShadowDomSupported()?i.a.querySelector(t,r):(r||document).querySelector(t)}catch(t){return null}},querySelectorAll:function querySelectorAll(t,r){try{return i.a.isShadowDomSupported()?i.a.querySelectorAll(t,r):(r||document).querySelectorAll(t)}catch(t){return[]}}}},,function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({ACCOUNT_INFO_LOADED:null,ACCOUNT_UPDATE_IS_ADMIN:null})},,,function(t,r,a){"use strict";var i=a(17);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var o=a.n(i)()({SUPPORT_SET_PORTAL_VERSION:null,SUPPORT_SET_CALL_SCHEDULER_VISIBILITY:null});r.a=_extends({},o)},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({SET_USER_CONNECTED:null,SET_RECENT_ISSUES:null})},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({PAGEABLE_SAVE_CURRENT_PAGE:null,PAGEABLE_RESET_CURRENT_PAGE:null})},,function(t,r,a){"use strict";var i=a(1301),o=a(317);a.d(r,"b",(function(){return o.a}));var c=a(1302);r.a={actions:i.a,enums:o.a,getters:c.a}},,function(t,r,a){"use strict";var i,o,c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(71),m=a(65),g=a(19),h=a(32),y=a(26),v=a(5),_=a(28),E=a(38),b=a(21),T=a(128),S=a(49),C=a(727);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I=Object(_.a)({canCreateExperiment:S.getters.canCreateExperiment,canCreateLayer:S.getters.canCreateLayer,canMultivariateTestInX:S.getters.canMultivariateTestInX,canUseABTestingV2:S.getters.canUseABTestingV2,canUseMultiArmedBandits:S.getters.canUseMultiArmedBandits,canUsePersonalization:S.getters.canUsePersonalization,shouldUpsellPersonalization:S.getters.shouldUpsellPersonalization})(i=Object(p.withTrack)(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(CreateDropdown,t);var r=_createSuper(CreateDropdown);function CreateDropdown(){var t;_classCallCheck(this,CreateDropdown);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).onCreateExperimentClick=function(){var r=t.props,a=r.canUseABTestingV2,i=r.track;if(E.actions.setCurrentLayerId(null),a){var o=C.a.showABExperimentCreationDialogReact();v.default.loadingWhen("main",o)}else v.default.showUpsell({dataTestSection:"p13n-upsell-dialog"});i("Experiment Builder Viewed",{experimentType:b.default.type.AB})},t.onCreateMVTClick=function(){var r=t.props,a=r.canMultivariateTestInX,i=r.track;if(E.actions.setCurrentLayerId(null),a){var o=C.a.showMVTExperimentCreationDialogReact();v.default.loadingWhen("main",o)}i("Experiment Builder Viewed",{experimentType:b.default.type.MULTIVARIATE})},t.onCreateCampaignClick=function(){var r=t.props,a=r.canUsePersonalization,i=r.track;if(E.actions.setCurrentLayerId(null),a){var o=C.a.showLayerDetailDialogReact();v.default.loadingWhen("main",o)}else v.default.showUpsell({dataTestSection:"p13n-upsell-dialog"});i("Experiment Builder Viewed",{experimentType:b.default.type.PERSONALIZATION})},t.onCreateMABClick=function(){var r=t.props,a=r.canUseMultiArmedBandits,i=r.track;if(E.actions.setCurrentLayerId(null),a)if(v.default.hasDialogBeenShown("MultiArmedBanditNotification")){var o=C.a.showMABCreationDialog();v.default.loadingWhen("main",o)}else T.actions.showMABNotificationDialog(C.a.showMABCreationDialog);else v.default.showUpsell({dataTestSection:"mab-upsell-dialog"});i("Experiment Builder Viewed",{experimentType:b.default.type.MULTIARMED_BANDIT})},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(CreateDropdown,[{key:"render",value:function render(){var t=this.props,r=t.addDataTrackId,a=t.canCreateExperiment,i=t.canCreateLayer,o=t.canMultivariateTestInX,c=t.canUseMultiArmedBandits,l=t.canUsePersonalization,u=t.direction,p=t.shouldUpsellPersonalization,v=t.track,_=d.a.createElement(g.a,{style:"highlight",isDisabled:!i,onClick:function onClick(){v("Create New Experiment Clicked")},testSection:"layers-create-new-dropdown"},"Create New Experiment…",d.a.createElement("span",{className:"lego-arrow-inline--down push-double--left"})),E={onClick:this.onCreateExperimentClick,testSection:"layers-create-new-experiment"},b={onClick:this.onCreateCampaignClick,testSection:"layers-create-new-campaign"},T={onClick:this.onCreateMVTClick,testSection:"layers-create-new-mvt"},S={onClick:this.onCreateMABClick,testSection:"layers-create-new-mab"};return r&&(E.trackId="2.0-Campaign-Overview-CreateNew.single_experiment",b.trackId="2.0-Campaign-Overview-CreateNew.personalization"),d.a.createElement(h.a,{activator:_},d.a.createElement(h.a.Contents,{canScroll:!0,minWidth:300,direction:u},d.a.createElement(h.a.ListItem,null,d.a.createElement(h.a.BlockLink,E,d.a.createElement("div",{className:"flex flex-align--center"},d.a.createElement("div",{className:"flex-shrink--none push--left push-double--right flex--dead-center"},d.a.createElement(y.a,{color:m.brandBlueDark,name:"vials-thin",size:"medium"})),d.a.createElement("div",null,d.a.createElement("div",{className:"lego-dropdown--descriptive__header"},"A/B Test"),d.a.createElement("div",{className:"lego-dropdown--descriptive__content"},"Test multiple variations against each other to find the best experience.")),!a&&d.a.createElement("div",{className:"anchor--right push--sides flex--dead-center"},d.a.createElement(y.a,{name:"lock",size:"small"}))))),o&&d.a.createElement(h.a.ListItem,null,d.a.createElement(h.a.BlockLink,T,d.a.createElement("div",{className:"flex flex-align--center"},d.a.createElement("div",{className:"flex-shrink--none push--left push-double--right flex--dead-center"},d.a.createElement(y.a,{color:m.brandBlueDark,name:"ball-pile-thin",size:"medium"})),d.a.createElement("div",null,d.a.createElement("div",{className:"lego-dropdown--descriptive__header"},"Multivariate Test"),d.a.createElement("div",{className:"lego-dropdown--descriptive__content"},"Test multiple sections of a page at once."))))),p&&d.a.createElement(h.a.ListItem,null,d.a.createElement(h.a.BlockLink,b,d.a.createElement("div",{className:"flex flex-align--center"},d.a.createElement("div",{className:"flex-shrink--none push--left push-double--right flex--dead-center"},d.a.createElement(y.a,{color:m.brandBlueDark,name:"megaphone-thin",size:"medium"})),d.a.createElement("div",null,d.a.createElement("div",{className:"lego-dropdown--descriptive__header"},"Personalization Campaign"),d.a.createElement("div",{className:"lego-dropdown--descriptive__content"},"Target multiple audiences with different personalized experiences.")),!l&&d.a.createElement("div",{className:"anchor--right push--sides flex--dead-center"},d.a.createElement(y.a,{name:"lock",size:"small"}))))),c&&d.a.createElement(h.a.ListItem,null,d.a.createElement(h.a.BlockLink,S,d.a.createElement("div",{className:"flex flex-align--center"},d.a.createElement("div",{className:"flex-shrink--none push--left push-double--right flex--dead-center"},d.a.createElement(y.a,{color:m.brandBlueDark,"data-test-section":"axiom-icon-user-robot",name:"user-robot-thin",size:"medium"})),d.a.createElement("div",null,d.a.createElement("div",{className:"lego-dropdown--descriptive__header"},"Multi-Armed Bandit"),d.a.createElement("div",{className:"lego-dropdown--descriptive__content"},"Use machine learning to dynamically allocate traffic to the best-performing variation.")))))))}}]),CreateDropdown}(d.a.Component)).propTypes={addDataTrackId:l.a.bool,canCreateExperiment:l.a.bool.isRequired,canCreateLayer:l.a.bool.isRequired,canMultivariateTestInX:l.a.bool.isRequired,canUseABTestingV2:l.a.bool.isRequired,canUseMultiArmedBandits:l.a.bool.isRequired,canUsePersonalization:l.a.bool.isRequired,direction:l.a.oneOf(["left","right"]),shouldUpsellPersonalization:l.a.bool.isRequired,track:l.a.func},o.defaultProps={addDataTrackId:!1,direction:"left",track:function track(){}},i=o))||i)||i;r.a=I},function(t,r,a){"use strict";var i,o,c=a(59),l=a.n(c),u=a(1),d=a.n(u),p=a(0),m=a.n(p),g=(a(87),a(3)),h=a(8),y=a.n(h),v=a(5),_=a(28),E=a(2),b=a(417),T=a(38),S=a(23),C=a(242),I=a(662),A=a(2134),O=a(446),P=a(14);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var R=Object(_.a)({layers:S.getters.entityCache,currentProjectId:P.getters.id})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(PageSelector,t);var r=_createSuper(PageSelector);function PageSelector(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PageSelector),(a=r.call(this,t)).shouldComponentUpdate=Object(b.a)(),a.onSelectView=function(t,r){a.props.onChange(a.props.selectedViewIds.add(r.get("id")),a.props.addedViews.add(r))},a.onUnselectView=function(t,r){a.unselectView(r)},a.onClickSecondaryView=function(t,r){a.onEditView(r)},a.unselectView=function(t){var r=g.default.evaluate(T.getters.currentLayerChangesForView(t.get("id"))),i=T.fns.generateChangeCountsMessage(r);r.size?v.default.confirm({title:y()("Removing this page will discard all variation changes"),message:"".concat(y()("The following changes will be discarded:"),'<div class="color--bad-news weight--bold push--bottom">').concat(i,'</div><div class="lego-media color--bad-news push--bottom" data-test-section="publish-warning"> <svg class="lego-icon lego-media__img"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#exclamation-16"></use> </svg> <div class="lego-media__body"> <p>').concat(y()("Once discarded, changes cannot be recovered."),"</p> </div> </div>").concat(y()("Are you sure you'd like to remove the page?")),doSanitizeHTML:!1,confirmText:y()("Remove Page and Discard Changes"),isWarning:!0}).then((function(){a.props.onChange(a.props.selectedViewIds.delete(t.get("id")),a.props.addedViews.delete(t))})):a.props.onChange(a.props.selectedViewIds.delete(t.get("id")),a.props.addedViews.delete(t))},a.onEditView=function(t){v.default.showReactDialog(O.default,{props:{isInDialog:!0,isStandAlone:!0,viewConfiguration:Object(E.toImmutable)(t)}},{fullScreen:!0,dismissOnBack:!0})},a.onExperimentUsageView=function(t){v.default.showReactDialog(A.a,{props:{selectedViewId:t.get("id")}},{isOuiDialog:!0,fullScreen:!1,dismissOnBack:!0})},a.onCreateView=function(){v.default.showReactDialog(O.default,{props:{onSave:function onSave(t){a.props.onChange(a.props.selectedViewIds.add(t.id),a.props.addedViews.add(Object(E.toImmutable)(t)))},isInDialog:!0,isStandAlone:!0,viewConfiguration:Object(E.toImmutable)(C.actions.createView())}},{fullScreen:!0,dismissOnBack:!0})},a.getExperimentsUsage=function(t){var r=a.props.layers;if(!a.state.experimentsUsageAvailable)return"";var i=r.filter((function(r){return r.get("view_ids").includes(t)&&!r.get("archived")}));return"Used in ".concat(i.size," experiments")},a.state={experimentsUsageAvailable:!1},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(PageSelector,[{key:"componentDidMount",value:function componentDidMount(){var t=this,r=this.props.currentProjectId;S.actions.fetchAllByStatus({projectId:r,byPage:!1,archived:!1}).then((function(){t.setState({experimentsUsageAvailable:!0})}))}},{key:"render",value:function render(){var t,r=this,a=this.props.shouldUseEditorPageAsUrlTarget,i=this.props.views.groupBy((function(t){return r.props.selectedViewIds.has(t.get("id"))})),o=i.get(!0,Object(E.toImmutable)([])),c=i.get(!1,Object(E.toImmutable)([])).filterNot((function(t){return t.get("archived")||t.get("single_use")})).sort((function(t,r){var a=t.get("created"),i=r.get("created");return l()(a).isBefore(i)?1:l()(i).isBefore(a)?-1:0})),u=Object(E.toImmutable)([{key:"recently_created",label:y()("Recently Created Pages"),items:c}]),d=y()("View");return this.props.canUseUrlTargeting&&this.props.usePageAsUrlTarget&&((t=[{text:"Edit",onClick:this.onEditView,testSection:"open-page-view",trackId:"2.0-Campaign-Targeting.SavedViews.View"},{text:a?"Use Editor URL as URL Target":"Use Page as URL Target",onClick:this.props.usePageAsUrlTarget,testSection:"use-page-as-url-target",trackId:"2.0-Campaign-Targeting.SavedViews.UseAsUrlTarget"},{text:"Remove",onClick:this.unselectView,trackId:"2.0-Campaign-Targeting.SavedViews.Remove"}]).splice(2,0,{text:"View Experiment Usage",testSection:"view-experiment-usage",onClick:this.onExperimentUsageView,trackId:"2.0-Campaign-Targeting.SavedViews.ViewExperimentUsage"}),d=y()("Actions")),m.a.createElement("div",null,m.a.createElement(I.default,{selectedItems:o,unselectedItems:u,onEntitySelected:this.onSelectView,onEntityUnselected:this.onUnselectView,selectedEntitySecondaryText:this.getExperimentsUsage,selectedSecondaryActions:t,onSelectedSecondaryClick:this.onClickSecondaryView,onUnselectedSecondaryClick:this.onClickSecondaryView,selectedSecondaryText:d,unselectedSecondaryText:y()("Edit"),primaryActionText:y()("Create New Page"),primaryActionOnClick:this.onCreateView,inputPlaceholder:y()("Browse for Pages"),testSection:"pages"}),this.props.error&&m.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"views-for-layer-error"},this.props.error))}}]),PageSelector}(m.a.Component)).propTypes={currentProjectId:d.a.number.isRequired},i=o))||i;R.propTypes={addedViews:d.a.instanceOf(E.default.Set).isRequired,canUseUrlTargeting:d.a.bool.isRequired,layers:d.a.instanceOf(E.default.Map),error:d.a.string,onChange:d.a.instanceOf(Function),onSave:d.a.instanceOf(Function),selectedViewIds:d.a.instanceOf(E.default.Set).isRequired,shouldUseEditorPageAsUrlTarget:d.a.bool,usePageAsUrlTarget:d.a.func,views:d.a.instanceOf(E.default.List).isRequired},R.defaultProps={shouldUseEditorPageAsUrlTarget:!1},r.a=R},function(t,r,a){"use strict";a.d(r,"a",(function(){return i})),a.d(r,"b",(function(){return o})),a.d(r,"c",(function(){return c}));var i=tr("Email Address"),o={CHANGE:tr("Change email address…"),VERIFY:tr("Verify email address…")},c={UNVERIFIED:tr("unverified"),VERIFIED:tr("verified")}},function(t,r,a){"use strict";a.d(r,"a",(function(){return l})),a.d(r,"c",(function(){return u})),a.d(r,"b",(function(){return d}));var i=a(532),o=/[^a-z-]/gi,c=function cleanKeyword(t){return t.trim().toLowerCase().replace(o,"")},l=function cleanKeywordWrapperList(t){return t.map((function(t){return Object.assign(t,{name:c(t.name)})})).filter((function(t){return!!t.name}))},u=function serializeKeywords(t){return t.map((function(t){return t.name})).sort().join("_")},d=function deserializeKeywords(t){return i.a.reduce((function(t,r){return t.split(r).join("\n")}),t).split("\n").map(c).filter((function(t,r,a){return!!t&&a.indexOf(t)===r})).map((function(t){return{name:t}}))}},function(t,r,a){"use strict";var i=a(121);r.a={findMatchingEvent:function findMatchingEvent(t,r,a){return t.find((function(t){return t.getIn(["event_filter","filter_type"])===i.a.filterTypes.TARGET_SELECTOR&&(t.getIn(["event_filter","selector"])===r&&t.get("view_id")===a)}))}}},,function(t,r,a){"use strict";a.d(r,"a",(function(){return E})),a.d(r,"b",(function(){return b}));var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(19),d=a(32),p=a(52),m=a(389),g=a(204),h=a(2),y=a(44),v=a(2657),_=a(2658);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var E="EventsFilterDashboard",b="MetricsFilterDashboard",T=function MetricEventFilterBar(t){var r,a,i=t.areEventsLoading,o=t.areMetricsLoading,T=t.clickEvents,S=t.customEvents,C=t.metrics,I=t.onCreateEvent,A=t.onCreateMetric,O=t.onSelectAllProjects,P=t.onSelectCurrentProject,R=t.onSelectEvent,w=t.onSelectMetric,N=t.pageEvents,L=_slicedToArray(Object(c.useState)(b),2),x=L[0],D=L[1],k=_slicedToArray(Object(c.useState)((_defineProperty(r={},b,""),_defineProperty(r,E,""),r)),2),j=k[0],M=k[1],U=_slicedToArray(Object(c.useState)((_defineProperty(a={},b,"Current project"),_defineProperty(a,E,"Current project"),a)),2),V=U[0],B=U[1],G=function combineCustomAndPageEvents(){var t=[],r=function mapper(r){return function(a){return t.push(Object(h.toImmutable)({id:a.get("id",null),name:a.get("name",""),description:a.get("description",""),type:r?"custom":a.get("event_type"),site:a.get("api_name","")}))}},a=r(!0),i=r(!1);return T.map(i),S.map(a),N.map(i),Object(h.toImmutable)(t)},H=function renderProjectSpanOrButton(t,r){return V[x]===t?l.a.createElement("span",null,t):l.a.createElement("div",{className:"link display--inline-block"},l.a.createElement(u.a,{style:"unstyled","data-test-section":"metric-filterbar-project-".concat(t),onClick:function onClick(){return function handleChangeProjectFilter(t,r){B((function(r){return _extends({},r,_defineProperty({},x,t))})),r(x)}(t,r)}},t))};return l.a.createElement(d.a,{activator:l.a.createElement("div",null,l.a.createElement(p.a,{isFilter:!0,placeholder:"Search and add metrics","data-test-section":"metric-filterbar-input",type:"text",onChange:function handleChangeSearch(t){var r=t.target.value;y.a.setFilter(x,{string:r}),M((function(t){return _extends({},t,_defineProperty({},x,r))}))},value:j[x]})),"data-test-section":"metric-filterbar-dropdown",fullWidth:!0,shouldHideChildrenOnClick:!1},(function(t){var r=t.handleHideChildren;return l.a.createElement(d.a.Contents,null,l.a.createElement(m.a,{activeTab:x,"data-test-section":"metric-filterbar-tabs",style:["dashboard"],className:"push--left push-double--right"},l.a.createElement(m.a.Tab,{tabId:b,"data-test-section":"metric-filterbar-metric-tab",onClick:function onClick(){return D(b)}},"Metrics"),l.a.createElement(m.a.Tab,{tabId:E,"data-test-section":"metric-filterbar-event-tab",onClick:function onClick(){return D(E)}},"Events"),function renderProjectFilter(){return l.a.createElement("div",{style:{marginLeft:"auto"},className:"push--top micro"},H("Current project",P)," |"," ",H("All projects",O))}()),x===b&&l.a.createElement(l.a.Fragment,null,o&&l.a.createElement(g.a,{hasOverlay:!0}),l.a.createElement(_.a,{handleCreateMetric:function handleCreateMetric(t){A(t),r()},metrics:C,handleSelectMetric:function handleSelectMetric(t){w(t),r()},tableId:b})),x===E&&l.a.createElement(l.a.Fragment,null,i&&l.a.createElement(g.a,{hasOverlay:!0}),l.a.createElement(v.a,{handleCreateEvent:function handleCreateEvent(){I(),r()},events:G(),handleSelectEvent:function handleSelectEvent(t){R(t),r()},tableId:E})))}))};T.propTypes={areEventsLoading:o.a.bool.isRequired,areMetricsLoading:o.a.bool.isRequired,clickEvents:o.a.instanceOf(h.default.List).isRequired,customEvents:o.a.instanceOf(h.default.List).isRequired,metrics:o.a.instanceOf(h.default.List).isRequired,onCreateEvent:o.a.func.isRequired,onCreateMetric:o.a.func.isRequired,onSelectAllProjects:o.a.func.isRequired,onSelectCurrentProject:o.a.func.isRequired,onSelectEvent:o.a.func.isRequired,onSelectMetric:o.a.func.isRequired,pageEvents:o.a.instanceOf(h.default.List).isRequired},r.c=T},function(t,r,a){"use strict";var i=a(1320);a.d(r,"a",(function(){return i.a}));i.a},function(t,r,a){"use strict";var i=a(1329);a.d(r,"b",(function(){return i.a}));var o=a(1330);a.d(r,"a",(function(){return o.a}));o.a,i.a},function(t,r,a){"use strict";a.d(r,"c",(function(){return m}));var i=a(1081),o=a.n(i);a.d(r,"a",(function(){return o.a}));var c=a(452),l=a(740),u=a.n(l);a.d(r,"b",(function(){return u.a}));var d=a(951);a.d(r,"d",(function(){return d.default}));var p=a(495),m=function getDefaultLayerExperimentFilters(){return{status:["active","paused"]}};o.a,u.a,c.default,p.a,d.default},function(t,r,a){"use strict";a.r(r);var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(535),d=a(19),p=function EmptyState(t){return l.a.createElement("div",{className:"flex flex--1"},l.a.createElement(u.a,{button:l.a.createElement(d.a,{isDisabled:t.createButton.isDisabled,style:"highlight",onClick:t.createButton.onClick,testSection:t.createButton.testSection},t.createButton.label),imagePath:t.imagePath,headline:t.headline,description:t.description,descriptionMaxWidth:t.descriptionMaxWidth}))};p.propTypes={imagePath:o.a.string.isRequired,headline:o.a.string.isRequired,description:o.a.oneOfType([o.a.string,o.a.node]),descriptionMaxWidth:o.a.oneOfType([o.a.string,o.a.number]),createButton:o.a.shape({isDisabled:o.a.bool,onClick:o.a.func.isRequired,label:o.a.node.isRequired,testSection:o.a.string}).isRequired},r.default=p},function(t,r,a){"use strict";a.r(r),a.d(r,"data",(function(){return y})),a.d(r,"pluginConfig",(function(){return v})),a.d(r,"formValues",(function(){return _})),a.d(r,"pluginConfigFormSchema",(function(){return E})),a.d(r,"hasUnsavedChanges",(function(){return b})),a.d(r,"pluginConfigEditPageUrl",(function(){return T})),a.d(r,"formSchemaDefaults",(function(){return S})),a.d(r,"formSchemaOptions",(function(){return C})),a.d(r,"previewData",(function(){return I})),a.d(r,"isSelectorDisabled",(function(){return A})),a.d(r,"fieldTypeOptions",(function(){return O})),a.d(r,"formInputValue",(function(){return formInputValue}));var i=a(4),o=a.n(i),c=a(539),l=a(2),u=a(816),d=a.n(u),p=a(595),m=a.n(p),g=a(670),h=a.n(g),y=["currentlyEditingPlugin"],v=["currentlyEditingPlugin","config"],_=["currentlyEditingPlugin","formValues"],E=[v,function(t){var r=t.get("form_schema");return r?r.map((function(t){return Object(l.toImmutable)({name:t.get("name"),label:t.get("label"),field_type:t.get("field_type"),options:t.get("options")})})):Object(l.toImmutable)([])}],b=[v,c.getters.entityCache,function(t,r){var a=r.get(t.get("id"));return!a||!t.equals(a)}],T=[v,function(t){return t.get("edit_page_url")}],S=[v,function(t){var r=t.get("form_schema");return r?m.a.mapFormSchemaDefaults(r):Object(l.toImmutable)({})}],C=[v,function(t){var r=t.get("form_schema");return r?m.a.mapFormSchemaOptions(r):Object(l.toImmutable)({})}],I=[v,S,function(t,r){return Object(l.toImmutable)({config:t,default_values:r})}],A=function isSelectorDisabled(t){return[["currentlyEditingPlugin","currentlyEditingSelector"],function(r){return!!r&&r!==t}]},O=[v,function(t){var r=[];return o.a.forEach(h.a,(function(a,i){o.a.includes(d.a.omittedFields[t.get("plugin_type")],i)||r.push({name:a.name,value:i})})),r}];function formInputValue(t){return[_,function(r){return r.get(t)}]}r.default={data:y,pluginConfig:v,formValues:_,pluginConfigFormSchema:E,hasUnsavedChanges:b,pluginConfigEditPageUrl:T,formSchemaDefaults:S,formSchemaOptions:C,previewData:I,isSelectorDisabled:A,fieldTypeOptions:O,formInputValue:formInputValue}},function(t,r,a){var i=function trimParamQuotes(t){return"string"!=typeof t?t:t.replace(/^(['"]?)(.*)\1$/,"$2")},o=a(1490);t.exports=function(t,r,a){return o.pluralize(i(r),i(a),t)}},function(t,r,a){"use strict";var i=a(3),o=a(992),c=a.n(o),l=a(533);r.a={setFilter:function setFilter(t,r){c()(r)&&(r={string:r}),i.default.batch((function(){i.default.dispatch(l.a.FILTERABLE_TABLE_SET_FILTER,{filter:r,tableId:t})}))},resetFilter:function resetFilter(t){i.default.dispatch(l.a.FILTERABLE_TABLE_RESET_FILTER,{tableId:t})},setFilterDefault:function setFilterDefault(t,r){c()(r)&&(r={string:r}),i.default.dispatch(l.a.FILTERABLE_TABLE_SET_FILTER_DEFAULT,{filter:r,tableId:t})}}},function(t,r,a){"use strict";var i=a(4),o=a(3),c=a(38),l=a(244),u=a(144),d=a(21),p=a(20),m=a(172),g=a(58),h=a(133),y=a(233),v=a(274);function setErrors(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_SET_ERRORS,t)}function updateCurrentlySelectedTrafficAllocationPolicy(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_UPDATE_CURRENTLY_SELECTED_TRAFFIC_ALLOCATION_POLICY,t)}r.a={init:function init(t){var r=o.default.evaluate(c.getters.layer),a=0;r&&(a=r.get("holdback")),o.default.dispatch(g.a.CREATE_EXP_COMPONENT_INIT,{experiment:t.experiment,mode:t.mode,layerHoldback:a,type:t.type,variableUsages:t.variableUsages,isMultivariateTest:t.isMultivariateTest}),updateCurrentlySelectedTrafficAllocationPolicy(o.default.evaluate(y.a.currentLayerExperimentTrafficAllocationPolicy))},tearDown:function tearDown(){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_TEARDOWN)},updateName:function updateName(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_UPDATE_NAME,t)},updateDescription:function updateDescription(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_UPDATE_DESCRIPTION,t)},setErrors:setErrors,setSelectedViewIds:function setSelectedViewIds(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_SET_VIEW_IDS,{viewIds:t}),setErrors({views:""})},setUrlTargetingConfig:function setUrlTargetingConfig(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_SET_URL_TARGETING_CONFIG,{urlTargetingConfig:t}),setErrors({urlTargetingConditions:"",urlTargetingApiName:"",urlTargetingUrl:""})},setTargetingType:function setTargetingType(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_SET_TARGETING_TYPE,{targetingType:t})},addAudience:function addAudience(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_ADD_AUDIENCE,{audienceId:t})},removeAudience:function removeAudience(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_REMOVE_AUDIENCE,{audienceId:t})},updateAudienceIds:function updateAudienceIds(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_UPDATE_AUDIENCE_IDS,t)},updateLayerHoldback:function updateLayerHoldback(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_UPDATE_LAYER_HOLDBACK,t)},updateCurrentlySelectedTrafficAllocationPolicy:updateCurrentlySelectedTrafficAllocationPolicy,updateVariation:function updateVariation(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_UPDATE_VARIATION,{variation:t})},addVariation:function addVariation(){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_ADD_VARIATION)},removeVariation:function removeVariation(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_REMOVE_VARIATION,{variation:t})},pauseVariation:function pauseVariation(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_PAUSE_VARIATION,{variation:t})},resetToUniformTraffic:function resetToUniformTraffic(){var t=o.default.evaluate(y.a.variations),r=Math.round(1e4/t.size),a=t.map((function(t){return t.set("weight",r)})),i=p.fns.redistributeWithNewVariationTrafficImmutable(a),c=h.a.addTrafficDistributionInfoToVariations(i,o.default.evaluate(y.a.layerHoldback));o.default.dispatch(g.a.CREATE_EXP_COMPONENT_RESET_TO_UNIFORM_TRAFFIC,c)},resumeVariation:function resumeVariation(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_RESUME_VARIATION,{variation:t})},updateBucketingStrategy:function updateBucketingStrategy(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_UPDATE_BUCKETING_STRATEGY,t)},updateAudienceMatchType:function updateAudienceMatchType(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_UPDATE_AUDIENCE_MATCH_TYPE,t)},updateAudienceConditions:function updateAudienceConditions(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_UPDATE_AUDIENCE_CONDITIONS,t)},updateAudienceConditionsJson:function updateAudienceConditionsJson(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_UPDATE_AUDIENCE_CONDITIONS_JSON,t)},removeIdsFromVariationsForDuplicateExperiments:function removeIdsFromVariationsForDuplicateExperiments(){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_REMOVE_IDS_FROM_VARIATIONS_FOR_DUPLICATE_EXPERIMENTS)},setCurrentExperimentIdToNull:function setCurrentExperimentIdToNull(){o.default.dispatch(g.a.CREATE_EXP_SET_CURRENT_EXPERIMENT_ID_TO_NULL)},addVariable:function addVariable(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_ADD_VARIABLE,{variableId:t})},removeVariable:function removeVariable(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_REMOVE_VARIABLE,{variableId:t})},updateVariableValue:function updateVariableValue(t,r,a){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_UPDATE_VARIABLE_VALUE,{variationGuid:t,variableId:r,value:a})},addSection:function addSection(){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_ADD_SECTION)},removeSection:function removeSection(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_REMOVE_SECTION,{sectionGuid:t})},addVariationToSection:function addVariationToSection(t){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_ADD_VARIATION_TO_SECTION,{sectionGuid:t})},removeVariationFromSection:function removeVariationFromSection(t,r){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_REMOVE_VARIATION_FROM_SECTION,{sectionGuid:t,variationGuid:r})},updateVariationInSection:function updateVariationInSection(t,r){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_UPDATE_VARIATION_IN_SECTION,{sectionGuid:t,variation:r})},updateSectionName:function updateSectionName(t,r){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_UPDATE_SECTION_NAME,{sectionGuid:t,sectionName:r})},validateFormDataOnSave:function validateFormDataOnSave(t){var r={name:"",views:"",urlTargetingConditions:"",urlTargetingApiName:"",urlTargetingUrl:"",variations:""},a=t===d.policy.MULTIVARIATE,c=t===d.policy.SINGLE_EXPERIMENT,p=o.default.evaluate(y.a.name);p&&0!==p.trim().length||(r.name=v.c.ErrorMessages.NAME_MISSING);var g=o.default.evaluate(y.a.targetingType(t)),h=o.default.evaluate(y.a.selectedViewIds),_=o.default.evaluate(y.a.urlTargetingConfig);if(g&&g!==u.TargetingTypes.SAVED_PAGES||0!==h.size||(r.views=v.c.ErrorMessages.VIEW_MISSING),g&&g===u.TargetingTypes.URL&&(_.get("edit_url")||(r.urlTargetingConditions=v.c.ErrorMessages.URL_TARGETING_MISSING),_.get("activation_type")!==m.default.activationModes.MANUAL||_.get("api_name")||(r.urlTargetingApiName=v.c.ErrorMessages.URL_TARGETING_API_NAME_MISSING)),c){var E=o.default.evaluate(y.a.experimentToSave);Object(i.some)(E.variations,(function(t){return t.weight&&""===t.name}))&&(r.variations=v.c.ErrorMessages.VARIATION_NAMES_MISSING)}else if(a){var b=o.default.evaluateToJS(y.a.experimentSectionsToCreateForMVT),T=o.default.evaluate(y.a.combinationCount),S=l.c.validateSections(b,T);r=Object.assign(r,S)}return setErrors(r),r},updateVariationProperty:function updateVariationProperty(t,r,a){o.default.dispatch(g.a.CREATE_EXP_COMPONENT_UPDATE_VARIATION_PROPERTY,{propertyName:t,propertyValue:r,variationGUID:a})}}},function(t,r,a){var i=a(8);t.exports=function(t){return Number.isNaN(Date.parse(t))?t:i.date(t).format("lll")}},function(t,r,a){var i=a(4);t.exports=function(t){var r=parseInt(t,10);return!i.isNumber(r)&&r>=26&&console.error("Value passed to number-to-letter must be a number under ".concat(26,".")),String.fromCharCode(97+r)}},function(t,r,a){"use strict";a(17);r.a={xAxisLabelFormat:"MMM D",productIds:{AB_TESTING:"ab_testing",AB_TESTING_V2:"ab_testing_v2",ALL_PRODUCTS:"all_products",PERSONALIZATION:"personalization",MOBILE:"mobile",FREE_ROLLOUTS:"dev_tier_0",FULL_STACK:"full_stack",OVER_THE_TOP:"over_the_top",RECOMMENDATIONS:"recommendations",USAGE:"usage"},productNames:{CLASSIC_AB_TESTING:"Classic A/B Testing",ALL_PRODUCTS:"Testing / Web Experimentation",PERSONALIZATION:"Personalization",MOBILE:"Mobile",FULL_STACK:"Full Stack",OVER_THE_TOP:"OTT",RECOMMENDATIONS:"Recommendations",USAGE:"Impressions",FREE_ROLLOUTS:"Optimizely Rollouts"},subscriptionTerm:{MONTHLY:"Monthly",SEMI_ANNUAL:"Semi-annual",ANNUAL:"Annual",BI_ANNUAL:"Bi-annual"},visitorsTestedType:{IMPRESSION_DELIVERED:"Impressions Delivered",UNIQUE_VISITORS_TESTED:"Unique Visitors Tested",MONTHLY_IMPRESSION_DELIVERED:"Monthly Impressions Delivered",MONTHLY_UNIQUE_VISITOR_TESTED:"Monthly Unique Visitors Tested"},visitorsLimit:{IMPRESSION_LIMIT:"Impressions Limit",UNIQUE_VISITORS_LIMIT:"Unique Visitors Limit",MONTHLY_IMPRESSION_LIMIT:"Monthly Impressions Limit",MONTHLY_UNIQUE_VISITOR_LIMIT:"Monthly Unique Visitors Limit"},planIds:{FREE_ROLLOUTS:"free_rollouts",PP_2017:"pp_2017",PP_2020:"pp_2020"}}},,function(t,r,a){"use strict";a.r(r);var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(19),d=a(26),p=a(9),m=a.n(p),g=a(224),h=a.n(g),y=a(2526);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function toggleDropdown(t){return h.a.toggle(t.currentTarget)},_=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(Select,t);var r=_createSuper(Select);function Select(){var t;_classCallCheck(this,Select);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).isControlled=function(){return void 0!==t.props.value},t.getValue=function(){return t.isControlled()?t.props.value:t.state.value},t.handleChange=function(r){var a=t.getValue();t.isControlled()||t.setState({value:r}),t.props.onChange&&t.props.onChange(r,a)},t.getLabelFromChildWithValue=function(r){var a;return l.a.Children.forEach(t.props.children,(function(t){t.props.value===r&&(a=t.props.label)})),a},t.state=t.isControlled()?{}:{value:t.props.defaultValue},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(Select,[{key:"render",value:function render(){var t=this,r=l.a.Children.map(this.props.children,(function(r){return l.a.cloneElement(r,{parentCallback:t.handleChange})})),a=this.isControlled()?this.getLabelFromChildWithValue(this.props.value):this.getLabelFromChildWithValue(this.state.value),i=m()({"lego-dropdown-group":!0,"width--1-1":this.props.isActivatorFullWidth}),o=this.props.isActivatorFullWidth?"full":null;return l.a.createElement("div",{"data-ui-component":!0,className:i,onClick:this.props.isDisabled?function(){return null}:v},l.a.createElement(u.a,{isDisabled:this.props.isDisabled,width:o,testSection:this.props.testSection},l.a.createElement("div",{className:"flex flex-align--center"},l.a.createElement("span",{className:"flex--1 text--left"},a)," ",l.a.createElement(d.a,{className:"push--left",name:"angle-down",size:"small"}))),l.a.createElement("ul",{className:"lego-dropdown",style:{minWidth:this.props.minDropdownWidth}},r))}}]),Select}(l.a.Component);_.propTypes={children:o.a.node,defaultValue:o.a.any,isActivatorFullWidth:o.a.bool,isDisabled:o.a.bool,minDropdownWidth:o.a.string,onChange:o.a.func,testSection:o.a.string,value:o.a.any},_.Option=y.a,r.default=_},function(t,r){r.CAMPAIGN_OVERVIEW_PAGEABLE_ID="campaign-overview",r.EMPTY_METRICS_POPOVER_CONTENT_AB="You need to add at least one metric to start this experiment.\nMetrics will generate experiment results and help you measure performance.",r.EMPTY_METRICS_POPOVER_CONTENT_P13N="You need to add at least one metric to start this campaign.\nMetrics will generate campaign results and help you measure performance."},,,,,,,,,,,,,,,function(t,r,a){"use strict";a.r(r),a.d(r,"fillDefaults",(function(){return fillDefaults})),a.d(r,"createSchemaField",(function(){return createSchemaField})),a.d(r,"createBlankSchemaField",(function(){return createBlankSchemaField})),a.d(r,"createBlankWidget",(function(){return createBlankWidget})),a.d(r,"createBlankEventExtension",(function(){return createBlankEventExtension})),a.d(r,"createBlankAnalyticsExtension",(function(){return createBlankAnalyticsExtension})),a.d(r,"getDisplayStatus",(function(){return getDisplayStatus}));var i=a(2),o=a(96);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function fillDefaults(t,r){switch(t.plugin_type){case o.default.plugin_type.WIDGET:return function getDefaultWidgetWithIdReferences(t,r){var a=t.name||"",i=encodeURIComponent(a.replace(/\s/g,"-").toLowerCase());return _extends({},t,{project_id:r,form_schema:[createSchemaField({name:"text",label:"A text field",default_value:"My Butterbar"})],options:{html:'<div id="optimizely-extension-{{ extension.$instance }}" class="'.concat(i,'">\n  {{ extension.text }}\n</div>'),css:".".concat(i," {\n  background-color: #fff575;\n  border-bottom: 1px solid #e0d769;\n  color: #555;\n  padding: 10px;\n  font-weight: bold;\n  text-align: center;\n  font-size: 20px;\n}"),apply_js:o.default.defaultCode.APPLY_JS,undo_js:o.default.defaultCode.UNDO_JS}})}(t,r);case o.default.plugin_type.EVENT:return function getDefaultEventExtension(t,r){return _extends({},t,{project_id:r})}(t,r);case o.default.plugin_type.ANALYTICS_INTEGRATION:return function getDefaultAnalyticsExtension(t,r){return _extends({},t,{project_id:r,options:{track_layer_decision:o.default.defaultCode.TRACK_LAYER_DECISION}})}(t,r);default:throw new Error('Invalid plugin_type="'.concat(t.plugin_type,'"'))}}function createSchemaField(t){return _extends({},{field_type:o.default.fieldType.TEXT,name:"",label:"",default_value:"",options:null},t)}function createBlankSchemaField(){return createSchemaField({})}function createBlankWidget(){return i.default.Map({plugin_id:"",plugin_type:o.default.plugin_type.WIDGET,name:"",description:"",is_enabled_in_client:!1,form_schema:[],options:{html:"",css:"",apply_js:"",undo_js:""}})}function createBlankEventExtension(){return i.default.Map({plugin_id:"",plugin_type:o.default.plugin_type.EVENT,name:"",description:"",is_enabled_in_client:!1,form_schema:[],options:{attach_js:"",detach_js:""}})}function createBlankAnalyticsExtension(){return i.default.Map({plugin_id:"",plugin_type:o.default.plugin_type.ANALYTICS_INTEGRATION,name:"",description:"",is_enabled_in_client:!1,form_schema:[],options:{track_layer_decision:""}})}function getDisplayStatus(t){var r=Object(i.toImmutable)(t);return r.get("is_enabled_in_client")?o.default.displayStatuses.ENABLED:r.get("archived")?o.default.displayStatuses.ARCHIVED:o.default.displayStatuses.DRAFT}r.default={createBlankAnalyticsExtension:createBlankAnalyticsExtension,createBlankEventExtension:createBlankEventExtension,createBlankSchemaField:createBlankSchemaField,createBlankWidget:createBlankWidget,createSchemaField:createSchemaField,fillDefaults:fillDefaults,getDisplayStatus:getDisplayStatus}},,,,,,function(t,r,a){"use strict";var i=a(17),o=a.n(i),c='OptimizelyUserContext user = optimizelyClient.createUserContext(userId, attributes);\nuser.trackEvent("%s");',l="var user = optimizelyClientInstance.createUserContext(userId, attributes);\nuser.trackEvent('%s');",u=o()({EVENTS:null}),d=o()({EVENTS:null}),p={android:c,android_tv:c,csharp:'OptimizelyUserContext user = optimizelyClientInstance.CreateUserContext(userId, attributes);\nuser.TrackEvent("%s");',ios:'[client track:@"%s", userId:userId];',java:c,javascript:l,node:l,objectivec:'[client track:@"%s" userId:userId];',php:"$user = $optimizelyClient->createUserContext(userId, $attributes);\n$user->trackEvent('%s');",python:'user = optimizely_client.create_user_context(user_id, attributes)\nuser.track_event("%s")',ruby:'user = optimizely_client.create_user_context(user_id, attributes)\nuser.track_event("%s")',swift:'let user = optimizelyClient.createUserContext(userId: userId, attributes: attributes)\ntry? user.trackEvent(eventKey: "%s")',tv_os:'[client track:@"%s", userId:userId];',go:'user := optimizelyClientInstance.CreateUserContext(userId, attributes)\nuser.TrackEvent("%s", nil)',jsx:"import { withOptimizely } from '@optimizely/react-sdk';\n\nclass TheComponent extends React.Component {\n  onEvent = () => {\n    const { optimizely } = this.props;\n    optimizely.track('%s');\n  }\n}\n\nconst WrappedComponent = withOptimizely(TheComponent);\n",html:"curl -X POST \\\n  '{HOST_URL}/v1/track?eventKey=%s' \\\n  -H 'Content-Type: application/json' \\\n  -H 'X-Optimizely-SDK-Key: \"YOUR-SDK-KEY\"' \\\n  -d '{\n    \"userId\":\"USER_ID\"\n  }'\n",flutter:'var user = await optimizelyClientInstance.createUserContext(userId, attributes);\nuser.trackEvent("%s")'};r.a={TABLE_IDS:u,TABS:d,CODE_BLOCKS:p}},,,function(t,r,a){var i=a(12),o=a(3),c=(a(43),a(161)),l=a(14),u=(a(22),a(7),a(501));t.exports={pushUrl:function pushUrl(t){},replaceUrl:function replaceUrl(t){},fetchOrCreateAudience:function fetchOrCreateAudience(t,r){var a=i.Deferred();return t?c.actions.fetch(t).then((function(t){a.resolve(t)})):a=a.resolve(c.fns.createAudienceEntity({project_id:o.evaluate(l.getters.id),name:r})),a},createView:function createView(t){return u.createSmartViewEntity({project_id:o.evaluate(l.getters.id),name:t})}}},function(t,r,a){"use strict";var i=a(201),o=a.n(i),c=a(453);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}r.a={hasJoyrideBeenSeen:function hasJoyrideBeenSeen(t){var r=o.a.getItem(c.a.JOYRIDE_LOCAL_STORAGE_KEY);if(!r)return!1;try{return!!JSON.parse(r)[t]}catch(t){return!1}},hasJoyrideExceededSkips:function hasJoyrideExceededSkips(t,r){var a=o.a.getItem(c.a.SKIP_JOYRIDE_LOCAL_STORAGE_KEY);if(!a)return!1;try{return JSON.parse(a)[t]>=r}catch(t){return!1}},markJoyrideAsSeen:function markJoyrideAsSeen(t){var r=o.a.getItem(c.a.JOYRIDE_LOCAL_STORAGE_KEY);r?(r=JSON.parse(r))[t]=Date.now():r=_defineProperty({},t,Date.now()),o.a.setItem(c.a.JOYRIDE_LOCAL_STORAGE_KEY,JSON.stringify(r))},markJoyrideAsSkipped:function markJoyrideAsSkipped(t){var r=o.a.getItem(c.a.SKIP_JOYRIDE_LOCAL_STORAGE_KEY);r?(r=JSON.parse(r))[t]=parseInt(r[t],10)+1:r=_defineProperty({},t,1),o.a.setItem(c.a.SKIP_JOYRIDE_LOCAL_STORAGE_KEY,JSON.stringify(r))}}},,,,function(t,r,a){var i=a(3),o=a(2750),c=a(8);t.exports=function(t){var r=i.evaluateToJS(o.currentBillingInfo);if(!r)return c.currency(t).replace("¤","$");var a=r.currency_symbol;return c.currency(t,-1!==["¥"].indexOf(a)).replace("¤",a)}},function(t,r,a){"use strict";a.r(r),a.d(r,"byId",(function(){return p})),a.d(r,"entityCache",(function(){return m})),a.d(r,"datasourceWithNestedAttributes",(function(){return g}));var i=a(41),o=a(1414),c=a.n(o),l=a(2),u=a(570);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var d=Object(i.default)(u.a),p=d.byId,m=d.entityCache,g=[d.entityCache,c.a.entityCache,function(t,r){return Object(l.toImmutable)({}).withMutations((function(a){return t.forEach((function(t){a.set(t.get("id"),t)})),r.forEach((function(t){var r=t.get("dcp_datasource_id");if(r){var i=a.get(r);i&&(i.attributes||(i.attributes=[]),i.attributes.push(t))}})),a}))}];r.default=_extends({},d,{datasourceWithNestedAttributes:g})},function(t,r,a){"use strict";var i=a(808),o=a.n(i);a.d(r,"a",(function(){return o.a}));var c=a(559),l=a.n(c),u=a(463),d=a.n(u);a.d(r,"b",(function(){return d.a}));var p=a(415),m=a.n(p);a.d(r,"c",(function(){return m.a}));o.a,l.a,d.a,m.a},function(t,r,a){"use strict";a.d(r,"a",(function(){return i}));var i={ACCEPTED:"Accepted",PENDING:"Pending",EXPIRED:"Expired"};r.b={InvitationStatus:i}},function(t,r,a){"use strict";a.r(r);r.default={methods:{refreshCodeMirror:function refreshCodeMirror(t){t&&t.refresh()}}}},function(t,r,a){"use strict";var i=a(69);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var o={id:null,archived:!1,api_name:null,default_value:"true",description:null,project_id:null,type:i.LIVE_VARIABLE_TYPES.boolean};r.a={createLiveVariableEntity:function createLiveVariableEntity(t){return _extends({},o,t)},getLiveVariablesHumanReadable:function getLiveVariablesHumanReadable(t){return i.LIVE_VARIABLE_TYPE_HUMAN_READABLES[t]},getDefaultValueForType:function getDefaultValueForType(t){return t===i.LIVE_VARIABLE_TYPES.boolean?"false":t===i.LIVE_VARIABLE_TYPES.integer?"0":t===i.LIVE_VARIABLE_TYPES.double?"0.0":""},isVariableValueInputValid:function isVariableValueInputValid(t,r){if("string"!=typeof t)return!1;switch(r){case i.LIVE_VARIABLE_TYPES.boolean:return"true"===t||"false"===t;case i.LIVE_VARIABLE_TYPES.double:return t.length>0&&!/[^0-9\-.]/.test(t);case i.LIVE_VARIABLE_TYPES.integer:return t.length>0&&!/[^0-9-]/.test(t);case i.LIVE_VARIABLE_TYPES.string:return""!==t;default:return!0}}}},function(t,r){t.exports=function(t,r,a){return t.filter((function(t){return"true"!==a&&"false"!==a||(a=JSON.parse(a)),t[r]===a}))}},function(t,r,a){"use strict";a(639),a(656);r.a=function(t){return tr("{0} at {1}",formatDate(t),formatTime(t))}},function(t,r,a){var i=a(100);t.exports=function(t){return t.replace(/\n/g,"<br />").replace(i.urls,'<a href="$&" target="_blank">$&</a>').replace(i.hashtags,'<a class="hashtag">$&</a>')}},function(t,r){t.exports=function(t){if(!t||0===t.length)return"";if(/\D/.test(t))return t;try{var r=/(\d*)(\d{3})(\d{3})(\d{4})$/.exec(t);return r.slice(0===r[1].length?2:1).join("-")}catch(r){return t}}},function(t,r){t.exports=function(t,r){return r=null!=r?r:", ",t.join(r)}},function(t,r){t.exports=function(t){var r="",a=t.length;return a>0&&(r=(t=t.map((function(t,r){var i=r===a-1;return a>2&&!i?t+=",":a>=2&&i&&(t="and ".concat(t)),t}))).join(" ")),r}},function(t,r,a){var i=a(8);t.exports=function(t,r){return"string"==typeof r&&(r=parseInt(r,10)),i.number(t,r)}},function(t,r,a){var i=a(4);t.exports=function(t){return i.unescape(t).replace("&#96;","`")}},function(t,r,a){var i=a(306);t.exports=function(t){return i.sanitize(t)}},function(t,r){t.exports=function(t,r,a){return isNaN(r)&&this[r]&&!isNaN(this[r])&&(r=this[r]),isNaN(a)&&this[a]&&!isNaN(this[a])&&(a=this[a]),t.slice(r,a)}},function(t,r,a){var i=a(4),o=a(72);t.exports=function(t,r){return i.map(t,(function(t){return null!=t?"double-quote"===r?o('"%s"',t):o("<%s>%s</%s>",r,t,r):t}))}},function(t,r){t.exports=function(t){return tr.variable(t)}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(41),l=a(455),u=Object(c.default)(l.a);r.a=o.a.extend(u,{})},function(t,r,a){"use strict";var i=a(41),o=a(565);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a);c.byId,c.entityCache;r.a=_extends({},c)},function(t,r,a){"use strict";var i=a(41),o=a(566);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a);c.byId,c.entityCache;r.a=_extends({},c)},function(t,r,a){"use strict";var i=a(2),o=a(41),c=a(567);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var l=Object(o.default)(c.a),u=(l.byId,l.entityCache,[l.entityCache,function(t){return Object(i.toImmutable)({}).withMutations((function(r){t.forEach((function(t){r.set(t.get("id"),t)}))}))}]);r.a=_extends({},l,{clientIdToClientMap:u})},function(t,r,a){"use strict";var i=a(41),o=a(568);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a);c.byId,c.entityCache;r.a=_extends({},c)},function(t,r,a){"use strict";var i=a(2),o=a(41),c=a(457);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var l=Object(o.default)(c.a),u=(l.byId,l.entityCache);r.a=_extends({},l,{title:function title(t){return[u,function(r){return r.getIn([t,"title"])}]},valueMap:function valueMap(t){return[u,function(r){var a=r.getIn([t,"fields","value","values"],Object(i.toImmutable)([]));return Object(i.toImmutable)({}).withMutations((function(t){a.forEach((function(r){t.set(r.get("value"),r.get("text"))}))}))}]},compatibleTargetingConditions:function compatibleTargetingConditions(t){return[u,function(r){return r.filter((function(r){return r.get("compatible_audiences").contains(t)}))}]}})},function(t,r,a){"use strict";var i=a(41),o=a(2),c=a(458),l=a(203);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var u=Object(i.default)(c.a),d=(u.entityCache,[["experimentResults"],function(t){return t||Object(o.toImmutable)({})}]),p=[u.entityCache,function(t){return t.filter((function(t){return t.get("status")===l.a.status_type.RUNNING||t.get("status")===l.a.status_type.PAUSED}))}],m=[d,u.entityCache,function(t,r){return r.map((function(r){var a=t.get(r.get("id"));return a&&(r=r.set("results",a)),r})).toList()}];r.a=_extends({},u,{combinedExperimentsAndResults:m,results:function results(t){return["experimentResults",t]},startedExperiments:p})},function(t,r,a){"use strict";var i=a(2),o=a(41),c=a(418),l=a(572);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var u=Object(o.default)(l.a),d=[u.entityCache,function(t){return t.filter((function(t){return t.get("goal_type")!==c.a.TypeCodes.MOBILE_SESSION_GOAL})).map((function(t){var r=t.get("experiment_ids",Object(i.toImmutable)([])).toSet().toList();return t.set("experiment_ids",r)})).toList()}],p=[d,function(t){return Object(i.toImmutable)({}).withMutations((function(r){t.forEach((function(t){t.get("experiment_ids").forEach((function(a){r.has(a)?r.update(a,(function(r){return r.push(t)})):r.set(a,Object(i.toImmutable)([t]))}))}))}))}];r.a=_extends({},u,{visibleGoals:d,experimentToGoalsMap:p})},function(t,r,a){"use strict";var i=a(41),o=a(573);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a);c.byId,c.entityCache;r.a=_extends({},c)},function(t,r,a){"use strict";r.a={isUnderProjectLimit:function isUnderProjectLimit(t,r){return r.size<t.get("maxProjects")}}},function(t,r,a){"use strict";var i=a(41),o=a(577),c=Object(i.default)(o.a);c.byId,c.entityCache;r.a=c},function(t,r,a){"use strict";var i=a(41),o=a(419);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a);c.byId,c.entityCache;r.a=_extends({},c)},function(t,r,a){"use strict";var i=a(4);function createExplicitComponentMapping(t,r){var a=function flattenComponentLevels(t){var r={};return Object(i.each)(t,(function(t,a){if(!isNumericString(a))throw new Error("Region level must be a numeric string");Object(i.isArray)(t)||(t=[t]),t.forEach((function(t){if(r[t])throw new Error("Component regoin relationship cannot be redefined");r[t]=Number(a)}))})),r}(t);Object(i.each)(a,(function(t,o){r[o]||(r[o]={}),Object(i.each)(a,(function(a,i){if(o!==i){var c=r[o][i],l=a-t;if(c&&c!==l)throw new Error("Component region relationship cannot be redefined");r[o][i]=l}}))}))}function isNumericString(t){return!isNaN(parseFloat(t))&&isFinite(t)}var o={graphifyRegionMap:function graphifyRegionMap(t){var r={},a=Object.keys(t).every(isNumericString),o=Object.keys(t).every((function(t){return!isNumericString(t)}));if(!a&&!o)throw new Error("Region level must be a numeric string or namespaced group");return a?createExplicitComponentMapping(t,r):Object(i.each)(t,(function(t){createExplicitComponentMapping(t,r)})),r},isVueComponent:function isVueComponent(t){return!(!t.$options&&!t.template)}};r.a=o},function(t,r,a){"use strict";a.d(r,"a",(function(){return getMainRegionVM}));var i=a(3),o=a(400);function getMainRegionVM(){return i.default.evaluate(o.default.mountedComponent("main"))}},function(t,r,a){"use strict";var i=a(4),o=a.n(i);r.a={calculateItemSizeInBytes:function calculateItemSizeInBytes(t,r){return o.a.isString(t)&&o.a.isString(r)?2*(t.length+r.length):0},computeLruKeyListFromMetaStoreEntries:function computeLruKeyListFromMetaStoreEntries(t){var r=o.a.values(o.a.transform(t,(function(t,r,a){t[a]={key:a,dateModified:r.dateModified}})));return o.a.map(o.a.sortBy(r,"dateModified"),"key")}}},function(t,r,a){"use strict";a.d(r,"a",(function(){return renderReactComponent}));var i=a(104),o=a.n(i),c=a(0),l=a.n(c),u=a(62),d=a(1),p=a.n(d),m=a(4),g=a.n(m),h=a(936),y=a.n(h),v=a(339),_=a(150);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function renderReactComponent(t,r,a){var i={},c=function(t){_inherits(ReactStateDirective,t);var r=_createSuper(ReactStateDirective);function ReactStateDirective(t,a,i,o){var c;return _classCallCheck(this,ReactStateDirective),(c=r.call(this,"ReactStateDirective",{key:a},{},o,null)).ctx=t,c.propName=i,c}return _createClass(ReactStateDirective,[{key:"update",value:function update(t){this.ctx.setState(function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}({},this.propName,t))}}]),ReactStateDirective}(y.a),d=function(a){_inherits(VueConnector,a);var o=_createSuper(VueConnector);function VueConnector(t){var a;return _classCallCheck(this,VueConnector),(a=o.call(this,t)).state={},a.optimizelyClient=v.a.getClientInstance(),a.Component=r.component,r&&r.dataBindings&&(a.Component=Object(_.a)(r.component,r.dataBindings)),a}return _createClass(VueConnector,[{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){var a=this;g.a.each(r.vmBindings,(function(r,i){t.$compiler.bindDirective(new c(a,r,i,t.$compiler))}))}},{key:"getChildContext",value:function getChildContext(){return{vueEvents:{$emit:function $emit(r,a){t.$emit(r,a)},$dispatch:function $dispatch(r,a){t.$dispatch(r,a)},$on:function $on(r,a){t.$on(r,a)},$off:function $off(r,a){t.$off(r,a)}}}}},{key:"render",value:function render(){var t=this.Component,r={ref:function ref(t){i.instance=t}};return Object.assign(r,this.props,this.state),l.a.createElement(u.OptimizelyProvider,{optimizely:this.optimizelyClient},l.a.createElement(t,r))}}]),VueConnector}(l.a.Component);r.component.contextTypes={vueEvents:p.a.shape({$emit:p.a.func,$on:p.a.func,$off:p.a.func,$dispatch:p.a.func})},d.childContextTypes={vueEvents:p.a.shape({$emit:p.a.func,$on:p.a.func,$off:p.a.func,$dispatch:p.a.func})},t.$on("hook:beforeDestroy",(function(){o.a.unmountComponentAtNode(r.el)})),o.a.render(l.a.createElement(d,r.props),r.el,(function(){a&&a(i)}))}},function(t,r,a){"use strict";var i=a(41),o=a(462);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a),l=(c.byId,c.entityCache,[c.entityCache,function(t){if(t.count()>1)throw new Error("There should be at most one user in store.");return t.toList().get(0)}]);r.a=_extends({},c,{currentUser:l})},,function(t,r,a){"use strict";r.a={userListFromEntity:function userListFromEntity(t){return t.map((function(t){return t.map((function(t){return t.get("email")}))})).flatten().valueSeq().toList()}}},function(t,r,a){"use strict";var i,o=a(15);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}r.a={LEVELS:{AMAZON:"amazon",CDN:"cdn"},POLL_SETTINGS:(i={},_defineProperty(i,o.AppEnvironment.PRODUCTION,{MAX_ATTEMPTS:100,POLLING_INTERVAL:3e3}),_defineProperty(i,o.AppEnvironment.STAGING,{MAX_ATTEMPTS:10,POLLING_INTERVAL:3e3}),_defineProperty(i,o.AppEnvironment.DEV,{MAX_ATTEMPTS:10,POLLING_INTERVAL:600}),i)}},function(t,r,a){"use strict";var i=a(36),o=a(457);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a);c.save,c.fetch,c.fetchAll,c.fetchPage,c.fetchAllPages,c.flush,c.delete;r.a=_extends({},c)},function(t,r,a){var i=a(36),o=a(559);t.exports=i.createEntityActions(o)},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(17),l=a.n(c),u=a(2),d=a(68),p=a(493),m=a.n(p),g=a(2426),h=a.n(g),y=l()({class:null,hide:null,href:null,html:null,remove:null,src:null,style:null,text:null});function addLayerExperimentKeys(t){return t.layer_experiment?d.default.getFieldNamesFromWidgetChanges(t.layer_experiment):[]}r.a={getLiveCommitLayerExperimentsMap:function getLiveCommitLayerExperimentsMap(t){return(t.getIn(["revisions","layer_experiment"])||Object(u.toImmutable)([])).reduce((function(t,r){return t[r.get("id")]=r,t}),{})},diff:function diff(t,r){var a=["audience_id","variation_id","view_id","id"],i=["value","view_ids"];i=(i=i.concat(o.a.keys(y))).concat(function extractExtraDiffKeys(t,r){var a=addLayerExperimentKeys(t.revisions).concat(addLayerExperimentKeys(r.revisions));return o.a.uniq(a)}(t,r));try{return h.a.mergeAndDiff(t,r,a,i,!0)}catch(o){return m.a.logToServer("MergeAndDiffError",{data:{before:t,after:r,idKeys:a,diffKeys:i},errorLocation:"merge_and_diff",errorMessage:o,stackTrace:o.stack}),null}}}},function(t,r,a){"use strict";var i=a(36),o=a(510);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a),l=i.default.createEntityActions({entity:o.a.entity});c.fetch,c.fetchAll,c.fetchPage,c.fetchAllPages,c.flush,c.save;r.a=_extends({},c,{fetchAllForAccount:function fetchAllForAccount(t,r){return l.fetchAll(t,r)},archive:function archive(t){return this.save({id:t.id,archived:!0})},unarchive:function unarchive(t){return this.save({id:t.id,archived:!1})}})},function(t,r,a){"use strict";a.d(r,"b",(function(){return isInvitePendingOrExpired}));var i=a(316),o=a(772);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function isInvitePendingOrExpired(t){return t.invitation_status&&t.invitation_status!==o.a.ACCEPTED}function formatName(t,r,a){return t=t||"",a=a||"",(r=r||"")||a?tr("{0} {1}",r,a).trim():t}r.a={create:function create(t){return _extends({},i.a.v2.fields||{},{data:t})},convertEmailToUserName:function convertEmailToUserName(t,r){var a,i;if(t){var o=r.get(t);o&&(a=o.get("first_name"),i=o.get("last_name"))}return formatName(t,a,i)},isCollaboratorAdministrator:function isCollaboratorAdministrator(t){return"Administrator"===t.role_name},isInvitePendingOrExpired:isInvitePendingOrExpired,formatName:formatName}},function(t,r,a){"use strict";r.a={CATEGORY_MAP:{over_limit:0,projected_over_limit:2,account_unfrozen:4,impression_usage:5}}},function(t,r,a){"use strict";r.a={isUserConnected:["jiraIntegration","userConnected"],recentIssues:["jiraIntegration","recentIssues"]}},,,function(t,r,a){var i=a(96),o={};o[i.plugin_type.ANALYTICS_INTEGRATION]=[i.fieldType.SELECTOR,i.fieldType.MULTI_TEXT,i.fieldType.RICH_TEXT,i.fieldType.NUMBER,i.fieldType.HTML,i.fieldType.CSS,i.fieldType.TOGGLE,i.fieldType.MULTI_SELECT,i.fieldType.IMAGE,i.fieldType.COLOR],r.omittedFields=o},function(t,r,a){"use strict";r.a={getLayerCountofPlugin:function getLayerCountofPlugin(t,r){var a=r.filter((function(r){return r.get("id")===t.get("plugin_id")}));return a.size?a.first().get("experiment_count"):0},getLayerCountsofProject:function getLayerCountsofProject(t,r){return t.filter((function(t){return t&&t.get("project_id")===r}))}}},function(t,r,a){var i=a(14),o=[i.getters.audiences,function(t){return t.filter((function(t){return!t.get("archived")&&t.get("user_touched")}))}],c=[i.getters.views,function(t){return t.filter((function(t){return!t.get("archived")&&!t.get("single_use")}))}];t.exports={activeAudiences:o,activeAndNonSingleUseViews:c}},function(t,r,a){var i=a(12),o=a(4),c={handles:{},maxHeight:0,minHeight:0};t.exports={_options:{},_addResizeHandlers:function _addResizeHandlers(){i(this.el).on("resize",this._resizeHandler.bind(this)).on("resizestart",this._resizeStartHandler.bind(this)).on("resizestop",this._resizeStopHandler.bind(this))},_extendOptions:function _extendOptions(){var t=Array.prototype.slice.call(arguments);t.splice(0,0,this._options),o.extend.apply(null,t)},_resizeHandler:function _resizeHandler(t,r){i(this.el).trigger("optlyresize",r)},_resizeStartHandler:function _resizeStartHandler(t,r){i(this.el).trigger("optlyresizestart",r)},_resizeStopHandler:function _resizeStopHandler(t,r){i(this.el).trigger("optlyresizestop",r)},bind:function bind(t){this._addResizeHandlers(),this._extendOptions(c,t),i(this.el).resizable(this._options)},unbind:function unbind(){i(this.el).resizable("destroy")},update:function update(t){this._extendOptions(t),t.reset?i(this.el).resizable("destroy").resizable(this._options):i(this.el).resizable("option",this._options)}}},function(t,r,a){function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=a(1),o=a(0),c=a(16).Checkbox,l=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(DependencyManagement,t);var r=_createSuper(DependencyManagement);function DependencyManagement(){var t;_classCallCheck(this,DependencyManagement);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).handleChangeDependencyClick=function(r){t.props.handleChangeDependencyClick(r.target.checked)},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(DependencyManagement,[{key:"render",value:function render(){return o.createElement("div",null,o.createElement("ol",{className:"lego-form-fields push--bottom"},o.createElement("li",{className:"flush--bottom lego-form-field__item"},o.createElement(c,{checked:this.props.dependsOnPrevious,label:"Wait for previous change",onChange:this.handleChangeDependencyClick,"data-test-section":"dependency-management"})),o.createElement("li",{className:"lego-form-field__item lego-form-note"},"This change will wait until the previous change is applied before applying.")))}}]),DependencyManagement}(o.Component);l.propTypes={dependsOnPrevious:i.bool.isRequired,handleChangeDependencyClick:i.func.isRequired},t.exports=l},function(t,r,a){"use strict";var i=a(4),o=a(2),c=a(161);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var l=c.enums.audienceMatchTypes,u=l.ALL_AUDIENCES,d=l.ANY_AUDIENCES,p=l.CUSTOM_AUDIENCES,m=c.enums.ConditionGroupTypes,g=m.AND,h=m.OR,y=m.NOT;var v={audienceConditionsInvalidAudienceId:function audienceConditionsInvalidAudienceId(t){var r=t.audienceIds,a=t.availableAudiences;if(!r.every((function(t){return a.find((function(r){return r.get("id")===t}))})))return"Valid Audience IDs must be used."},audienceConditionsInvalidJson:function audienceConditionsInvalidJson(t){var r=t.audienceConditionsString;try{if(!JSON.parse(r))return"Audience conditions must be valid JSON."}catch(t){return"Audience conditions must be valid JSON."}},audienceConditionsInvalidLeafKey:function audienceConditionsInvalidLeafKey(t){var r=t.audienceConditionsString;try{var a=JSON.parse(r),o=Object(i.flattenDeep)(a).filter((function(t){return t instanceof Object}));if(o.length&&!o.every((function(t){return Object.keys(t).every((function(t){return"audience_id"===t}))})))return'Only the key "audience_id" can be used for Audience combinations.'}catch(t){}},audienceConditionsInvalidOperator:function audienceConditionsInvalidOperator(t){var r=t.audienceConditionsString;try{var a=JSON.parse(r),o=Object(i.flattenDeep)(a).filter((function(t){return"string"==typeof t}));if(!o.length||o.some((function(t){return![h,g,y].includes(t)})))return'A valid operator ("or", "and", or "not") must be used.'}catch(t){}}};r.a={deriveAudienceConditionsJsonFromString:function deriveAudienceConditionsJsonFromString(t){if("string"==typeof t&&""===t.trim())return Object(o.toImmutable)([h]);try{var r=JSON.parse(t);return Object(o.toImmutable)(r)}catch(t){return null}},deriveAudienceMatchTypeFromConditions:function deriveAudienceMatchTypeFromConditions(t){if(!t||!t.size)return d;var r=_slicedToArray(t.slice(0,1),1)[0];return[g,h].includes(r)&&t.slice(1).every((function(t){return t instanceof o.default.Map}))?r===h?d:u:p},derivePrettyStringFromImmutableList:function derivePrettyStringFromImmutableList(t){if(!t)return null;var r=Object(o.toJS)(t);return JSON.stringify(r,null,2)},getShouldShowAudienceCombinationOptions:function getShouldShowAudienceCombinationOptions(t,r){return t||r},validators:v}},function(t,r){t.exports="/dist/static/img/p13n/empty-feature-flags-f28ab1466609db2ed6cb4c0617f1c22a.svg"},,function(t,r,a){"use strict";var i=a(3),o=a(470);r.a={setCurrentlyEditingExperimentId:function setCurrentlyEditingExperimentId(t){i.default.dispatch(o.a.OASIS_SET_CURRENTLY_EDITING_EXPERIMENT_ID,{experimentId:t})},setCurrentlyEditingExperimentTab:function setCurrentlyEditingExperimentTab(t){i.default.dispatch(o.a.OASIS_SET_CURRENTLY_EDITING_EXPERIMENT_TAB,{tab:t})}}},function(t,r,a){"use strict";a(31);var i=a(2),o=a(13),c=a(50),l=a(44),u=a(23),d=a(377),p=a(96),m=a(415),g=a.n(m),h=a(463),y=a.n(h),v=a(214),_=a(467),E=a(574),b=l.b.enums.tableIds.P13N_DATA_LAYER_EVENTS,T=[o.default.events,g.a.getUngroupedList("user_events"),function(t,r){return t.filter((function(t){return t.get("event_type")===c.enums.eventTypes.CUSTOM})).map((function(t){return t.set("readable_category",y.a.resolveReadableName(r.toJS(),t.get("category")))}))}],S=[o.default.views,o.default.events,_.a.entityCache,u.getters.entityCache,function(t,r,a,i){return t.map((function(o){var c=o.get("id"),l=r.count((function(t){return t.get("view_id")===c&&!t.get("archived")&&!t.get("variation_specific")}))+t.count((function(t){return t.get("id")===c&&!t.get("single_use")})),u=a.count((function(t){return t.get("view_id")===c&&!t.get("archived")}));o=(o=o.set("eventCount",l)).set("tagCount",u);var d=i.filter((function(t){return t.get("view_ids").includes(c)&&!t.get("archived")}));return o=o.set("experiments",d.size)})).filter((function(t){return!t.get("single_use")})).toList()}],C=[S,function(t){return t.filter((function(t){return!t.get("archived")})).sortBy((function(t){return t.get("name")}))}],I=[E.a.entityCache,function(t){return t.toList()}];var A=[o.default.views,o.default.events,l.b.getters.fieldFilter(b,"status"),l.b.getters.stringFilter(b),v.default.sortFn(b),g.a.getUngroupedList("user_events"),function(t,r,a,o,u,d){t=t.filter((function(t){return!t.get("single_use")}));var p=l.b.fns.filterByArchivedStatus(t,a),m=l.b.fns.filterByArchivedStatus(r,a),g=Object(i.toImmutable)({}).withMutations((function(t){p.forEach((function(r){var a=Object(i.toImmutable)({name:"Visited ".concat(r.get("name")," page"),readable_category:r.get("category"),event_type:c.enums.eventTypes.PAGE_VIEW,api_name:"",id:null});t.set(r.get("id"),Object(i.toImmutable)([a]))})),m.forEach((function(r){var a=r.get("view_id");a&&!r.get("variation_specific")&&(t.has(a)||t.set(a,Object(i.toImmutable)([])),t.update(a,(function(t){return t.push(r.set("readable_category",y.a.resolveReadableName(d.toJS(),r.get("category"))))})))}))}));return t=t.filter((function(t){return g.has(t.get("id"))})),Object(i.toImmutable)([]).withMutations((function(r){t.forEach((function(t){var a=g.get(t.get("id"));(a=l.b.fns.filterFieldsByString(a,o,["name"])).size&&(r=r.push(Object(i.toImmutable)({view:t,events:a})))}))}))}],O=o.default.dcpDatasources;var P=[d.default.entityCache,o.default.id,function(t,r){return Object(i.toImmutable)({}).withMutations((function(a){t.toList().filter((function(t){return t.get("plugin_type")===p.default.plugin_type.EVENT&&t.get("project_id")===r})).forEach((function(t){a.set(t.get("plugin_id"),t.get("name"))}))}))}];r.a={activeViews:C,customEvents:T,datasources:O,filteredAndSortedCustomEvents:function filteredAndSortedCustomEvents(t){return[T,l.b.getters.fieldFilter(t,"status"),l.b.getters.stringFilter(t),v.default.sortFn(t),function(t,r,a,i){return t=l.b.fns.filterByArchivedStatus(t,r),t=l.b.fns.filterFieldsByString(t,a,["name"]),i&&(t=t.sort(i)),t}]},hasFilteredPageEvents:function hasFilteredPageEvents(t){return[l.b.getters.stringFilter(t),o.default.views,o.default.events,function(t,r,a){var i=l.b.fns.filterFieldsByString(r,t,["name"]),o=l.b.fns.filterFieldsByString(a,t,["name"]).filter((function(t){return"custom"!==t.get("event_type")})),c=!1;t&&(c=-1!==tr("Visited page").toLowerCase().indexOf(t.toLowerCase()));return c||i.size>0||o.size>0}]},pageEventsForDashboard:A,pluginEventTypeToName:P,tagsForView:function tagsForView(t){return[_.a.entityCache,function(r){return r.filter((function(r){return r.get("view_id")===t}))}]},views:S,metrics:I}},function(t,r,a){"use strict";var i=a(36),o=a(23),c=a(603);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var l=i.default.createEntityActions(c.a);r.a=_extends({},l,{fetchNonArchivedLayerSummaries:function fetchNonArchivedLayerSummaries(t,r,a){var i={project_id:t,status:[o.enums.entityStatus.NOT_STARTED,o.enums.entityStatus.PAUSED,o.enums.entityStatus.RUNNING]};return a&&(i.policy=a),l.fetchAll(i,r)}})},function(t,r,a){"use strict";var i=a(141);r.a={summaryHasAnyProcessingAdaptiveAudienceConditions:function summaryHasAnyProcessingAdaptiveAudienceConditions(t){return t?t.get("adaptive_audience_status")===i.default.AdaptiveAudienceStatuses.UNAVAILABLE:null}}},function(t,r,a){"use strict";var i=["experienceManager","orderedAudienceIds"],o=[a(14).getters.audiences,function(t){return t.sortBy((function(t){return t.get("name")}))}],c=[o,i,function(t,r){return r.map((function(r,a){return t.find((function(t){return t.get("id")===r})).set("index",a)}))}];r.a={orderedAudiences:c,orderedAudienceIds:i,validAudiences:o}},function(t,r,a){"use strict";var i=["p13n/holdbackSelector","holdback"],o=[i,a(830).a.formatLayerHoldbackForInput];r.a={formattedHoldback:o,holdback:i,isLayerHoldbackInvalid:["p13n/holdbackSelector","invalid"]}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(144);r.a={formatLayerHoldbackForInput:function formatLayerHoldbackForInput(t){return Number(o.a.isNull(t)?c.DefaultHoldbackValues.P13N_CAMPAIGN:t/100||0).toFixed(2)}}},function(t,r,a){"use strict";a.r(r);var i=a(562);a.d(r,"actions",(function(){return i.default}));var o=a(602);a.d(r,"entityDef",(function(){return o.a}));var c=a(69);a.d(r,"enums",(function(){return c.default}));var l=a(774);a.d(r,"fns",(function(){return l.a}));var u=a(503);a.d(r,"getters",(function(){return u.default})),r.default={actions:i.default,entityDef:o.a,enums:c.default,fns:l.a,getters:u.default}},function(t,r,a){"use strict";var i=a(14),o=i.getters.features,c=i.getters.currentProjectRunningExperiments;r.a={currentProjectFeatures:o,currentProjectRunningExperiments:c}},function(t,r,a){"use strict";a.d(r,"b",(function(){return i}));var i=a(2157).a;r.a={tracking:i}},function(t,r,a){"use strict";var i=a(41),o=a(835);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a),l=(c.byId,[c.entityCache,function(t){return t.toList()}]);r.a=_extends({},c,{recommendersAsList:l})},function(t,r,a){"use strict";r.a={entity:"recommenders",parent:{entity:"recommender_services",key:"recommender_service_id"}}},function(t,r,a){"use strict";r.a={DIALOG_LOCAL_STORAGE_KEY:"optimizely_dialog_manager"}},function(t,r,a){var i=a(12);r.getTransitionEndEvent=function(t){var r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"};for(var a in r)if(void 0!==t.style[a])return r[a]},r.transitionEndOnce=function(t,a){var o=i(t),c=r.getTransitionEndEvent(o.get(0)),l=getComputedStyle(t).getPropertyValue("transition-duration").split(",")[0];if(!c||!l||"0s"===l||"all"===o.css("-webkit-transition-property"))return console.warn("[transitionEndOnce] No transition expected, so invoking handler immediately.",{transitionEndEvent:c,transitionDuration:l,$el:o}),a({target:o.get(0)}),function(){};var u="".concat(c,".transitionEnd");return o.one(u,a),function(){o.off(".transitionEnd")}}},function(t,r,a){"use strict";a.r(r),a.d(r,"fetch",(function(){return fetch})),a.d(r,"fetchAll",(function(){return fetchAll})),a.d(r,"fetchPage",(function(){return fetchPage})),a.d(r,"save",(function(){return save})),a.d(r,"delete",(function(){return deleteEntity}));var i=a(12),o=a.n(i),c=a(4),l=a.n(c),u=a(72),d=a.n(u),p=a(75),m=a(3),g=a(2),h=a(78),y=a(234),v=a(138);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function fetch(t,r){var a=valididateAndDeserialize(getTestData(t),t),i=l.a.isObject(r)?l.a.find(a,r):l.a.find(a,{id:r});return i?resolve({data:i,responseHeaders:{}},getApiTimeout(i,v.a.apiActions.FETCH)):function reject(t,r){var a=o.a.Deferred();void 0===r&&(r=getApiTimeout(t));null!==r?setTimeout((function(){a.reject(t)}),r):a.reject(t);return a}()}function fetchAll(t,r){var a=valididateAndDeserialize(getTestData(t),t),i=Object(g.toImmutable)({}).withMutations((function(t){a.forEach((function(r,a){t.set(a,Object(g.toImmutable)(r))}))})),o=y.a.getAll(i,t,r).toJS();return resolve({data:o,responseHeaders:{}},getApiTimeout(o,v.a.apiActions.FETCH_ALL))}function fetchPage(t,r){var a=valididateAndDeserialize(getTestData(t),t),i=Object(g.toImmutable)({}).withMutations((function(t){a.forEach((function(r,a){t.set(a,Object(g.toImmutable)(r))}))})),o=y.a.getPage(i,t,r).toJS();return resolve({data:o,responseHeaders:{}},getApiTimeout(o,v.a.apiActions.FETCH_PAGE))}function save(t,r,a){var i=getTestData(t);if(!i)throw new Error(d()("API is stubbed, no entries for entity: '%s'",t.entity));var o=Object(p.default)(t.isSubresource?i.find((function(t){return t.id===(r.id||a.id)})):r);if(t.isSubresource){var c=l.a.reduce(t.parents,(function(i,o){if(o.entity===t.entity)return i;var c=r[o.key]||a[o.key];if(!c)throw new Error("".concat(o.key," must be supplied in instance or options."));return i.parent=i.match[o.entityName||o.entity],i.match=Array.isArray(i.parent)?i.parent.find((function(t){return t[o.key]===c})):i.parent[c],i}),{parent:null,match:o}),u=c.parent,g=c.match;if(!u)throw new Error("crud_stubs.save couldnt find a parent for the child update.");Array.isArray(u)?g?u[u.indexOf(g)]=r:u.push(r):Object.assign(g,r),o.last_modified=(new Date).toString()}else if(r.id){var y=i.find((function(t){return t.id===r.id}));if(!y)throw new Error("Cannot find existing entity by id to do PUT, id = ".concat(r.id));o=_extends({},y,o,{last_modified:(new Date).toString()})}else{var _=i.find((function(t){return null===t.id}));_&&(console.log('Found stubbed entity with "id: null"'),o=_extends({},o,_)),o=_extends({},o,{created:(new Date).toString(),id:Math.floor(1e6*Math.random()+1),last_modified:(new Date).toString()})}return function setTestDataEntity(t,r){m.default.dispatch(h.a.API_STUB_UPDATE_ENTITY,{entity:t.entity,instance:r})}(t,o),resolve(o,getApiTimeout(o,v.a.apiActions.SAVE)||0)}function deleteEntity(t,r){return resolve(null,getApiTimeout(r,v.a.apiActions.DELETE)||0)}function getTestData(t){return m.default.evaluateToJS([["apiStubs","entityData",t.entity],function(t){return t?t.toList():[]}])}function valididateAndDeserialize(t,r){if(!t)throw new Error(d()('API is stubbed, no entries for entity: "%s"',r.entity));return l.a.has(r,"deserialize")?t.map((function(t){return r.deserialize(Object(p.default)(t))})):t}function resolve(t,r){var a=o.a.Deferred();return void 0===r&&(r=getApiTimeout(t)),null!==r?setTimeout((function(){a.resolve(t)}),r):a.resolve(t),a}function getApiTimeout(t,r){var a=r||"default",i=m.default.evaluateToJS(["apiStubs","timeouts"])[a];return l.a.isFinite(i)?i:l.a.isFunction(i)?i(t):null}r.default={delete:deleteEntity,fetch:fetch,fetchAll:fetchAll,fetchPage:fetchPage,save:save}},,,,function(t,r,a){"use strict";a.d(r,"a",(function(){return l})),a.d(r,"b",(function(){return u}));var i=a(36),o=a(2252),c=a(981),l=Object(i.createEntityActions)(c.a),u=o.a},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({LEGACY_CLEAR_HOLDBACK_SELECTOR:null,LEGACY_HOLDBACK_SELECTOR:null,LEGACY_LAYER_NAME:null,LEGACY_LAYER_DESCRIPTION:null})},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({METRICS_PICKER_USE_CURRENT_PROJECT:null})},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({SET_DIRTY_ACCOUNT_ALLOWED_ORIGINS:null,SET_DIRTY_ACCOUNT_BLOCKED_ORIGINS:null,SET_DIRTY_ACCOUNT_USE_AUTO_ORIGINS:null,SET_DIRTY_ACCOUNT_ORIGINS:null})},function(t,r,a){"use strict";var i=a(2);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var o=new WeakMap;r.a=function(t,r,a){var c=function memoizedSort(t,r){o.get(r)||o.set(r,{});var a=o.get(r);return a[t]||(a[t]=r.sort((function(r,a){return r.get(t)-a.get(t)}))),a[t]}(t,a),l=c.find((function(a){return a.get(t)>=r}));if(!l)return c.last();var u=c.findIndex((function(t){return i.default.is(t,l)}));if(0===u)return l;var d=c.get(u-1),p=d.get(t),m=l.get(t),g=1-(r-p)/(m-p),h=Number.isNaN(g)?0:g;return l.mapEntries((function(t){var r=_slicedToArray(t,2),a=r[0],i=r[1],o=i-d.get(a);return[a,i-h*o]}))}},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({TRACK_CLICKS_SET_EVENT:null})},,,,,,,function(t,r,a){"use strict";var i=a(74),o=a(1007),c=a(606),l=a.n(c),u={methods:{applySelectorChange:function applySelectorChange(t){this.updateSelector(t),this.restoreSelectorState(t)},handleSelectorUpdate:function handleSelectorUpdate(t,r){this.isEditingSelector||(this.setIsEditingSelector(!0),this.setCurrentSelector(r));var a=t.keyCode;a===l.a.ENTER_KEY?this.applySelectorChange(r):a===l.a.ESCAPE_KEY&&this.restoreSelectorState(r),i.actions.unhighlightAllElements(this.activeFrameId),r&&i.actions.highlightElement({id:this.activeFrameId,selector:r,type:o.a.IFrameHighlightTypes.HOVERED})},restoreSelectorState:function restoreSelectorState(t,r){i.actions.unhighlightAllElements(this.activeFrameId),i.actions.highlightElement({id:this.activeFrameId,dataOptlyId:r,selector:t,type:o.a.IFrameHighlightTypes.SELECTED}),this.setIsEditingSelector(!1),this.setCurrentSelector(t)},toggleElementSelection:function toggleElementSelection(t,r,a){this.setElementSelectorEnabled(t),t?i.actions.unhighlightElement({id:this.activeFrameId,dataOptlyId:a,selector:r,type:o.a.IFrameHighlightTypes.SELECTED}):this.restoreSelectorState(r)}}};r.a=u},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=(a(65),a(1)),d=a.n(u),p=a(52),m=a(26),g=a(154),h=a(19),y=a(71),v=a(5),_=a(2),E=a(28),b=a(54),T=a(662),S=a(39),C=a(2597),I=a(2598),A=a(1018),O=a(137),P=a(163),R=a(46),w=a(143),N=a(147);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L=Object(E.a)({canManageRecommendations:S.default.canManageRecommendations,catalog:N.a.currentlyEditingCatalog,selectedEvents:N.a.selectedEvents,selectedIdTagName:N.a.selectedIdTagName,selectedUrlTagName:N.a.selectedUrlTagName,tagChoices:N.a.availableTagChoices,unselectedEvents:N.a.unselectedEvents})(i=Object(y.withTrack)(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(CatalogDialog,t);var r=_createSuper(CatalogDialog);function CatalogDialog(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,CatalogDialog),(a=r.call(this,t)).addEvent=function(t,r){var a=r.set("for_catalog",!0);P.a.updateEvent(a)},a.editEvent=function(t,r){P.a.setCurrentlyEditingEvent(r),v.default.showReactDialog(C.a,null,{fullScreen:!0,isOuiDialog:!0})},a.removeEvent=function(t,r){P.a.removeEvent(r)},a.ensureProperMaxValidationRateFormat=function(t){var r=a.props.catalog,i=t;i.includes("e")&&(i=0);var o=Number(i).toFixed(),c=Math.max(Number(o),0);a.setState({maxValidationRate:c});var l=r.get("run_parameters").set("max_validation_rate",c);a.updateCatalogProperty("run_parameters",l)},a.onMaxValidationRateChange=function(t){a.setState({maxValidationRate:t})},a.updateCatalogProperty=function(t,r){"name"===t&&a.setState({isNameValid:!0}),P.a.updateProperty(t,r)},a.validateName=function(){var t=function safeTrim(t){return(t||"").trim()}(a.props.catalog.get("name")).length,r=t>0&&t<1500;return a.setState({isNameValid:r}),r},a.canSave=function(){var t=a.props.selectedIdTagName;return a.validateName()&&!!t},a.saveAction=function(){if(a.canSave()){var t=a.props.track,r=a.isCreating?"Unable to create catalog.":"Unable to save catalog.",i=a.isCreating?"Catalog created successfully.":"Catalog saved successfully.";return a.setState({isLoading:!0}),P.a.saveSettings(a.isCreating).then((function(r){var o={catalogID:r.id,maximumIndexingRate:r.run_parameters.max_validation_rate,projectSpecifics:r.project_specifics};a.isCreating?t("Recommendations Catalog Created",o):t("Recommendations Catalog Edited",o),v.default.showNotification({message:i,type:"success"}),v.default.hideDialog()})).fail((function(){v.default.showNotification({message:r,type:"error"})})).always((function(){return a.setState({isLoading:!1})}))}},a.renderErrorMessage=function(t,r){return l.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":r},t)},a.renderCatalogEventsPicker=function(){var t=a.props,r=t.selectedEvents,i=t.unselectedEvents;return l.a.createElement("div",{className:"push-triple--bottom","data-test-section":"catalog-events-picker"},l.a.createElement("h4",null,"Catalog Events"),l.a.createElement("div",{className:"push-double--bottom","data-test-section":"catalog-events-picker-description"},"Add the events you want to include with this catalog then add the relevant event tags for each event. ",l.a.createElement(O.c,{helpLink:w.a.getHelpCopy("catalog_events_link"),testSection:"catalog-dialog-catalog-events"})),l.a.createElement(T.default,{inputPlaceholder:"Search and add events to this catalog",isFullWidth:!0,onEntitySelected:a.addEvent,onEntityUnselected:a.removeEvent,onSelectedSecondaryClick:a.editEvent,selectedItems:r,selectedSecondaryText:"Edit event tags",unselectedItems:i}))},a.renderIndexingRateSection=function(){var t=a.state.maxValidationRate;return l.a.createElement("div",{className:"push-triple--bottom","data-test-section":"catalog-indexing-rate"},l.a.createElement("h4",null,"Indexing Rate"),l.a.createElement("div",{className:"push--bottom","data-test-section":"catalog-indexing-rate-description"},"Set the maximum rate for catalog indexing. The default is ".concat(R.d.DEFAULT_MAX_VALIDATION_RATE.toLocaleString()," times per minute.")),l.a.createElement("div",{className:"flex flex-align--center push-double--bottom"},l.a.createElement("div",{className:"push--right width--75"},l.a.createElement(p.a,{min:0,onBlur:function onBlur(t){return a.ensureProperMaxValidationRateFormat(t.target.value)},onChange:function onChange(t){return a.onMaxValidationRateChange(t.target.value)},testSection:"catalog-max-indexing-rate-input",textAlign:"right",type:"number",value:t})),l.a.createElement("span",{"data-test-section":"catalog-max-indexing-rate-input-description-text"},"times per minute allowed")),l.a.createElement("div",{className:"flex"},l.a.createElement("div",{className:"push-half--top"},l.a.createElement(m.a,{name:"circle-exclamation",size:"small"})),l.a.createElement("div",{className:"flex--1 push--left","data-test-section":"catalog-max-indexing-rate-explaination-text"},'Catalog items are verified daily to ensure they can be served. If a page is missing, errors, or returns a 404 error, it will be removed from the catalog and shown as a validation error. It\'s recommended you whitelist the user-agent "Optimizely Recommender". ',l.a.createElement(O.c,{helpLink:w.a.getHelpCopy("max_validation_rate_link"),testSection:"catalog-dialog-indexing-rate"}))))};var i=t.catalog,o=t.track,c=i.getIn(["run_parameters","max_validation_rate"]);return null==c&&(c=R.d.DEFAULT_MAX_VALIDATION_RATE),a.state={isLoading:!1,isNameValid:!0,maxValidationRate:c},a.isCreating=!i.get("id"),a.isCreating?o("Recommendations Create New Catalog Dialog Opened"):o("Recommendations Edit Existing Catalog Dialog Opened"),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(CatalogDialog,[{key:"render",value:function render(){var t=this.props,r=t.canManageRecommendations,a=t.catalog,i=t.selectedIdTagName,o=t.selectedUrlTagName,c=t.tagChoices,u=this.state,d=u.isLoading,p=u.isNameValid,m=this.isCreating?"New Catalog":"Edit Catalog",y=this.isCreating?"Create Catalog":"Save Catalog";return l.a.createElement(g.a,{footerButtonList:[l.a.createElement(h.a,{key:"cancel",onClick:v.default.hideDialog,style:"plain",testSection:"catalog-dialog-cancel-button"},"Cancel"),l.a.createElement(h.a,{isDisabled:!r,key:"save",onClick:this.saveAction,style:"highlight",testSection:"catalog-dialog-create-save-button"},y)],onClose:v.default.hideDialog,subtitle:l.a.createElement(l.a.Fragment,null,"Catalogs contain your items and related events. Your recommenders generate recommendations from catalog information. ",l.a.createElement(O.c,{helpLink:w.a.getHelpCopy("setup_catalog_link"),testSection:"catalog-dialog-subtitle"})),title:m,warningContent:!r&&R.d.EDIT_WARNING_TEXTS.CATALOG.message,warningTestSection:R.d.EDIT_WARNING_TEXTS.CATALOG.testSection},l.a.createElement(b.default,{isLoading:d},l.a.createElement(A.a,{entity:a,entityInfo:R.d.EntityInfo.CATALOG,renderErrorMessage:this.renderErrorMessage,showValidationError:!p,updateEntityProperty:this.updateCatalogProperty}),this.renderCatalogEventsPicker(),l.a.createElement(I.a,{selectedIdTagName:i,selectedUrlTagName:o,tagChoices:c,updateCatalogProperty:this.updateCatalogProperty}),this.renderIndexingRateSection()))}}]),CatalogDialog}(l.a.Component)).componentId="CatalogDialog",o.propTypes={canManageRecommendations:d.a.bool.isRequired,catalog:d.a.instanceOf(_.default.Map).isRequired,selectedEvents:d.a.instanceOf(_.default.List).isRequired,selectedIdTagName:d.a.string,selectedUrlTagName:d.a.string.isRequired,tagChoices:d.a.instanceOf(_.default.List).isRequired,track:d.a.func,unselectedEvents:d.a.instanceOf(_.default.List).isRequired},o.defaultProps={track:function track(){}},i=o))||i)||i;r.a=L},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(4),m=a(28),g=a(34),h=a(185),y=a(39),v=a(56),_=a(14),E=a(24),b=a(2644),T=a(2645),S=a(2647),C=a(857),I=a(2651),A=a(2654);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var O=g.enums.defaultConditionConfigs[g.enums.conditionMatchTypes.URL],P=Object(m.a)({canUseAdvancedPageSettings:y.default.canUseAdvancedPageSettings,canUseViewActivationModeCallback:y.default.canUseViewActivationModeCallback,canUseViewActivationModeDomChanged:y.default.canUseViewActivationModeDomChanged,canUseViewActivationModeManual:y.default.canUseViewActivationModeManual,canUseViewActivationModePolling:y.default.canUseViewActivationModePolling,canUseViewActivationModeUrlChanged:y.default.canUseViewActivationModeUrlChanged,canUseViewConditionCustomCode:y.default.canUseViewConditionCustomCode,canUseViewConditionElementPresent:y.default.canUseViewConditionElementPresent,currentProjectId:_.getters.id,isWebEdgeProject:[_.getters.project,v.default.isWebEdgeProject],isSupportForDynamicWebsitesEnabled:[_.getters.project,function(t){return t.getIn(["client_build_settings","dynamic_website_support"])}],snippetGlobalName:[_.getters.project,v.default.getSnippetGlobalName]})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(SmartPageConfig,t);var r=_createSuper(SmartPageConfig);function SmartPageConfig(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,SmartPageConfig),(a=r.call(this,t)).resetState=function(){a.setState({deserializedConditionGroup:a.getDeserializedConditions(a.props.viewConfiguration)})},a.getDeserializedConditions=function(t){var r,a=t.get("conditions");return a?r=g.fns.smartDeserializeConditions(a):(r=g.fns.createConditionGroup(null,g.enums.conditionGroupTypes.AND),t.get("id")||r.conditions.push(g.fns.createConditionGroup(O))),r},a.onConditionGroupDidMutate=function(){var t=a.props.onUpdate,r=a.state.deserializedConditionGroup;a.forceUpdate();var i=null;r.conditions.length&&(i=g.fns.smartSerializeConditions(r)),t("conditions",i)},a.showUrlValidator=function(){return Object(p.some)(a.state.deserializedConditionGroup.conditions,(function(t){return t.conditions[0].type===g.enums.conditionMatchTypes.URL}))},a.getHelpLinkProps=function(t){return a.props.isWebEdgeProject&&!a.props.isSupportForDynamicWebsitesEnabled?{linkText:"This ".concat(t," requires Support for Dynamic Websites."),linkURL:E.default.projectSettingsImplementation(a.props.currentProjectId),linkNewWindow:!0}:null},a.render=function(){var t=a.props,r=t.canUseAdvancedPageSettings,i=t.canUseViewActivationModeCallback,o=t.canUseViewActivationModeDomChanged,c=t.canUseViewActivationModeManual,u=t.canUseViewActivationModePolling,d=t.canUseViewActivationModeUrlChanged,p=t.canUseViewConditionCustomCode,m=t.canUseViewConditionElementPresent,g=t.currentProjectId,h=t.errors,y=t.onUpdate,v=t.updateConditionErrors,_=t.viewConfiguration,E=t.isWebEdgeProject,O=t.isSupportForDynamicWebsitesEnabled,P=t.snippetGlobalName,R=a.state,w=R.deserializedConditionGroup,N=R.edgeLearnMoreLinks;return l.a.createElement("div",null,l.a.createElement(b.a,{viewId:_.get("id"),pageName:_.get("name"),description:_.get("description"),editorUrl:_.get("edit_url"),apiName:_.get("api_name"),isNewPage:!!_.get("id"),activationType:_.get("activation_type"),canUseViewActivationModeManual:c,onUpdate:y,errors:{edit_url:h.edit_url,api_name:h.api_name}}),l.a.createElement("h3",{className:"push-double--bottom"},"Page Settings"),l.a.createElement(I.a,{apiName:_.get("api_name"),activationType:_.get("activation_type"),activationCode:_.get("activation_code"),canUseViewActivationModeCallback:i,canUseViewActivationModeDomChanged:o,canUseViewActivationModeManual:c,canUseViewActivationModePolling:u,canUseViewActivationModeUrlChanged:d,conditionGroupDidMutate:a.onConditionGroupDidMutate,conditionGroup:w,error:h.activation_code,onUpdate:y,currentProjectId:g,isSupportForDynamicWebsitesEnabled:O,isWebEdgeProject:E,getHelpLinkProps:a.getHelpLinkProps.bind(_assertThisInitialized(a),"trigger"),snippetGlobalName:P}),l.a.createElement(T.a,{conditionGroup:w,conditionGroupDidMutate:a.onConditionGroupDidMutate,errors:h.conditions,isWebEdgeProject:E,edgeLearnMoreLinks:N,updateConditionErrors:v}),l.a.createElement(S.a,{canUseViewConditionCustomCode:p,canUseViewConditionElementPresent:m,conditionGroup:w,conditionGroupDidMutate:a.onConditionGroupDidMutate,getHelpLinkProps:a.getHelpLinkProps.bind(_assertThisInitialized(a),"condition type")}),r&&l.a.createElement(C.a,null,l.a.createElement(C.a.HelpLink,{getHelpLinkProps:a.getHelpLinkProps.bind(_assertThisInitialized(a),"setting")}),l.a.createElement(C.a.Deactivation,{onUpdate:y,deactivationEnabled:_.get("deactivation_enabled"),deactivationLabel:"Deactivation and Undo",deactivationDescription:"Automatically deactivate this page when the trigger fires and conditions are false. Even if this setting is disabled, the page can be manually activated and deactivated via the JS API.",undoLabel:"Undo changes when this page deactivates",undoDescription:"Actively undo changes when this page deactivates. Note that not all types of changes can be undone.",undoOnDeactivation:_.get("undo_on_deactivation")}),!E&&!_.get("is_url_targeting")&&l.a.createElement(C.a.Trimming,{onUpdate:y,label:"Override Page Trimming",description:"Always include this page in your snippet(s). If you've enabled Automatic Page Trimming in Snippet Settings, pages are only included if they are used for Targeting or Pageview Metrics. Select this option if you need to include this snippet for other uses like behavioral targeting or data export.",overridePageTrimming:_.get("override_page_trimming")})),a.showUrlValidator()&&l.a.createElement(A.a,{conditionGroup:w,isWebEdgeProject:E,edgeLearnMoreLinks:N}))},a.state={deserializedConditionGroup:a.getDeserializedConditions(t.viewConfiguration),edgeLearnMoreLinks:t.isWebEdgeProject?{hashWarningLink:_.actions.getHelpCopy("edge_hash_warning_learn_more_link","https://docs.developers.optimizely.com/performance-edge/docs/create-experiment#section-1-set-up-url-targeting")}:{}},Object(p.isFunction)(t.setRevertHandler)&&t.setRevertHandler(a.resetState),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(SmartPageConfig,[{key:"componentDidMount",value:function componentDidMount(){Object(h.trackHeroElement)("experiments_targeting_smart_page_config")}}]),SmartPageConfig}(l.a.Component)).propTypes={canUseAdvancedPageSettings:d.a.bool.isRequired,canUseViewActivationModeCallback:d.a.bool.isRequired,canUseViewActivationModeDomChanged:d.a.bool.isRequired,canUseViewActivationModeManual:d.a.bool.isRequired,canUseViewActivationModePolling:d.a.bool.isRequired,canUseViewActivationModeUrlChanged:d.a.bool.isRequired,canUseViewConditionCustomCode:d.a.bool.isRequired,canUseViewConditionElementPresent:d.a.bool.isRequired,viewConfiguration:d.a.object.isRequired,onUpdate:d.a.func.isRequired,updateConditionErrors:d.a.func.isRequired,setRevertHandler:d.a.func,errors:d.a.shape({api_name:d.a.string,edit_url:d.a.string,activation_code:d.a.string,conditions:d.a.array}),isWebEdgeProject:d.a.bool,isSupportForDynamicWebsitesEnabled:d.a.bool,snippetGlobalName:d.a.string.isRequired},o.defaultProps={isWebEdgeProject:!1,isSupportForDynamicWebsitesEnabled:!1},i=o))||i;r.a=P},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(9),d=a.n(u),p=a(848),m=a(2648),g=a(2649),h=a(2650),y=function AdvancedFeatures(t){var r=t.hasDisclose,a=t.children;return o.a.createElement("div",{className:d()({"push-quad--top":r}),"data-test-section":"configure-view-smart-advanced_features"},r?function renderWithDisclose(){return o.a.createElement(p.a,{title:"Advanced","data-test-section":"advanced_features-toggle"},a)}():a)};y.propTypes={children:l.a.node.isRequired,hasDisclose:l.a.bool},y.defaultProps={hasDisclose:!0},y.displayName="AdvancedFeatures",y.HelpLink=m.a,y.Deactivation=g.a,y.Trimming=h.a,r.a=y},function(t,r,a){"use strict";var i=a(1326);a.d(r,"a",(function(){return i.a}));var o=a(1327);a.d(r,"b",(function(){return o.a}));i.a,o.a},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(3),l=a(528),u=a(1333),d=a.n(u);function popPreviousBrowserHistoryState(){c.default.dispatch(l.a.BROWSER_HISTORY_POP_PREVIOUS_STATE)}o()(window).on("popstate.global",(function(){popPreviousBrowserHistoryState()})),r.a={getCurrentBrowserHistoryState:function getCurrentBrowserHistoryState(){return c.default.evaluateToJS(d.a.currentState)},getPreviousBrowserHistoryState:function getPreviousBrowserHistoryState(){return c.default.evaluateToJS(d.a.previousState)},popPreviousBrowserHistoryState:popPreviousBrowserHistoryState,pushBrowserHistoryState:function pushBrowserHistoryState(t){c.default.dispatch(l.a.BROWSER_HISTORY_PUSH_STATE,{url:t})},replaceBrowserHistoryState:function replaceBrowserHistoryState(t){c.default.dispatch(l.a.BROWSER_HISTORY_REPLACE_STATE,{url:t})}}},function(t,r,a){"use strict";var i=a(3157);function shadowRootElementFromPoint(t,r,a){var i;return t&&t.shadowRoot&&(i=t.shadowRoot.elementFromPoint(r,a)),i}r.a={elementFromPoint:function elementFromPoint(t,r){for(var a=document.elementFromPoint(t,r),i=shadowRootElementFromPoint(a,t,r);i&&i!==a;)i=shadowRootElementFromPoint(a=i,t,r);return i||a},isShadowDomSupported:function isShadowDomSupported(){return window.optly_inner_features&&window.optly_inner_features.shadow_dom},getHost:function getHost(t){return t.getRootNode?t.getRootNode().host:null},querySelector:i.querySelector,querySelectorAll:i.querySelectorAll}},,,,,function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(79),l=a(1),u=a.n(l),d=a(0),p=a.n(d),m=a(9),g=a.n(m);function ValidatedSelectField(t){var r=t.error,a=t.isHidden,i=t.label,l=t.name,u=t.onChange,d=t.options,m=t.testSection,h=t.value,y=!!r&&p.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news push--bottom","data-test-section":"validation-error"},r),v=d.map((function(t){var r,a;return o.a.isPlainObject(t)?(r=t.displayText,a=t.value):(r=t,a=t),p.a.createElement("option",{key:"".concat(l,"-").concat(a),value:a},r)})),_=g()({"display--none":a});return p.a.createElement("div",{className:_,"data-ui-component":!0,"data-test-section":"validated-select-field"},p.a.createElement(c.a,null,i),p.a.createElement("select",{className:"lego-select width--1-1",value:h,"data-test-section":m,onChange:function changeHandler(t){u(function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}({},l,t.target.value))}},v),y)}ValidatedSelectField.propTypes={error:u.a.string,isHidden:u.a.bool,label:u.a.string,name:u.a.string.isRequired,onChange:u.a.func,options:u.a.oneOfType([u.a.arrayOf(u.a.string),u.a.arrayOf(u.a.shape({displayText:u.a.string,value:u.a.string}))]).isRequired,testSection:u.a.string,value:u.a.string},ValidatedSelectField.defaultProps={error:null,isHidden:!1,label:null,onChange:function onChange(){},testSection:null,value:""},r.a=ValidatedSelectField},,,function(t,r,a){"use strict";a.d(r,"a",(function(){return c})),a.d(r,"b",(function(){return l})),a.d(r,"c",(function(){return u})),a.d(r,"d",(function(){return d}));var i,o=a(17);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var c=a.n(o)()({ANDROID:null,BROWSER:null,C:null,GO:null,JAVA:null,NODE:null,PHP:null,PYTHON:null,REACT:null,RUBY:null,SWIFT:null}),l=[{value:c.REACT,label:"JavaScript (React)"},{value:c.NODE,label:"JavaScript (Node)"},{value:c.BROWSER,label:"JavaScript (Browser)"}],u=[{value:c.ANDROID,label:"Android",link:"https://docs.developers.optimizely.com/rollouts/docs/android"},{value:c.C,label:"C#",link:"https://docs.developers.optimizely.com/rollouts/docs/c"},{value:c.GO,label:"Go",link:"https://docs.developers.optimizely.com/rollouts/docs/go"},{value:c.JAVA,label:"Java",link:"https://docs.developers.optimizely.com/rollouts/docs/java"},{value:c.PHP,label:"PHP",link:"https://docs.developers.optimizely.com/rollouts/docs/php"},{value:c.PYTHON,label:"Python",link:"https://docs.developers.optimizely.com/rollouts/docs/python"},{value:c.RUBY,label:"Ruby",link:"https://docs.developers.optimizely.com/rollouts/docs/ruby"},{value:c.SWIFT,label:"Swift",link:"https://docs.developers.optimizely.com/rollouts/docs/swift"}],d=(_defineProperty(i={},c.REACT,(function(t,r){return[["Install the SDK","npm install --save @optimizely/react-sdk",null,[{text:"Install React SDK",helpLinkFeatureVariable:"help_install_react"}]],["Import and Initialize the SDK","import React from 'react';\nimport {\n  createInstance,\n  OptimizelyFeature,\n  OptimizelyProvider,\n} from '@optimizely/react-sdk';\n\nconst optimizely = createInstance({\n  sdkKey: '".concat(t,"'\n});"),"jsx",[{text:"Initalize React SDK",helpLinkFeatureVariable:"help_init_react"}]],["Wrap your application with OptimizelyProvider and use the OptimizelyFeature component anywhere you want to use a feature flag","class App extends React.Component {\n  render() {\n    return (\n      <OptimizelyProvider\n        optimizely={optimizely}\n        user={{\n          id: 'user123',\n        }}\n      >\n        <OptimizelyFeature feature=\"".concat(r,"\">\n          {(enabled) => (\n            enabled ? 'Feature is ON!' : 'Feature is off.'\n          )}\n        </OptimizelyFeature>\n      </OptimizelyProvider>\n    );\n  }\n}"),"jsx",[{text:"OptimizelyProvider",helpLinkFeatureVariable:"help_optimizely_provider_react"},{text:"OptimizelyFeature",helpLinkFeatureVariable:"help_optimizely_feature_react"}]]]})),_defineProperty(i,c.NODE,(function(t,r){return[["Install the SDK","npm install --save @optimizely/optimizely-sdk",null,[{text:"Install Node SDK",helpLinkFeatureVariable:"help_install_node"}]],["Import and Initialize the SDK","var optimizelySdk = require('@optimizely/optimizely-sdk');\nvar optimizelyClientInstance = optimizelySdk.createInstance({\n  sdkKey: '".concat(t,"'\n});"),"js",[{text:"Initalize Node SDK",helpLinkFeatureVariable:"help_init_node"}]],["Implement a Feature Flag","optimizelyClientInstance.onReady().then(() => {\n  var enabled = optimizelyClientInstance.isFeatureEnabled('".concat(r,"', 'user123');\n  if (enabled) {\n    console.log('Feature is ON!');\n  } else {\n    console.log('Feature is off.');\n  }\n});"),"js",[{text:"Is Feature Enabled Node",helpLinkFeatureVariable:"help_feature_enabled_node"}]]]})),_defineProperty(i,c.BROWSER,(function(t,r){return[["Install the SDK & Datafile",'<script src="https://unpkg.com/@optimizely/optimizely-sdk@3.5/dist/optimizely.browser.umd.min.js"><\/script>\n<script src="https://cdn.optimizely.com/datafiles/'.concat(t,'.json/tag.js"><\/script>'),"html",[{text:"Install JavaScript SDK",helpLinkFeatureVariable:"help_install_browser"}]],["Initialize the SDK","var optimizelyClientInstance = window.optimizelySdk.createInstance({\n  datafile: window.optimizelyDatafile,\n});","js",[{text:"Initialize JavaScript SDK",helpLinkFeatureVariable:"help_init_browser"}]],["Implement a Feature Flag","var enabled = optimizelyClientInstance.isFeatureEnabled('".concat(r,"', 'user123');\nif (enabled) {\n  console.log('Feature is ON!');\n} else {\n  console.log('Feature is off.');\n}"),"js",[{text:"Is Feature Enabled JavaScript",helpLinkFeatureVariable:"help_feature_enabled_browser"}]]]})),i)},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(2672),d=a.n(u),p=a(2673),m=a.n(p),g=a(2674),h=a.n(g),y=a(2675),v=a.n(y),_=a(2676),E=a.n(_),b=a(2677),T=a.n(b),S=a(2678),C=a.n(S),I=a(2679),A=a.n(I),O=a(2680),P=a.n(O),R=a(2681),w=a.n(R),N=a(2682),L=a.n(N),x=[{url:d.a,alignSelf:"start",justifySelf:"start",opacity:.3},{url:h.a,alignSelf:"start",justifySelf:"center",opacity:.5},{url:v.a,alignSelf:"start",justifySelf:"end",opacity:.5},{url:E.a,alignSelf:"center",justifySelf:"start",opacity:.7},{url:T.a,alignSelf:"center",justifySelf:"center",opacity:.3},{url:A.a,alignSelf:"center",justifySelf:"end",opacity:.3},{url:P.a,alignSelf:"center",justifySelf:"start",opacity:.5},{url:w.a,alignSelf:"center",justifySelf:"center",coloredForMobileOrOTT:!0},{url:L.a,alignSelf:"center",justifySelf:"end",coloredForMobileOrOTT:!0},{url:m.a,alignSelf:"end",justifySelf:"start",opacity:.3},{url:C.a,alignSelf:"end",justifySelf:"center",opacity:.3}];function getGridCellStyle(t,r){var a=t.alignSelf,i=t.justifySelf,o=t.coloredForMobileOrOTT,c=(t.url,t.opacity),l={alignSelf:a,justifySelf:i};return!o&&r&&(l.filter="grayscale(1)",l.opacity=c),l}function ImageGrid(t){var r=t.isMobileOrOTTOnlyAccount;return l.a.createElement("div",{className:"push-quad--right width--150"},l.a.createElement("ul",{className:"soft-half--ends",style:{height:"100%",display:"grid",gridTemplateColumns:"repeat(3,1fr)",gridTemplateRows:"repeat(4,1fr)",gridGap:0}},x.map((function(t){return l.a.createElement("li",{key:t.url,style:getGridCellStyle(t,r)},l.a.createElement("img",{src:t.url,style:{width:"40px"},alt:""}))}))))}ImageGrid.propTypes={isMobileOrOTTOnlyAccount:o.a.bool},r.a=ImageGrid},function(t,r,a){"use strict";var i=a(2689),o={groupsDashboard:a(2715).a,layersDashboard:i.a};r.a={pages:o}},function(t,r,a){"use strict";a.d(r,"a",(function(){return u})),a.d(r,"b",(function(){return d}));var i=a(0),o=a.n(i),c=a(513),l=a.n(c);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var u=o.a.createContext((function(){})),d=function withBeforeLeave(t){var r=function ContextWrapper(r,a){return o.a.createElement(u.Consumer,null,(function(i){return o.a.createElement(t,_extends({},_extends({},r,{ref:a}),{setBeforeLeave:i}))}))};return r.displayName="withBeforeLeave(".concat(t.name,")"),l()(o.a.forwardRef(r),t)}},function(t,r,a){"use strict";var i=a(1240);a.d(r,"a",(function(){return i.a}));var o=a(772);a.d(r,"b",(function(){return o.b}));var c=a(316),l=a(811),u=a(507);a.d(r,"d",(function(){return u.a}));var d=c.a.v2;r.c={actions:i.a,constants:o.b,entityDef:d,entityDefs:c.a,fns:l.a,getters:u.a}},function(t,r,a){"use strict";a.r(r);var i=a(1312),o=a.n(i);a.d(r,"enums",(function(){return o.a}));var c=a(1313),l=a.n(c);a.d(r,"fns",(function(){return l.a}));var u=a(825);a.d(r,"getters",(function(){return u.a})),r.default={enums:o.a,fns:l.a,getters:u.a}},function(t,r,a){var i=a(12),o=a(3).default,c=a(220),l=a(4),u=a(642),d=a(540),p=a(301),m=a(3384),g=m.setLoggingEnabled,h=m.logEmit,y=m.logWrite,v=m.log,_=l.debounce((function(t,r){o.dispatch(u.P13N_EDITOR_IFRAME_SET_WIDTH,{iframeId:t,width:r})}),50),E=function setIsLandscapeMode(t,r,a,i){o.dispatch(u.P13N_EDITOR_IFRAME_SET_IS_LANDSCAPE_MODE,{iframeId:t,isLandscapeMode:r}),r?(a.setWidth(i.height),a.setHeight(i.width)):(a.setWidth(i.width),a.setHeight(i.height))};r.writeOrReject=function(t,r){var a=o.evaluate(d.iframeComponent(t)),c=o.evaluate(d.iframeLoadingStatus(t));return a?c===p.IFrameLoadStatuses.FAILED?i.Deferred().reject("Cannot write to a frame that failed to load: iframeId=".concat(t)):c===p.IFrameLoadStatuses.CANCELED?i.Deferred().reject("Cannot write to a frame that was canceled: iframeId=".concat(t)):a.writeWithDeferred(r):i.Deferred().reject("Cannot write to component that doesnt exist: iframeId=".concat(t))},r.setSelectedDeviceAndWidth=function(t,a,i,c){i!==c&&function setSelectedDevice(t,r){o.dispatch(u.P13N_EDITOR_IFRAME_SET_SELECTED_DEVICE,{iframeId:t,selectedDevice:r})}(t,i);var l=o.evaluate(d.iframeComponent(t));l&&(!function setWidth(t,r,a){r<p.Sizes.mobile.width||(_(t,r),a.setWidth(r))}(t,a,l),c.userAgent&&E(t,!1,l,i),c.userAgent!==i.userAgent&&(l.setHeight(i.height),r.reloadCurrentUrl(t)))},r.swapDimensions=function(t,r){var a=o.evaluate(d.iframeComponent(t));if(a){var i=o.evaluate(d.isLandscapeMode(t));E(t,!i,a,r)}},r.setLoggingEnabled=g,r.logEmit=h,r.logWrite=y,r.log=v,r.addIFrame=function(t){o.dispatch(u.P13N_EDITOR_IFRAME_ADD_IFRAME,{id:t.id,component:t,url:t.url,editorType:t.editorType})},r.removeIFrame=function(t){o.dispatch(u.P13N_EDITOR_IFRAME_REMOVE_IFRAME,{id:t})},r.registerProtocolForUrl=function(t,r){o.dispatch(u.P13N_EDITOR_IFRAME_REGISTER_PROTOCOL_FOR_URL,{url:t,protocol:r})},r.unregisterProtocolForUrl=function(t){o.dispatch(u.P13N_EDITOR_IFRAME_UNREGISTER_PROTOCOL_FOR_URL,{url:t})},r.applyChangesAndFetchElementInfo=function(t,a,i,o){return r.writeOrReject(t,{type:p.IFrameMessageTypes.APPLY_CHANGES_AND_FETCH_ELEMENT_INFO,payload:{changes:a,selector:i,partialUndoChangeId:o}})},r.destroyIFrame=function(t){var r=o.evaluate(d.iframeComponent(t));r&&r.$destroy()},r.fetchElementInfo=function(t,a,i){return r.writeOrReject(t,{type:p.IFrameMessageTypes.FETCH_ELEMENT_INFO,payload:{selector:a,partialUndoChangeId:i}})},r.fetchRelatedElementSelectors=function(t,a){return r.writeOrReject(t,{type:p.IFrameMessageTypes.FETCH_RELATED_ELEMENT_SELECTORS,payload:{selector:a}})},r.fetchTagValue=function(t,a){return r.writeOrReject(t,{type:p.IFrameMessageTypes.FETCH_TAG_VALUE,payload:{tag:a}})},r.applyChanges=function(t,r){var a=o.evaluate(d.iframeComponent(t));a&&a.write({type:p.IFrameMessageTypes.APPLY_CHANGES,payload:{changes:r}})},r.highlightElement=function(t){var r=o.evaluate(d.iframeComponent(t.id));if(r){o.dispatch(u.P13N_EDITOR_IFRAME_HIGHLIGHT_ELEMENT,{id:t.id,dataOptlyId:t.dataOptlyId,selector:t.selector,type:t.type});var a={dataOptlyId:t.dataOptlyId,selector:t.selector,type:t.type};t.label&&(a.label=t.label),t.selectorType&&(a.selectorType=t.selectorType),r.write({type:p.IFrameMessageTypes.HIGHLIGHT_ELEMENT,payload:a})}},r.unhighlightElement=function(t){var r=o.evaluate(d.iframeComponent(t.id));r&&(o.dispatch(u.P13N_EDITOR_IFRAME_UNHIGHLIGHT_ELEMENT,{id:t.id,dataOptlyId:t.dataOptlyId,selector:t.selector,type:t.type}),r.write({type:p.IFrameMessageTypes.UNHIGHLIGHT_ELEMENT,payload:{dataOptlyId:t.dataOptlyId,selector:t.selector,type:t.type}}))},r.unhighlightAllElements=function(t){var r=o.evaluate(d.iframeComponent(t));r&&(o.dispatch(u.P13N_EDITOR_IFRAME_UNHIGHLIGHT_ALL_ELEMENTS,{id:t}),l.each(c.IFrameHighlightTypes,(function(t){r.write({type:p.IFrameMessageTypes.UNHIGHLIGHT_ELEMENT,payload:{type:t}})})))},r.setMode=function(t,r){var a=o.evaluate(d.iframeComponent(t));a&&(o.dispatch(u.P13N_EDITOR_IFRAME_SET_MODE,{id:t,mode:r}),a.write({type:p.IFrameMessageTypes.SET_MODE,payload:{mode:r}}))},r.setEditorType=function(t,r){o.dispatch(u.P13N_EDITOR_IFRAME_SET_EDITOR_TYPE,{id:t,type:r})},r.setFrameType=function(t,r){o.dispatch(u.P13N_EDITOR_IFRAME_SET_FRAME_TYPE,{id:t,type:r})},r.setReadyState=function(t,r){o.dispatch(u.P13N_EDITOR_IFRAME_SET_READY_STATE,{id:t,loadStatus:r.loadStatus,protocolType:r.protocolType,loadDuration:r.loadDuration})},r.syncState=function(t,a){var i=o.evaluateToJS(d.iframe(t));i&&(r.unhighlightAllElements(t),l.each(i.highlightedElements,(function(a){r.highlightElement({id:t,dataOptlyId:a.dataOptlyId,selector:a.selector,type:a.type})})),r.setMode(t,o.evaluateToJS(d.iframe(t)).mode),r.setEditorType(t,a))},r.reloadCurrentUrl=function(t){var r=o.evaluate(d.iframeComponent(t));r&&r.reloadCurrentUrl()},r.setCurrentUrl=function(t,r,a){a=a||l.keys(p.ProtocolTypes);var i=o.evaluate(d.iframeComponent(t)),c=o.evaluate(d.iframe(t));!i||!c||c.get("url")===r&&l.includes(a,c.get("protocolType"))||(i.loadUrl(r,a),o.dispatch(u.P13N_EDITOR_IFRAME_SET_URL,{id:t,url:r}))},r.reset=function(){o.dispatch(u.P13N_EDITOR_IFRAME_RESET)},r.toggleInteractiveMode=function(t,a){t=t===p.IFrameModeTypes.INTERACTIVE?p.IFrameModeTypes.STANDARD:p.IFrameModeTypes.INTERACTIVE,r.setMode(a,t)},r.testSelectorEquality=function(t,a,i){return r.writeOrReject(t,{type:p.IFrameMessageTypes.TEST_SELECTOR_EQUALITY,payload:{selector:a,selectorsToTest:i}})},r.evalCode=function(t,a){return r.writeOrReject(t,{type:p.IFrameMessageTypes.EVAL,payload:{code:a}}).then((function(r){return o.dispatch(u.P13N_EDITOR_IFRAME_EVAL_COMPLETE,{id:t,error:r.error}),r}))},r.incrementAlertShownCount=function(t){o.dispatch(u.P13N_EDITOR_IFRAME_INCREMENT_ALERT_COUNT,{id:t})}},function(t,r,a){var i=a(75).default,o=a(3),c=a(8),l=a(377).default,u=a(96).default,d=(a(3487),a(595)),p=a(1944);r.loadPlugin=function(t){t.options.on_layer_decision&&(t.options.track_layer_decision=t.options.on_layer_decision),o.dispatch(p.LOAD_CURRENTLY_EDITING_PLUGIN,{pluginConfig:t})},r.updatePluginConfig=function(t){o.dispatch(p.UPDATE_CURRENTLY_EDITING_PLUGIN_CONFIG,t)},r.setFormValues=function(t){o.dispatch(p.SET_FORM_VALUES_CURRENTLY_EDITING_PLUGIN,{formValues:t})},r.setFormValue=function(t,r){o.dispatch(p.SET_VALUE_CURRENTLY_EDITING_PLUGIN,{name:t,value:r})},r.reset=function(){o.dispatch(p.UNSET_CURRENTLY_EDITING_PLUGIN)},r.revertChanges=function(t){var a=o.evaluateToJS(l.byId(t));r.updatePluginConfig(a)},r.updateFromJSON=function(t){var a;try{a=JSON.parse(t)}catch(t){return{didEdit:!1,errorMessage:c("Plugin configuration isn't valid JSON")}}a.plugin_type||(a.plugin_type=u.plugin_type.WIDGET);var o=d.validateEditedPlugin(a);return o.isValid?(r.updatePluginConfig(a),{didEdit:!0,updatedPlugin:i(a)}):{didEdit:!1,errorMessage:o.message}},r.updateDefaultFieldValue=function(t,r){o.dispatch(p.UPDATE_PLUGIN_DEFAULT_FIELD_VALUE,{fieldName:t,newDefault:r})},r.startEditingSelector=function(t){o.dispatch(p.CURRENTLY_EDITING_PLUGIN_SET_EDITING_SELECTOR,{selectorFieldName:t})},r.stopEditingSelector=function(){o.dispatch(p.CURRENTLY_EDITING_PLUGIN_SET_EDITING_SELECTOR,{selectorFieldName:null})}},function(t,r,a){"use strict";var i=a(1009);r.a=i.b},function(t,r,a){"use strict";a.r(r);var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(5),d=a(2698),p=a(2700),m=function Targeting(t){var r=t.isCreating,a=void 0!==r&&r;return o.a.createElement("div",null,a?o.a.createElement(p.a,t):o.a.createElement(d.a,t))};m.propTypes={isCreating:l.a.bool},m.show=function(t){u.default.showReactDialog(m,{props:{onSave:t,isInDialog:!0}},{fullScreen:!0,dismissOnBack:!0})},r.default=m},function(t,r,a){var i=a(4),o=a(330).default,c=a(3523),l=a(3524);t.exports={replace:!1,template:c,data:{async:!1,types:l.TimingTypes,timingDropdownTypes:o.TimingDropdownTypes},computed:{displayText:function displayText(){var t=this.async?this.types.ASYNCHRONOUS:this.types.SYNCHRONOUS;return this.includeTimingLabel?t+tr(" timing"):t},isSidebar:function isSidebar(){return this.instanceIdentifier===this.timingDropdownTypes.ELEMENT_TIMING}},methods:{handleChange:function handleChange(t){this.async=t,this.$options.handleChangeTimingChanged?this.$options.handleChangeTimingChanged({isAsync:t,instanceIdentifier:this.instanceIdentifier}):this.$parent.handleChangeTimingChanged({isAsync:t,instanceIdentifier:this.instanceIdentifier})},handleUpdate:function handleUpdate(){this.change&&(this.async=i.clone(this.change.async))},setAsync:function setAsync(t){this.async=t}},ready:function ready(){this.handleUpdate()}}},function(t,r,a){"use strict";var i=a(1289),o=a.n(i),c=a(99),l=a.n(c),u=a(775),d=a.n(u),p=a(769),m=a.n(p);a.d(r,"a",(function(){return m.a}));var g=a(639);a.d(r,"b",(function(){return g.a}));var h=a(776),y=a(777),v=a.n(y),_=a(544),E=a.n(_),b=a(781),T=a.n(b);a.d(r,"c",(function(){return T.a}));var S=a(656),C=a.n(S),I=a(778),A=a.n(I),O=a(735),P=a.n(O);a.d(r,"d",(function(){return P.a}));var R=a(425),w=a.n(R),N=a(779),L=a.n(N),x=a(780),D=a.n(x);a.d(r,"e",(function(){return D.a}));var k=a(736),j=a.n(k),M=a(657),U=a.n(M),V=a(1290),B=a.n(V),G=a(732),H=a.n(G),z=a(563),W=a.n(z),q=a(782),Y=a.n(q),K=a(783),J=a.n(K);a.d(r,"f",(function(){return J.a}));var X=a(228),$=a.n(X),Q=a(784),Z=a.n(Q),ee=a(1291),te=a.n(ee),ne=a(786),re=a.n(ne),ae=a(192),ie=a.n(ae),oe=a(785),se=a.n(oe);a.d(r,"g",(function(){return se.a}));o.a,l.a,d.a,m.a,g.a,h.a,v.a,E.a,T.a,C.a,A.a,P.a,w.a,L.a,D.a,j.a,U.a,B.a,H.a,W.a,Y.a,J.a,$.a,Z.a,te.a,re.a,ie.a,se.a},,function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(52),d=a(319),p=a(63),m=a(27),g=function VariableKeyCell(t){var r=t.isDisabled,a=t.variableField,i=t.readOnly,c=t.showLabel,l=t.testSection,p=a.field("api_name");return o.a.createElement("div",null,c&&o.a.createElement("h6",{className:"muted push-half--bottom"},"Variable Key"),i?o.a.createElement("div",{className:"flex"},o.a.createElement("span",{className:"truncate","data-test-section":"".concat(l,"-read-only")},p.getValue())):o.a.createElement(u.a,{type:"text",isDisabled:r,isRequired:!0,displayError:p.getErrors().hasError,note:p.getErrors().details.isRequired,value:p.getValue(),onChange:function updateApiName(t){var r=Object(d.a)(t.target.value);p.setValue(r)},placeholder:"Enter a unique key",maxLength:m.constants.MAX_API_NAME_LENGTH,testSection:"".concat(l,"-input")}))};g.defaultProps={isDisabled:!1,readOnly:!1,showLabel:!1,testSection:"variables-key-cell"},g.propTypes={isDisabled:l.a.bool,readOnly:l.a.bool,showLabel:l.a.bool,testSection:l.a.string,variableField:p.b.isRequired},r.a=g},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(135),d=a(62),p=a(63),m=a(77),g=a(156);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var h=function VariablesTypeCell(t){var r=t.defaultValueField,a=t.isDisabled,i=t.isLastVariable,c=t.onChange,l=t.readOnly,p=t.showLabel,h=t.testSection,y=t.typeField,v=_slicedToArray(Object(d.useFeature)("feature_variable_json"),1)[0];return o.a.createElement("div",null,p&&o.a.createElement("h6",{className:"muted push-half--bottom"},"Variable Type"),l?o.a.createElement("span",{"data-test-section":"variables-type-cell-read-only"},m.default.FEATURE_VARIABLE_TYPE_HUMAN_READABLES[y.getValue()]):o.a.createElement(u.a,{placement:i?"top-start":"bottom-start",dropdownDirection:i?"up":"right",width:v?165:"100%",onChange:function handleOnSelect(t){t!==y.getValue()&&r.setValue(g.a.getDefaultValueForType(t)),y.setValue(t),c(t)},isDisabled:a,initialPlaceholder:"Select Variable Type",testSection:"".concat(h,"-dropdown"),value:y.getValue(),items:m.default.FEATURE_VARIABLE_TEXTS.filter((function(t){return!!v||t.value!==m.default.FEATURE_VARIABLE_TYPES.json}))}))};h.defaultProps={isDisabled:!1,isLastVariable:!1,onChange:function onChange(){},readOnly:!1,showLabel:!1,testSection:"variables-type-cell"},h.propTypes={defaultValueField:p.b.isRequired,isDisabled:l.a.bool,isLastVariable:l.a.bool,onChange:l.a.func,readOnly:l.a.bool,showLabel:l.a.bool,testSection:l.a.string,typeField:p.b.isRequired},r.a=h},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(848),d=a(63),p=a(368),m=a(156),g=a(77),h=a(24),y=a(954),v=function VariablesValueCell(t){var r=t.featureId,a=t.isDisabled,c=t.isOpen,l=t.projectId,d=t.readOnly,v=t.showLabel,_=t.testSection,E=t.typeField,b=t.valueField;Object(i.useEffect)((function(){b.validators({isDefaultValueValid:function isDefaultValueValid(t){if(!m.a.isVariableValueInputValid(void 0===t?"":t,E.getValue()))return g.default.FEATURE_VARIABLE_ERRORS[E.getValue()].valueError}})}),[]);var T=function VariableValue(){return d?E.getValue()===g.default.FEATURE_VARIABLE_TYPES.json?o.a.createElement(p.a,{ariaLabel:"Link To Variable Keys & Types Page",href:h.default.featureManagerVariables(l,r),isDisabled:a,testSection:"".concat(_,"-view-link")},"View"):o.a.createElement("span",{className:"word-break--word","data-test-section":"".concat(_,"-read-only")},b.getValue()):o.a.createElement(y.a,{disableVariable:a,field:b,type:E.getValue(),testSectionPrefix:_})};return o.a.createElement("div",null,function renderVariableValue(){return E.getValue()===g.default.FEATURE_VARIABLE_TYPES.json?o.a.createElement(o.a.Fragment,null,v?o.a.createElement(u.a,{headerStyle:"header",indented:!1,isOpen:c,title:o.a.createElement("h6",{className:"muted"},"Default Value")},T()):T()):o.a.createElement(o.a.Fragment,null,v&&o.a.createElement("h6",{className:"muted push-half--bottom"},"Default Value"),T())}(),b.getErrors().hasError&&o.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"".concat(_,"-error")},b.getErrors().message))};v.defaultProps={isDisabled:!1,isOpen:!0,readOnly:!1,showLabel:!1,testSection:"variables-value-cell"},v.propTypes={featureId:l.a.number,isDisabled:l.a.bool,isOpen:l.a.bool,projectId:l.a.number,readOnly:l.a.bool,showLabel:l.a.bool,testSection:l.a.string,typeField:d.b.isRequired,valueField:d.b.isRequired},r.a=v},function(t,r,a){"use strict";var i,o,c,l,u=a(12),d=a.n(u),p=a(4),m=a.n(p),g=a(1),h=a.n(g),y=a(0),v=a.n(y),_=a(9),E=a.n(_),b=a(674),T=a.n(b),S=a(71),C=a(134),I=a(206),A=a(32),O=a(26),P=a(188),R=a(40),w=a(87),N=a(2),L=a(3),x=a(149),D=a.n(x),k=a(5),j=a(28),M=a(417),U=a(43),V=a(14),B=a(50),G=a(83),H=a(136),z=a(20),W=a(157),q=a(588),Y=a(215),K=a(279),J=a(7),X=a(56),$=a(34),Q=a(49),Z=a(38),ee=a(504),te=(a(3608),a(663)),ne=a(54),re=a(556),ae=a(2125),ie=a(2656),oe=a(726),se=a(366);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ce=function getFullMetricDescription(t){if(!t)return"";var r=t.get("metric"),a=t.get("description");if(W.b.isMetricOverallRevenue(r))return a;var i=t.get("eventName",r.get("eventName"));return tr("{0} for {1} event",a,i)},le=v.a.createElement("div",{className:"draggable-token--warning lego-media soft-double--ends","data-test-section":"multiarmed-bandit-warning"},v.a.createElement(C.a,{type:"brand"},"You can add multiple metrics, but multi-armed bandit optimizations only use the primary metric to determine traffic allocation. You can't change or remove the primary metric after the optimization has started.")),ue=function(t){_inherits(TokenTemplate,t);var r=_createSuper(TokenTemplate);function TokenTemplate(){return _classCallCheck(this,TokenTemplate),r.apply(this,arguments)}return _createClass(TokenTemplate,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(t){return!this.props.anySelected||!t.anySelected}},{key:"render",value:function render(){var t=this.props,r=t.anySelected,a=t.commonProps,i=t.dragHandle,o=t.item,c=t.itemSelected,l=o.alias,u=o.canEditPrimaryMetric,d=o.currentlyEditingMetricWrapper,p=o.disableEdit,m=o.editMetricFn,g=o.index,h=o.layer,y=o.metricWrapper,_=o.pushMetricBottomFn,b=o.pushMetricTopFn,T=o.removeMetricFn,S=o.workingMetricWrappers,C=a.onCancel,P=a.onCommit,R=a.onEditMetric,w=a.onUpdate,N=a.isCustomProject,L=g||!h.get("earliest")||u,x=g===se.b.METRIC_LIMIT&&!c&&!G.default.isMultiArmedBandit(h),D=0===g&&G.default.isMultiArmedBandit(h)&&S.size>1&&!c,k=v.a.createElement(I.a,{description:ce(y),isDismissible:!0,isDraggable:!0,name:y.get("name"),onDismiss:T,order:g+1,style:g?"secondary":"primary",testSection:"metric-token"});return L?v.a.createElement("div",{className:E()({"border--top":!r}),"data-test-section":"layer-metric-row","data-event-api-name":y.get("eventApiName"),"data-event-id":y.getIn(["metric","event_id"])},(!d||d&&d.get("alias")!==l)&&v.a.createElement("div",{className:"flex flex-align--center"},v.a.createElement("div",{className:"push--ends"},i(k)),v.a.createElement("div",{className:"push-double--left flex--1"}),!g&&v.a.createElement("div",{className:"push-double--left push--right muted"},"Primary Metric"),v.a.createElement(A.a,{arrowIcon:"down",buttonContent:"Actions",size:"small",style:"plain",placement:"bottom-end",testSection:"actions-dropdown"},v.a.createElement(A.a.Contents,null,!p&&v.a.createElement(A.a.ListItem,{hideOnClick:!0},v.a.createElement(A.a.BlockLink,{onClick:function editClickFn(){m(),R()},testSection:"edit-metric-button"},v.a.createElement(A.a.BlockLinkText,{text:"Edit"}))),v.a.createElement(A.a.ListItem,{hideOnClick:!0},v.a.createElement(A.a.BlockLink,{onClick:b,testSection:"push-metric-top-button"},v.a.createElement(A.a.BlockLinkText,{text:"Move to top"}))),v.a.createElement(A.a.ListItem,{hideOnClick:!0},v.a.createElement(A.a.BlockLink,{onClick:_,testSection:"push-metric-bottom-button"},v.a.createElement(A.a.BlockLinkText,{text:"Move to bottom"})))))),d&&d.get("alias")===l&&v.a.createElement("div",{className:"push--ends"},v.a.createElement(ae.a,{dragHandle:i,indexValue:g+1,isCustomProject:N,layer:h,metricWrapper:y,onCancel:C,onConfirm:P,onUpdate:w})),x&&v.a.createElement("div",{className:"draggable-token--warning lego-media"},v.a.createElement(O.a,{className:"lego-icon color--brand lego-media__img",name:"circle-exclamation",size:"small"}),v.a.createElement("div",{className:"lego-media__body"},v.a.createElement("p",null,"It will take longer to see any movement for lower ranked metrics. This helps reach statistical significance sooner for the events you care most about. We recommend ordering events by priority."))),D&&le):null}}]),TokenTemplate}(v.a.Component);ue.propTypes={anySelected:h.a.number,commonProps:h.a.instanceOf(Object),dragHandle:h.a.func,item:h.a.instanceOf(Object),itemSelected:h.a.number};var de=(i=Object(j.a)((function(t){return{accountPermissions:U.getters.accountPermissions,clickEvents:se.c.allPageClickEvents,currentProjectOnly:se.c.shouldUseCurrentProject,customEvents:se.c.customEventsGetterV2,isFullStackProject:V.getters.isFullStackProject,layerExperiments:H.default.experimentsByLayerId(t.layer.get("id")),metricTemplates:q.b.activeMetrics,pageEvents:se.c.allPageViewEvents,project:V.getters.project,canUseCrossProjectMetrics:Q.getters.canUseCrossProjectMetrics,views:$.getters.entityCache,workingMetricWrappers:Y.c.workingMetricWrappers}})),o=Object(w.b)("metrics_usability"),Object(S.withTrack)(c=i(c=o(((l=function(t){_inherits(MetricsPicker,t);var r=_createSuper(MetricsPicker);function MetricsPicker(t){var a;_classCallCheck(this,MetricsPicker),(a=r.call(this,t)).state={areAccountEventsLoading:!1,areAccountMetricsLoading:!1,currentlyEditingMetricWrapper:null,errorMessage:null,shouldShowAccountMetrics:!1},a.shouldComponentUpdate=Object(M.a)(["track"]),a.fullStackCrossProjectMetricsLink=V.actions.getHelpCopy("cross_project_metrics_link"),a.addMetric=function(t){var r,i,o=a.props,c=o.layer,l=o.onEditMetric,u=o.workingMetricWrappers,d=W.a.layerBasedScopeOptions[c.get("policy")][0].value,p=Object(N.toImmutable)({aggregator:W.a.aggregator.UNIQUE,display_title:t.get("display_title")?t.get("display_title"):null,display_unit:null,event_id:t.get("id"),event_type:t.get("type"),field:null,name:t.get("name"),scope:d,winning_direction:W.a.winning_direction.INCREASING}),m=Object(N.toImmutable)({aggregator:W.a.aggregator.SUM,display_title:null,display_unit:null,event_id:null,event_type:null,field:W.a.field.REVENUE,scope:d,winning_direction:W.a.winning_direction.INCREASING}),g=W.a.layerBasedScopeOptions[c.get("policy")];switch(t.get("id")){case"revenue":r=m,i=W.b.getAggregatorOptions(m),g=g.concat(W.a.revenueScopeOptions);break;default:r=p,i=W.b.getAggregatorOptions(p)}var h=Object(N.toImmutable)({metric:r,aggregatorOptions:i,scopeOptions:g,alias:W.a.WORKING_METRIC_ALIAS,description:"",name:""});a.setState({currentlyEditingMetricWrapper:h}),Y.a.updateWorkingMetricWrappers(u.push(h)),l()},a.selectMetric=function(t){var r=a.props,i=r.layer,o=r.onEditMetric,c=r.workingMetricWrappers,l=W.b.getMetricEventName(t,L.default.evaluate(B.getters.entityCache),L.default.evaluate($.getters.entityCache)),u=Object(N.toImmutable)({aggregator:t.get("aggregator"),display_title:t.get("name"),display_unit:t.get("display_unit"),event_id:t.get("event_id"),event_type:t.get("event_type"),field:t.get("field"),name:l,scope:t.get("scope"),winning_direction:t.get("winning_direction")}),d=W.b.getAggregatorOptions(u),p=W.b.getScopeOptions(t.get("aggregator"),i.get("policy")),m=Object(N.toImmutable)({metric:u,aggregatorOptions:d,scopeOptions:p,alias:W.a.WORKING_METRIC_ALIAS,description:t.get("name"),name:t.get("name")});a.setState({currentlyEditingMetricWrapper:m}),Y.a.updateWorkingMetricWrappers(c.push(m)),o()},a.handleCreateMetric=function(t){var r=a.props.workingMetricWrappers,i=Object(N.toImmutable)({metric:_extends({},t,{display_title:t.name}),alias:W.a.WORKING_METRIC_ALIAS,description:t.description,name:t.name});Y.a.updateWorkingMetricWrappers(r.push(i))},a.canEditPrimaryMetric=function(){var t=a.props.layer;return!t||(!t.get("metrics")||!t.get("metrics").size||(!t.get("earliest")||!a.isMultiArmedBanditExperiment&&!a.isStatsAcceleratorExperiment))},a.convertEventListToItems=function(t,r,i){var o=a.props,c=o.currentProjectOnly,l=o.views;return Object(N.toImmutable)({items:t.map((function(t){var r;return t.get("view_id")&&(r=t.get("view_id")),t.get("event_type")===W.a.event_type.PAGEVIEW&&(r=t.get("id")),Object(N.toImmutable)({category:r?l.getIn([r,"edit_url"]):null,description:c?null:t.get("project_name",""),id:t.get("id",null),item_type:"existing_event",name:t.get("name",""),type:t.get("event_type","")})})).toList(),key:r.toLowerCase().replace(" ","_"),label:r,isSubcategory:i})},a.disableEdit=function(){var t=a.props.workingMetricWrappers,r=a.state.currentlyEditingMetricWrapper;if(!r)return!1;if(r.get("alias")===W.a.WORKING_METRIC_ALIAS)return!0;var i=t.find((function(t){return t.get("alias")===r.get("alias")}));return i&&!N.default.is(i,r)},a.editMetric=function(t){a.setState({currentlyEditingMetricWrapper:t})},a.pushMetricTop=function(t){var r=a.props.workingMetricWrappers;se.a.pushMetricWrapperToTop(t,r,a.canEditPrimaryMetric())},a.pushMetricBottom=function(t){var r=a.props.workingMetricWrappers;se.a.pushMetricWrapperToBottom(t,r)},a.showCrossProjectMetrics=function(){var t=a.props,r=t.canUseCrossProjectMetrics,i=t.project,o=X.default.isMobileOrOTTProject(i);return r&&!o},a.renderAllProjectsHelp=function(){return v.a.createElement(P.a,{behavior:"hover",popoverTitle:"Cross Project Events"},v.a.createElement("p",null,'Choosing "all projects" will show events across all projects you have access to. Note: Page trimming will not consider cross-project events when evaluating pages, potentially causing issues with event tracking. Visit your snippet settings to check if page trimming is enabled.'))},a.generateLists=function(){var t,r=a.props,i=r.clickEvents,o=r.currentProjectOnly,c=r.customEvents,l=r.pageEvents,u=r.project,d=Object(N.toImmutable)({items:[{description:"",id:"revenue",item_type:"global_metric",name:"Overall Revenue",type:null}],key:"global_metrics"});d=d.set("label",v.a.createElement("div",null,v.a.createElement("div",{className:"zeta"},"Global Metrics"),v.a.createElement("div",{className:"micro weight--normal muted"},"These metrics are tracked across all your events.")));var p=[],m=a.convertEventListToItems(c,"Custom Events",!X.default.isCustomProject(u)),g=Object(N.toImmutable)({description:null,id:"create-event",isBold:!0,item_type:"create_event",name:"Create New Event...",skipFilter:!0,type:null});return X.default.isCustomProject(u)?t=(t=Object(N.toImmutable)(m)).set("items",t.get("items").unshift(g)):(p.push(g),p.push(m),p.push(a.convertEventListToItems(i,"Click Events",!X.default.isCustomProject(u))),p.push(a.convertEventListToItems(l,"Page Events",!X.default.isCustomProject(u))),t=Object(N.toImmutable)({items:p,key:"event_metrics"})),t=t.set("label",v.a.createElement("div",{className:"flex flex-row"},v.a.createElement("div",{className:"flex--1"},v.a.createElement("div",{className:"zeta"},"Events"),v.a.createElement("div",{className:"micro weight--normal muted"},"To create an event specific metric, pick an event from the list.")),a.showCrossProjectMetrics()&&v.a.createElement("div",{className:"flex flex-align--end","data-test-section":"cross-project-metrics-toggle"},o&&v.a.createElement("span",null,"Current project only"),!o&&v.a.createElement("a",{"data-test-section":"single-project-toggle",onClick:a.selectCurrentProject},"Current project only"),v.a.createElement("span",{className:"push-half--sides"},"|"),!o&&v.a.createElement("span",null,"All projects",a.renderAllProjectsHelp()),o&&v.a.createElement(v.a.Fragment,null,v.a.createElement("a",{"data-test-section":"all-projects-toggle",onClick:a.selectAllProjects(!0)},"All projects"),a.renderAllProjectsHelp())))),Object(N.toImmutable)([t,d])},a.handleListItemClick=function(t,r){var i=a.props.createEvent;if(!a.state.currentlyEditingMetricWrapper){switch(r.get("item_type")){case"create_event":i(null,(function onSave(t){return t.edit_url?d.a.Deferred().resolve():B.actions.save(t)}));break;case"existing_event":case"global_metric":a.addMetric(r);break;default:throw new Error("Unknown item_type")}}},a.handleCreateEvent=function(){k.default.showReactDialog(re.a,{props:{onSave:function onSave(t){return t.edit_url?d.a.Deferred().resolve():B.actions.save(t)}}},{fullScreen:!0,dismissOnBack:!0})},a.removeMetric=function(t){var r=function innerRemoveEvent(t){var r=a.props.workingMetricWrappers,i=a.state.currentlyEditingMetricWrapper,o=r.filterNot((function(r){return r.get("alias")===t.get("alias")}));Y.a.updateWorkingMetricWrappers(o),i&&t.get("alias")===i.get("alias")&&a.setState({currentlyEditingMetricWrapper:null})},i=t.getIn(["metric","event_id"]);if(i){var o=L.default.evaluate(B.getters.byId(i))||L.default.evaluate($.getters.byId(i));o&&o.get("archived")?k.default.confirm({title:tr("Remove metric with archived event?"),message:tr("Only active events can be added as metrics to campaigns. You will not be able to add this metric back to the campaign until the event is active."),confirmText:tr("Remove Archived Metric"),isWarning:!0}).then((function(){r(t)})):o&&o.get("variation_specific")?k.default.confirm({title:tr("Remove metric with campaign specific event?"),message:tr("Only metrics with project level events can be added to campaigns in the metric picker. You will need to re-create this metric in the variation editor to add it back to the campaign."),confirmText:tr("Remove Campaign Metric"),isWarning:!0}).then((function(){r(t)})):r(t)}else r(t)},a.saveMetric=function(t){var r=a.props,i=r.layer,o=r.onEditMetricFinish,c=r.workingMetricWrappers.map((function(r){return r.get("alias")===t.get("alias")?(t.get("alias")===W.a.WORKING_METRIC_ALIAS&&(t=t.set("alias",D()())),t):r})),l=(c=W.b.createMetricWrappers(c.map((function(t){return t.get("metric")})),i,L.default.evaluate($.getters.entityCache),L.default.evaluate(B.getters.entityCache))).map((function(t){return t.get("alias")}));l.size!==l.toSet().size?a.setState({errorMessage:"Metrics must be unique."}):(a.setState({currentlyEditingMetricWrapper:null,errorMessage:null}),Y.a.updateWorkingMetricWrappers(c),o())},a.selectCurrentProjectHandler=function(t){t===oe.b?a.setState({shouldShowAccountMetrics:!1}):t===oe.a&&a.selectCurrentProject()},a.selectCurrentProject=function(){se.a.setUseCurrentProject(!0)},a.selectAllProjectsHandler=function(t){t===oe.b?a.setState({shouldShowAccountMetrics:!0}):t===oe.a&&a.selectAllProjects(!1)},a.selectAllProjects=function(t){return function(){a.setState({areAccountEventsLoading:!0}),t&&k.default.loadingStart("metrics-picker-react");var r=Promise.all([K.default.fetchAll({project_status:J.default.project_status.ACTIVE}),Z.actions.fetchAllCrossProjectMetrics()]).then((function(){a.setState({areAccountEventsLoading:!1}),t&&k.default.loadingStop("metrics-picker-react")}));se.a.setUseCurrentProject(!1),k.default.loadingWhen("metrics-picker-react",r)}},a.unsetCurrentlyEditingMetric=function(){var t=a.props,r=t.onEditMetricFinish,i=t.workingMetricWrappers,o=a.state.currentlyEditingMetricWrapper;if(o&&o.get("alias")===W.a.WORKING_METRIC_ALIAS){var c=i.filter((function(t){return t.get("alias")!==W.a.WORKING_METRIC_ALIAS}));Y.a.updateWorkingMetricWrappers(c)}a.setState({currentlyEditingMetricWrapper:null,errorMessage:null}),r()},a.updateCurrentlyEditingMetricWrapper=function(t){a.setState({currentlyEditingMetricWrapper:t})},a.updateWorkingMetricWrappers=function(t,r,i,o){var c=a.props,l=c.track,u=c.workingMetricWrappers,d=Object(N.toImmutable)(m.a.map(t,(function(t){return t.metricWrapper})));a.canEditPrimaryMetric()||(d=d.unshift(u.first())),Y.a.updateWorkingMetricWrappers(d),l("Metrics Reordered",{endingPosition:o+1,startingPosition:i+1})};var i=t.isFullStackProject,o=t.layerExperiments,c=t.metricWrappers;return z.fns.filterLayerExperimentsByStatus(o,z.enums.statusFilter.ACTIVE).map((function(t){a.isStatsAcceleratorExperiment=z.fns.isStatsAcceleratorExperiment(t)||a.isStatsAcceleratorExperiment||!1,a.isMultiArmedBanditExperiment=z.fns.isMultiArmedBandit(t)||a.isMultiArmedBanditExperiment||!1})),Y.a.updateWorkingMetricWrappers(c),i||(a.setState({areAccountMetricsLoading:!0}),q.a.fetchAllForAccount().always((function(){a.setState({areAccountMetricsLoading:!1})}))),a}return _createClass(MetricsPicker,[{key:"componentDidMount",value:function componentDidMount(){(0,this.props.track)("Metrics Manager Opened")}},{key:"componentWillUnmount",value:function componentWillUnmount(){Y.a.resetWorkingMetricWrappers(),se.a.reset()}},{key:"render",value:function render(){var t=this,r=this.props,a=r.accountPermissions,i=r.clickEvents,o=r.containerFn,c=r.currentProjectOnly,l=r.customEvents,u=r.isFullStackProject,d=r.layer,p=r.onEditMetric,m=r.metricTemplates,g=r.pageEvents,h=r.project,y=r.workingMetricWrappers,_=this.state,E=_.currentlyEditingMetricWrapper,b=_.errorMessage,S=_.areAccountEventsLoading,O=_.areAccountMetricsLoading,P=_.shouldShowAccountMetrics,w=y.map((function(r,a){return{alias:r.get("alias"),canEditPrimaryMetric:t.canEditPrimaryMetric(),currentlyEditingMetricWrapper:E,disableEdit:t.disableEdit(),editMetricFn:function editMetricFn(){if(!t.metrics_usability)return t.editMetric(r);ee.a.showEditMetricDialog({metric:ee.c.transformMetricWrapperToMetricTemplate(r),onClose:t.unsetCurrentlyEditingMetric,onSave:function onSave(a,i){var o=i.event;return t.saveMetric(ee.c.transformMetricTemplateToMetricWrapper(a,r,o))},config:{mode:"edit",isLayerMetric:!0}})},index:a,indexId:r.get("indexId"),layer:d,metricWrapper:r,pushMetricBottomFn:function pushMetricBottomFn(){t.pushMetricBottom(r)},pushMetricTopFn:function pushMetricTopFn(){t.pushMetricTop(r)},removeMetricFn:function removeMetricFn(){t.removeMetric(r)},workingMetricWrappers:y}}));this.canEditPrimaryMetric()||(w=w.delete(0));var N=P?m.toList():V.fns.filterByProjectId(m,h.get("id")),L={onCancel:this.unsetCurrentlyEditingMetric,onCommit:this.saveMetric,onEditMetric:p,onUpdate:this.updateCurrentlyEditingMetricWrapper,isCustomProject:X.default.isCustomProject(h)};return v.a.createElement("div",{className:"position--relative"},Q.fns.canUseOutlierFiltering(a,d)&&v.a.createElement("div",{className:"push-double--bottom flex flex--row flex-align--center"},Q.fns.canUseOutlierFiltering(a,d)&&v.a.createElement("div",{className:"flex"},v.a.createElement(ie.a,{layer:d}))),v.a.createElement("div",null,!this.canEditPrimaryMetric()&&v.a.createElement("div",{"data-test-section":"read-only-metric-token"},v.a.createElement("div",{className:"flex flex-align--center"},v.a.createElement("div",{className:"push--ends"},v.a.createElement(I.a,{description:ce(y.first()),isDismissible:!1,isDraggable:!1,name:y&&y.size&&y.first().get("name")||"",order:1,style:"primary",testSection:"metric-token"})),v.a.createElement("div",{className:"push-double--left flex--1"}),v.a.createElement("div",{className:"push-double--left push--right muted"},"Primary Metric"),v.a.createElement(A.a,{isDisabled:!0,arrowIcon:"down",buttonContent:"Actions",size:"small",style:"plain",placement:"bottom-end",testSection:"actions-dropdown"})),v.a.createElement("div",null,this.isStatsAcceleratorExperiment&&v.a.createElement("div",{className:"draggable-token--warning lego-media soft-double--ends","data-test-section":"stats-accelerator-enabled-warning"},v.a.createElement(C.a,{type:"brand"},"You can’t change or remove the primary metric after the experiment has started because Stats Accelerator is enabled.")),y.size&&y.size>1&&G.default.isMultiArmedBandit(d)&&le)),!u&&this.metrics_usability&&v.a.createElement(oe.c,{clickEvents:i.toList(),customEvents:l.toList(),areEventsLoading:S,areMetricsLoading:O,metrics:N,onCreateEvent:this.handleCreateEvent,onCreateMetric:this.handleCreateMetric,onSelectEvent:this.addMetric,onSelectMetric:this.selectMetric,onSelectCurrentProject:this.selectCurrentProjectHandler,onSelectAllProjects:this.selectAllProjectsHandler,pageEvents:g.toList()}),v.a.createElement(T.a,{commonProps:L,container:o,list:w.toJS(),itemKey:"alias",onMoveEnd:this.updateWorkingMetricWrappers,padding:0,template:ue,unsetZIndex:!0}),b&&v.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news push--bottom","data-test-section":"metric-manager-error-message"},b),v.a.createElement(ne.default,{loadingId:"metrics-picker-react"},u&&!c&&v.a.createElement("div",{className:"push--ends"},v.a.createElement(C.a,{alignment:"center",type:"brand",testSection:"cross-project-event-sdk-compatibility-warning"},"Using cross-project Metrics requires Optimizely SDK version 3.0 or greater.",this.fullStackCrossProjectMetricsLink&&v.a.createElement("span",{className:"push-half--left"},v.a.createElement(R.a,{newWindow:!0,href:this.fullStackCrossProjectMetricsLink},"Learn More"),"."))),(u||!this.metrics_usability)&&v.a.createElement(te.a,{inputPlaceholder:"Browse for Metrics",isDisabled:!!E,lists:this.generateLists(),itemOnClick:this.handleListItemClick,testSection:"metric-picker-metric-options"}))))}}]),MetricsPicker}(v.a.Component)).displayName="MetricsPicker",l.propTypes={accountPermissions:h.a.instanceOf(N.default.List).isRequired,canUseCrossProjectMetrics:h.a.bool.isRequired,clickEvents:h.a.instanceOf(N.default.OrderedMap).isRequired,containerFn:h.a.func,createEvent:h.a.func,currentProjectOnly:h.a.bool,customEvents:h.a.instanceOf(N.default.List).isRequired,layer:h.a.instanceOf(N.default.Map).isRequired,metricTemplates:h.a.instanceOf(N.default.List).isRequired,metricWrappers:h.a.instanceOf(N.default.List).isRequired,onEditMetric:h.a.func,onEditMetricFinish:h.a.func,pageEvents:h.a.instanceOf(N.default.OrderedMap).isRequired,project:h.a.instanceOf(N.default.Map).isRequired,track:h.a.func,views:h.a.instanceOf(N.default.Map).isRequired,workingMetricWrappers:h.a.instanceOf(N.default.List).isRequired},l.defaultProps={containerFn:function containerFn(){var t=d()(".dialog");return t.length?t[0]:document.body},createEvent:function createEvent(t,r){k.default.showReactDialog(re.a,{props:{onSave:r,clickEventsDisabled:!0}},{fullScreen:!0,dismissOnBack:!0})},currentProjectOnly:!0,onEditMetric:function onEditMetric(){},onEditMetricFinish:function onEditMetricFinish(){},track:function track(){}},c=l))||c)||c)||c);se.b;r.a=de},,function(t,r,a){"use strict";a.r(r),a.d(r,"AdaptiveAudienceHelpTexts",(function(){return i})),a.d(r,"AdaptiveAudienceReferenceLinks",(function(){return o})),a.d(r,"Subjects",(function(){return c}));var i={CONDITIONS:tr("Learn more about adaptive audience conditions."),INTEREST_TAGS:tr("Learn how to add interest tags."),PROCESSING:tr("contains an adaptive audience condition that may still be processing. "),TITLE:tr("Adaptive Audience Condition")},o={CONDITIONS:"https://help.optimizely.com/Target_Your_Visitors/Build_interest-based_audiences_with_adaptive_audiences"},c={EXPERIENCE:tr("experience"),EXPERIMENT:tr("experiment"),MVT_SECTION:tr("section"),P13N:tr("campaign has an experience that")};r.default={AdaptiveAudienceHelpTexts:i,AdaptiveAudienceReferenceLinks:o,Subjects:c}},,function(t,r,a){var i=a(1),o=a(0),c=function EmptyResults(t){return o.createElement("div",{className:"soft-quad--sides"},"No ",t.entityPlural," match your filter. Try ",o.createElement("a",{onClick:t.resetFilters,"data-test-section":t.testSection},"resetting your filters"),".")};c.propTypes={resetFilters:i.func.isRequired,entityPlural:i.string.isRequired,testSection:i.string},t.exports=c},function(t,r,a){"use strict";var i=a(31),o=a(22),c=Object(i.getFeatureVariableString)("flags_migration","attention_text")||"Full stack is changing. Learn more and begin migrating your project";r.a={isFlagsMigrationEnabled:function isFlagsMigrationEnabled(t){var r=Object(i.isFeatureEnabled)("flags_migration"),a=t.currentProject,c=t.isWebProject,l=t.isFlagsProject,u=t.isFullStackProject,d=t.isFullStack;return!l&&!c&&((u||d)&&r&&Object(o.canMigrateToFlags)(a))},attentionText:c,attentionLink:function attentionLink(t){return"/v2/projects/".concat(t,"/settings/migration")}}},,,,,,,,,,,,,,,,,,,,,,function(t,r,a){"use strict";a.r(r);var i=a(1216);a.d(r,"actions",(function(){return i.a}));var o=a(293);a.d(r,"actionTypes",(function(){return o.a}));var c=a(805);a.d(r,"fns",(function(){return c.a}));var l=a(429);a.d(r,"getters",(function(){return l.a})),r.default={actions:i.a,actionTypes:o.a,fns:c.a,getters:l.a}},function(t,r,a){var i=a(17);r.snippetStatuses=i({NOT_STARTED:null,RUNNING:null,PAUSED:null,CAMPAIGN_PAUSED:null})},,,,,,,,,,,,,,,,,,function(t,r){t.exports={DEFAULT_INITIAL_COLOR:"rgb(0, 0, 0, 1)",EVENTS:{COLOR_UPDATED:"colorUpdated",SET_COLOR:"setColor"},REPLACER_CLASS_NAME:"optly-color-picker__trigger picker-dimension-override",SPECTRUM_EVENTS:{PROPERTIES_CHANGED:"spectrum:propertiesChanged",UPDATE:"spectrum:update"}}},function(t,r,a){"use strict";var i,o,c=a(2),l=a(1),u=a.n(l),d=a(0),p=a.n(d),m=a(28),g=a(14),h=a(307),y=a(2564),v=a(2565),_=a(2566);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=Object(m.a)({environments:h.c.entityCache,environmentsAuthorizedAndSupported:g.getters.environmentsAuthorizedAndSupported,environmentStatusesByExperimentId:h.c.environmentStatusesByExperimentId})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ExperimentStatus,t);var r=_createSuper(ExperimentStatus);function ExperimentStatus(){return _classCallCheck(this,ExperimentStatus),r.apply(this,arguments)}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ExperimentStatus,[{key:"render",value:function render(){var t=this;if(this.props.environmentsAuthorizedAndSupported&&this.props.environmentStatusesByExperimentId){var r=this.props.environmentStatusesByExperimentId.get(this.props.experiment.get("id"));if(r&&r.size)return p.a.createElement(y.a,{experiment:this.props.experiment,experimentEnvironmentsInfo:r})}var a=(this.props.experiment.get("environments")||c.default.Map()).find((function(r){return t.props.environments.getIn([r.get("environment_id"),"is_primary"])}));return a?p.a.createElement(_.a,{status:a.get("status"),isLaunched:this.props.experiment.get("is_launched")}):p.a.createElement(v.a,{status:this.props.experiment.get("actual_status"),isLaunched:this.props.experiment.get("is_launched")})}}]),ExperimentStatus}(p.a.Component)).propTypes={environments:u.a.instanceOf(c.default.Map).isRequired,environmentsAuthorizedAndSupported:u.a.bool.isRequired,environmentStatusesByExperimentId:u.a.instanceOf(c.default.Map).isRequired,experiment:u.a.instanceOf(c.default.Map).isRequired},i=o))||i;r.a=E},,function(t,r,a){"use strict";var i=a(33),o={id:i.a.NUMBER,project_id:i.a.NUMBER,created:i.a.DATE,experiment_id:i.a.NUMBER,experiment_scope:i.a.STRING,group_id:i.a.NUMBER,live_variable_id:i.a.NUMBER,usage_instances:i.a.ARRAY,last_modified:i.a.DATE};r.a={entity:"live_variable_usages",parent:{entity:"projects",key:"project_id"},fieldTypes:o}},,function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(2),m=a(154),g=a(19),h=a(107),y=a(52),v=a(218),_=a(5),E=a(3),b=a(28),T=a(14),S=a(49),C=a(24),I=(a(402),a(43)),A=a(20),O=a(54),P=a(173),R=a(2718);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=Object(b.a)({currentProjectId:T.getters.id})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ConfigureGroup,t);var r=_createSuper(ConfigureGroup);function ConfigureGroup(){var t;_classCallCheck(this,ConfigureGroup);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={removedExclusionExperiment:p.default.Map({}),isLoadingOrSaving:!0},t.setIsLoadingToFalse=function(){t.setState({isLoadingOrSaving:!1})},t.handleRemovedExperiment=function(r){t.setState({removedExclusionExperiment:r})},t.fetchCurrentProjectEntities=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.props.isCustomProject;return i?T.actions.fetchLayerExperimentsWithSingleAndMvtPolicies(r,a):T.actions.fetchCurrentProjectLayers(r,a)},t.handleGroupNameChange=function(r){var a=t.props.group;P.c.actions.setGroup(a.set("name",r.target.value))},t.handleGroupDescriptionChange=function(r){var a=t.props.group;P.c.actions.setGroup(a.set("description",r.target.value))},t.validate=function(){var r=t.props.group,a=!1,i=r.get("name").trim(),o=r.get("available_traffic");return i||(a=!0,_.default.showNotification({message:"Please provide a name.",type:"error"})),o<0&&(a=!0,_.default.showNotification({message:"Group Traffic Allocation cannot exceed 100%.",type:"error"})),!a},t.onSave=function(){if(t.validate()){t.setState({isLoadingOrSaving:!0});var r=t.props,a=r.currentProjectId,i=r.group,o=r.isCustomProject,c=r.onSave,l=function saveGroup(){c(i.toJS()).then((function(){t.setIsLoadingToFalse();var r=i.get("entities");if(o&&r.forEach((function(t){A.actions.save({id:t.get("id"),percentage_included:t.get("weight")})})),!o&&r.size){var c=Object(p.toJS)(r.map((function(t){return t.get("id")})));t.fetchCurrentProjectEntities({id:c},{force:!0})}var l=t.state.removedExclusionExperiment;if(_.default.hideDialog(),l.size>0){var u=C.default.campaignHome(a,l.get("id"));_.default.showPersistentNotification({message:"Traffic allocation for the experiment <b>".concat(l.get("name"),'</b> has been reset to 100%. Go to <a href="').concat(u,'" v-push-state> experiment details.</a>'),type:"warning",id:"removed-experiment-notification",safeHTML:!0})}_.default.showNotification({message:"The group <b>".concat(i.get("name"),"</b> has been saved.")})}))},u=E.default.evaluate(P.c.getters.errorFlags).get(P.c.constants.ErrorFlag.FULL_STACK_RUNNING_EXPERIMENT_UPDATE);o&&u?_.default.confirm({isWarning:!0,title:"Are you sure you want to save this exclusion group?",message:"Changing traffic allocation or group assignment for a running experiment will impact user bucketing, causing users to be bucketed in or unbucketed from this experiment. Are you sure you want to proceed with this change?",confirmText:"Save Group",cancelText:"Cancel"}).then((function(){t.validate()&&l()})).fail(t.setIsLoadingToFalse):l()}},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ConfigureGroup,[{key:"componentDidMount",value:function componentDidMount(){var t=this;this.fetchCurrentProjectEntities().done((function(){t.setIsLoadingToFalse()}))}},{key:"render",value:function render(){var t=this.props,r=t.canEditGroup,a=t.canUseABTestingV2,i=t.canUsePersonalization,o=t.isCustomProject,c=t.group,u=this.state,d=u.isLoadingOrSaving,p=(u.removedExclusionExperiment,!c.get("id")),E=P.c.fns.getGroupsExplanationText(a,i,o);return l.a.createElement(m.a,{testSection:"mutex-group-dialog",title:p?"Create Exclusion Group":"Edit Exclusion Group",hasRequiredFieldsIndicator:!0,onClose:_.default.hideDialog,footerButtonList:[l.a.createElement(g.a,{key:"btn-cancel",style:"plain",testSection:"mutex-group-dialog-cancel",onClick:_.default.hideDialog},"Cancel"),l.a.createElement(g.a,{key:"btn-save",style:"highlight",isDisabled:d||!r,testSection:"mutex-group-dialog-save",onClick:this.onSave},p?"Create Exclusion Group":"Save")]},l.a.createElement(O.default,{isLoading:d},l.a.createElement(h.b.Fieldset,null,l.a.createElement("ol",{className:"oui-form-fields"},l.a.createElement("li",{className:"oui-form-field__item"},l.a.createElement("p",null,"Experiments assigned to this exclusion group are mutually exclusive, which means that visitors to your site will only see one experiment from this exclusion group.")))),l.a.createElement(h.b.Fieldset,null,l.a.createElement("ol",{className:"oui-form-fields"},l.a.createElement("li",{className:"oui-form-field__item"},l.a.createElement(y.a,{isReadOnly:!r,label:"Exclusion Group Name",isRequired:!0,onChange:this.handleGroupNameChange,testSection:"mutex-group-dialog-name",type:"text",value:c.get("name")})),l.a.createElement("li",{className:"oui-form-field__item"},l.a.createElement(v.a,{label:"Description",isReadOnly:!r,onChange:this.handleGroupDescriptionChange,testSection:"mutex-group-dialog-description",value:c.get("description")})))),l.a.createElement(h.b.Fieldset,null,l.a.createElement("ol",{className:"oui-form-fields"},l.a.createElement("li",{className:"oui-form-field__item"},l.a.createElement("h3",null,"Experiments"),l.a.createElement("p",{"data-test-section":"group-explanation"},E)))),l.a.createElement(R.a,{canEditGroup:r,group:c,handleRemovedExperiment:this.handleRemovedExperiment,isCustomProject:o})))}}]),ConfigureGroup}(l.a.Component)).componentId="mutex-experiment-group-dialog",o.propTypes={canEditGroup:d.a.bool.isRequired,canUseABTestingV2:d.a.bool.isRequired,canUsePersonalization:d.a.bool.isRequired,group:d.a.instanceOf(p.default.Map).isRequired,isCustomProject:d.a.bool.isRequired,onSave:d.a.func.isRequired},i=o))||i,N=_.default.connectGetters(w,{group:P.c.getters.currentlyEditingGroup});r.a={show:function show(t,r){P.c.actions.setGroup(Object(p.toImmutable)(r.group)),P.c.actions.resetErrorFlags(),_.default.showReactDialog(N,{props:{onSave:t,isCustomProject:E.default.evaluate(T.getters.isCustomProject),canEditGroup:S.fns.canEditGroup(E.default.evaluate(T.getters.project)),canUseABTestingV2:S.fns.canUseABTestingV2(E.default.evaluate(I.getters.accountPermissions)),canUsePersonalization:E.default.evaluate(S.getters.canUsePersonalization)}},{fullScreen:!0,dismissOnBack:!0,isOuiDialog:!0})},ConfigureGroupDialog:N}},,,function(t,r,a){var i=a(4);t.exports={hash:function hashObject(t){if(!i.isObject(t))throw new Error("Cannot hash non-object");return String(function hash(t){var r,a,i=0;if(!t)return i;for(r=0,a=t.length;r<a;r++)i=(i<<5)-i+t.charCodeAt(r),i|=0;return i}(function stringifyObject(t){return JSON.stringify(function flatten(t){return i.isObject(t)?i.chain(t).toPairs().map((function(t){return[t[0],flatten(t[1])]})).sortBy((function(t){return t[0]})).valueOf():t}(t))}(t)))}}},,,,function(t,r,a){"use strict";a.r(r);var i=a(41),o=a(581);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a);r.default=_extends({},c)},,,function(t,r,a){"use strict";var i=a(666);a.d(r,"a",(function(){return i.a}));var o=a(585);i.a,o.a},function(t,r,a){"use strict";a.r(r),a.d(r,"retrieveChangedObject",(function(){return i})),a.d(r,"getActivityUserName",(function(){return o}));var i=function retrieveChangedObject(t,r,a){void 0===a&&(a=function appliedFunction(t){return t});var i=r.concat(["before"]),o=r.concat(["after"]),c=t.getIn(i,null),l=t.getIn(o,null);return null===c&&null===l&&(l=t.getIn(r,null)),{before:c=null!==c?a(c):null,after:l=null!==l?a(l):null}},o=function getActivityUserName(t){if(t){if(t.gae_admin_email)return tr("Optimizely Support");if(!t.gae_admin_email&&!t.email)return tr("Optimizely scheduler");if(!t.gae_admin_email&&t.email)return t.email}return null};r.default={retrieveChangedObject:i,getActivityUserName:o}},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(79),d=a(435),p=a(154),m=a(19),g=a(52),h=a(72),y=a.n(h),v=a(1),_=a.n(v),E=a(5),b=a(2),T=a(100),S=a(28),C=a(7),I=a(54),A=a(405),O=a(49),P=a(43),R=a(14),w=a(1431),N=a(761);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L=Object(S.a)({currentProjectEvents:w.a.currentProjectEvents,canCreateEvent:[R.getters.project,O.fns.canCreateUserEvent],isMobileOnly:[P.getters.accountPermissions,O.fns.isMobileOnlyAccount]})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(EventConfigDialog,t);var r=_createSuper(EventConfigDialog);function EventConfigDialog(){var t;_classCallCheck(this,EventConfigDialog);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={editingEvent:t.props.event,errors:Object(b.toImmutable)([]),isSaving:!1},t.onSave=function(r){var a=t.props.onSaveEvent(r).then((function(t){return E.default.hideDialog(),t}));return E.default.loadingWhen("save-oasis-event",a),a},t.handleEventKeyChange=function(r){var a=(r.target.value||"").trim();t.setState((function(t){return{editingEvent:t.editingEvent.set("api_name",a).set("name",a)}}))},t.handleEventDescriptionChange=function(r){var a=r.target.value;t.setState((function(t){return{editingEvent:t.editingEvent.set("description",a)}}))},t.save=function(){t.validate()&&(t.setState({isSaving:!0}),t.onSave(t.state.editingEvent.toJS()).always((function(){t.setState({isSaving:!1})})))},t.validate=function(){var r=Object(b.toImmutable)([]),a=t.state.editingEvent.get("api_name");return a||(r=r.push("Please provide a key.")),T.default.eventAPIName.test(a)||(r=r.push("Key must be no longer than 64 characters and consist of only alphanumeric characters, hyphens, underscores, spaces, and periods.")),t.isKeyNonUnique()&&(r=r.push("Key ".concat(a," is already in use by another event in this project. Please choose a unique key."))),t.setState({errors:r}),!r.size},t.isKeyNonUnique=function(){return t.props.currentProjectEvents.some((function(r){return r.get("api_name")===t.state.editingEvent.get("api_name")&&r.get("id")!==t.state.editingEvent.get("id")}))},t.getCodeBlock=function(t,r){return r?y()(N.a.CODE_BLOCKS[t],r):y()(N.a.CODE_BLOCKS[t],"")},t.renderCodeBlock=function(){var r=t.state.editingEvent.get("api_name"),a=t.props,i=a.language,o=a.isMobileOnly,c=a.syntaxHighlightingLanguage;if(!C.default.mobileAndOTTSDKs.includes(i))return l.a.createElement("li",{className:"lego-form-field__item"},l.a.createElement(A.a,{description:tr("Choose your preferred SDK to view sample code. Copy and paste the code to track the event in your application."),getCodeSample:t.renderEventCode,showMobileOnly:o,title:tr("Event Tracking Code")}));var p=t.getCodeBlock(i,r)||t.getCodeBlock(C.default.sdkLanguages.PYTHON,r);return l.a.createElement("li",{className:"lego-form-field__item"},l.a.createElement(u.a,null,"Event Tracking Code"),l.a.createElement(d.a,{isHighlighted:!0,hasCopyButton:!0,language:c,type:"block",testSection:"oasis-event-code-block"},p))},t.renderEventCode=function(r){var a=t.state.editingEvent.get("api_name"),i=t.getCodeBlock(r,a)||t.getCodeBlock(C.default.sdkLanguages.PYTHON,a);return l.a.createElement(d.a,{isHighlighted:!0,hasCopyButton:!0,language:C.default.sdkSyntaxLanguage[r]||r,type:"block",testSection:"event-code-sample"},i)},t.getFormTitle=function(){return t.props.isEditing?"Edit Event":"New Event"},t.getPrimaryButtonText=function(){return t.props.isEditing?"Save Event":"Create Event"},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(EventConfigDialog,[{key:"render",value:function render(){var t=this.props.canCreateEvent,r=this.state,a=r.editingEvent,i=r.errors,o=r.isSaving;return l.a.createElement("div",{className:"reading-column"},l.a.createElement(p.a,{title:this.getFormTitle(),onClose:E.default.hideDialog,testSection:"oasis-event-config-dialog",hasRequiredFieldsIndicator:!0,subtitle:l.a.createElement("p",null,"Custom tracking events allow you to capture and report on visitor actions or events."," ",l.a.createElement("a",{href:"https://support.optimizely.com/hc/en-us/articles/4410289407885-Metrics-in-Optimizely"},"Learn more.")),footerButtonList:[l.a.createElement(m.a,{key:"btn-cancel",style:"plain",testSection:"oasis-config-event-cancel",onClick:E.default.hideDialog},"Cancel"),l.a.createElement(m.a,{key:"btn-save",style:"highlight",testSection:"oasis-config-event-save",isDisabled:!t||o,onClick:this.save},this.getPrimaryButtonText())]},l.a.createElement(I.default,{loadingId:"save-oasis-event"},l.a.createElement("div",{"data-test-section":"oasis-event-config"},l.a.createElement("form",null,l.a.createElement("fieldset",null,l.a.createElement("ol",{className:"lego-form-fields"},l.a.createElement("li",{className:"lego-form-field__item"},l.a.createElement(g.a,{type:"text",label:"Event Key",isRequired:!0,testSection:"oasis-config-event-key",defaultValue:a.get("api_name"),onChange:this.handleEventKeyChange}),l.a.createElement("ol",{className:"lego-form-fields"},i.map((function(t,r){return l.a.createElement("li",{key:"oasis-event-config-dialog-error-".concat(r),className:"lego-form-note lego-form-note--bad-news","data-test-section":"oasis-event-config-dialog-error"},t)})))),l.a.createElement("li",{className:"lego-form-field__item"},l.a.createElement(g.a,{type:"text",label:"Description",defaultValue:a.get("description"),testSection:"oasis-config-event-description",onChange:this.handleEventDescriptionChange})),this.renderCodeBlock())))))))}}]),EventConfigDialog}(l.a.Component)).componentId="oasis-event-config",o.propTypes={onSaveEvent:_.a.func,isEditing:_.a.bool,language:_.a.string,isMobileOnly:_.a.bool,canCreateEvent:_.a.bool,currentProjectEvents:_.a.instanceOf(b.default.List),event:_.a.instanceOf(b.default.Map).isRequired,syntaxHighlightingLanguage:_.a.string},i=o))||i;r.a=L},function(t,r,a){var i=a(4),o=a(75).default,c=a(123),l=a(7),u=a(56),d=a(86),p=a(301),m=a(3385),g={optimizely_p13n:!0,optimizely_editor:!0,optimizely_include_innie:!0,optimizely_log:"debug"};r.generateBaseUrl=function(t,r){switch(r){case p.ProtocolTypes.HTTP:return c.generateHttpUrl(t);case p.ProtocolTypes.HTTPS:return c.generateHttpsUrl(t);case p.ProtocolTypes.PROXY:return c.generateProxyUrl(t);case p.PreviewProtocolTypes.PREVIEW_PROXY:return c.generatePreviewProxyUrl(t);default:return c.generateProxyUrl(t)}},r.generateLoaderUrl=function(t,a){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=null,d=r.generateBaseUrl(t,a);if(a===p.ProtocolTypes.PROXY){var m=c.urlParser.parse(t,!0);l=i.extend(o(m.query),l),u=i.clone(m.hash),m.search=null,m.query={},m.hash=null,d=r.generateBaseUrl(c.urlParser.format(m),a)}var h=c.urlParser.parse(d,!0);return h.query=i.extend(l,h.query,g),h.hash=u||h.hash,h.search=null,c.urlParser.format(h)},r.generatePreviewUrl=function(t,a,o,l){var u=c.urlParser.parse(r.generateBaseUrl(t,a),!0),d={};return d.optimizely_token=o,i.each(l,(function(t,r){switch(r){case"audienceIds":i.isArray(t)&&(t=t.join(",")),d.optimizely_x_audiences=encodeURIComponent(t);break;case"variationId":i.isArray(t)&&(t=t.join(",")),d.optimizely_x=encodeURIComponent(t);break;case"previewLayerIds":i.isArray(t)&&(t=t.join(",")),d.optimizely_preview_layer_ids=encodeURIComponent(t);break;case"previewMode":var a="optimizely_preview_mode_".concat(t.type);d[a]=t.id;break;case"projectId":d.optimizely_snippet="s3-".concat(t);break;default:throw new Error("invalid option supplied to generate preview url")}})),u.query=i.extend({},u.query,d),u.search="",c.urlParser.format(u)},r.generatePreviewUrlBasedOnShareLinkUrl=function(t){var r=c.urlParser.parse(t,!0),a=Object.assign({},r.query);return a.optimizely_preview_mode_CAMPAIGN=a.optimizely_preview_layer_ids.split(",")[0],r.search="",r.query=a,c.urlParser.format(r)},r.lintCode=function(t){var r={hasLintErrors:!1,errors:[]},a=window.JSHINT;return a?(r.hasLintErrors=!a(t,m),r.hasLintErrors&&(r.errors=a.errors)):d.getCodeLintingBundleModules(),r},r.getAllowedProtocolTypes=function(t,r,a){var o,c;if(t){var d,m=0===t.indexOf("https:"),g=0===t.indexOf("http:"),h=r===p.FrameTypes.IFRAME;if(d=m?p.ProtocolTypes.HTTPS:p.ProtocolTypes.HTTP,!h)return[d];o=m?[p.ProtocolTypes.PROXY,p.ProtocolTypes.HTTPS]:g?[p.ProtocolTypes.PROXY,p.ProtocolTypes.HTTP]:[p.ProtocolTypes.PROXY,p.ProtocolTypes.HTTP,p.ProtocolTypes.HTTPS]}else o=[p.ProtocolTypes.PROXY,p.ProtocolTypes.HTTP,p.ProtocolTypes.HTTPS];return a&&(c=u.getEditorIframeProtocolPreference(a)),c===l.EditorIframeProtocolPreferences.DIRECT_ONLY?o=i.without(o,p.ProtocolTypes.PROXY):c===l.EditorIframeProtocolPreferences.PROXY_ONLY&&(o=[p.ProtocolTypes.PROXY]),o}},,,function(t,r,a){"use strict";a.r(r),a.d(r,"canUpdateLayer",(function(){return C})),a.d(r,"__allExperiments",(function(){return I})),a.d(r,"experiments",(function(){return O})),a.d(r,"showEmptyExperimentState",(function(){return P})),a.d(r,"showEditor",(function(){return R})),a.d(r,"unarchivedExperimentsHaveUnpublishedChanges",(function(){return w})),a.d(r,"experimentPriorityDialogData",(function(){return N})),a.d(r,"savedViewIds",(function(){return L})),a.d(r,"currentProjectActiveGroups",(function(){return x})),a.d(r,"currentLayerSelectedGroupId",(function(){return D})),a.d(r,"currentLayerWithGroupIdAndPercentageIncluded",(function(){return k})),a.d(r,"orderedVariations",(function(){return j})),a.d(r,"sideBarItems",(function(){return M}));var i=a(2),o=(a(374),a(308)),c=a(90),l=a.n(c),u=a(44),d=a(66),p=a.n(d),m=a(13),g=a(29),h=a(111),y=a(22),v=a(125),_=a(24),E=a(140),b=a.n(E),T=a(495),S=u.b.enums.tableIds.P13N_CAMPAIGN_OVERVIEW_DASH,C=[m.default.project,y.default.canUpdateLayer],I=[h.default.entityCache,o.default.entityCache,p.a.liveCommit,p.a.layer,C,p.a.liveCommitTag,T.a.getExperimentCardData],A=[p.a.layer,I,h.default.entityCache,u.b.getters.stringFilter(S),u.b.getters.fieldFilter(S,"status"),function(t,r,a,i,o){return T.a.filterExperiments(r,a,i,o)}],O=[A,["sections/campaign_overview/experiment_reach"],function(t,r){return t.map((function(t){var a=r.get(t.get("id"));return a?t.set("reach",a):t}))}],P=[I,function(t){return 0===t.size}],R=[l.a.activeFrameId,function(t){return!!t}],w=[I,T.a.unarchivedExperimentsHaveUnpublishedChanges],N=[p.a.layer,p.a.liveCommit,h.default.entityCache,o.default.entityCache,T.a.getExperimentPriorityDialogData],L=[p.a.layer,function(t){return t?t.get("view_ids").toSet():i.default.Set([])}],x=[m.default.experimentationGroups,function(t){return u.b.fns.filterByArchivedStatus(t,u.b.enums.status.ACTIVE)}],D=[v.c.getters.entityToGroupMap,x,p.a.id,v.c.fns.getSelectedGroupIdForEntity],k=[D,v.c.getters.entityCache,p.a.layer,function(t,r,a){var i=v.c.constants.MAX_TRAFFIC_ALLOCATION;return t&&t!==v.c.constants.NONE_GROUP_ID&&(i=v.c.fns.getPercentageIncludedForEntity(r.get(t),a.get("id"))),a.set("percentage_included",i).set("group_id",t)}],j=[I,h.default.entityCache,function(t,r){return t.filterNot((function(t){return t.get("status")===g.default.status.ARCHIVED})).flatMap((function(t){return r.getIn([t.get("id"),"variations"])}))}],M=[m.default.id,p.a.id,function(t,r){return{experiences:{name:b.a.tabs.EXPERIENCES,url:_.default.campaignHome(t,r)},integrations:{name:b.a.tabs.INTEGRATIONS,url:_.default.campaignIntegrations(t,r)},metrics:{name:b.a.tabs.METRICS,url:_.default.campaignMetrics(t,r)},pages:{name:b.a.tabs.PAGES,url:_.default.campaignPages(t,r)},custom_code:{name:b.a.tabs.CUSTOM_CODE,url:_.default.campaignCustomCode(t,r)},api_names:{name:b.a.tabs.API_NAMES,url:_.default.campaignApiNames(t,r)},history:{name:b.a.tabs.HISTORY,url:_.default.campaignHistory(t,r)},settings:{name:b.a.tabs.SETTINGS,url:_.default.campaignSettings(t,r)}}}];r.default={__allExperiments:I,canUpdateLayer:C,filteredExperiments:A,experiments:O,showEmptyExperimentState:P,showEditor:R,unarchivedExperimentsHaveUnpublishedChanges:w,experimentPriorityDialogData:N,savedViewIds:L,currentProjectActiveGroups:x,currentLayerSelectedGroupId:D,currentLayerWithGroupIdAndPercentageIncluded:k,orderedVariations:j,sideBarItems:M}},function(t,r,a){"use strict";a.r(r),a.d(r,"sortTable",(function(){return sortTable})),a.d(r,"toggleField",(function(){return toggleField})),a.d(r,"resetTable",(function(){return resetTable}));var i=a(3),o=a(534);function sortTable(t){if(!t.tableId||!t.sortBy)throw new Error("Must supply tableId and sortBy when sorting");i.default.dispatch(o.a.SORT_TABLE,t)}function toggleField(t){if(!t.tableId||!t.field)throw new Error("Must supply tableId and field when sorting");i.default.dispatch(o.a.TOGGLE_SORT_TABLE_FIELD,t)}function resetTable(t){i.default.dispatch(o.a.RESET_TABLE_SORTING,{tableId:t})}r.default={resetTable:resetTable,sortTable:sortTable,toggleField:toggleField}},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(5),m=a(28),g=a(2),h=a(14),y=a(1441),v=a(1048);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=Object(m.a)({audiences:h.getters.xCompatibleAudiences,currentProjectId:h.getters.id,experimentCounts:h.getters.audienceExperimentCount,layers:h.getters.layers})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(AudienceExperimentUsage,t);var r=_createSuper(AudienceExperimentUsage);function AudienceExperimentUsage(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,AudienceExperimentUsage),(a=r.call(this,t)).fetchLayersForAudience=function(t){var r=a.props.currentProjectId;a.setState({experimentsUsageAvailable:!1,layerIds:[],currentAudienceId:t}),v.a.fetchLayersForAudience(r,t).then((function(t){a.setState({experimentsUsageAvailable:!0,layerIds:t})}),(function(){a.setState({experimentsUsageAvailable:!0}),p.default.showNotification({message:tr("Unable to get audience experiments"),type:"error"})}))};var i=t.selectedAudienceId;return a.state={currentAudienceId:i,experimentsUsageAvailable:!1},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(AudienceExperimentUsage,[{key:"componentDidMount",value:function componentDidMount(){var t=this.state.currentAudienceId;this.fetchLayersForAudience(t)}},{key:"render",value:function render(){var t=this.state,r=t.currentAudienceId,a=t.experimentsUsageAvailable,i=t.layerIds,o=this.props,c=o.audiences,u=o.currentProjectId,d=o.experimentCounts,p=o.layers;return l.a.createElement(y.a,{currentEntityId:r,currentProjectId:u,experimentsUsageAvailable:a,entities:v.b.covertAudiences(c,d),entityType:"audience",layers:v.b.filterLayers(p,i),onEntityChange:this.fetchLayersForAudience})}}]),AudienceExperimentUsage}(l.a.Component)).propTypes={audiences:d.a.instanceOf(g.default.List).isRequired,currentProjectId:d.a.number.isRequired,experimentCounts:d.a.instanceOf(g.default.List).isRequired,layers:d.a.instanceOf(g.default.List).isRequired,selectedAudienceId:d.a.number.isRequired},i=o))||i;r.a=_},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(135),d=a(52),p=a(218),m=a(77),g=a(63),h=function VariableValueInput(t){var r=t.field,a=t.type,i=t.disableVariable,o=t.testSectionPrefix,c=function updateValueFromInput(t){r.setValue(t.target.value)},g=r.getValue();switch(o=o?"".concat(o,"-"):"",a){case m.FEATURE_VARIABLE_TYPES.boolean:return l.a.createElement(u.a,{isDisabled:i,onChange:function updateValueFromSelect(t){r.setValue(t)},testSection:"".concat(o,"variable-value-boolean"),value:g,fullWidth:!0,minDropdownWidth:200,items:[{label:"True",value:"true"},{label:"False",value:"false"}]});case m.FEATURE_VARIABLE_TYPES.double:case m.FEATURE_VARIABLE_TYPES.integer:return l.a.createElement(d.a,{isDisabled:i,onChange:c,type:"number",testSection:a===m.FEATURE_VARIABLE_TYPES.double?"".concat(o,"variable-value-double"):"".concat(o,"variable-value-integer"),value:g});case m.FEATURE_VARIABLE_TYPES.json:return l.a.createElement(p.a,{isDisabled:i,numRows:5,onChange:c,testSection:"".concat(o,"variable-value-json"),type:"json",value:!r.isDirty()&&g?JSON.stringify(JSON.parse(g),void 0,2):g});case m.FEATURE_VARIABLE_TYPES.string:default:return l.a.createElement(p.a,{isDisabled:i,numRows:1,onChange:c,type:"text",testSection:"".concat(o,"variable-value-string"),value:g})}};h.propTypes={disableVariable:o.a.bool,field:g.b.isRequired,testSectionPrefix:o.a.string,type:o.a.oneOf([m.FEATURE_VARIABLE_TYPES.boolean,m.FEATURE_VARIABLE_TYPES.double,m.FEATURE_VARIABLE_TYPES.integer,m.FEATURE_VARIABLE_TYPES.string,m.FEATURE_VARIABLE_TYPES.json]).isRequired},h.defaultProps={disableVariable:!1,testSectionPrefix:""},r.a=h},function(t,r,a){"use strict";var i,o,c=a(2),l=a(1),u=a.n(l),d=a(0),p=a.n(d),m=a(28),g=a(5),h=a(196),y=a(475),v=a(471),_=a(14),E=a(49),b=a(168),T=a(7),S=a(701),C=a(478),I=a(268);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var A=Object(m.a)((function(t){var r=t.source,a="experiment"===t.sourceType&&r.get("platform")===T.default.project_types.FULL_STACK;return{isLoadingLinks:b.a.isLoading("jira-links"),isUserConnectedToJira:v.b.isUserConnected,linkedIssues:y.b.linksForSourceId(r.get("id"),a),canUpdateJiraLinks:[_.getters.project,E.fns.canUpdateJiraLinks]}}))(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(JiraIssuesTableCell,t);var r=_createSuper(JiraIssuesTableCell);function JiraIssuesTableCell(){var t;_classCallCheck(this,JiraIssuesTableCell);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).unlinkJiraIssue=function(r){var a=t.props,i=a.source,o=a.sourceType,c=r.getIn(["target","extra_data","issue_key"]);g.default.confirm({isWarning:!0,title:"Unlink Jira Issue",message:"Are you sure you want to unlink ".concat(c," from the ").concat(o," ").concat(i.get("api_name"),"?"),confirmText:"Unlink Jira Issue",cancelText:"Cancel"}).then((function(){y.a.delete({id:r.get("id")})}))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(JiraIssuesTableCell,[{key:"render",value:function render(){var t=this.props,r=t.isLoadingLinks,a=t.isUserConnectedToJira,i=t.linkedIssues,o=t.canUpdateJiraLinks,c=t.sourceType,l=t.source,u=t.tenantUrl;return p.a.createElement(I.a,{alternateContent:p.a.createElement("div",null,"--")},r?p.a.createElement(C.a,null):p.a.createElement(h.TrackingProvider,{properties:{sourceType:c,sourceId:l.get("id"),experimentType:null,jiraTenantUrl:u}},p.a.createElement(S.a.Issues,{issues:i,tenantUrl:u,onUnlink:o&&a?this.unlinkJiraIssue:null})))}}]),JiraIssuesTableCell}(p.a.Component)).propTypes={linkedIssues:u.a.instanceOf(c.default.List).isRequired,isLoadingLinks:u.a.bool,isUserConnectedToJira:u.a.bool.isRequired,source:u.a.instanceOf(c.default.Map).isRequired,sourceType:u.a.oneOf(["feature","experiment","campaign"]).isRequired,canUpdateJiraLinks:u.a.bool,tenantUrl:u.a.string},o.defaultProps={isLoadingLinks:!1,canUpdateJiraLinks:!1,tenantUrl:null},i=o))||i;r.a=A},function(t,r,a){"use strict";var i,o,c=a(2),l=a(1),u=a.n(l),d=a(0),p=a.n(d),m=a(28),g=a(5),h=a(24),y=a(471),v=a(14),_=a(701),E=a(268),b=a(2586);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=Object(m.a)({currentProjectId:v.getters.id,isUserConnectedToJira:y.b.isUserConnected,jiraIntegrationSettings:v.getters.jiraIntegrationSettings})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(JiraOptionsWrapper,t);var r=_createSuper(JiraOptionsWrapper);function JiraOptionsWrapper(){var t;_classCallCheck(this,JiraOptionsWrapper);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).openLinkIssuesDialog=function(){var r=t.props,a=r.source,i=r.sourceType;g.default.showReactDialog(b.a,{props:{onSave:g.default.hideDialog,onCancel:g.default.hideDialog,source:a,sourceType:i}},{fullScreen:!0,dismissOnBack:!0})},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(JiraOptionsWrapper,[{key:"render",value:function render(){var t=this.props,r=t.newWindow,a=t.currentProjectId,i=t.isUserConnectedToJira,o=t.jiraIntegrationSettings;return p.a.createElement(E.a,null,p.a.createElement(_.a.Options,{newWindow:r,isConnected:i,urlToConnectUser:y.a.getUrlToConnectUser(),linkIssues:this.openLinkIssuesDialog,hasCompletedSetup:!!o.get("resource_id"),urlToCompleteSetup:h.default.projectSettingsIntegrations(a,"jira")}))}}]),JiraOptionsWrapper}(p.a.Component)).propTypes={currentProjectId:u.a.number.isRequired,isUserConnectedToJira:u.a.bool,jiraIntegrationSettings:u.a.instanceOf(c.default.Map).isRequired,newWindow:u.a.bool,source:u.a.instanceOf(c.default.Map).isRequired,sourceType:u.a.oneOf(["feature","experiment","campaign"]).isRequired},o.defaultProps={newWindow:!1,isUserConnectedToJira:!1},i=o))||i;r.a=T},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(188);r.a=function OutlierFilteringPopover(){return o.a.createElement(c.a,{horizontalAttachment:"left",testSection:"outlier-filtering-help-popover-btn",verticalAttachment:"top"},o.a.createElement("p",{className:"weight--bold"},"Applies only to revenue metrics within the current experiment."),o.a.createElement("p",null,o.a.createElement("span",{className:"weight--bold display--block"},"What is an outlier?"),"An outlier is a value that is abnormally lower or higher than other values in your results."),o.a.createElement("p",null,o.a.createElement("span",{className:"weight--bold display--block"},"Why smooth outliers?"),"Outliers can severely skew the accuracy of any analysis conducted on a data set and can lead to potentially incorrect conclusions. Smoothing outliers generally results in more accurate conclusions. We recommend turning on this setting for your revenue metric to improve the integrity of your results."),o.a.createElement("p",null,o.a.createElement("span",{className:"weight--bold display--block"},"How does Optimizely treat outliers?"),"For revenue metrics, Optimizely gives you the option to use outlier smoothing. Optimizely's outlier smoothing algorithm first identifies any values that exceed the daily exclusion threshold, which are extreme values that are 3 standard deviations higher than the observed mean. These extreme values are designated as outliers. Next, Optimizely replaces these outliers with the metric's harmonic mean. This step in the process is known as outlier smoothing. Optimizely recalculates the daily exclusion threshold for each day using a moving average of the arithmetic mean and standard deviation of your metric over the previous seven (7) days. This process repeats for each day of the experiment."),o.a.createElement("a",{className:"weight--bold",target:"_blank",href:"https://support.optimizely.com/hc/en-us/articles/4410289414413-How-Optimizely-Handles-Outliers",rel:"noopener noreferrer"},"Learn more about outlier smoothing."))}},,function(t,r,a){"use strict";r.a={entity:"recommender_services"}},function(t,r,a){"use strict";r.a={entity:"conditions",isRelationshipEntity:!0,parents:[{entity:"projects",key:"project_id"},{entity:"conditions",key:"integration_id"}]}},function(t,r,a){"use strict";var i=a(41),o=a(962);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a);c.byId,c.entityCache;r.a=_extends({},c)},function(t,r,a){"use strict";var i=a(33),o={id:i.a.NUMBER,account_id:i.a.NUMBER,category:i.a.STRING,created:i.a.DATE,email:i.a.STRING,event:i.a.STRING,experiment_id:i.a.NUMBER,gae_admin_email:i.a.STRING,project_id:i.a.NUMBER};r.a={entity:"activity",parent:{entity:"projects",key:"project_id"},fieldTypes:o,serialize:function serialize(t){return t.experiment_id&&(t.experiment_id=t.experiment_id.toString()),t.project_id&&(t.project_id=t.project_id.toString()),t},deserialize:function deserialize(t){return t.experiment_id&&(t.experiment_id=Number(t.experiment_id)),t.project_id&&(t.project_id=Number(t.project_id)),t}}},,,function(t,r,a){"use strict";function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}var i=_createClass((function Deferred(){var t,r;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Deferred);var a=makeQueryablePromise(new Promise((function(a,i){t=a,r=i})));return Object.assign(a,{resolve:function resolve(r){return t(r),a},reject:function reject(t){return r(t),a},promise:function promise(){return a}})}));function makeQueryablePromise(t){if(t.state)return t;var r=i.status.PENDING,a=t.then((function(t){return r=i.status.RESOLVED,t}),(function(t){throw r=i.status.REJECTED,t}));return a.state=function(){return r},a}i.status={PENDING:"pending",REJECTED:"rejected",RESOLVED:"resolved"},r.a=i},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(2);r.a=function(t,r,a,i){return o.a.isNumber(a)&&(a={id:a}),c.default.fromJS({entity:t,method:r,requestArgs:a,shouldClearCache:!!i})}},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(4),l=a.n(c),u=a(31),d=a(2),p=a(3),m=a(95),g=a(407),h=a(138),y=a(966),v=a(1035),_=a(234),E=a(344),b=a(78),T=a(838);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function handleApiResponse(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(r){return t?r.data:r}}function onFetchStart(t,r){p.default.dispatch(b.a.API_ENTITY_FETCH_START,{entity:t.get("entity"),requestInfo:t,deferred:r})}function onFetchSuccess(t,r){return p.default.dispatch(b.a.API_ENTITY_FETCH_SUCCESS,_extends({},r,{entity:t.get("entity"),requestInfo:t,fetchTimestamp:E.a.getCurrentDateTimeAsISOString()})),r}function onFetchFail(t,r){return p.default.dispatch(b.a.API_ENTITY_FETCH_FAIL,{entity:t.get("entity"),reason:r,requestInfo:t}),r}function onPersistSuccess(t,r){return r&&p.default.dispatch(b.a.API_ENTITY_PERSIST_SUCCESS,{entity:t,data:r}),r}function onPersistFail(t,r,a){return p.default.dispatch(b.a.API_ENTITY_PERSIST_FAIL,{entity:t,reason:a,data:r}),a}function onDeleteSuccess(t,r){p.default.dispatch(b.a.API_ENTITY_DELETE_SUCCESS,{entity:t,id:r})}function doFetch(t,r,a,i,c){var l=o.a.Deferred(),u=onFetchSuccess.bind(null,i),d=onFetchFail.bind(null,i);if(isEntityStubbed(t)){var p=o.a.Deferred();onFetchStart.call(null,i,p),l=T.default[r](t,a,c).done(u).fail(d).done(p.resolve).fail(p.reject)}else l=v.a[r](t,a,c).done(u).fail(d),onFetchStart.call(null,i,l);return l}function executeModelFetch(t,r,a,i){var c=i.force,l=i.skipEvaluatingCachedData,u=i.excludeFields,d=i.headers,m=t.entity,h={fetch:function fetch(){return function simulateApiFetch(t,r){return p.default.evaluateToJS([["entityCache",t.entity],function(t){return t.get(r)}])}(t,a)},fetchPage:function fetchPage(){return function simulateApiFetchPage(t,r){return p.default.evaluateToJS([["entityCache",t.entity],function(a){return _.a.getPage(a,t,r)}])}(t,a)},fetchAll:function fetchAll(){return function simulateApiFetchAll(t,r){return p.default.evaluateToJS([["entityCache",t.entity],function(a){return _.a.getAll(a,t,r)}])}(t,a)}},v=E.a.isCachedLocally(m)&&_.a.isTrueFetchAll(t,r,a),b=Object(y.a)(m,r,a,v),T={headers:d,excludeFields:u};if(!h[r])throw new Error("Invalid fetch method ".concat(r));var S,C,I=function getRequestInProgress(t){return p.default.evaluate(["apiRequestInProgress",t])}(b);if(I)return I;var A=E.a.requestCacheData(b),O=A.isCached,P=A.responseHeaders,R={responseHeaders:P?P.toJS():{}};return!c&&O?(i.skipTrackingCacheHit||g.a.trackCacheHit(m),S=o.a.Deferred(),C=h[r],l?S.resolve(R):S.resolve(_extends({},R,{data:C()})),S):!c&&E.a.isCachedLocally(m)?(i.skipTrackingCacheHit||g.a.trackCacheHit(m),S=o.a.Deferred(),C=h[r],l?S.resolve(R):S.resolve(_extends({},R,{data:C()})),doFetch(t,r,a,b,T),S):doFetch(t,r,a,b,T)}function onDeleteFail(t,r,a){p.default.dispatch(b.a.API_ENTITY_DELETE_FAIL,{entity:t,id:r,reason:a})}function isEntityStubbed(t){return p.default.evaluate(["apiStubs","stubAll"])||p.default.evaluate(["apiStubs","entityData",t.entity])}r.a=function(t){return{delete:function _delete(r){var a=onDeleteSuccess.bind(null,t.entity,r.id),i=onDeleteFail.bind(null,t.entity,r.id);return isEntityStubbed(t)?T.default.delete(t,r).done(a).fail(i):v.a.delete(t,r).done(a).fail(i)},save:function save(r,a){var i=Object(d.isImmutable)(r)?r.toJS():r,o=onPersistSuccess.bind(this,t.entity),c=onPersistFail.bind(this,t.entity,i);return p.default.dispatch(b.a.API_ENTITY_PERSIST_START,{entity:t.entity,data:i}),isEntityStubbed(t)?T.default.save(t,i,a).done(o).fail(c):v.a.save(t,i,a).done(o).fail(c)},fetch:function fetch(r,a){return executeModelFetch(t,"fetch",r,{force:a,skipEvaluatingCachedData:!1}).then(handleApiResponse())},fetchPage:function fetchPage(r,a){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!r.$limit)throw new Error("fetchPage: must take a limit. Otherwise use fetchAll instead.");return executeModelFetch(t,"fetchPage",r,Object.assign({},a,{skipEvaluatingCachedData:!1})).then(handleApiResponse(i))},fetchAllPages:function fetchAllPages(t,r){var a=this,i=m.b.FEATURES.fetch_all_paginated,c=i.FEATURE_KEY,d=i.VARIABLES;t.$limit||(t.$limit=Object(u.getFeatureVariable)(c,d.page_size)||h.a.DEFAULT_PAGE_SIZE);var p=t.$limit,g=Object(u.getFeatureVariable)(c,d.initial_page_size)||h.a.INITIAL_PAGE_SIZE,y=p-g;t.$offset=0,r=Object.assign(r||{},{headers:_defineProperty({},h.a.fetchAllPagesConfig.requestHeader,!0)});var v=Object.assign({},t,{$limit:g}),E=o.a.Deferred();return{firstPage:this.fetchPage(v,r,!1).then((function(r){var i=r.data,m=r.responseHeaders[h.a.fetchAllPagesConfig.responseHeader.toLowerCase()],v=Math.ceil(Number(m-g)/p),b=l.a.times(v,(function(r){return{def:o.a.Deferred(),fn:a.fetchPage.bind(a,Object.assign({},t,{$offset:p*(r+1)-y}),{skipTrackingCacheHit:!0})}})),T=Object(u.getFeatureVariable)(c,d.concurrent_request_limit);return _.a.processRequestQueue(b,T).then((function(t){return E.resolve(Array.isArray(i)?i.concat.apply(i,_toConsumableArray(t)):i)}),E.reject),i})),allPages:E}},fetchAll:function fetchAll(r,a){var i,o,c;return l.a.isObject(a)?(i=a.force,o=!!a.skipEvaluatingCachedData,c=a.excludeFields):(i=a,o=!1,c=null),executeModelFetch(t,"fetchAll",r,{force:i,skipEvaluatingCachedData:o,excludeFields:c}).then(handleApiResponse())},flush:function flush(){return p.default.dispatch(b.a.FLUSH_ENTITY_STORE,{entity:t.entity})}}}},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({CHANGE_CURRENT_PROJECT_ID:null})},,,,,,,,,function(t,r,a){"use strict";a.d(r,"a",(function(){return _}));var i=a(0),o=a.n(i),c=a(5),l=a(1),u=a.n(l),d=a(107),p=a(98),m=a(19);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=d.b.Wrapper,h=d.b.Title,y=d.b.Footer,v=d.b.Fieldset,_=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(EmptyCTADialog,t);var r=_createSuper(EmptyCTADialog);function EmptyCTADialog(){var t;_classCallCheck(this,EmptyCTADialog);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).submit=function(){(0,t.props.onSubmit)(),c.default.hideDialog()},t.cancel=function(){(0,t.props.onCancel)(),c.default.hideDialog()},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(EmptyCTADialog,[{key:"componentWillUnmount",value:function componentWillUnmount(){this.cancel()}},{key:"render",value:function render(){var t=this.props,r=t.title,a=t.body;return o.a.createElement(g,{testSection:"empty-cta-dialog"},r&&o.a.createElement("div",{"data-test-section":"empty-cta-dialog-title"},o.a.createElement(h,null,r)),o.a.createElement(v,{testSection:"empty-cta-dialog-body"},o.a.createElement("div",{dangerouslySetInnerHTML:{__html:a}})),o.a.createElement(y,null,o.a.createElement(p.a,{rightGroup:[o.a.createElement(m.a,{style:"plain",key:"cancel",onClick:this.cancel},"Cancel"),o.a.createElement(m.a,{style:"highlight",testSection:"empty-cta-dialog-submit",key:"submit",onClick:this.submit},"Submit")]})))}}]),EmptyCTADialog}(o.a.Component);_.propTypes={title:u.a.string.isRequired,body:u.a.string.isRequired,onSubmit:u.a.func,onCancel:u.a.func},_.defaultProps={onSubmit:function onSubmit(){return null},onCancel:function onCancel(){return null}}},,,function(t,r,a){"use strict";r.a={isFirstSignin:["p13n/profileDetails","isFirstSignin"],isDialogVisible:["p13n/profileDetails","isDialogVisible"],requiredInfoWasSupplied:["p13n/profileDetails","requiredInfoWasSupplied"]}},function(t,r,a){"use strict";r.a={entity:"terms_of_service"}},function(t,r){t.exports="/dist/static/img/p13n/audience-detail-primary-metric-9552eb9ae5c0c6124634ad8b53db3bfc.svg"},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({SEGMENT_DISPLAY_RESET:null,SEGMENT_DISPLAY_SET_AND_OR_CONDITION:null,SEGMENT_DISPLAY_SET_SEGMENTS:null})},function(t,r,a){"use strict";var i=a(17);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var o=a.n(i)()({LINK_REGISTER:null,LINK_SET:null,LINK_DELETE:null});r.a=_extends({},o)},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(102),l=a.n(c);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var u=o.a.extend({},l.a.functions,{experimentStatus:l.a.reverse(l.a.functions.string)});r.a=_extends({},u)},function(t,r,a){var i=a(36);r.setupProjectLocalEntityCache=function(t){i.actions.setupLocalEntityCache("project_id",t,["audiences"])},r.setupAccountLocalEntityCache=function(t){i.actions.setupLocalEntityCache("account_id",t,["projects"])}},,function(t,r,a){"use strict";a.d(r,"a",(function(){return IconSprite}));var i=a(0),o=a.n(i);function IconSprite(){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{display:"none"}},o.a.createElement("symbol",{width:"18",height:"18",id:"angle-down",viewBox:"0 0 640 512"},o.a.createElement("path",{d:"M362.7 203.9l-159.1 144c-6.125 5.469-15.31 5.469-21.44 0L21.29 203.9C14.73 197.1 14.2 187.9 20.1 181.3C26.38 174.4 36.5 174.5 42.73 180.1L192 314.5l149.3-134.4c6.594-5.877 16.69-5.361 22.62 1.188C369.8 187.9 369.3 197.1 362.7 203.9z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"caret-down",viewBox:"0 0 320 512"},o.a.createElement("path",{d:"M310.6 246.6l-127.1 128C176.4 380.9 168.2 384 160 384s-16.38-3.125-22.63-9.375l-127.1-128C.2244 237.5-2.516 223.7 2.438 211.8S19.07 192 32 192h255.1c12.94 0 24.62 7.781 29.58 19.75S319.8 237.5 310.6 246.6z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"ban",viewBox:"0 0 512 512"},o.a.createElement("path",{d:"M512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM86.7 109.3C52.62 148.6 32 199.9 32 256C32 379.7 132.3 480 256 480C312.1 480 363.4 459.4 402.7 425.3L86.7 109.3zM480 256C480 132.3 379.7 32 256 32C199.9 32 148.6 52.62 109.3 86.7L425.3 402.7C459.4 363.4 480 312.1 480 255.1V256z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"bars",viewBox:"0 0 448 512"},o.a.createElement("path",{d:"M0 80C0 71.16 7.164 64 16 64H432C440.8 64 448 71.16 448 80C448 88.84 440.8 96 432 96H16C7.164 96 0 88.84 0 80zM0 240C0 231.2 7.164 224 16 224H432C440.8 224 448 231.2 448 240C448 248.8 440.8 256 432 256H16C7.164 256 0 248.8 0 240zM432 416H16C7.164 416 0 408.8 0 400C0 391.2 7.164 384 16 384H432C440.8 384 448 391.2 448 400C448 408.8 440.8 416 432 416z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"calendar",viewBox:"0 0 448 512"},o.a.createElement("path",{d:"M112 0C120.8 0 128 7.164 128 16V64H320V16C320 7.164 327.2 0 336 0C344.8 0 352 7.164 352 16V64H384C419.3 64 448 92.65 448 128V448C448 483.3 419.3 512 384 512H64C28.65 512 0 483.3 0 448V128C0 92.65 28.65 64 64 64H96V16C96 7.164 103.2 0 112 0zM416 192H32V448C32 465.7 46.33 480 64 480H384C401.7 480 416 465.7 416 448V192zM384 96H64C46.33 96 32 110.3 32 128V160H416V128C416 110.3 401.7 96 384 96z"})),o.a.createElement("symbol",{width:"14",height:"14",id:"chevron-down",viewBox:"0 0 448 512"},o.a.createElement("path",{d:"M4.251 181.1C7.392 177.7 11.69 175.1 16 175.1c3.891 0 7.781 1.406 10.86 4.25l197.1 181.1l197.1-181.1c6.5-6 16.64-5.625 22.61 .9062c6 6.5 5.594 16.59-.8906 22.59l-208 192c-6.156 5.688-15.56 5.688-21.72 0l-208-192C-1.343 197.7-1.749 187.6 4.251 181.1z"})),o.a.createElement("symbol",{width:"14",height:"14",id:"chevron-right",viewBox:"0 0 320 512"},o.a.createElement("path",{d:"M85.14 475.8c-3.438-3.141-5.156-7.438-5.156-11.75c0-3.891 1.406-7.781 4.25-10.86l181.1-197.1L84.23 58.86c-6-6.5-5.625-16.64 .9062-22.61c6.5-6 16.59-5.594 22.59 .8906l192 208c5.688 6.156 5.688 15.56 0 21.72l-192 208C101.7 481.3 91.64 481.8 85.14 475.8z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"circle-check",viewBox:"0 0 512 512"},o.a.createElement("path",{d:"M235.3 331.3C229.1 337.6 218.9 337.6 212.7 331.3L148.7 267.3C142.4 261.1 142.4 250.9 148.7 244.7C154.9 238.4 165.1 238.4 171.3 244.7L224 297.4L340.7 180.7C346.9 174.4 357.1 174.4 363.3 180.7C369.6 186.9 369.6 197.1 363.3 203.3L235.3 331.3zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 32C132.3 32 32 132.3 32 256C32 379.7 132.3 480 256 480C379.7 480 480 379.7 480 256C480 132.3 379.7 32 256 32z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"circle-xmark",viewBox:"0 0 512 512"},o.a.createElement("path",{d:"M180.7 180.7C186.9 174.4 197.1 174.4 203.3 180.7L256 233.4L308.7 180.7C314.9 174.4 325.1 174.4 331.3 180.7C337.6 186.9 337.6 197.1 331.3 203.3L278.6 256L331.3 308.7C337.6 314.9 337.6 325.1 331.3 331.3C325.1 337.6 314.9 337.6 308.7 331.3L256 278.6L203.3 331.3C197.1 337.6 186.9 337.6 180.7 331.3C174.4 325.1 174.4 314.9 180.7 308.7L233.4 256L180.7 203.3C174.4 197.1 174.4 186.9 180.7 180.7zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 32C132.3 32 32 132.3 32 256C32 379.7 132.3 480 256 480C379.7 480 480 379.7 480 256C480 132.3 379.7 32 256 32z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"ellipsis",viewBox:"0 0 448 512"},o.a.createElement("path",{d:"M120 256C120 286.9 94.93 312 64 312C33.07 312 8 286.9 8 256C8 225.1 33.07 200 64 200C94.93 200 120 225.1 120 256zM280 256C280 286.9 254.9 312 224 312C193.1 312 168 286.9 168 256C168 225.1 193.1 200 224 200C254.9 200 280 225.1 280 256zM328 256C328 225.1 353.1 200 384 200C414.9 200 440 225.1 440 256C440 286.9 414.9 312 384 312C353.1 312 328 286.9 328 256z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"lock",viewBox:"0 0 448 512"},o.a.createElement("path",{d:"M96 192V128C96 57.31 153.3 0 224 0C294.7 0 352 57.31 352 128V192H368C412.2 192 448 227.8 448 272V432C448 476.2 412.2 512 368 512H80C35.82 512 0 476.2 0 432V272C0 227.8 35.82 192 80 192H96zM128 192H320V128C320 74.98 277 32 224 32C170.1 32 128 74.98 128 128V192zM32 432C32 458.5 53.49 480 80 480H368C394.5 480 416 458.5 416 432V272C416 245.5 394.5 224 368 224H80C53.49 224 32 245.5 32 272V432z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"xmark-16",viewBox:"0 0 320 512"},o.a.createElement("path",{d:"M315.3 411.3c-6.253 6.253-16.37 6.253-22.63 0L160 278.6l-132.7 132.7c-6.253 6.253-16.37 6.253-22.63 0c-6.253-6.253-6.253-16.37 0-22.63L137.4 256L4.69 123.3c-6.253-6.253-6.253-16.37 0-22.63c6.253-6.253 16.37-6.253 22.63 0L160 233.4l132.7-132.7c6.253-6.253 16.37-6.253 22.63 0c6.253 6.253 6.253 16.37 0 22.63L182.6 256l132.7 132.7C321.6 394.9 321.6 405.1 315.3 411.3z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"plus",viewBox:"0 0 448 512"},o.a.createElement("path",{d:"M432 256C432 264.8 424.8 272 416 272h-176V448c0 8.844-7.156 16.01-16 16.01S208 456.8 208 448V272H32c-8.844 0-16-7.15-16-15.99C16 247.2 23.16 240 32 240h176V64c0-8.844 7.156-15.99 16-15.99S240 55.16 240 64v176H416C424.8 240 432 247.2 432 256z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"circle-exclamation",viewBox:"0 0 512 512"},o.a.createElement("path",{d:"M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 480c-123.5 0-224-100.5-224-224s100.5-224 224-224s224 100.5 224 224S379.5 480 256 480zM256 304c8.844 0 16-7.156 16-16V128c0-8.844-7.156-16-16-16S240 119.2 240 128v160C240 296.8 247.2 304 256 304zM256 344c-13.25 0-24 10.75-24 24s10.75 24 24 24s24-10.75 24-24S269.3 344 256 344z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"circle-question",viewBox:"0 0 512 512"},o.a.createElement("path",{d:"M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 480c-123.5 0-224-100.5-224-224s100.5-224 224-224s224 100.5 224 224S379.5 480 256 480zM240 344c-13.25 0-24 10.75-24 24s10.75 24 24 24s24-10.75 24-24S253.3 344 240 344zM285.6 128H226.4C189.8 128 160 157.8 160 194.4V204c0 8.844 7.156 16 16 16S192 212.8 192 204V194.4C192 175.4 207.4 160 226.4 160h59.25C304.6 160 320 175.4 320 194.4c0 12.48-6.781 24-17.06 29.72L242.5 254.3C231.1 260.7 224 272.7 224 285.8V304C224 312.8 231.2 320 240 320S256 312.8 256 304V285.8c0-1.453 .7813-2.797 1.438-3.172l60.41-30.22C338.9 240.7 352 218.5 352 194.4C352 157.8 322.2 128 285.6 128z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"arrow-rotate-left",viewBox:"0 0 512 512"},o.a.createElement("path",{d:"M480 256c0 123.5-100.4 223.9-223.9 223.9c-69.41 0-133.9-31.3-176.7-86.05c-5.438-6.938-4.203-17 2.75-22.44c6.984-5.531 17.03-4.25 22.47 2.75C141.3 421.1 196.5 448 256 448c105.9 0 192-86.13 192-192s-86.13-192-192-192C187.1 64 124.5 100.7 90.15 160H176C184.8 160 192 167.2 192 176S184.8 192 176 192h-128C39.16 192 32 184.8 32 176v-128C32 39.16 39.16 32 48 32S64 39.16 64 48v93.56C104.4 73.87 176.6 32.11 256.1 32.11C379.6 32.11 480 132.5 480 256z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"arrow-rotate-right",viewBox:"0 0 512 512"},o.a.createElement("path",{d:"M255.9 32.11c79.47 0 151.8 41.76 192.1 109.4V48C448 39.16 455.2 32 464 32S480 39.16 480 48v128C480 184.8 472.8 192 464 192h-128C327.2 192 320 184.8 320 176S327.2 160 336 160h85.85C387.5 100.7 324.9 64 256 64C150.1 64 64 150.1 64 256s86.13 192 192 192c59.48 0 114.7-26.91 151.3-73.84c5.438-7 15.48-8.281 22.47-2.75c6.953 5.438 8.187 15.5 2.75 22.44c-42.8 54.75-107.3 86.05-176.7 86.05C132.4 479.9 32 379.5 32 256S132.4 32.11 255.9 32.11z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"arrow-right",viewBox:"0 0 448 512"},o.a.createElement("path",{d:"M443.7 266.8l-165.9 176C274.5 446.3 269.1 448 265.5 448c-3.986 0-7.988-1.375-11.16-4.156c-6.773-5.938-7.275-16.06-1.118-22.59L393.9 272H16.59c-9.171 0-16.59-7.155-16.59-15.1S7.421 240 16.59 240h377.3l-140.7-149.3c-6.157-6.531-5.655-16.66 1.118-22.59c6.789-5.906 17.27-5.469 23.45 1.094l165.9 176C449.4 251.3 449.4 260.7 443.7 266.8z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"arrow-left",viewBox:"0 0 448 512"},o.a.createElement("path",{d:"M448 256C448 264.8 440.6 272 431.4 272H54.11l140.7 149.3c6.157 6.531 5.655 16.66-1.118 22.59C190.5 446.6 186.5 448 182.5 448c-4.505 0-9.009-1.75-12.28-5.25l-165.9-176c-5.752-6.094-5.752-15.41 0-21.5l165.9-176c6.19-6.562 16.69-7 23.45-1.094c6.773 5.938 7.275 16.06 1.118 22.59L54.11 240h377.3C440.6 240 448 247.2 448 256z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"arrow-up-right-from-square",viewBox:"0 0 512 512"},o.a.createElement("path",{d:"M400 288C391.2 288 384 295.2 384 304V448c0 17.67-14.33 32-32 32H64c-17.67 0-32-14.33-32-32V160c0-17.67 14.33-32 32-32h112C184.8 128 192 120.8 192 112S184.8 96 176 96L64 96c-35.35 0-64 28.65-64 64V448c0 35.35 28.65 64 64 64h288c35.35 0 64-28.65 64-64V304C416 295.2 408.8 288 400 288zM496 0h-160C327.2 0 320 7.156 320 16S327.2 32 336 32h121.4L180.7 308.7c-6.25 6.25-6.25 16.38 0 22.62C183.8 334.4 187.9 336 192 336s8.188-1.562 11.31-4.688L480 54.63V176C480 184.8 487.2 192 496 192S512 184.8 512 176v-160C512 7.156 504.8 0 496 0z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"gear",viewBox:"0 0 512 512"},o.a.createElement("path",{d:"M168 255.1C168 207.4 207.4 167.1 256 167.1C304.6 167.1 344 207.4 344 255.1C344 304.6 304.6 344 256 344C207.4 344 168 304.6 168 255.1zM256 199.1C225.1 199.1 200 225.1 200 255.1C200 286.9 225.1 311.1 256 311.1C286.9 311.1 312 286.9 312 255.1C312 225.1 286.9 199.1 256 199.1zM65.67 230.6L25.34 193.8C14.22 183.7 11.66 167.2 19.18 154.2L49.42 101.8C56.94 88.78 72.51 82.75 86.84 87.32L138.8 103.9C152.2 93.56 167 84.96 182.8 78.43L194.5 25.16C197.7 10.47 210.7 0 225.8 0H286.2C301.3 0 314.3 10.47 317.5 25.16L329.2 78.43C344.1 84.96 359.8 93.56 373.2 103.9L425.2 87.32C439.5 82.75 455.1 88.78 462.6 101.8L492.8 154.2C500.3 167.2 497.8 183.7 486.7 193.8L446.3 230.6C447.4 238.9 448 247.4 448 255.1C448 264.6 447.4 273.1 446.3 281.4L486.7 318.2C497.8 328.3 500.3 344.8 492.8 357.8L462.6 410.2C455.1 423.2 439.5 429.2 425.2 424.7L373.2 408.1C359.8 418.4 344.1 427 329.2 433.6L317.5 486.8C314.3 501.5 301.3 512 286.2 512H225.8C210.7 512 197.7 501.5 194.5 486.8L182.8 433.6C167 427 152.2 418.4 138.8 408.1L86.84 424.7C72.51 429.2 56.94 423.2 49.42 410.2L19.18 357.8C11.66 344.8 14.22 328.3 25.34 318.2L65.67 281.4C64.57 273.1 64 264.6 64 255.1C64 247.4 64.57 238.9 65.67 230.6V230.6zM158.4 129.2L145.1 139.5L77.13 117.8L46.89 170.2L99.58 218.2L97.39 234.8C96.47 241.7 96 248.8 96 255.1C96 263.2 96.47 270.3 97.39 277.2L99.58 293.8L46.89 341.8L77.13 394.2L145.1 372.5L158.4 382.8C169.5 391.4 181.9 398.6 195 403.1L210.5 410.4L225.8 480H286.2L301.5 410.4L316.1 403.1C330.1 398.6 342.5 391.4 353.6 382.8L366.9 372.5L434.9 394.2L465.1 341.8L412.4 293.8L414.6 277.2C415.5 270.3 416 263.2 416 256C416 248.8 415.5 241.7 414.6 234.8L412.4 218.2L465.1 170.2L434.9 117.8L366.9 139.5L353.6 129.2C342.5 120.6 330.1 113.4 316.1 108L301.5 101.6L286.2 32H225.8L210.5 101.6L195 108C181.9 113.4 169.5 120.6 158.4 129.2H158.4z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"eye",viewBox:"0 0 576 512"},o.a.createElement("path",{d:"M416 256C416 326.7 358.7 384 288 384C217.3 384 160 326.7 160 256C160 185.3 217.3 128 288 128C358.7 128 416 185.3 416 256zM288 160C234.1 160 192 202.1 192 256C192 309 234.1 352 288 352C341 352 384 309 384 256C384 202.1 341 160 288 160zM480.6 112.6C527.4 156 558.7 207.1 573.5 243.7C576.8 251.6 576.8 260.4 573.5 268.3C558.7 304 527.4 355.1 480.6 399.4C433.5 443.2 368.8 480 288 480C207.2 480 142.5 443.2 95.42 399.4C48.62 355.1 17.34 304 2.461 268.3C-.8205 260.4-.8205 251.6 2.461 243.7C17.34 207.1 48.62 156 95.42 112.6C142.5 68.84 207.2 32 288 32C368.8 32 433.5 68.84 480.6 112.6V112.6zM32 256C45.33 288 74.13 336 117.2 376C160.3 416 217.6 448 288 448C358.4 448 415.7 416 458.8 376C501.9 336 530.7 288 544 256C530.7 223.1 501.9 175.1 458.8 136C415.7 95.99 358.4 64 288 64C217.6 64 160.3 95.99 117.2 136C74.13 175.1 45.33 223.1 32 256V256z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"eye-slash",viewBox:"0 0 640 512"},o.a.createElement("path",{d:"M633.9 483.4C640.9 488.9 642 498.1 636.6 505.9C631.1 512.9 621 514 614.1 508.6L6.086 28.56C-.8493 23.08-2.033 13.02 3.443 6.086C8.918-.8493 18.98-2.033 25.91 3.443L633.9 483.4zM605.5 268.3C595.3 292.9 577.2 325.3 551.6 357.3L526.5 337.5C550.1 307.1 566.8 278.1 576 256C562.7 223.1 533.9 175.1 490.8 136C447.7 95.99 390.4 64 320 64C280.2 64 244.6 74.21 213.4 90.31L186.1 68.78C224 46.8 268.8 31.1 320 31.1C400.8 31.1 465.5 68.84 512.6 112.6C559.4 156 590.7 207.1 605.5 243.7C608.8 251.6 608.8 260.4 605.5 268.3L605.5 268.3zM88.39 154.7L113.5 174.5C89.86 204 73.23 233.9 63.1 255.1C77.33 288 106.1 336 149.2 376C192.3 416 249.6 448 319.1 448C359.8 448 395.4 437.8 426.6 421.7L453.9 443.2C415.1 465.2 371.2 480 319.1 480C239.2 480 174.5 443.2 127.4 399.4C80.62 355.1 49.34 304 34.46 268.3C31.18 260.4 31.18 251.6 34.46 243.7C44.73 219.1 62.8 186.7 88.39 154.7L88.39 154.7zM191.1 255.1C191.1 249.7 192.5 243.6 193.3 237.5L224.2 261.9C227.2 312.2 268.1 352 319.1 352C325.6 352 331.2 351.5 336.5 350.6L367.4 374.9C352.7 380.8 336.7 384 319.1 384C249.3 384 191.1 326.7 191.1 255.1zM448 255.1C448 262.3 447.5 268.4 446.7 274.5L415.8 250.1C412.8 199.8 371 159.1 319.1 159.1C314.4 159.1 308.8 160.5 303.5 161.4L272.6 137.1C287.3 131.2 303.3 127.1 319.1 127.1C390.7 127.1 448 185.3 448 255.1V255.1z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"user-group",viewBox:"0 0 640 512"},o.a.createElement("path",{d:"M274.7 304H173.3c-95.73 0-173.3 77.6-173.3 173.3C0 496.5 15.52 512 34.66 512H413.3C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304zM413.3 480H34.66C33.2 480 32 478.8 32 477.3C32 399.4 95.4 336 173.3 336H274.7C352.6 336 416 399.4 416 477.3C416 478.8 414.8 480 413.3 480zM224 256c70.7 0 128-57.31 128-128S294.7 0 224 0C153.3 0 96 57.31 96 128S153.3 256 224 256zM224 32c52.94 0 96 43.06 96 96c0 52.93-43.06 96-96 96S128 180.9 128 128C128 75.06 171.1 32 224 32zM375.1 241C392.9 250.8 412.3 256 432 256C493.8 256 544 205.8 544 144S493.8 32 432 32c-12.83 0-25.39 2.156-37.34 6.391c-8.328 2.953-12.69 12.09-9.734 20.42c2.953 8.344 12.12 12.66 20.42 9.734C413.9 65.53 422.8 64 432 64C476.1 64 512 99.89 512 144S476.1 224 432 224c-14.08 0-27.91-3.703-39.98-10.69c-7.656-4.453-17.44-1.828-21.86 5.828C365.7 226.8 368.3 236.6 375.1 241zM490.7 320H448c-8.844 0-16 7.156-16 16S439.2 352 448 352h42.67C555.4 352 608 404.6 608 469.3C608 475.2 603.2 480 597.3 480H496c-8.844 0-16 7.156-16 16s7.156 16 16 16h101.3C620.9 512 640 492.9 640 469.3C640 386.1 573 320 490.7 320z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"flag",viewBox:"0 0 512 512"},o.a.createElement("path",{d:"M498.5 6.232c-19.76-11.99-38.92-3.226-41.61-1.1c-41.75 19.06-76.02 27.94-107.8 27.94c-28.92 0-51.74-7.321-75.9-15.09C247.5 8.844 220.1 .3094 185.2 .3055C159 .3055 121.3 2.641 32 38.84V16.01c0-8.836-7.164-15.1-16-15.1S0 7.172 0 16.01V496C0 504.8 7.164 512 16 512S32 504.8 32 496v-104.9c14.47-6.441 77.75-38.93 148.8-38.93c36.8 0 67.14 7.713 99.25 15.89c30.74 7.82 62.49 15.9 99.31 15.9c35.46 0 72.08-7.553 111.1-23.09c12.28-4.781 20.38-16.6 20.38-29.78L512 32.35C512 22.01 507.4 11.6 498.5 6.232zM479.7 331c-36.11 14.07-68.93 20.91-100.3 20.91c-32.81 0-61.26-7.238-91.39-14.9C255.4 328.7 221.7 320.2 180.8 320.2c-45.89 0-93.61 11.31-145.9 34.58L32 356.1V73.37l28.01-11.35c49.34-19.98 90.29-29.7 125.2-29.7c30.74 0 53.8 7.406 78.2 15.24c25.44 8.172 51.75 16.62 85.69 16.62c69.43 0 130.9-32.17 130.9-32.17L479.7 331z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"play",viewBox:"0 0 384 512"},o.a.createElement("path",{d:"M24.52 38.13C39.66 29.64 58.21 29.99 73.03 39.04L361 215C375.3 223.8 384 239.3 384 256C384 272.7 375.3 288.2 361 296.1L73.03 472.1C58.21 482 39.66 482.4 24.52 473.9C9.377 465.4 0 449.4 0 432V80C0 62.64 9.377 46.63 24.52 38.13V38.13zM56.34 66.35C51.4 63.33 45.22 63.21 40.17 66.04C35.13 68.88 32 74.21 32 80V432C32 437.8 35.13 443.1 40.17 445.1C45.22 448.8 51.41 448.7 56.34 445.7L344.3 269.7C349.1 266.7 352 261.6 352 256C352 250.4 349.1 245.3 344.3 242.3L56.34 66.35z"})),o.a.createElement("symbol",{width:"24",height:"24",id:"arrows-rotate",viewBox:"0 0 512 512"},o.a.createElement("path",{d:"M463.5 272.1C463.2 272 462.9 272 462.6 272c-4.031 0-7.469 3-7.938 7.094C443.1 379.9 357.7 456 256 456c-85.8 0-161.6-55.56-188.9-136H184C188.4 320 192 316.4 192 312S188.4 304 184 304H48c-4.406 0-8 3.594-8 8v128C40 444.4 43.59 448 48 448s8-3.594 8-8v-104C88.43 416.9 167.2 472 256 472c109.8 0 202.1-82.16 214.6-191.1C471.1 276.5 467.9 272.6 463.5 272.1zM464 64c-4.406 0-8 3.594-8 8v104C423.6 95.09 344.8 40 256 40c-109.8 0-202.1 82.16-214.6 191.1c-.5 4.375 2.625 8.344 7.031 8.844C48.78 239.1 49.09 240 49.38 240c4.031 0 7.469-3 7.938-7.094C68.91 132.1 154.3 56 256 56c85.8 0 161.6 55.56 188.9 136H328C323.6 192 320 195.6 320 200s3.594 8 8 8h136c4.406 0 8-3.594 8-8v-128C472 67.59 468.4 64 464 64z"})),o.a.createElement("symbol",{width:"24",height:"24",id:"xmark-24",viewBox:"0 0 320 512"},o.a.createElement("path",{d:"M317.7 402.3c3.125 3.125 3.125 8.188 0 11.31c-3.127 3.127-8.186 3.127-11.31 0L160 267.3l-146.3 146.3c-3.127 3.127-8.186 3.127-11.31 0c-3.125-3.125-3.125-8.188 0-11.31L148.7 256L2.344 109.7c-3.125-3.125-3.125-8.188 0-11.31s8.188-3.125 11.31 0L160 244.7l146.3-146.3c3.125-3.125 8.188-3.125 11.31 0s3.125 8.188 0 11.31L171.3 256L317.7 402.3z"})),o.a.createElement("symbol",{width:"24",height:"24",id:"terminal",viewBox:"0 0 576 512"},o.a.createElement("path",{d:"M34.24 45.55C31.17 42.37 31.27 37.3 34.45 34.24C37.63 31.17 42.7 31.27 45.76 34.45L253.8 250.5C256.7 253.5 256.7 258.5 253.8 261.5L45.76 477.5C42.7 480.7 37.63 480.8 34.45 477.8C31.27 474.7 31.17 469.6 34.24 466.5L236.9 256L34.24 45.55zM568 464C572.4 464 576 467.6 576 472C576 476.4 572.4 480 568 480H232C227.6 480 224 476.4 224 472C224 467.6 227.6 464 232 464H568z"})),o.a.createElement("symbol",{width:"24",height:"24",id:"hand-pointer",viewBox:"0 0 448 512"},o.a.createElement("path",{d:"M232 424v-112c0-4.418-3.582-8-8-8S216 307.6 216 312v112c0 4.418 3.582 8 8 8S232 428.4 232 424zM393.8 224h-12.88c-9.094-19.38-27.97-32-48.65-32h-15.38c-7.25 0-13.94 1.188-20.06 3.5C286.7 183.2 271.6 176 255.4 176h-8.594C238.9 176 231.1 177.8 224 181.1V56C224 25.12 198.9 0 168 0S112 25.12 112 56v288C112 348.4 115.6 352 120 352S128 348.4 128 344v-288C128 33.94 145.9 16 168 16S208 33.94 208 56v139.1c0 5.328 4.521 8.017 7.996 8.017C223.1 203.1 227.3 192 246.8 192h8.594c13.06 0 25.09 6.656 32.19 17.81c1.515 2.408 4.079 3.713 6.729 3.713c4.993 0 7.861-5.526 22.65-5.526h15.38c15.59 0 30.34 11.06 35.84 26.91c1.078 3.12 4.01 5.417 7.136 5.417c.3179 0 .6378-.0237 .9579-.0728c0 0 2.281-.25 2.312-.25h15.28c21.03 0 38.16 17.12 38.16 38.16v102.8c0 63.44-51.63 115.1-115.1 115.1H224c-42.5 0-85.53-20.72-109.8-53L23.22 329.6c-4.727-6.286-7.218-13.76-7.218-21.49c0-29.37 26.98-36.13 35.94-36.13c24.38 0 26.32 17.61 35.23 17.61c4.6 0 8.028-3.741 8.028-7.993c0-7.458-18.63-25.6-43.21-25.6c-29.14 0-51.99 23.73-51.99 52.11c0 11.19 3.608 22.04 10.57 31.3l91.03 113.4C128.6 488.8 176.6 512 224 512h92.94c72.28 0 131.1-58.78 131.1-131.1V278.2C447.1 248.3 423.7 224 393.8 224zM296 424v-112c0-4.418-3.583-8-8.001-8S280 307.6 280 312v112c0 4.418 3.58 8 7.998 8S296 428.4 296 424zM360 424v-112c0-4.418-3.582-8-8-8s-8 3.582-8 8v112c0 4.418 3.582 8 8 8S360 428.4 360 424z"})),o.a.createElement("symbol",{width:"24",height:"24",id:"toolbox",viewBox:"0 0 512 512"},o.a.createElement("path",{d:"M502.6 214.6l-77.25-77.25C419.4 131.4 411.2 128 402.7 128H384V72C384 49.94 366.1 32 344 32h-176C145.9 32 128 49.94 128 72V128H109.3C100.8 128 92.63 131.4 86.63 137.4L9.373 214.6C3.371 220.6 0 228.8 0 237.3V416c0 35.35 28.65 64 64 64h384c35.35 0 64-28.65 64-64V237.3C512 228.8 508.6 220.6 502.6 214.6zM144 72c0-13.23 10.78-24 24-24h176c13.22 0 24 10.77 24 24V128h-224V72zM496 416c0 26.47-21.53 48-48 48H64c-26.47 0-48-21.53-48-48v-88h136v48c0 4.422 3.594 8 7.1 8S168 380.4 168 376v-48h176v48c0 4.422 3.594 8 8 8s8-3.578 8-8v-48h136V416zM496 312h-136v-48C360 259.6 356.4 256 352 256s-8 3.578-8 8v48h-176v-48C168 259.6 164.4 256 160 256S152 259.6 152 264v48H16V237.3c0-4.273 1.664-8.291 4.688-11.31l77.25-77.25C100.1 145.7 104.1 144 109.3 144h293.5c4.273 0 8.291 1.664 11.31 4.686l77.26 77.26C494.3 228.1 496 232.1 496 237.3V312z"})),o.a.createElement("symbol",{width:"24",height:"24",id:"mobile",viewBox:"0 0 384 512"},o.a.createElement("path",{d:"M80 512h224c26.5 0 48-21.5 48-48v-416C352 21.5 330.5 0 304 0h-224C53.5 0 32 21.5 32 48v416C32 490.5 53.5 512 80 512zM48 48c0-17.64 14.36-32 32-32h224c17.64 0 32 14.36 32 32v416c0 17.64-14.36 32-32 32h-224c-17.64 0-32-14.36-32-32V48zM144 456h96c4.406 0 8-3.578 8-8s-3.594-8-8-8h-96c-4.406 0-8 3.578-8 8S139.6 456 144 456z"})),o.a.createElement("symbol",{width:"24",height:"24",id:"display",viewBox:"0 0 576 512"},o.a.createElement("path",{d:"M64 352h448V64H64V352zM80 80h416v256h-416V80zM528 0h-480C21.5 0 0 21.5 0 48v320C0 394.5 21.5 416 48 416h180.9l-26.67 80H136C131.6 496 128 499.6 128 504S131.6 512 136 512h304c4.406 0 8-3.578 8-8s-3.594-8-8-8h-66.21l-26.67-80H528c26.5 0 48-21.5 48-48v-320C576 21.5 554.5 0 528 0zM356.9 496H219.1l26.67-80h84.46L356.9 496zM560 368c0 17.64-14.36 32-32 32h-480c-17.64 0-32-14.36-32-32v-320c0-17.64 14.36-32 32-32h480c17.64 0 32 14.36 32 32V368z"})),o.a.createElement("symbol",{width:"24",height:"24",id:"tablet",viewBox:"0 0 448 512"},o.a.createElement("path",{d:"M48 512h352c26.5 0 48-21.5 48-48v-416C448 21.5 426.5 0 400 0h-352C21.5 0 0 21.5 0 48v416C0 490.5 21.5 512 48 512zM16 48c0-17.64 14.36-32 32-32h352c17.64 0 32 14.36 32 32v416c0 17.64-14.36 32-32 32h-352c-17.64 0-32-14.36-32-32V48zM176 456h96c4.406 0 8-3.578 8-8s-3.594-8-8-8h-96c-4.406 0-8 3.578-8 8S171.6 456 176 456z"})),o.a.createElement("symbol",{width:"24",height:"24",id:"arrows-left-right",viewBox:"0 0 512 512"},o.a.createElement("path",{d:"M509.7 261.8l-96 103.8c-3.125 3.192-8.188 3.192-11.31 0c-3.125-3.192-3.125-8.363 0-11.55l82.34-89.88H27.31l82.34 89.88c3.125 3.192 3.125 8.362 0 11.55C108.1 367.2 106.1 368 104 368s-4.094-.7979-5.656-2.394l-96-103.8c-3.125-3.192-3.125-8.362 0-11.55l96-103.8c3.125-3.192 8.188-3.192 11.31 0s3.125 8.363 0 11.55L27.31 247.8h457.4l-82.34-89.88c-3.125-3.192-3.125-8.363 0-11.55C403.9 144.8 405.9 144 408 144s4.094 .7979 5.656 2.394l96 103.8C512.8 253.4 512.8 258.6 509.7 261.8z"})),o.a.createElement("symbol",{id:"toolbar-new-window-24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M16 20H2.2c-1 0-1.2-.7-1.2-1V5.2C1 4.5 1.5 4 2.2 4H19c.5 0 1 .3 1 1.2V8c0 .3-.2.5-.5.5S19 8.3 19 8V5H2.2c-.1 0-.2.1-.2.2V19h14c.3 0 .5.2.5.5s-.2.5-.5.5z"}),o.a.createElement("path",{d:"M19 8H2c-.3 0-.5-.2-.5-.5S1.7 7 2 7h17c.3 0 .5.2.5.5s-.2.5-.5.5zm3.5 10h-7.3c-.2 0-.4-.1-.5-.3-.1-.2 0-.4.1-.5l1.9-2c-2.3-1.1-4.5-1.3-5.7-.5-.8.5-1.2 1.3-1.2 2.6 0 .3-.2.5-.5.5s-.5-.2-.5-.5c0-2.6.8-4.6 2.5-5.8 2.1-1.6 5.4-1.8 9.3-.6L22.1 9c.1-.2.4-.2.6-.1.2.1.3.2.3.5v8.1c0 .3-.2.5-.5.5zm-6.1-1H22v-6.3l-.8 1c-.1.1-.3.2-.5.2-3.7-1.1-6.8-1-8.7.4-.6.4-1 .9-1.3 1.5 2-1.1 5-.3 7.2.8.1.1.2.2.3.4 0 .2 0 .3-.1.4L16.4 17z"})),o.a.createElement("symbol",{id:"toolbar-new-window-close-24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M16 20H2.2c-1 0-1.2-.7-1.2-1V5.2C1 4.5 1.5 4 2.2 4H19c.5 0 1 .3 1 1.2V8c0 .3-.2.5-.5.5S19 8.3 19 8V5H2.2c-.1 0-.2.1-.2.2V19h14c.3 0 .5.2.5.5s-.2.5-.5.5z"}),o.a.createElement("path",{d:"M19 8H2c-.3 0-.5-.2-.5-.5S1.7 7 2 7h17c.3 0 .5.2.5.5s-.2.5-.5.5zM8.8 17.5V9.4c0-.3.1-.4.3-.5.2-.1.5-.1.6.1l1.5 1.9c3.9-1.2 7.2-1 9.3.6 1.7 1.2 2.5 3.2 2.5 5.8 0 .3-.2.5-.5.5s-.5-.2-.5-.5c0-1.3-.4-2.1-1.2-2.6-1.2-.8-3.4-.6-5.7.5l1.9 2c.1.1.2.3.1.5s-.3.3-.5.3H9.3c-.3 0-.5-.2-.5-.5zm4.9-2.1c-.1-.1-.1-.2-.1-.4.1-.2.2-.3.3-.4 2.2-1.1 5.2-1.9 7.2-.8-.3-.6-.7-1.1-1.3-1.5-1.9-1.4-5-1.5-8.7-.4-.2 0-.4-.1-.5-.2l-.8-1V17h5.6l-1.7-1.6z"})),o.a.createElement("symbol",{id:"orientation-landscape-24",viewBox:"0 0 24 24"},o.a.createElement("g",{opacity:".3"},o.a.createElement("path",{d:"M23.5 13.5a.5.5 0 0 1-.5-.5V2.5A1.5 1.5 0 0 0 21.5 1h-9A1.5 1.5 0 0 0 11 2.5V10a.5.5 0 0 1-1 0V2.5A2.5 2.5 0 0 1 12.5 0h9A2.5 2.5 0 0 1 24 2.5V13a.5.5 0 0 1-.5.5z"}),o.a.createElement("path",{d:"M23 5H11a.5.5 0 0 1 0-1h12a.5.5 0 0 1 0 1zm-6-1.5a1 1 0 1 1 1-1 1 1 0 0 1-1 1zM17 2v.5V2z"})),o.a.createElement("path",{d:"M21.5 24h-19A2.5 2.5 0 0 1 0 21.5v-9A2.5 2.5 0 0 1 2.5 10h19a2.5 2.5 0 0 1 2.5 2.5v9a2.5 2.5 0 0 1-2.5 2.5zm-19-13A1.5 1.5 0 0 0 1 12.5v9A1.5 1.5 0 0 0 2.5 23h19a1.5 1.5 0 0 0 1.5-1.5v-9a1.5 1.5 0 0 0-1.5-1.5h-19z"}),o.a.createElement("path",{d:"M5.5 23.5A.5.5 0 0 1 5 23V11a.5.5 0 0 1 1 0v12a.5.5 0 0 1-.5.5zm14 0a.5.5 0 0 1-.5-.5V11a.5.5 0 0 1 1 0v12a.5.5 0 0 1-.5.5zm2-4a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 1 0v4a.5.5 0 0 1-.5.5zM3 17.5a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm0-1z"})),o.a.createElement("symbol",{id:"orientation-portrait-24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M21.5 24h-9a2.5 2.5 0 0 1-2.5-2.5v-19A2.5 2.5 0 0 1 12.5 0h9A2.5 2.5 0 0 1 24 2.5v19a2.5 2.5 0 0 1-2.5 2.5zm-9-23A1.5 1.5 0 0 0 11 2.5v19a1.5 1.5 0 0 0 1.5 1.5h9a1.5 1.5 0 0 0 1.5-1.5v-19A1.5 1.5 0 0 0 21.5 1h-9z"}),o.a.createElement("path",{d:"M23 5H11a.5.5 0 0 1 0-1h12a.5.5 0 0 1 0 1zm0 15H11a.5.5 0 0 1 0-1h12a.5.5 0 0 1 0 1zm-4 2h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 1 0 1zM17 3.5a1 1 0 1 1 1-1 1 1 0 0 1-1 1zM17 2v.5V2z"}),o.a.createElement("g",{opacity:".3"},o.a.createElement("path",{d:"M12 24H2.5A2.5 2.5 0 0 1 0 21.5v-9A2.5 2.5 0 0 1 2.5 10H10a.5.5 0 0 1 0 1H2.5A1.5 1.5 0 0 0 1 12.5v9A1.5 1.5 0 0 0 2.5 23H12a.5.5 0 0 1 0 1z"}),o.a.createElement("path",{d:"M5.5 23.5A.5.5 0 0 1 5 23V11a.5.5 0 0 1 1 0v12a.5.5 0 0 1-.5.5zm-2.5-6a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm0-1z"}))),o.a.createElement("symbol",{id:"ax-pop-out",width:"22",height:"16",viewBox:"0 0 22 16"},o.a.createElement("path",{d:"M14.2738 4.0633H19.7554L17.1865 1.8585C16.9843 1.67645 16.964 1.37304 17.1258 1.17076C17.3079 0.968485 17.6113 0.948257 17.8136 1.11008L21.3736 4.16444C21.4748 4.2858 21.5557 4.40717 21.5557 4.54876C21.5557 4.69036 21.4748 4.83195 21.3736 4.93309L17.8136 7.98745C17.7327 8.06836 17.6113 8.10881 17.5102 8.10881C17.3686 8.10881 17.227 8.04813 17.1258 7.92676C16.964 7.72449 16.9843 7.42108 17.1865 7.23903L19.7554 5.03422H14.2738C13.1006 5.03422 12.1701 5.96469 12.1701 7.11766V9.52474C12.1701 9.84838 11.9476 10.0507 11.6846 10.0507C11.4014 10.0507 11.1992 9.84838 11.1992 9.5652V7.15812C11.1992 5.459 12.5746 4.0633 14.2738 4.0633Z"}),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.4294 1.05688C14.4149 1.05656 14.4003 1.0564 14.3858 1.0564H2.43597C1.31568 1.0564 0.444336 1.95886 0.444336 3.04803V13.0062C0.444336 14.1265 1.31568 14.9979 2.43597 14.9979H14.3858C15.475 14.9979 16.3774 14.1265 16.3774 13.0062V9.74697C16.3744 9.47458 16.1526 9.25468 15.8795 9.25468C15.6064 9.25468 15.3847 9.47458 15.3816 9.74697L15.3816 9.75259V13.0062C15.3816 13.5664 14.9148 14.002 14.3858 14.002H2.43597C1.87582 14.002 1.44015 13.5664 1.44015 13.0062V5.03967H9.89934C10.1725 5.03749 10.3932 4.81539 10.3932 4.54176C10.3932 4.26813 10.1725 4.04605 9.89934 4.04387L9.89527 4.04385H5.42343V2.05221H14.3858C14.4022 2.05221 14.4185 2.05266 14.4348 2.05355V2.05219C14.7073 2.04928 14.9273 1.82748 14.9273 1.55431C14.9273 1.27932 14.7043 1.05688 14.4294 1.05688ZM1.44015 3.04803C1.44015 2.519 1.87582 2.05221 2.43597 2.05221H4.42761V4.04385H1.44015V3.04803Z"})),o.a.createElement("symbol",{id:"ax-pop-in",width:"21",height:"16",viewBox:"0 0 21 16"},o.a.createElement("path",{d:"M17.6934 11.8943L12.1887 11.8943L14.7684 14.1084C14.9715 14.2912 14.9918 14.5959 14.8293 14.799C14.6465 15.0021 14.3418 15.0224 14.1387 14.8599L10.5637 11.7927C10.4621 11.6709 10.3809 11.549 10.3809 11.4068C10.3809 11.2646 10.4621 11.1224 10.5637 11.0209L14.1387 7.95368C14.2199 7.87243 14.3418 7.8318 14.4434 7.8318C14.5855 7.8318 14.7277 7.89274 14.8293 8.01462C14.9918 8.21774 14.9715 8.52243 14.7684 8.70524L12.1887 10.9193H17.6934C18.8715 10.9193 19.8059 9.98493 19.8059 8.82712V6.40993C19.8059 6.08493 20.0293 5.8818 20.2934 5.8818C20.5777 5.8818 20.7809 6.08493 20.7809 6.3693V8.78649C20.7809 10.4927 19.3996 11.8943 17.6934 11.8943Z"}),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.21875 1H15.2188C16.3125 1 17.2188 1.90625 17.2188 3V7.20937H16.2188V5H2.21875V13C2.21875 13.5625 2.65625 14 3.21875 14H10.0098V15H3.21875C2.09375 15 1.21875 14.125 1.21875 13V3C1.21875 1.90625 2.09375 1 3.21875 1ZM3.21875 2C2.65625 2 2.21875 2.46875 2.21875 3V4H5.21875V2H3.21875ZM6.21875 4H16.2188V3C16.2188 2.46875 15.75 2 15.2188 2H6.21875V4Z"}),o.a.createElement("path",{d:"M16.7188 7.7083C16.4426 7.7083 16.2188 7.48444 16.2188 7.2083H17.2188C17.2188 7.48444 16.9949 7.7083 16.7188 7.7083Z"}),o.a.createElement("path",{d:"M10.5035 14.5C10.5035 14.7761 10.2797 15 10.0035 15V14C10.2797 14 10.5035 14.2239 10.5035 14.5Z"})),o.a.createElement("symbol",{width:"16",height:"16",id:"grip-vertical",viewBox:"0 0 320 512"},o.a.createElement("path",{d:"M40 480C17.91 480 0 462.1 0 440V392C0 369.9 17.91 352 40 352H88C110.1 352 128 369.9 128 392V440C128 462.1 110.1 480 88 480H40zM40 448H88C92.42 448 96 444.4 96 440V392C96 387.6 92.42 384 88 384H40C35.58 384 32 387.6 32 392V440C32 444.4 35.58 448 40 448zM232 480C209.9 480 192 462.1 192 440V392C192 369.9 209.9 352 232 352H280C302.1 352 320 369.9 320 392V440C320 462.1 302.1 480 280 480H232zM232 448H280C284.4 448 288 444.4 288 440V392C288 387.6 284.4 384 280 384H232C227.6 384 224 387.6 224 392V440C224 444.4 227.6 448 232 448zM0 232C0 209.9 17.91 192 40 192H88C110.1 192 128 209.9 128 232V280C128 302.1 110.1 320 88 320H40C17.91 320 0 302.1 0 280V232zM32 232V280C32 284.4 35.58 288 40 288H88C92.42 288 96 284.4 96 280V232C96 227.6 92.42 224 88 224H40C35.58 224 32 227.6 32 232zM232 320C209.9 320 192 302.1 192 280V232C192 209.9 209.9 192 232 192H280C302.1 192 320 209.9 320 232V280C320 302.1 302.1 320 280 320H232zM232 288H280C284.4 288 288 284.4 288 280V232C288 227.6 284.4 224 280 224H232C227.6 224 224 227.6 224 232V280C224 284.4 227.6 288 232 288zM0 72C0 49.91 17.91 32 40 32H88C110.1 32 128 49.91 128 72V120C128 142.1 110.1 160 88 160H40C17.91 160 0 142.1 0 120V72zM32 72V120C32 124.4 35.58 128 40 128H88C92.42 128 96 124.4 96 120V72C96 67.58 92.42 64 88 64H40C35.58 64 32 67.58 32 72zM232 160C209.9 160 192 142.1 192 120V72C192 49.91 209.9 32 232 32H280C302.1 32 320 49.91 320 72V120C320 142.1 302.1 160 280 160H232zM232 128H280C284.4 128 288 124.4 288 120V72C288 67.58 284.4 64 280 64H232C227.6 64 224 67.58 224 72V120C224 124.4 227.6 128 232 128z"})))}},function(t,r,a){"use strict";var i=a(1228);a.d(r,"b",(function(){return i.a})),r.a={useUpgradeInfo:i.a}},,,,function(t,r,a){"use strict";r.a={entity:"schedules",parent:{entity:"experiments",key:"experiment_id"}}},function(t,r,a){var i=a(12);r.deparam=function(t,r){var a={},o={true:!0,false:!1,undefined:void 0,null:null};return t&&"?"===t[0]&&(t=t.slice(1)),i.each(t.split("&"),(function(t,i){if(i){var c=i.split("="),l=decodeURIComponent(c[0]),u=!0;2===c.length&&(u=decodeURIComponent(c[1]),r&&(u=isNaN(u)?u in o?o[u]:u:+u)),l in a?a[l].push?a[l].push(u):a[l]=[a[l],u]:a[l]=u}})),a},r.querystring=function(t){return r.deparam(r.getLocationSearch(),t)},r.getLocationSearch=function(){return location.search}},,,,,,,,,,,function(t,r,a){var i=a(4),o=a(93),c=a(75).default,l=a(3),u=a(5).default,d=a(875),p=a(731),m=a(18),g=a(874),h=a(85).default,y=a(2752),v=a(3522),_=a(878),E=a(409).default,b=o.extend(y);t.exports={replace:!0,componentId:"p13n-widget-config-sidebar",components:{"change-timing-dropdown":_,"sidebar-header":E},template:v,data:{includeTimingLabel:!1,isEditing:!1,isDestroyed:!1,timingDropdownTypes:m.constants.TimingDropdownTypes},computed:{isDirty:function isDirty(){var t=this.formValues;if(!this.isEditing)return!0;var r=!i.isUndefined(this._originalChange.async)&&this._originalChange.async!==this.isAsync,a=i.isUndefined(this._originalChange.async)&&this.isAsync;return!i.isEqual(t,this._originalChange.config)||r||a},editingChange:function editingChange(){return i.extend({},this._change,{config:this.formValues,async:this.isAsync})}},methods:{applyEditingChanges:function applyEditingChanges(){var t=l.evaluateToJS(m.getters.currentlyEditingActionFormatted(!0,this.editingChange));g.applyChanges(this._editorIframeId,t)},applyExistingChanges:function applyExistingChanges(){var t=l.evaluateToJS(m.getters.currentlyEditingActionFormatted(!0));g.applyChanges(this._editorIframeId,t)},deleteChange:function deleteChange(){var t=this;u.confirm({title:tr("Are you sure you want to delete these changes?"),message:tr("The deletion will not take effect until the next publish."),confirmText:tr("Delete Change"),isWarning:!0}).then((function(){var r=t._change.name||t.widget.name,a=m.actions.deleteChange(t._change.id).then((function(){u.showNotification({message:tr("Your changes on the extension <b>{0}</b> have been deleted.",r),type:"warning"}),t.applyExistingChanges(),h.showChangeListSidebar(t.changeListSidebarComponentConfig)}));u.loadingWhen("widget-editor-sidebar",a)}))},handleChangeTimingChanged:function handleChangeTimingChanged(t){this.isAsync=t.isAsync}},created:function created(){var t=this;if(!this._widget||!this._editorIframeId)throw new Error("Must supply `_widget` and `_editorIframeId`");this.widget=c(this._widget),d.loadPlugin(this.widget),this._change&&(this.isEditing=!0,this._change=c(this._change),this._originalChange=c(this._change),this.widget.form_schema.forEach((function(r){t._change.config.hasOwnProperty(r.name)||(t._change.config[r.name]=r.default_value)})),d.setFormValues(this._change.config)),l.bindVueValues(this,{changeListSidebarComponentConfig:m.getters.changeListSidebarComponentConfig,formValues:p.formValues}),l.observe(p.formValues,i.debounce((function(){t.isDestroyed||t.applyEditingChanges()}),250)),this.isEditing||(this._change=m.fns.createWidgetChange({name:this.widget.name,widget_id:this.widget.plugin_id,config:this.formValues})),this.isAsync=this._change.async},ready:function ready(){var t=this,r={parent:this,el:this.$$.form,data:{allowSchemaEdit:!1,activeFrameId:this._editorIframeId,inVariationEditor:!0},onUpdateFormValue:function onUpdateFormValue(t){d.setFormValue(t.name,t.value)},formValuesGetter:p.formValues};this.isEditing&&(r.formValuesDirtyStatusGetter=m.getters.extensionChangeFieldStatuses(this._change.id,p.formValues),r.onRevert=function(r){d.setFormValue(r.name,t._change.config[r.name]),d.stopEditingSelector()},r.data.changeId=this._change.id),new b(r),this.isEditing||this.applyEditingChanges()},beforeDestroy:function beforeDestroy(){d.reset(),this.isDestroyed=!0}}},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(5),l=a(110),u=a(18),d=a(85),p={methods:{saveChange:function saveChange(){if(this.currentlyEditingChangeIsDirty){var t=u.actions.saveEditingChange().then((function(t){return c.default.showNotification({message:tr("Your changes have been saved."),type:"success"}),t}));return c.default.loadingWhen("change-editor-sidebar",t),t}return o.a.Deferred().resolve()},saveChangeAndShowChangeListSidebar:function saveChangeAndShowChangeListSidebar(t){var r=this;return this.saveChange().then((function(){return r.showChangeListSidebar(t)}))},saveChangeAndShowChangeListSidebarAndRefreshCurrentIFrame:function saveChangeAndShowChangeListSidebarAndRefreshCurrentIFrame(t){return this.saveChangeAndShowChangeListSidebar(t).then(u.actions.refreshCurrentIframe)},showChangeListSidebar:function showChangeListSidebar(t){d.default.confirmNavigation(this.currentlyEditingChangeIsDirty,l.c.CHANGE,(function(){u.actions.undoDirtyChange(),u.actions.unsetCurrentlyEditingChange(),d.default.showChangeListSidebar(t)}))},showChangeSelectorSidebar:function showChangeSelectorSidebar(){d.default.confirmNavigation(this.currentlyEditingChangeIsDirty,l.c.CHANGE,(function(){u.actions.undoDirtyChange(),u.actions.unsetCurrentlyEditingChange(),d.default.showChangeSelectorSidebar()}))},showCorrectSidebar:function showCorrectSidebar(t){this.isNewChange?this.showChangeSelectorSidebar():this.showChangeListSidebar(t)}}};r.a=p},function(t,r,a){"use strict";a(12),a(72),a(709),a(2516);var i=a(220);a.d(r,"a",(function(){return i.default}));a(2517),a(2518),a(2519);var o={};o[i.default.IFrameHighlightTypes.HOVERED]="optly-hover",o[i.default.IFrameHighlightTypes.SELECTED]="optly-selected",o[i.default.IFrameHighlightTypes.LIVE]="optly-live",o[i.default.IFrameHighlightTypes.STAGED]="optly-staged",o[i.default.IFrameHighlightTypes.DRAFT]="optly-draft";i.default},,function(t,r,a){"use strict";a.d(r,"a",(function(){return re}));var i,o=a(0),c=a.n(o),l=a(1),u=a.n(l),d=a(9),p=a.n(d),m=a(31),g=a(153),h=a(108),y=a(135),v=a(625),_=a(206),E=a(32),b=a(19),T=a(40),S=a(79),C=a(320),I=a(188),A=a(190),O=a(134),P=a(62),R=a(76),w=a(953),N=a(2),L=a(192),x=a.n(L),D=a(28),k=a(5),j=a(161),M=(a(2764),a(20)),U=a(14),V=a(242),B=a(128),G=a(326),H=a(268),z=a(673),W=a(373),q=a(185),Y=a(323);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var K=j.enums.ConditionGroupTypes,J=K.AND,X=K.OR,Q=j.enums.audienceMatchTypes,Z=Q.ALL_AUDIENCES,ee=Q.ANY_AUDIENCES,te=Q.CUSTOM_AUDIENCES,ne=(_defineProperty(i={},Z,J),_defineProperty(i,ee,X),i),re=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(AudienceCombinationsBuilder,t);var r=_createSuper(AudienceCombinationsBuilder);function AudienceCombinationsBuilder(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,AudienceCombinationsBuilder);var i=t.audienceConditions,o=t.audiences;return(a=r.call(this,t)).deriveComponentStateFromAudienceConditionsProp=function(){var t=a.props.defaultAudienceMatchType,r=a.props.audienceConditions;r&&r.size||(r=Object(N.toImmutable)([t===ee?X:J]));var i=Y.a.deriveAudienceMatchTypeFromConditions(r);return _extends({},i===te?{isCodeMode:!0}:{},{audienceConditionsString:Y.a.derivePrettyStringFromImmutableList(r),audienceConditions:r,audienceMatchType:i})},a.reinitializeComponent=function(){a.setState(a.deriveComponentStateFromAudienceConditionsProp())},a.setStateAndUpdateParent=function(t){var r=t.audienceMatchType,i=t.audienceConditions,o=t.audienceConditionsString,c=a.props,l=c.canEditAudience,u=c.onSelectionChange;if(l){var d=M.fns.deriveAudienceIdsFromAudienceConditions(i);a.setState({audienceConditions:i,audienceMatchType:r,audienceConditionsString:o},(function(){u({audienceConditions:i,isValidAudienceConfig:a.validateAudienceConfig(o,d).isValid})}))}},a.validateAudienceConfig=function(t,r){var a={};return Object.values(Y.a.validators).forEach((function(i){var o=i({audienceConditionsString:t,audienceIds:r});o&&(a[i.name]=o)})),{isValid:!Object.keys(a).length,validations:a}},a.handleAddAudience=function(t,r){var i=a.props.defaultAudienceMatchType,o=a.state,c=o.audienceConditions,l=o.audienceNamesMap,u=a.state.audienceMatchType,d=c;c.filter((function(t){return t instanceof N.default.Map})).size||(u=i,d=Object(N.toImmutable)([i===ee?X:J])),d=d.push(Object(N.toImmutable)({audience_id:t})),a.setState({audienceNamesMap:_extends({},l,_defineProperty({},t,r))}),a.setStateAndUpdateParent({audienceConditions:d,audienceConditionsString:Y.a.derivePrettyStringFromImmutableList(d),audienceMatchType:u})},a.handleRemoveAudience=function(t){var r=a.props.defaultAudienceMatchType,i=a.state.audienceConditions,o=a.state.audienceMatchType,c=i;c=i.filterNot((function(r){return r instanceof N.default.Map&&r.get("audience_id")===t})),(r===ee&&o===Z||r===Z&&o===ee)&&c.filter((function(t){return t instanceof N.default.Map})).size<=1&&(o=r,c=c.set(0,o===ee?X:J)),a.setStateAndUpdateParent({audienceConditions:c,audienceConditionsString:Y.a.derivePrettyStringFromImmutableList(c),audienceMatchType:o})},a.handleAudienceConditionsStringUpdate=function(t){var r=Y.a.deriveAudienceConditionsJsonFromString(t),i=Y.a.derivePrettyStringFromImmutableList(r);a.setStateAndUpdateParent({audienceConditions:r||Object(N.toImmutable)([]),audienceConditionsString:i||t,audienceMatchType:Y.a.deriveAudienceMatchTypeFromConditions(r)})},a.handleAudienceMatchTypeUpdate=function(t){var r=a.state.audienceConditions.set(0,t===ee?X:J),i=Y.a.derivePrettyStringFromImmutableList(r);a.setStateAndUpdateParent({audienceConditions:r,audienceConditionsString:i,audienceMatchType:t})},a.handleCreateOrEditAudience=function(t){var r=t.id,i=void 0===r?null:r,o=t.name,c=void 0===o?"":o;k.default.loadingStart("main"),V.actions.fetchOrCreateAudience(i,c).then((function(t){var r=$.Deferred();i||r.then((function(t){a.handleAddAudience(t.id,t.name)})),B.actions.showAudienceEditorDialog(t,r).finally((function(){k.default.loadingStop("main")}))}))},a.handleViewExperimentUsage=function(t){k.default.showReactDialog(w.a,{props:{selectedAudienceId:t}},{isOuiDialog:!0,fullScreen:!1,dismissOnBack:!0})},a.handleToggleCodeMode=function(){a.state.audienceMatchType!==te&&a.setState((function(t){return{isCodeMode:!t.isCodeMode}}))},a.renderAudienceSelectionText=function(t){var r=a.props,i=r.canEditAudience,o=r.shouldShowAudienceCombinationOptions,l=r.isFlagProject,u=a.state,d=u.audienceMatchType,p=u.isCodeMode;if(!(o&&t>0&&d!==te&&!p))return null;return t>1?c.a.createElement(g.a,{"data-test-section":"audience-selection-text",paddedContent:"ends",verticalAlignment:"center"},c.a.createElement(h.a,{small:"fitContent"},"Match"),c.a.createElement(h.a,{small:"fitContent"},c.a.createElement(y.a,{buttonStyle:"underline",isDisabled:!i,items:[{activatorLabel:c.a.createElement("strong",null,"any"),label:"any",value:ee},{activatorLabel:c.a.createElement("strong",null,"all"),label:"all",value:Z}],onChange:function onChange(t){return a.handleAudienceMatchTypeUpdate(t)},testSection:"audience-combination-dropdown",value:d})),c.a.createElement(h.a,{small:"fitContent"},"of the following audiences:")):function renderMatchText(){return l?c.a.createElement(c.a.Fragment,null):c.a.createElement(g.a,{paddedContent:"ends"},c.a.createElement(h.a,{small:"fillSpace","data-test-section":"audience-selection-text"},"Match the following audience:"))}()},a.renderEveryoneTag=function(){return a.props.isFlagProject?c.a.createElement("div",{className:"width--1-1"},c.a.createElement(v.a,{isDraggable:!1,key:"everyone",name:"Everyone",onTileClick:function onTileClick(){},testSection:"selected-audience-everyone"})):c.a.createElement(g.a,{paddedContent:"top"},c.a.createElement(h.a,{small:"fillSpace"},c.a.createElement(_.a,{isFullWidth:!0,hasWrap:!1,name:"Everyone",showWell:!1,testSection:"selected-audience-everyone"})))},a.renderAudiencesBasicByIds=function(t,r){var i=a.state,o=i.audienceMatchType,l=i.audienceNamesMap,u=a.props,d=u.audiences,p=u.canEditAudience,y=u.audienceNamesMap,T=u.isWebProject,S=u.isFullStackProject,C=u.isFlagProject,I=T?"fillSpace":"11",A=Object(m.isFeatureEnabled)("usage_inspector_audiences"),O=y||l;return t.map((function(t,i){var l=r===i+1,u=d.find((function(r){return r.get("id")===t})),m=c.a.createElement(c.a.Fragment,{key:t},c.a.createElement("div",{className:"width--1-1"},c.a.createElement(v.a,{description:"ID:".concat(t),dropdownItems:function getActionsDropdownItems(r){return[c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a.ListItem,{hideOnClick:!0,key:"".concat(r,"-action")},c.a.createElement(E.a.BlockLink,{isLink:!0,onClick:function onClick(){return a.handleCreateOrEditAudience({id:t})},testSection:"view-selected-audience-".concat(t)},c.a.createElement(E.a.BlockLinkText,{text:"Edit"}))),c.a.createElement(E.a.ListItem,{removeBorderTop:!0},!S&&c.a.createElement(P.OptimizelyFeature,{feature:"usage_inspector_audiences"},(function(r){return r&&c.a.createElement(E.a.BlockLink,{isLink:!0,onClick:function onClick(){return a.handleViewExperimentUsage(t)},testSection:"view-experiment-usage-audience-".concat(t)},"View Experiment Usage")}))),c.a.createElement(E.a.ListItem,null,c.a.createElement(E.a.BlockLink,{onClick:function onClick(){return a.handleRemoveAudience(t)},testSection:"delete-selected-audience-".concat(t)},c.a.createElement(E.a.BlockLinkText,{isDestructive:!0,text:"Delete"}))))]}(i),isDraggable:!1,key:t,name:function renderName(){return c.a.createElement("span",{style:{display:"inline-grid"}},c.a.createElement("span",{className:"truncate",title:O[t],"data-test-section":"tile-name"},x()(O[t],75)))}(),onTileClick:function onTileClick(){},testSection:"selected-audience-".concat(t)}),!l&&c.a.createElement("div",{className:"push-half--ends"},ne[o]))),y=c.a.createElement(c.a.Fragment,{key:t},c.a.createElement(g.a,{verticalAlignment:"center","data-test-section":"selected-audience"},c.a.createElement(h.a,{small:I},c.a.createElement(_.a,{description:"ID:".concat(t),hasWrap:!1,isDismissible:p,isFullWidth:!0,name:x()(O[t],75),onDismiss:function onDismiss(){return a.handleRemoveAudience(t)},showWell:!1,testSection:"selected-audience-".concat(t)})),T&&A&&c.a.createElement(h.a,{small:"5"},c.a.createElement("span",{className:"micro muted"},"Used in ",u.get("experiment_count")," experiments")),c.a.createElement(h.a,{small:"1"},c.a.createElement(R.a,{activator:c.a.createElement(b.a,{testSection:"audience-combinations-builder-actions",size:"small",style:"outline"},c.a.createElement("div",{className:"flex flex-align--center"},c.a.createElement("span",{className:"flex flex--1"},"Actions"),c.a.createElement("span",{className:"push--left oui-arrow-inline--down"})))},c.a.createElement(R.e,{direction:"left",minWidth:"200px"},c.a.createElement(R.f,{hideOnClick:!0},c.a.createElement(R.b,{isLink:!0,onClick:function onClick(){return a.handleCreateOrEditAudience({id:t})},testSection:"view-selected-audience-".concat(t)},"Edit"),!S&&c.a.createElement(P.OptimizelyFeature,{feature:"usage_inspector_audiences"},(function(r){return r&&c.a.createElement(R.b,{isLink:!0,onClick:function onClick(){return a.handleViewExperimentUsage(t)},testSection:"view-experiment-usage-audience-".concat(t)},"View Experiment Usage")}))))))),!l&&c.a.createElement(g.a,{paddedContent:"remove",verticalAlignment:"center"},c.a.createElement("div",{className:"push-half--ends"},ne[o])));return C?m:y}))},a.renderAudiencesBasic=function(t,r){var i=a.props,o=i.showEveryoneAsDefault,l=i.isFlagProject;return c.a.createElement(g.a,{verticalAlignment:"center",paddedContent:l?"none":"sides","data-test-section":"selected-audiences"},c.a.createElement(h.a,{small:"12"},!r&&o&&a.renderEveryoneTag()||!!r&&a.renderAudiencesBasicByIds(t,r)))},a.renderAudiencesAdvanced=function(t){var r=a.props,i=r.audiences,o=r.canEditAudience,l=r.isFlagProject,u=a.state.audienceConditionsString;if(l)return c.a.createElement(g.a,{paddedContent:"top"},c.a.createElement(h.a,{small:"fillSpace"},c.a.createElement(_.a,{description:"Custom code audience, use the REST API to update",hasWrap:!1,isDismissible:!1,isFullWidth:!0,name:"Advanced audience",showWell:!1})));var d=a.validateAudienceConfig(u,t);return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.a,{paddedContent:"top"},c.a.createElement(h.a,{small:"fillSpace"},c.a.createElement(W.a,{isReadOnly:!o,maxHeight:900,onChange:a.handleAudienceConditionsStringUpdate,options:{lint:!1},testSection:"audience-conditions-code-mirror",value:u}),c.a.createElement("div",null,"For help writing condition code, see our"," ",c.a.createElement(T.a,{href:"https://docs.developers.optimizely.com/full-stack/docs/set-audiences-for-experiments-and-rollouts#section-step-3-define-the-conditions",newWindow:!0},"API documentation"),"."))),c.a.createElement(g.a,null,c.a.createElement(h.a,{small:"fillSpace"},c.a.createElement(S.a,null,c.a.createElement("span",{className:"weight--bold"},"Evaluated Audiences")),c.a.createElement("div",{className:p()({"color--bad-news":!d.isValid}),"data-test-section":"evaluated-audiences"},d.isValid?j.fns.getPlaceHolderNameFromAudiences(u,i)||"Everyone":Object.values(d.validations).join(" ")))))},a.state=_extends({audienceNamesMap:Y.a.computeSelectedAudienceNamesMap(i,o),isCodeMode:!1},a.deriveComponentStateFromAudienceConditionsProp()),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(AudienceCombinationsBuilder,[{key:"componentDidMount",value:function componentDidMount(){Object(q.trackHeroElement)("audience_picker")}},{key:"render",value:function render(){var t=this,r=this.props,a=r.canEditAudience,i=r.inForm,o=r.isWebProject,l=r.isFlagProject,u=r.poptipContent,d=r.projectId,p=r.shouldShowAudienceCombinationOptions,m=r.shouldShowCodeModeButton,y=r.shouldWaitForAudienceFetch,v=r.showLabel,_=r.shouldShowAudienceWithHelper,E=this.state,P=E.audienceConditions,R=E.audienceConditionsString,w=E.audienceMatchType,N=E.isCodeMode,L=M.fns.deriveAudienceIdsFromAudienceConditions(P),x=L.length,D=this.validateAudienceConfig(R,L),k=!D.isValid||w===te;return c.a.createElement(H.a,{alternateContent:c.a.createElement("div",{title:"Something went wrong","data-test-section":"audiences-error-boundary"},c.a.createElement("h3",null,"Audiences"),"There was an error loading Audiences. Please refresh the page or visit our Help Center if the issue persists.",c.a.createElement("div",{className:"display--block push--top"},c.a.createElement(b.a,{style:"highlight",onClick:G.b},"Optimizely Help Center")))},c.a.createElement(C.a,{fluid:!1,pushRowsTop:!0,pullRowPadding:!0},v&&c.a.createElement(g.a,{verticalAlignment:"center"},c.a.createElement(h.a,{small:"fillSpace"},c.a.createElement(S.a,{testSection:"audience-label"},_&&c.a.createElement("h3",{className:"display--inline-block","data-test-section":"audience-title"},"Audiences"),i&&!1===_&&c.a.createElement("h3",{className:"display--inline-block flush","data-test-section":"audience-form-title"},"Audiences"),(i||_)&&c.a.createElement(I.a,{horizontalAttachment:"left",popoverTitle:"Audiences",verticalAttachment:"top",testSection:"audiences-help-popover"},c.a.createElement(c.a.Fragment,null,u,p&&c.a.createElement("span",{"data-test-section":"audiences-help-popover-optional-combination-note"},"When multiple Audiences are selected, you can choose a combination of ",c.a.createElement("em",null,"any")," or ",c.a.createElement("em",null,"all")," of the selected Audiences, or even define a custom combination in the ",c.a.createElement("em",null,"Advanced code editor"),"."))))))),c.a.createElement(C.a,{fluid:!1,pushRowsTop:!0,pullRowPadding:!0},c.a.createElement(g.a,{verticalAlignment:"center"},c.a.createElement(h.a,{small:m?6:12,"data-test-section":"audience-picker",style:{padding:"5px 0"}},a&&D.isValid&&c.a.createElement(z.a,{addAudience:function addAudience(r){t.handleAddAudience(r.id,r.name)},openCreateAudienceDialog:function openCreateAudienceDialog(r){t.handleCreateOrEditAudience({name:r})},openEditAudienceDialog:function openEditAudienceDialog(r){t.handleCreateOrEditAudience({id:r.id})},projectId:d,selectedEntityIds:L,shouldWaitForAudienceFetch:y})),!l&&c.a.createElement(h.a,{small:"fillSpace"},"  "),c.a.createElement(h.a,{small:"fitContent"},p&&m&&c.a.createElement(A.a,{content:"Due to the structure or syntax of your conditions, you can only edit this Audience combination in the Advanced code editor",disable:!k,isAnimated:!1},c.a.createElement(b.a,{isDisabled:k,key:"btn-toggle-code-mode",onClick:this.handleToggleCodeMode,size:"small",style:"outline",testSection:"code-mode-toggle"},"".concat(N?"Easy":"Advanced code"," editor")))))),c.a.createElement(C.a,{fluid:!1,pullRowPadding:!0},this.renderAudienceSelectionText(x),N?this.renderAudiencesAdvanced(L):this.renderAudiencesBasic(L,x),!o&&0!==x&&D.isValid&&w!==ee&&c.a.createElement(g.a,{paddedContent:"top"},c.a.createElement(h.a,{small:"fillSpace"},c.a.createElement(O.a,{alignment:"center",type:"brand",testSection:"sdk-compatibility-warning"},"Using this audience combination requires Optimizely SDK 3.0 or later."," ",c.a.createElement(T.a,{newWindow:!0,href:"https://docs.developers.optimizely.com/full-stack/docs/set-audiences-for-experiments-and-rollouts"},"Learn more"))))))}}]),AudienceCombinationsBuilder}(o.Component);re.displayName="AudienceCombinationsBuilder",re.propTypes={audiences:u.a.instanceOf(N.default.List).isRequired,isFlagProject:u.a.bool,isWebProject:u.a.bool.isRequired,inForm:u.a.bool,projectId:u.a.number.isRequired,shouldShowAudienceCombinationOptions:u.a.bool.isRequired,shouldShowCodeModeButton:u.a.bool,shouldShowAudienceWithHelper:u.a.bool,audienceNamesMap:u.a.object,audienceConditions:u.a.instanceOf(N.default.List),canEditAudience:u.a.bool,defaultAudienceMatchType:u.a.oneOf([Z,ee]),onSelectionChange:u.a.func,poptipContent:u.a.node,shouldWaitForAudienceFetch:u.a.bool,showEveryoneAsDefault:u.a.bool,showLabel:u.a.bool,isFullStackProject:u.a.bool.isRequired},re.defaultProps={audienceNamesMap:null,audienceConditions:Object(N.toImmutable)([]),canEditAudience:!0,isFlagProject:!1,defaultAudienceMatchType:ee,inForm:!1,onSelectionChange:function onSelectionChange(){},poptipContent:c.a.createElement("p",null,"Who do you want to be included in this experience?"),shouldShowCodeModeButton:!0,shouldWaitForAudienceFetch:!1,showEveryoneAsDefault:!0,showLabel:!0,shouldShowAudienceWithHelper:!0},r.b=Object(D.a)((function(){return{audiences:U.getters.audiences,isWebProject:U.getters.isWebProject,projectId:U.getters.id,shouldShowAudienceCombinationOptions:Y.b.shouldShowAudienceCombinationOptions(),isFullStackProject:U.getters.isFullStackProject}}))(re)},function(t,r,a){"use strict";a(31);var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(222),d=a(223),p=(a(3),a(150)),m=a(2),g=a(39),h=a(8),y=a.n(h),v=a(29),_=a(324),E=v.default.EnvironmentStatus;function getIconTypeFromStatus(t){return t===E.RUNNING?_.b.GREEN_CHECK:_.b.GREY_EMPTY}function EnvironmentsStatusOverview(t){var r=t.isArchived,a=t.environmentsInfo,i=t.getStatusDescription,o=Object(p.b)({canCurrentProjectUseTargetedRollouts:g.default.canCurrentProjectUseTargetedRollouts}).canCurrentProjectUseTargetedRollouts;if(r)return l.a.createElement("div",{className:"muted"},"Archived");var c=a.get(0);if(!c)return null;return l.a.createElement("div",null,l.a.createElement(u.a,{behavior:"hover",horizontalAttachment:"left",verticalAttachment:"middle",overlay:!o&&l.a.createElement(d.a,{testSection:"environment-status-list",title:y()("Environments")},l.a.createElement("ul",{className:"min-width--150"},a.map((function(t){return l.a.createElement("li",{key:String(t.get("id"))},l.a.createElement("div",{className:"flex"},l.a.createElement("div",{className:"flex--1 push--right"},l.a.createElement(_.a,{key:String(t.get("id")),name:t.get("name"),iconType:getIconTypeFromStatus(t.get("status"))})),l.a.createElement("div",{className:"push--left","data-test-section":"environment-status-description"},i(t))))})).reverse()))},function renderEnvironments(){if(a.size<=2)return l.a.createElement("div",{"data-test-section":"two-minus-environments-status-overview"},a.map((function(t){return l.a.createElement(_.a,{key:String(t.get("id")),name:t.get("name"),iconType:getIconTypeFromStatus(t.get("status"))})})).reverse());var t,r=a.slice(1).map((function(t){return t.get("status")})).toSet(),i=1===r.size&&r.has(E.RUNNING),o=r.size>1&&r.has(E.RUNNING);return t=i?_.b.GREEN_CHECK:o?_.b.HALF_GREEN:_.b.GREY_EMPTY,l.a.createElement("div",{"data-test-section":"three-plus-environments-status-overview"},l.a.createElement(_.a,{key:"secondEnvironment",name:y()("Other Environments ({0})",a.size-1),iconType:t}),l.a.createElement(_.a,{key:"firstEnvironment",name:c.get("name"),iconType:getIconTypeFromStatus(c.get("status"))}))}()))}EnvironmentsStatusOverview.propTypes={isArchived:o.a.bool,environmentsInfo:o.a.instanceOf(m.default.List),getStatusDescription:o.a.func},EnvironmentsStatusOverview.defaultProps={isArchived:!1,environmentsInfo:m.default.List(),getStatusDescription:function getStatusDescription(){}},r.a=EnvironmentsStatusOverview},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(98),d=a(109),p=a(63);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var m=function VariablesActionCell(t){var r=t.defaultVariable,a=t.index,i=t.isDisabled,c=t.showAddButton,l=t.showRemoveButton,p=t.variableField,m=t.variablesField,g=t.testSection;return o.a.createElement(u.a,{rightGroup:[].concat(_toConsumableArray(l?[o.a.createElement(d.a,{iconName:"trash-can",isDisabled:i,onClick:function handleOnRemove(){"number"==typeof p.getValue().get("id")?p.field("archived").setValue(!0):m.removeChild(a),0===m.filterChildren((function(t){return!t.getValue().get("archived")})).size&&m.pushChild(r)},size:"small",style:"outline",title:"Remove row",testSection:"".concat(g,"-remove-button"),key:"variables-action-cell-remove-button"})]:[]),_toConsumableArray(c?[o.a.createElement(d.a,{iconName:"plus",isDisabled:i,onClick:function addRow(){m.pushChild(r)},size:"small",style:"outline",title:"Add new variable row",testSection:"".concat(g,"-add-button"),key:"variables-action-cell-add-button"})]:[]))})};m.defaultProps={isDisabled:!1,showAddButton:!1,showRemoveButton:!1,testSection:"variables-action-cell"},m.propTypes={defaultVariable:p.b.isRequired,index:l.a.number.isRequired,isDisabled:l.a.bool,showAddButton:l.a.bool,showRemoveButton:l.a.bool,testSection:l.a.string,variableField:p.b.isRequired,variablesField:p.b.isRequired},r.a=m},,,,function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(320),d=a(153),p=a(108),m=a(52),g=a(19),h=a(100),y=a(822),v=a.n(y);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var _=function FeaturesEmptyState(t){var r=t.archivedItemsCtaIfAvailableComponent,a=t.canManageFeatureFlags,c=t.isLoading,l=t.onCreateNewFeature,y=_slicedToArray(Object(i.useState)(""),2),_=y[0],E=y[1],b=_slicedToArray(Object(i.useState)(!1),2),T=b[0],S=b[1],C=Object(i.useCallback)(l,[l]),I=function handleCreate(){""!==_?C(_):S(!0)};return o.a.createElement("div",{className:"flex--dead-center hard--top"},o.a.createElement(u.a,{pushRowsTop:!1,paddedContent:"around",fluid:!0},o.a.createElement(d.a,null,o.a.createElement(p.a,{isReadingColumn:!0},o.a.createElement(d.a,null,o.a.createElement(p.a,{small:4},o.a.createElement("img",{alt:"cell phone",src:v.a})),o.a.createElement(p.a,{small:8},o.a.createElement(d.a,{removeGutters:!1,paddedContent:"sides"},o.a.createElement("div",{className:"push-double--bottom"},o.a.createElement("h2",null,"Create your first feature flag"),o.a.createElement("p",null,"Wrap a feature, like a chatbot or payment option, in a feature flag to control its availability with an on/off switch."),o.a.createElement("div",null,o.a.createElement(m.a,{displayError:T,isDisabled:c,label:"Give your feature a name:",note:T?"Please enter a valid key. Valid keys contain alphanumeric characters, hyphens, and underscores, and are limited to 64 characters.":"",onChange:function handleApiNameChange(t){var r=t.target.value,a=!h.default.apiName.test(r);E(r),S(a)},onKeyDown:function onKeyDown(t){return 13===t.keyCode?I():null},placeholder:"",testSection:"feature-empty-state-input",type:"text",value:_}))),o.a.createElement(g.a,{isDisabled:a&&T,isLoading:c,loadingText:"Creating Feature",onClick:I,testSection:"feature-empty-state-submit",style:"highlight",width:"default"},"Create New Feature"),r&&o.a.createElement("div",{className:"push--left"},r))))))))};_.propTypes={archivedItemsCtaIfAvailableComponent:l.a.node,canManageFeatureFlags:l.a.bool.isRequired,isLoading:l.a.bool.isRequired,onCreateNewFeature:l.a.func.isRequired},_.defaultProps={archivedItemsCtaIfAvailableComponent:null},_.componentId="FeaturesEmptyState",r.a=_},function(t,r,a){"use strict";var i,o,c,l=a(0),u=a.n(l),d=a(1),p=a.n(d),m=a(62),g=a(71),h=a(19),y=a(853),v=a(204),_=a(134),E=a(26),b=a(435),T=a(154),S=a(320),C=a(5),I=a(2589),A=a(2590),O=a(2591),P=a(868);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var R=(i=Object(g.virtualPageview)("Features","Quickstart Guide"),Object(g.withTrack)(o=i(((c=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(FeaturesQuickstart,t);var r=_createSuper(FeaturesQuickstart);function FeaturesQuickstart(){var t;_classCallCheck(this,FeaturesQuickstart);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={isFlagOn:t.props.isFlagOn(t.props.featureFlag),featureToggleCount:0,hasConfirmed:!1,updatedFeatureFlag:t.props.featureFlag,isUpdatingFeature:!1,selectedLanguage:P.a.REACT},t.onToggle=function(){var r=t.props,a=r.track,i=(r.environment,t.state),o=i.featureToggleCount,c=i.updatedFeatureFlag;t.setState({isUpdatingFeature:!0}),t.props.toggleFlag(c).then((function(r){var i=o+1;t.setState((function(a){return{featureToggleCount:i,updatedFeatureFlag:r,isFlagOn:t.props.isFlagOn(r),isUpdatingFeature:!1}})),1===i&&a("First Feature Flag Toggle Clicked")}))},t.handleLanguageChange=function(r){r!==t.state.selectedLanguage&&t.setState({selectedLanguage:r})},t.handleConfirm=function(){var r=t.props.track,a=t.state.selectedLanguage;t.setState({hasConfirmed:!0}),r("First Feature Flag Confirm Done Clicked",{selectedLanguage:a})},t.handleClose=function(){t.state.featureToggleCount<1?C.default.showReactDialog(O.a,{},{isOuiDialog:!0}):C.default.hideDialog()},t.renderLanguageSelector=function(r){var a=t.state.selectedLanguage;return u.a.createElement(u.a.Fragment,{key:r},u.a.createElement("p",{"data-test-section":"quickstart-language-selector"},u.a.createElement("strong",null,r,". Select a language")),u.a.createElement(I.a,{languageOptions:P.b,languageOptionsNotAvailable:P.c,value:a,onChange:t.handleLanguageChange}),u.a.createElement("br",null))},t.renderFeatureToggleStep=function(r){var a=t.state,i=a.featureToggleCount,o=a.hasConfirmed,c=a.isUpdatingFeature,l=a.isFlagOn;return u.a.createElement(u.a.Fragment,{key:r},u.a.createElement("p",{"data-test-section":"quickstart-feature-toggle"},u.a.createElement("strong",null,r,". Confirm your feature flag")),o?u.a.createElement("div",{className:"push-triple--bottom"},u.a.createElement("p",null,"The flag is off by default. Switch it on to see the feature in your app."),u.a.createElement("div",{className:"flex flex-align--center"},u.a.createElement(y.a,{checked:l,elementId:"quickstart-feature-toggle",isDisabled:c,onClick:t.onToggle.bind(_assertThisInitialized(t)),testSection:"quickstart-feature-toggle-switch"}),u.a.createElement("div",{className:"push--left"},c?u.a.createElement("div",{className:"flex flex-align--center"},u.a.createElement(v.a,{size:"small"})," Updating datafile..."):1===i&&u.a.createElement(_.a,{type:"good-news",testSection:"quickstart-success"},u.a.createElement("div",{className:"flex"},u.a.createElement("div",{className:"push-half--right",style:{position:"relative",top:"2px"}},u.a.createElement(E.a,{name:"check-circle-solid",size:"small"})),"Congrats! Your feature has been turned on."))))):u.a.createElement("div",{className:"push-triple--bottom"},u.a.createElement("p",null,'After completing the above steps, click "Done."'),u.a.createElement(h.a,{onClick:t.handleConfirm,style:"outline",testSection:"quickstart-confirm",width:"default"},"Done")))},t.renderCodeStep=function(t){var r=_slicedToArray(t,4),a=r[0],i=r[1],o=r[2],c=r[3];return function(t){return u.a.createElement(u.a.Fragment,{key:t},u.a.createElement("div",{"data-test-section":"quickstart-code-step-".concat(t),className:"push--bottom"},u.a.createElement("strong",null,"".concat(t,". ").concat(a)),u.a.createElement(m.OptimizelyFeature,{feature:"first_feature_flag_guide"},(function(t,r){var a=c.map((function(t){return Object.assign(t,{href:r[t.helpLinkFeatureVariable]})}));return t&&c.length?u.a.createElement(A.a,{links:a}):null}))),u.a.createElement("div",{className:"code-div"},u.a.createElement(b.a,{copyButtonStyle:"outline",copyButtonUsesTextLabel:!0,hasCopyButton:!0,isHighlighted:!0,language:o,type:"block"},i)),u.a.createElement("br",null))}},t.renderSteps=function(){var r=t.state.selectedLanguage,a=t.props,i=a.sdkKey,o=a.flagKey,c=P.d[r](i,o);return[t.renderLanguageSelector].concat(_toConsumableArray(c.map(t.renderCodeStep)),[t.renderFeatureToggleStep]).map((function(t,r){return t(r+1)}))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(FeaturesQuickstart,[{key:"render",value:function render(){var t=this.props.flagKey;return u.a.createElement(T.a,{title:"Quickstart Guide",centerHeader:!0,hasCloseButton:!0,hasOverlay:!0,footerButtonList:[u.a.createElement(h.a,{key:0,onClick:this.handleClose,style:"highlight",testSection:"close-quickstart-button"},"Close Quickstart Guide")],onClose:this.handleClose},u.a.createElement("h3",{className:"flex--dead-center"},"Implement your first feature flag"),u.a.createElement("br",null),u.a.createElement("h2",{className:"background--light soft flex--dead-center"},t," "),u.a.createElement(S.a,null,this.renderSteps()))}}]),FeaturesQuickstart}(u.a.Component)).componentId="FeaturesQuickstart",c.propTypes={flagKey:p.a.string.isRequired,sdkKey:p.a.string.isRequired,featureFlag:p.a.object.isRequired,toggleFlag:p.a.func.isRequired,isFlagOn:p.a.func.isRequired,track:p.a.func},c.defaultProps={track:function track(){}},o=c))||o)||o);r.a=R},function(t,r,a){"use strict";r.a={entity:"recommender_services_stats",isRelationshipEntity:!0,parents:[{entity:"recommender_services",key:"recommender_service_id"},{entity:"last_run"}]}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(52),d=a(218),p=function EntityDetails(t){var r=t.entity,a=t.entityInfo,i=t.renderErrorMessage,c=t.showValidationError,l=t.updateEntityProperty;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"push-triple--bottom"},o.a.createElement(u.a,{displayError:c,isRequired:!0,label:"Name",maxLength:1500,onChange:function onChange(t){return l("name",t.target.value)},placeholder:a.namePlaceholder,testSection:"".concat(a.entityType,"-name-text"),type:"text",value:r.get("name")}),c&&i("Please provide a name.","".concat(a.entityType,"-name-error-message"))),o.a.createElement("div",{className:"push-triple--bottom"},o.a.createElement(d.a,{displayError:!1,label:"Description",maxLength:1500,onChange:function onChange(t){return l("description",t.target.value)},placeholder:a.descriptionPlaceholder,testSection:"".concat(a.entityType,"-description-text"),type:"text",value:r.get("description")})))};p.propTypes={entity:l.a.object.isRequired,entityInfo:l.a.object.isRequired,renderErrorMessage:l.a.func.isRequired,showValidationError:l.a.bool.isRequired,updateEntityProperty:l.a.func.isRequired},r.a=p},function(t,r,a){"use strict";var i,o,c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(2),m=a(28),g=a(87),h=a(2124),y=a(614),v=a(8),_=a.n(v),E=a(168),b=a(77);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function onCreateFeature(t){y.a.showFeatureDialog().then((function(r){t(r)}))}var T=Object(m.a)({isLoadingFeatures:E.a.isLoading(b.LOADING_FEATURE_FLAGS)})(i=Object(g.b)("user_friendly_names")(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(FeaturePicker,t);var r=_createSuper(FeaturePicker);function FeaturePicker(){return _classCallCheck(this,FeaturePicker),r.apply(this,arguments)}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(FeaturePicker,[{key:"render",value:function render(){var t=this,r=this.props,a=r.features,i=r.selectedFeatureId,o=r.onSelectFeature,c=r.onUnselectFeature,l=r.isLoadingFeatures;return d.a.createElement(h.default,{entities:a,selectedEntityId:i,onSelectEntity:o,onUnselectEntity:c,onCreateEntity:onCreateFeature,getEntityDisplayConfig:function getSelectedFeatureDisplayConfig(r){var a=r.get("api_name"),i=r.get("description"),o=r.get("name");return o&&t.user_friendly_names?{description:i,inputText:"".concat(o," (").concat(a,")"),primaryText:o,secondaryText:a}:{description:i,inputText:a,primaryText:a}},inputPlaceholder:this.user_friendly_names?_()("Search by name or key"):_()("Browse Features..."),createNewText:d.a.createElement("b",null,"Create New Feature..."),loadingEntities:l,key:"is_user_friendly_names_enabled=".concat(this.user_friendly_names)})}}]),FeaturePicker}(d.a.Component)).propTypes={features:l.a.instanceOf(p.default.List).isRequired,isLoadingFeatures:l.a.bool.isRequired,onSelectFeature:l.a.func.isRequired,onUnselectFeature:l.a.func,selectedFeatureId:l.a.number},i=o))||i)||i;r.a=T},function(t,r,a){"use strict";var i=a(188),o=a(52),c=a(1),l=a.n(c),u=a(0),d=a.n(u);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(APIName,t);var r=_createSuper(APIName);function APIName(){var t;_classCallCheck(this,APIName);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(t=r.call.apply(r,[this].concat(o))).renderLabelWithHelp=function(){var r=t.props.canUseViewActivationModeManual;return d.a.createElement("div",{className:"display--inline-block"},"API Name",d.a.createElement(i.a,{horizontalAttachment:"left",popoverTitle:"API Name",verticalAttachment:"top"},r&&d.a.createElement("p",null,"Please provide a unique name so you can activate this page with an API call."),d.a.createElement("p",null,"We recommend creating the name using alphanumeric characters and underscores between words.")))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(APIName,[{key:"render",value:function render(){var t=this.props,r=t.error,a=t.apiName,i=t.onChange;return d.a.createElement("div",null,d.a.createElement(o.a,{value:a,label:this.renderLabelWithHelp(),isRequired:!0,onChange:i,type:"text",testSection:"api-name",width:"200",displayError:!!r}),r&&d.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"error-api-name"},r))}}]),APIName}(d.a.Component);p.propTypes={error:l.a.string,apiName:l.a.string,onChange:l.a.func.isRequired,canUseViewActivationModeManual:l.a.bool},p.defaultProps={canUseViewActivationModeManual:!0},r.a=p},function(t,r,a){function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=a(9),o=a(1),c=a(0),l=a(2).default,u=a(155).default,d=a(16),p=d.Button,m=d.Textarea,g=d.Icon,h=a(500),y=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(UrlCondition,t);var r=_createSuper(UrlCondition);function UrlCondition(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,UrlCondition),(a=r.call(this,t)).addConditionRow=a.addConditionRow.bind(_assertThisInitialized(a)),a.removeConditionRow=a.removeConditionRow.bind(_assertThisInitialized(a)),a.onChangeCondition=a.onChangeCondition.bind(_assertThisInitialized(a)),a.onChangeMatchType=a.onChangeMatchType.bind(_assertThisInitialized(a)),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(UrlCondition,[{key:"addConditionRow",value:function addConditionRow(t){this.props.addConditionRow(this.props.index)}},{key:"removeConditionRow",value:function removeConditionRow(t){this.props.removeConditionRow(this.props.index)}},{key:"onChangeCondition",value:function onChangeCondition(t){this.props.onChangeCondition(this.props.index,t)}},{key:"onChangeMatchType",value:function onChangeMatchType(t){this.props.onChangeMatchType(this.props.index,t)}},{key:"render",value:function render(){var t=this.props,r=t.condition,a=t.index,o=t.length,l=t.showMatchType,d=t.children,y=t.displayError;return c.createElement("tr",{"data-test-section":"include-url-condition",className:"no-border--top"},c.createElement("td",{className:"width--1-1"},c.createElement(m,{type:"text",numRows:1,displayError:y,value:r.get("value"),onChange:this.onChangeCondition,testSection:"condition-url-input-row-".concat(a)}),d),l&&c.createElement("td",null,c.createElement(u,{items:h.URL_MATCH_TYPES,value:r.get("match_type"),onChange:this.onChangeMatchType,width:"200px",testSection:"match-type-condition"})),c.createElement("td",{className:"oui-table--add-row__controls"},c.createElement(p,{className:i({"soft-half--sides":!0}),testSection:"add-condition-button-row-".concat(a),style:"outline-reverse",onClick:this.addConditionRow},c.createElement(g,{name:"plus",size:"small"})),c.createElement(p,{className:i({"push-half--left":!0,"soft-half--sides":!0,"visibility--hidden":o<=1}),testSection:"remove-condition-button",style:"outline-reverse",size:"medium",onClick:this.removeConditionRow},c.createElement(g,{className:i({"optly-hard--sides":!0}),name:"xmark",size:"small"}))))}}]),UrlCondition}(c.Component);y.propTypes={condition:o.instanceOf(l.Map).isRequired,index:o.number.isRequired,length:o.number.isRequired,addConditionRow:o.func.isRequired,removeConditionRow:o.func.isRequired,onChangeCondition:o.func.isRequired,onChangeMatchType:o.func,showMatchType:o.bool,children:o.node,displayError:o.bool},y.defaultProps={showMatchType:!0},t.exports=y},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(154),m=a(52),g=a(218),h=a(79),y=a(40),v=a(134),_=a(98),E=a(19),b=a(2),T=a(35),S=a(5),C=a(28),I=a(182),A=a.n(I),O=a(54),P=a(63),R=a(50),w=a(56),N=a(10),L=a(49),x=a(403),D=a(14);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var k=Object(C.a)({canCreateUserEvent:[D.getters.project,L.fns.canCreateUserEvent],canUpdateUserEvent:[D.getters.project,L.fns.canUpdateUserEvent],currentProjectId:D.getters.id,customEvent:x.getters.event,events:D.getters.events,snippetGlobalName:[D.getters.project,w.default.getSnippetGlobalName]})(i=Object(P.a)({mapPropsToFormData:function mapPropsToFormData(t){var r=t.customEvent,a=t.currentProjectId,i=r;return i||(i=Object(b.toImmutable)(R.fns.createEventEntity({event_type:R.enums.eventTypes.CUSTOM,project_id:a,api_name:null}))),Object(b.toImmutable)({archived:!1,category:"other",event_filter:null,id:i.get("id"),name:i.get("name"),api_name:i.get("api_name"),event_type:i.get("event_type"),project_id:i.get("project_id"),description:i.get("description")})},validateOnChange:!1})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ConfigCustomEvent,t);var r=_createSuper(ConfigCustomEvent);function ConfigCustomEvent(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ConfigCustomEvent),(a=r.call(this,t)).renderApiCallText=function(){var t=a.props,r=t.form,i=t.snippetGlobalName,o=r.field("api_name").getValue()||"";return l.a.createElement("pre",null,"window['".concat(i,"'] = window['").concat(i,"'] || [];\nwindow['").concat(i,'\'].push({\n  type: "event",\n  eventName: "').concat(o,'",\n  tags: {\n    revenue: 0, // Optional in cents as integer (500 == $5.00)\n    value: 0.00 // Optional as float\n  }\n});'))},a.saveCustomEvent=function(){var t=a.props,r=t.form,i=t.onSave;r.validate().then((function(){a.setState({isSavingWebCustomEvent:!0}),S.default.loadingStart("saveWebCustomEvent"),a.isNewCustomEvent()&&S.default.loadingStart("createWebEventFromDashboard"),R.actions.save(r.getValue().toJS()).then((function(t){S.default.showNotification({message:tr("Event saved"),type:"success"}),i?i(t):a.goToEventsDashboard(),S.default.hideDialog()})).fail((function(){S.default.loadingStop("saveWebCustomEvent"),S.default.loadingStop("createWebEventFromDashboard"),a.setState({isSavingWebCustomEvent:!1})}))})).catch(P.d).finally((function(){S.default.loadingStop("saveWebCustomEvent"),S.default.loadingStop("createWebEventFromDashboard")}))},a.goToEventsDashboard=function(){var t=a.state.eventsDashUrl;T.default.go(t),S.default.hideDialog()};var i=a.props,o=i.currentProjectId,c=i.isStandAlone;return a.state={eventsDashUrl:A.a.dataLayerTab(o,N.default.DataLayerTabs.EVENT_TAB),isStandAlone:c,isSavingWebCustomEvent:!1},a.initializeForm(),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ConfigCustomEvent,[{key:"componentDidMount",value:function componentDidMount(){this.props.form.getValue().get("event_type")!==R.enums.eventTypes.CUSTOM&&T.default.go("/v2/projects")}},{key:"initializeForm",value:function initializeForm(){var t=this,r=this.props.form;r.field("name").validators({isValid:function isValid(){var r=t.validateForm();if(r.name)return tr("{0}",r.name)}}),r.field("api_name").validators({isValid:function isValid(){var r=t.validateForm();if(r.api_name)return tr("{0}",r.api_name)}}),r.field("description")}},{key:"validateForm",value:function validateForm(){var t=this.props,r=t.form,a=t.events;return R.fns.validateCustomEvent(r.getValue().toJS(),a.toJS())}},{key:"getTitle",value:function getTitle(){return this.props.form.getValue().get("id")?tr("Edit Custom Event"):tr("New Custom Event")}},{key:"isNewCustomEvent",value:function isNewCustomEvent(){return!this.props.form.getValue().get("id")}},{key:"isAllowedToSave",value:function isAllowedToSave(){var t=this.props,r=t.canCreateUserEvent,a=t.canUpdateUserEvent;return this.isNewCustomEvent()?r:a}},{key:"render",value:function render(){var t=this.props,r=t.form,a=t.noRedirectOnCancel,i=this.state,o=i.isStandAlone,c=i.isSavingWebCustomEvent,u=r.field("name"),d=r.field("api_name"),b=r.field("description");return l.a.createElement(p.a,{title:this.getTitle(),onClose:S.default.hideDialog},l.a.createElement(O.default,{loadingId:"saveWebCustomEvent"},l.a.createElement("div",{className:"".concat(o?"overflow-y--auto":""),"data-test-section":"configure-custom-event-component"},l.a.createElement("ol",{className:"oui-form-fields"},l.a.createElement("li",{className:"oui-form-field__item push-double--bottom"},l.a.createElement(m.a,{type:"text",onChange:function onChange(t){return u.setValue(t.target.value)},value:u.getValue()?u.getValue():"",testSection:"custom-event-name",label:"Name",isRequired:!0,note:u.getErrors().message,displayError:u.getErrors().hasError,placeholder:"Event name"})),l.a.createElement("li",null,l.a.createElement("div",{className:"push-double--top push-double--bottom"},l.a.createElement(g.a,{value:b.getValue()||"",label:"Description",placeholder:"Add a description",onChange:function onChange(t){return b.setValue(t.target.value)},testSection:"custom-event-description"}))),l.a.createElement("li",{className:"oui-form-field__item push--bottom"},l.a.createElement(m.a,{type:"text",onChange:function onChange(t){return d.setValue(t.target.value)},value:d.getValue()?d.getValue():"",testSection:"custom-event-api-name",label:"API Name",isRequired:!0,note:d.getErrors().message,displayError:d.getErrors().hasError,placeholder:"Enter a unique event identifier"}))),l.a.createElement("ol",{className:"oui-form-fields"},l.a.createElement("li",{className:"oui-form-field__item push-quad--bottom push-quad--top"},l.a.createElement(h.a,null,"API Call"),l.a.createElement("p",null,"To track this event, add the following code to your page."," ",l.a.createElement(y.a,{href:"https://docs.developers.optimizely.com/web/docs/event",newWindow:!0},"Learn more")),l.a.createElement(v.a,{type:"brand",alignment:"left"},this.renderApiCallText()))),l.a.createElement("div",{className:"flex flex-align--center"},l.a.createElement("div",{className:"oui-sheet__required-indicator cursor--default color--red"},l.a.createElement("span",null,"* Required field")),l.a.createElement("div",{className:"flex--1"},l.a.createElement(_.a,{rightGroup:[l.a.createElement(E.a,{style:"plain",testSection:"custom-event-cancel",key:"cancel",onClick:a?S.default.hideDialog:this.goToEventsDashboard},"Cancel"),l.a.createElement(E.a,{testSection:"custom-event-save",style:"highlight",key:"submit",isDisabled:!this.isAllowedToSave()||c,onClick:this.saveCustomEvent},"Save Event")]}))))))}}]),ConfigCustomEvent}(l.a.Component)).componentId="config_custom_attribute",o.propTypes={canCreateUserEvent:d.a.bool.isRequired,canUpdateUserEvent:d.a.bool.isRequired,currentProjectId:d.a.number.isRequired,events:d.a.instanceOf(b.default.List).isRequired,form:P.c.isRequired,isStandAlone:d.a.bool,noRedirectOnCancel:d.a.bool,onSave:d.a.func,snippetGlobalName:d.a.string.isRequired},o.defaultProps={isStandAlone:!0,noRedirectOnCancel:!1,onSave:null},i=o))||i)||i;r.a=k},function(t,r,a){"use strict";var i=a(1316);a.d(r,"b",(function(){return i.a}));var o=a(526);a.d(r,"a",(function(){return o.a}));i.a,o.a},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(28),m=a(10),g=a(39),h=a(13),y=a(483),v=a(24);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=Object(p.a)({canUseMutex:g.default.canUseMutex,currentProjectId:h.default.id,currentProjectName:h.default.name})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(LayersTopbar,t);var r=_createSuper(LayersTopbar);function LayersTopbar(){return _classCallCheck(this,LayersTopbar),r.apply(this,arguments)}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(LayersTopbar,[{key:"render",value:function render(){var t=this.props,r=t.activeTab,a=t.canUseMutex,i=t.currentProjectName,o=t.currentProjectId;return l.a.createElement(y.a,{projectName:i,title:"Experiments",testSection:"layers-header",activeTab:r,tabs:[{title:"Overview",url:v.default.xWebHome(o),id:m.default.LayersTabs.LAYERS,testSection:"layers-overview-tab"},{title:"Exclusion Groups",url:v.default.groups(o),id:m.default.LayersTabs.GROUPS,testSection:"groups-tab",isVisible:a}]})}}]),LayersTopbar}(l.a.Component)).propTypes={activeTab:d.a.string.isRequired,canUseMutex:d.a.bool.isRequired,currentProjectId:d.a.number.isRequired,currentProjectName:d.a.string.isRequired},i=o))||i;r.a=_},function(t,r,a){"use strict";var i=a(9),o=a.n(i),c=a(11),l=a(40),u=a(478),d=a(19),p=a(1),m=a.n(p),g=a(0),h=a.n(g),y=a(31),v=a(3),_=a(2),E=a(23),b=a(136),T=a(350),S=a(228),C=a.n(S),I=a(8),A=a.n(I),O=a(24),P=a(955),R=a(402),w=a(2692),N=a(2693);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(LayerTableRow,t);var r=_createSuper(LayerTableRow);function LayerTableRow(){var t;_classCallCheck(this,LayerTableRow);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(t=r.call.apply(r,[this].concat(i))).shouldDisableResultsButton=function(){var r=t.props.dashboardLayer.get("liveTag");return!r||void 0===r.get("active")},t.getStatusText=function(){switch(t.props.dashboardLayer.get("status")){case E.enums.status.ARCHIVED:return A()("Archived");case E.enums.status.RUNNING:return A()("Running");case E.enums.status.PAUSED:return A()("Paused");case E.enums.status.DRAFT:return A()("Not Started");default:return""}},t.getStatusClassName=function(){return o()({"color--good-news":t.isRunning()})},t.getTypeText=function(){var r=t.props.dashboardLayer;return E.humanReadable.TEXT_BY_LAYER_TYPE[r.get("type")].name},t.isArchived=function(){return t.props.dashboardLayer.get("status")===E.enums.status.ARCHIVED},t.isRunning=function(){return t.props.dashboardLayer.get("status")===E.enums.status.RUNNING},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(LayerTableRow,[{key:"render",value:function render(){var t,r,a=this.props,i=a.currentProject,o=a.jiraIntegrationEnabled,p=a.jiraIntegrationSettings,m=a.dashboardLayer,g=a.handleEntityUpdate,_=a.onArchive,S=a.onUnarchive,I=a.shouldShowRowActions,A=m.get("layer"),L=Object(y.isFeatureEnabled)("disable_unarchive_experiment");m.get("layer")&&(t=v.default.evaluate(b.default.singleExperimentByLayerId(m.getIn(["layer","id"])))),r=m.get("layer")?O.default.campaignHome(i.get("id"),m.getIn(["layer","id"])):m.get("type")===E.enums.type.PERSONALIZATION?O.default.campaignHome(i.get("id"),m.get("unique_id")):O.default.experimentHome(i.get("id"),m.get("unique_id"));var x=A&&O.default.layerResults(i.get("id"),A.get("id"),{previousView:T.default.previousViews.CAMPAIGNS}),D=o&&p.get("enabled")&&!!p.get("resource_id"),k=A&&E.fns.isPersonalizationLayer(A);return h.a.createElement(c.a.TR,{testSection:"layer-table-row-for-".concat(m.get("unique_id"))},h.a.createElement(c.a.TD,null,h.a.createElement("div",null,this.isArchived()&&!L?h.a.createElement("span",{"data-test-section":"layer-table-row-name"},m.get("name")):h.a.createElement(l.a,{className:"cursor--pointer",href:r,onClick:function onClick(t){return Object(R.default)(r,t)},testSection:"layer-table-row-name"},m.get("name")),h.a.createElement("div",{className:"muted micro",style:{maxWidth:"600px"},"data-test-section":"layer-table-row-description"},m.get("description")))),h.a.createElement(c.a.TD,{testSection:"layer-table-row-type"},this.getTypeText()),D&&h.a.createElement(c.a.TD,{testSection:"layer-table-row-jira"},A?h.a.createElement(P.a,{source:A,sourceType:k?"campaign":"experiment"}):h.a.createElement(u.a,null)),h.a.createElement(c.a.TD,{textAlign:"right",verticalAlign:"middle"},h.a.createElement(w.a,{experiment:t})),h.a.createElement(c.a.TD,null,h.a.createElement("span",{className:this.getStatusClassName(),"data-test-section":"layer-table-row-status"},this.getStatusText())),h.a.createElement(c.a.TD,{testSection:"layer-table-row-modified"},h.a.createElement("span",{className:"nowrap"},C()(m.get("last_modified")))),h.a.createElement(c.a.TD,null,A&&void 0!==m.get("liveTag")?h.a.createElement(l.a,{href:x,onClick:function onClick(t){return Object(R.default)(x,t)},isDisabled:this.shouldDisableResultsButton()||A&&!A.get("metrics").size,testSection:"layer-table-row-results"},h.a.createElement(d.a,{style:"outline",isLink:!0,size:"small",leftIcon:"chart-column",isDisabled:this.shouldDisableResultsButton()||A&&!A.get("metrics").size},"Results")):h.a.createElement(u.a,{testSection:"layer-table-row-results-loader"})),I&&h.a.createElement(c.a.TD,{isNumerical:!0},h.a.createElement(N.a,{dashboardLayer:m,currentProject:i,handleEntityUpdate:g,jiraIntegrationEnabled:o,onArchive:_,onUnarchive:S})))}}]),LayerTableRow}(h.a.Component);L.propTypes={currentProject:m.a.instanceOf(_.default.Map).isRequired,dashboardLayer:m.a.instanceOf(_.default.Map).isRequired,handleEntityUpdate:m.a.func,jiraIntegrationEnabled:m.a.bool,jiraIntegrationSettings:m.a.instanceOf(_.default.Map),onArchive:m.a.func.isRequired,onUnarchive:m.a.func.isRequired,shouldShowRowActions:m.a.bool.isRequired},L.defaultProps={jiraIntegrationEnabled:!1,jiraIntegrationSettings:_.default.Map({}),handleEntityUpdate:function handleEntityUpdate(){return Promise.resolve()}},r.a=L},function(t,r,a){var i=a(0),o=a(16).HelpPopover;t.exports=function PagesPopover(){return i.createElement(o,{horizontalAttachment:"left",popoverTitle:"Pages",verticalAttachment:"top"},i.createElement("p",null,"Where will you run this experiment and track visitor actions? The homepage? Product pages?"),i.createElement("p",null,"Pages are similar to URL Targeting in Optimizely Classic, but now they’re re-usable across experiments."),i.createElement("p",null,"Add an existing Page to your experiment, or create a new page by adding a URL (or pattern of URLs)."))}},function(t,r,a){"use strict";var i=a(102),o=a.n(i),c=a(2),l=a(87),u=a(112),d=a(21),p=a(20),m=a(474),g=o.a.generateImmutableObjectSortFn([{field:"created",type:"date",dir:o.a.DESC}]);var h=Object(l.c)("user_friendly_names")((function(t,r,a,i,o){var l=this,u=r.filter((function(r){return r.get("id")!==t.get("id")})).map((function(t){return t.get("entities").map((function(t){return t.get("id")}))})).concat(t.get("entities").map((function(t){return t.get("id")}))).flatten().toSet(),p=i.filter((function(t){return[d.policy.SINGLE_EXPERIMENT,d.policy.MULTIVARIATE].includes(t.get("layer_policy"))})),m=a.filter((function(t){return t.get("policy")!==d.policy.SINGLE_EXPERIMENT||t.get("experiment_ids").size}));return(o?p:m).filter((function(t){return t.get("id",null)})).filterNot((function(t){var r=t.get("id"),a=o?t.get("actual_status"):t.get("status");return!!u.get(r)||a===d.entityStatus.ARCHIVED})).map((function(t){var r=t.get("name"),a=t.get("key"),i=o?t.get("actual_status"):t.get("status"),u={created:t.get("created"),id:t.get("id"),name:o?a:r,status:i};return o&&(u.environments=t.get("environments"),l.user_friendly_names&&(u.name=r,u.key=a)),Object(c.toImmutable)(u)})).sort(g)}));r.a={getGroupsExplanationText:function getGroupsExplanationText(t,r,a){return a?m.a.GroupExplanation.FULL_STACK:t&&r?m.a.GroupExplanation.AB_AND_P13N:t?m.a.GroupExplanation.AB_ONLY:r?m.a.GroupExplanation.P13N_ONLY:void 0},calculateAvailableTraffic:function calculateAvailableTraffic(t){var r=u.b.MAX_TRAFFIC_ALLOCATION;return Object(c.toImmutable)(t).forEach((function(t){r-=t.get("weight")})),r},filterForAvailableEntities:h,shouldFlagForWarningOnTrafficChange:function shouldFlagForWarningOnTrafficChange(t,r){return r&&(t.get("environments")||Object(c.toImmutable)({})).some((function(t){return t.get("status")===p.enums.EnvironmentStatus.RUNNING}))}}},function(t,r,a){"use strict";a.d(r,"a",(function(){return EventCardTableHeader}));var i=a(0),o=a.n(i),c=a(62),l=a(64);function EventCardTableHeader(){return o.a.createElement("tr",null,o.a.createElement(l.SortableTableHeader,{field:"name",type:"string",width:"30%"},"Name"),o.a.createElement(l.SortableTableHeader,{field:"api_name",type:"string",width:"28%"},"API Name"),o.a.createElement(c.OptimizelyFeature,{feature:"usage_inspector_events"},(function(t){return t&&o.a.createElement(l.SortableTableHeader,{field:"experiment_count",type:"number",width:"10%"},"Experiments")})),o.a.createElement(l.SortableTableHeader,{field:"id",type:"number",width:"15%"},"ID"),o.a.createElement(l.SortableTableHeader,{field:"event_type",type:"string",width:"10%"},o.a.createElement("span",{className:"nowrap"},"Type")),o.a.createElement(l.SortableTableHeader,{field:"dropdown",type:"string",width:"7%"}))}},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(19),m=a(11),g=a(40),h=a(154),y=a(79),v=a(9),_=a.n(v),E=a(5),b=a(28),T=a(2),S=a(23),C=a(14),I=a(70),A=a(64),O=a(155),P=a(121),R=a(24),w=a(160);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var N=Object(b.a)({layers:S.getters.entityCache,projects:I.getters.entityCache,views:C.getters.multiUseViews,events:C.getters.events})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(EventsExperimentUsage,t);var r=_createSuper(EventsExperimentUsage);function EventsExperimentUsage(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,EventsExperimentUsage),(a=r.call(this,t)).getListItemforEvent=function(t,r,a,i){var o=i>1?"s":"";return{label:r,value:t,type:a,description:"".concat(a," - Used in ").concat(i," experiment").concat(o)}},a.collectEvents=function(){var t=a.props,r=t.events,i=t.views,o=r.filter((function(t){return t.get("event_type")===P.a.eventTypes.CUSTOM})).map((function(t){return a.getListItemforEvent(t.get("id"),t.get("name"),t.get("event_type"),t.get("experiment_count"))})).toJS(),c=i.filter((function(t){return!t.get("archived")})).map((function(t){return a.getListItemforEvent(t.get("id"),"Visited ".concat(t.get("name")," page"),P.a.eventTypes.PAGE_VIEW,t.get("experiment_count_pageview"))})).toJS(),l=i.map((function(t){return t.get("id")})).toJS(),u=r.filter((function(t){return!t.get("archived")&&!t.get("variation_specific")&&l.includes(t.get("view_id"))})).map((function(t){return a.getListItemforEvent(t.get("id"),t.get("name"),t.get("event_type"),t.get("experiment_count"))})).toJS();a.events=o.concat(c).concat(u)},a.getEventType=function(t){var r=a.events.filter((function(r){return r.value===t}));return 1===r.length?r[0].type:""},a.getExperimentsUsage=function(t,r){var i=a.props,o=(i.events,i.layers);return r||(r=a.getEventType(t)),o.filter((function(i){return!i.get("archived")&&a.getLayerMetricCountforEvent(i,t,r)>0})).size},a.isRunning=function(t){return t===S.enums.status.RUNNING.toLowerCase()},a.getProjectName=function(t){var r=a.props.projects.get(t,null);return r?r.get("project_name"):""},a.getStatusClassName=function(t){return _()({"color--good-news":a.isRunning(t)})},a.renderButtonsInFooter=function(){return[l.a.createElement(p.a,{testSection:"close-button",style:"highlight",key:"Done",onClick:E.default.hideDialog},"Done")]},a.renderTableHeader=function(){return l.a.createElement("tr",null,l.a.createElement(A.SortableTableHeader,{field:"name",type:"string"},"Experiment Name"),l.a.createElement(A.SortableTableHeader,{field:"project",type:"string"},"Project"),l.a.createElement(A.SortableTableHeader,{field:"type",type:"string"},"Type"),l.a.createElement(A.SortableTableHeader,{field:"status",type:"string"},"Status"),l.a.createElement(m.a.TH,null))},a.getLayerMetricCountforEvent=function(t,r,a){return t.get("metrics").filter((function(t){return t.get("event_type")===a&&t.get("event_id")===r})).size},a.renderTableRow=function(t,r){var i=a.state.currentEventId,o=a.getEventType(i),c=a.getLayerMetricCountforEvent(t,i,o),u=R.default.campaignHome(t.get("project_id"),t.get("id"));return c>0&&!t.get("archived")?l.a.createElement(m.a.TR,null,l.a.createElement(m.a.TD,{testSection:"event-experiment-usage-".concat(r,"-description")},l.a.createElement("div",null,l.a.createElement(g.a,{testSection:"event-experiment-usage-".concat(r,"-name"),href:u},t.get("name")),l.a.createElement("div",{className:"micro muted"},t.get("description")))),l.a.createElement(m.a.TD,{testSection:"event-experiment-usage-".concat(r,"-id")},a.getProjectName(t.get("project_id"))),l.a.createElement(m.a.TD,{testSection:"event-experiment-usage-".concat(r,"-type")},S.humanReadable.TEXT_BY_LAYER_TYPE[t.get("type")].name),l.a.createElement(m.a.TD,{testSection:"event-experiment-usage-".concat(r,"-status")},l.a.createElement("span",{className:a.getStatusClassName(t.get("status"))},S.humanReadable.STATUS_BY_ACTUAL_STATUS[t.get("status")]))):""},a.state={currentEventId:t.selectedEventId},a.collectEvents(),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(EventsExperimentUsage,[{key:"render",value:function render(){var t=this,r=this.props.layers,a=this.state.currentEventId;return l.a.createElement(h.a,{onClose:E.default.hideDialog,title:"Experiment Usage",footerButtonList:this.renderButtonsInFooter()},l.a.createElement("p",null,"Event Name"),l.a.createElement(O.default,{isFilterable:!0,testSection:"experiment-usage-events-select",items:this.events,onChange:function onChange(r){t.setState({currentEventId:r})},value:a,width:320,minDropdownWidth:320}),l.a.createElement("div",{className:"soft-triple--top"},this.getExperimentsUsage(a)?l.a.createElement(w.default,{tableId:"ExperimentsUsageDashboard",testSection:"events-experiment-usage-table",data:r,renderTableRow:this.renderTableRow,renderTableHeader:this.renderTableHeader,defaultSortBy:{field:"status",type:"string",dir:"desc"}}):l.a.createElement(y.a,{testSection:"no-experiment-usage-message"},"Experiments for this event may be archived. Try another event.")))}}]),EventsExperimentUsage}(l.a.Component)).propTypes={events:d.a.instanceOf(T.default.List).isRequired,layers:d.a.instanceOf(T.default.Map).isRequired,projects:d.a.instanceOf(T.default.Map).isRequired,selectedEventId:d.a.number.isRequired,views:d.a.instanceOf(T.default.List).isRequired},i=o))||i;r.a=N},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(2738),l=a(2743);r.a=function EventsAndMetricsBuilder(t){var r=t.canUseCrossProjectMetrics,a=void 0!==r&&r,i=t.currentProjectId,u=t.currentProjectStatus,d=t.disablePrimaryMetricEdit,p=void 0!==d&&d,m=t.isDisabled,g=void 0!==m&&m,h=t.onChange,y=t.projectIds,v=void 0===y?[]:y,_=t.projects,E=void 0===_?[]:_,b=t.selectedMetrics;return o.a.createElement(o.a.Fragment,null,!g&&o.a.createElement(l.a,{canUseCrossProjectMetrics:a,currentProjectId:i,currentProjectStatus:u,onChange:h,projectIds:v,projects:E,selectedMetrics:b}),o.a.createElement(c.a,{currentProjectId:i,disablePrimaryMetricEdit:p,isDisabled:g,onChange:h,selectedMetrics:b}))}},function(t,r,a){"use strict";var i=["cacheHits","entitiesWithCacheHits"],o=["cacheHits","isTrackingCacheHits"];r.a={entitiesWithCacheHits:i,isTrackingCacheHits:o}},function(t,r,a){"use strict";r.a={CACHE_TRACKING_ATTRIBUTE_KEY:"cached_api_calls",BLOCKING_CACHE_TRACKING_ATTRIBUTE_KEY:"cached_blocking_api_calls"}},function(t,r,a){var i=a(12),o={ACTIVE_CLASS:"is-active",TAB_RELATION_ATTR:"data-tab-related",activate:function(t,r){var a=i(t),o=i(r);if(!a.hasClass(this.ACTIVE_CLASS)){var c=a.siblings(".".concat(this.ACTIVE_CLASS)),l=o.siblings(".".concat(this.ACTIVE_CLASS));1===c.length&&1===l.length&&(c.removeClass(this.ACTIVE_CLASS),l.removeClass(this.ACTIVE_CLASS)),a.addClass(this.ACTIVE_CLASS),o.addClass(this.ACTIVE_CLASS)}}};t.exports=o},,function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(75),l=a(235);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var u={save:function save(t,r,a){if(a=a||{},r.id&&!a.forcePost)return Object(l.a)(a).one(t.entity,encodeURIComponent(r.id)).put(r);var i=Object(l.a)(a);t.parent&&i.one(t.parent.entity,r[t.parent.key]);var o=t.createEntityVerb||"post";return i.all(t.entity)[o](r)},fetch:function fetch(t,r,a){return Object(l.a)(a).one(t.entity,encodeURIComponent(r)).get()},fetchPage:function fetchPage(t,r,a){var i=r||{},c=i.$idsOnly,u=i.$order,d=i.$offset,p=void 0===d?0:d,m=i.$limit,g=o.a.omit(i,["$idsOnly","$order","$limit","$offset"]),h=Object(l.a)(a);if(t.parent&&!g[t.parent.key])throw new Error("fetchPage: must supply the parent.key as a filter to fetch entities");t.parent&&(h.one(t.parent.entity,g[t.parent.key]),delete g[t.parent.key]);var y=h.all(t.entity).filter(g).order(u).limit(m).offset(p);return a&&a.excludeFields&&(y=y.param("exclude",a.excludeFields)),!0===c&&(y=y.idsOnly()),y.get()},fetchAll:function fetchAll(t,r,a){var i=r||{},c=i.$idsOnly,u=i.$order,d=o.a.omit(i,["$idsOnly","$order"]),p=Object(l.a)(a);if(t.parent&&!d[t.parent.key])throw new Error("fetchAll: must supply the parent.key as a filter to fetch all entities");t.parent&&(p.one(t.parent.entity,encodeURIComponent(d[t.parent.key])),delete d[t.parent.key]);var m=p.all(t.entity).filter(d).order(u);return!0===c&&(m=m.idsOnly()),a&&a.excludeFields&&(m=m.param("exclude",a.excludeFields)),m.get()},delete:function _delete(t,r,a){if(!r.id)throw new Error("delete(): `id` must be defined");return Object(l.a)(a).one(t.entity,encodeURIComponent(r.id)).delete()}},d={save:function save(t,r,a){var i=Object(l.a)(a);return o.a.each(t.parents,(function(t){var o=r[t.key]||a[t.key];if(!o)throw new Error("".concat(t.key," must be supplied in instance or options."));i.one(t.entity,encodeURIComponent(o))})),i.put(r)},fetch:function fetch(t,r,a){var i=Object(l.a)(a);return o.a.each(t.parents,(function(t){if(!r[t.key])throw new Error("".concat(t.key," must be supplied in parentIdMap."));i.one(t.entity,encodeURIComponent(r[t.key]))})),i.get()},fetchPage:function fetchPage(){return this.fetchAll.apply(this,arguments)},fetchAll:function fetchAll(t,r,a){r=o.a.clone(r||{});var i,c=Object(l.a)(a);if(o.a.each(t.parents,(function(t){if(r[t.key])c.one(t.entity,encodeURIComponent(r[t.key])),delete r[t.key];else{if(i)throw new Error("fetchAll: miss too many parent IDs in filters: ".concat([i.key,t.key].join(", ")));i=t}})),!i)throw new Error("fetchAll: exactly one of the parents' keys must not be supplied in filters.");return c.all(i.entity).filter(r).get()},delete:function _delete(t,r,a){var i=Object(l.a)(a);return o.a.each(t.parents,(function(t){if(!r[t.key])throw new Error("".concat(t.key," must be supplied in instance."));i.one(t.entity,encodeURIComponent(r[t.key]))})),i.delete()}},p=function normalizeFetch(t){return function(r,a,i){var c=i&&i.getAllResponseHeaders(),l=c?c.split("\n"):[],u=o.a.fromPairs(l.map((function(t){var r=_slicedToArray(t.split(":"),1)[0];return[r,i.getResponseHeader(r)]}))),d=r;return t&&(d=Array.isArray(r)?r.map(t):t(r)),{data:d,responseHeaders:u}}};r.a={delete:function deleteEntity(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return t.isRelationshipEntity?d.delete.apply(d,[t].concat(a)):u.delete.apply(u,[t].concat(a))},fetch:function fetch(t){for(var r,a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return r=t.isRelationshipEntity?d.fetch.apply(d,[t].concat(i)):u.fetch.apply(u,[t].concat(i)),t.deserialize?r.then(p(t.deserialize)):r.then(p())},fetchAll:function fetchAll(t){for(var r,a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return r=t.isRelationshipEntity?d.fetchAll.apply(d,[t].concat(i)):u.fetchAll.apply(u,[t].concat(i)),t.deserialize?r.then(p(t.deserialize)):r.then(p())},fetchPage:function fetchPage(t){for(var r,a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return r=t.isRelationshipEntity?d.fetchPage.apply(d,[t].concat(i)):u.fetchPage.apply(u,[t].concat(i)),t.deserialize?r.then(p(t.deserialize)):r.then(p())},save:function save(t,r,a){var i;return t.serialize&&(r=t.serialize(Object(c.default)(r))),i=t.isRelationshipEntity?d.save(t,r,a):u.save(t,r,a),t.deserialize?i.then(t.deserialize):i}}},,function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(60);r.a={transformDepartmentField:function transformDepartmentField(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return r?c.default.DEPARTMENT_DATA_TO_DISPLAY_MAP[t]||t:o.a.findKey(c.default.DEPARTMENT_DATA_TO_DISPLAY_MAP,(function(r){return r===t}))||t}}},function(t,r,a){"use strict";var i=a(52),o=a(1),c=a.n(o),l=a(0),u=a.n(l);function ValidatedTextField(t){var r=t.castToType,a=t.error,o=t.isOptional,c=t.label,l=t.name,d=t.onChange,p=t.placeholder,m=t.testSection,g=t.value,h=!!a&&u.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news push--bottom","data-test-section":"validation-error"},a);return u.a.createElement("div",{"data-ui-component":!0,"data-test-section":"validated-text-field"},u.a.createElement(i.a,{value:g,isRequired:!o,label:c,onChange:function changeHandler(t){var a=t.target.value;r===Number?a=a.length>0?Number(a):null:r&&(a=r(a)),d(function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}({},l,a))},placeholder:p,testSection:m,type:"text"}),h)}ValidatedTextField.propTypes={castToType:c.a.oneOf([Number,String]),error:c.a.string,isOptional:c.a.bool,label:c.a.string,name:c.a.string.isRequired,onChange:c.a.func,placeholder:c.a.string,testSection:c.a.string,value:c.a.string},ValidatedTextField.defaultProps={castToType:null,error:null,isOptional:!1,label:null,onChange:function onChange(){},placeholder:null,testSection:null,value:""},r.a=ValidatedTextField},,,,,function(t,r,a){"use strict";var i=a(67);r.a={excludeUser:function excludeUser(t,r){return t.filter((function(t){return t!==r}))},sortUsers:function sortUsers(t){return t.sort((function(t,r){return t.toString().localeCompare(r.toString(),"en",{numeric:!0})}))},userListFromEntity:function userListFromEntity(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(i.List)();return t.map((function(t){return t.get("user_id")}))}}},,,,function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(9),l=a.n(c),u=a(1),d=a.n(u),p=a(0),m=a.n(p),g=a(192),h=a.n(g),y=a(74),v=a(220),_=function updateIframeHighlighter(t,r,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o={id:r,selector:a,type:v.default.IFrameHighlightTypes.HOVERED};i?y.actions.unhighlightElement(o):y.actions.highlightElement(o)},E=function SelectorLink(t,r){return m.a.createElement("li",{className:l()({hard:!0}),onMouseEnter:o.a.partialRight(_,t.activeFrameId,t.selector),onMouseLeave:o.a.partialRight(_,t.activeFrameId,t.selector,!0),onClick:o.a.partialRight(t.applyNewSelector,t.selector)},m.a.createElement("a",{className:l()({flex:!0,muted:t.currentlyWorkingSelector,"soft--sides":!0,"soft-half--ends":!0}),title:t.selector},h()(t.selector,32)))};E.propTypes={activeFrameId:d.a.string.isRequired,applyNewSelector:d.a.func.isRequired,currentlyWorkingSelector:d.a.bool.isRequired,selector:d.a.string.isRequired},r.a=E},function(t,r,a){"use strict";a.d(r,"a",(function(){return c})),a.d(r,"b",(function(){return l}));var i=a(2559),o=a(2560),c=i.a,l=o.a},function(t,r,a){"use strict";var i=a(41),o=a(2),c=a(14),l=a(50),u=a(34),d=a(46),p=a(1017);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var m=Object(i.default)(p.a),g=(m.byId,m.entityCache),h=["90 - 100%","80 - 90%","70 - 80%","60 - 70%","50 - 60%","40 - 50%","30 - 40%","20 - 30%","10 - 20%","00 - 10%"],y=function statusUpdatesByCatalogID(t){return[g,function(r){var a=r.find((function(r){return r.get("source_id")===t}));return a&&a.getIn(["status_updates",0])}]},v=function distributionsByCatalogID(t){return[y(t),function(t){return t?t.getIn(["message_args","distributions"]):o.default.Map()}]};r.a=_extends({},m,{displayDistributionSamplesByCatalogID:function displayDistributionSamplesByCatalogID(t){return[v(t),function(t){if(t.isEmpty())return[];var r=t.get("item_samples");return h.map((function(t,a){return{label:t,value:r.get(a)}}))}]},distributionsByCatalogID:v,itemAndVisitorEventDistributionByCatalogID:function itemAndVisitorEventDistributionByCatalogID(t){return[v(t),function(t){if(t.isEmpty())return[];var r=t.get("item_event_distribution"),a=t.get("visitor_event_distribution");return h.map((function(t,i){return{numberOfItems:Number(Math.round(r.get(i))).toLocaleString(),numberOfVisitors:Number(Math.round(a.get(i))).toLocaleString(),percentage:t}}))}]},pageEventsStatsByCatalogID:function pageEventsStatsByCatalogID(t){return[y(t),c.getters.name,l.getters.activeEvents,u.getters.activeAccountViews,function(t,r,a,i){return t?t.getIn(["message_args","per_event_stats"]).mapEntries((function(t){var r,o=_slicedToArray(t,2),c=o[0],l=o[1],u=l.get("event_type");if(u===d.d.EventKind.VIEW){var p=(r=i.get(Number(c)))&&r.get("name")||"Not Applicable",m=d.d.ENTITY_HUMAN_READABLES.EVENT.VIEW;return[c,l.set("display_name","".concat(m," - ").concat(p))]}if(u===d.d.EventKind.EVENT){var g=(r=a.get(Number(c)))&&r.get("name")||"Not Applicable",h=d.d.ENTITY_HUMAN_READABLES.EVENT[r.get("event_type")];return[c,l.set("display_name","".concat(h," - ").concat(g))]}return[c,l]})):o.default.Map()}]},statusUpdatesByCatalogID:y,summaryStatsByCatalogID:function summaryStatsByCatalogID(t){return[y(t),function(t){return t?t.getIn(["message_args","summary"]):o.default.Map()}]},updatedTimeByCatalogID:function updatedTimeByCatalogID(t){return[g,function(r){var a=r.find((function(r){return r.get("source_id")===t}));return a&&a.get("last_modified")}]}})},function(t,r,a){"use strict";var i=a(1305);a.d(r,"a",(function(){return i.a}));i.a},,function(t,r,a){"use strict";a.r(r);var i=a(875),o=a.n(i);a.d(r,"actions",(function(){return o.a}));var c=a(670),l=a.n(c);a.d(r,"config",(function(){return l.a}));var u=a(816),d=a.n(u);a.d(r,"enums",(function(){return d.a}));var p=a(595),m=a.n(p);a.d(r,"fns",(function(){return m.a}));var g=a(731);a.d(r,"getters",(function(){return g.default})),r.default={actions:o.a,config:l.a,enums:d.a,fns:m.a,getters:g.default}},function(t,r,a){"use strict";var i=a(31),o=a(35),c=a(261),l=a.n(c),u=a(310),d=a(412),p=a(117),m=a(129),g=a(191),h=a(113);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}r.a={fetchLayerExperimentIfValidAndSetLayerIdAsCurrent:function fetchLayerExperimentIfValidAndSetLayerIdAsCurrent(t,r){(function fetchLayerExperimentIfValid(t){return new Promise((function(r,a){m.default.fetch(t).then((function(t){t?r(t):a(new Error("No LayerExperiment found for ID"))})).fail((function(){return a(new Error("No LayerExperiment found for ID"))}))}))})(parseInt(t,10)).then((function(t){var a=t.layer_id;return l.a.setCurrentLayerId(a),p.default.fetch(a).then(r)})).catch((function(){return o.default.redirect("/v2")}))},fetchRequiredDataForMVTManager:function fetchRequiredDataForMVTManager(t,r){var a={layer_experiment_id:t};return Promise.all([m.default.fetch(t,r)]).then((function(t){var r=_slicedToArray(t,1)[0];return Promise.all([g.a.fetchLayerAndSetAsCurrentAndFetchAssociatedEntities(r.layer_id),d.default.fetchAll(a),g.a.fetchCommit(r.layer_id)])}))},fetchRequiredDataForWebMvtManagerChangeHistory:function fetchRequiredDataForWebMvtManagerChangeHistory(t,r){var a=parseInt(t.params.proj_id,10),c=parseInt(t.params.experiment_id,10),l=Object(i.getFeatureVariableInteger)("change_history_improvements","max_api_filters")||h.a;Promise.all([m.default.fetch(c),d.default.fetchPage({$limit:l,layer_experiment_id:c}),u.a.fetchPage({$limit:l,project_id:a})]).then((function(a){var i,o=_slicedToArray(a,3),c=o[0],l=o[1],u=o[2];t.fetchedData=(_defineProperty(i={},h.b.group.entityType,[].concat(u)),_defineProperty(i,h.b.experiment.entityType,[].concat(c)),_defineProperty(i,h.b.section.entityType,[].concat(l)),i),r()})).catch((function(){return o.default.redirect("/v2")}))}}},function(t,r,a){"use strict";a.r(r);var i=a(1069);a.d(r,"actions",(function(){return i.a}));var o=a(200);a.d(r,"constants",(function(){return o.a}));var c=a(283);a.d(r,"fns",(function(){return c.a}));var l=a(655);a.d(r,"getters",(function(){return l.a})),r.default={actions:i.a,constants:o.a,fns:c.a,getters:l.a}},function(t,r,a){"use strict";a.d(r,"b",(function(){return y})),a.d(r,"c",(function(){return fetchRequiredDataForManagerChangeHistory}));var i=a(31),o=a(35),c=a(3),l=a(191),u=a(13),d=a(396),p=a(310),m=a(129),g=a(824),h=a(113);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var y=function fetchRequiredDataForFullStackManager(t){var r={project_id:c.default.evaluate(u.default.id)},a=[m.default.fetch(t).then((function(t){return g.a.setCurrentlyEditingExperimentId(t.id),l.a.fetchLayerAndSetAsCurrent(t.layer_id).then((function(){return t}))}))];return c.default.evaluate(u.default.environmentsAuthorizedAndSupported)&&a.push(d.a.fetchAll(r)),Promise.all(a).then((function(t){return _slicedToArray(t,1)[0]}),(function(){return o.default.windowNavigate("/v2/")}))};function fetchRequiredDataForManagerChangeHistory(t,r){var a=parseInt(t.params.experiment_id,10),o=parseInt(t.params.proj_id,10),c=Object(i.getFeatureVariableInteger)("change_history_improvements","max_api_filters")||h.a;Promise.all([m.default.fetch(a),p.a.fetchPage({$limit:c,project_id:o})]).then((function(a){var i,o=_slicedToArray(a,2),c=o[0],l=o[1];t.fetchedData=(_defineProperty(i={},h.b.experiment.entityType,[].concat(c)),_defineProperty(i,h.b.group.entityType,[].concat(l)),i),r()}))}r.a={fetchRequiredDataForFullStackManager:y,fetchRequiredDataForManagerChangeHistory:fetchRequiredDataForManagerChangeHistory}},function(t,r,a){"use strict";a.d(r,"a",(function(){return d})),a.d(r,"b",(function(){return p}));var i=a(0),o=a.n(i),c=a(40),l=a(134),u=a(558),d=function AdaptiveAudienceConditionsLink(){return o.a.createElement(c.a,{href:u.b.AdaptiveAudienceReferenceLinks.CONDITIONS,newWindow:!0},u.b.AdaptiveAudienceHelpTexts.CONDITIONS)},p=function AdaptiveAudienceProcessingAttention(t){var r=t.subject;return o.a.createElement(l.a,{alignment:"center",isDismissible:!1,testSection:"processing-adaptive-audience-attention"},"This ",r," ",u.b.AdaptiveAudienceHelpTexts.PROCESSING,o.a.createElement(d,null))}},function(t,r,a){"use strict";a.r(r),a.d(r,"valueType",(function(){return i})),a.d(r,"value_type",(function(){return o})),a.d(r,"locatorType",(function(){return c})),a.d(r,"locator_type",(function(){return l})),a.d(r,"categories",(function(){return u}));var i={STRING:"string",NUMBER:"number",CURRENCY:"currency"},o=i,c={CSS_SELECTOR:"css_selector",JAVASCRIPT:"javascript",URL_REGEX:"url_regex"},l=c,u={CATEGORY:"category",SUBCATEGORY:"subcategory",TITLE:"title",PRICE:"price",OTHER:"other"};r.default={categories:u,locatorType:c,locator_type:l,valueType:i,value_type:o}},function(t,r,a){"use strict";var i=a(1252);a.d(r,"a",(function(){return i.a}));var o=a(946),c=a(256);a.d(r,"b",(function(){return c.a}));i.a,o.default,c.a},function(t,r,a){"use strict";a.r(r);var i=a(587);a.d(r,"actions",(function(){return i.a}));var o=a(468);a.d(r,"entityDef",(function(){return o.a}));var c=a(1057);a.d(r,"enums",(function(){return c.default}));var l=a(1234);a.d(r,"fns",(function(){return l.a}));var u=a(467);a.d(r,"getters",(function(){return u.a}));var d=a(1235);a.d(r,"humanReadable",(function(){return d.a})),r.default={actions:i.a,entityDef:o.a,enums:c.default,fns:l.a,getters:u.a,humanReadable:d.a}},,function(t,r,a){"use strict";a.r(r);var i=a(17),o=a.n(i);r.default={CampaignSettingsEvents:o()({HOLDBACK_SELECTION_CHANGED:null,PRIMARY_EVENT_SELECTION_CHANGED:null}),PreviousViews:{EXTENSIONS:"extensions",INTEGRATIONS:"integrations"}}},function(t,r,a){"use strict";var i=a(177),o=a.n(i);a.d(r,"a",(function(){return o.a}));var c=a(1292);a.d(r,"b",(function(){return c.a}));var l=a(393),u=a.n(l);a.d(r,"c",(function(){return u.a}));o.a,c.a,u.a},function(t,r,a){"use strict";a.d(r,"b",(function(){return fetchRequiredDataForFeatureManager})),a.d(r,"c",(function(){return fetchRequiredDataForManagerChangeHistory}));var i=a(31),o=a(396),c=a(198),l=a(129),u=a(113);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function fetchRequiredDataForFeatureManager(t){var r=function toPromise(t){return new Promise((function(r,a){t.then(r,a)}))};return r(c.a.fetch(Number(t))).then((function(t){var a=Object.values(t.environments).find((function(t){return t.is_primary}));return Promise.all([t,r(o.a.fetch(a.id))])}))}function fetchRequiredDataForManagerChangeHistory(t,r){var a=parseInt(t.params.feature_id,10),o=parseInt(t.params.proj_id,10),d=Object(i.getFeatureVariableInteger)("change_history_improvements","max_api_filters")||u.a;Promise.all([c.a.fetch(a),l.default.fetchPage({$limit:d,feature_flag_id:a,project_id:o})]).then((function(a){var i,o=_slicedToArray(a,2),c=o[0],l=o[1];t.fetchedData=(_defineProperty(i={},u.b.feature.entityType,[].concat(c)),_defineProperty(i,u.b.experiment.entityType,[].concat(l)),i),r()}))}r.a={fetchRequiredDataForFeatureManager:fetchRequiredDataForFeatureManager,fetchRequiredDataForManagerChangeHistory:fetchRequiredDataForManagerChangeHistory}},function(t,r,a){"use strict";a.r(r);var i=a(17),o=a.n(i);r.default={EVENT_TYPES:{DID_FAIL_LOAD:"did-fail-load",DID_NAVIGATE:"did-navigate",DID_START_LOADING:"did-start-loading",DOM_READY:"dom-ready",IPC_MESSAGE:"ipc-message"},MESSENGER_NAMES:o()({DESKTOP_INNIE:null,DESKTOP_OUTIE:null})}},,function(t,r,a){"use strict";a.r(r);var i=a(36),o=a(570);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a);r.default=_extends({},c)},function(t,r,a){"use strict";var i=a(1257);a.d(r,"a",(function(){return i.a}));var o=a(640),c=a(395);a.d(r,"b",(function(){return c.a}));var l=a(1258);i.a,o.a,c.a,l.a},,function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(306),l=a.n(c),u=a(753),d=a(75),p=a(3),m=a(2),g=a(35),h=a(5),y=a(392),v=a.n(y),_=a(149),E=a.n(_),b=a(101),T=a(99),S=a.n(T),C=a(24),I=a(37),A=a(262),O=a(734),P=a(336),R=a(133),w=a(261),N=a.n(w),L=a(13),x=a(396),D=a(376),k=a(310),j=a(112),M=a(284),U=a(277),V=a(50),B=a(733),G=a(117),H=a(21),z=a(136),W=a(20),q=a(562),Y=a(774),K=a(1404),J=a(340),X=a(312),$=a(77),Q=a(167),Z=a(221),ee=a(249),te=a(22),ne=a(8),re=a.n(ne),ae=a(2633),ie=a(2636),oe=a(947),se=a(2131),ce=a.n(se),le=a(2662),ue=a(209),de=a(283),fe=a(655),pe=a(200);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function fetchLegacyExperimentDialogData(){var t={project_id:p.default.evaluate(L.default.id)},r=p.default.evaluate(L.default.isFullStackProject),a=[A.a.fetchAll(t),V.actions.fetchAll(t),k.a.fetchAll(t)];return r||(a.push(q.default.fetchAll(t)),a.push(K.a.fetchAll(t))),Promise.all(a)}r.a={archiveExperiment:function archiveExperiment(t){var r,a=o.a.Deferred();r=p.default.evaluate(L.default.environmentsAuthorizedAndSupported)?W.default.fns.isRunningInAnyEnvironment(t):p.default.evaluate(fe.a.isExperimentLive(t.get("id")))&&t.get("status")===W.default.enums.status.ACTIVE;var i=W.default.fns.isMultiArmedBandit(t);if(r){var c=t.get("name")||t.get("key"),l=i?"optimization":"experiment";return h.default.confirm({title:re()("Archive {0}",S()(l)),message:re()("The {0} <b>{1}</b> is currently running. Archiving a running {2} will pause it. Are you sure you want to archive it?",l,c,l),isWarning:!0,confirmText:re()("Archive {0}",S()(l))}).then((function(){return W.default.actions.archive(t.toJS()).then((function(t){a.resolve(t)}))})),a.promise()}return W.default.actions.archive(t.toJS())},createOrUpdateExperimentViaOasisDialog:function createOrUpdateExperimentViaOasisDialog(t){var r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.groupId,o=void 0===i?null:i,c=a.metrics,l=void 0===c?[]:c,u=a.trafficAllocationPolicy,d=void 0===u?ue.TrafficAllocationPolicyTypes.MANUAL:u;return new Promise((function(a,i){var c=_extends({},t,{allocation_policy:d,audience_conditions:t.audience_conditions||null,audience_ids:t.audience_ids||[],feature_flag_id:t.feature_flag_id||null});c.audience_conditions_json||delete c.audience_conditions_json;var u={metrics:l,name:c.key,policy:c.layer_policy||H.default.policy.SINGLE_EXPERIMENT,type:c.layer_type||H.default.type.AB};if(c.id){var g=p.default.evaluateToJS(z.default.byId(c.layer_id));u=_extends({},u,{earliest:g&&g.earliest||null,id:c.layer_id})}else u=_extends({},u,{experiment_ids:[],holdback:0,project_id:c.project_id,status:H.default.status.ACTIVE});var h=p.default.evaluate(I.default.accountPermissions);return te.default.canUseOutlierFiltering(h,Object(m.toImmutable)(u))&&(u.outlier_filter=p.default.evaluateToJS(ee.a.outlierFilter)),G.default.save(u).then((function(t){var r=_extends({},c,{layer_id:t.id});return W.default.actions.save(r,{useAudienceConditionsJSON:!0})})).then((function(t){return r.updateExperimentGroup(t,o).then((function(){return a(t)}),i)})).fail(i)}))},getUnarchivedExperimentCopy:function getUnarchivedExperimentCopy(t){var r=Object(d.default)(t);return r.status=W.default.enums.status.PAUSED,r.is_launched=!1,r},launchExperiment:function launchExperiment(t){return W.default.actions.launch(t)},showCreateExperimentDialog:function showCreateExperimentDialog(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.default.policy.SINGLE_EXPERIMENT,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z.a.ExperimentType.AB_TEST,i=P.default.modes.CREATE,o=a===Z.a.ExperimentType.FEATURE_TEST,c=a===Z.a.ExperimentType.MULTIARMED_BANDIT,l=c?ue.TrafficAllocationPolicyTypes.MAXIMIZE_CONVERSIONS:ue.TrafficAllocationPolicyTypes.MANUAL,d=H.default.type.AB;o&&(d=H.default.type.FEATURE),c&&(d=H.default.type.MULTIARMED_BANDIT);var y={api_name:"variation_1",guid:E()(),variable_values:{},weight:5e3},v={api_name:"variation_2",guid:E()(),variable_values:{},weight:5e3};o&&(y.feature_enabled=!1,v.feature_enabled=!0);var _=[y,v],b=p.default.evaluate(L.default.id),T=Object(m.toImmutable)({audience_ids:[],description:"",feature_flag_id:null,key:"",layer_policy:r,layer_type:d,percentage_included:j.b.MAX_TRAFFIC_ALLOCATION,project_id:b,variations:_});O.a.init({experiment:T,mode:i});var S=function handleOnSave(r){return t.createOrUpdateExperimentViaOasisDialog(r,{trafficAllocationPolicy:l}).then((function(t){console.warn("New experiment created: ",{createdExperiment:t});var r="The experiment ".concat(t.key," has been created");return h.default.showNotification({message:r}),h.default.hideDialog().then((function(){return t}))})).then((function(t){return console.warn("redirecting to manager for new experiment"),g.default.go(C.default.fullStackManagerVariations(t.project_id,t.id)),t})).then((function(t){var r={type:t.type,experimentId:t.id,experimentKey:t.key,experimentName:t.name};Object(u.track)("Experiment Created",r)}))};h.default.showReactDialog(ae.a,{props:{onSave:S,onCancel:function onCancel(){return h.default.hideDialog()},experiment:T,experimentType:a},dataBindings:{canCreateLayerExperiment:[L.default.project,te.default.canCreateLayerExperiment],canUseFeatureManagement:[L.default.project,te.default.canUseFeatureManagement],currentProjectExperiments:L.default.fullStackLayerExperimentsWrapper,currentProjectFeatures:L.default.features,environmentsAuthorizedAndSupported:L.default.environmentsAuthorizedAndSupported,isRolloutsProject:L.default.isRolloutsProject,isFullStack:L.default.isFullStackProject,isLoadingFeatures:Q.a.isLoading($.LOADING_FEATURE_FLAGS),runningExperimentLimit:L.default.runningExperimentLimit}},{fullScreen:!0,dismissOnBack:!0,component:{template:'<div class="flex flex--1 height--1-1 width--1-1"></div>'}})},showEventConfigDialog:function showEventConfigDialog(t,r){var a=p.default.evaluate(L.default.id),i=p.default.evaluate(L.default.primarySDKLanguage),o=V.fns.createEventEntity({event_type:V.enums.eventTypes.CUSTOM,api_name:t,name:t,project_id:a});h.default.showReactDialog(oe.a,{props:{onSaveEvent:r,event:Object(m.toImmutable)(o),language:i}},{isOuiDialog:!0,noPadding:!0,fullScreen:!0,dismissOnBack:!0})},showLegacyCreateExperimentDialog:function showLegacyCreateExperimentDialog(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.default.modes.EDIT,a=arguments.length>2?arguments[2]:void 0,i=r,o=a;if(o)N.a.setCurrentLayerId(o.layer_id);else{var c=p.default.evaluate(L.default.id);o={description:"",key:"",percentage_included:j.b.MAX_TRAFFIC_ALLOCATION,project_id:c,layer_policy:H.default.policy.SINGLE_EXPERIMENT,audience_ids:[]},i=P.default.modes.CREATE}var l=p.default.evaluate(L.default.canEditExperiment(o.status)),u={canEditExperiment:l,experiment:o,mode:i,onSave:function onSave(){B.a.setFilter(pe.a.tableIds.EXPERIMENTS,{status:o.status===W.default.enums.status.ARCHIVED?o.status:W.default.enums.status.ACTIVE})}};fetchLegacyExperimentDialogData().then((function(){h.default.showDialog({component:t,fullScreen:!0,dismissOnBack:!0,onHideDialog:function onHideDialog(){b.default.replaceStateAndRemoveQueryParams(["experiment_id"])},data:u})}))},showFeatureExperimentDialog:function showFeatureExperimentDialog(t){var r=this,a=t,i=!!a;if(!a){var o=p.default.evaluate(L.default.id);a=Object(m.toImmutable)({description:"",key:"",percentage_included:j.b.MAX_TRAFFIC_ALLOCATION,project_id:o,layer_policy:H.default.policy.SINGLE_EXPERIMENT,layer_type:H.default.type.FEATURE,audience_ids:[],variations:[{feature_enabled:!1,guid:E()(),variable_values:{},api_name:"variation_1",weight:5e3},{feature_enabled:!0,guid:E()(),variable_values:{},api_name:"variation_2",weight:5e3}]})}h.default.showReactDialog(ie.a,{props:{onSave:function onSave(t,a){var o=l.a.sanitize(t.key,!0),c=i?re()("updated"):re()("created"),u=re()("The experiment <b>{0}</b> has been {1}.",o,c);return r.createOrUpdateExperimentViaOasisDialog(t,{metrics:a,trafficAllocationPolicy:ue.TrafficAllocationPolicyTypes.MANUAL}).then((function(){h.default.showNotification({message:u}),h.default.hideDialog()}))},onCancel:function onCancel(){h.default.hideDialog()},experiment:a,isEditing:i,isExperimentLive:R.a.isExperimentLive(a)},dataBindings:{activeGroups:fe.a.currentProjectActiveGroups,canCreateLayerExperiment:[L.default.project,te.default.canCreateLayerExperiment],canEditExperiment:L.default.canEditExperiment(a.get("status")),canUpdateLayerExperiment:[L.default.project,te.default.canUpdateLayerExperiment],currentProjectExperiments:L.default.fullStackLayerExperimentsWrapper,currentProjectFeatures:L.default.features,environmentsAuthorizedAndSupported:L.default.environmentsAuthorizedAndSupported,isMobileOnly:[I.default.accountPermissions,te.default.isMobileOnlyAccount],primarySDKLanguage:L.default.primarySDKLanguage,workingMetrics:ee.a.workingMetrics}},{fullScreen:!0,dismissOnBack:!0,onHideDialog:function onHideDialog(){b.default.replaceStateAndRemoveQueryParams(["experiment_id"])},component:{template:'<div class="flex--1 flex width--1-1 height--1-1"></div>'}})},showWhitelistDialog:function showWhitelistDialog(t){h.default.showReactDialog(le.a,{props:{onSave:W.default.actions.save,experiment:Object(m.toImmutable)(p.default.evaluateToJS(W.default.getters.byId(t.id)))}},{fullScreen:!0,dismissOnBack:!0})},showVariableDialog:function showVariableDialog(t){var r=t,a=p.default.evaluate(L.default.primarySDKLanguage);if(!r){var i=p.default.evaluate(L.default.id);r=Y.a.createLiveVariableEntity({project_id:i})}h.default.showDialog({component:v.a.extendComponent(ce.a,{onSave:function onSave(t){return q.default.save(t)},language:a,variable:r}),noPadding:!0,fullScreen:!0,dismissOnBack:!0})},unarchiveExperiment:function unarchiveExperiment(t){return W.default.actions.unarchive(t).then((function(r){return p.default.evaluate(X.default.liveCommitTagByLayerId(t.layer_id))?J.default.activateTag({layer_id:t.layer_id}).then((function(){return r})):r}))},updateExperimentGroup:function updateExperimentGroup(t,r){return k.a.updateExperimentGroup(t.id,t.percentage_included,M.b.EXPERIMENTATION_GROUP_TYPES.LAYER_EXPERIMENT,r)},updateExperimentStatusWithEnvironment:function updateExperimentStatusWithEnvironment(t,r,a,i){return function validateCanStartExperimentOrWarn(t,r){if(!(p.default.evaluate(L.default.isRolloutsProject)&&r!==W.default.enums.EnvironmentStatus.RUNNING))return!0;var a=p.default.evaluate(L.default.currentProjectRunningExperiments).map((function(t){return t.get("id")})),i=p.default.evaluate(L.default.project).get("running_experiment_limit");return!!de.a.canRunAdditionalExperiment(t.get("id"),a,i)||(U.a.showUpgradeDialog(U.b.FeatureLimitTypes.RUNNING_EXPERIMENT_LIMIT,i),!1)}(t,i)?x.a.fetch(r).then((function(r){if(r.is_primary&&i===W.default.enums.EnvironmentStatus.NOT_STARTED){var a=W.default.fns.isMultiArmedBandit(t)?"optimization":"experiment";return h.default.confirm({title:"Run ".concat(S()(a)),message:"Your ".concat(a," is about to run in your primary environment. Are you sure you want to run this ").concat(a,"?"),confirmText:"Run ".concat(S()(a))})}})).then((function(){return i===W.default.enums.EnvironmentStatus.RUNNING?W.default.actions.pauseExperimentWithEnvironment(t,a):W.default.actions.runExperimentWithEnvironment(t,a)})).then((function(i){var o=i&&i.environments&&i.environments[a]&&i.environments[a].status,c=W.default.humanReadable.EXPERIMENT_ENVIRONMENT_STATUS_LOWER[o];if(c){var u=p.default.evaluate(D.a.byId(r)),d=[t.get("key"),c,u&&u.get("name")||""].map((function(t){return l.a.sanitize(t,!0)})),m=re.a.apply(void 0,["Success: <b>{0}</b> is now {1} in {2}"].concat(_toConsumableArray(d)));h.default.showNotification({message:m})}})):o.a.Deferred().resolve()}}},,,,function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({SET_SELECTED_TIMEZONE:null,SET_GMT_TIMEZONE:null,CLEAR_GMT_TIMEZONE:null})},function(t,r,a){"use strict";var i=[{value:"node",title:"NodeJS",subtitle:"v10.0.4",image:"/static/img/x/logos/node.svg",isAvailable:!0},{value:"android",title:"Android",subtitle:"Java API 19 or greater",image:"/static/img/x/logos/android.svg",isAvailable:!0},{value:"csharp",title:"C#",subtitle:".NET Core 2.0 or later",image:"/static/img/x/logos/csharp.svg",isAvailable:!0},{value:"go",title:"Go",subtitle:"",image:"/static/img/x/logos/go.svg",isAvailable:!0},{value:"ios",title:"iOS",subtitle:"(tutorial not yet available)",image:"/static/img/x/logos/apple.svg",isAvailable:!1},{value:"java",title:"Java",subtitle:"",image:"/static/img/x/logos/java.svg",isAvailable:!0},{value:"javascript",title:"JavaScript",subtitle:"Modern browsers",image:"/static/img/x/logos/javascript.svg",isAvailable:!0},{value:"php",title:"PHP",subtitle:"",image:"/static/img/x/logos/php.svg",isAvailable:!0},{value:"python",title:"Python",subtitle:"v3",image:"/static/img/x/logos/python.svg",isAvailable:!0},{value:"react",title:"React",subtitle:"v16.3.0 or greater",image:"/static/img/x/logos/react.svg",isAvailable:!0},{value:"ruby",title:"Ruby",subtitle:"",image:"/static/img/x/logos/ruby.svg",isAvailable:!0},{value:"swift",title:"Swift",subtitle:"v5.0 or later",image:"/static/img/x/logos/swift.svg",isAvailable:!0},{value:"flutter",title:"Flutter",subtitle:"",image:"/static/img/x/logos/flutter.svg",isAvailable:!0}],o=i.filter((function(t){return t.isAvailable})).map((function(t){return t.value}));r.a={DEFAULT_MESSAGE:"Would you like to buy something?",DEFAULT_VARIATION:"Offer available until midnight. Buy it now?",ONBOARDING_LOCAL_STORAGE_KEY:"onboarding_data",LANGUAGES:i,AVAILABLE_LANGUAGE_NAMES:o,SORT_METHOD_VARIATION_1:"Variation 1 shows popular products first!",SORT_METHOD_VARIATION_2:"Variation 2 shows relevant products first!",FLAG_KEY_PURCHASE_OPTION:"purchase_option",FLAG_KEY_PRODUCT_SORT:"product_sort",VARIABLE_KEY_MESSAGE:"message",VARIABLE_KEY_SORT_METHOD:"sort_method",PROJECT_TYPE_FLAGS:"project_type_flags",PROJECT_TYPE_LEGACY:"project_type_legacy"}},function(t,r,a){"use strict";a.d(r,"a",(function(){return i})),a.d(r,"b",(function(){return o}));var i="SET_FILTER",o="TOGGLE_COLLABORATOR_SELECTION";r.c={TOGGLE_COLLABORATOR_SELECTION:o,SET_FILTER:i}},function(t,r,a){"use strict";var i=a(36),o=a(575),c=a(96),l=a(755);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var u=i.default.createEntityActions(o.a);u.save,u.fetch,u.fetchAll,u.fetchPage,u.fetchAllPages,u.flush,u.delete;r.a=_extends({},u,{fetchActiveEventPlugins:function fetchActiveEventPlugins(t){return this.fetchAll({project_id:t,archived:!1,plugin_type:c.default.plugin_type.EVENT})},onPluginCreate:function onPluginCreate(t,r){var a=l.default.fillDefaults(t,r);return this.save(a)}})},function(t,r,a){"use strict";a.r(r),a.d(r,"createDcpDatasourceEntity",(function(){return createDcpDatasourceEntity})),a.d(r,"isKeyFieldVisible",(function(){return isKeyFieldVisible})),a.d(r,"addS3prefix",(function(){return addS3prefix})),a.d(r,"headerCsv",(function(){return headerCsv}));var i=a(4),o=a.n(i),c=a(404);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function createDcpDatasourceEntity(t){return _extends({},{archived:!1,attributes:[],id:null,name:null,description:null,aws_access_key:null,aws_secret_key:null,s3_path:null},t)}function isKeyFieldVisible(t){return t&&!!t.keyfield_locator_type&&t.keyfield_locator_type!==c.default.keyFieldLocations.UID}function addS3prefix(t){return"/optimizely-import/".concat(t)}function headerCsv(t){var r=o.a.map(t.attributes||[],(function(t){return'"'.concat((t.name||"").replace(/"/g,'""'),'"')}));return['"customerId"'].concat(r).join(",")}r.default={addS3prefix:addS3prefix,createDcpDatasourceEntity:createDcpDatasourceEntity,headerCsv:headerCsv,isKeyFieldVisible:isKeyFieldVisible}},function(t,r,a){"use strict";var i=a(31),o=a(36),c=a(152),l=a(1427),u=a(105);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var d=o.default.createEntityActions(l.a);d.fetch,d.fetchAll,d.fetchPage,d.fetchAllPages,d.delete;function getPageSize(){var t=c.enums.FEATURES.fetch_all_paginated,r=t.FEATURE_KEY,a=t.VARIABLES;return Object(i.getFeatureVariable)(r,a.page_size)||o.default.constants.DEFAULT_PAGE_SIZE}r.a=_extends({},d,{fetchAllPagesOfUsers:function fetchAllPagesOfUsers(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={account_id:t,$limit:getPageSize()};return this.fetchAllPages(a,{skipEvaluatingCachedData:!0,force:r})},getPageSize:getPageSize,doesUserRoleExist:function doesUserRoleExist(t,r){return u.makeV1AjaxRequest({url:"/api/v1/accounts/".concat(t,"/user_roles/").concat(r),type:"GET"})}})},function(t,r,a){"use strict";var i=a(1080);a.d(r,"a",(function(){return i.a}));i.a},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(3),l=a(385),u=a(23),d=a(20),p=a(202),m=a(359);function refetchLayerAndExperiments(t){return u.actions.fetch(t,!0).then((function(t){return d.actions.intelligentFetchAll(t,!0)}))}r.a={publishLayerCommit:function publishLayerCommit(t,r,a){return l.a.publishCommit(t,r).then((function(t){m.actions.verify({projectId:a,revisionToVerify:t.project_code_revision}).catch((function(){}))}))},publishLayer:function publishLayer(t,r,a,i){var o=this,c=tr.date().format("LLL"),u={layer_id:t,name:tr("Campaign published at {0}",c),experiment_ids:a};return i&&(u.base_id=i),l.a.save(u).then((function(a){return o.publishLayerCommit(t,a.id,r)}))},publishLayerAndRefetchLayerData:function publishLayerAndRefetchLayerData(t,r,a,i){return this.publishLayer(t,r,a,i).then((function(){return refetchLayerAndExperiments(t)}))},pauseLayer:function pauseLayer(t){if(c.default.evaluate(p.b.liveCommitTagByLayerId(t)))return p.a.deactivateTag({layer_id:t});var r=tr.date().format("LLL"),a={layer_id:t,name:tr("Campaign published at {0}",r)};return l.a.save(a).then((function(r){return p.a.save({layer_id:t,commit_id:r.id,active:!1})}))},publishLayerOnly:function publishLayerOnly(t,r,a){var i=this,o=tr.date().format("LLL"),c={layer_id:t,name:tr("Campaign published at {0}",o),base_id:a,layer_only:!0};return l.a.save(c).then((function(a){return i.publishLayerCommit(t,a.id,r)}))},publishLayerOnlyAndRefetchLayerData:function publishLayerOnlyAndRefetchLayerData(t,r,a){var i=this.publishLayerOnly(t,r,a),c=refetchLayerAndExperiments(t);return o.a.when(i,c)}}},function(t,r,a){var i=a(3),o=a(5).default,c=a(23),l=a(20),u=a(3548).default,d=a(951);r.openExperimentPrioritiesDialog=function(t){return c.actions.fetch(t).then((function(){return o.showReactDialog(u,{dataBindings:{data:d.experimentPriorityDialogData}},{fullScreen:!0})}))},r.saveExperimentPriorities=function(t,r){var a=i.evaluate(c.getters.byId(t)),o=i.evaluate(l.getters.entityCache),u=c.fns.getPriorityGroupsSplitByStatus(a,o).archivedGroup,d=r;return u.size&&(d=d.concat([u.toJS()])),c.actions.updateExperimentPriorities(t,d)},r.attemptCreatingNewVariation=function(t,r){var a=i.evaluateToJS(l.getters.byId(r)),o=l.fns.validateVariationName(a,t);return o.valid?{isNameValid:!0,saveDef:l.actions.createNewVariationWithRedistributedTraffic(t,a)}:{isNameValid:!1,errorMessage:o.message}}},,function(t,r,a){"use strict";a.d(r,"a",(function(){return u}));var i=a(2),o=a(216),c=a.n(o),l=a(20),u=function calculateTotalPercent(t){var r=t.reduce((function(t,r){return t+Number(r.get("percentage"))}),0);return Math.round(r*c.a.MULTIPLIER)/c.a.MULTIPLIER};r.b={hasNegativePercentage:function hasNegativePercentage(t){return t.some((function(t){return Number(t.get("weight")<0)}))},calculateTotalPercent:u,buildVariationTrafficDataForPartialFactorial:function buildVariationTrafficDataForPartialFactorial(t){return Object(i.toJS)(t).map((function(t){return{actions:t.variation.actions,api_name:t.variation.api_name,archived:t.variation.archived,description:t.variation.description,name:t.variation.name,status:t.variation.status,variable_values:t.variation.variable_values,variation_id:t.variation.variation_id,weight:c.a.getWeightFromPercentage(t.percentage)}}))},isPartialFactorial:function isPartialFactorial(t){return t===l.enums.multivariateTrafficPolicies.PARTIAL_FACTORIAL},generateCreateSectionWarning:function generateCreateSectionWarning(t,r){var a,i;return t&&r?(a=tr("Are you sure you want to add a section? Adding a section will generate\na whole new set of combinations for this multivariate test and remove any existing\ncombinations. This will reset your results the next time you publish. Since your test\nis currently in <strong>partial factorial mode</strong>, your traffic allocation will be reset\nto an even distribution between all combinations."),i=tr("Create Section and Reset Results and Traffic")):t?(a=tr("Are you sure you want to add a section? Adding a section will generate\na whole new set of combinations for this multivariate test and remove any existing\ncombinations. This will reset your results the next time you publish."),i=tr("Create Section and Reset Results")):r&&(a=tr("Are you sure you want to add a section? Since your test\nis currently in <strong>partial factorial mode</strong>, your traffic allocation will be reset\nto an even distribution between all combinations."),i=tr("Create Section and Reset Traffic")),{message:a,confirmText:i}},generateDeleteSectionWarning:function generateDeleteSectionWarning(t,r,a){var i=tr("Are you sure you would like to delete the section <strong>{0}</strong> in the current experiment?",t),o=tr("Delete Section");return r&&a?(i=tr("Are you sure you would like to delete the section <strong>{0}</strong> in the current experiment?\nDeleting a section will generate a whole new set of combinations for this multivariate test and\nremove any existing combinations. This will reset your results the next time you publish.\nSince your test is currently in <strong>partial factorial mode</strong>, your traffic allocation will be reset\nto an even distribution between all combinations.",t),o=tr("Delete Section and Reset Results and Traffic")):r?(i=tr("Are you sure you would like to delete the section <strong>{0}</strong> in the current experiment?\nDeleting a section will generate a whole new set of combinations for this multivariate test and\nremove any existing combinations. This will reset your results the next time you publish.",t),o=tr("Delete Section and Reset Results")):a&&(i=tr("Are you sure you would like to delete the section <strong>{0}</strong> in the current experiment?\nSince your test is currently in <strong>partial factorial mode</strong>, your traffic allocation will be reset\nto an even distribution between all combinations.",t),o=tr("Delete Section and Reset Traffic")),{message:i,confirmText:o}}}},function(t,r,a){"use strict";a.r(r),a.d(r,"currentlyEditingExperiment",(function(){return p})),a.d(r,"currentlyEditingExperimentWrapper",(function(){return m})),a.d(r,"currentlyEditingExperimentFeature",(function(){return g})),a.d(r,"activeTab",(function(){return h})),a.d(r,"orderedVariations",(function(){return y}));var i=a(2),o=a(27),c=a(14),l=a(20),u=a(125),d=a(38),p=[l.getters.entityCache,["oasis/currentlyEditingExperiment","experimentId"],function(t,r){return t.get(r)}],m=[p,u.f.entityToGroupMap,function(t,r){return c.fns.wrapFullStackLayerExperiments(Object(i.toImmutable)([t]),r).get(0)}],g=[p,o.getters.entityCache,function(t,r){return r.get(t.get("feature_flag_id"))}],h=["oasis/currentlyEditingExperiment","tab"],y=[d.getters.currentSingleExperimentFromAllExperimentsPointingToLayer,function(t){return t?t.get("variations"):Object(i.toImmutable)([])}];r.default={currentlyEditingExperiment:p,currentlyEditingExperimentWrapper:m,currentlyEditingExperimentFeature:g,activeTab:h,orderedVariations:y}},function(t,r,a){"use strict";a.d(r,"b",(function(){return I})),a.d(r,"a",(function(){return withEntitySearch}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(513),d=a.n(u),p=a(914),m=a.n(p),g=a(87),h=a(5),y=a(167),v=a(28),_=a(95),E=a(13),b=a(401),T=a(185),S=a(94);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _initializerDefineProperty(t,r,a,i){a&&Object.defineProperty(t,r,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(i):void 0})}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _applyDecoratedDescriptor(t,r,a,i,o){var c={};return Object.keys(i).forEach((function(t){c[t]=i[t]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=a.slice().reverse().reduce((function(a,i){return i(t,r,a)||a}),c),o&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(o):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(t,r,c),c=null),c}var C=function hoistStaticsAndForwardRefs(t,r,a){var i=function forwardRef(r,a){return o.a.createElement(t,{forwardedProps:r,forwardedRef:a})};return i.displayName="".concat(a,"(").concat(r.displayName||r.name||"Component",")"),d()(o.a.forwardRef(i),r)},I={currentSearchOptions:l.a.shape({archived:l.a.bool,expand:l.a.arrayOf(Object.values(S.a.searchExpandFields)),order:l.a.oneOf(Object.values(S.a.searchSortOrders)),page:l.a.number,perPage:l.a.number,projectId:l.a.number,query:l.a.string.isRequired,sort:l.a.oneOf(Object.values(S.a.searchSortableKeys)),status:l.a.oneOfType([l.a.oneOf(Object.values(S.a.searchFilterableStatuses)),l.a.arrayOf(Object.values(S.a.searchFilterableStatuses))]),type:l.a.oneOfType([l.a.oneOf(Object.values(S.a.searchEntityTypes)),l.a.arrayOf(l.a.oneOf(Object.values(S.a.searchEntityTypes)))])}).isRequired,totalSearchPages:l.a.number.isRequired,currentSearchResults:l.a.arrayOf(l.a.shape({})).isRequired,changeSearchPage:l.a.func.isRequired,changeSearchFilters:l.a.func.isRequired,changeSearchSort:l.a.func.isRequired,changeSearchQuery:l.a.func.isRequired,reloadSearchPage:l.a.func.isRequired,submitSearchQuery:l.a.func.isRequired,waitForReindex:l.a.func.isRequired,isSearchLoading:l.a.bool.isRequired,searchApiStatus:l.a.shape({canQueryEntities:l.a.bool.isRequired,canListEntities:l.a.bool.isRequired}).isRequired};function withEntitySearch(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.canQueryFeatureKey||_.b.FEATURES.use_search_api_for_sonic_search_boxes.FEATURE_KEY,i=r.canListFeatureKey||_.b.FEATURES.use_search_api_for_sonic_tables.FEATURE_KEY;return function(r){var c,u,d,p,_,I,A,O,P=(c=Object(v.a)({currentProjectId:E.default.id,isSearchLoading:Object(y.b)(S.a.LOADING_ID)}),u=Object(g.b)(i),d=Object(g.b)(a),p=Object(g.d)("entity_update_reindex_delay_ms"),c(_=u(_=d(((O=function(c){_inherits(ComponentWithEntitySearch,c);var l=_createSuper(ComponentWithEntitySearch);function ComponentWithEntitySearch(){var r;_classCallCheck(this,ComponentWithEntitySearch);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return(r=l.call.apply(l,[this].concat(c))).state={currentSearchOptions:{query:"",page:1,perPage:S.a.MAX_PAGE_SIZE,type:[],sort:null,order:null,status:null,archived:null,projectId:null},totalPages:1,results:[]},_initializerDefineProperty(r,"entityUpdateReindexDelayMS",A,_assertThisInitialized(r)),r.canQueryEntitiesUsingSearchAPI=function(){return!!r[a]},r.canListEntitiesUsingSearchAPI=function(){return!!r[i]},r.waitForReindex=function(){return new Promise((function(t){return setTimeout(t,r.entityUpdateReindexDelayMS)}))},r.changeSearchPage=function(t){var a=r.state.currentSearchOptions;return r.submitSearchQuery(_extends({},a,{page:t}))},r.changeSearchSort=function(t,a){var i=r.state.currentSearchOptions;return r.submitSearchQuery(_extends({},i,{sort:t,order:a}))},r.changeSearchFilters=function(t,a,i){var o=r.state.currentSearchOptions;return r.submitSearchQuery(_extends({},o,{type:t,status:a,archived:i}))},r.changeSearchQuery=function(t){var a=r.state.currentSearchOptions;return r.submitSearchQuery(_extends({},a,{query:t}))},r.reloadSearchPage=function(){var t=r.state.currentSearchOptions;return r.submitSearchQuery(t)},r.submitSearchQuery=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.props.currentProjectId,o=_extends({projectId:i},t,a);if(o.perPage>S.a.MAX_PAGE_SIZE)return Promise.reject(new Error("Cannot request ".concat(o.perPage," results per page. Max page size = ").concat(S.a.MAX_PAGE_SIZE,".")));if(!r.canQueryEntitiesUsingSearchAPI()&&o.query&&""!==o.query)return Promise.reject(new Error("Text-based queries cannot be performed at this time."));var c=r.state,l=c.currentSearchOptions,u=c.totalPages,d=o.query!==l.query||o.status!==l.status||o.type!==l.type||o.archived!==l.archived||o.projectId!==l.projectId;d&&(o.page=1);var p={perPage:o.perPage||S.a.MAX_PAGE_SIZE,page:o.page||1,projectId:o.projectId,query:o.query&&encodeURIComponent(o.query)||""};o.type&&(p.type=o.type),o.sort&&(p.sort=o.sort),o.order&&(p.order=o.order),o.status&&(p.status=o.status),"boolean"==typeof o.archived&&(p.archived=o.archived),o.expand&&(p.expand=o.expand);var g=r.canQueryEntitiesUsingSearchAPI()&&""!==o.query||r.canListEntitiesUsingSearchAPI()&&""===o.query,y=g?S.a.SEARCH_API_ENDPOINT:S.a.EXPERIMENT_SUMMARIES_API_ENDPOINT,v=Date.now(),_=b.a.fetchPage(y,{queryParams:p}).then((function(t){if(!t.ok)throw new Error("Could not execute query.");var r=Date.now()-v;T.default.trackSearchQueryRequestCompleted({requestDuration:r,didUseBridgeApi:!g});var a=Promise.resolve(d?1:u);if(t.headers.has("Link")){var i=m()(t.headers.get("Link")).last;i&&i.page&&(a=Promise.resolve(Number(i.page)||1))}return Promise.all([a,t.json()])})).then((function(t){var a=_slicedToArray(t,2),i=a[0],c=a[1];return r.setState({currentSearchOptions:o,totalPages:i,results:c}),Promise.resolve(c)}));return h.default.loadingWhen(S.a.LOADING_ID,_),_},r}return _createClass(ComponentWithEntitySearch,[{key:"render",value:function render(){var t=this.props,a=t.isSearchLoading,i=t.forwardedProps,c=this.state,l=c.currentSearchOptions,u=c.totalPages,d=c.results;return o.a.createElement(r,_extends({currentSearchOptions:l,totalSearchPages:u,currentSearchResults:d,changeSearchPage:this.changeSearchPage,changeSearchFilters:this.changeSearchFilters,changeSearchSort:this.changeSearchSort,changeSearchQuery:this.changeSearchQuery,reloadSearchPage:this.reloadSearchPage,submitSearchQuery:this.submitSearchQuery,waitForReindex:this.waitForReindex,isSearchLoading:a,searchApiStatus:{canQueryEntities:this.canQueryEntitiesUsingSearchAPI(),canListEntities:this.canListEntitiesUsingSearchAPI()}},i))}}]),ComponentWithEntitySearch}(o.a.Component)).propTypes={currentProjectId:l.a.number.isRequired,forwardedProps:l.a.shape({}),isSearchLoading:l.a.bool.isRequired},O.defaultProps={forwardedProps:{}},A=_applyDecoratedDescriptor((I=O).prototype,"entityUpdateReindexDelayMS",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function initializer(){return 1e3}}),_=I))||_)||_)||_);return C(P,r,"withEntitySearch")}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,r,a){"use strict";a.d(r,"a",(function(){return o}));var i=a(17),o=a.n(i)()({LAYERS_DASHBOARD:null,FULLSTACK_EXPERIMENTS_DASHBOARD:null,AUDIENCES_DASHBOARD:null,VIEWS_DASHBOARD:null,CAMPAIGN_OVERVIEW:null,FS_EVENTS_DASHBOARD:null,FEATURES_DASHBOARD:null,RESULTS_AB:null,RESULTS_DETAIL:null,RESULTS_MVT_ROLLUP:null,RESULTS_OVERVIEW:null,ACCOUNT_LEVEL_USER_DASHBOARD:null})},,,,,,,,,,,,,,,function(t,r,a){"use strict";var i=a(1232);a.d(r,"a",(function(){return i.a}));var o=a(586),c=a(1233);a.d(r,"b",(function(){return c.a}));i.a,o.a,c.a},,,,,,,,,,,,,,,function(t,r,a){"use strict";var i=a(1284);a.d(r,"a",(function(){return i.a}));var o=a(596),c=a(817),l=a(1285);a.d(r,"b",(function(){return l.a}));i.a,o.a,c.a,l.a},function(t,r,a){var i=a(444),o=a(2094),c=a(3529),l=a(930);t.exports={template:c,directives:{spectrum:o},constants:l,data:{spectrumOptions:JSON.stringify({replacerClassName:l.REPLACER_CLASS_NAME}),value:null},methods:{getValue:function getValue(){return this.value},handleValueUpdate:function handleValueUpdate(){this.$emit(l.SPECTRUM_EVENTS.PROPERTIES_CHANGED,{color:this.value}),this.$emit(l.EVENTS.COLOR_UPDATED,this.value)},_handleColorUpdateRequest:function _handleColorUpdateRequest(t){t&&(t=i(t,!0)),this.value=t,this.handleValueUpdate()},_handleSpectrumUpdate:function _handleSpectrumUpdate(t,r){this.value=i("rgba(".concat(r.r,", ").concat(r.g,", ").concat(r.b,", ").concat(r.a,")"),!0),this.$emit(l.EVENTS.COLOR_UPDATED,this.value)}},ready:function ready(){this.value=i(this.initialValue||l.DEFAULT_INITIAL_COLOR,!0),this.$on(l.SPECTRUM_EVENTS.UPDATE,this._handleSpectrumUpdate.bind(this)),this.$on(l.EVENTS.SET_COLOR,this._handleColorUpdateRequest.bind(this)),this.$emit(l.SPECTRUM_EVENTS.PROPERTIES_CHANGED,{color:this.initialValue})}}},function(t,r,a){"use strict";var i=tr("Experiences"),o=tr("Experiments Overview"),c=tr("Sections"),l=tr("Combinations"),u=tr("Variations"),d=tr("Reports");r.a={EXPERIENCES:i,EXPERIMENTS_OVERVIEW:o,MULTIVARIATE_SECTIONS:c,MULTIVARIATE_COMBINATIONS:l,VARIATIONS:u,REPORTS:d}},function(t,r,a){"use strict";a.r(r),a.d(r,"draftTooltipText",(function(){return i}));var i=function draftTooltipText(t,r,a){return tr("{0} New - {1} Modified - {2} Deleted",t,r,a)};r.default={draftTooltipText:i}},,,function(t,r,a){"use strict";var i=a(2),o=Object(i.toImmutable)({name:"",variations:[{name:tr("Original"),weight:5e3,actions:[]},{name:tr("Variation #1"),weight:5e3,actions:[]}]});r.a={CREATE_SECTION_FORM_INITIAL_STATE:o}},,,,,,function(t,r,a){"use strict";a.r(r),a.d(r,"archiveFeatureFlag",(function(){return archiveFeatureFlag})),a.d(r,"saveFeatureFlag",(function(){return saveFeatureFlag})),a.d(r,"showFeatureDialog",(function(){return showFeatureDialog})),a.d(r,"unarchiveFeatureFlag",(function(){return unarchiveFeatureFlag}));var i=a(2),o=a(3),c=a(5),l=a(392),u=a.n(l),d=a(2733),p=a.n(d),m=a(13),g=a(198),h=a(156),y=a(832);function archiveFeatureFlag(t){return g.a.save({id:t.get("id"),archived:!0})}function saveFeatureFlag(t,r){return g.a.save(t.toJS()).then((function(a){var o=function invokeOnSaveCallback(t){r&&"function"==typeof r&&r(Object(i.toImmutable)(t))};t.get("variables")&&t.get("variables").size!==a.variables.length?g.a.fetch(a.id,!0).then((function(t){o(t)})):o(a)}))}function showFeatureDialog(t,r){if(!t){var a=o.default.evaluate(m.default.id);t=Object(i.toImmutable)(h.a.createFeatureEntity({api_name:"",project_id:a}))}var l=o.default.evaluate(y.a.currentProjectFeatures);c.default.showDialog({component:u.a.extendComponent(p.a,{currentProjectFeatures:l,feature:t,save:function save(t){return saveFeatureFlag(t,r)}}),noPadding:!0,fullScreen:!0,dismissOnBack:!0})}function unarchiveFeatureFlag(t){return g.a.unarchive(t.get("id"))}r.default={archiveFeatureFlag:archiveFeatureFlag,saveFeatureFlag:saveFeatureFlag,showFeatureDialog:showFeatureDialog,unarchiveFeatureFlag:unarchiveFeatureFlag}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(150),l=a(13),u=a(39),d=a(237),p=a(1030);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}r.b=function EventsAndMetricsBuilderWithData(t){var r=t.disablePrimaryMetricEdit,a=void 0!==r&&r,m=t.isDisabled,g=void 0!==m&&m,h=t.onChange,y=t.selectedMetrics,v=void 0===y?[]:y,_=Object(c.b)({currentProjectId:l.default.id,currentProjectStatus:l.default.status,canUseCrossProjectMetrics:u.default.canUseCrossProjectMetrics}),E=_.canUseCrossProjectMetrics,b=_.currentProjectStatus,T=_.currentProjectId,S=_slicedToArray(Object(i.useState)([T]),2),C=S[0],I=S[1],A=_slicedToArray(Object(i.useState)([]),2),O=A[0],P=A[1];return Object(i.useEffect)((function(){E?d.a.fetchProjectsAndSetProvidedProjectAsDeduplicatedFirst().then((function(t){I(_toConsumableArray(new Set([T].concat(_toConsumableArray(t.map((function(t){return t.id}))))))),P(t)})):I([T])}),[E,T]),o.a.createElement(p.a,{canUseCrossProjectMetrics:E,currentProjectId:T,currentProjectStatus:b,disablePrimaryMetricEdit:a,isDisabled:g,onChange:h,projectIds:C,projects:O,selectedMetrics:Object.freeze(v)})}},,function(t,r,a){"use strict";r.a={clipboard:window.optlyDesktop&&window.optlyDesktop.clipboard,electron:window.optlyDesktop&&window.optlyDesktop.electron}},function(t,r,a){"use strict";r.a={ipcRenderer:window.optlyDesktop&&window.optlyDesktop.electron.ipcRenderer,util:window.optlyDesktop&&window.optlyDesktop.util}},function(t,r,a){"use strict";r.a={}},function(t,r,a){"use strict";var i=a(3),o=a(105),c=a.n(o),l=a(708),u=a(342);r.a={setActiveVersion:function setActiveVersion(t){if(t!==u.a.versions.CLASSIC&&t!==u.a.versions.OPTIMIZELY_X)throw new Error("Cannot set unknown UI version: ".concat(t));i.default.dispatch(l.a.SET_ACTIVE_UI_VERSION,{version:t}),c.a.makeV1AjaxRequest({url:"/api/v1/_app"}).always((function(t){var r="unknown";t&&t.version_id&&(r=t.version_id.split(".")[0]),i.default.dispatch(l.a.SET_DEPLOYED_VERSION_ID,{deployedVersionId:r})}))}}},function(t,r,a){"use strict";var i=a(342);r.a={isOptimizelyX:function isOptimizelyX(t){return t===i.a.versions.OPTIMIZELY_X},isClassic:function isClassic(t){return t===i.a.versions.CLASSIC}}},,function(t,r,a){"use strict";a.d(r,"a",(function(){return o}));var i=a(17),o=a.n(i)()({ACCOUNTSETTINGS_ACCOUNT_OVERVIEW:null,ACCOUNTSETTINGS_PROFILE_INFO:null,DASHBOARD_OVERVIEW_EXPERIMENTS:null,DASHBOARD_OVERVIEW_GROUPS:null,EDITOR_MOBILE:null,RESULTS:null})},function(t,r,a){"use strict";var i,o=a(0),c=a.n(o),l=a(3),u=a(2168),d=a(119),p=a(799),m=a(400);r.a=i={registerRegion:function registerRegion(t,r){l.default.dispatch(d.a.REGISTER_REGION,{regionId:t,navigationController:r})},unregisterRegion:function unregisterRegion(t){l.default.dispatch(d.a.UNREGISTER_REGION,{regionId:t})},renderRegion:function renderRegion(t,r){var a=r.component,o=r.parent,d=r.componentId,g=r.options,h=r.data;if(!t)throw new Error("regionId required for renderRegion");if(!(d=d||a.componentId||a.type&&a.type.componentId))throw new Error("componentId required for renderRegion");var y=a;if(p.a.isVueComponent(a)){var v=u.a.wrap(t,{component:a,componentId:d,options:g,data:h,parent:o});y=c.a.createElement(v,null)}var _=l.default.evaluate(m.default.navigationController(t));_?_.pushView(y,{componentId:d}):i.queueComponent(t,y,d)},mountInQueue:function mountInQueue(t){var r=l.default.evaluateToJS(m.default.queuedComponent(t));r&&(i.renderRegion(t,{component:r.component,componentId:r.componentId}),l.default.dispatch(d.a.UNQUEUE_REGION_COMPONENT,{regionId:t}))},registerComponent:function registerComponent(t,r,a){l.default.dispatch(d.a.REGISTER_COMPONENT,{regionId:t,componentId:r,component:a})},unregisterComponent:function unregisterComponent(t){l.default.dispatch(d.a.UNREGISTER_COMPONENT,{regionId:t})},queueComponent:function queueComponent(t,r,a){l.default.dispatch(d.a.QUEUE_REGION_COMPONENT,{regionId:t,component:r,componentId:a})}}},function(t,r,a){"use strict";a.r(r);var i=a(1186);a.d(r,"actions",(function(){return i.a}));var o=a(428);a.d(r,"constants",(function(){return o.a}));var c=a(801);a.d(r,"fns",(function(){return c.a}));var l=a(254);a.d(r,"getters",(function(){return l.a})),r.default={actions:i.a,constants:o.a,fns:c.a,getters:l.a}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(72),l=a.n(c),u=a(75),d=a(3),p=a(348),m=a(801),g=a(254),h=a(428);r.a={calculateLocalStorageSizeWithNewItem:function calculateLocalStorageSizeWithNewItem(t,r,a){var i=d.default.evaluate(g.a.sizeOfAllEntries)+a;return d.default.evaluate(g.a.isManagedKey(t))&&(i-=d.default.evaluate(g.a.entrySize(t))),i+=r},calculateNewLocalStorageSizeWithRemovedKeys:function calculateNewLocalStorageSizeWithRemovedKeys(t,r){var a=r;return o.a.each(t,(function(t){a-=d.default.evaluate(g.a.entrySize(t))})),a},clearLocalStorageMetaStore:function clearLocalStorageMetaStore(){d.default.dispatch(p.a.LOCAL_STORAGE_META_CLEAR_STORE)},getItemFromLocalStorage:function getItemFromLocalStorage(t){return window.localStorage.getItem(t)},getKeysToRemove:function getKeysToRemove(t,r){var a=d.default.evaluate(g.a.isManagedKey(t)),i=a?[t]:[],c=a?d.default.evaluate(g.a.entrySize(t)):0,l=o.a.pull(d.default.evaluateToJS(g.a.lruKeyList),t);return c<r&&o.a.each(l,(function(t){var a=d.default.evaluate(g.a.entrySize(t));if(c+=a,i.push(t),c>=r)return!1})),i},getNonLruKeysTotalSize:function getNonLruKeysTotalSize(t){for(var r=0,a=0;a<window.localStorage.length;a++){var i=window.localStorage.key(a);if(d.default.evaluate(g.a.isManagedKey(i))){var c=window.localStorage.getItem(i);o.a.isString(c)&&(r+=2*(c.length+i.length))}}return r},initialize:function initialize(){var t=this.getItemFromLocalStorage(h.a.META_STORE_LOCAL_STORAGE_KEY),r={};try{o.a.isEmpty(t)?(this.removeItemFromLocalStorage(h.a.META_STORE_LOCAL_STORAGE_KEY),console.warn("Removing invalid data for meta store in localstorage")):r=JSON.parse(t)}catch(t){console.warn("Could not load meta store from local storage entry")}o.a.isEmpty(r)||d.default.dispatch(p.a.LOCAL_STORAGE_META_LOAD_STORE,{entries:r.entries,lruKeyList:r.lruKeyList})},persistMetaStoreEntriesToLocalStorage:function persistMetaStoreEntriesToLocalStorage(){var t=d.default.evaluate(g.a.serializedMetaStore);this.setItemInLocalStorage(h.a.META_STORE_LOCAL_STORAGE_KEY,t)},readFromLocalStorage:function readFromLocalStorage(t){var r=this.getItemFromLocalStorage(t);return r&&d.default.evaluate(g.a.isManagedKey(t))&&(d.default.dispatch(p.a.LOCAL_STORAGE_META_UPDATE_ITEM,{key:t,dateModified:o.a.now()}),this.persistMetaStoreEntriesToLocalStorage()),r},removeFromLocalStorage:function removeFromLocalStorage(t){d.default.evaluate(g.a.lruKeyList).contains(t)&&(d.default.dispatch(p.a.LOCAL_STORAGE_META_REMOVE_ITEM,{key:t}),this.persistMetaStoreEntriesToLocalStorage()),this.removeItemFromLocalStorage(t)},removeItemFromLocalStorage:function removeItemFromLocalStorage(t){window.localStorage.removeItem(t)},setItemInLocalStorage:function setItemInLocalStorage(t,r){window.localStorage.setItem(t,r)},writeToLocalStorage:function writeToLocalStorage(t,r,a){var i=this;if(o.a.isString(r)){var c=Object(u.default)(d.default.evaluateToJS(g.a.lruKeyList)),y=m.a.calculateItemSizeInBytes(t,r);if(y>h.a.LOCAL_STORAGE_BYTE_LIMIT)console.warn(l()("Setting the value of %s exceeded localstorage quota",t));else{var v=this.getNonLruKeysTotalSize(c),_=this.calculateLocalStorageSizeWithNewItem(t,y,v),E=[];if(_>h.a.LOCAL_STORAGE_BYTE_LIMIT){if(E=this.getKeysToRemove(t,y),this.calculateNewLocalStorageSizeWithRemovedKeys(y,E,_)>h.a.LOCAL_STORAGE_BYTE_LIMIT)return void console.warn(l()("Setting the value of %s exceeded available localstorage space",t))}else E=o.a.includes(c,t)?[t]:[];d.default.batch((function(){o.a.each(E,(function(t){d.default.dispatch(p.a.LOCAL_STORAGE_META_REMOVE_ITEM,{key:t}),i.removeItemFromLocalStorage(t)})),d.default.dispatch(p.a.LOCAL_STORAGE_META_ADD_ITEM,{key:t,size:y,dateModified:a})})),this.setItemInLocalStorage(t,r),this.persistMetaStoreEntriesToLocalStorage()}}else console.warn(l()("Cant write non-stringy data for key: %s to localstorage",t))}}},,,,,,,,,,function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(3),l=a(5),u=a(105),d=a.n(u),p=a(300),m=a.n(p),g=a(711),h=a(37);function loadAccountInfo(t){return c.default.dispatch(g.a.ACCOUNT_INFO_LOADED,{accountInfo:t}),t}r.a={fetchAccountInfo:function fetchAccountInfo(){return o.a.ajax({url:"/account/info",type:"GET"}).then(loadAccountInfo)},maybeShowFreeTrialNotification:function maybeShowFreeTrialNotification(t){var r=c.default.evaluate(h.default.accountInfo),a=function getGreetingMessage(){return t.get("id")===r.get("accountId")&&function isFirstDay(){return(new Date).toISOString().slice(0,10)===new Date(t.get("created")).toISOString().slice(0,10)}()?"":tr("Welcome back! ")},i=function freeTrialMessage(){return r.get("trialDaysLeft")>0?tr.pluralize("You have <span>1 day left</span> on your free trial. ","You have <span>{0} days left</span> on your free trial. ",r.get("trialDaysLeft")):tr("Your free trial has ended and experiments have been paused. ")};null!==r.get("trialDaysLeft")&&setTimeout((function(){l.default.showPersistentNotification({message:'<div class="flex--1 free-trial pop-up">\n  '.concat(a()).concat(i(),'\n  <a href="https://www.optimizely.com/plans">').concat(tr("Upgrade now"),"</a></div>"),type:r.get("trialDaysLeft")>0?null:"error",id:"free-trial-status-notification",safeHTML:!0})}),2e3)},loadAccountInfo:loadAccountInfo,checkGAEAdmin:function checkGAEAdmin(){return d.a.makeV1AjaxRequest({url:"/account/check_admin"}).then((function(t){return c.default.dispatch(g.a.ACCOUNT_UPDATE_IS_ADMIN,{isAdmin:!!t.is_admin}),t})).fail(m()((function(){})))}}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(100);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}r.a={createEventEntity:function createEventEntity(t){return _extends({},{id:null,archived:!1,name:null,category:"other",description:null,event_filter:null,event_type:null,config:{}},t)},validateClickEvent:function validateClickEvent(t){var r={};return t.name||(r.name=tr("This field is required")),t.id&&!t.api_name&&(r.api_name=tr("This field is required")),t.event_filter.selector||(r.selector=tr("This field is required")),r},validateCustomEvent:function validateCustomEvent(t,r){var a={};return t.name||(a.name=tr("This field is required.")),t.api_name.trim()?o.a.some(r,(function(r){return r.id!==t.id&&r.api_name===t.api_name}))?a.api_name=tr("This API name already is in use by another event."):c.default.eventAPIName.test(t.api_name)||(a.api_name=tr("API name may only contain letters, numbers, hyphens, underscores, spaces and periods, and must be shorter than 64 characters.")):a.api_name=tr("This field is required."),a},createActiveProjectEventFilterFn:function createActiveProjectEventFilterFn(t){return function(r){if(r.get("archived")||r.get("variation_specific"))return!1;var a=r.get("view_id");if(!a)return!0;var i=t.get(a);return i&&!i.get("archived")}}}},function(t,r,a){"use strict";var i,o=a(121);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var c=(_defineProperty(i={},o.a.eventTypes.CLICK,tr("Click")),_defineProperty(i,o.a.eventTypes.CUSTOM,tr("Custom")),_defineProperty(i,o.a.eventTypes.PAGE_VIEW,tr("Pageview")),i);r.a={EVENT_TYPES:c}},function(t,r,a){"use strict";a.r(r),a.d(r,"EVENT_TYPES",(function(){return i}));var i={pageview:tr("Pageview"),click:tr("Click")};r.default={EVENT_TYPES:i}},function(t,r,a){"use strict";var i=a(41),o=a(39),c=a(37),l=a(456),u=a(56),d=[Object(i.default)(l.a).entityCache,o.default.canAccountUseFullStackExperiments,o.default.canAccountUseFullStackSDKs,c.default.hasPP2020RolloutsPlusSubscription,function(t,r,a,i){return t.map((function(t){return u.default.mapProjectWithProjectType({project:t,canAccountUseFullStackExperiments:r,canAccountUseFullStackSDKs:a,hasPP2020RolloutsPlusSubscription:i})}))}];r.a={projectsWithProjectType:d}},function(t,r,a){"use strict";var i=a(3),o=a(36),c=a(1202),l=a.n(c),u=a(105),d=a.n(u),p=a(410),m=a(462);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var g=o.default.createEntityActions(m.a);g.save,g.fetch,g.fetchAll,g.fetchPage,g.fetchAllPages,g.flush,g.delete;r.a=_extends({},g,{sendVerificationEmail:function sendVerificationEmail(){var t={ui_version:i.default.evaluate(p.a.activeVersion)};return d.a.makeV1AjaxRequest({type:"POST",url:"/account/send_verification_email",data:t})},uploadProfileImage:function uploadProfileImage(t,r){return l.a.upload(t,r,"/account/upload_user_profile_image")}})},function(t,r,a){var i=a(12),o=a(42),c=a(123);function handleReadyStateChange(t,r,a){if(4===t.readyState){var i;switch(t.status){case 200:return void function handleSuccess(t,r,a){try{var i=JSON.parse(a);if(i.url)return void t.resolve(i.url)}catch(a){rejectWithError(t,r,tr("an error occurred"))}rejectWithError(t,r,tr("an error occurred"))}(r,a,t.responseText);case 400:i=JSON.parse(t.responseText).error;break;case 413:i=tr("the file is too large");break;default:i=tr("an error occurred")}rejectWithError(r,a,i)}}function rejectWithError(t,r,a){t.reject(tr("Could not upload {0} because {1}.",r,a))}r.upload=function(t,r,a,l){var u=i.Deferred(),d=c.optimizelyHRDUrl("/tool/upload");if(a=a||d,!(r=r||t.name))return u.reject(tr("Could not upload a file without filename")),u;if(r&&-1!==r.indexOf("&"))return rejectWithError(u,r,tr("there cannot be a '&' in the filename")),u;var p="".concat(a,"?name=").concat(r);l&&(p+="&project_id=".concat(l));var m=new XMLHttpRequest;m.onreadystatechange=handleReadyStateChange.bind(null,m,u,r),m.onerror=rejectWithError.bind(null,u,r,tr("an error occurred")),m.open("POST",p,!0),m.setRequestHeader("Content-Type","application/octet-stream");var g=o.get("csrf","");return g&&m.setRequestHeader("X-csrf-token",g),m.withCredentials=!0,m.send(t),u}},function(t,r,a){"use strict";r.a={}},function(t,r,a){"use strict";r.a={}},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(222),d=a(223),p=a(26),m=function Fieldset(t){return l.a.createElement("fieldset",{"data-test-section":t.testSection},t.title&&l.a.createElement("div",{className:"gamma push--bottom"},t.title,t.isOptional&&l.a.createElement("span",{className:"lego-label__optional"},"(Optional)"),t.helpIcon&&l.a.createElement(u.a,{behavior:"click",horizontalAttachment:"left",horizontalTargetAttachment:"right",overlay:l.a.createElement(d.a,{title:t.popoverTitle},l.a.createElement("p",null,t.popoverText)),shouldHideOnClick:!0,verticalAttachment:"middle",verticalTargetAttachment:"middle"},l.a.createElement("div",{className:"push-half--left"},l.a.createElement(p.a,{name:"circle-question",size:"small",className:"oui-icon cursor--pointer push-half--left"})))),t.description&&l.a.createElement("div",{className:"push--bottom"},t.description),t.children)};m.propTypes={title:o.a.string,helpIcon:o.a.bool,popoverTitle:o.a.string,popoverText:o.a.string,isOptional:o.a.bool,description:o.a.node,children:o.a.node.isRequired,testSection:o.a.string},r.a=m},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=function Footer(t){return l.a.createElement("div",{className:"lego-form__footer"},t.children)};u.propTypes={children:o.a.element.isRequired},r.a=u},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=function Title(t){return l.a.createElement("div",{className:"push-quad--bottom"},l.a.createElement("div",{className:"beta push--bottom"},t.children),t.subtitle&&l.a.createElement("div",{className:"push--bottom"},t.subtitle))};u.propTypes={children:o.a.node.isRequired,subtitle:o.a.node},r.a=u},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=function Wrapper(t){return l.a.createElement("div",{"data-ui-component":!0,className:"overflow-y--auto flex--1","data-test-section":t.testSection},l.a.createElement("div",{className:"reading-column"},l.a.createElement("div",{className:"push-quad--bottom"},t.children)))};u.propTypes={children:o.a.node.isRequired,testSection:o.a.string},r.a=u},function(t,r,a){"use strict";var i=a(105),o=a.n(i);r.a={getSupportLevels:function getSupportLevels(){return o.a.makeV1AjaxRequest({url:"/subscriber_info",type:"GET"})}}},,function(t,r,a){"use strict";var i=a(678),o=a.n(i),c=a(356),l=a(123),u=a.n(l),d="Browser",p="Agent",m="Location",g="Referrer",h="https://support.optimizely.com";r.a={directToExternalSupportPortal:function directToExternalSupportPortal(){return"false"===o.a.get("qutlh_chenmoh")},myRequestsLink:function myRequestsLink(){var t="".concat(this.supportEnvironment(),"/hc/en-us/requests?utm_source=").concat(u.a.generateUtmSourceValue(),"&utm_medium=global_nav&utm_content=support_ticket&utm_campaign=education");return c.default.isDesktopApp()?t:"/sso?service=zendesk&return_to=".concat(encodeURIComponent(t))},newlyCreatedRequestLink:function newlyCreatedRequestLink(t){var r="".concat(this.supportEnvironment(),"/hc/en-us/requests/").concat(t,"?utm_source=").concat(u.a.generateUtmSourceValue(),"&utm_medium=global_nav&utm_content=support_ticket&utm_campaign=education");return c.default.isDesktopApp()?r:"/sso?service=zendesk&return_to=".concat(encodeURIComponent(r))},newRequestLink:function newRequestLink(){var t="".concat(this.supportEnvironment(),"/hc/en-us/requests/new?utm_source=").concat(u.a.generateUtmSourceValue(),"&utm_medium=global_nav&utm_content=support_ticket&utm_campaign=education");return c.default.isDesktopApp()?t:"/sso?service=zendesk&return_to=".concat(encodeURIComponent(t))},supportEnvironment:function supportEnvironment(){return h},userEnvironmentInfo:function userEnvironmentInfo(){var t,r,a=navigator.userAgent,i="".concat(parseFloat(navigator.appVersion)),o=function stringFinder(t){return a.indexOf(t)};return-1!==o("Opera")?(t="Opera",i=-1!==o("Version")?a.substring(o("Version")+8):a.substring(o("Opera")+6)):-1!==o("MSIE")?(t="Microsoft Internet Explorer",i=a.substring(o("MSIE")+5)):-1!==o("Chrome")?(t="Chrome",i=a.substring(o("Chrome")+7)):-1!==o("Safari")?(t="Safari",i=-1!==o("Version")?a.substring(o("Version")+8):a.substring(o("Safari")+7)):-1!==o("Firefox")?(t="Firefox",i=a.substring(o("Firefox")+8)):a.lastIndexOf(" ")+1<a.lastIndexOf("/")&&(t=a.substring(a.lastIndexOf(" ")+1,a.lastIndexOf("/")),i=a.substring(a.lastIndexOf("/")+1)),-1!==(r=i.indexOf(";"))&&(i=i.substring(0,r)),-1!==(r=i.indexOf(" "))&&(i=i.substring(0,r)),"".concat(d,": ").concat(t," - ").concat(i,"\n")+"".concat(p,": ").concat(navigator.userAgent,"\n")+"".concat(m,": ").concat(window.location.href,"\n")+"".concat(g,": ").concat(document.referrer||"direct")},viewRequestsEpiZendesk:function viewRequestsEpiZendesk(){return this.supportEnvironment()}}},function(t,r,a){"use strict";r.a={directToExternalSupportPortal:["helpCenter","directToExternalSupportPortal"],showSchedulePhoneCall:["helpCenter","showSchedulePhoneCall"]}},function(t,r,a){"use strict";var i=a(36),o=a(580);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a);c.save,c.fetch,c.fetchAll,c.fetchPage,c.fetchAllPages,c.flush,c.delete;r.a=_extends({},c)},function(t,r,a){"use strict";var i=a(41),o=a(580);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a),l=(c.byId,[c.entityCache,function(t){if(t.count()>1)throw new Error("There should be at most one support info in store.");return t.first()}]);r.a=_extends({},c,{currentSupportInfo:l})},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({SELECT_INTEGRATION_ID:null,SET_CUSTOM_INTEGRATION_SELECTED:null})},function(t,r,a){"use strict";var i=a(43),o=a(3),c=a(149),l=a.n(c),u=a(86),d=a(49),p=a(429),m=a(2292),g=a(293);function concurrentEditingIsEnabled(){return o.default.evaluate([i.getters.accountPermissions,d.fns.canUseConcurrentEditing])}function consoleLog(){var t;(t=console).log.apply(t,arguments)}r.a={__getItemFromSessionStorage:function __getItemFromSessionStorage(t){return window.sessionStorage.getItem(t)},__setItemInSessionStorage:function __setItemInSessionStorage(t,r){window.sessionStorage.setItem(t,r)},initialize:function initialize(t){var r=l()(),a=this.__getItemFromSessionStorage("optimizelyConnectionId");a?r=a:this.__setItemInSessionStorage("optimizelyConnectionId",r),o.default.dispatch(g.a.SET_CONNECTION_ID,r),t.initializeApp(m.a.firebaseConfig)},subscribeToEntity:function subscribeToEntity(t,r){var a=this;return concurrentEditingIsEnabled()?(consoleLog("[CONCURRENCY] subscribeToEntity: ".concat(t," ").concat(r)),u.default.getFirebaseBundleModules().then((function(c){var l=c.firebaseApp;0===l.apps.length&&a.initialize(l);var u="/".concat(t,"/").concat(r),d=o.default.evaluate(i.getters.uniqueUserId),m=o.default.evaluate(i.getters.email),h=o.default.evaluate(p.a.connectionId),y={email:m,last_seen:Date.now()},v="".concat(u,"/users/").concat(d,"/").concat(h),_=o.default.evaluate(p.a.firebaseRefByKeypath(v));_||(_=l.database().ref(v),o.default.dispatch(g.a.SET_FIREBASE_DB_REF,{keypath:v,ref:_}),_.onDisconnect().remove(),_.on("value",(function(t){consoleLog("[CONCURRENCY] Subscription update: ".concat(v)),t.val()||(consoleLog("[CONCURRENCY] Resubscribing to: ".concat(v)),_.onDisconnect().remove(),_.set(y))}))),consoleLog("[CONCURRENCY] Subscribing to: ".concat(v)),_.set(y);var E="".concat(u,"/users"),b=o.default.evaluate(p.a.firebaseRefByKeypath(E));b||((b=l.database().ref(E)).on("value",(function(a){consoleLog("[CONCURRENCY] Users update: ".concat(E)),o.default.dispatch(g.a.SET_CURRENT_STATE_FOR_ENTITY,{id:r,type:t,currentState:a.val()})})),o.default.dispatch(g.a.SET_FIREBASE_DB_REF,{keypath:E,ref:b}),consoleLog("[CONCURRENCY] Users observe: ".concat(E)))}))):null},unsubscribeFromEntity:function unsubscribeFromEntity(t,r){var a=this;return concurrentEditingIsEnabled()?(consoleLog("[CONCURRENCY] unsubscribeFromEntity: ".concat(t," ").concat(r)),u.default.getFirebaseBundleModules().then((function(c){var l=c.firebaseApp;0===l.apps.length&&a.initialize(l);var u="/".concat(t,"/").concat(r),d=o.default.evaluate(i.getters.uniqueUserId),m=o.default.evaluate(p.a.connectionId),h="".concat(u,"/users"),y=o.default.evaluate(p.a.firebaseRefByKeypath(h));y&&(consoleLog("[CONCURRENCY] Users unobserve: ".concat(h)),y.off(),o.default.dispatch(g.a.REMOVE_FIREBASE_DB_REF,{keypath:h}));var v="".concat(u,"/users/").concat(d,"/").concat(m),_=o.default.evaluate(p.a.firebaseRefByKeypath(v));_&&(_.off(),consoleLog("[CONCURRENCY] Unsubscribing from: ".concat(v)),_.remove(),o.default.dispatch(g.a.REMOVE_FIREBASE_DB_REF,{keypath:v}))}))):null}}},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({P13N_VIEW_EDITOR_SET_EDITING_VIEW:null,P13N_VIEW_EDITOR_SET_IFRAME_OVERLAY_SHOWN:null})},function(t,r,a){"use strict";var i=a(42),o=a.n(i),c=a(2),l=a(36),u=a(584),d=l.default.createEntityActions(u.a);r.a=Object.assign({},d,{search:function search(t,r){return this.fetchAll({project_id:t,search_string:r}).then((function(t){return c.default.fromJS(t)}))},validateKeywords:function validateKeywords(t){return fetch("".concat(o.a.get("env.CONTROL_TOWER_HOST"),"/v1/interests/words/validate"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(t)}).then((function(t){if(t.ok)return t.json();throw new Error("Control Tower returned a non OK response on keyword validation.")}),(function(){throw new Error("Error contacting Control Tower to validate keywords.")}))}})},function(t,r,a){"use strict";var i=a(41),o=a(584),c=Object(i.default)(o.a);c.byId,c.entityCache;r.a={baseEntityGetters:c}},,function(t,r,a){"use strict";var i=a(2),o=a(13),c=a(414),l=a(498),u=a(56),d=(a(31),a(515)),p=[o.default.enabledAudienceIntegrations,o.default.dynamicConditions,d.default.buildOneClickIntegrationConditionsConfigObject],m=[o.default.enabledCustomAudienceIntegrations,o.default.customAudienceAttributeDefinitions,d.default.buildCustomAudienceIntegrationConditionsConfigObject],g=[p,m,function(t,r){return t.concat(r)}],h=[g,function(t){return Object(i.toImmutable)({}).withMutations((function(r){t.forEach((function(t){t.get("conditions").forEach((function(t){r.set(t.get("name"),t)}))}))}))}];var y=[o.default.project,l.default.defaultDimensions,function(t,r){return r.filter((function(r){if(r.get("platform_configuration")){var a=u.default.getDeliveryModeOrProjectType(t);return!0===r.get("platform_configuration").get(a)&&-1!==r.get("used_by").indexOf("audiences")&&!0!==r.get("hidden")&&(!0===r.get("has_permission")||!0===r.get("upsell"))&&-1===c.default.NON_STANDARD_DIMENSIONS.indexOf(r.get("id"))}return!1}))}];r.a={oneClickIntegrationConditionConfigs:p,customAudienceIntegrationConditionConfigs:m,thirdPartyConditionConfigs:g,thirdPartyConditionsByName:function thirdPartyConditionsByName(t){return[h,function(r){var a=d.default.getThirdPartyIntegrationName(t);return r.get(a,Object(i.toImmutable)({}))}]},thirdPartyConditionsNameMap:h,availableDimensions:y}},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({FETCH_NOTIFICATION_PREFERENCES:null,SAVE_NOTIFICATION_PREFERENCES:null})},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(340),l=a(809),u=a(36),d=a(581);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var p=u.default.createEntityActions(d.a);r.a=_extends({},p,{getCommitsAndDiff:function getCommitsAndDiff(t,r){var a=o.a.Deferred();return o.a.when(p.fetch(t),p.fetch(r)).done((function(t,r){Array.isArray(t)&&(t=t[0]),Array.isArray(r)&&(r=r[0]);var i=l.a.diff(t,r);a.resolve(i)})),a},publishCommit:function publishCommit(t,r){return c.default.save({layer_id:t,commit_id:r})}})},function(t,r,a){"use strict";var i,o=a(284);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var c=(_defineProperty(i={},o.b.POLICY_TYPES.OVERLAPPING,tr("Overlapping")),_defineProperty(i,o.b.POLICY_TYPES.RANDOM,tr("Mutually Exclusive")),i);r.a={POLICY_TYPES:c}},function(t,r,a){"use strict";r.a={}},function(t,r,a){"use strict";var i,o=a(96);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var c=(_defineProperty(i={},o.default.plugin_type.WIDGET,"Editor"),_defineProperty(i,o.default.plugin_type.EVENT,"Event"),_defineProperty(i,o.default.plugin_type.EDITOR_PANEL,"Editor Panel"),_defineProperty(i,o.default.plugin_type.ANALYTICS_INTEGRATION,"Analytics Integration"),i);r.a={plugin_type:c}},,function(t,r,a){"use strict";a.d(r,"a",(function(){return useUpgradeInfo}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(19),d=a(40),p=a(150),m=a(361),g=a(39),h=a(277),y=function UpgradeComponent(t){var r=t.featureLimitType,a=t.uiLocation,i=t.limit;if(-1===i)return null;switch(r){case h.b.FeatureLimitTypes.CHANGE_HISTORY_DAYS:switch(a){case h.b.FeatureLimitUIs.CHANGE_HISTORY_DATE_PICKER:return o.a.createElement(u.a,{size:"narrow",style:"plain",testSection:"change-history-days-upgrade-button",onClick:function onClick(){return h.a.showUpgradeDialog(h.b.FeatureLimitTypes.CHANGE_HISTORY_DAYS)}},o.a.createElement("div",{className:"flex"},o.a.createElement("div",{className:"line--tight text--left micro push--right"},o.a.createElement("div",{className:"muted"},"Date"),o.a.createElement("div",{"data-test-section":"selected-date-range"},"Last ",i," days"))));case h.b.FeatureLimitUIs.CHANGE_HISTORY_TABLE_FOOTER:return o.a.createElement("div",{className:"flex flex-align--center","data-test-section":"change-history-upsell-text"},"For access to an unlimited log of changes, ",o.a.createElement(d.a,{href:h.c.getUpgradeLink(),newWindow:!0},"upgrade your plan"),".");default:return null}default:return null}};y.propTypes={featureLimitType:l.a.oneOf(Object.keys(h.b.FeatureLimitTypes)).isRequired,limit:l.a.number.isRequired,uiLocation:l.a.oneOf(Object.keys(h.b.FeatureLimitUIs)).isRequired};function useUpgradeInfo(t,r){var a=function getLimit(t){return t===h.b.FeatureLimitTypes.CHANGE_HISTORY_DAYS?Object(p.b)({limit:g.default.changeHistoryLimit}):{limit:m.a.UNLIMITED_VALUE}}(t).limit,i=void 0!==a&&a!==m.a.UNLIMITED_VALUE;return{hasLimit:i,UpgradeComponent:i?function(){return o.a.createElement(y,{featureLimitType:t,uiLocation:r,limit:a})}:null}}},function(t,r,a){"use strict";var i=a(5),o=a(3),c=a(37),l=a(2447),u=a(555);r.a={showUpgradeDialog:function showUpgradeDialog(t,r){var a=o.default.evaluate(c.default.isFreeRolloutsPlan),d=u.a.getUpgradeDialogCopy(t,r,a),p=d.message,m=d.header,g=d.buttonLink,h=d.buttonText;i.default.showReactDialog(l.a,{props:{header:m,message:p,buttonLink:g,buttonText:h}},{isOuiDialog:!0})}}},,function(t,r,a){"use strict";var i,o=a(404);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var c={keyFieldLocations:(i={},_defineProperty(i,o.default.keyFieldLocations.COOKIE,tr("Cookie")),_defineProperty(i,o.default.keyFieldLocations.JS_VARIABLE,tr("JS Variable")),_defineProperty(i,o.default.keyFieldLocations.QUERY_PARAM,tr("Query Param")),_defineProperty(i,o.default.keyFieldLocations.UID,tr("Optimizely End User ID Cookie")),i)};r.a=c},function(t,r,a){"use strict";var i=a(36),o=a(586);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a);c.save,c.fetch,c.fetchAll,c.fetchPage,c.fetchAllPages,c.flush,c.delete;r.a=_extends({},c)},function(t,r,a){"use strict";var i=a(41),o=a(66),c=a.n(o),l=a(586);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var u=Object(i.default)(l.a),d=(u.byId,u.entityCache),p=[d,c.a.id,function(t,r){var a=t.size?t.find((function(t){return t.get("layer_id")===r})):null;return a&&a.get("id")}];r.a=_extends({},u,{activeShareTokenId:p,shareTokenByLayerId:function shareTokenByLayerId(t){return[d,function(r){return r.find((function(r){return r.get("layer_id")===t}))}]}})},function(t,r,a){"use strict";var i=a(4),o=a.n(i);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}r.a={createTagEntity:function createTagEntity(t){return _extends({},{id:null,category:"other",description:null,platform:null,locator:null,locator_type:null,value_type:null,format_string:null,view_id:null},t)},generateName:function generateName(t,r){return"".concat(t," (").concat(r.name,")")},validateTag:function validateTag(t,r,a){var i={},c=tr("This field is required");return t.locator||(i.locator=c),(!t.name||o.a.isString(t.name)&&""===t.name.trim())&&(i.name=c),r.length>500&&(i.tagValue=tr("This tag value is longer than the allowed limit of 500 characters")),i}}},function(t,r,a){"use strict";var i={css_selector:tr("Visual"),javascript:tr("Code")};r.a={LOCATOR_TYPES:i}},function(t,r,a){"use strict";a.r(r),a.d(r,"pageTypes",(function(){return c})),a.d(r,"activationModes",(function(){return l})),a.d(r,"conditionGroupTypes",(function(){return u})),a.d(r,"conditionMatchTypes",(function(){return d})),a.d(r,"defaultConditionConfigs",(function(){return m}));var i,o=a(31);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var c={SINGLE_URL:"single_url",URL_SET:"url_set",GLOBAL:"global"},l={IMMEDIATE:"immediate",MANUAL:"manual",POLLING:"polling",CALLBACK:"callback",URL_CHANGED:"url_changed",DOM_CHANGED:"dom_changed"},u={OR:"or",AND:"and"},d={URL:"url",ELEMENT_PRESENT:"element_present",CUSTOM_CODE:"custom_code"},p=Object(o.isFeatureEnabled)("ES6_ENABLED")?"*\n * Editor now supports ES6 compliant code. Note that adding ES6\n * specific code to an experiment will break for users running\n * ES5-only browsers as code entered is not transpiled down to ES5.":"*",m=(_defineProperty(i={},d.URL,{value:"",match_type:"simple",type:"url"}),_defineProperty(i,d.ELEMENT_PRESENT,{value:"",type:"element_present"}),_defineProperty(i,d.CUSTOM_CODE,{value:"/**\n * Sample JavaScript Condition\n * This function is called after the page is triggered.\n * It should return true when the page is ready to activate.\n ".concat(p,'\n */\n\nfunction jsCondition() {\n  return globalConfig.pageType === "PDP";\n}'),type:"custom_code"}),i);r.default={activationModes:l,conditionGroupTypes:u,conditionMatchTypes:d,defaultConditionConfigs:m,pageTypes:c}},function(t,r,a){"use strict";var i=a(3),o=a(105),c=a.n(o),l=a(36),u=a(419);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var d=l.default.createEntityActions(u.a);d.save,d.fetch,d.fetchAll,d.fetchPage,d.fetchAllPages,d.flush,d.delete;r.a=_extends({},d,{regenerateWebhook:function regenerateWebhook(t){var r={url:"/api/v1/webhooks/".concat(t.id,"/regenerate"),type:"POST"};return i.default.dispatch(l.default.actionTypes.API_ENTITY_PERSIST_START,{entity:u.a.entity,data:t}),c.a.makeV1AjaxRequest(r).then((function(t){i.default.dispatch(l.default.actionTypes.API_ENTITY_PERSIST_SUCCESS,{entity:u.a.entity,data:t})})).fail((function(r){i.default.dispatch(l.default.actionTypes.API_ENTITY_PERSIST_FAIL,{entity:u.a.entity,data:t,reason:r})}))}})},function(t,r,a){"use strict";var i={SST_JSON_UPDATED:"project.datafile_updated"};i.ALL=Object.values(i).reduce((function(t,r){return t.concat(r)}),[]);var o=i.ALL;r.a={EVENTS:i,ALL_EVENTS:o}},function(t,r,a){"use strict";function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}r.a={validate:function validate(t){var r=[];return t.find((function(t){return!t.get("url")}))&&r.push("Missing URL for one or more entries."),r},createWebhookEntity:function createWebhookEntity(t){return _extends({},{id:null,active:!0,url:null,project_id:null},t)}}},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(4),l=a.n(c),u=a(3),d=a(105),p=a.n(d),m=a(36),g=a(43),h=a(246),y=a(1078),v=a(316),_=a(811),E=a(507);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var b=m.default.createEntityActions(v.a.v1),T=m.default.createEntityActions(v.a.v2),S=m.default.createEntityActions(v.a.crossCompatible);r.a={flush:function flush(){b.flush(),T.flush()},fetchAll:function fetchAll(t,r){var a=o.a.Deferred(),i=[b.fetchAll(t,r),T.fetchAll(t,r)];return Promise.all(i).then(a.resolve),a},createAndSave:function createAndSave(t,r){var a=this;return this.save(t).then((function(t){return a.refreshCollaborators(r.id),t}))},save:function save(t){var r=t.map((function(t){return function baseCollaboratorSavePayload(t){var r=u.default.evaluate(g.getters.id),a=h.b.isClassic()?h.b.enums.versions.CLASSIC:h.b.enums.versions.OPTIMIZELY_X,i=[];return Object(_.b)(t)?i.push("enum_role_name","user_id"):i.push("invitation_status"),_extends({},l.a.omit(t,i),{account_id:r,optimizely_version:a,target_user_email:t.user_id||t.target_user_email,first_name:t.target_user_first_name,last_name:t.target_user_last_name})}(t)}));return S.save(r).then((function(t){return(t||[]).forEach((function(t,a){var i=r[a];if(t.id!==i.id){var o=u.default.evaluate(E.a.byId(i.id)),c=!(!o||!o.get("is_v2"))?"v2":"v1",l={entity:v.a[c].entity,id:i.id};u.default.dispatch(m.default.actionTypes.API_ENTITY_DELETE_SUCCESS,l)}})),t}))},deleteFromAccount:function deleteFromAccount(t,r){var a=this,i=u.default.evaluate(g.getters.id);return p.a.makeV1AjaxRequest({url:"/api/v1/accounts/".concat(i,"/user_roles/").concat(t.user_id),type:"DELETE"}).then((function(t){return null!==r?a.refreshCollaborators(r.id):a.refreshUserRoles(i),t}))},deleteFromProject:function deleteFromProject(t,r){var a=this;return S.delete(t).then((function(t){return a.refreshCollaborators(r.id),t}))},refreshCollaborators:function refreshCollaborators(t){return this.flush(),this.fetchAll({project_id:t},!0)},refreshUserRoles:function refreshUserRoles(t){return y.a.flush(),y.a.fetchAllPagesOfUsers(t)},saveCollaboratorToProjects:function saveCollaboratorToProjects(t,r){if(0===r.length)return o.a.Deferred().reject("Must specify at least one project");var a=function generateCollaboratorSavePayload(t,r){return(r||[]).map((function(r){return _extends({},t,{project_id:r})}))}(t,r);return this.save(a)},saveUserToProjects:function saveUserToProjects(t,r){if(0===r.length)return o.a.Deferred().reject("Must specify at least one project");var a=function generateUserSavePayload(t,r){if("Administrator"===t.role_name)return[_extends({},t,{project_id:r[0].target_project_id})];return(r||[]).map((function(r){return _extends({},t,{project_id:r.target_project_id,role_name:r.role_name})}))}(t,r);return this.save(a)}}},function(t,r,a){"use strict";var i=a(36),o=a(589);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a);r.a=_extends({},c)},function(t,r,a){"use strict";r.a={exampleFn:function exampleFn(t){return t.slice(1)}}},function(t,r,a){"use strict";var i=a(2),o=a(41),c=a(589),l=a(812);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var u=Object(o.default)(c.a),d=[u.entityCache,function(t){if(!t.isEmpty()){var r=t.first(),a=Object(i.toImmutable)({over_limit:!0,projected_over_limit:!0,account_unfrozen:!0,impression_usage:!0}).set("id",r.get("id"));return Object.entries(l.a.CATEGORY_MAP).forEach((function(t){var o=_slicedToArray(t,2),c=o[0],l=o[1];r.get("opt_out_category_ids",Object(i.toImmutable)([])).includes(l)&&(a=a.set(c,!1))})),a}}];r.a=_extends({},u,{emailSettings:d})},function(t,r,a){"use strict";var i=a(36),o=a(566);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a);c.save,c.fetch,c.fetchAll,c.fetchPage,c.fetchAllPages,c.flush;r.a=_extends({},c)},function(t,r,a){"use strict";r.a={exampleFn:function exampleFn(t){return t.slice(1)}}},function(t,r,a){"use strict";var i=a(36),o=a(567);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a);c.save,c.fetch,c.fetchAll,c.fetchPage,c.fetchAllPages,c.flush;r.a=_extends({},c)},function(t,r,a){"use strict";r.a={exampleFn:function exampleFn(t){return t.slice(1)}}},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(3),l=a(2),u=a(375),d=a(279),p=a(13),m=a(692),g=a(1346),h=a(967),y=a(576);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var v=Object(h.a)(y.a);v.fetch,v.fetchAll,v.fetchPage,v.fetchAllPages,v.flush,v.delete;r.a=_extends({},v,{fetchIntegrationsDataForProject:function fetchIntegrationsDataForProject(t){d.default.fetch(t);var r=m.a.fetchAll(),a=this.fetchAll({project_id:t});return o.a.when(r,a)},fetchAudienceIntegrationsDataForProject:function fetchAudienceIntegrationsDataForProject(t){var r=this;return this.fetchIntegrationsDataForProject(t).then((function(){var a=r.__getEnabledAudienceIntegrationIds(),i={};return a.forEach((function(r){i[r]=g.a.fetch({integration_id:r,project_id:t})})),i}))},fetchDefaultEnabledIntegrationsForNewExperiment:function fetchDefaultEnabledIntegrationsForNewExperiment(t){if(!t)return o.a.Deferred().resolve([]);var r=m.a.fetchAll(),a=this.fetchAll({project_id:t});return o.a.when(r,a).then((function(){return c.default.evaluateToJS(p.default.integrations).filter((function(t){var r=t.projectLevelData.settings;return t.projectLevelData.enabled&&r&&"on"===r.enable_for_new_experiments}))}))},save:function save(t){var r=v.save(t);return g.a.flush(),r},updateSettingsForProject:function updateSettingsForProject(t,r,a,i,o){return this.save({project_id:t,integration_id:r,enabled:!!a,settings:i||null,modified_settings:o||null})},clearOAuthCredentialsForProject:function clearOAuthCredentialsForProject(t,r){var a=this,i=c.default.evaluate(p.default.integrations).find((function(t){return t.get("id")===r}))||l.default.Map({});return u.a.makeOptlyFetchRequest({url:"integrations/revoke-oauth-credentials?proj_id=".concat(t,"&integration_id=").concat(r),noResponseParse:!0}).then((function(){return a.updateSettingsForProject(t,r,i.getIn(["projectLevelData","enabled"]),i.getIn(["projectLevelData","settings"]),{refresh_token:null,key_version:null,adwords_client_id:null})}))},__getEnabledAudienceIntegrationIds:function __getEnabledAudienceIntegrationIds(){return c.default.evaluateToJS(p.default.enabledAudienceIntegrations).map((function(t){return t.id}))}})},function(t,r,a){"use strict";var i=a(4),o=a.n(i);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var c={adobe_analytics:{eVar:"site_catalyst_eVar",prop:"site_catalyst_prop"},crazyegg:{expiresAt:"crazyegg_expires_at",maxVisits:"crazyegg_max_visits",startsAt:"crazyegg_starts_at"},google_classic_analytics:{slot:"google_analytics_slot",tracker:"google_analytics_tracker"},google_universal_analytics:{slot:"universal_analytics_slot",tracker:"universal_analytics_tracker"},google_universal_analytics_ios:{slot:"universal_analytics_slot"},google_universal_analytics_mobile:{slot:"universal_analytics_slot"}};Object.entries(c).forEach((function(t){var r=_slicedToArray(t,2),a=(r[0],r[1]),i=o.a.invert(a);Object.assign(a,i)})),r.a={applyCustomExperimentLevelSettings:function applyCustomExperimentLevelSettings(t,r){if("crazyegg"===t){var a=new Date;a.setMonth(a.getMonth()+6);var i=new Date;r.expiresAt=r.expiresAt||this.convertDateToUnix(a),r.maxVisits=r.maxVisits||5e3,r.startsAt=r.startsAt||this.convertDateToUnix(i)}else"google_classic_analytics"!==t&&"adobe_analytics"!==t||(r.mode="custom_variables")},convertDateToUnix:function convertDateToUnix(t){return t?Math.round(new Date(t).getTime()/1e3):""},transformExperimentLevelSettings:function transformExperimentLevelSettings(t,r){var a={},i=c[t];return Object.entries(r).forEach((function(t){var r=_slicedToArray(t,2),o=r[0],c=r[1];"mode"===o?a.enabled="disabled"!==c:"enabled"===o?a.mode=c?"enabled":"disabled":i&&i[o]&&(a[i[o]]=c)})),a}}},function(t,r,a){"use strict";var i=a(36),o=a(565);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a);c.save,c.fetch,c.fetchAll,c.fetchPage,c.fetchAllPages,c.flush,c.delete;r.a=_extends({},c)},function(t,r,a){"use strict";var i=a(4),o=a.n(i);r.a={validateMasterLabel:function validateMasterLabel(t){return o.a.isString(t)&&t.length>0},validateRedirectUri:function validateRedirectUri(t){if(!o.a.isString(t))return!1;var r=t.indexOf("://")>0,a=-1!==t.indexOf("#");return r&&!a}}},function(t,r,a){"use strict";var i=a(42),o=a.n(i),c=a(3),l=a(13),u=a(590),d=a(182),p=a.n(d),m=a(101),g=a(61),h=a.n(g),y=a(15),v=a(5),_=a(2459),E=a(388),b=a(256),T=a(84);r.a={clickItem:function clickItem(t,r,a){c.default.evaluate(b.a.isSelected(t,r.id))?a?this.deselectItem(t,r):this.selectItem(t,r):a?this.selectItem(t,r,{multiple:!0}):this.selectItem(t,r)},deselectItem:function deselectItem(t,r){c.default.dispatch(T.a.DASHBOARD_DESELECT_TABLE_ITEM,{category:t,itemId:r.id})},fetchExperiments:function fetchExperiments(t){var r=c.default.evaluate(b.a.apiFilters("experiments")),a=u.a.fetchAll(r);return t&&a.then((function(t){var r=t.filter((function(t){return t.status!==y.ExperimentStatusType.ARCHIVED}));o.a.get("env.USE_REPER_RESULTS_BATCH")?u.a.fetchResults(r):u.a.fetchVisitorCounts(r)})),a},filterAudiencesByStatus:function filterAudiencesByStatus(t){c.default.dispatch(T.a.DASHBOARD_SET_TABLE_FILTERS,{category:"audiences",filters:{statusString:t,archived:"archived"===t}}),h.a.track("dashboard2","filter-audiences-status",t)},filterAudiencesByString:function filterAudiencesByString(t){c.default.dispatch(T.a.DASHBOARD_SET_TABLE_FILTERS,{category:"audiences",filters:{string:t}}),h.a.track("dashboard2","filter-audiences-string")},filterCollaboratorsByString:function filterCollaboratorsByString(t){c.default.dispatch(T.a.DASHBOARD_SET_TABLE_FILTERS,{category:"collaborators",filters:{string:t}})},filterDatasourcesByString:function filterDatasourcesByString(t){c.default.dispatch(T.a.DASHBOARD_SET_TABLE_FILTERS,{category:"datasources",filters:{string:t}}),h.a.track("dashboard2","filter-datasources-string")},filterDimensionsByString:function filterDimensionsByString(t){c.default.dispatch(T.a.DASHBOARD_SET_TABLE_FILTERS,{category:"dimensions",filters:{string:t}}),h.a.track("dashboard2","filter-dimensions-string")},filterExperimentsByStatus:function filterExperimentsByStatus(t){c.default.dispatch(T.a.DASHBOARD_SET_TABLE_FILTERS,{category:"experiments",filters:{statusString:t}}),h.a.track("dashboard2","filter-experiments-status",t)},filterExperimentsByString:function filterExperimentsByString(t){c.default.dispatch(T.a.DASHBOARD_SET_TABLE_FILTERS,{category:"experiments",filters:{string:t}}),h.a.track("dashboard2","filter-experiments-string")},filterGoalsByStatus:function filterGoalsByStatus(t){c.default.dispatch(T.a.DASHBOARD_SET_TABLE_FILTERS,{category:"goals",filters:{statusString:t,archived:"archived"===t}}),h.a.track("dashboard2","filter-goals-status",t)},filterGoalsByString:function filterGoalsByString(t){c.default.dispatch(T.a.DASHBOARD_SET_TABLE_FILTERS,{category:"goals",filters:{string:t}}),h.a.track("dashboard2","filter-goals-string")},filterIntegrationsByCategory:function filterIntegrationsByCategory(t){c.default.dispatch(T.a.DASHBOARD_SET_TABLE_FILTERS,{category:"integrations",filters:{category:t}})},filterIntegrationsByString:function filterIntegrationsByString(t){c.default.dispatch(T.a.DASHBOARD_SET_TABLE_FILTERS,{category:"integrations",filters:{string:t}})},filterUserListsByString:function filterUserListsByString(t){c.default.dispatch(T.a.DASHBOARD_SET_TABLE_FILTERS,{category:"user-lists",filters:{string:t}}),h.a.track("dashboard2","filter-user-lists-string")},getActivities:function getActivities(t){v.default.loadingStart("dashboard.change-history"),_.a.fetchPage(t).then((function(t){c.default.dispatch(T.a.DASHBOARD_SET_ACTIVITY_PAGE_RESULTS_LENGTH,{length:t.length})})).then((function(){v.default.loadingStop("dashboard.change-history")}))},getDashboardUrl:function getDashboardUrl(){var t,r,a,i,o=c.default.evaluate(b.a.activeMainTab),u=c.default.evaluate(b.a.activeSubTab),d=c.default.evaluate(l.default.id),m={},g="projects"===o?u:o,h=E.a.SUB_PART_TO_ENTITY[g];if(h){var y=c.default.evaluate(b.a.selectedIds(h));1===y.size&&(t=y.get(0))}switch(g){case"experiments":a=(r=c.default.evaluate(b.a.tableFilters("experiments"))).get("string"),i=r.get("statusString"),a&&(m.search=a),i&&i!==E.a.DEFAULT_STATUS_STRING&&(m.status=i);break;case"audiences":a=(r=c.default.evaluate(b.a.tableFilters("audiences"))).get("string"),i=r.get("statusString"),a&&(m.search=a),i&&i!==E.a.DEFAULT_STATUS_STRING&&(m.status=i);break;case"dimensions":(a=(r=c.default.evaluate(b.a.tableFilters("dimensions"))).get("string"))&&(m.search=a);break;case"collaborators":(a=(r=c.default.evaluate(b.a.tableFilters("collaborators"))).get("string"))&&(m.search=a);break;case"goals":(a=(r=c.default.evaluate(b.a.tableFilters("goals"))).get("string"))&&(m.search=a);break;case"user-lists":(a=(r=c.default.evaluate(b.a.tableFilters("user-lists"))).get("string"))&&(m.search=a);break;case"datasources":(a=(r=c.default.evaluate(b.a.tableFilters("datasources"))).get("string"))&&(m.search=a);break;case"change-history":var v=(r=c.default.evaluate(b.a.activityFilters)).get("experiment_id");v&&(m.expId=v)}return p.a.dashboardTab(d,g,t,m)},pushUrl:function pushUrl(t){var r=this.getDashboardUrl();m.default.pushState(r,t)},replaceUrl:function replaceUrl(t){var r=this.getDashboardUrl();m.default.replaceState(r,t)},resetActivityDefaults:function resetActivityDefaults(t){c.default.dispatch(T.a.CHANGE_CURRENT_PROJECT_ID,{id:t})},resetAudienceFilters:function resetAudienceFilters(){c.default.dispatch(T.a.DASHBOARD_RESET_TABLE_FILTERS,{category:"audiences"})},resetCollaboratorFilters:function resetCollaboratorFilters(){c.default.dispatch(T.a.DASHBOARD_RESET_TABLE_FILTERS,{category:"collaborators"})},resetDatasourceFilters:function resetDatasourceFilters(){c.default.dispatch(T.a.DASHBOARD_RESET_TABLE_FILTERS,{category:"datasources"})},resetDatasourcesFilters:function resetDatasourcesFilters(){c.default.dispatch(T.a.DASHBOARD_RESET_TABLE_FILTERS,{category:"datasources"})},resetDimensionFilters:function resetDimensionFilters(){c.default.dispatch(T.a.DASHBOARD_RESET_TABLE_FILTERS,{category:"dimensions"})},resetExperimentFilters:function resetExperimentFilters(){c.default.dispatch(T.a.DASHBOARD_RESET_TABLE_FILTERS,{category:"experiments"})},resetGoalFilters:function resetGoalFilters(){c.default.dispatch(T.a.DASHBOARD_RESET_TABLE_FILTERS,{category:"goals"})},resetIntegrationFilters:function resetIntegrationFilters(){c.default.dispatch(T.a.DASHBOARD_RESET_TABLE_FILTERS,{category:"integrations"})},resetUserListFilters:function resetUserListFilters(){c.default.dispatch(T.a.DASHBOARD_RESET_TABLE_FILTERS,{category:"user-lists"})},selectItem:function selectItem(t,r,a){a=a||{},c.default.dispatch(T.a.DASHBOARD_SELECT_TABLE_ITEM,{category:t,multiple:a.multiple,itemId:r.id}),h.a.track("dashboard2","select-item",t),a.multiple&&h.a.track("dashboard2","multiselect-item",t)},selectActivityFilter:function selectActivityFilter(t,r){c.default.dispatch(T.a.DASHBOARD_SELECT_ACTIVITY_FILTER,{filterKey:t,filterValue:r}),h.a.track("dashboard2","filter-activities")},setActivityNextPageFilters:function setActivityNextPageFilters(t){c.default.dispatch(T.a.DASHBOARD_SET_NEXT_PAGE_ACTIVITY_FILTER,{offset:t})},setActivityParameters:function setActivityParameters(t){c.default.dispatch(T.a.DASHBOARD_SET_TEST_PARAMETERS,{limit:t})},setLabsData:function setLabsData(t){c.default.dispatch(T.a.DASHBOARD_SET_LABS_DATA,{data:t})},switchMainTab:function switchMainTab(t){c.default.dispatch(T.a.DASHBOARD_SWITCH_MAIN_TAB,{tabId:t}),h.a.track("dashboard2","view-tab",t)},switchSubTab:function switchSubTab(t){c.default.dispatch(T.a.DASHBOARD_SWITCH_SUB_TAB,{tabId:t}),h.a.track("dashboard2","view-subtab",t)}}},function(t,r,a){"use strict";var i=a(36),o=a(591);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a);c.save,c.fetch,c.fetchAll,c.fetchPage,c.fetchAllPages,c.flush,c.delete;r.a=_extends({},c)},function(t,r,a){"use strict";var i=a(41),o=a(591);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a);c.byId,c.entityCache;r.a=_extends({},c)},function(t,r,a){"use strict";var i,o=a(36),c=a(61),l=a.n(c),u=a(572);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var d=o.default.createEntityActions(u.a);r.a=i=_extends({},d,{archive:function archive(t){return l.a.track("dashboard2","archive-goal"),i.save({id:t.id,archived:!0})},unarchive:function unarchive(t){return l.a.track("dashboard2","unarcive-goal"),i.save({id:t.id,archived:!1})}})},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(102),l=a.n(c),u=a(444),d=a.n(u),p=a(8),m=a.n(p),g=a(418),h=g.a.DefaultGoals,y=g.a.TypeCodes,v=g.a.TypeNames,_=g.a.MatchTypeCodes,E=o.a.invert(y);r.a={goalTypeToString:function goalTypeToString(t){var r=E[t];return v[r]},generateGoalDescription:function generateGoalDescription(t){switch(t.goal_type){case y.CLICK:return m()("The percentage of visitors who clicked on a tracked element.");case y.CUSTOM_EVENT:return m()("The percentage of visitors who triggered {0} (custom event).",d()(t.event));case y.ENGAGEMENT:return m()("The percentage of visitors who clicked on any part of the experiment page.");case y.REVENUE:return"".concat(m()("The revenue earned per visitor after visiting an experiment page."),"\n        <a class='help-button' href='https://help.optimizely.com/hc/en-us/articles/200039865' target='_blank'></a>");case y.PAGEVIEW:if(void 0===t.urls)return m()('This goal is not set up to track views on any page. Please modify the goal or take a look at <a href="https://help.optimizely.com/hc/en-us/articles/200090069">Setting Up Goals</a> if you need help.');for(var r=[],a=0;a<t.urls.length;a++){var i="";switch(t.url_match_types[a]){case _.EXACT:i=m()("(exact match)");break;case _.REGEX:i=m()("(regular expression match)");break;case _.SIMPLE:i=m()("(simple match)");break;case _.SUBSTRING:i=m()("(substring match)")}r.push("".concat(d()(t.urls[a])," ").concat(i))}return m()("The percentage of visitors who visited {0}.",m.a.addCommaToArray(r,{or:!0,quotes:!1}));case y.MOBILE_TAP_EVENT_TYPE:return m()("The percentage of visitors who tapped a specific element in the app.");case y.MOBILE_VIEW_EVENT_TYPE:return m()("The percentage of visitors who visited a view in the app.");case y.MOBILE_SESSION_LENGTH_GOAL:return m()("This goal measures the average amount of time that a user spends using the app within a single session. A session is measured as the time the app is in the foreground.");case y.MOBILE_NUM_SESSION_GOAL:return m()("This goal tracks the average number of sessions made by an app user during a single week.");default:return""}},generateGoalWarning:function generateGoalWarning(t){switch(t.goal_type){case y.MOBILE_SESSION_GOAL:case y.MOBILE_SESSION_LENGTH_GOAL:case y.MOBILE_NUM_SESSION_GOAL:return m()("Requires SDK version 1.3+");default:return""}},generateOrderedGoals:function generateOrderedGoals(t,r){var a=t.display_goal_order_lst?t.display_goal_order_lst:t.display_goal_order;if(a){var i=[];r.forEach((function(t){a.indexOf(t.id)<0&&(r.splice(r.indexOf(t),1),i.push(t))})),r=o.a.clone(r).sort((function(t,r){return a.indexOf(t.id)-a.indexOf(r.id)})),i.forEach((function(t){r.push(t)}))}if(t.primary_goal_id){var c=o.a.remove(r,(function(r){return r.id===t.primary_goal_id}))[0];c&&r.unshift(c)}return r},filterDuplicateDefaultGoals:function filterDuplicateDefaultGoals(t){var r,a=l.a.generateObjectSortFn([{field:"goal_type",type:"number",dir:l.a.ASC},{field:"id",type:"number",dir:l.a.ASC}]);return o.a.clone(t).sort(a).filter((function(t){var a=-1!==h.indexOf(t.goal_type),i=a&&r!==t.goal_type,o=!a||i;return r=t.goal_type,o}))},getGoalLastModifiedDate:function getGoalLastModifiedDate(t){return t.last_modified?t.last_modified:t.created?t.created:new Date(Date.now()).toISOString()},isCustomEventGoal:function isCustomEventGoal(t){return t.goal_type===y.CUSTOM_EVENT}}},function(t,r,a){"use strict";var i=a(36),o=a(993);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a);c.save,c.fetch,c.fetchAll,c.fetchPage,c.fetchAllPages,c.flush,c.delete;r.a=_extends({},c)},function(t,r,a){"use strict";var i=a(41),o=a(993);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a);c.byId,c.entityCache;r.a=_extends({},c)},function(t,r,a){"use strict";var i=a(36),o=a(569),c=a(414);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var l=i.default.createEntityActions(o.a);r.a=_extends({},l,{fetchDimensionsForProject:function fetchDimensionsForProject(t){return this.fetchAll({project_id:t})},archive:function archive(t){return this.save(_extends({},t,{status:c.default.dimension_status.INACTIVE}))},unarchive:function unarchive(t){return this.save(_extends({},t,{status:c.default.dimension_status.ACTIVE}))}})},function(t,r,a){"use strict";var i=a(414);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}r.a={create:function create(t){return _extends({},{id:null,project_id:null,name:"",description:"",status:i.default.dimension_status.ACTIVE,last_modified:null},t)}}},function(t,r,a){"use strict";var i=a(15),o=a.n(i),c=a(56),l=a(458);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}r.a={canWebPreview:function canWebPreview(t,r){var a=o.a.ExperimentStatusType;return![a.ARCHIVED,a.DELETED,a.ERROR].includes(t.status)&&c.default.isWebProject(r)},create:function create(t){return _extends({},l.a.fields||{},t)},showEditGoalsWarning:function showEditGoalsWarning(t){var r=t.earliest;return!!r&&new Date-new Date(r)>=2592e5}}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(36),l=a(592),u=c.default.createEntityActions(l.a);r.a=o.a.extend({},u,{})},function(t,r,a){"use strict";r.a={getKeyOfLinkEntity:function getKeyOfLinkEntity(t){return t.getIn(["target","extra_data","issue_key"])}}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=(a(31),a(41)),l=(a(95),a(592)),u=Object(c.default)(l.a);r.a=o.a.extend(u,{linksForSourceId:function linksForSourceId(t,r){return[u.entityCache,function(a){return a.filter((function(a){return(r?a.getIn(["source","resource_id"])||a.getIn(["source","extra_data","layer_id"])||"":a.getIn(["source","extra_data","layer_id"])||a.getIn(["source","resource_id"])||"").toString()===t.toString()})).toList()}]}})},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(4),l=a.n(c),u=a(341),d=a.n(u),p=a(105),m=a.n(p),g=a(158),h=a(994),y=a.n(h),v=a(61),_=a.n(v),E=a(3),b=a(36),T=a(100),S=a(522),C=a(455),I=b.default.createEntityActions(C.a);r.a=l.a.extend({},I,{createAccount:function createAccount(t,r){var a=S.a.validateAccountInfo(t,r),i=o.a.deparam?o.a.deparam.querystring():window&&window.deparam&&window.deparam(window.location.search)||{};"continue_to"in i&&i.continue_to.toLowerCase();return a.valid?o.a.ajax({type:"POST",url:"/account/create_free_trial_account",data:d.a.format({query:t}).substring(1,this.length),error:null}):o.a.Deferred().reject(a)},checkCreatePasswordToken:function checkCreatePasswordToken(t){return o.a.ajax({type:"POST",url:"/account/create_password_token_check",data:t})},createPassword:function createPassword(t){var r=S.a.validateCreatePasswordInfo(t);return r.valid?o.a.ajax({type:"POST",url:"/account/create_password_complete",data:t}):o.a.Deferred().reject(r)},createTrialAccount:function createTrialAccount(t,r){var a=S.a.validateAccountInfo(t,r);return a.valid?o.a.ajax({type:"POST",url:"/account/free_trial_create",data:t,error:null}):o.a.Deferred().reject(a)},fetchAccount:function fetchAccount(t){return o.a.ajax({url:"/api/account/".concat(t,".json"),type:"GET"}).then((function(t){return t}))},resetPassword:function resetPassword(t){var r=!1;return T.default.email.test(t)&&(r=o.a.ajax({type:"POST",url:"/recover/request",data:{email:t},error:null})),r},setPassword:function setPassword(t){var r=S.a.validateSetPasswordInfo(t),a="".concat(t.new_account?"/claim":"/recover","/complete");return r.valid?o.a.ajax({type:"POST",url:a,data:d.a.format({query:t}).substring(1,this.length),error:null}):o.a.Deferred().reject({responseText:JSON.stringify(r)})},submitAuthenticatedPasswordChange:function submitAuthenticatedPasswordChange(t){var r=E.default.evaluate(g.default.csrfToken);return o.a.ajax({type:"POST",url:"/account/change_password",beforeSend:function beforeSend(t){return t.setRequestHeader("X-csrf-token",r)},data:{old_password:t.old_password,new_password1:t.new_password1,new_password2:t.new_password2}})},trackSignup:function trackSignup(t,r){var a=y.a.querystring(),i="continue_to"in a?a.continue_to:"";if(t&&t.munchkin_token){r||((r={}).Web_Conversion_URL__c=window.location.href,document.referrer&&document.referrer.match(/(academy|community|help)\.optimizely/)?(r.LeadSource="Website - Direct",r.Lead_Source_Category__c="Optiverse",r.Initial_Form_Source__c="Create Account - Optiverse",r.Inbound_Lead_Form_Type__c="Create Account - Optiverse",r.Conversion_Type__c="Create Account",document.referrer.indexOf("community.optimizely")>=0?r.Lead_Source_Subcategory__c="Community":document.referrer.indexOf("help.optimizely")>=0?r.Lead_Source_Subcategory__c="KB":document.referrer.indexOf("learn.optimizely")>=0&&(r.Lead_Source_Subcategory__c="Academy")):(r.LeadSource="Website - Direct",r.Lead_Source_Category__c="Website",r.Lead_Source_Subcategory__c="Optimizely",t.subscription&&t.subscription.in_trial?(r.Initial_Form_Source__c="Create Account - Enterprise Free Trial",r.Inbound_Lead_Form_Type__c="Create Account - Enterprise Free Trial"):(r.Initial_Form_Source__c="Create Account",r.Inbound_Lead_Form_Type__c="Sign Up"),r.Conversion_Type__c="Create Account"));var o={FirstName:t.first_name,LastName:t.last_name,PhoneNumber:t.phone_number,Email:t.email,Company:t.company_name,Demandbase_ID__c:t.db_demandbase_sid,Ultimate_Parent_Name__c:t.db_worldhq_company_name,Company_db__c:t.db_company_name,Industry:t.db_industry,Subindustry__c:t.db_sub_industry,revenue_range:t.db_revenue_range,employee_range:t.db_employee_range,Street_db__c:t.db_street_address,City_db__c:t.db_city,State_db__c:t.db_state,Postal_Code_db__c:t.db_zip,Country_Code__c:t.db_country,Company_Phone_db__c:t.db_phone,Country_db__c:t.db_country_name,SIC_Code__c:t.db_primary_sic,Primary_NAICS_Code__c:t.db_primary_naics,AnnualRevenue:t.db_annual_sales,NumberOfEmployees:t.db_employee_count,Fortune_1000__c:t.db_fortune_1000,Forbes_2000__c:t.db_forbes_2000,B2B__c:t.db_b2b,B2C__c:t.db_b2c,Marketing_Alias__c:t.db_marketing_alias,Website_db__c:t.db_web_site,Latitude__c:t.db_latitude,Longitude__c:t.db_longitude,Audience_db__c:t.db_audience,Audience_Segment_db__c:t.db_audience_segment};_.a.trackMarketoLead("associateLead",l.a.extend(o,r),t.munchkin_token)}_.a.track("/account/create/success"),i.indexOf("/mobile/first-project")>-1&&_.a.track("/mobile/signup/success")},verifyChangedEmail:function verifyChangedEmail(t,r,a){return m.a.makeV1AjaxRequest({url:"/account/verify_change_email",type:"POST",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:{new_email:t,password:r,verification_token:a}})}})},function(t,r,a){var i=a(3),o=a(1948);r.setCurrentEventId=function(t){i.dispatch(o.P13N_SET_CURRENT_EVENT_ID,{id:t})},r.resetCurrentEventId=function(){r.setCurrentEventId(null)}},function(t,r){t.exports={}},function(t,r,a){var i=a(50);r.id=["p13n/currentEvent","id"],r.event=[r.id,i.getters.entityCache,function(t,r){return r.get(t)}]},function(t,r,a){"use strict";var i=a(36),o=a(2),c=a(577);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var l=i.default.createEntityActions(c.a);l.save,l.fetch,l.fetchAll,l.fetchPage,l.fetchAllPages,l.flush,l.delete;r.a=_extends({},l,{createDefaultTagGroup:function createDefaultTagGroup(t,r){return this.save({project_id:t,is_default:!0,type:r}).then((function(t){return Object(o.toImmutable)(t)}))},fetchDefaultTagGroup:function fetchDefaultTagGroup(t){return this.fetchAll({project_id:t,is_default:!0},{force:!0})}})},function(t,r,a){"use strict";var i=a(17),o=a.n(i),c={DEFAULT:tr("default")},l=o()({interest_group:null});r.a={policy:c,type:l}},function(t,r,a){"use strict";var i,o,c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(71),m=a(5),g=a(107),h=a(19),y=a(40),v=a(2029),_=a.n(v);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=Object(p.withTrack)(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(MultiArmedBanditNotification,t);var r=_createSuper(MultiArmedBanditNotification);function MultiArmedBanditNotification(){var t;_classCallCheck(this,MultiArmedBanditNotification);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).onCreateClick=function(){var r=t.props,a=r.onCreateClick,i=r.track;m.default.hideDialog(),a(),i("MAB Tutorial Dialogue Create Clicked")},t.onCloseClick=function(){var r=t.props.track;m.default.hideDialog(),r("MAB Tutorial Dialog Closed")},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(MultiArmedBanditNotification,[{key:"componentDidMount",value:function componentDidMount(){(0,this.props.track)("MAB Tutorial Dialog Viewed")}},{key:"render",value:function render(){var t=this.props.track;return d.a.createElement(g.a,{footerButtonList:[d.a.createElement(h.a,{key:"cancel",onClick:this.onCloseClick,style:"plain"},"Cancel"),d.a.createElement(h.a,{key:"create",onClick:this.onCreateClick,style:"highlight"},"Create")],hasCloseButton:!0,onClose:this.onCloseClick,title:"Make an Impact with Multi-Armed Bandits"},d.a.createElement("div",{className:"flex flex--row"},d.a.createElement("img",{alt:"",className:"no-filter push--right",height:"164px",src:_.a}),d.a.createElement("div",{className:"flex flex--column"},d.a.createElement("p",null,"Multi-armed bandits boost performance across your variations by dynamically allocating traffic to the variation where your primary metric is doing best. They ignore statistical significance in favor of maximizing your goal."),d.a.createElement("p",null,d.a.createElement(y.a,{href:"https://help.optimizely.com/Build_Campaigns_and_Experiments/When_to_experiment_and_when_to_optimize",newWindow:!0,onClick:function onClick(){t("MAB Tutorial Dialogue KB Article Clicked")}},"Learn more")," ","about the differences between A/B experiments and multi-armed bandit optimizations."))))}}]),MultiArmedBanditNotification}(d.a.Component)).componentId="MultiArmedBanditNotification",o.propTypes={onCreateClick:l.a.func.isRequired,track:l.a.func},o.defaultProps={track:function track(){}},i=o))||i;r.a=E},function(t,r,a){var i=a(691).default;function MessageChannel(t){this.__listeners=[],this.__validateOrigin=t||!1}MessageChannel.prototype.write=function(t,r){[].forEach.call(this.__listeners||[],(function(a){a(t,r)}))},MessageChannel.prototype.listen=function(t){return this.__listeners.push(t),function unlisten(){var r=this.__listeners.indexOf(t);this.__listeners.splice(r,1)}.bind(this)},MessageChannel.prototype.registerWriter=function(t,r){var a=this;return this.listen((function(i){var o=a.handlePrototypeJS(),c=JSON.stringify(i);t.postMessage?t.postMessage({id:r,type:"OPTLY_P13N_MESSAGE",message:c},"*"):console.warn("{Loader] Attempted to message window without .postMessage defined."),o()}))},MessageChannel.prototype.registerReader=function(t,r){var a=this;t.addEventListener("message",(function(t){if("OPTLY_P13N_MESSAGE"===t.data.type&&(!r||t.data.id===r)){var o=t.origin||t.originalEvent.origin,c=JSON.parse(t.data.message),l=t.source;if(a.__validateOrigin&&!i.check(o))return;a.write(c,l)}}))},MessageChannel.prototype.destroy=function(){delete this.__listeners},MessageChannel.prototype.handlePrototypeJS=function(){if(window.Prototype&&Array.prototype.toJSON){var t=Array.prototype.toJSON;return delete Array.prototype.toJSON,function(){Array.prototype.toJSON=t}}return function(){}},t.exports=MessageChannel},function(t,r){r.DESKTOP_IPC_CHANNEL="optly-editor"},,function(t,r,a){"use strict";var i=a(42),o=a.n(i),c=a(3),l=a(1383),u=a(583);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function asyncGeneratorStep(t,r,a,i,o,c,l){try{var u=t[c](l),d=u.value}catch(t){return void a(t)}u.done?r(d):Promise.resolve(d).then(i,o)}var d=function(){var t=function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var c=t.apply(r,a);function _next(t){asyncGeneratorStep(c,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(t){var r,a,i,d,p,m,g;return regeneratorRuntime.wrap((function _callee$(h){for(;;)switch(h.prev=h.next){case 0:return r="/api/v1/entity/".concat(t,"/visitors"),a=o.a.get("is_impersonating"),i=[fetch(r)],a||i.push(fetch(r,{method:"POST",headers:{"x-csrf-token":c.default.evaluate(l.d.csrfToken)||o.a.get("csrf","")}})),h.next=6,Promise.all(i);case 6:return(d=h.sent).forEach((function(t){if(!t.ok)throw Error("Visitors' endpoint requests did not succeed.")})),p=_slicedToArray(d,1),m=p[0],h.next=11,m.json();case 11:return g=h.sent,h.abrupt("return",c.default.dispatch(u.a.SET_ENTITY_VISITORS_BY_ID,{id:t,visitors:g}));case 13:case"end":return h.stop()}}),_callee)})));return function subscribeToEntityById(r){return t.apply(this,arguments)}}();r.a={subscribeToEntityById:d}},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(4),l=a.n(c),u=a(341),d=a.n(u),p=a(292),m=a.n(p),g=a(105),h=a.n(g),y=a(994),v=a.n(y),_=a(3),E=a(100),b=a(35),T=a(691),S=a(803),C=a(322),I=a(158),A=a(345);function setPassword(t){_.default.dispatch(C.a.SET_PASSWORD,{password:t})}function setNextState(t){_.default.dispatch(C.a.SET_NEXT_STATE,{nextState:t})}function handleContinueToUrl(){var t,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/projects",i=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0,u=b.default.windowLocationSearch().substring(1),p=o.a.deparam?o.a.deparam(u):v.a.deparam(u);if("continue_to"in p?t=p.continue_to:c&&(t=c),void 0!==t&&T.default.check(t)){var g=T.default.getLocation(t).hostname,h=!g||g===m.a.location.hostname;(h||E.default.url.test(t))&&(r=t)}else r=a;if(void 0!==r){var y=d.a.parse(r);i&&(y.query=l.a.merge({},y.query,i)),b.default.windowNavigate(d.a.format(y))}}r.a={advanceAuthFlow:function advanceAuthFlow(){var t=_.default.evaluate(I.default.nextState),r=_.default.evaluate(I.default.lastSuccessfulAuth),a=_.default.evaluate(I.default.passwordExpired),i=_.default.evaluate(I.default.postSignInPath),o=_.default.evaluate(I.default.isFirstSignin),c=o?{is_first_signin:o}:{};switch(t){case A.a.EMAIL_PASSWORD_VERIFIED:if(r.get("requires_password")){b.default.go("/signin/password"+m.a.location.search)}else if(r.get("two_factor_token")){var l;l=r.get("two_factor_enrolled")?"/signin/verify":"/signin/configure",b.default.go(l+m.a.location.search),setNextState(A.a.HAS_SESSION)}else setNextState(A.a.HAS_SESSION),advanceAuthFlow();break;case A.a.HAS_SESSION:a?(b.default.go("/password_expired".concat(m.a.location.search)),setNextState(A.a.READY)):(setNextState(A.a.READY),advanceAuthFlow());break;case A.a.READY:handleContinueToUrl(i,c,r.get("continue_to"));break;default:throw new Error("Auth flow entered invalid state!")}},enrollUserTwoFactor:function enrollUserTwoFactor(t){var r={should_enroll:t,totp_code:_.default.evaluate(I.default.totpCode),password:_.default.evaluate(I.default.password)};return h.a.makeV1AjaxRequest({url:"/account/enroll_user_two_factor",type:"POST",data:r}).then((function(t){return t.succeeded&&setPassword(null),t}))},enrollAccountTwoFactor:function enrollAccountTwoFactor(t){var r={should_enroll:t,password:_.default.evaluate(I.default.password)};return h.a.makeV1AjaxRequest({url:"/account/enroll_account_two_factor",type:"POST",data:r}).then((function(t){return t}))},generateTwoFactorSecret:function generateTwoFactorSecret(){var t=function getUserTokenAndEmail(){var t=_.default.evaluate(S.a.currentUser);return{email:t?t.get("id"):_.default.evaluate(I.default.email),two_factor_token:_.default.evaluate(I.default.temporaryTwoFactorToken)}}();return t.password=_.default.evaluate(I.default.password),h.a.makeV1AjaxRequest({url:"/account/generate_two_factor_secret",type:"POST",data:t}).then((function(t){return t}))},getBackupCodes:function getBackupCodes(){var t={email:_.default.evaluate(I.default.email),password:_.default.evaluate(I.default.password)};return h.a.makeV1AjaxRequest({url:"/account/reset_two_factor_backup_codes",type:"POST",data:t}).then((function(t){return t}))},handleContinueToUrl:handleContinueToUrl,login:function login(t){return o.a.ajax({type:"POST",url:"/account/signin",error:null,data:d.a.format({query:t}).substring(1,this.length)})},preLogin:function preLogin(t){return o.a.ajax({type:"POST",url:"/opti-id/pre-login",error:null,data:{email:t}})},initiateOptiIDLogin:function initiateOptiIDLogin(t){return o.a.ajax({url:"/opti-id/initiate-login?email=".concat(t),error:null})},setCSRFToken:function setCSRFToken(t){_.default.dispatch(C.a.SET_CSRF_TOKEN,{csrfToken:t})},setLastSuccessfulAuth:function setLastSuccessfulAuth(t){_.default.dispatch(C.a.SET_LAST_SUCCESSFUL_AUTH,{data:t})},setEmail:function setEmail(t){_.default.dispatch(C.a.SET_EMAIL,{email:t})},setPassword:setPassword,setNextState:setNextState,ssoLogin:function ssoLogin(t){return o.a.ajax({type:"POST",url:"/sp_initiated_signin",error:null,data:d.a.format({query:t}).substring(1,this.length)})},setTOTPCode:function setTOTPCode(t){_.default.dispatch(C.a.SET_TOTP_CODE,{totpCode:t})},twoFactorLogin:function twoFactorLogin(t){var r={email:_.default.evaluate(I.default.email),totp_code:_.default.evaluate(I.default.totpCode),two_factor_token:_.default.evaluate(I.default.temporaryTwoFactorToken),should_enroll:t};return o.a.ajax({type:"POST",url:"/account/signin/totp_signin",data:r}).then((function(t){return t}))},validatePassword:function validatePassword(t){return h.a.makeV1AjaxRequest({url:"/account/verify_password",type:"POST",data:{password:t}}).then((function(t){return t}))},passwordLogin:function passwordLogin(t){var r={email:_.default.evaluate(I.default.email),password:t};return o.a.ajax({type:"POST",url:"/account/signin",error:null,data:d.a.format({query:r}).substring(1,this.length)})}}},function(t,r,a){"use strict";var i=a(37),o=a(1043),c=function concurrencyStateByEntityId(t){return["p13n/concurrency","entities",t]};r.a={concurrencyStateByEntityId:c,usersListByEntityId:function usersListByEntityId(t){return[c(t),i.default.email,function(t,r){var a=o.a.userListFromEntity(t),i=o.a.excludeUser(a,r);return o.a.sortUsers(i)}]}}},,,,,,,function(t,r,a){"use strict";var i=a(36),o=a(596);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a);r.a=_extends({},c)},function(t,r,a){"use strict";var i=a(41),o=a(14),c=a(596),l=a(817);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var u=Object(i.default)(c.a),d=(u.byId,u.entityCache,[u.entityCache,o.getters.id,l.a.getLayerCountsofProject]);r.a=_extends({},u,{currentProjectPluginLayerCounts:d})},function(t,r){t.exports={}},function(t,r,a){var i=a(99),o=a(16).Label,c=a(1),l=a(0),u=a(394).default,d=a(29).default.ChangeStatuses,p=a(2097),m=function FieldLabel(t){var r=u.coalesceStatusesIntoClass(t.changeStatus);return l.createElement("div",{className:"flex flex-align--center ".concat(r)},l.createElement(o,null,t.label?i(t.label):i(t.property)),t.changeStatus===d.DIRTY?l.createElement(p,{property:t.property,action:t.revertAction}):null)};m.propTypes={changeStatus:c.string,label:c.string,property:c.string,revertAction:c.func},t.exports=m},function(t,r,a){var i=a(12),o=a(2).isImmutable,c=a(3),l=a(5).default,u=a(136).default,d=a(83).default,p=a(129).default,m=a(68).default,g=a(39).default,h=a(85).default,y=a(8),v=a(672),_=a(1947);r.setTab=function(t){c.dispatch(_.P13N_CAMPAIGN_SELECT_TAB,{tab:t})},r.setSettingsTab=function(t){c.dispatch(_.P13N_CAMPAIGN_SET_SETTINGS_TAB,{tab:t})},r.setSettingsDirty=function(t,r){c.dispatch(_.P13N_CAMPAIGN_SET_SETTINGS_DIRTY,{tab:t,isDirty:r})},r.resetSettingsDirty=function(){c.dispatch(_.P13N_CAMPAIGN_RESET_SETTINGS_DIRTY)},r.setCreatingVariationStatus=function(t){c.dispatch(_.P13N_SET_CREATING_VARIATION_STATUS,{status:t})},r.startCreatingVariation=function(){c.dispatch(_.P13N_START_CREATING_VARIATION)},r.stopCreatingVariation=function(){c.dispatch(_.P13N_STOP_CREATING_VARIATION)},r.startRenamingVariation=function(t){c.dispatch(_.P13N_START_RENAMING_VARIATION,{variationId:t})},r.stopRenamingVariation=function(){c.dispatch(_.P13N_STOP_RENAMING_VARIATION)},r.trySavingRenamedVariation=function(t,a){a||(a=c.evaluateToJS(v.singleExperiment)),o(a)&&(a=a.toJS());var u=m.validateVariationName(a,t);if(!u.valid)return l.showNotification({message:u.message,type:"error"}),i.Deferred().reject();var d=c.evaluate(v.currentlyRenamingVariationId),g=p.renameVariation(a.id,d,t).always((function(){r.stopRenamingVariation()}));return l.loadingWhen("variations-panel",g),g},r.trySavingNewVariation=function(t,a){a||(a=c.evaluateToJS(v.singleExperiment)),o(a)&&(a=a.toJS());var u=m.validateVariationName(a,t);if(!u.valid)return l.showNotification({message:u.message,type:"error"}),i.Deferred().reject();var d=p.createNewVariationWithRedistributedTraffic(t,a).always((function(){r.stopCreatingVariation()}));return l.loadingWhen("variations-panel",d),d},r.openDeleteVariationDialog=function(t,r){r||(r=c.evaluate(v.singleExperiment));var a=r.get("variations").find((function(r){return r.get("variation_id")===t})).get("name");h.confirmDeleteEntity({deleteAction:function deleteAction(){var i=p.deleteVariationById(r.get("id"),t);l.loadingWhen("variations-panel",i),i.then((function(){l.showNotification({message:y("The variation <b>{0}</b> has been deleted.",a)})}))},entityType:a,publishWarning:y("This change cannot be undone."),message:y("Are you sure you want to delete {0}?",a),confirmText:y("Delete Variation"),cancelText:y("Cancel")})},r.openStopVariationDialog=function(t,r){r||(r=c.evaluate(v.singleExperiment));var i=r.get("variations").find((function(r){return r.get("variation_id")===t})),o=c.evaluate(u.byId(r.layer_id));return l.showReactDialog(a(2753).default,{props:{variation:i,experiment:r,onSaving:function onSaving(t){l.loadingWhen("variations-panel",t)},canUseWebStickyBucketing:c.evaluate(g.canUseWebStickyBucketing),isP13NCampaign:d.isPersonalizationLayer(o)}})},r.duplicateVariation=function(t){var r=c.evaluate(v.singleExperimentId),a=p.duplicateVariationById(r,t);return l.loadingWhen("variations-panel",a),a},r.restoreVariation=function(t){var r=c.evaluate(v.singleExperimentId),a=p.restoreVariationById(r,t);return l.loadingWhen("variations-panel",a),a},r.duplicateVariationByExperiment=function(t,r){r||(r=c.evaluate(v.singleExperiment));var a=p.duplicateVariationById(r.get("id"),t);return l.loadingWhen("variations-panel",a),a},r.restoreVariationByExperiment=function(t,r){r||(r=c.evaluate(v.singleExperiment));var a=p.restoreVariationById(r.get("id"),t);return l.loadingWhen("variations-panel",a),a}},function(t,r,a){var i=a(4),o=a(15),c=a(3547),l=o.GoalTypeName,u=i.invert(o.GoalType);t.exports=function(t){var r=t.more_info,a=t.category,i="";if(r&&r.category!==c.categories.EXPERIMENT&&(r.category===c.categories.SECTION?a=c.categories.SECTION:r.category===c.categories.VARIATION&&(a=c.categories.VARIATION)),a===c.categories.GOAL&&r&&null!==r.goal_type){var o=null;null!==(o=void 0!==r.goal_type.after?r.goal_type.after:r.goal_type)&&(i=l[u[o]].toLowerCase())}var d={experiment:{save:tr("saved experiment"),create:tr("created experiment"),start:tr("started experiment"),pause:tr("paused experiment"),delete:tr("deleted experiment"),archive:tr("archived experiment"),unarchive:tr("unarchived experiment"),"new goal":tr("added a new goal to experiment"),"add saved goal":tr("added a saved goal to experiment"),"remove goal":tr("removed a goal from experiment"),"reset results":tr("reset results for experiment"),update:tr("edited experiment"),"schedule changed":tr("changed the schedule for experiment")},goal:{"add saved goal":tr("added {0} goal",i),"delete goal":tr("deleted {0} goal",i),"new goal":tr("created {0} goal",i),"remove goal":tr("removed {0} goal",i),"update goal":tr("edited {0} goal",i)},project_visible:{update:tr("updated project"),create:tr("created project")},section:{save:tr("saved section"),create:tr("created section"),start:tr("started section"),pause:tr("paused section"),delete:tr("deleted section"),archive:tr("archived section"),unarchive:tr("unarchived section"),"new goal":tr("added a new goal to section"),"add saved goal":tr("added a saved goal to section"),update:tr("edited section")},variation:{save:tr("saved variation"),create:tr("created variation"),start:tr("started variation"),pause:tr("paused variation"),delete:tr("deleted variation"),archive:tr("archived variation"),unarchive:tr("unarchived variation"),"new goal":tr("added a new goal to variation"),"add saved goal":tr("added a saved goal to variation"),update:tr("edited variation")}},p=d[a][t.event];return p||(p=-1!==t.event.indexOf("Scheduled changed")?d[a]["schedule changed"]:t.event),p}},function(t,r){t.exports=function(t,r){var a=null;return(a="true"===r?{web:tr("for web"),ios:tr("for ios"),android:tr("for android")}:{web:tr("web"),ios:tr("ios"),android:tr("android")})[t]?a[t]:tr.variable(t)}},function(t,r,a){var i=a(216),o=a(657);t.exports=function(t){return o(i.toFloat(t),2)}},function(t,r,a){"use strict";var i=tr("/*\n *  Shared CSS is available to all experiments in the campaign. You\n *  can modify existing styles or create brand new classes. Click\n *  the help icon for more information.\n */"),o=tr("/*\n *  Shared JavaScript is available to all experiments in the\n *  campaign and executes immediately when a visitor is assigned to\n *  a variation. You can adjust this timing using Optimizely\n *  utilities or JQuery. Click the help icon for more information.\n */");r.a={CUSTOM_CSS_PLACEHOLDER:i,CUSTOM_JAVASCRIPT_PLACEHOLDER:o}},function(t,r,a){"use strict";var i=a(38),o=a(14),c=a(20),l=a(49),u=[i.getters.currentCampaignLiveChangesByExperimentStatus(c.enums.status.ACTIVE),function(t){return t.size}],d=[i.getters.draftChangesFromAllExperimentsOrSections,function(t){return t.size}],p=[o.getters.project,l.fns.canPublishLayer.bind(l.fns)],m=[o.getters.isUsingV2Snippet,p,i.getters.layer,function(t,r,a){return!t||!r||a&&a.get("archived")}];r.a={activeChangeCount:u,draftChangeCount:d,canPublishLayer:p,disableStartButton:m}},function(t,r,a){"use strict";var i=a(151),o=a(2),c=a(3),l=a(5),u=a(43),d=a(14),p=a(307),m=a(27),g=a(2558),h=a(49),y=a(2570);r.a={showFeatureDialog:function showFeatureDialog(t,r){return c.default.evaluate(h.getters.canCurrentProjectUseTargetedRollouts)?function showCreateFeatureDialog(){return new Promise((function(t){l.default.showReactDialog(y.a,{props:{onSave:function onSave(r){t(r),l.default.hideDialog()},onCancel:l.default.hideDialog}},{fullScreen:!0,dismissOnBack:!0,isOuiDialog:!0})}))}():function showFeatureDialogOld(t,r){return new Promise((function(a){p.a.fetchAll({project_id:c.default.evaluate(d.getters.id)}).then((function(){var y,v=c.default.evaluate(d.getters.id),_=c.default.evaluate(p.c.unarchivedEnvironmentsSortedByPriority);y=t?m.fns.ensureEnvironmentConfigs(t,_):m.fns.createNewFeatureWithEnvironmentConfigs(_,v);var E=c.default.evaluate(d.getters.features),b=c.default.evaluate([d.getters.project,h.fns.canManageFeatureFlags]),T=c.default.evaluate([u.getters.accountPermissions,h.fns.isMobileOnlyAccount]);l.default.showReactDialog(g.a,{props:{currentProjectFeatures:E,feature:y,save:function saveFeature(t){return m.actions.save(t.toJS()).then((function(t){return m.actions.fetch(t.id,!0)})).then((function(t){a(Object(o.toImmutable)(t)),l.default.hideDialog()}))},cancel:function cancel(){l.default.hideDialog()},canManageFeatureFlags:b,isMobileOnly:T}},{noPadding:!0,fullScreen:!0,dismissOnBack:!0,onHideDialog:function onHideDialog(){r&&r()}}),i.api.virtualPageview("Features","Feature Flag Builder","",{builderMode:t?"edit":"create"})}))}))}(t,r)}}},function(t,r,a){"use strict";var i=a(36),o=a(598);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a);r.a=_extends({},c)},function(t,r,a){"use strict";var i=a(41),o=a(598);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a);c.byId,c.entityCache;r.a=_extends({},c)},function(t,r,a){"use strict";var i=a(14),o=a(821);r.a={shouldShowAudienceCombinationOptions:function shouldShowAudienceCombinationOptions(){return[i.getters.isWebProject,i.getters.isFullStackProject,o.a.getShouldShowAudienceCombinationOptions]}}},function(t,r,a){"use strict";var i=a(36),o=a(568);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a);r.a=_extends({},c)},function(t,r,a){"use strict";r.a={getExperimentCountofAudience:function getExperimentCountofAudience(t,r){var a=t.get("id"),i=r.filter((function(t){return t.get("id")===a}));return i.size?i.get(0).get("experiment_count"):0}}},function(t,r,a){"use strict";var i=a(14),o=a(599);r.a={shouldShowAudienceCombinationOptions:function shouldShowAudienceCombinationOptions(){return[i.getters.isWebProject,i.getters.isFullStackProject,o.b.getShouldShowAudienceCombinationOptions]}}},function(t,r,a){"use strict";var i=a(2),o=a(198);r.a={saveFeature:function saveFeature(t,r){return o.a.save(t.toJS()).then((function(a){var c=function invokeOnSaveCallback(t){r&&"function"==typeof r&&r(Object(i.toImmutable)(t))};t.get("variables")&&t.get("variables").size!==a.variables.length?o.a.fetch(a.id,!0).then((function(t){c(t)})):c(a)}))},unarchiveFeature:function unarchiveFeature(t){return o.a.unarchive(t.get("id"))}}},function(t,r,a){"use strict";var i=a(14),o=i.getters.features,c=i.getters.currentProjectRunningExperiments;r.a={currentProjectFeatures:o,currentProjectRunningExperiments:c}},function(t,r,a){"use strict";r.a={shouldPreventDefaultAndCallFn:function shouldPreventDefaultAndCallFn(t){return function(r){var a=r.button,i=r.ctrlKey,o=r.metaKey,c=r.shiftKey;1===a||i||c||o||(r.preventDefault(),t(r))}}}},function(t,r,a){"use strict";var i=a(41),o=a(2),c=a(601);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var l=Object(i.default)(c.a),u=(l.byId,l.entityCache),d=function statusUpdatesByRecommenderId(t){return[u,function(r){var a=r.find((function(r){return r.get("source_id")===t}));return a&&a.getIn(["status_updates",0])}]};r.a=_extends({},l,{statusUpdatesByRecommenderId:d,summaryStatsByRecommenderId:function summaryStatsByRecommenderId(t){return[d(t),function(t){return t?t.getIn(["message_args","summary"]):Object(o.toImmutable)({})}]},updatedTimeByRecommenderId:function updatedTimeByRecommenderId(t){return[u,function(r){var a=r.find((function(r){return r.get("source_id")===t}));return a&&a.get("last_modified")}]}})},function(t,r,a){"use strict";var i=a(3),o=a(151),c=a(23),l=a(20);r.a={setTrackingData:function setTrackingData(t,r){var a=null,u=t&&t.params&&t.params.item_id&&Number(t.params.item_id),d=t&&t.params&&t.params.experiment_id&&Number(t.params.experiment_id);if(d&&!u){var p=i.default.evaluate(l.getters.byId(d));u=p?Number(p.get("layer_id")):null}if(u){var m=i.default.evaluate(c.getters.byId(u));c.fns.isMultiArmedBandit(m)?a="Multi-Armed Bandit":c.fns.isABTestLayer(m)?a="A/B Test":c.fns.isPersonalizationLayer(m)?a="Personalization Campaign":c.fns.isMultivariateTestLayer(m)&&(a="Multivariate Test")}o.core.setProperties({campaignId:u||null,experimentId:d||null,experimentType:a}),r()}}},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(5),l=a(38),u=a(244),d=a(23),p=a(20),m=a(128),g=a(367),h=a(2628);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}r.a={showCreateSectionDialog:function showCreateSectionDialog(){c.default.showReactDialog(h.a,{props:{onCancelClick:function onCancelClick(){c.default.hideDialog()}},dataBindings:{currentLayer:l.getters.layer,destinationLayerExperimentId:g.e.destinationLayerExperimentId}},{fullScreen:!0,dismissOnBack:!0,component:{template:'<div class="flex--1 flex width--1-1 height--1-1"></div>'}})},createNewSections:function createNewSections(t,r){return Promise.all(t.map((function(t){return u.a.save(t)}))).then((function(t){return new Promise((function(a){var i,o=(i=r.get("section_ids")).push.apply(i,_toConsumableArray(t.map((function(t){return t.id})))).toJS();return d.actions.save({id:r.get("id"),section_ids:o}).then((function(){a(t)}))}))}))},saveNewVariationInMVTSection:function saveNewVariationInMVTSection(t,r){var a=p.fns.validateVariationName(t.toJS(),r);if(!a.valid)return c.default.showNotification({message:a.message,type:"error"}),o.a.Deferred().reject();var i=u.a.createNewVariationWithRedistributedTraffic(r,t.toJS());return c.default.loadingWhen("variations-panel",i),i},openDeleteVariationDialog:function openDeleteVariationDialog(t,r,a){var i=t.get("variations").find((function(t){return t.get("variation_id")===r})).get("name"),o=tr("Are you sure you want to delete the variation <strong>{0}</strong>?",i),l=tr("Delete Variation");g.d.isPartialFactorial(a)&&(o=tr("Are you sure you want to delete the variation <strong>{0}</strong>? Since your test \nis currently in <strong>partial factorial mode</strong>, your traffic allocation will be reset \nto an even distribution between all combinations.",i),l=tr("Delete Variation and Reset Traffic")),m.actions.confirmDeleteEntity({deleteAction:function deleteAction(){var a=u.a.deleteVariationById(t,r);c.default.loadingWhen("variations-panel",a),a.then((function(){c.default.showNotification({message:tr("The variation <strong>{0}</strong> has been deleted.",i)})}))},entityType:i,publishWarning:tr("This change cannot be undone."),message:o,confirmText:l,cancelText:tr("Cancel")})},openDeleteSectionDialog:function openDeleteSectionDialog(t,r,a,i){var o=t.get("name"),l=d.fns.hasLayerStarted(r),h=g.d.isPartialFactorial(a),y=g.d.generateDeleteSectionWarning(o,l,h);m.actions.confirmDeleteEntity({deleteAction:function deleteAction(){var a=u.a.deleteSection(t.toJS(),r.toJS());c.default.loadingWhen("variations-panel",a),a.then((function(){p.actions.fetch(i,!0),c.default.showNotification({message:tr("The section <strong>{0}</strong> has been deleted.",o)})}))},entityType:o,publishWarning:tr("This change cannot be undone."),message:y.message,confirmText:y.confirmText,cancelText:tr("Cancel")})},saveRenamedVariation:function saveRenamedVariation(t,r,a){var i=p.fns.validateVariationName(t.toJS(),r);if(!i.valid)return c.default.showNotification({message:i.message,type:"error"}),o.a.Deferred().reject();var l=u.a.renameVariationInSection(t.get("id"),a,r);return c.default.loadingWhen("variations-panel",l),l}}},function(t,r,a){"use strict";var i=a(2),o=a(4),c=a(291);r.a={getTotalPercentageForSection:function getTotalPercentageForSection(t){return t.get("variations").reduce((function(t,r){return t+Number(r.get("weight"))}),0)/100},getCombinationCount:function getCombinationCount(t){return t&&t.size?t.reduce((function(t,r){return t*r.get("variations").size}),1):0},getRemainingCombinationCount:function getRemainingCombinationCount(t,r,a){return t&&t.size?t.reduce((function(t,i){var o=i.get("variations").size;return i.get("id")===r.get("id")&&(o=a&&o>1?o-1:1),t*o}),1):0},generateDefaultMvtSection:function generateDefaultMvtSection(t,r){var a={name:"".concat(r.get("key")," - ").concat(t.get("api_name")),api_name:"variation-1",variable_value:t.get("default_value"),weight:1e4};return Object(i.toImmutable)({name:"".concat(r.get("key")," - ").concat(t.get("api_name")),layer_experiment_id:r.get("id"),variable_id:t.get("id"),variations:[a]})},generateDefaultMvtSections:function generateDefaultMvtSections(t,r){var a=this,o=[];return(t.get("variables")||[]).forEach((function(t){o.push(a.generateDefaultMvtSection(t,r))})),i.default.List(o)},updateMvtSections:function updateMvtSections(t,r,a){var o=this,c=[];return(r.get("variables")||[]).forEach((function(r){var i=t.find((function(t){return t.get("variable_id")===r.get("id")}));i?c.push(i):c.push(o.generateDefaultMvtSection(r,a))})),i.default.List(c)},validateSection:function validateSection(t){var r=Object(i.toImmutable)({});if(!t.get("name","").trim()){var a=c.a.ErrorMessages.SECTION_NAME_MISSING;r=r.set("name",a)}if(t.get("variations").some((function(t){return t.has("weight")&&(!t.get("name")||0===t.get("name").trim().length)}))){var o=c.a.ErrorMessages.VARIATION_NAMES_MISSING;r=r.set("variations",o)}return r},validateSections:function validateSections(t,r){var a={mvtVariationNames:"",mvtVariationAllocation:"",mvtSectionNames:"",mvtCombinationLimit:""};return Object(o.some)(t,(function(t){return Object(o.some)(t.variations,(function(t){return!t.name||0===t.name.trim().length}))}))&&(a.mvtVariationNames=c.a.ErrorMessages.VARIATION_NAMES_MISSING),Object(o.some)(t,(function(t){return 1e4!==Object(o.reduce)(t.variations,(function(t,r){return t+r.weight}),0)}))&&(a.mvtVariationAllocation=c.a.ErrorMessages.VARIATION_ALLOCATION_NOT_100),Object(o.some)(t,(function(t){return!t.name||0===t.name.trim().length}))&&(a.mvtSectionNames=c.a.ErrorMessages.SECTION_NAMES_MISSING),r>c.a.MAX_COMBINATION_COUNT&&(a.mvtCombinationLimit=c.a.ErrorMessages.EXCEEDS_MAX_COMBINATION_COUNT),a}}},function(t,r,a){"use strict";var i=a(2),o=a(4),c=a.n(o),l=a(18),u=a(38),d=a(14),p=a(244),m=a(20),g=a(49),h=a(24),y=a(253),v=[d.getters.project,g.fns.canUpdateLayer],_=[l.getters.activeFrameId,function(t){return!!t}],E=[d.getters.id,u.getters.currentSingleExperimentFromAllExperimentsPointingToLayer,function(t,r,a,i){var o=r&&r.get("id");return{variations:{name:y.a.VARIATIONS,url:Object(h.mvtSectionsDashboard)(t,o)},pages:{name:y.a.PAGES,url:Object(h.mvtPages)(t,o)},audiences:{name:y.a.AUDIENCES,url:Object(h.mvtAudiences)(t,o)},integrations:{name:y.a.INTEGRATIONS,url:Object(h.mvtIntegrations)(t,o)},metrics:{name:y.a.METRICS,url:Object(h.mvtMetrics)(t,o)},custom_code:{name:y.a.CUSTOM_CODE,url:Object(h.mvtCustomCode)(t,o)},traffic_allocation:{name:y.a.TRAFFIC_ALLOCATION,url:Object(h.mvtTrafficAllocation)(t,o)},schedule:{name:y.a.SCHEDULE,url:Object(h.mvtSchedule)(t,o)},api_names:{name:y.a.API_NAMES,url:Object(h.mvtApiNames)(t,o)},history:{name:y.a.HISTORY,url:Object(h.mvtHistory)(t,o)},settings:{name:y.a.SETTINGS,url:Object(h.mvtSettings)(t,o)}}}],b=[u.getters.allSectionsPointingToLayer,function(t){return t?t.flatMap((function(t){return t.get("variations")})):Object(i.toImmutable)([])}],T=[u.getters.id,m.default.getters.entityCache,function(t,r){return c.a.isNumber(t)&&r.find((function(r){return r.get("layer_id")===t}))||null}],S=[T,function(t){return t?t.get("id"):null}],C=[u.getters.layer,T,u.getters.liveCommit,function(t,r,a){if(!r)return Object(i.toImmutable)([]);var o=m.default.fns.addPercentageToVariations(r.get("variations")),c=a&&a.get("revisions").get("layer_experiment").get(0)||null;return o=u.fns.addStatusInfoToVariations(t,o,r,c)}],I=[u.getters.layer,T,v,u.getters.liveCommit,function(t,r,a,o){if(!r)return Object(i.toImmutable)([]);var c=o&&o.get("revisions").get("layer_experiment").get(0)||null,l=c&&c.size&&Object(i.toImmutable)([c])||Object(i.toImmutable)([]);return l.size?m.default.fns.formatTrafficAllocationVariations(r.get("variations"),a,r.get("id"),l,!0):m.default.fns.formatTrafficAllocationVariationsForUnstartedPartialFactorial(r.get("variations"),a,r.get("id"))}],A=[C,function(t){return t.size}],O=[u.getters.layer,u.getters.id,v,p.d.entityCache,u.getters.liveCommit,function(t,r,a,o,c){var l=o.filter((function(t){return t.get("layer_id")===r&&!1===t.get("archived")}));return l?l.toList().sortBy((function(t){return t.get("id")})).map((function(r){var a=c&&c.get("revisions").get("experiment_section").find((function(t){return t.get("id")===r.get("id")}))||null,i=m.default.fns.addPercentageToVariations(r.get("variations"));return i=u.fns.addStatusInfoToVariations(t,i,r,a),r.set("variations",i)})):Object(i.toImmutable)([])}],P=[u.getters.allExperimentsPointingToLayer,u.getters.liveCommitLayerExperiments,function(t,r){var a=t.first().get("id");return m.default.fns.isExperimentLive(a,r)}],R=[T,function(t){return t.get("multivariate_traffic_policy")||m.default.enums.multivariateTrafficPolicies.FULL_FACTORIAL}],w=[T,function(t){return t.get("allocation_policy")}];r.a={canUpdateLayer:v,currentlySelectedTrafficAllocationPolicy:w,destinationLayerExperiment:T,destinationLayerExperimentId:S,isMVTExperimentLive:P,multivariateTrafficPolicy:R,mvtCombinations:C,mvtCombinationsFormatted:I,mvtCombinationCount:A,mvtSections:O,orderedVariations:b,showEditor:_,sideBarItems:E}},function(t,r,a){"use strict";var i=a(5),o=a(2),c=a(3),l=a(2641),u=a(50),d=a(34),p=a(70),m=a(14),g=a(7),h=a(38),y=a(588);function asyncGeneratorStep(t,r,a,i,o,c,l){try{var u=t[c](l),d=u.value}catch(t){return void a(t)}u.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var c=t.apply(r,a);function _next(t){asyncGeneratorStep(c,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function fetchCurrentProjectEvents(){var t={project_id:c.default.evaluate(m.getters.project).get("id")},r=[];return r.push(u.actions.fetchAll(t)),r.push(d.actions.fetchAll(t)),Promise.all(r)}function fetchAllProjectsEvents(){return Promise.all([p.actions.fetchAll({project_status:g.default.project_status.ACTIVE}),h.actions.fetchAllCrossProjectMetrics()])}r.a={showEditMetricDialog:function showEditMetricDialog(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.metric,a=void 0===r?{}:r,c=t.onClose,u=t.onSave,d=t.config,p=void 0===d?{}:d;function closeHandler(){i.default.hideDialog(),c&&c()}var m={fetchCurrentProjectEvents:fetchCurrentProjectEvents,fetchAllProjectsEvents:fetchAllProjectsEvents,isLayerMetric:p.isLayerMetric,metric:Object(o.toImmutable)(a),mode:p.mode,onSave:function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var r,a=arguments;return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:{},i.prev=1,!u){i.next=5;break}return i.next=5,u(t,r);case 5:if(u&&!r.pushCopyToTemplate){i.next=8;break}return i.next=8,y.a.save(t);case 8:closeHandler(),i.next=14;break;case 11:throw i.prev=11,i.t0=i.catch(1),Error("An error ocurred trying to save the metric: ",i.t0);case 14:case"end":return i.stop()}}),_callee,null,[[1,11]])})));return function onSave(r){return t.apply(this,arguments)}}(),onCancel:closeHandler};i.default.showReactDialog(l.a,{props:m},{dismissOnBack:!0,fullScreen:!0,isOuiDialog:!0,noPadding:!0})}}},function(t,r,a){"use strict";var i=a(50),o={ANY:{label:"Any",value:"any"},CLICK:{label:"Click",value:i.enums.eventTypes.CLICK},CUSTOM:{label:"Custom",value:i.enums.eventTypes.CUSTOM},PAGE_VIEW:{label:"Pageview",value:i.enums.eventTypes.PAGE_VIEW}};r.a={eventTypeFilters:o,projectFilters:{ALL:{label:"All",value:"all"},CURRENT:{label:"Current",value:"current"}}}},function(t,r,a){"use strict";var i=a(2),o=["display_title","description"];function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _objectWithoutProperties(t,r){if(null==t)return{};var a,i,o=function _objectWithoutPropertiesLoose(t,r){if(null==t)return{};var a,i,o={},c=Object.keys(t);for(i=0;i<c.length;i++)a=c[i],r.indexOf(a)>=0||(o[a]=t[a]);return o}(t,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(i=0;i<c.length;i++)a=c[i],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(o[a]=t[a])}return o}r.a={transformMetricWrapperToMetricTemplate:function transformMetricWrapperToMetricTemplate(t){var r=t.get("metric").toJS(),a=r.display_title,i=r.description;return _extends({name:a,description:void 0===i?t.get("description"):i},_objectWithoutProperties(r,o))},transformMetricTemplateToMetricWrapper:function transformMetricTemplateToMetricWrapper(t,r,a){var o=r.toJS(),c=t.event_type,l=t.event_id,u=t.aggregator,d=t.name,p=t.display_unit,m=void 0===p?null:p,g=t.field,h=t.scope,y=t.winning_direction,v=t.description;return Object(i.toImmutable)(_extends({},o,{eventName:a.get("name"),eventApiName:a.get("api_name"),metric:{event_type:c,event_id:l,aggregator:u,display_title:d,display_unit:m,field:g,scope:h,winning_direction:y},description:v}))}}},function(t,r){t.exports={}},function(t,r){t.exports={removeOptimizelyDatasource:function removeOptimizelyDatasource(t){return t.filter((function(t){return!t.get("is_optimizely")}))}}},function(t,r,a){"use strict";var i=a(3),o=a(844),c=a(215);a(70);r.a={pushMetricWrapperToTop:function pushMetricWrapperToTop(t,r,a){var i=r.filterNot((function(r){return r.get("alias")===t.get("alias")}));i=a?i.unshift(t):i.splice(1,0,t),c.a.updateWorkingMetricWrappers(i)},pushMetricWrapperToBottom:function pushMetricWrapperToBottom(t,r){var a=r.filterNot((function(r){return r.get("alias")===t.get("alias")}));c.a.updateWorkingMetricWrappers(a.push(t))},setUseCurrentProject:function setUseCurrentProject(t){i.default.dispatch(o.a.METRICS_PICKER_USE_CURRENT_PROJECT,t)},reset:function reset(){i.default.dispatch(o.a.METRICS_PICKER_USE_CURRENT_PROJECT,!0)}}},function(t,r,a){"use strict";var i=a(14),o=a(38),c=a(50),l=a(70),u=a(21),d=a(45),p=a(34),m=a(617),g=a(518),h=["metricsPickerSelectedItems","useCurrentProject"],y=[[p.getters.entityCache,function(t){return t.filter((function(t){return!t.get("archived")}))}],l.getters.entityCache,o.getters.layer,function(t,r,a){return t=t.filter((function(t){var r=!t.get("single_use");return a&&a.get("url_targeting")&&t.get("single_use")&&(r=t.get("id")===a.getIn(["url_targeting","view_id"])),r})),m.a.addProjectNameToEntities(t,r)}],v=[[[c.getters.entityCache,p.getters.entityCache,l.getters.entityCache,function(t,r,a){var i=c.fns.createActiveProjectEventFilterFn(r);return t=t.filter(i),m.a.addProjectNameToEntities(t,a)}],y,l.getters.entityCache,m.a.createMapOfQueryableEvents],i.getters.project,h,l.getters.entityCache,function(t,r,a,i){var o=t;return a&&(o=t.filter((function(t){return t.get("project_id")===r.get("id")||t.get("kind")===u.default.metricKinds.REVENUE}))),o.filter((function(t){if(!t.get("project_id"))return!0;var a=i.get(t.get("project_id"));return!!a&&(l.fns.isWebProject(a)&&l.fns.isWebProject(r)||l.fns.isCustomProject(a)&&l.fns.isCustomProject(r))}))}],_=[v,function(t){return t.filter((function(t){return t.get("event_type")===g.a.eventTypes.CUSTOM})).toList()}],E=[v,function(t){return t.filter((function(t){return t.get("kind")===u.default.metricKinds.VIEW}))}],b=[v,function(t){return t.filter((function(t){return t.get("kind")===u.default.metricKinds.EVENT&&t.get("event_type")===d.default.event_type.CLICK}))}];r.a={projectFilteredQueryableEventsMap:v,allPageClickEvents:b,allPageViewEvents:E,availableViews:y,customEventsGetterV2:_,shouldUseCurrentProject:h}},function(t,r,a){"use strict";var i=a(1317);a.d(r,"a",(function(){return i.a}));i.a},function(t,r,a){"use strict";var i=a(3),o=a(35),c=a(5),l=a(61),u=a.n(l),d=a(43),p=a(14),m=a(70),g=a(49),h=a(24),y=a(526);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function saveProject(t){var r=t.name,a=t.description,o=t.selectedPlatform,c=t.hasPrivateDefaultDatafiles,l=t.useFullStackLegacyExperience,h=i.default.evaluate(d.getters.id),v=i.default.evaluate([d.getters.accountPermissions,g.fns.canUseOptimizelyX]),_={account_id:h,project_name:r,description:a,manifest_version:v?m.enums.manifestVersions.V2:m.enums.manifestVersions.V1};v&&(_.library="none"),i.default.evaluate(p.getters.name)||(_.id=h);var E=m.fns.createEntity(_);if(o===y.b.EDGE)E.delivery_mode=m.enums.delivery_modes.EDGE,E.project_platforms=[m.enums.project_platforms.WEB],E.client_build_settings={client_type:m.enums.ClientBuildSettings.STANDALONE};else if(o===y.b.FULL_STACK)E.project_platforms=[m.enums.project_platforms.CUSTOM],E.sdks=[],c&&(E.private_default_datafiles=!0),l||(E.is_flags_enabled=!0);else{if(o!==y.b.WEB)throw new Error("Can't create project: unrecognized platform ".concat(o));E.project_platforms=[m.enums.project_platforms.WEB],E.client_build_settings={client_type:v?m.enums.ClientBuildSettings.STANDALONE:m.enums.ClientBuildSettings.LEGACY}}return m.actions.save(E).then((function(t){var r={name:t.project_name,platform:t.project_platforms};return u.a.trackMarketoEvent("x_component","create","project",t.id,r),t}))}r.a={routeToProject:function routeToProject(t){var r=h.default.xProjectHome(t.id,t.project_platforms[0],t.is_flags_enabled);o.default.go(r)},saveProject:saveProject,showCreateProjectDialog:function showCreateProjectDialog(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(r){c.default.showReactDialog(y.a,{props:{onCreate:function onCreate(t){return saveProject(t).then((function(t){c.default.hideDialog(),setTimeout((function(){r(t)}),100)}))}}},_extends({fullScreen:!0,dismissOnBack:!0},t))}))}}},function(t,r,a){"use strict";var i,o,c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(28),m=a(14),g=a(10),h=a(359),y=a(1024),v=a(2690);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=Object(p.a)({currentProjectId:m.getters.id})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(PageComponent,t);var r=_createSuper(PageComponent);function PageComponent(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PageComponent),a=r.call(this,t);var i=t.currentProjectId;return h.actions.verify({projectId:i}).catch((function(){})),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(PageComponent,[{key:"render",value:function render(){return d.a.createElement("div",{className:"stage__item__content--column"},d.a.createElement(y.a,{activeTab:g.default.LayersTabs.LAYERS}),d.a.createElement("div",{className:"flex flex--1","data-test-section":"layers-table-container"},d.a.createElement(v.a,null)))}}]),PageComponent}(d.a.Component)).componentId="p13n-layers-home",o.propTypes={currentProjectId:l.a.number.isRequired},i=o))||i;r.a=_},function(t,r,a){"use strict";var i=a(41),o=a(827),c=a(603);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var l=Object(i.default)(c.a),u=l.byId;r.a=_extends({},l,{hasAnyProcessingAdaptiveAudienceConditions:function hasAnyProcessingAdaptiveAudienceConditions(t){return[u(t),o.a.summaryHasAnyProcessingAdaptiveAudienceConditions]}})},function(t,r,a){"use strict";var i=a(5),o=a(191),c=(a(1271),a(2696)),l=a(2703),u=a(2709),d=a(2710);r.a={showABExperimentCreationDialogReact:function showABExperimentCreationDialogReact(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fullScreen:!0,dismissOnBack:!0,isOuiDialog:!0};return o.a.fetchCreateLayerData().then((function(){i.default.showReactDialog(c.a,t,r)}))},showLayerDetailDialogReact:function showLayerDetailDialogReact(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fullScreen:!0,dismissOnBack:!0,isOuiDialog:!0};return o.a.fetchCreateLayerData().then((function(){i.default.showReactDialog(l.a,t,r)}))},showMABCreationDialog:function showMABCreationDialog(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dismissOnBack:!0,fullScreen:!0,isOuiDialog:!0};return o.a.fetchCreateLayerData().then((function(){i.default.showReactDialog(u.a,t,r)}))},showMVTExperimentCreationDialogReact:function showMVTExperimentCreationDialogReact(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fullScreen:!0,dismissOnBack:!0,isOuiDialog:!0};return o.a.fetchCreateLayerData().then((function(){i.default.showReactDialog(d.a,t,r)}))}}},function(t,r,a){"use strict";var i=a(2),o=a(37),c=a(66),l=a.n(c),u=a(13),d=a(39),p=a(144),m=a(501),g=a(384),h={};h.urlTargetingConfig=[l.a.layer,function(t){if(!t)return i.default.Map();var r=t.get("url_targeting");if(!r)return g.a.DEFAULT_URL_TARGETING_CONFIG;var a=m.default.deserializeConditions(r.get("conditions")),o=a.includeConditions,c=a.excludeConditions;return(r=r.set("includeConditions",Object(i.toImmutable)(o)).set("excludeConditions",Object(i.toImmutable)(c)).delete("conditions")).toMap()}],h.targetingType=[l.a.layer,d.default.canUseUrlTargeting,function(t,r){return t&&r&&t.get("url_targeting")?p.TargetingTypes.URL:p.TargetingTypes.SAVED_PAGES}],h.allSavedViews=[u.default.views,function(t){return t.filter((function(t){return!t.get("single_use")}))}],h.savedViewIds=[l.a.layer,h.allSavedViews,function(t,r){return t&&t.get("view_ids")?t.get("view_ids").filter((function(t){return r.some((function(r){return r.get("id")===t}))})).toSet():i.default.Set([])}],h.urlTargetingConfigSmart=[l.a.layer,o.default.accountPermissions,function(t,r){if(!t)return i.default.Map();var a=t.get("url_targeting");return a?a=a.set("is_url_targeting",!0):g.a.DEFAULT_URL_TARGETING_CONFIG_SMART}],r.a=h},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(3),l=a(5),u=a(38),d=a(14),p=a(144),m=a(34),g=a(706),h={convertURLTargetingConfigToView:function(t){var r=m.fns.serializeConditions(t.get("includeConditions"),t.get("excludeConditions")),a=t.set("conditions",r).delete("includeConditions").delete("excludeConditions"),i=c.default.evaluate(m.getters.byId(t.get("view_id"))),o=c.default.evaluate(d.getters.id);return g.a.addFieldsToTargetingConfigForViewConversion(a,i,o)},convertURLTargetingConfigToSmartView:function(t){var r=c.default.evaluate(m.getters.byId(t.get("view_id"))),a=c.default.evaluate(d.getters.id);return g.a.addFieldsToTargetingConfigForViewConversion(t,r,a)},confirmSwitchFromURLTargetingToSavedViews:function(t,r){var a;if(t===p.TargetingTypes.URL){var i=c.default.evaluate(u.getters.currentLayerChangesForView(r));a=u.fns.generateChangeCountsMessage(i)}var d=o.a.Deferred().resolve();return a&&(d=l.default.confirm({title:tr("Switching to Saved Pages will discard changes"),message:[tr("The following changes will be discarded:"),'<div class="color--bad-news weight--bold push--bottom">',a,'</div><div class="lego-media color--bad-news push--bottom" data-test-section="publish-warning"> <svg class="lego-icon lego-media__img"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#exclamation-16"></use> </svg> <div class="lego-media__body"> <p>',tr("Once discarded, changes cannot be recovered."),"</p> </div> </div>",tr("Are you sure you'd like to switch to Saved Pages?")].join(""),doSanitizeHTML:!1,confirmText:tr("Switch to Saved Pages and Discard Changes"),isWarning:!0})),d},confirmSwitchFromSavedViewsToURLTargeting:function(t,r,a){var i=[];t===p.TargetingTypes.SAVED_PAGES&&r.forEach((function(t){var r=c.default.evaluate(u.getters.currentLayerChangesForView(t)),o=u.fns.generateChangeCountsMessage(r);if(r.size){var l=['<div class="color--bad-news weight--bold push--bottom">',"Page: ",a.find((function(r){return r.get("id")===t})).get("name"),'<div class="style--italic">',o,"</div></div>"].join("");i.push(l)}}));var d=o.a.Deferred().resolve();return i.length&&(d=l.default.confirm({title:tr("Switching to URL Targeting will discard all changes on all pages"),message:[tr("The following changes will be discarded:"),i.join(""),'<div class="lego-media color--bad-news push--bottom" data-test-section="publish-warning"> <svg class="lego-icon lego-media__img"> <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#exclamation-16"></use> </svg> <div class="lego-media__body"> <p>',tr("Once discarded, changes cannot be recovered."),"</p> </div> </div>",tr("Are you sure you'd like to switch to URL Targeting?")].join(""),doSanitizeHTML:!1,confirmText:tr("Switch to URL Targeting and Discard Changes"),isWarning:!0})),d}};r.a=h},function(t,r,a){"use strict";var i=a(3),o=a(2),c=a(242),l=a(128),u=a(477);r.a={addAudienceId:function addAudienceId(t){i.default.dispatch(u.a.EXPERIENCE_MANAGER_ADD_AUDIENCE_ID,{audienceId:t})},clearOrderedAudienceIds:function clearOrderedAudienceIds(){i.default.dispatch(u.a.EXPERIENCE_MANAGER_SET_ORDERED_AUDIENCE_IDS,{orderedAudienceIds:Object(o.toImmutable)([])})},editAudience:function editAudience(t){c.actions.fetchOrCreateAudience(t).then(l.actions.showAudienceEditorDialog)},removeAudienceId:function removeAudienceId(t){i.default.dispatch(u.a.EXPERIENCE_MANAGER_REMOVE_AUDIENCE_ID,{audienceId:t})},setOrderedAudienceIds:function setOrderedAudienceIds(t){i.default.dispatch(u.a.EXPERIENCE_MANAGER_SET_ORDERED_AUDIENCE_IDS,{orderedAudienceIds:t})}}},function(t,r,a){"use strict";var i=a(3),o=a(423);r.a={clearLayerHoldback:function clearLayerHoldback(){i.default.dispatch(o.a.P13N_SET_LAYER_HOLDBACK,{holdback:null})},setLayerHoldback:function setLayerHoldback(t){i.default.dispatch(o.a.P13N_SET_LAYER_HOLDBACK,{holdback:t})},setLayerHoldbackInvalid:function setLayerHoldbackInvalid(t){i.default.dispatch(o.a.P13N_SET_LAYER_HOLDBACK_INVALID,{invalid:t})}}},function(t,r,a){"use strict";var i=a(3),o=a(23),c=a(34),l=a(472),u=a(289),d=a(618),p=a(364),m=function setErrors(t){i.default.dispatch(p.a.LAYER_DIALOG_SET_ERRORS,t)};r.a={setSelectedViewIds:function setSelectedViewIds(t){m({views:null}),i.default.dispatch(p.a.LAYER_DIALOG_SET_VIEW_IDS,{viewIds:t})},setUrlTargetingConfig:function setUrlTargetingConfig(t){m({urlTargetingConditions:null,urlTargetingApiName:null,urlTargetingUrl:null}),i.default.dispatch(p.a.LAYER_DIALOG_SET_URL_TARGETING_CONFIG,{urlTargetingConfig:t})},setTargetingType:function setTargetingType(t){m({urlTargetingConditions:null,urlTargetingApiName:null,urlTargetingUrl:null,views:null}),i.default.dispatch(p.a.LAYER_DIALOG_SET_TARGETING_TYPE,{targetingType:t})},setErrors:m,validate:function validate(t){var r={name:"",views:"",urlTargetingConditions:"",urlTargetingApiName:"",urlTargetingUrl:"",metrics:"",holdback:""};0===(t||i.default.evaluate(u.b.name)||"").trim().length&&(r.name=tr("Please name your campaign.")),i.default.evaluate(l.b.isLayerHoldbackInvalid)&&(r.holdback=tr("Please provide a valid holdback"));var a=i.default.evaluate(d.a.targetingType),p=i.default.evaluate(d.a.selectedViewIds),g=i.default.evaluate(d.a.urlTargetingConfig);(a===o.constants.TargetingTypes.SAVED_PAGES&&0===p.size&&(r.views=tr("Please select at least one page.")),a&&a===o.constants.TargetingTypes.URL)&&(g.get("edit_url")||(r.urlTargetingConditions=tr("Please provide a URL for targeting.")),g.get("activation_type")!==c.enums.activationModes.MANUAL||g.get("api_name")||(r.urlTargetingApiName=tr("Please provide an api name for manual targeting.")));return r.metrics=null,m(r),r},reset:function reset(){i.default.dispatch(p.a.LAYER_DIALOG_RESET)}}},function(t,r,a){"use strict";var i=a(17),o=a.n(i)()({GROUPS:null});r.a={TABLE_IDS:o}},function(t,r,a){"use strict";var i=a(44),o=a(14),c=[o.getters.experimentationGroups,function(t){return i.d.filterByArchivedStatus(t,i.c.status.ACTIVE)}];r.a={currentProjectActiveGroups:c,filteredAndSortedGroups:function filteredAndSortedGroups(t){return[o.getters.experimentationGroups,i.e.fieldFilter(t,"status"),i.e.stringFilter(t),function(t,r,a){var o=i.d.filterByArchivedStatus(t,r);return i.d.filterFieldsByString(o,a,["name","description"])}]}}},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(28),d=a(10),p=a(14),m=a(49),g=a(858),h=a(2135),y=a(1024);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=g.a.TABLE_IDS.GROUPS,_=Object(u.a)({isEmptyState:[p.getters.experimentationGroups,function(t){return 0===t.size}],groups:g.b.filteredAndSortedGroups(v),currentProjectId:p.getters.id,canCreateGroup:[p.getters.project,m.fns.canCreateGroup],canArchiveGroup:[p.getters.project,m.fns.canArchiveGroup]})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(GroupsPageComponent,t);var r=_createSuper(GroupsPageComponent);function GroupsPageComponent(){return _classCallCheck(this,GroupsPageComponent),r.apply(this,arguments)}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(GroupsPageComponent,[{key:"render",value:function render(){return l.a.createElement("div",{className:"stage__item__content--column","data-test-section":"web-groups-dashboard"},l.a.createElement(y.a,{activeTab:d.default.LayersTabs.GROUPS}),l.a.createElement("div",{className:"stage__item__content--column"},l.a.createElement("div",{className:"overflow-y--auto flex flex--1"},l.a.createElement(h.a,_extends({tableId:v,helpUrl:"https://help.optimizely.com/Build_Campaigns_and_Experiments/Mutually_exclusive_experiments_in_Optimizely_X_Web"},this.props)))))}}]),GroupsPageComponent}(l.a.Component)).componentId="GroupsPageComponent",i=o))||i;r.a=_},function(t,r,a){"use strict";var i=a(2),o=a(13),c=a(121),l=a(44),u=a(377),d=a(96),p=a(415),m=a.n(p),g=a(463),h=a.n(g),y=a(214),v=a(825),_=l.b.enums.tableIds.P13N_DATA_LAYER_EVENTS;function filterItem(t,r,a){var i=r.toLowerCase();return a.some((function(r){return-1!==(t.get(r)||"").toString().toLowerCase().indexOf(i)}))}var E=[o.default.views,o.default.events,l.b.getters.fieldFilter(_,"status"),l.b.getters.stringFilter(_),y.default.sortFn(_),m.a.getUngroupedList("user_events"),function(t,r,a,o,u,d){var p=a===l.c.status.ARCHIVED,m=d.toJS(),g=["name","id","api_name"],y=Object(i.toImmutable)({}).withMutations((function(a){r.forEach((function(t){var r=t.get("view_id");r&&!t.get("variation_specific")&&t.get("archived")===p&&filterItem(t,o,g)&&(a.has(r)?a.update(r,(function(r){return r.set("events",r.get("events").push(t.set("readable_category",h.a.resolveReadableName(m,t.get("category")))))})):a.set(r,Object(i.toImmutable)({view:null,events:[t.set("readable_category",h.a.resolveReadableName(m,t.get("category")))]})))})),t.forEach((function(t){var r=t.get("id");if(!t.get("single_use")&&t.get("archived")===p&&filterItem(t,o,g)){var l=Object(i.toImmutable)({name:"Visited ".concat(t.get("name")," page"),readable_category:t.get("category"),experiment_count:t.get("experiment_count_pageview",0),event_type:c.a.eventTypes.PAGE_VIEW,api_name:t.get("api_name"),id:t.get("id")});a.has(r)?a.update(r,(function(r){return r.set("view",t).set("events",r.get("events").push(l))})):a.set(r,Object(i.toImmutable)({view:t,events:[l]}))}else a.has(r)&&a.update(r,(function(r){return r.set("view",t)}))}))}));return Array.from(y.values())}],b=[u.default.entityCache,o.default.id,function(t,r){return Object(i.toImmutable)({}).withMutations((function(a){t.toList().filter((function(t){return t.get("plugin_type")===d.default.plugin_type.EVENT&&t.get("project_id")===r})).forEach((function(t){a.set(t.get("plugin_id"),t.get("name"))}))}))}];r.a={filteredAndSortedCustomEvents:function filteredAndSortedCustomEvents(t){return[v.a.customEvents,l.b.getters.fieldFilter(t,"status"),l.b.getters.stringFilter(t),y.default.sortFn(t),function(t,r,a,i){var o=r===l.c.status.ARCHIVED,c=["name","id","api_name"],u=t.filter((function(t){return t.get("archived")===o&&filterItem(t,a,c)}));return i&&(u=u.sort(i)),u}]},hasFilteredPageEvents:function hasFilteredPageEvents(t){return[l.b.getters.stringFilter(t),o.default.views,o.default.events,function(t,r,a){var i=l.b.fns.filterFieldsByString(r,t,["name","id","api_name"]),o=l.b.fns.filterFieldsByString(a,t,["name","id","api_name"]).filter((function(t){return"custom"!==t.get("event_type")})),c=!1;t&&(c=-1!==tr("Visited page").toLowerCase().indexOf(t.toLowerCase()));return c||i.size>0||o.size>0}]},pageEventsForDashboard:E,pluginEventTypeToName:b}},function(t,r,a){"use strict";var i=a(3),o=a(23),c=a(70);r.a={fetchProjectsAndLayers:function fetchProjectsAndLayers(){return new Promise((function(t,r){c.actions.fetchAll({project_status:c.enums.project_status.ACTIVE}).then((function(){var a=[];i.default.evaluate(c.getters.entityCache).forEach((function(t){a.push(o.actions.fetchAllByStatus({projectId:t.get("id"),byPage:!1,archived:!1}))})),Promise.all(a).then((function(){t()}),r)}),r)}))}}},,function(t,r){r.isTemporaryOptimizelyEmail=function(t){return function isTemporaryOptimizelyEmail(t){return/^bdd\+test[\d\.]+@optimizely.com$/.test(t)||/^forgot_password\+[\d\.]+@optimizely.com$/.test(t)||/^fullstacke2e\-test\-[\d\.\w]+@optimizely.com$/.test(t)||/^new_user\+[\d\.]+@optimizely.com$/.test(t)||/^selenium_[\d\.]+@optimizely.com$/.test(t)||/^test-[\w]{7}@optimizely.com$/.test(t)}(t)}},function(t,r){t.exports={currentState:[["browserHistory","historyStack"],function(t){return t.last()}],previousState:[["browserHistory","historyStack"],function(t){return t.size>1?t.get(t.size-2):t.last()}]}},function(t,r,a){var i=a(12),o={matchUrl:function(t,r,a){switch(t=o.stripVarFromQuery(t),a){case"exact":return(t=o.stripUrl(t))===o.stripUrl(r);case"regex":try{return Boolean(t.match(r))}catch(t){return!1}case"simple":return(t=o.simplifyUrl(t))===(r=o.simplifyUrl(r));case"substring":return t=o.stripUrl(t,!0),r=o.stripUrl(r,!0),-1!==t.indexOf(r);default:return!1}},removeParameters:function(t){var r=t.indexOf("?");return-1!==r&&(t=t.substring(0,r)),-1!==(r=t.indexOf("#"))&&(t=t.substring(0,r)),t},simplifyUrl:function(t){return o.stripUrl(o.removeParameters(t))},stripUrl:function(t,r){t=(t=t.replace("/?","?")).toLowerCase().replace(/[/&?]+$/,"");var a=o.REQUIRED_PREFIXES_TO_STRIP.slice(0);r||(a=a.concat(o.OPTIONAL_PREFIXES_TO_STRIP));for(var i=a.length,c=0;c<i;c++){var l=a[c],u=new RegExp("^".concat(l));t=t.replace(u,"")}return t},stripVarFromQuery:function(t){var r=t.split("?");if(r[1]){var a=r[1].split("&"),c=[];return i.each(a,(function(){0!==this.indexOf(o.QUERY_PREFIX)&&c.push(this)})),r[1]=c.join("&"),r.join("?")}return t},REQUIRED_PREFIXES_TO_STRIP:["https?://.*?.?optimizelyedit.(com|test)/","https?://.*.?optimizelypreview.(com|test)/","https?://(edit|preview)(-hrd|-devel)?.optimizely.(com|test)/","https?://.*?.?optimizelyedit(-hrd)?.appspot.com/","https?://"],OPTIONAL_PREFIXES_TO_STRIP:["www."],QUERY_PREFIX:"optimizely_"};t.exports=o},function(t,r,a){"use strict";var i=a(116),o=i.m,c=i.c;r.a={withScope:o,captureException:c}},,,function(t,r,a){"use strict";var i,o=a(12),c=a.n(o),l=a(31),u=a(3),d=a(5),p=a(43),m=a(169),g=a(60),h=a(2249),y=a(842),v=a(529),_=a(980),E=function setIsDialogVisible(t){u.default.dispatch(v.a.SET_IS_DIALOG_VISIBLE,{visible:t})};r.a=i={setIsFirstSignin:function setIsFirstSignin(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];u.default.dispatch(v.a.SET_IS_FIRST_SIGNIN,{isFirstSignin:t})},setIsDialogVisible:E,performInitialCompletionCheck:function performInitialCompletionCheck(){var t=u.default.evaluate(p.getters.email);return t&&-1===window.location.href.indexOf("share_token")?m.a.fetch(t).then((function(t){var r=!!t&&!!t.first_name&&t.first_name.length>0&&!!t.last_name&&t.last_name.length>0&&!!t.job_role&&!!t.job_department&&!!t.communication_preference&&(!Object(l.isFeatureEnabled)("require_country_on_sign_in")||!!t.country&&Object.keys(g.COMMUNICATION_VALUES).map((function(t){return g.COMMUNICATION_VALUES[t]})).indexOf(t.communication_preference)>=0);return u.default.dispatch(v.a.CHECK_PROFILE_DETAILS,{requiredInfoWasSupplied:r}),r})):c.a.Deferred().resolve()},showCollaboratorDetailsDialog:function showCollaboratorDetailsDialog(t){E(!0);var r=c.a.Deferred(),a={props:{onResolve:function onResolve(){r.resolve()},includeWrapper:t}};return d.default.showReactDialog(h.a,a,{fullScreen:!0,noEscape:!0,dismissOnBack:!1}),r},maybeShowCollaboratorDetailsDialog:function maybeShowCollaboratorDetailsDialog(){u.default.evaluate(m.b.currentUser)&&u.default.evaluate(m.b.currentUser).get("email_verified")&&i.performInitialCompletionCheck().then((function(){u.default.evaluate(_.a.requiredInfoWasSupplied)||y.a.fetchAll().then((function(){i.showCollaboratorDetailsDialog()}))}))}}},function(t,r,a){"use strict";a.d(r,"a",(function(){return i})),a.d(r,"b",(function(){return o}));var i=tr("Change password..."),o=tr("Single sign-on enabled")},,,function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(2330),l=a.n(c),u=a(982),d=a.n(u),p=a(1056);r.a={Missing:function Missing(){return o.a.createElement("div",{className:"flex--dead-center","data-test-section":"interest-group-card-empty-state-missing"},o.a.createElement("div",{className:"text--center"},o.a.createElement("img",{className:"soft-double",alt:"",src:l.a}),o.a.createElement("h5",{className:"soft--bottom push-half--left"},"Eligible Visitors Unavailable"),o.a.createElement("p",{className:"width--300"},"After saving this audience, we'll begin processing these eligible visitors. This typically takes up to 24 hours. Once processed, you'll be able to refine this condition, and this audience will begin targeting visitors. ",o.a.createElement(p.a,null))))},Processing:function Processing(){return o.a.createElement("div",{className:"flex--dead-center","data-test-section":"interest-group-card-empty-state-processing"},o.a.createElement("div",{className:"text--center"},o.a.createElement("img",{className:"soft-double",alt:"",src:d.a}),o.a.createElement("h5",{className:"soft--bottom push-half--left"},"We're processing these eligible visitors."),o.a.createElement("p",{className:"micro width--300"},"Hang tight. This typically takes up to 24 hours. Once processed, you'll be able to refine this condition, and this audience will begin targeting visitors. ",o.a.createElement(p.a,null))))}}},,,function(t,r,a){"use strict";var i=a(31),o=a(35),c=a(261),l=a.n(c),u=a(310),d=a(117),p=a(129),m=a(113);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}r.a={fetchLayerExperimentIfValidAndSetLayerIdAsCurrent:function fetchLayerExperimentIfValidAndSetLayerIdAsCurrent(t,r){(function fetchLayerExperimentIfValid(t){return new Promise((function(r,a){p.default.fetch(t).then((function(t){t?r(t):a(new Error("No LayerExperiment found for ID"))})).fail((function(){return a(new Error("No LayerExperiment found for ID"))}))}))})(parseInt(t,10)).then((function(t){var a=t.layer_id;return l.a.setCurrentLayerId(a),d.default.fetch(a).then(r)})).catch((function(){return o.default.redirect("/v2")}))},fetchRequiredDataForWebAbManagerChangeHistory:function fetchRequiredDataForWebAbManagerChangeHistory(t,r){var a=parseInt(t.params.proj_id,10),c=parseInt(t.params.experiment_id,10),l=Object(i.getFeatureVariableInteger)("change_history_improvements","max_api_filters")||m.a;Promise.all([p.default.fetch(c),u.a.fetchPage({$limit:l,project_id:a})]).then((function(a){var i,o=_slicedToArray(a,2),c=o[0],l=o[1];t.fetchedData=(_defineProperty(i={},m.b.group.entityType,[].concat(l)),_defineProperty(i,m.b.experiment.entityType,[].concat(c)),i),r()})).catch((function(){return o.default.redirect("/v2")}))}}},function(t,r,a){"use strict";var i=a(36),o=a(960);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a);r.a=_extends({},c)},function(t,r,a){"use strict";var i=a(590),o=a(424),c=a(458),l=a(203),u=a(1261),d=a(793);r.a={actions:i.a,actionTypes:o.a,entityDef:c.a,enums:l.a,fns:u.a,getters:d.a}},,function(t,r){t.exports="/dist/static/img/p13n/campaign-list-empty-state-6950a20b3f2555fbed59854ba70003db.svg"},function(t,r){t.exports="/dist/static/img/p13n/testing-empty-state-fb71ad6a49e678a2dbb38fdc74ef9d7a.svg"},,function(t,r,a){"use strict";var i=a(1275);a.d(r,"a",(function(){return i.a}));var o=a(583),c=a(1277);a.d(r,"b",(function(){return c.a}));i.a,o.a,c.a},,,,,function(t,r,a){var i=a(38),o=a(14),c=a(22),l=a(24).default;r.canPublishLayer=[o.getters.project,c.canPublishLayer.bind(c)],r.disablePublishButton=function(t){return[o.getters.isUsingV2Snippet,r.canPublishLayer,i.getters.layer,t,i.getters.hasLayerMetrics,i.getters.allExperimentsPointingToLayer,function(t,r,a,i,o,c){return!t||!r||a&&a.get("archived")||!i||!o||!c.size}]},r.layersHomeUrl=[o.getters.id,function(t){return l.xWebHome(t)}]},function(t,r,a){"use strict";var i=a(31),o=a(35),c=a(261),l=a.n(c),u=a(310),d=a(117),p=a(129),m=a(113);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}r.a={fetchLayerAndSetAsCurrent:function fetchLayerAndSetAsCurrent(t,r){(function fetchLayerIfValid(t){return new Promise((function(r,a){d.default.fetch(t).then((function(t){t?r(t):a(new Error("No Layer found for ID"))})).fail((function(){return a(new Error("No Layer found for ID"))}))}))})(parseInt(t,10)).then((function(t){var a=t.id;l.a.setCurrentLayerId(a),r()})).catch((function(){return o.default.redirect("/v2")}))},fetchRequiredDataForWebP13nManagerChangeHistory:function fetchRequiredDataForWebP13nManagerChangeHistory(t,r){var a=parseInt(t.params.proj_id,10),c=parseInt(t.params.layer_id,10),l=Object(i.getFeatureVariableInteger)("change_history_improvements","max_api_filters")||m.a;Promise.all([u.a.fetchPage({$limit:l,project_id:a}),d.default.fetch(c),p.default.fetchPage({$limit:l,layer_id:c,project_id:a})]).then((function(a){var i,o=_slicedToArray(a,3),c=o[0],l=o[1],u=o[2];t.fetchedData=(_defineProperty(i={},m.b.group.entityType,[].concat(c)),_defineProperty(i,m.b.campaign.entityType,[].concat(l)),_defineProperty(i,m.b.experiment.entityType,[].concat(u)),i),r()})).catch((function(){return o.default.redirect("/v2")}))}}},function(t,r,a){"use strict";var i=a(31),o=a(3),c=a(5),l=a(126),u=a(95),d=a(262),p=a(13),m=a(198),g=a(459),h=a(317),y=a(21),v=a(129),_=a(396),E=a(502),b=a(6),T=a(407),S=a(2551).a;r.a={routingSetup:function routingSetup(t,r){var a=o.default.evaluate(p.default.id),S={project_id:a};v.default.fetchAll({project_id:S.project_id,layer_policy:y.default.policy.SINGLE_EXPERIMENT},{skipEvaluatingCachedData:!0});var C=m.a.fetchAllByArchivedState(a);Object(l.g)(h.a.TABLE_ID,C),Object(i.isFeatureEnabled)(u.b.FEATURES.audience_combo_reskin.FEATURE_KEY)||c.default.loadingWhen("fetchAudiences",d.a.fetchAll(S)),b.a.fetchJiraLinkedIssuesData("feature"),Promise.all([C.firstPage,_.a.fetchAll(S)]).then((function(){T.a.trackCachedBlockingApiCallsForRoute([g.a.entity,E.a.entity]),r()}))},component:S}},,,function(t,r,a){"use strict";var i=a(1295);a.d(r,"a",(function(){return i.a}));var o=a(598),c=a(1296);a.d(r,"b",(function(){return c.a}));i.a,o.a,c.a},function(t,r,a){"use strict";a.d(r,"a",(function(){return v}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(59),d=a.n(u),p=a(11),m=a(26),g=a(222),h=a(223),y=a(65);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(EventDistributionsSection,t);var r=_createSuper(EventDistributionsSection);function EventDistributionsSection(){var t;_classCallCheck(this,EventDistributionsSection);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(t=r.call.apply(r,[this].concat(i))).renderDistributionSamples=function(){var r=t.props.eventDistributionInfo;return o.a.createElement("div",{"data-test-section":r.testSection},o.a.createElement("h3",{className:"push--bottom"},r.label),o.a.createElement("div",{className:"milli push--bottom","data-test-section":"".concat(r.testSection,"-description")},r.description),o.a.createElement("div",{className:"push--sides"},o.a.createElement(p.a,null,o.a.createElement(p.a.THead,null,o.a.createElement(p.a.TR,null,o.a.createElement(p.a.TH,{colSpan:2},"ItemID"),o.a.createElement(p.a.TH,{isNumerical:!0},"In Catalog"),o.a.createElement(p.a.TH,{isNumerical:!0},"Event Total"),o.a.createElement(p.a.TH,{isNumerical:!0},"Last Event Received"))),o.a.createElement(p.a.TBody,null,t.renderDistributionSampleRows()))))},t.renderDistributionSampleRows=function(){var r=t.props,a=r.eventDistributionInfo;return r.selectedDistributionSample.map((function(t){var r=t.get("item_id"),i=o.a.createElement(m.a,{color:y.greenDark,name:"circle-check",size:"medium"});t.get("active")||(i=o.a.createElement(g.a,{behavior:"hover",horizontalAttachment:"left",horizontalTargetAttachment:"right",overlay:o.a.createElement(h.a,null,"This item was removed from your catalog because we couldn't verify its URL. You should verify whether or not this was intended."),verticalAttachment:"middle",verticalTargetAttachment:"middle"},o.a.createElement(m.a,{color:y.yellowBase,size:"small",name:"circle-exclamation"})));var c=Number(t.get("num_events")).toLocaleString(),l=d()(t.get("recency")).format("MM/DD/YYYY");return o.a.createElement(o.a.Fragment,{key:r},o.a.createElement(p.a.TR,{backgroundColor:"faint",borderStyle:"ends",testSection:"".concat(a.testSection,"-row-").concat(r)},o.a.createElement(p.a.TD,{colSpan:2},o.a.createElement("span",{className:"word-break--word"},r)),o.a.createElement(p.a.TD,{isNumerical:!0},o.a.createElement("span",{className:"push-double--right"},i)),o.a.createElement(p.a.TD,{isNumerical:!0},c),o.a.createElement(p.a.TD,{isNumerical:!0},l)))}))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(EventDistributionsSection,[{key:"render",value:function render(){return o.a.createElement("div",{className:"push-quad--bottom"},this.renderDistributionSamples())}}]),EventDistributionsSection}(o.a.Component);v.propTypes={eventDistributionInfo:l.a.shape({description:l.a.string.isRequired,label:l.a.string.isRequired,testSection:l.a.string.isRequired}).isRequired,selectedDistributionSample:l.a.shape({active:l.a.bool,item_id:l.a.number,num_events:l.a.number,recency:l.a.string}).isRequired}},function(t,r,a){"use strict";a.d(r,"a",(function(){return PreviewerTable}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(11),d=a(2);function PreviewerTable(t){var r=t.currentItemRecommendations,a=t.currentlySelectedItemID,i=t.tableLabel,c=t.testSection,l=!!r.find((function(t){return t.price})),p=!!r.find((function(t){return t.title}));return o.a.createElement("div",{className:"push-quad--bottom"},!!a&&o.a.createElement("p",{className:"push-double--bottom zeta","data-test-section":c},i),!!a&&r.length>0&&o.a.createElement(u.a,null,o.a.createElement(u.a.THead,null,o.a.createElement(u.a.TR,{key:a},o.a.createElement(u.a.TH,null,"ID"),o.a.createElement(u.a.TH,null,"Strength"),p&&o.a.createElement(u.a.TH,{width:"40%"},"Title"),l&&o.a.createElement(u.a.TH,{width:"12%"},"Price"),o.a.createElement(u.a.TH,null,"Image"))),o.a.createElement(u.a.TBody,null,Object(d.toImmutable)(r).map((function(t){return o.a.createElement(PreviewerTableRow,{key:t.get("id"),recommendation:t,shouldShowPrice:l,shouldShowTitle:p})})))))}function PreviewerTableRow(t){var r=t.recommendation,a=t.shouldShowPrice,i=t.shouldShowTitle,c=r.get("id"),l=r.get("imageURL"),d=r.get("price")||"Unavailable",p=r.get("strength"),m=r.get("title")||"Unavailable";return o.a.createElement(u.a.TR,{borderStyle:"ends",backgroundColor:"faint"},o.a.createElement(u.a.TD,null,o.a.createElement("span",{className:"word-break--word"},c)),o.a.createElement(u.a.TD,null,p),i&&o.a.createElement(u.a.TD,null,o.a.createElement("span",{className:"word-break--word"},m)),a&&o.a.createElement(u.a.TD,null,d),o.a.createElement(u.a.TD,null,l?o.a.createElement("img",{alt:"",className:"anchor--middle",height:"150",src:l,width:"150"}):"Unavailable"))}PreviewerTable.propTypes={currentItemRecommendations:l.a.arrayOf(l.a.shape({id:l.a.string,imageURL:l.a.string,price:l.a.oneOfType([l.a.number,l.a.string]),strength:l.a.oneOfType([l.a.number,l.a.string]),title:l.a.string})),currentlySelectedItemID:l.a.string,tableLabel:l.a.string,testSection:l.a.string},PreviewerTableRow.propTypes={recommendation:l.a.instanceOf(d.default.Map),shouldShowPrice:l.a.bool,shouldShowTitle:l.a.bool}},function(t,r,a){"use strict";var i,o,c,l=a(0),u=a.n(l),d=a(1),p=a.n(d),m=a(19),g=a(218),h=a(52),y=a(154),v=a(71),_=a(5),E=a(28),b=a(2),T=a(54),S=a(13),C=a(524),I=a(257),A=a(39),O=a(2616),P=a(2617),R=a(2618),w=a(2619),N=a(1018),L=a(137),x=a(163),D=a(46),k=a(143),j=a(147);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var M=function getFilteringRulesAsString(t){return t?JSON.stringify(t,null,"  "):""},U=function safeTrim(t){return(t||"").trim()},V=b.default.Map(),B=b.default.Map(),G=(i=Object(E.a)({canManageRecommendations:A.default.canManageRecommendations,catalogs:S.default.catalogs,currentProjectTags:j.a.availableTags,parentCatalog:j.a.catalog,recommender:j.a.currentlyEditingRecommender}),Object(v.withTrack)(o=i(((c=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(RecommenderDialog,t);var r=_createSuper(RecommenderDialog);function RecommenderDialog(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,RecommenderDialog),(a=r.call(this,t)).areFilteringRulesNested=function(){var t=a.props.recommender.getIn(["filtering_rules","rules"]);return!!t&&t.filter((function(t){var r=t.getIn(["condition","conditions"]);return!!r&&r.filter((function(t){return t.get("conditions")})).size>0})).size>0},a.countConditions=function(){var t=a.props.recommender.getIn(["filtering_rules","rules"]);return t?t.map((function(t){var r=t.get("condition");return r?function counter(t){return t&&t.get("conditions")?t.get("conditions").map((function(t){return counter(t)})).reduce((function(t,r){return t+r})):t?1:0}(r):0})).reduce((function(t,r){return t+r})):0},a.handleUpdateFilteringRules=function(t){a.updateFilteringRulesComponentState(M(t)),a.updateRecommenderProperty("filtering_rules",t)},a.parseFilteringRulesComponentState=function(){var t=a.state.filteringRules;if(""===t)return a.updateRecommenderProperty("filtering_rules",null),void a.setState({areFilteringRulesValid:!0,filteringRulesError:""});try{var r=JSON.parse(t);a.updateRecommenderProperty("filtering_rules",r),a.setState({areFilteringRulesValid:!0,filteringRulesError:""})}catch(t){a.setState({areFilteringRulesValid:!1,filteringRulesError:t.message||"Failed to parse filtering rules"})}},a.onAlgorithmChange=function(t){var r=a.props,i=r.recommender,o=r.track,c=i.get("algorithm");t!==c&&(c?_.default.confirm(L.a.AlgorithmChange):Promise.resolve()).then((function(){a.updateRecommenderProperty("algorithm",t),a.updateRecommenderProperty("specifics",V),t&&o("Recommendations Recommender Algorithm Selected",{algorithm:t})}))},a.onCatalogChange=function(t){var r=a.props,i=r.catalogs,o=r.recommender,c=r.track,l=i.get(t)||B,u=o.get("recommender_service_id");t!==u&&(u?_.default.confirm(L.a.CatalogChange):Promise.resolve()).then((function(){x.a.setCatalog(l),a.setState({areFilteringRulesValid:!0,filteringRules:M(null),filteringRulesError:""}),a.updateRecommenderProperty("filtering_rules",null),a.updateRecommenderProperty("recommender_service_id",t),a.updateRecommenderProperty("specifics",V),t&&c("Recommendations Recommender Catalog Selected",{catalogID:t})}))},a.updateFilteringRulesComponentState=function(t){var r=U(t)||null;a.setState({areFilteringRulesValid:!0,filteringRules:r})},a.updateRecommenderProperty=function(t,r){"name"===t&&a.setState({isNameValid:!0}),"filtering_rules"===t&&a.setState({areFilteringRulesValid:!0}),x.a.updateCurrentlyEditingRecommenderProperty(t,r)},a.validateName=function(){var t=a.props.recommender,r=U(t.get("name")).length,i=r>0&&r<1500;return a.setState({isNameValid:i}),i},a.areEventsValid=function(){var t=a.props.recommender,r=t.get("algorithm"),i=I.a.AlgorithmEventInfo[r].id,o=t.getIn(["specifics",i]);return o&&o.size>0},a.canSave=function(){var t=a.props.recommender,r=a.state.areFilteringRulesValid,i=!!t.get("recommender_service_id"),o=!!t.get("algorithm");return a.validateName()&&i&&o&&a.areEventsValid()&&r},a.saveAction=function(){if(a.canSave()){var t=a.props,r=t.recommender,i=t.track,o=a.isCreating?"Unable to create recommender.":"Unable to save recommender.",c=a.isCreating?"Recommender created successfully.":"Recommender saved successfully.",l={algorithm:r.get("algorithm"),description:r.get("description"),filtering_rules:r.get("filtering_rules"),id:r.get("id"),name:r.get("name"),recommender_service_id:r.get("recommender_service_id"),specifics:r.get("specifics")};return a.setState({isLoading:!0}),C.a.save(l).then((function(t){var o={algorithm:t.algorithm,catalogID:t.recommender_service_id,recommenderID:t.id,specifics:t.specifics};a.isCreating?i("Recommendations Recommender Created",o):i("Recommendations Recommender Edited",o),r.get("filtering_rules")&&i("Recommendations Filter Added",{numConditions:a.countConditions()}),_.default.showNotification({message:c,type:"success"}),_.default.hideDialog()})).fail((function(t){t.responseJSON.error_details.find((function(t){return"filtering_rules"===t.field}))&&a.setState({areFilteringRulesValid:!1,filteringRulesError:"Invalid Filtering Rules."}),_.default.showNotification({message:o,type:"error"}),t.optlyErrorHandled=!0})).always((function(){return a.setState({isLoading:!1})}))}},a.switchFilteringRulesMode=function(){var t=a.state.useFilteringRulesCodeMode;a.setState({useFilteringRulesCodeMode:!t})},a.renderFilteringRulesSection=function(){var t=a.props.recommender,r=!!t.get("recommender_service_id"),i=!!t.get("algorithm");return u.a.createElement("div",{className:"push-quad--bottom","data-test-section":"recommender-filtering-rules"},u.a.createElement("h4",null,"Filters"),u.a.createElement("div",{className:"push-double--bottom","data-test-section":"filtering-rules-help-text"},"Add filtering conditions to customize the output of this recommender. ",u.a.createElement(L.c,{helpLink:k.a.getHelpCopy("filtering_rules_link"),testSection:"recommender-dialog-filters"})),r&&i?a.renderFilters():u.a.createElement("span",{className:"style--italic","data-test-section":"filtering-rules-empty-state-help-text"},"Select a catalog and an algorithm to use filters."))},a.renderFilters=function(){var t=a.props,r=t.currentProjectTags,i=t.recommender,o=a.state,c=o.areFilteringRulesValid,l=o.filteringRules,d=o.filteringRulesError,p=o.useFilteringRulesCodeMode,h=a.areFilteringRulesNested(),y=i.getIn(["filtering_rules","default_policy"]),v=i.getIn(["filtering_rules","rules"]);return u.a.createElement(u.a.Fragment,null,p?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"push--bottom flex flex-justified--end"},u.a.createElement(m.a,{key:"advanced-0",style:"outline",size:"small",onClick:a.switchFilteringRulesMode,isDisabled:h,testSection:"filters-switch-to-builder"},"Filtering rules builder")),u.a.createElement(g.a,{className:"condition-code-editor flex--1 min-height--200 width--1-1 border--all",numRows:20,onBlur:a.parseFilteringRulesComponentState,onChange:function onChange(t){return a.updateFilteringRulesComponentState(t.target.value)},testSection:"edit-filtering-rules-textarea",value:l})):u.a.createElement(w.a,{currentProjectTags:r,defaultPolicy:y,rules:v,handleUpdateFilteringRules:a.handleUpdateFilteringRules,switchFilteringRulesMode:a.switchFilteringRulesMode}),!c&&a.renderErrorMessage(d,"edit-filtering-rules-errors"))},a.renderSingleEventPicker=function(t,r){return u.a.createElement(R.a,{areEventsValid:r,description:t.description,id:t.id,key:t.id,label:t.label,placeholder:t.placeholder,renderErrorMessage:a.renderErrorMessage,testSection:t.testSection})},a.renderEventPickersSections=function(){var t=a.props.recommender,r=t.get("algorithm"),i=t.get("recommender_service_id");if(!r||!i)return u.a.createElement("div",{className:"push-triple--bottom","data-test-section":"recommender-event-pickers-empty-state"},u.a.createElement("h5",null,"Catalog Events"),u.a.createElement("div",{className:"push--bottom","data-test-section":"recommender-event-pickers-empty-state-description"},"Choose the catalog events you want to use for this recommender. ",u.a.createElement(L.c,{helpLink:k.a.getHelpCopy("setup_recommender_link"),testSection:"recommender-dialog-catalog-events"})),u.a.createElement(h.a,{isDisabled:!0,isFilter:!0,placeholder:"Search and add events to this catalog",testSection:"recommender-event-pickers-empty-state-input",type:"search"}));var o=r===I.a.Algorithm.CO_BROWSE||r===I.a.Algorithm.COLLABORATIVE_FILTERING,c=I.a.AlgorithmEventInfo[r],l=I.a.AlgorithmEventInfo.BOOST,d=a.renderSingleEventPicker(c,a.areEventsValid()),p=a.renderSingleEventPicker(l,!0);return u.a.createElement("div",{className:"push-triple--bottom","data-test-section":"recommender-event-pickers"},d,o&&p)},a.renderErrorMessage=function(t,r){return u.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":r},t)};var i=t.recommender,o=t.track;return a.state={areFilteringRulesValid:!0,filteringRules:M(i.get("filtering_rules")),filteringRulesError:"",isLoading:!1,isNameValid:!0,useFilteringRulesCodeMode:a.areFilteringRulesNested()},a.isCreating=!i.get("id"),a.isCreating?o("Recommendations Create New Recommender Dialog Opened"):o("Recommendations Edit Existing Recommender Dialog Opened"),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(RecommenderDialog,[{key:"render",value:function render(){var t=this.props,r=t.canManageRecommendations,a=t.catalogs,i=t.parentCatalog,o=t.recommender,c=this.state,l=c.isLoading,d=c.isNameValid,p=o.get("recommender_service_id"),g=this.isCreating?"New Recommender":"Edit Recommender",h=this.isCreating?"Create Recommender":"Save Recommender";return u.a.createElement(y.a,{footerButtonList:[u.a.createElement(m.a,{key:"cancel",style:"plain",onClick:_.default.hideDialog,testSection:"recommender-dialog-cancel-button"},"Cancel"),u.a.createElement(m.a,{isDisabled:!r,key:"save",style:"highlight",testSection:"recommender-dialog-create-save-button",onClick:this.saveAction},h)],onClose:_.default.hideDialog,subtitle:u.a.createElement(u.a.Fragment,null,"Recommenders are used to calculate recommendations from your catalog items. ",u.a.createElement(L.c,{helpLink:k.a.getHelpCopy("setup_recommender_link"),testSection:"recommender-dialog-subtitle"})),title:g,warningContent:!r&&D.d.EDIT_WARNING_TEXTS.RECOMMENDER.message,warningTestSection:D.d.EDIT_WARNING_TEXTS.RECOMMENDER.testSection},u.a.createElement(T.default,{isLoading:l},u.a.createElement(N.a,{entity:o,entityInfo:D.d.EntityInfo.RECOMMENDER,renderErrorMessage:this.renderErrorMessage,showValidationError:!d,updateEntityProperty:this.updateRecommenderProperty}),u.a.createElement(P.a,{canChangeCatalog:this.isCreating,catalogs:a,currentlySelectedCatalogID:p?i.get("id"):B.get("id"),defaultCatalog:B,handleCatalogChange:this.onCatalogChange}),u.a.createElement(O.a,{handleAlgorithmChange:this.onAlgorithmChange,recommender:o}),this.renderEventPickersSections(),this.renderFilteringRulesSection()))}}]),RecommenderDialog}(u.a.Component)).componentId="RecommenderDialog",c.propTypes={canManageRecommendations:p.a.bool.isRequired,catalogs:p.a.instanceOf(b.default.Map).isRequired,currentProjectTags:p.a.instanceOf(b.default.List).isRequired,parentCatalog:p.a.instanceOf(b.default.Map).isRequired,recommender:p.a.instanceOf(b.default.Map).isRequired,track:p.a.func},c.defaultProps={track:function track(){}},o=c))||o)||o);r.a=G},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(52),d=function PageInformation(t){var r=t.pageName,a=t.onUpdate,i=t.error;return o.a.createElement("div",{className:"soft-double--bottom"},o.a.createElement(u.a,{id:"name",type:"text",name:"name",note:i,label:"Name",isRequired:!0,value:r||"",displayError:!!i,placeholder:"Page name",onChange:function onChangePageName(t){a("name",t.target.value)},testSection:"configure-view-smart-textfield-input-name"}))};d.propTypes={error:l.a.string,pageName:l.a.string,onUpdate:l.a.func.isRequired},r.a=d},function(t,r,a){"use strict";var i=a(4),o=a(1),c=a.n(o),l=a(0),u=a.n(l),d=a(1003),p=a(34),m=a(170),g=a.n(m),h=a(704),y=function ElementPresent(t){var r=t.errors[0];return u.a.createElement("div",{className:"border--all","data-test-section":"condition-card-element-present"},u.a.createElement(h.a,{showMultipleURLsMessage:!1,onClose:Object(i.partial)(t.onConditionChange,t.condition),title:"Element is present on page"}),u.a.createElement("div",{className:"soft","data-test-section":"element-present-card-conditions"},u.a.createElement(d.a,{name:"edit_url",label:"CSS Selector",isRequired:!0,placeholder:"Enter CSS selector here",value:t.condition.conditions[0].value,type:"text",displayError:!!r,onChange:function onChangeCSSSelector(r){var a=Object(i.cloneDeep)(t.errors);a[0]=null,t.updateErrors(a),t.condition.conditions[0].value=r.target.value,t.onConditionChange()},testSection:"element-present-css-selector"}),r?u.a.createElement("div",{className:"color--bad-news micro push-half--top","data-test-section":"element-present-error"},r):u.a.createElement("div",{className:"micro muted push-half--top"},"Use multiple selectors by separating each with a comma.")))};y.propTypes={condition:c.a.instanceOf(g.a).isRequired,onConditionChange:c.a.func.isRequired,updateErrors:c.a.func.isRequired,errors:c.a.arrayOf(c.a.string)},y.defaultProps={errors:[]},y.matchType=p.enums.conditionMatchTypes.ELEMENT_PRESENT,r.a=y},function(t,r,a){"use strict";var i=a(4),o=a(1),c=a.n(o),l=a(0),u=a.n(l),d=a(79),p=a(34),m=a(170),g=a.n(m),h=a(373),y=a(704),v=function JavascriptCondition(t){var r=t.condition,a=t.errors,o=t.updateErrors,c=t.onConditionChange,l=a[0];return u.a.createElement("div",{className:"border--all","data-test-section":"condition-card-javascript-condition"},u.a.createElement(y.a,{showMultipleURLsMessage:!1,onClose:Object(i.partial)(c,r),title:"JavaScript Condition"}),u.a.createElement("div",{className:"soft"},u.a.createElement(d.a,{isRequired:!0},"Custom Code"),u.a.createElement(h.a,{onChange:function onChangeJSCode(t){var l=Object(i.cloneDeep)(a);l[0]=null,o(l),r.conditions[0].value=t,c()},testSection:"javascript-condition-card-conditions",value:r.conditions[0].value,options:{lint:{esversion:6}}}),l&&u.a.createElement("div",{className:"oui-form-note color--bad-news","data-test-section":"js-condition-error"},l)))};v.propTypes={condition:c.a.instanceOf(g.a).isRequired,onConditionChange:c.a.func.isRequired,updateErrors:c.a.func.isRequired,errors:c.a.arrayOf(c.a.string)},v.defaultProps={errors:[]},v.matchType=p.enums.conditionMatchTypes.CUSTOM_CODE,r.a=v},function(t,r,a){"use strict";var i=a(4),o=a(40),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(2),m=a(34),g=a(170),h=a.n(g),y=a(1021),v=a.n(y),_=a(155),E=a(704),b=[{label:tr("matches"),value:!1},{label:tr("does not match"),value:!0}],T=function UrlMatch(t){var r=function addConditionRow(r){var a=Object(i.cloneDeep)(t.errors);a.splice(r+1,0,null),t.updateErrors(a),t.condition.conditions.splice(r+1,0,Object(i.cloneDeep)(m.constants.DEFAULT_URL_CONDITION)),t.onConditionChange()},a=function removeConditionRow(r){var a=Object(i.cloneDeep)(t.errors);a.splice(r,1),t.updateErrors(a),t.condition.conditions.splice(r,1),t.onConditionChange()},c=function onChangeConditionValue(r,a){var o=Object(i.cloneDeep)(t.errors);o[r]=null,t.updateErrors(o),t.condition.conditions[r].value=a.target.value,t.onConditionChange()},l=function onChangeMatchType(r,a){t.condition.conditions[r].match_type=a,t.onConditionChange()};return d.a.createElement("div",{className:"border--all","data-test-section":"condition-card-url-match"},d.a.createElement(E.a,{showMultipleURLsMessage:!0,onClose:Object(i.partial)(t.onConditionChange,t.condition),title:"URL Match"}),d.a.createElement("div",{className:"soft"},d.a.createElement("div",{className:"flex flex-align--center push--bottom"},d.a.createElement("div",{className:"push--right"},"URL"),d.a.createElement(_.default,{items:b,value:t.condition.negate,onChange:function onChangeConditionNegation(r){t.condition.negate=r,t.onConditionChange()},testSection:"condition-match-type",width:"auto",minDropdownWidth:150}),d.a.createElement("div",{className:"push--left"},"these ",d.a.createElement("span",{className:"weight--bold"},"URL(s)"),":",d.a.createElement("span",{className:"oui-label--required"}))),d.a.createElement("table",{className:"lego-table lego-table--add-row","data-test-section":"url-match-card-conditions"},d.a.createElement("tbody",null,t.condition.conditions.map((function(i,u){return d.a.createElement(v.a,{condition:Object(p.toImmutable)(i),index:u,length:t.condition.conditions.length,addConditionRow:r,removeConditionRow:a,onChangeCondition:c,onChangeMatchType:l,key:u,showMatchType:!0,displayError:!!t.errors[u]},t.errors[u]&&d.a.createElement("div",{className:"color--bad-news micro push-half--top","data-test-section":"url-match-error"},t.errors[u]),function showEdgeHashWarning(r){return t.isWebEdgeProject&&t.condition.conditions[r].match_type!==m.constants.SIMPLE_MATCH_TYPE&&t.condition.conditions[r].value.includes("#")}(u)&&d.a.createElement("div",{className:"color--bad-news micro push-half--top","data-test-section":"url-match-edge-hash-warning"},'Note that browsers do not send characters after the "#" to the Edge Decider. ',d.a.createElement(o.a,{href:t.edgeLearnMoreLinks.hashWarningLink,newWindow:!0,style:"bad-news",testSection:"edge-hash-warning-learn-more-link"},"Learn more"),"."))})))),d.a.createElement("p",{className:"push-half--top flush--bottom"},"Learn more about"," ",d.a.createElement(o.a,{href:"https://support.optimizely.com/hc/en-us/articles/4410283798541-URL-targeting-in-Optimizely-Choose-where-your-experiment-runs/#URL_match_types",newWindow:!0},"URL match types"),".")))};T.propTypes={condition:l.a.instanceOf(h.a).isRequired,edgeLearnMoreLinks:l.a.object,errors:l.a.arrayOf(l.a.string),isWebEdgeProject:l.a.bool,onConditionChange:l.a.func.isRequired,updateErrors:l.a.func.isRequired},T.defaultProps={edgeLearnMoreLinks:{},errors:[],isWebEdgeProject:!1},T.matchType=m.enums.conditionMatchTypes.URL,r.a=T},function(t,r,a){"use strict";var i,o=a(34),c=(a(4),a(17)),l=a.n(c),u=(a(24),a(627));function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var d=l()((_defineProperty(i={},o.enums.activationModes.MANUAL,!0),_defineProperty(i,o.enums.activationModes.DOM_CHANGED,!0),_defineProperty(i,o.enums.activationModes.URL_CHANGED,!0),i));r.a={getAvailableActivationModesForEdgeProject:function getAvailableActivationModesForEdgeProject(t,r,a){var i,c=(_defineProperty(i={},o.enums.activationModes.IMMEDIATE,!0),_defineProperty(i,o.enums.activationModes.MANUAL,t),_defineProperty(i,o.enums.activationModes.URL_CHANGED,r),_defineProperty(i,o.enums.activationModes.DOM_CHANGED,a),i);return Object.keys(c).filter((function(t){return c[t]})).map((function(t){return u.a[t]}))},addHelpTextToActivationModesForEdgeProject:function addHelpTextToActivationModesForEdgeProject(t,r){return t.map((function(t){var a=_extends({},t);return a.linkText=null,a.linkNewWindow=null,a.linkURL=null,d[a.value]?_extends({},a,r()):a}))}}},function(t,r,a){"use strict";a.d(r,"a",(function(){return p}));var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(98),d=a(19);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(RowControls,t);var r=_createSuper(RowControls);function RowControls(){var t;_classCallCheck(this,RowControls);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).handleRemoveRow=function(){t.props.onRemoveRow(t.props.index)},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(RowControls,[{key:"render",value:function render(){return l.a.createElement(u.a,{rightGroup:[l.a.createElement(d.a,{key:"remove-row",style:"danger-outline",onClick:this.handleRemoveRow,testSection:"oasis-forced-variation-remove-row-button"},"Delete")]})}}]),RowControls}(l.a.Component);p.propTypes={index:o.a.number,onRemoveRow:o.a.func}},function(t,r,a){"use strict";var i=a(826),o=a(603),c=a(1319);a.d(r,"b",(function(){return c.a}));var l=a(827);a.d(r,"a",(function(){return l.a}));i.a,o.a,c.a,l.a},function(t,r,a){"use strict";var i,o,c=a(21),l=a(94);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var u=(_defineProperty(i={},c.default.status.ACTIVE,null),_defineProperty(i,c.default.status.RUNNING,l.a.searchFilterableStatuses.RUNNING),_defineProperty(i,c.default.status.PAUSED,l.a.searchFilterableStatuses.PAUSED),_defineProperty(i,c.default.status.DRAFT,l.a.searchFilterableStatuses.NOT_STARTED),_defineProperty(i,c.default.status.ARCHIVED,null),i),d=(_defineProperty(o={},c.default.status.ACTIVE,!1),_defineProperty(o,c.default.status.RUNNING,!1),_defineProperty(o,c.default.status.PAUSED,!1),_defineProperty(o,c.default.status.DRAFT,!1),_defineProperty(o,c.default.status.ARCHIVED,!0),o);r.a={filterToStatuses:u,filterToArchivedState:d}},function(t,r,a){r.pages={featuresDashboard:a(3627)}},function(t,r,a){"use strict";var i=a(1030),o=a(1175);a.d(r,"a",(function(){return o.b})),a.d(r,"b",(function(){return o.EventsAndMetricsBuilderWithDataProps}));i.a},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(204),l=a(262),u=a(20),d=a(14),p=a(150),m=a(2744);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}r.b=function FlagsAudienceCombinationsBuilderWithData(t){var r=t.audienceConditions,a=void 0===r?[]:r,g=t.canEditAudience,h=void 0===g||g,y=t.onChange,v=Object(p.b)({audiences:d.getters.audiences,projectId:d.getters.id}),_=v.audiences,E=v.projectId,b=_slicedToArray(Object(i.useState)(!0),2),T=b[0],S=b[1];return Object(i.useEffect)((function(){S(!0);var t=u.fns.deriveAudienceIdsFromAudienceConditionsPOJO(a),r={project_id:E,id:t};l.a.fetchAll(r).always((function(){S(!1)}))}),[]),o.a.createElement("div",{className:"position--relative"},T?o.a.createElement(c.a,null):o.a.createElement(m.a,{audiences:_.toJS(),audienceConditions:a,canEditAudience:h,projectId:E,onChange:y}))}},,function(t,r,a){"use strict";a.d(r,"a",(function(){return d})),a.d(r,"b",(function(){return p})),a.d(r,"d",(function(){return g}));var i=a(1398),o=a(309),c=a(321),l=a(665),u=a(2295),d=i.a,p=o.b,m=c.a,g=l.default,h=u.a;r.c={actions:d,constants:p,fns:m,getters:g,stubActions:h},window.optly=window.optly||{}},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(612),m=a(28),g=a(367),h=a(23);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=Object(p.a)("manager-mvt",h.enums.campaignTypes.SINGLE_EXPERIMENT),v=Object(m.a)({sideBarItems:g.e.sideBarItems})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(MVTSidebar,t);var r=_createSuper(MVTSidebar);function MVTSidebar(){return _classCallCheck(this,MVTSidebar),r.apply(this,arguments)}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(MVTSidebar,[{key:"render",value:function render(){return l.a.createElement(y,{activeTab:this.props.activeTab,items:this.props.sideBarItems,name:"Multivariate Test",showVariationChangedBadge:!0})}}]),MVTSidebar}(l.a.Component)).componentId="manager-mvt-sidebar",o.propTypes={activeTab:d.a.string.isRequired,sideBarItems:d.a.object.isRequired},i=o))||i;r.a=v},function(t,r,a){"use strict";a.r(r),a.d(r,"RegionBase",(function(){return b})),a.d(r,"RegionComponent",(function(){return T}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(9),d=a.n(u),p=a(276),m=a(837),g=a.n(m),h=a(54),y=a(871);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v="stage--forward",_="stage--back",E="stage--fade",b=function(t){_inherits(RegionBase,t);var r=_createSuper(RegionBase);function RegionBase(){return _classCallCheck(this,RegionBase),r.apply(this,arguments)}return _createClass(RegionBase,[{key:"render",value:function render(){return o.a.createElement("div",{className:"height--1-1 flex flex--column flex-justified--center flex-align--center width--1-1"})}}]),RegionBase}(o.a.Component),T=function(t){_inherits(RegionComponent,t);var r=_createSuper(RegionComponent);function RegionComponent(t){var a;return _classCallCheck(this,RegionComponent),(a=r.call(this,t)).getInitialState=function(){return{mountedViews:[null,{component:o.a.createElement(b,null),key:"region-base"}],isTransitioning:!1,currentlyMountedComponentId:null}},a.state=a.getInitialState(),a.resetState=function(){var t=a.getInitialState();a.setState(t)},a.completeViewsTransition=function(t,r){var i=a.state.mountedViews.length-2,o=a.state.mountedViews.length-1;a.shouldAppend||(i=a.state.mountedViews.length-1,o=a.state.mountedViews.length-2),a.setState((function(t){var r=t.mountedViews.map((function(t,r){return r!==o?null:t}));return a.shouldAppend||(r=r.slice(0,i)),{mountedViews:r,isTransitioning:!1}}),(function(){var i=a.viewRefs[o];i&&i.registerComponent?i.registerComponent(p.a.registerComponent):p.a.registerComponent(a.props.regionId,t,r),p.a.mountInQueue(a.props.regionId)}))},a.transitionViews=function(t,r,i){var o=t.componentId,c=t.onComplete,l=a.shouldAppend?a.state.mountedViews.length-2:a.state.mountedViews.length-1,u=a.viewRefs[l];u&&u.navigationControllerWillHideView&&u.navigationControllerWillHideView(),r?a.setState({transitionClass:r},(function(){var t=g.a.transitionEndOnce(a.outerRef,(function(r){a.setState({transitionClass:null},(function(){a.completeViewsTransition(o,i),c&&c(),t&&t()}))}))})):(a.completeViewsTransition(o,i),c&&c())},a.pushView=function(t,r){var i=a.props.regionId,o=a.state,c=o.currentlyMountedComponentId,l=o.isTransitioning,u=r.componentId;if(l)p.a.queueComponent(i,t,u);else if(u!==c){var d,m={component:t,key:u},g=a.regionMap[c],h=0;a.shouldAppend=!0,g&&g[u]&&((h=g[u])>0?d=v:h<0?(d=_,a.shouldAppend=!1):d=E),a.setState((function(t){var r=t.mountedViews;return a.shouldAppend?r.push(m):r.splice(r.length-2,1,m),{mountedViews:r,isTransitioning:!0,currentlyMountedComponentId:u}}),(function(){a.transitionViews(r,d,m)}))}},a.createOuterRef=function(t){a.outerRef=t},a.setBeforeLeave=function(t){var r=a.props.navBarBeforeLeave;a.beforeLeaveFns.push(t),r&&r((function(){return new Promise((function(t,r){if(!a.beforeLeaveFns||!a.beforeLeaveFns.length)return t();Promise.all(a.beforeLeaveFns.map((function(t){return t()}))).then((function(){a.beforeLeaveFns=[],setTimeout(t,0)})).catch(r)}))}))},a.viewRefs=[],a.beforeLeaveFns=[],a}return _createClass(RegionComponent,[{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){this.regionMap=p.b.graphifyRegionMap(this.props.regionMap),p.a.registerRegion(this.props.regionId,this)}},{key:"componentDidMount",value:function componentDidMount(){p.a.mountInQueue(this.props.regionId)}},{key:"componentWillUnmount",value:function componentWillUnmount(){p.a.unregisterRegion(this.props.regionId)}},{key:"render",value:function render(){var t=this,r=this.props,a=r.className,i=r.regionId,c=this.state,l=c.mountedViews,u=c.transitionClass,p=d()("stage",a,u);return o.a.createElement(h.default,{loadingId:i,className:"stage__item__content--column"},o.a.createElement(y.a.Provider,{value:this.setBeforeLeave},o.a.createElement("div",{className:p,ref:this.createOuterRef},l.map((function(r,a){if(!r)return null;return o.a.createElement("div",{className:"stage__item",key:r.key||a},o.a.cloneElement(r.component,{ref:function createViewRef(r){t.viewRefs[a]=r}}))})))))}}]),RegionComponent}(o.a.Component);T.propTypes={regionMap:l.a.object.isRequired,regionId:l.a.string.isRequired,className:l.a.string},r.default=T},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(2),m=a(612),g=a(28),h=a(38),y=a(23),v=a(39),_=a(1437);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=Object(m.a)("ab-dashboard",y.enums.campaignTypes.MULTIARMED_BANDIT),b=Object(m.a)("ab-dashboard",y.enums.campaignTypes.SINGLE_EXPERIMENT),T=Object(g.a)({canUseMultiArmedBandits:v.default.canUseMultiArmedBandits,currentLayer:h.getters.layer,sideBarItems:_.a.sideBarItems})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ABSidebar,t);var r=_createSuper(ABSidebar);function ABSidebar(){return _classCallCheck(this,ABSidebar),r.apply(this,arguments)}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ABSidebar,[{key:"render",value:function render(){var t=this.props,r=t.activeTab,a=t.canUseMultiArmedBandits,i=t.currentLayer,o=t.sideBarItems;return l.a.createElement(l.a.Fragment,null,(!y.fns.isMultiArmedBandit(i)||!a)&&l.a.createElement(b,{activeTab:r,items:o,name:"Experiment"}),y.fns.isMultiArmedBandit(i)&&a&&l.a.createElement(E,{activeTab:r,items:o,name:"Bandit"}))}}]),ABSidebar}(l.a.Component)).componentId="ab-sidebar",o.propTypes={activeTab:d.a.string.isRequired,canUseMultiArmedBandits:d.a.bool.isRequired,currentLayer:d.a.instanceOf(p.default.Map),sideBarItems:d.a.object.isRequired},i=o))||i;r.a=T},function(t,r,a){"use strict";var i=a(33);r.a={entity:"custom_audience_integrations",parent:{entity:"projects",key:"project_id"},fieldTypes:{id:i.a.NUMBER,project_id:i.a.NUMBER,name:i.a.STRING,description:i.a.STRING,plugin_type:i.a.STRING,api_name:i.a.STRING,is_enabled_in_client:i.a.BOOLEAN,archived:i.a.BOOLEAN,get_attribute_definitions:i.a.STRING,get_attribute_values:i.a.STRING,modified_secrets:i.a.ARRAY,integration_secrets:i.a.ARRAY}}},function(t,r,a){"use strict";var i=a(1276);a.d(r,"a",(function(){return i.a}));var o=a(523);a.d(r,"c",(function(){return o.a}));var c=a(345);a.d(r,"b",(function(){return c.b}));var l=a(158);a.d(r,"d",(function(){return l.default}));i.a,o.a,c.b,l.default},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(1039),d=a.n(u),p=a(2326),m=a.n(p),g=a(268),h=a(1399);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}m()(d.a.Highcharts),d.a.Highcharts.setOptions({lang:{numericSymbols:["k","M","B","T","P","E"]}});var y=l.a.forwardRef((function(t,r){return l.a.createElement(g.a,{alternateContent:l.a.createElement(h.a,{message:"Unable to generate chart."})},l.a.createElement(d.a,_extends({},t,{ref:r})))}));y.propTypes={config:o.a.object.isRequired},y.displayName="HighchartsWrapper",r.a=y},function(t,r,a){"use strict";a.r(r);var i=a(1066);a.d(r,"actions",(function(){return i.default}));var o=a(570);a.d(r,"entityDef",(function(){return o.a}));var c=a(404);a.d(r,"enums",(function(){return c.default}));var l=a(1077);a.d(r,"fns",(function(){return l.default}));var u=a(770);a.d(r,"getters",(function(){return u.default}));var d=a(1231);a.d(r,"humanReadable",(function(){return d.a})),r.default={actions:i.default,entityDef:o.a,enums:c.default,fns:l.default,getters:u.default,humanReadable:d.a}},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(612),m=a(28),g=a(23),h=a(729);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=Object(p.a)("campaign-overview",g.enums.campaignTypes.P13N_CAMPAIGN),v=Object(m.a)({items:h.d.sideBarItems,experiencesHaveUnpublishedChanges:h.d.unarchivedExperimentsHaveUnpublishedChanges})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(CampaignSidebar,t);var r=_createSuper(CampaignSidebar);function CampaignSidebar(){return _classCallCheck(this,CampaignSidebar),r.apply(this,arguments)}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(CampaignSidebar,[{key:"render",value:function render(){return l.a.createElement(y,_extends({},this.props,{name:"Campaign"}))}}]),CampaignSidebar}(l.a.Component)).componentId="p13n-editor-nav-sidebar",o.propTypes={activeTab:d.a.string.isRequired,items:d.a.object.isRequired,experiencesHaveUnpublishedChanges:d.a.bool.isRequired},i=o))||i;r.a=v},function(t,r,a){"use strict";var i,o,c=a(62),l=a(0),u=a.n(l),d=a(1),p=a.n(d),m=a(26),g=a(190),h=a(2),y=a(28),v=a(63),_=a(35),E=a(24),b=a(38),T=a(14),S=a(307),C=a(117),I=a(1054),A=a(243),O=a(91),P=a(2133);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var R=A.constants.EMPTY_METRICS_POPOVER_CONTENT_AB,w=Object(y.a)({activeTab:A.getters.activeTab,currentProject:T.getters.project,experiment:A.getters.currentlyEditingExperimentWrapper,feature:A.getters.currentlyEditingExperimentFeature,hasLayerMetrics:b.getters.hasLayerMetrics,isFlagsProject:T.getters.isFlagsProject,isFullStackProject:T.getters.isFullStackProject,environmentStatusesByExperimentId:S.c.environmentStatusesByExperimentId})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(OasisEditExperimentSidebar,t);var r=_createSuper(OasisEditExperimentSidebar);function OasisEditExperimentSidebar(){var t;_classCallCheck(this,OasisEditExperimentSidebar);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={savingEnvironments:!1},t.navigateBack=function(){var r=t.props.currentProject;_.default.go(E.default.xFullStackHome(r.get("id")))},t.onEditMetrics=function(){var r=t.props,a=r.currentProject,i=r.experiment;_.default.go(E.default.fullStackManagerMetrics(a.get("id"),i.get("id")))},t.onStatusChange=function(r,a,i){var o=t.props.experiment;t.setState({savingEnvironments:!0}),I.actions.updateExperimentStatusWithEnvironment(o,r,a,i).then((function(){C.default.fetch(o.get("layer_id"))})).always((function(){t.setState({savingEnvironments:!1})}))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(OasisEditExperimentSidebar,[{key:"renderAddMetricsNotification",value:function renderAddMetricsNotification(){return this.props.hasLayerMetrics?null:u.a.createElement("div",{className:"flex micro vertical-align--center"},u.a.createElement(m.a,{className:"lego-icon color--brand push-half--right",name:"circle-exclamation",size:"small"}),u.a.createElement("span",{"data-test-section":"oasis-edit-experiment-message"},"Please",u.a.createElement("a",{"data-test-section":"edit-metrics-link",onClick:this.onEditMetrics},u.a.createElement("span",null," add a metric ")),"to start this experiment"))}},{key:"getExperimentLabel",value:function getExperimentLabel(){var t=this.props.experiment,r=A.fns.getExperimentType(t);return A.constants.ExperimentTypeToLabel[r]}},{key:"renderHeaderDetails",value:function renderHeaderDetails(){var t=this.props,r=t.environmentStatusesByExperimentId,a=t.experiment,i=t.hasLayerMetrics,o=this.state.savingEnvironments,c=r.get(a.get("id"),Object(h.toImmutable)([]));return u.a.createElement(u.a.Fragment,null,u.a.createElement(O.b,{items:[{label:this.getExperimentLabel(),value:""}]}),u.a.createElement(P.a,{className:"push--top",hasNoLayerMetrics:!i,isLoading:o,onStatusChange:this.onStatusChange,statuses:c,testSection:"fs-manager-environment-status-control"}),this.renderAddMetricsNotification())}},{key:"render",value:function render(){var t=this,r=A.constants.Tabs,a=this.props,i=a.activeTab,o=a.currentProject,l=a.experiment,d=a.hasLayerMetrics,p=a.isFlagsProject,h=a.isFullStackProject,y=l.get("id"),v=o.get("id");return u.a.createElement(O.a,{testSection:"manager-fullstack-sidebar"},u.a.createElement(c.OptimizelyFeature,{feature:"user_friendly_names"},(function(r){return r?u.a.createElement(O.c,{scrollHeader:!1,projectName:o.get("project_name"),backLinkText:"Experiments",backLinkOnClick:t.navigateBack,showBackLink:!p,title:l.get("name"),isFullHeight:!1,isFullStackProject:!1},u.a.createElement("div",{className:"zeta monospace micro muted force-break","data-test-section":"header-subtitle",style:{marginTop:"-1px"}},l.get("key")),t.renderHeaderDetails()):u.a.createElement(O.c,{scrollHeader:!1,projectName:o.get("project_name"),backLinkText:"Experiments",backLinkOnClick:t.navigateBack,showBackLink:!p,title:l.get("name"),isFullHeight:!1,isFullStackProject:h},t.renderHeaderDetails())})),u.a.createElement(O.e,null,u.a.createElement(O.d,null,u.a.createElement(O.f,{isActive:i===r.VARIATIONS,href:E.default.fullStackManagerVariations(v,y),testSection:"fullstack-sidebar-variations-tab"},u.a.createElement("div",{className:"flex flex-align--center"},"Variations")),u.a.createElement(O.f,{isActive:i===r.AUDIENCES,href:E.default.fullStackManagerAudiences(v,y),testSection:"fullstack-sidebar-audiences-tab"},u.a.createElement("div",{className:"flex flex-align--center"},"Audiences")),u.a.createElement(O.f,{isActive:i===r.METRICS,href:E.default.fullStackManagerMetrics(v,y),testSection:"fullstack-sidebar-metrics-tab"},u.a.createElement("div",{className:"flex flex-align--center"},"Metrics",!d&&u.a.createElement("div",{className:"anchor--right flex--none soft--left"},u.a.createElement(g.a,{content:R},u.a.createElement(m.a,{className:"lego-icon color--brand vertical-align--middle cursor--pointer push-half--left flex--none",name:"circle-exclamation",size:"small"}))))),u.a.createElement(O.f,{isActive:i===r.TRAFFIC_ALLOCATION,href:E.default.fullStackManagerTrafficAllocation(v,y),testSection:"fullstack-sidebar-traffic-tab"},u.a.createElement("div",{className:"flex flex-align--center"},"Traffic Allocation")),u.a.createElement(O.f,{isActive:i===r.WHITELIST,href:E.default.fullStackManagerWhitelist(v,y),testSection:"fullstack-sidebar-whitelist-tab"},u.a.createElement("div",{className:"flex flex-align--center"},"Whitelist")),u.a.createElement(O.f,{isActive:i===r.API_NAMES,href:E.default.fullStackManagerApiNames(v,y),testSection:"fullstack-sidebar-api-tab"},u.a.createElement("div",{className:"flex flex-align--center"},"API Names")),u.a.createElement(O.f,{isActive:i===r.HISTORY,href:E.default.fullStackManagerHistory(v,y),testSection:"fullstack-sidebar-history-tab"},u.a.createElement("div",{className:"flex flex-align--center"},"History")),u.a.createElement(O.f,{isActive:i===r.SETTINGS,href:E.default.fullStackManagerSettings(v,y),testSection:"fullstack-sidebar-settings-tab"},u.a.createElement("div",{className:"flex flex-align--center"},"Settings")))))}}]),OasisEditExperimentSidebar}(u.a.Component)).componentId="oasis-edit-experiment-sidebar",o.propTypes={activeTab:p.a.oneOf(Object.keys(A.constants.Tabs)).isRequired,currentProject:p.a.instanceOf(h.default.Map).isRequired,environmentStatusesByExperimentId:p.a.instanceOf(h.default.Map),experiment:p.a.instanceOf(h.default.Map).isRequired,feature:p.a.instanceOf(h.default.Map),form:v.c,hasLayerMetrics:p.a.oneOfType([p.a.bool,p.a.number]),isFlagsProject:p.a.bool.isRequired,isFullStackProject:p.a.bool.isRequired},i=o))||i;r.a=w},function(t,r,a){"use strict";r.a={entity:"billing_info",parent:{entity:"accounts",key:"account_id"}}},function(t,r,a){"use strict";var i=a(33);r.a={entity:"custom_attributes",parent:{entity:"projects",key:"project_id"},fieldsTypes:{id:i.a.NUMBER,project_id:i.a.NUMBER,name:i.a.STRING,description:i.a.STRING,status:i.a.STRING,last_modified:i.a.DATE}}},function(t,r,a){"use strict";var i=a(41),o=a(1382),c=Object(i.default)(o.a);c.entityCache,c.byId;r.a=Object.assign(c,{})},function(t,r,a){"use strict";var i=a(41),o=a(1405),c=Object(i.default)(o.a);c.byId,c.entityCache;r.a=Object.assign(c,{})},function(t,r,a){"use strict";a.d(r,"a",(function(){return v}));var i=a(12),o=a.n(i),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(104),m=a.n(p),g=a(5),h=(a(564),a(2089)),y=a.n(h);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(Copier,t);var r=_createSuper(Copier);function Copier(){var t;_classCallCheck(this,Copier);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).onAfterCopy=function(r){t.props.showNotification&&g.default.showNotification({message:tr("Copied to clipboard.")}),t.props.onAfterCopy&&t.props.onAfterCopy(r)},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(Copier,[{key:"componentDidMount",value:function componentDidMount(){var t=this,r=m.a.findDOMNode(this);o()(r).on("click",(function(r){var a=t.props.textToCopy;y.a.copyText(a)&&t.onAfterCopy(r)}))}},{key:"render",value:function render(){return d.a.Children.only(this.props.children)}}]),Copier}(d.a.Component);v.propTypes={textToCopy:l.a.string.isRequired,onAfterCopy:l.a.func,showNotification:l.a.bool,children:l.a.node.isRequired},v.defaultProps={showNotification:!0}},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(9),d=a.n(u),p=a(134),m=a(2),g=a(112),h=a(582),y=a(21),v=a(68),_=a(63),E=a(2638),b=a(2639);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(GroupTrafficAllocation,t);var r=_createSuper(GroupTrafficAllocation);function GroupTrafficAllocation(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,GroupTrafficAllocation),(a=r.call(this,t)).getTotalAvailableTraffic=function(){var t=a.props,r=t.activeGroups,i=t.selectedGroupField,o=t.entity,c=i.getValue(),l=r.find((function(t){return t.get("id")===c}))||g.b.NONE_GROUP;return h.default.calculateAvailableTrafficForGroup(l,o.get("id"))},a.renderTrafficInput=function(){var t=a.props,r=t.hidePercentageIncludedForNoneGroup,i=t.percentageIncludedField,o=t.selectedGroupField.getValue()!==g.b.NONE_GROUP_ID;return!(r&&!o)&&l.a.createElement(E.a,{entityName:a.getEntityName(),isSelectedGroupNone:!o,field:i,value:i.getValue()})},a.renderTrafficRemaining=function(){var t=a.props,r=t.percentageIncludedField,i=t.selectedGroupField,o=r.getValue(),c=a.getTotalAvailableTraffic(),u=h.default.calculateRemainingTraffic(c,o)/100;return i.getValue()!==g.b.NONE_GROUP_ID&&l.a.createElement("div",{className:"lego-form-note","data-test-section":"available-traffic-remaining-note"},"Available traffic remaining: ",l.a.createElement("span",{className:d()({"color--bad-news":u<0})},u,"%"))},a.renderTrafficChangeWarning=function(){var t=a.props,r=t.entity,i=t.selectedGroupField,o=t.percentageIncludedField,c=t.isWebExperimentLive,u=t.isFullstackExperiment&&v.default.isRunningInAnyEnvironment(r),d=u||c,m=void 0===r.get("id"),h=i.getValue()!==g.b.NONE_GROUP_ID,y=r.get("percentage_included")!==o.getValue(),_=r.get("group_id")!==i.getValue(),E="";return!m&&d&&(_||h&&y)?E="Changing traffic allocation or group assignment for a running\n    experiment will impact user bucketing, causing users to be bucketed\n    in or unbucketed from this experiment.":d&&y&&(E=u?"Changing traffic allocation on a running experiment will impact the\n    integrity of your results because of a problem known as Simpson’s\n    Paradox. If this change is still necessary, it is encouraged to\n    pause this experiment, duplicate it, and publish the new one.":""),E&&l.a.createElement("div",{className:"push--top"},l.a.createElement(p.a,{type:"warning",testSection:"traffic-or-group-change-warning"},E))},a.renderGroupAllocationError=function(){var t,r,i=a.props,o=i.percentageIncludedField,c=i.selectedGroupField;if(o.getErrors().hasError){var u=o.getErrors().details;t=u.isWithinGroupAllocationRange,r=u.isWithinExperimentAllocationRange}var d=c.getValue()!==g.b.NONE_GROUP_ID&&t&&!r,p=a.getTotalAvailableTraffic();return d&&l.a.createElement("li",{className:"lego-attention lego-attention--bad-news text--center","data-test-section":"group-allocation-error"},l.a.createElement("p",null,"The ",l.a.createElement("strong",null,"experiment traffic allocation")," must fit within the available traffic of the exclusion group. The selected exclusion group has ",p/100,"% available."))},a.renderExperimentAllocationError=function(){var t,r=a.props.percentageIncludedField;r.getErrors().hasError&&(t=r.getErrors().details.isWithinExperimentAllocationRange);return t&&l.a.createElement("li",{className:"lego-attention lego-attention--bad-news text--center push--bottom","data-test-section":"custom-experiment-allocation-error"},l.a.createElement("p",null,"The ",l.a.createElement("strong",null,"experiment traffic allocation")," must be between 0% and ",a.getTotalAvailableTraffic()/100,"%."))},a.getEntityName=function(){var t=a.props.entity;return y.default.typeToEntityName[t.get("type")]||"experiment"};var i=t.percentageIncludedField,o=t.selectedGroupField;return i.validators({isWithinGroupAllocationRange:function isWithinGroupAllocationRange(t){return o.getValue()!==g.b.NONE_GROUP_ID&&t>a.getTotalAvailableTraffic()},isWithinExperimentAllocationRange:function isWithinExperimentAllocationRange(t){return!!t&&(t<0||t>g.b.MAX_TRAFFIC_ALLOCATION)}},{dependsOnFields:["selectedGroup"]}),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(GroupTrafficAllocation,[{key:"render",value:function render(){var t=this.props,r=t.selectedGroupField,a=t.showHeader,i=t.percentageIncludedField,o=t.activeGroups,c=o.count()>0;return l.a.createElement("div",{"data-test-section":"group-traffic-allocation-component"},a&&l.a.createElement("h1",null,"Traffic Allocation"),l.a.createElement("ol",{className:"lego-form-fields"},c&&l.a.createElement("li",{className:"lego-form-field__item soft--top"},l.a.createElement("p",null,"Add this ".concat(this.getEntityName()," to the following exclusion group:")),l.a.createElement("div",{className:"display--inline-block"},l.a.createElement(b.a,{activeGroups:o,field:r,selectedGroupField:r,percentageIncludedField:i})),this.renderTrafficRemaining()),this.renderGroupAllocationError(),this.renderTrafficInput(),this.renderExperimentAllocationError()),this.renderTrafficChangeWarning())}}]),GroupTrafficAllocation}(l.a.Component);T.displayName="GroupTrafficAllocation",T.propTypes={activeGroups:o.a.instanceOf(m.default.List).isRequired,entity:o.a.object.isRequired,hidePercentageIncludedForNoneGroup:o.a.bool,isWebExperimentLive:o.a.bool,isFullstackExperiment:o.a.bool,percentageIncludedField:_.b.isRequired,selectedGroupField:_.b.isRequired,showHeader:o.a.bool},T.defaultProps={hidePercentageIncludedForNoneGroup:!1,isWebExperimentLive:!1,isFullstackExperiment:!1,showHeader:!0},r.a=T},function(t,r,a){"use strict";var i=a(41),o=a(111),c=a(933);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var l=Object(i.default)(c.a),u=(l.byId,l.entityCache,[l.entityCache,o.default.entityCache,function(t,r){return t.map((function(t){var a=null;if(t.get("experiment_id")){var i=r.filter((function(r){return r.get("id")===t.get("experiment_id")})).first();i&&(a=i.get("status"))}return t.set("experiment_status",a)})).toList()}]);r.a=_extends({},l,{liveVariableUsagesWithStatuses:u})},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(2631),m=a.n(p),g=a(320),h=a(153),y=a(108),v=a(62),_=a(35),E=a(28),b=a(2),T=a(13),S=a(376),C=a(447),I=a(156),A=a(39),O=a(228),P=a.n(O),R=a(24),w=a(91),N=a(445);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L=Object(E.a)((function(t){var r=t.featureId;return{canUseFeatureVariables:A.default.canAccountUseFeatureVariables,currentProject:T.default.project,feature:C.a.byId(r),prioritizedEnvironments:S.a.unarchivedEnvironmentsSortedByPriority}}))(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(FeatureSidebar,t);var r=_createSuper(FeatureSidebar);function FeatureSidebar(){var t;_classCallCheck(this,FeatureSidebar);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).navigateBack=function(){var r=t.props.currentProject;_.default.go(R.default.featuresHome(r.get("id")))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(FeatureSidebar,[{key:"getSidebarItems",value:function getSidebarItems(){var t=this.props,r=t.canUseFeatureVariables,a=t.currentProject,i=t.featureId,o=a.get("id");return[{name:N.b.RULES,displayName:"Rules",testSection:"feature-sidebar-rules-tab",url:R.default.featureManagerRules(o,i)}].concat(_toConsumableArray(r?[{name:N.b.VARIABLES,displayName:"Variable Keys & Types",testSection:"feature-sidebar-variables-tab",url:R.default.featureManagerVariables(o,i)}]:[]),[{name:N.b.EXPERIMENT_USAGE,displayName:"Experiment Usage",testSection:"feature-sidebar-experiment-usage-tab",url:R.default.featureManagerExperimentUsage(o,i)},{name:N.b.HISTORY,displayName:"History",testSection:"feature-sidebar-history-tab",url:R.default.featureManagerHistory(o,i)},{name:N.b.SETTINGS,displayName:"Settings",testSection:"feature-sidebar-settings-tab",url:R.default.featureManagerSettings(o,i)},{name:N.b.SDK_SETUP,displayName:"SDK Setup",testSection:"feature-sidebar-sdk-setup-tab",url:R.default.featureManagerSDKSetup(o,i)}])}},{key:"render",value:function render(){var t=this,r=this.props,a=r.activeTab,i=r.currentProject,o=r.feature,c=r.prioritizedEnvironments,u=c.find((function(t){return t.get("is_primary")}),null,c.first()),d=I.a.getPrimaryEnvironmentEntry(o).environmentInfo.get("rollout_rules"),p=m()(d.toJS(),(function(t){return t.percentage_included&&parseFloat(t.percentage_included)>0}))?"Enabled":"Disabled";return l.a.createElement(w.a,{testSection:"manager-feature-sidebar"},l.a.createElement(v.OptimizelyFeature,{feature:"user_friendly_names"},(function(r){return r&&o.get("name")?l.a.createElement(w.c,{backLinkText:"Features",backLinkOnClick:t.navigateBack,isFullHeight:!1,projectName:i.get("project_name"),isFullStackProject:!1,scrollHeader:!1,showBackLink:!0,spaceBelow:!0,title:o.get("name")},l.a.createElement("div",{className:"zeta monospace micro muted force-break","data-test-section":"header-subtitle",style:{marginTop:"-1px"}},o.get("api_name"))):l.a.createElement(w.c,{backLinkText:"Features",backLinkOnClick:t.navigateBack,isFullHeight:!1,projectName:i.get("project_name"),isFullStackProject:!0,scrollHeader:!1,showBackLink:!0,spaceBelow:!0,title:o.get("api_name")})})),l.a.createElement(w.e,null,l.a.createElement(w.b,{items:[{label:"Created",value:P()(o.get("created"))},{label:"Primary Environment",value:u.get("name")||u.get("key")},{label:"Primary Environment Status",value:p}],spaceBelow:!0}),l.a.createElement(w.d,null,this.getSidebarItems().filter((function(t){return!t.isHidden})).map((function(t){return l.a.createElement(w.f,{isActive:a===t.name,href:t.url,key:t.name,testSection:t.testSection},l.a.createElement(g.a,{fluid:!0,pullRowPadding:!0},l.a.createElement(h.a,{verticalAlignment:"center"},l.a.createElement(y.a,{small:"fillSpace"},t.displayName),t.badge&&l.a.createElement(y.a,{small:"fitContent","data-test-section":"feature-manager-sidebar-badge"},t.badge))))})))))}}]),FeatureSidebar}(l.a.Component)).componentId="manager-feature-sidebar",o.propTypes={activeTab:d.a.string.isRequired,canUseFeatureVariables:d.a.bool.isRequired,currentProject:d.a.instanceOf(b.default.Map).isRequired,feature:d.a.instanceOf(b.default.Map).isRequired,featureId:d.a.number.isRequired,prioritizedEnvironments:d.a.instanceOf(b.default.List).isRequired},i=o))||i;r.a=L},function(t,r,a){"use strict";var i=a(41),o=a(1389);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a);r.a=_extends({},c)},,function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(4),l=a.n(c),u=a(42),d=a.n(u),p=a(72),m=a.n(p),g=a(3),h=a(43),y=a(14),v=a(23),_=a(20),E=a(263),b=a(70),T=a(38),S=a(321),C=a(665),I=a(309),A=a(294);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var O,P=function formatPOSTRequest(t){var r=l.a.extend({},t.headers,{Accept:I.b.ACCEPT_HEADER,"Content-Type":"application/json; charset=utf-8","X-Account-Id":g.default.evaluate(h.getters.id),"X-Opti-Group":"results-ui","X-App-Trace-Id":g.default.evaluate(C.default.traceId)});return l.a.extend({},t,{type:"POST",headers:r,data:JSON.stringify(t.data),traditional:!0})},R=function addXHR(t){g.default.dispatch(A.a.RESULTS_API_ADD_XHR,{xhr:t})},w=function makeGenericRequest(t,r,a,i){var c=(new Date).getTime(),u=i||{deferred:o.a.Deferred(),attempt:0,firstAttemptStartTime:c},p=g.default.evaluate(y.getters.project);r=S.a.formatDates(r,!1);var m=p.get("experiment_confidence_threshold")/I.b.CONFIDENCE_LEVEL_DIVISOR;m>=1&&(m=I.b.MAX_CONFIDENCE_LEVEL),r=l.a.extend({},r,{platform:p.get("project_platforms").get(0),ipFilter:p.get("ip_filter"),confidenceLevel:m});var h=d.a.get("env.SESSION_DB_API_SOURCE",null);h&&(r=l.a.extend({},{api_source:h},r));var v=o.a.ajax(P({data:r,url:a}));return v.then((function(a){g.default.dispatch(A.a.RESULTS_API_REQUEST_SUCCESS,{resourceKey:t,query:r,response:a}),u.deferred.resolve(a)}),(function(i){if(u.attempt>=3||0===i.status)u.deferred.reject();else{var o=(new Date).getTime(),d=Math.max(0,1e4-(o-c)),p=l.a.extend({},u,{attempt:u.attempt+1});setTimeout(l.a.partial(makeGenericRequest,t,r,a,p),d)}})),R(v),E.a.trackXHRComplete("results-api/".concat(t),v,(function(){var t=(new Date).getTime();return{attempt:u.attempt,first_attempt_start_time:u.firstAttemptStartTime,start_time:c,end_time:t,request_duration:(t-c)/1e3,results_data_source:S.a.getResultsDataSource(v)}})),u.deferred},N=function formatLayerData(t){return t.experimentIds&&(t.experimentTokens=t.experimentIds.map((function(t){return g.default.evaluateToJS(_.getters.resultsAPITokenById(t))}))),l.a.extend({token:g.default.evaluateToJS(y.getters.projectResultsAPIToken),layerToken:g.default.evaluateToJS(T.getters.resultsAPIToken)},t)},L=function makeLayerRequestFunc(t,r){return r=r||l.a.identity,function(a){return O.makeLayerRequest(t,a).then(r)}},x=function makeExperimentRequestFunc(t,r){return r=r||l.a.identity,function(a){return O.makeExperimentRequest(t,a).then(r)}},D=function makeSectionRequestFunc(t){return function(r){return O.makeSectionRequest(t,r)}},k=L("reach"),j=L("results"),M=L("timeseries"),U=L("experiments"),V=x("results"),B=x("timeseries"),G=D("results"),H=D("timeseries"),z=function makeLayerSegmentValueRequest(){var t=g.default.evaluate(T.getters.layer),r=g.default.evaluateToJS(T.getters.allExperimentIdsPointingToLayer);if(!t)return function resolvedPromise(t){var r=o.a.Deferred();return setTimeout((function(){r.resolve(t)}),0),r.promise()}({});var a=g.default.evaluate(b.getters.byId(t.get("project_id"))),i=N({begin:t.get("earliest"),campaignStart:t.get("earliest"),experimentIds:r,ipFilter:a.get("ip_filter")||""}),c=S.a.getApiUrls(),l=m()("%s/%s",c.SEGMENT,t.get("id")),u=o.a.ajax(P({url:l,data:i}));return R(u),u};O={addXHR:R,clearXHRs:function clearXHRs(){g.default.dispatch(A.a.RESULTS_API_CLEAR_XHRS)},formatLayerData:N,generateNewTraceId:function generateNewTraceId(){g.default.dispatch(A.a.RESULTS_API_SET_TRACE_ID,{traceId:S.a.generateTraceId()})},makeExperimentRequest:function makeExperimentRequest(t,r){var a=r.experimentId;a||(a=g.default.evaluateToJS(T.getters.currentLayerABExperiment).id);var i=S.a.getApiUrls(),o=m()("%s/experiments/%s/%s",i.BASE,a,t),c=l.a.extend({token:g.default.evaluateToJS(_.getters.resultsAPITokenById(a))},r);delete c.experimentId;var u=g.default.evaluateToJS(T.getters.layer);if(u){var d=v.fns.isABTestLayer(u);c=l.a.extend({campaignMode:d?"ab":"p13n"},c)}return c=S.a.appendAdditionalQueryParams(c),w("experiment/".concat(t),c,o)},makeLayerRequest:function makeLayerRequest(t,r){var a=g.default.evaluate(y.getters.id),i=g.default.evaluate(T.getters.id),o=S.a.getApiUrls(),c=m()("%s/projects/%s/layers/%s/%s",o.BASE,a,i,t),l=N(r);return l=S.a.appendAdditionalQueryParams(l),w("layer/".concat(t),l,c)},makeLayerReachRequest:k,makeLayerResultsRequest:j,makeLayerTimeseriesRequest:M,makeLayerExperimentsRequest:U,makeExperimentResultsRequest:V,makeExperimentTimeseriesRequest:B,makeLayerSegmentValueRequest:z,makeSectionRequest:function makeSectionRequest(t,r){var a=r.experimentId,i=r.sectionId;a||(a=g.default.evaluateToJS(T.getters.currentLayerABExperiment).id);var o=S.a.getApiUrls(),c="".concat(o.BASE,"/experiments/").concat(a,"/sections/").concat(i,"/").concat(t),l=_extends({token:g.default.evaluateToJS(_.getters.resultsAPITokenById(a))},r);return delete(l=S.a.appendAdditionalQueryParams(l)).experimentId,delete l.sectionId,w("sections/".concat(t),l,c)},makeSectionResultsRequest:G,makeSectionTimeseriesRequest:H,makeSegmentValueRequest:function makeSegmentValueRequest(t){if(!t)return z();var r=g.default.evaluate(_.getters.byId(t)),a=g.default.evaluate(v.getters.byId(r.get("layer_id"))),i=g.default.evaluate(b.getters.byId(a.get("project_id"))),c=S.a.getApiUrls(),l=m()("%s/%s",c.SEGMENT,t),u={"X-Account-Id":g.default.evaluate(h.getters.id),"X-Opti-Group":"results-ui","X-App-Trace-Id":g.default.evaluate(C.default.traceId)},d=g.default.evaluateToJS(_.getters.resultsAPITokenById(t)),p={begin:a.get("earliest"),ipFilter:i.get("ip_filter")||"",token:d},y=o.a.ajax({url:l,headers:u,data:p,type:"GET"});return R(y),y},makeSegmentCategoriesRequest:function makeSegmentCategoriesRequest(){var t=g.default.evaluate(y.getters.id),r=m()(I.b.SEGMENT_CATEGORY_API_ROUTE,t),a={"X-App-Trace-Id":g.default.evaluate(C.default.traceId)},i={token:g.default.evaluateToJS(y.getters.projectToken)},c=o.a.ajax({url:r,headers:a,data:i,type:"GET",traditional:!0});return R(c),c},setDateNow:function setDateNow(t){g.default.dispatch(A.a.RESULTS_API_SET_DATE_NOW,{dateNow:t})}},r.a=O},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(982),d=a.n(u),p=function ChartEmptyState(t){var r=t.message;return l.a.createElement("div",{className:"results__timeseries-chart flex--dead-center"},l.a.createElement("div",{className:"text--center"},l.a.createElement("img",{alt:"Chart unavailable",className:"anchor--middle",src:d.a,width:"200"}),l.a.createElement("h3",{className:"push-half--bottom"},r)))};p.propTypes={message:o.a.string},p.defaultProps={message:"Not enough data yet."},r.a=p},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({SET_TIMEZONES:null})},function(t,r,a){"use strict";var i=a(1248);a.d(r,"a",(function(){return i.a}));var o=a(576),c=a(1249),l=a(677);i.a,o.a,c.a,l.a},function(t,r,a){"use strict";var i=a(1265);a.d(r,"a",(function(){return i.a}));var o=a(455),c=a(522),l=a(787);i.a,o.a,c.a,l.a},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(9),m=a.n(p),g=a(31),h=a(19),y=a(437),v=a(79),_=a(188),E=a(190),b=a(295),T=a(32),S=a(88),C=a(134),I=a(40),A=a(206),O=a(52),P=a(2),R=a(28),w=a(76),N=a(953),L=a(62),x=a(5),D=a(161),k=a(20),j=a(66),M=a.n(j),U=a(14),V=a(83),B=a(242),G=a(128),H=a(326),z=a(268),W=a(54),q=a(373),Y=a(185),K=a(439);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var J=D.enums.ConditionGroupTypes,X=J.AND,Q=J.OR,Z=D.enums.audienceMatchTypes,ee=Z.ALL_AUDIENCES,te=Z.ANY_AUDIENCES,ne=Z.CUSTOM_AUDIENCES,re="ADD",ae="REMOVE",ie=Object(R.a)((function(t){var r=t.audienceConditions;return{availableAudiences:U.getters.availableAudiences(r),currentLayer:M.a.layer,isWebProject:U.getters.isWebProject,projectId:U.getters.id,shouldShowAudienceCombinationOptions:K.b.shouldShowAudienceCombinationOptions(),isFullStackProject:U.getters.isFullStackProject}}))(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(AudienceCombinationsBuilder,t);var r=_createSuper(AudienceCombinationsBuilder);function AudienceCombinationsBuilder(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,AudienceCombinationsBuilder),(a=r.call(this,t)).dropdownOptions=[{renderTitle:l.a.createElement("span",null,"Match ",l.a.createElement("strong",null,"any")," audience"),description:"A visitor will be in this experiment if they match one or more of the audiences specified.",type:te},{renderTitle:l.a.createElement("span",null,"Match ",l.a.createElement("strong",null,"all")," audiences"),description:"A visitor will be in this experiment if they match all of the audiences specified.",type:ee}],a.deriveComponentStateFromAudienceConditionsProp=function(){var t=a.props.defaultAudienceMatchType,r=a.props.audienceConditions;r&&r.size||(r=Object(P.toImmutable)([t===te?Q:X]));var i=K.a.deriveAudienceMatchTypeFromConditions(r);return _extends({},i===ne?{isCodeMode:!0}:{},{audienceConditionsString:K.a.derivePrettyStringFromImmutableList(r),audienceConditions:r,audienceMatchType:i})},a.reinitializeComponent=function(){a.setState(a.deriveComponentStateFromAudienceConditionsProp())},a.setStateAndUpdateParent=function(t){var r=t.audienceMatchType,i=t.audienceConditions,o=t.audienceConditionsString,c=a.props,l=c.canEditAudience,u=c.onSelectionChange;if(l){var d=k.fns.deriveAudienceIdsFromAudienceConditions(i);a.setState({audienceConditions:i,audienceMatchType:r,audienceConditionsString:o},(function(){u({audienceConditions:i,isValidAudienceConfig:a.validateAudienceConfig(o,d).isValid})}))}},a.validateAudienceConfig=function(t,r){var i=a.props.availableAudiences,o={};return Object.values(K.a.validators).forEach((function(a){var c=a({audienceConditionsString:t,audienceIds:r,availableAudiences:i});c&&(o[a.name]=c)})),{isValid:!Object.keys(o).length,validations:o}},a.handleAudienceAddOrRemove=function(t,r){var i=a.props.defaultAudienceMatchType,o=a.state.audienceConditions,c=a.state.audienceMatchType,l=o;switch(r){case re:o.filter((function(t){return t instanceof P.default.Map})).size||(c=i,l=Object(P.toImmutable)([i===te?Q:X])),l=l.push(Object(P.toImmutable)({audience_id:t}));break;case ae:l=o.filterNot((function(r){return r instanceof P.default.Map&&r.get("audience_id")===t})),(i===te&&c===ee||i===ee&&c===te)&&l.filter((function(t){return t instanceof P.default.Map})).size<=1&&(c=i,l=l.set(0,c===te?Q:X));break;default:return}a.setStateAndUpdateParent({audienceConditions:l,audienceConditionsString:K.a.derivePrettyStringFromImmutableList(l),audienceMatchType:c})},a.handleAudienceConditionsStringUpdate=function(t){var r=K.a.deriveAudienceConditionsJsonFromString(t),i=K.a.derivePrettyStringFromImmutableList(r);a.setStateAndUpdateParent({audienceConditions:r||Object(P.toImmutable)([]),audienceConditionsString:i||t,audienceMatchType:K.a.deriveAudienceMatchTypeFromConditions(r)})},a.handleAudienceMatchTypeUpdate=function(t){var r=a.state.audienceConditions.set(0,t===te?Q:X),i=K.a.derivePrettyStringFromImmutableList(r);a.setStateAndUpdateParent({audienceConditions:r,audienceConditionsString:i,audienceMatchType:t})},a.handleCreateOrEditAudience=function(t){var r=t.id,i=void 0===r?null:r,o=t.name,c=void 0===o?"":o,l=$.Deferred();i||l.then((function(t){a.handleAudienceAddOrRemove(t.id,re)})),a.state.isFetchingAudienceDialogInfo||(a.setState({isFetchingAudienceDialogInfo:!0}),B.actions.fetchOrCreateAudience(i,c).then((function(t){G.actions.showAudienceEditorDialog(t,l).then((function(){a.setState({isFetchingAudienceDialogInfo:!1})}))})))},a.handleViewExperimentUsage=function(t){x.default.showReactDialog(N.a,{props:{selectedAudienceId:t}},{isOuiDialog:!0,fullScreen:!1,dismissOnBack:!0})},a.handleToggleCodeMode=function(){a.state.audienceMatchType!==ne&&a.setState((function(t){return{isCodeMode:!t.isCodeMode}}))},a.state=_extends({isFetchingAudienceDialogInfo:!1,isCodeMode:!1},a.deriveComponentStateFromAudienceConditionsProp()),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(AudienceCombinationsBuilder,[{key:"componentDidMount",value:function componentDidMount(){Object(Y.trackHeroElement)("audience_picker")}},{key:"render",value:function render(){var t=this,r=this.props,a=r.availableAudiences,i=r.currentLayer,o=r.poptipContent,c=r.canEditAudience,u=r.isWebProject,d=r.shouldShowAudienceCombinationOptions,p=r.inForm,P=r.isFullStackProject,R=this.state,N=R.audienceConditions,x=R.audienceConditionsString,j=R.audienceMatchType,M=R.isFetchingAudienceDialogInfo,U=R.isCodeMode,B=k.fns.deriveAudienceIdsFromAudienceConditions(N),G=this.validateAudienceConfig(x,B),Y=Object(g.isFeatureEnabled)("usage_inspector_audiences");return l.a.createElement("div",{className:"position--relative"},l.a.createElement(W.default,{isLoading:M},l.a.createElement(z.a,{alternateContent:l.a.createElement("div",{title:"Something went wrong","data-test-section":"audiences-error-boundary"},l.a.createElement("h3",null,"Audiences"),"There was an error loading Audiences. Please refresh the page or visit our Help Center if the issue persists.",l.a.createElement("div",{className:"display--block push--top"},l.a.createElement(h.a,{style:"highlight",onClick:function onClick(){return Object(H.b)()}},"Optimizely Help Center")))},l.a.createElement(y.a,{allEntities:a,selectedEntityIds:B,keysToSearch:["name","description"],testSection:"audience-combinations-builder"},(function(r){var g=r.availableEntities,R=r.filterQuery,N=r.handleFilterInput,k=r.selectedEntities;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"flex"},l.a.createElement("div",{className:"flex--1"},l.a.createElement(v.a,null,p?l.a.createElement("h3",{className:"display--inline-block flush"},"Audiences"):l.a.createElement("h2",{className:"display--inline-block flush"},"Audiences"),l.a.createElement(_.a,{horizontalAttachment:"left",popoverTitle:"Audiences",verticalAttachment:"top",testSection:"audiences-help-popover"},l.a.createElement(l.a.Fragment,null,o,d&&l.a.createElement("span",{"data-test-section":"audiences-help-popover-optional-combination-note"},"When multiple Audiences are selected, you can choose a combination of ",l.a.createElement("em",null,"any")," or"," ",l.a.createElement("em",null,"all")," of the selected Audiences, or even define a custom combination in"," ",l.a.createElement("em",null,"Code Mode"),"."))))),d&&l.a.createElement(E.a,{content:"Due to the structure or syntax of your conditions, you can only edit this Audience combination in Code Mode",disable:G.isValid&&j!==ne,isAnimated:!1},l.a.createElement("div",{className:"soft-half--top"},l.a.createElement(b.a,{isDisabled:!G.isValid||j===ne,label:"Code Mode",onChange:t.handleToggleCodeMode,"data-test-section":"code-mode-toggle",checked:U})))),l.a.createElement("div",{className:"push--ends"},"Choose the audiences who should see this ".concat(V.default.isMultiArmedBandit(i)?"multi-armed bandit":"experience")),d&&B.length>1&&j!==ne&&!U&&l.a.createElement("div",{className:"push--ends"},l.a.createElement(T.a,{arrowIcon:"down",buttonContent:t.dropdownOptions.find((function(t){return t.type===j})).renderTitle,isDisabled:!c,style:"outline",value:j,width:300,testSection:"audience-combination-dropdown"},l.a.createElement(S.a,null,t.dropdownOptions.map((function(r){var a=r.description,i=r.type;return l.a.createElement(S.a.Category,{key:i},l.a.createElement(S.a.Item,{onClick:function onClick(){return t.handleAudienceMatchTypeUpdate(i)},testSection:"dropdown-option-".concat(i)},l.a.createElement("div",{className:"flex flex-align--center"},l.a.createElement("div",{className:"flex--1"},l.a.createElement("div",null,t.dropdownOptions.find((function(t){return t.type===i})).renderTitle),l.a.createElement("div",{className:"muted micro"},a)))))}))))),!u&&0!==B.length&&G.isValid&&j!==te&&l.a.createElement("div",{className:m()({"push--bottom":j===ne,"push-half--bottom":j!==ne})},l.a.createElement(C.a,{alignment:"center",type:"brand",testSection:"sdk-compatibility-warning"},"Using this Audience combination requires Optimizely SDK version 3.0 or greater."," ",l.a.createElement(I.a,{newWindow:!0,href:"https://docs.developers.optimizely.com/full-stack/docs/set-audiences-for-experiments-and-rollouts"},"Learn More"),".")),!U&&l.a.createElement("div",{"data-test-section":"selected-audiences"},!k.size&&l.a.createElement("div",{className:"push-double--ends"},l.a.createElement("div",{className:"display--inline-block"},l.a.createElement(A.a,{name:"Everyone",testSection:"selected-audience-everyone"}))),!!k.size&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"muted"},"To pass Audience evaluation, a visitor must match"),l.a.createElement("div",{className:"push-half--top push-double--bottom"},k.map((function(r,a){return l.a.createElement(l.a.Fragment,{key:r.get("id")},l.a.createElement("div",{className:"flex flex-align--center","data-test-section":"selected-audience"},l.a.createElement("div",{className:"flex--1"},l.a.createElement("div",{className:"display--inline-block"},l.a.createElement(A.a,{isDismissible:c,name:r.get("name"),onDismiss:function onDismiss(){return t.handleAudienceAddOrRemove(r.get("id"),ae)},testSection:"selected-audience-".concat(r.get("id"))}),u&&Y&&l.a.createElement("span",{className:"micro muted soft-half--left"},"Used in"," ",r.get("experiment_count")," ","experiments"))),l.a.createElement(w.a,{activator:l.a.createElement(h.a,{testSection:"audience-combinations-builder-actions",size:"small",style:"outline"},l.a.createElement("div",{className:"flex flex-align--center"},l.a.createElement("span",{className:"flex flex--1"},"Actions"),l.a.createElement("span",{className:"push--left oui-arrow-inline--down"})))},l.a.createElement(w.e,{direction:"left",minWidth:"200px"},l.a.createElement(w.f,{hideOnClick:!0},l.a.createElement(w.b,{isLink:!0,onClick:function onClick(){return t.handleCreateOrEditAudience({id:r.get("id")})},testSection:"view-selected-audience-".concat(r.get("id"))},"Edit"),!P&&l.a.createElement(L.OptimizelyFeature,{feature:"usage_inspector_audiences"},(function(a){return a&&l.a.createElement(w.b,{isLink:!0,onClick:function onClick(){return t.handleViewExperimentUsage(r.get("id"))},testSection:"view-experiment-usage-audience-".concat(r.get("id"))},"View Experiment Usage")})))))),k.size!==a+1&&l.a.createElement("div",{className:"push-half--sides push-half--ends muted","data-test-section":"combination-operator"},j===te&&"Or",j===ee&&"And must also match"))}))))),U&&l.a.createElement(l.a.Fragment,null,l.a.createElement(q.a,{isReadOnly:!c,maxHeight:900,onChange:t.handleAudienceConditionsStringUpdate,options:{lint:!1},testSection:"audience-conditions-code-mirror",value:x}),l.a.createElement("div",{className:"oui-form-note"},"For help writing condition code, see our"," ",l.a.createElement(I.a,{href:"https://docs.developers.optimizely.com/full-stack/docs/set-audiences-for-experiments-and-rollouts#section-step-3-define-the-conditions",newWindow:!0},"API documentation"),"."),l.a.createElement("div",{className:"push--top push-double--bottom"},l.a.createElement(v.a,null,l.a.createElement("span",{className:"weight--bold"},"Evaluated Audiences")),l.a.createElement("div",{className:m()({"color--bad-news":!G.isValid}),"data-test-section":"evaluated-audiences"},G.isValid?D.fns.getPlaceHolderNameFromAudiences(x,a)||"Everyone":Object.values(G.validations).join(" ")))),c&&G.isValid&&l.a.createElement("div",{className:"oui-filter-picker-list","data-test-section":"audience-picker"},l.a.createElement(O.a,{isFilter:!0,onInput:N,placeholder:"Browse for Audiences",testSection:"filter-audiences-input",type:"search"}),l.a.createElement(S.a,{hasBorder:!0},l.a.createElement(S.a.Category,null,l.a.createElement(y.a.ListItem,{name:"Create New Audience".concat(R?' "'.concat(R,'"'):"","..."),onClick:function onClick(){return t.handleCreateOrEditAudience({name:R})},testSection:"create-new-audience"})),l.a.createElement("div",{className:"max-scroll--medium"},l.a.createElement(S.a.Category,{header:!!g.size&&"Recently Created Audiences"},g.map((function(r){return l.a.createElement(y.a.ListItem,{key:r.get("id"),id:r.get("id"),name:r.get("name"),description:r.get("description"),onClick:function onClick(r,a){return t.handleAudienceAddOrRemove(a,re)},buttonText:"View",onButtonClick:function onButtonClick(){return t.handleCreateOrEditAudience({id:r.get("id")})},testSection:"available-audience-".concat(r.get("id"))})})))))))})))))}}]),AudienceCombinationsBuilder}(c.Component)).displayName="AudienceCombinationsBuilder",o.propTypes={availableAudiences:d.a.instanceOf(P.default.List).isRequired,currentLayer:d.a.instanceOf(P.default.Map),isWebProject:d.a.bool.isRequired,inForm:d.a.bool,projectId:d.a.number.isRequired,shouldShowAudienceCombinationOptions:d.a.bool.isRequired,audienceConditions:d.a.instanceOf(P.default.List),canEditAudience:d.a.bool,defaultAudienceMatchType:d.a.oneOf([ee,te]),onSelectionChange:d.a.func,poptipContent:d.a.node,isFullStackProject:d.a.bool.isRequired},o.defaultProps={audienceConditions:Object(P.toImmutable)([]),canEditAudience:!0,currentLayer:P.default.Map(),defaultAudienceMatchType:te,inForm:!1,onSelectionChange:function onSelectionChange(){},poptipContent:l.a.createElement("p",null,"Who do you want to be included in this experience?")},i=o))||i;r.a=ie},function(t,r,a){"use strict";var i=a(36),o=a(933);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a);c.save,c.fetch,c.fetchAll,c.fetchPage,c.fetchAllPages,c.flush,c.delete;r.a=_extends({},c)},function(t,r,a){"use strict";r.a={entity:"attribute_definitions",isRelationshipEntity:!0,parents:[{entity:"custom_audience_integrations",key:"integration_id"},{entity:"attribute_definitions",key:"integration_id"}]}},function(t,r,a){"use strict";r.a={entity:"list_attributes",parent:{entity:"projects",key:"project_id"}}},function(t,r,a){"use strict";var i=a(33),o={id:i.a.NUMBER,account_id:i.a.NUMBER,project_id:i.a.NUMBER,name:i.a.STRING,file_size_in_bytes:i.a.NUMBER,format:i.a.STRING,key_fields:i.a.STRING,created:i.a.DATE,last_modified:i.a.DATE};r.a={entity:"targeting_lists",parent:{entity:"projects",key:"project_id"},fieldTypes:o}},,,,function(t,r,a){"use strict";a.r(r);var i=a(1237);a.d(r,"actions",(function(){return i.a}));var o=a(419);a.d(r,"entityDef",(function(){return o.a}));var c=a(1238);a.d(r,"enums",(function(){return c.a}));var l=a(1239);a.d(r,"fns",(function(){return l.a}));var u=a(798);a.d(r,"getters",(function(){return u.a})),r.default={actions:i.a,entityDef:o.a,enums:c.a,fns:l.a,getters:u.a}},,function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(87),m=a(4),g=a.n(m),h=a(135),y=a(990),v=a(535),_=a(19),E=a(52),b=a(11),T=a(54),S=a(2),C=a(326),I=a(94),A=a(888),O=a.n(A);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=Object(p.b)("user_friendly_names")(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(EntitySearchTable,t);var r=_createSuper(EntitySearchTable);function EntitySearchTable(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,EntitySearchTable),(a=r.call(this,t)).tableScrollContainerRef=l.a.createRef(),a.submitQueryWithErrorHandling=function(){var t=a.props.submitQuery;return t.apply(void 0,arguments).catch(a.handleSearchError)},a.changeQueryWithErrorHandling=function(){var t=a.props.changeQuery;return t.apply(void 0,arguments).catch(a.handleSearchError)},a.debouncedChangeQuery=g.a.debounce(a.changeQueryWithErrorHandling,750),a.handleSearchError=function(){a.setState({didError:!0})},a.onSearchInputChange=function(t){var r=t.target.value;a.setState({searchInputValue:r},(function(){a.debouncedChangeQuery(r)}))},a.onSearchInputKeyDown=function(t){"Enter"===t.key&&a.onSearchInputChange(t)},a.onStatusFilterChange=function(t){var r=a.props,i=r.changeFilters,o=r.currentSearchOptions,c=r.filterToStatuses,l=r.filterToArchivedState,u=c[t],d=l[t];a.setState({searchStatusFilterValue:t},(function(){i(o.type,u,d).catch(a.handleSearchError)}))},a.onSearchPageChange=function(t){(0,a.props.changePage)(t).then((function(t){return a.tableScrollContainerRef&&a.tableScrollContainerRef.current&&a.tableScrollContainerRef.current.scrollTo(0,0),t})).catch(a.handleSearchError)},a.toggleSortForColumn=function(t){var r,i=a.props,o=i.currentSearchOptions,c=i.changeSort,l=I.a.searchDefaultSortOrder[t]||I.a.searchSortOrders.ASC,u=(_defineProperty(r={},I.a.searchSortOrders.ASC,I.a.searchSortOrders.DESC),_defineProperty(r,I.a.searchSortOrders.DESC,I.a.searchSortOrders.ASC),r);o.sort===t&&(l=u[o.order]),c(t,l).catch(a.handleSearchError)},a.resetFilters=function(){var t=a.props.defaultFilterValue;a.setState({searchInputValue:"",searchStatusFilterValue:t},(function(){a.submitQueryWithErrorHandling()}))},a.renderStatusFilterDropdown=function(){var t=a.props.filterOptions,r=a.state,i=r.searchStatusFilterValue,o=r.didInitialize,c=t.find((function(t){return t.value===i}));return l.a.createElement(h.a,{buttonContent:{label:"Status",content:c.label},items:t,value:i,buttonStyle:"plain",onChange:a.onStatusFilterChange,isDisabled:!o})},a.renderPaginationControls=function(){var t=a.props,r=t.totalPages,i=t.currentSearchOptions;if(!(r<2))return l.a.createElement("div",{className:"soft-double--top soft--bottom border--top"},l.a.createElement(y.a,{currentPage:i.page||1,totalPages:r,goToPage:a.onSearchPageChange}))},a.renderErrorMessage=function(){return l.a.createElement(v.a,{button:l.a.createElement(_.a,{onClick:function onClick(){return Object(C.b)()},style:"highlight"},"Optimizely Help Center"),description:l.a.createElement("div",{className:"reading-column flush--top"},"Don't worry, most issues are minor. Please refresh the page or visit our Help Center if the issue persists."),headline:"Something went wrong",showButtonBelow:!0,testSection:"entity-search-table-error"})},a.renderTableHeader=function(){var t=a.props,r=t.currentSearchOptions;return(0,t.renderTableHeader)(r.sort,r.order,a.toggleSortForColumn)},a.renderTableRow=function(t){return(0,a.props.renderTableRow)(t)},a.state={searchInputValue:"",searchStatusFilterValue:t.defaultFilterValue,didError:!1,didInitialize:!1},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(EntitySearchTable,[{key:"componentDidMount",value:function componentDidMount(){var t=this,r=this.props.onFirstPageLoad;this.submitQueryWithErrorHandling().then((function(){return t.setState({didInitialize:!0}),r()}))}},{key:"render",value:function render(){var t=this.props,r=t.data,a=t.currentSearchOptions,i=t.isTableLoading,o=t.renderCreateDropdown,c=t.renderEmptyDashboard,u=t.defaultFilterValue,d=t.entityPlural,p=t.tableInfo,m=this.state,g=m.searchStatusFilterValue,h=m.searchInputValue,y=m.didError,v=m.didInitialize;if(y)return this.renderErrorMessage();var _=0===r.size&&""===a.query&&!i&&g===u;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:_?"flex flex--1 flex--column":"d-none"},c({onStatusFilterChange:this.onStatusFilterChange.bind(this)})),_?null:l.a.createElement("div",{className:"flex flex--1 flex--column"},l.a.createElement("div",{className:"flex push-double--ends push-quad--sides"},l.a.createElement("div",{className:"flex flex--1"},l.a.createElement("div",{className:"width--300 push--right"},l.a.createElement(E.a,{value:h,onChange:this.onSearchInputChange,onKeyDown:this.onSearchInputKeyDown,isFilter:!0,isDisabled:!v,type:"text",placeholder:this.user_friendly_names?"Filter by name, key, or description":"Filter by key or description",testSection:"entity-search-box"})),this.renderStatusFilterDropdown()),o()),l.a.createElement("div",{className:"position--relative flex flex--1 flex--column soft-double--sides soft-double--bottom overflow-y--auto"},l.a.createElement("div",{className:"flex--1 overflow-y--auto",ref:this.tableScrollContainerRef},l.a.createElement(T.default,{isLoading:i},0!==r.size||i?l.a.createElement(l.a.Fragment,null,p,l.a.createElement(b.a,{tableLayoutAlgorithm:"auto",density:"loose",style:"rule-no-bottom-border"},l.a.createElement(b.a.THead,null,this.renderTableHeader()),l.a.createElement(b.a.TBody,null,r.map(this.renderTableRow)))):l.a.createElement(O.a,{entityPlural:d,testSection:"empty-search-results",resetFilters:this.resetFilters}))),this.renderPaginationControls())))}}]),EntitySearchTable}(l.a.Component)).displayName="EntitySearchTable",o.propTypes={changeFilters:d.a.func.isRequired,changePage:d.a.func.isRequired,changeQuery:d.a.func.isRequired,changeSort:d.a.func.isRequired,currentProject:d.a.instanceOf(S.default.Map).isRequired,currentSearchOptions:d.a.shape({}).isRequired,data:d.a.instanceOf(S.default.List).isRequired,defaultFilterValue:d.a.any.isRequired,entityPlural:d.a.string.isRequired,filterOptions:d.a.arrayOf(d.a.shape({label:d.a.string.isRequired,value:d.a.any})).isRequired,filterToArchivedState:d.a.shape({}).isRequired,filterToStatuses:d.a.shape({}).isRequired,isTableLoading:d.a.bool.isRequired,onFirstPageLoad:d.a.func,renderCreateDropdown:d.a.func.isRequired,renderEmptyDashboard:d.a.func.isRequired,renderTableHeader:d.a.func.isRequired,renderTableRow:d.a.func.isRequired,submitQuery:d.a.func.isRequired,tableInfo:d.a.node,totalPages:d.a.number.isRequired},o.defaultProps={onFirstPageLoad:function onFirstPageLoad(){},tableInfo:null},i=o))||i;r.a=P},function(t,r,a){var i=a(4),o=(0,a(41).default)(a(2755));t.exports=i.extend(o,{})},,,function(t,r,a){"use strict";var i=a(41),o=a(1406);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a);r.a=_extends({},c)},,,function(t,r,a){"use strict";var i=a(41),o=a(1407);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a);c.byId,c.entityCache;r.a=_extends({},c)},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(154),m=a(19),g=a(2),h=a(5),y=a(28),v=a(73),_=a(43),E=a(169),b=a(14),T=a(49),S=a(246),C=a(131),I=a(54),A=a(1940),O=a(2201),P=a(2202),R=a(2203),w=a(2204),N=a(2240),L=a(300),x=a.n(L);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var D=Object(y.a)({account:_.getters.accountInfo,currentUser:E.b.currentUser,currentProject:b.getters.project,activeVersion:S.d.activeVersion,canAccountUseOnlineTickets:T.getters.canAccountUseOnlineTickets})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(SupportDialog,t);var r=_createSuper(SupportDialog);function SupportDialog(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,SupportDialog),(a=r.call(this,t)).getSupportLevels=function(){a.setIsLoading(!0),A.a.getSupportLevels().then((function(t){a.setIsLoading(!1),a.setState({isEntitledToPrioritySupport:t.is_entitled_to_priority_support})})).fail(x()((function(){a.setIsLoading(!1),a.setState({isEntitledToPrioritySupport:!1})})))},a.planDisplayName=function(){var t=a.props.account;return t?"Non_subscribed lead"===t.get("planDisplayName")?" Optimizely":t.get("isSubscribed")?" ".concat(t.get("planDisplayName")):" ".concat(t.get("planDisplayName")," (inactive)"):""},a.switchStepHandler=function(t){a.setState({currentStep:t})},a.setCategoryId=function(t){a.setState({categoryId:t})},a.setCaseType=function(t){a.setState({caseType:t})},a.setRequestStatus=function(t){a.setState({requestStatus:t})},a.setZendeskTicketId=function(t){a.setState({zendeskTicketId:t})},a.setIsLoading=function(t){a.setState({isLoading:t})},a.state={isLoading:!1,currentStep:v.b.steps.HELP_CENTER_HOME,categoryId:"",caseType:null,requestStatus:null,zendeskTicketId:null,isEntitledToPrioritySupport:!1},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(SupportDialog,[{key:"componentDidMount",value:function componentDidMount(){this.getSupportLevels()}},{key:"render",value:function render(){var t=this.props,r=t.account,a=t.activeVersion,i=t.canAccountUseOnlineTickets,o=t.currentProject,c=t.currentUser,u=t.errorId,d=t.onClose,g=this.state,h=g.currentStep,y=g.categoryId,_=g.caseType,E=g.requestStatus,b=g.zendeskTicketId,T=g.isLoading,A=g.isEntitledToPrioritySupport,L=v.b.steps,x=L.HELP_CENTER_HOME,D=L.CHOOSE_CATEGORY,k=L.CHOOSE_CASE_TYPE,j=L.REQUEST_FORM,M=L.TICKET_STATUS;return l.a.createElement(p.a,{testSection:"support-dialog",title:"Optimizely Help Center",onClose:d,footerButtonList:[l.a.createElement(m.a,{key:"cancel",onClick:d,style:"plain",testSection:"cancel-button"},"Cancel")]},l.a.createElement(I.default,{isLoading:T,className:"overflow-y--auto flex flex--1"},l.a.createElement(C.d,null,h===x&&l.a.createElement(O.a,{canAccountUseOnlineTickets:i,isEntitledToPrioritySupport:A,isEmailVerified:c.get("email_verified"),switchStepHandler:this.switchStepHandler}),h===D&&l.a.createElement(P.a,{setCaseType:this.setCaseType,setCategoryId:this.setCategoryId,switchStepHandler:this.switchStepHandler}),h===k&&l.a.createElement(R.a,{categoryId:y,setCaseType:this.setCaseType,switchStepHandler:this.switchStepHandler}),h===j&&l.a.createElement(w.a,{accountId:r.get("accountId"),categoryId:y,caseType:_,currentProject:o,errorId:u,isOptimizelyX:a===S.c.versions.OPTIMIZELY_X,setCategoryId:this.setCategoryId,setIsLoading:this.setIsLoading,setRequestStatus:this.setRequestStatus,setZendeskTicketId:this.setZendeskTicketId,switchStepHandler:this.switchStepHandler,userPlanId:r.get("planId"),userLocale:r.get("userLocale")}),h===M&&l.a.createElement(N.a,{requestStatus:E,zendeskTicketId:b}))))}}]),SupportDialog}(l.a.Component)).propTypes={account:d.a.instanceOf(g.default.Map).isRequired,activeVersion:d.a.string.isRequired,canAccountUseOnlineTickets:d.a.instanceOf(g.default.Map).isRequired,currentProject:d.a.instanceOf(g.default.Map).isRequired,currentUser:d.a.instanceOf(g.default.Map).isRequired,errorId:d.a.string,onClose:d.a.func},o.defaultProps={errorId:"",onClose:h.default.hideDialog},i=o))||i;r.a=D},,function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({UPDATE_CURRENTLY_SELECTED_TRAFFIC_ALLOCATION_POLICY:null})},function(t,r,a){"use strict";var i=a(17),o=a.n(i)()({CONFIGURE:null,IFRAME:null});r.a={mainPanelState:o}},function(t,r,a){"use strict";a.r(r);var i=a(515);a.d(r,"fns",(function(){return i.default}));var o=a(1221);a.d(r,"getters",(function(){return o.a})),r.default={fns:i.default,getters:o.a}},,function(t,r,a){"use strict";r.a={isRelationshipEntity:!0,entity:"user_roles",parents:[{entity:"accounts",key:"account_id"},{entity:"user_roles",key:"user_id"}]}},function(t,r,a){"use strict";var i=a(1241);a.d(r,"a",(function(){return i.a}));var o=a(589),c=a(812);a.d(r,"b",(function(){return c.a}));var l=a(1242),u=a(1243);a.d(r,"c",(function(){return u.a}));i.a,o.a,c.a,l.a,u.a},function(t,r,a){"use strict";var i=a(1250);a.d(r,"a",(function(){return i.a}));var o=a(565),c=a(1251);a.d(r,"b",(function(){return c.a}));var l=a(788);i.a,o.a,c.a,l.a},function(t,r,a){"use strict";var i=a(1269);a.d(r,"a",(function(){return i.a}));var o=a(577),c=a(1270);a.d(r,"b",(function(){return c.a}));var l=a(797);i.a,o.a,c.a,l.a},function(t,r,a){"use strict";var i=a(13),o=a(121),c=a(211),l=a(464),u=a(214),d=[i.default.events,function(t){return t.filter((function(t){return t.get("event_type")===o.a.eventTypes.CUSTOM}))}];r.a={currentProjectEvents:d,filteredAndSortedEvents:function filteredAndSortedEvents(t){return[d,l.a.fieldFilter(t,"status"),l.a.stringFilter(t),u.default.sortFn(t),function(t,r,a,i){return t=c.default.filterByArchivedStatus(t,r),t=c.default.filterFieldsByString(t,a,["name","description","id"]),i&&(t=t.sort(i)),t}]}}},,,function(t,r,a){var i=a(12);t.exports={data:{show:!0},bind:function bind(){var t=this;i(this.el).find("> a").on("click",(function(r){r.preventDefault(),function discloseActivate(t,r){var a=i(r).parent(".lego-disclose");a.hasClass("is-active")?a.removeClass("is-active"):a.addClass("is-active")}(t.el,r.target)}))}}},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(9),d=a.n(u),p=a(190),m=a(19),g=a(26),h=a(1),y=a.n(h),v=a(151),_=a(31),E=a(5),b=a(3),T=a(35),S=a(24),C=a(2),I=a(28),A=a(61),O=a.n(A),P=a(117),R=a(83),w=a(261),N=a.n(w),L=a(66),x=a.n(L),D=a(363),k=a.n(D),j=a(613),M=a(315),U=a.n(M),V=a(689),B=a(340),G=a(13),H=a(22),z=a(39),W=a(672),q=a.n(W),Y=a(350),K=a(659),J=a(660),X=a(2543);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $=Object(I.a)((function(t){var r=t.currentLayer;return{canArchiveLayer:[G.default.project,H.default.canDeleteLayer],canDeactivateLayer:[G.default.project,H.default.canDeactivateLayer.bind(H.default)],canUsePreview:z.default.canUsePreview,currentLayer:x.a.layer,currentProjectId:G.default.id,disableStartButton:X.a.disableStartButton,hasAnyProcessingAdaptiveAudienceConditions:x.a.hasAnyProcessingAdaptiveAudienceConditions,isUsingV2Snippet:G.default.isUsingV2Snippet,qaUrl:q.a.campaignQAUrl,isActive:j.a.isActive(r.get("id")),liveTag:j.a.liveTag(r.get("id")),showPlayButton:j.a.showPlayButton(r.get("id"))}}))(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(LayerActionsButtons,t);var r=_createSuper(LayerActionsButtons);function LayerActionsButtons(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,LayerActionsButtons),(a=r.call(this,t)).activateTag=function(){var t=a.props,r=t.currentLayer,i=t.hasAnyProcessingAdaptiveAudienceConditions,o=t.liveTag,c=a.state.text;o&&E.default.confirm({title:i?c.adaptive.title:c.start.title,message:i?c.adaptive.message:c.start.message,confirmText:c.start.confirmText,doSanitizeHTML:!1}).then((function(){a.startCampaign(r)}))},a.deactivateTag=function(){var t=a.props,r=t.currentLayer,i=t.liveTag,o=a.state.text,c=r.get("id");i&&E.default.confirm({title:o.pause.title,message:o.pause.message,isWarning:!0,confirmText:o.pause.confirmText}).then((function(){k.a.startPausing(c),N.a.pauseCampaign(Object(C.toJS)(r)).then((function(){E.default.showNotification({message:o.pause.confirmationText})})).finally((function(){k.a.finishPausing(c),v.api.track("Experiment Paused")}))}))},a.navigateToResults=function(){var t,r=a.props,i=r.currentLayer,o=r.currentProjectId,c=i.get("id"),l=b.default.evaluate(x.a.campaignExperimentsByLayerId(c)).get(0),u=R.default.isMultivariateTestLayer(i),d=R.default.isABTestLayer(i),p=R.default.isPersonalizationLayer(i),m=null;u?t=Y.default.previousViews.MULTIVARIATE_SECTIONS:d?t=Y.default.previousViews.VARIATIONS:p&&(t=Y.default.previousViews.EXPERIENCES),o&&c&&t&&(p?m=S.default.layerResults(o,c,{previousView:t}):(u||d)&&l.get("id")&&(m=S.default.layerExperimentResults(o,c,l.get("id"),{previousView:t})),T.default.go(m))},a.previewCampaign=function(){var t=a.props,r=t.qaUrl,i=t.currentLayer;T.default.windowOpenInNewTab(r),O.a.trackMarketoEvent("x_campaign_nav_sidebar","preview","experiment_for_layer",i.get("id")),v.api.track("Experiment Previewed")},a.handleArchiveExperiment=function(){var t=a.props,r=t.currentLayer,i=t.currentProjectId,o=t.isActive,c=t.liveTag,l=a.state.text,u=r.get("id");return new Promise((function(t){c&&o?P.default.archive({id:u}).then((function(){k.a.startPausing(u),B.default.deactivateTag({layer_id:c.get("layer_id")}).then((function(t){V.a.verify({projectId:i,revisionToVerify:t.project_code_revision})})).always((function(){k.a.finishPausing(u)}));var r=S.default.xWebHome(i);T.default.go(r),E.default.showNotification({message:l.archiveAndPause.confirmationText}),v.api.track("Experiment Archived"),t()})):P.default.archive({id:u}).then((function(){var t=S.default.xWebHome(i);T.default.go(t)})).then((function(){E.default.showNotification({message:l.archive.confirmationText}),v.api.track("Experiment Archived"),t()}))}))},a.onArchiveClick=function(){if(a.props.currentLayer.get("archived"))return a.setState({isUnarchiveModalOpen:!0});a.setState({isArchiveModalOpen:!0})},a.archiveLayer=function(){var t=a.props,r=t.currentLayer,i=t.currentProjectId,o=t.isActive,c=t.liveTag,l=a.state.text,u=r.get("id");if(r.get("archived"))return P.default.unarchive({id:u}).then((function(){E.default.showNotification({message:l.unarchive.message})}));c&&o?E.default.confirm({title:l.archiveAndPause.title,message:l.archiveAndPause.message,isWarning:!0,confirmText:l.archiveAndPause.confirmText}).then((function(){P.default.archive({id:u}),k.a.startPausing(u),B.default.deactivateTag({layer_id:c.get("layer_id")}).then((function(t){V.a.verify({projectId:i,revisionToVerify:t.project_code_revision})})).always((function(){k.a.finishPausing(u)}));var t=S.default.xWebHome(i);T.default.go(t),E.default.showNotification({message:l.archiveAndPause.confirmationText}),v.api.track("Experiment Archived")})):E.default.confirm({title:l.archive.title,message:l.archive.message,isWarning:!0,confirmText:l.archive.confirmText}).then((function(){P.default.archive({id:u})})).then((function(){var t=S.default.xWebHome(i);T.default.go(t)})).then((function(){E.default.showNotification({message:l.archive.confirmationText}),v.api.track("Experiment Archived")}))};var i=a.props,o=i.currentLayer,c=i.hideResultsButton,l=R.default.getCampaignTypeOfLayer(Object(C.toJS)(o));return a.state={isArchiveModalOpen:!1,isUnarchiveModalOpen:!1,text:U.a.getText(l,o.get("name")),showResultsButton:!c},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(LayerActionsButtons,[{key:"layerIsArchived",value:function layerIsArchived(){var t=this.props.currentLayer;return t&&t.get("archived")}},{key:"startCampaign",value:function startCampaign(t){var r=this.state.text,a=t.get("id");k.a.startStarting(a),N.a.startCampaign(Object(C.toJS)(t)).then((function(){E.default.showNotification({message:r.start.confirmationText}),O.a.trackMarketoEvent("x_campaign_nav","start","experiment_for_layer",a),v.api.track("Experiment Started")})).finally((function(){k.a.finishStarting(a)}))}},{key:"render",value:function render(){var t=this,r=this.state,a=r.showResultsButton,i=r.isArchiveModalOpen,o=r.isUnarchiveModalOpen,c=this.props,u=c.canArchiveLayer,h=c.canDeactivateLayer,y=c.canUsePreview,v=c.currentLayer,E=c.disableStartButton,b=c.isUsingV2Snippet,T=c.liveTag,S=c.showPlayButton,C=Object(_.isFeatureEnabled)("disable_unarchive_experiment");return l.a.createElement("div",{className:"lego-grid push--top"},i&&l.a.createElement(K.a,{onArchiveClick:this.handleArchiveExperiment,closeArchiveModal:function closeArchiveModal(){t.setState({isArchiveModalOpen:!1})}}),o&&l.a.createElement(J.a,{closeArchiveModal:function closeArchiveModal(){t.setState({isUnarchiveModalOpen:!1})}}),l.a.createElement("div",{className:"flex-justified--center lego-grid__cell flex"},S?l.a.createElement(p.a,{trigger:"mouseenter",position:"top",disable:E,content:"Start"},l.a.createElement(m.a,{testSection:"campaign-overview-sidebar-play",style:"unstyled",isDisabled:E,key:"play",onClick:this.activateTag},l.a.createElement(g.a,{className:d()({"oui-icon oui-icon--medium":!0,muted:E}),name:"play",size:"small"}))):l.a.createElement(p.a,{trigger:"mouseenter",position:"top",disable:!T||!h,content:"Pause"},l.a.createElement(m.a,{testSection:"campaign-overview-sidebar-pause",style:"unstyled",isDisabled:!T||!h,key:"pause",onClick:this.deactivateTag},l.a.createElement(g.a,{className:d()({"oui-icon oui-icon--medium":!0,muted:!T||!h}),name:"pause",size:"small"})))),a&&l.a.createElement("div",{className:"lego-grid__cell flex flex-justified--center soft--left"},l.a.createElement(p.a,{trigger:"mouseenter",position:"top",disable:!T||!v.get("metrics").size,content:"Results"},l.a.createElement(m.a,{testSection:"campaign-overview-sidebar-results",style:"unstyled",isDisabled:!T||!v.get("metrics").size,key:"results",onClick:this.navigateToResults},l.a.createElement(g.a,{name:"chart-column",className:d()({"oui-icon oui-icon--medium":!0,muted:!T||!v.get("metrics").size}),size:"small"})))),y&&l.a.createElement("div",{className:d()({"flex flex-justified--center lego-grid__cell":!0,"soft--left":a})},l.a.createElement(p.a,{trigger:"mouseenter",position:"top",disable:!b||this.layerIsArchived(),content:"Preview"},l.a.createElement(m.a,{testSection:"campaign-overview-sidebar-preview",style:"unstyled",isDisabled:!b||this.layerIsArchived(),key:"next",onClick:this.previewCampaign},l.a.createElement(g.a,{name:"eye",size:"small",className:d()({"oui-icon oui-icon--medium":!0,muted:!b||this.layerIsArchived()})})))),l.a.createElement("div",{className:d()({"flex flex-justified--center lego-grid__cell":!0,"soft--left":a})},l.a.createElement(p.a,{trigger:"mouseenter",position:"top",disable:!u,content:this.layerIsArchived()?"Unarchive":"Archive"},l.a.createElement(m.a,{testSection:"campaign-overview-sidebar-archive",style:"unstyled",isDisabled:!u,key:"next",onClick:C?this.onArchiveClick:this.archiveLayer},l.a.createElement(g.a,{className:d()({"oui-icon oui-icon--medium":!0,muted:!u}),name:"box-archive",size:"small"})))))}}]),LayerActionsButtons}(l.a.Component)).propTypes={canArchiveLayer:y.a.bool.isRequired,canDeactivateLayer:y.a.bool.isRequired,canUsePreview:y.a.bool.isRequired,currentLayer:y.a.instanceOf(C.default.Map).isRequired,currentProjectId:y.a.number.isRequired,disableStartButton:y.a.bool.isRequired,hasAnyProcessingAdaptiveAudienceConditions:y.a.bool.isRequired,hideResultsButton:y.a.bool,isActive:y.a.bool.isRequired,isUsingV2Snippet:y.a.bool.isRequired,liveTag:y.a.instanceOf(C.default.Map).isRequired,qaUrl:y.a.string.isRequired,showPlayButton:y.a.bool.isRequired},o.defaultProps={hideResultsButton:!1},i=o))||i;r.a=$},function(t,r,a){"use strict";var i,o,c,l,u,d,p,m,g=a(9),h=a.n(g),y=a(2),v=a(1),_=a.n(v),E=a(0),b=a.n(E),T=a(99),S=a.n(T),C=a(28),I=a(38),A=a(14),O=a(23),P=a(70),R=a(225),w=a(350);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var N=Object(C.a)((function(t){var r=t.campaignType,a=t.layerId;return{isChangingStatus:R.c.isChangingStatus(a),publishStatusText:R.c.publishStatusText(a,r)}}))(((o=function(t){_inherits(PublishStatusText,t);var r=_createSuper(PublishStatusText);function PublishStatusText(){return _classCallCheck(this,PublishStatusText),r.apply(this,arguments)}return _createClass(PublishStatusText,[{key:"render",value:function render(){var t=this.props,r=t.isChangingStatus,a=t.publishStatusText;return b.a.createElement(b.a.Fragment,null,r&&b.a.createElement("div",{className:"lego-spinner lego-spinner--tiny","data-test-section":"campaign-overview-sidebar-spinner"}),b.a.createElement("div",{className:h()({micro:!0,muted:!0,"push-half--right":!0,"push-half--left":r}),"data-test-section":"campaign-overview-sidebar-publish-status"},a))}}]),PublishStatusText}(b.a.Component)).propTypes={campaignType:_.a.string.isRequired,isChangingStatus:_.a.bool.isRequired,layerId:_.a.number.isRequired,publishStatusText:_.a.string.isRequired},i=o))||i,L=Object(C.a)((function(t){var r=t.layerId,a=t.selectedExperimentId,i=t.shouldUseExperimentStatus,o=R.c.showGreenStatus(r),c=R.c.statusText(r);return i&&(o=R.c.showGreenStatusByExperimentId(a),c=R.c.statusTextByExperimentId(a)),{showGreenStatus:o,statusText:c}}))(((l=function(t){_inherits(StatusText,t);var r=_createSuper(StatusText);function StatusText(){return _classCallCheck(this,StatusText),r.apply(this,arguments)}return _createClass(StatusText,[{key:"render",value:function render(){var t=this.props,r=t.showGreenStatus,a=t.statusText;return b.a.createElement("div",{className:h()({micro:!0,"push-half--sides":!0,"color--good-news":r,muted:!r}),"data-test-section":"campaign-overview-sidebar-campaign-status"},S()(a))}}]),StatusText}(b.a.Component)).propTypes={layerId:_.a.number.isRequired,selectedExperimentId:_.a.number,shouldUseExperimentStatus:_.a.bool.isRequired,showGreenStatus:_.a.bool.isRequired,statusText:_.a.string.isRequired},l.defaultProps={selectedExperimentId:null},c=l))||c,x=Object(C.a)((function(t){var r=t.currentProjectId,a=t.layerId;return{isUploadingToCDN:R.c.isUploadingToCDN(r,a)}}))(((d=function(t){_inherits(UploadingToCDN,t);var r=_createSuper(UploadingToCDN);function UploadingToCDN(){return _classCallCheck(this,UploadingToCDN),r.apply(this,arguments)}return _createClass(UploadingToCDN,[{key:"render",value:function render(){return this.props.isUploadingToCDN?b.a.createElement("div",{className:"muted micro"},"(Uploading to CDN)"):null}}]),UploadingToCDN}(b.a.Component)).propTypes={currentProjectId:_.a.number.isRequired,isUploadingToCDN:_.a.bool.isRequired,layerId:_.a.number.isRequired},u=d))||u,D=Object(C.a)({currentLayer:I.getters.layer,currentProject:A.getters.project,currentProjectId:A.getters.id,selectedExperimentId:w.baseGetterPaths.selectedExperimentId})(((m=function(t){_inherits(LayerStatusIndicator,t);var r=_createSuper(LayerStatusIndicator);function LayerStatusIndicator(t){var a;return _classCallCheck(this,LayerStatusIndicator),(a=r.call(this,t)).campaignType=function(){var t=a.props.currentLayer;return O.fns.getCampaignTypeOfLayer(t)},a.shouldUseExperimentStatus=function(){var t=a.props,r=t.currentProject,i=t.selectedExperimentId;return P.fns.isCustomProject(r)&&i},a.layerId=t.currentLayer.get("id"),a}return _createClass(LayerStatusIndicator,[{key:"render",value:function render(){var t=this.props,r=t.currentProjectId,a=t.selectedExperimentId;return b.a.createElement("div",null,b.a.createElement("div",{className:"flex flex-align--center"},b.a.createElement(N,{campaignType:this.campaignType(),layerId:this.layerId}),b.a.createElement("span",{className:"muted"},"•"),b.a.createElement(L,{layerId:this.layerId,selectedExperimentId:a,shouldUseExperimentStatus:this.shouldUseExperimentStatus()})),b.a.createElement(x,{currentProjectId:r,layerId:this.layerId}))}}]),LayerStatusIndicator}(b.a.Component)).propTypes={currentLayer:_.a.instanceOf(y.default.Map).isRequired,currentProject:_.a.instanceOf(y.default.Map).isRequired,currentProjectId:_.a.number.isRequired,selectedExperimentId:_.a.number},m.defaultProps={selectedExperimentId:null},p=m))||p;r.a=D},function(t,r,a){"use strict";a.d(r,"a",(function(){return i}));var i=a(2544).a},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(31),l=a(35),u=a(3),d=a(10),p=a(86),m=a(37),g=a(22),h=a(737),y=a(95),v=a(6);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var _="Account Settings";function AccountDashboardSection(t,r){p.default.getAccountDashboardBundleModule().then((function(t){Object.assign(AccountDashboardSection,t)})).then(r)}var E=[{match:"/v2/accountsettings(/account)?",handle:[function(){u.default.evaluate([m.default.accountPermissions,g.default.canUseProjects.bind(g.default)])?l.default.redirect("/v2/accountsettings/projects"):l.default.redirect("/v2/accountsettings/security")}]},{match:"/v2/accountsettings/profile/(info|alerts)?",handle:[function(t){return l.default.redirect("/v2/profile/preferences?".concat(t.queryString))}]},{match:"/v2/accountsettings/apps(/access)?",handle:[function(){return l.default.redirect("/v2/profile/api")}]},{match:"/v2/accountsettings/security",metadata:{name:"Security and Privacy Settings",category:_},handle:[[AccountDashboardSection].concat(_toConsumableArray(v.a.standardNavHandlers(d.default.NavWidth.OPEN,d.default.NavItems.ACCOUNT)),[v.a.setActiveTab(d.default.NavItems.ACCOUNT,d.default.AccountTabs.SECURITY_TAB),v.a.fetchUserInfo]),function(t,r){return v.a.setPageTitle({category:_,name:"Security and Privacy Settings",next:r,showProjectName:!1})},function(){return v.a.renderMainRegion(o.a.createElement(AccountDashboardSection.pages.Security.component,null))}]},{match:"/v2/accountsettings/dcp-services",metadata:{name:"DCP Services",category:_},handle:[[AccountDashboardSection].concat(_toConsumableArray(v.a.standardNavHandlers(d.default.NavWidth.OPEN,d.default.NavItems.ACCOUNT)),[v.a.setActiveTab(d.default.NavItems.ACCOUNT,d.default.AccountTabs.DCP_SERVICE_TAB)]),function(t,r){return v.a.setPageTitle({category:_,name:"DCP Services",next:r,showProjectName:!1})},function(){return v.a.renderMainRegion(o.a.createElement(AccountDashboardSection.pages.DcpServices.component,null))}]},{match:"/v2/accountsettings/account/dcp-services",handle:[function(){return l.default.redirect("/v2/accountsettings/dcp-services")}]},{match:"/v2/accountsettings/account/plan",metadata:{name:"Plan Information",category:_},handle:[[AccountDashboardSection].concat(_toConsumableArray(v.a.standardNavHandlers(d.default.NavWidth.OPEN,d.default.NavItems.ACCOUNT)),[v.a.setActiveTab(d.default.NavItems.ACCOUNT,d.default.AccountTabs.PLAN_TAB)]),function(t,r){return AccountDashboardSection.pages.Plan.routingSetup(t,r)},function(t,r){return v.a.setPageTitle({category:_,name:"Plan Information",next:r,showProjectName:!1})},function(){return v.a.renderMainRegion(o.a.createElement(AccountDashboardSection.pages.Plan.component,null))}]},{match:"/v2/accountsettings/account/billing",metadata:{name:"Billing",category:_},handle:[[AccountDashboardSection].concat(_toConsumableArray(v.a.standardNavHandlers(d.default.NavWidth.OPEN,d.default.NavItems.ACCOUNT)),[function(t,r){if(Object(c.isFeatureEnabled)(y.b.FEATURES.zuora_uncoupling.FEATURE_KEY))return r();l.default.redirect("/v2/accountsettings")},v.a.setActiveTab(d.default.NavItems.ACCOUNT,d.default.AccountTabs.BILLING_TAB)]),function(t,r){return AccountDashboardSection.pages.Billing.routingSetup(t,r)},function(t,r){return v.a.setPageTitle({category:_,name:"Billing",next:r,showProjectName:!1})},function(){return v.a.renderMainRegion(o.a.createElement(AccountDashboardSection.pages.Billing.component,null))}]},{match:"/v2/accountsettings/account/plan-billing",metadata:{name:"Plan Billing",category:_},handle:[[AccountDashboardSection].concat(_toConsumableArray(v.a.standardNavHandlers(d.default.NavWidth.OPEN,d.default.NavItems.ACCOUNT)),[function(t,r){if(Object(c.isFeatureEnabled)(y.b.FEATURES.zuora_uncoupling.FEATURE_KEY))return r();l.default.redirect("/v2/accountsettings")},v.a.setActiveTab(d.default.NavItems.ACCOUNT,d.default.AccountTabs.PLAN_BILLING_TAB)]),function(t,r){return AccountDashboardSection.pages.PlanBilling.routingSetup(t,r)},function(t,r){var a=Object(c.isFeatureEnabled)(y.b.FEATURES.impression_usage_page.FEATURE_KEY)?"Billing":"Plan Billing";return v.a.setPageTitle({category:_,name:a,next:r,showProjectName:!1})},function(){return v.a.renderMainRegion(o.a.createElement(AccountDashboardSection.pages.PlanBilling.component,null))}]},{match:"/v2/accountsettings/account/usage",metadata:{name:"Usage",category:_},handle:[[AccountDashboardSection].concat(_toConsumableArray(v.a.standardNavHandlers(d.default.NavWidth.OPEN,d.default.NavItems.ACCOUNT)),[function(t,r){var a=u.default.evaluate(m.default.planId),i=h.a.planIds.PP_2020&&Object(c.isFeatureEnabled)(y.b.FEATURES.mau_visualization.FEATURE_KEY);if((a===h.a.planIds.PP_2017||i)&&Object(c.isFeatureEnabled)(y.b.FEATURES.impression_usage_page.FEATURE_KEY))return r();l.default.redirect("/v2/accountsettings")},v.a.setActiveTab(d.default.NavItems.ACCOUNT,d.default.AccountTabs.USAGE_TAB)]),function(t,r){return AccountDashboardSection.pages.Usage.routingSetup(t,r)},function(t,r){return v.a.setPageTitle({category:_,name:"Usage",next:r,showProjectName:!1})},function(){return v.a.renderMainRegion(o.a.createElement(AccountDashboardSection.pages.Usage.component,null))}]},{match:"/v2/accountsettings/classic",metadata:{name:"Optimizely Classic",category:_},handle:[[AccountDashboardSection].concat(_toConsumableArray(v.a.standardNavHandlers(d.default.NavWidth.OPEN,d.default.NavItems.ACCOUNT))),v.a.setActiveTab(d.default.NavItems.ACCOUNT,d.default.AccountTabs.OPTIMIZELY_CLASSIC_TAB),function(t,r){return v.a.setPageTitle({category:_,name:"Optimizely Classic",next:r,showProjectName:!1})},function(){return v.a.renderMainRegion(o.a.createElement(AccountDashboardSection.pages.OptimizelyClassic,null))}]},{match:"/v2/accountsettings/projects",metadata:{name:"Projects",category:_},handle:[[AccountDashboardSection].concat(_toConsumableArray(v.a.standardNavHandlers(d.default.NavWidth.OPEN,d.default.NavItems.ACCOUNT)),[v.a.setActiveTab(d.default.NavItems.ACCOUNT,d.default.AccountTabs.PROJECTS_TAB)]),function(t,r){return AccountDashboardSection.pages.Projects.routingSetup(t,r)},function(t,r){return v.a.setPageTitle({category:_,name:"Projects",next:r,showProjectName:!1})},function(){return v.a.renderMainRegion(o.a.createElement(AccountDashboardSection.pages.Projects.component,null))}]},{match:"/v2/accountsettings/registered-apps",metadata:{name:"Registered Apps",category:_},handle:[[AccountDashboardSection].concat(_toConsumableArray(v.a.standardNavHandlers(d.default.NavWidth.OPEN,d.default.NavItems.ACCOUNT)),[v.a.setActiveTab(d.default.NavItems.ACCOUNT,d.default.AccountTabs.REGISTERED_APPS_TAB),v.a.fetchDeveloperTabData]),function(t,r){return v.a.setPageTitle({category:_,name:"Registered Apps",next:r,showProjectName:!1})},function(){return v.a.renderMainRegion(o.a.createElement(AccountDashboardSection.pages.RegisteredApps.component,null))}]},{match:"/v2/accountsettings/snippets",metadata:{name:"Snippets",category:_},handle:[[AccountDashboardSection].concat(_toConsumableArray(v.a.standardNavHandlers(d.default.NavWidth.OPEN,d.default.NavItems.ACCOUNT)),[v.a.setActiveTab(d.default.NavItems.ACCOUNT,d.default.AccountTabs.SNIPPETS_TAB)]),function(t,r){return AccountDashboardSection.pages.CustomSnippets.routingSetup(t,r)},function(t,r){return v.a.setPageTitle({category:_,name:"Snippets",next:r,showProjectName:!1})},function(){return v.a.renderMainRegion(o.a.createElement(AccountDashboardSection.pages.CustomSnippets.component,null))}]},{match:"/v2/accountsettings/subject-access-requests",metadata:{name:"Subject Access Requests",category:_},handle:[[AccountDashboardSection].concat(_toConsumableArray(v.a.standardNavHandlers(d.default.NavWidth.OPEN,d.default.NavItems.ACCOUNT)),[v.a.setActiveTab(d.default.NavItems.ACCOUNT,d.default.AccountTabs.SUBJECT_ACCESS_REQUESTS_TAB)]),function(t,r){return v.a.setPageTitle({category:_,name:"Subject Access Requests",next:r,showProjectName:!1})},function(){return v.a.renderMainRegion(o.a.createElement(AccountDashboardSection.pages.SubjectAccessRequests.component,null))}]},{match:"/v2/accountsettings/users",metadata:{name:"Users",category:_},handle:[[AccountDashboardSection].concat(_toConsumableArray(v.a.standardNavHandlers(d.default.NavWidth.OPEN,d.default.NavItems.ACCOUNT)),[v.a.setActiveTab(d.default.NavItems.ACCOUNT,d.default.AccountTabs.USERS_TAB)]),function(t,r){return AccountDashboardSection.pages.Users.routingSetup(t,r)},function(t,r){return v.a.setPageTitle({category:_,name:"Users",next:r})},function(){v.a.renderMainRegion(o.a.createElement(AccountDashboardSection.pages.Users.component,null))}]}];r.a=E},,function(t,r,a){"use strict";a.d(r,"a",(function(){return v}));var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(19),d=a(109),p=a(98);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=l.a.forwardRef((function(t,r){return l.a.createElement("div",{className:"soft-double--ends",ref:r,style:{backgroundColor:"white",borderRadius:"5px",width:"500px"}},t.children)})),g=l.a.forwardRef((function(t,r){return l.a.createElement("div",{className:"muted soft-double--sides",ref:r},t.children)})),h=l.a.forwardRef((function(t,r){return l.a.createElement("div",{className:"beta push--bottom soft-double--sides",ref:r},t.children)})),y=l.a.forwardRef((function(t,r){return l.a.createElement("div",{className:"border--top soft--top push-double--top",ref:r},l.a.createElement("div",{className:"soft-double--sides"},t.children))})),v=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ToolTip,t);var r=_createSuper(ToolTip);function ToolTip(){return _classCallCheck(this,ToolTip),r.apply(this,arguments)}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ToolTip,[{key:"render",value:function render(){var t=this.props,r=t.backProps,a=t.closeProps,i=t.continuous,o=t.index,c=t.isLastStep,v=t.primaryProps,_=t.skipProps,E=t.size,b=t.step,T=t.tooltipProps,S=[];return o>0&&S.push(l.a.createElement(u.a,_extends({},r,{key:"back",style:"plain"}),"Back")),i&&!c&&S.push(l.a.createElement(u.a,_extends({},v,{key:"next",style:"highlight"}),"Next")),i&&!c||S.push(l.a.createElement(u.a,_extends({},a,{key:"done",style:"highlight"}),"Done")),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{position:"absolute",right:"0px",padding:"5px"}},l.a.createElement(d.a,_extends({},_,{iconName:"xmark",size:"small",style:"plain"}))),l.a.createElement(m,T,b.title&&l.a.createElement(h,null,b.title),l.a.createElement(g,null,b.content),l.a.createElement(y,null,l.a.createElement(p.a,{leftGroup:[l.a.createElement("div",{className:"weight--bold push-half--top",key:"step-indicator"},o+1," of ",E)],rightGroup:S}))))}}]),ToolTip}(l.a.Component);v.propTypes={backProps:o.a.object.isRequired,closeProps:o.a.object.isRequired,continuous:o.a.bool.isRequired,index:o.a.number.isRequired,isLastStep:o.a.bool.isRequired,primaryProps:o.a.object.isRequired,size:o.a.number.isRequired,step:o.a.object.isRequired,skipProps:o.a.object.isRequired,tooltipProps:o.a.object.isRequired}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(19),d=a(11),p=a(40),m=a(154),g=a(79),h=a(9),y=a.n(h),v=a(5),_=a(2),E=a(23),b=a(64),T=a(155),S=a(54),C=a(160),I=a(24);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var A=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ExperimentUsageTable,t);var r=_createSuper(ExperimentUsageTable);function ExperimentUsageTable(){var t;_classCallCheck(this,ExperimentUsageTable);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(t=r.call.apply(r,[this].concat(i))).renderButtonsInFooter=function(){return[o.a.createElement(u.a,{testSection:"close-button",style:"highlight",key:"Done",onClick:v.default.hideDialog},"Done")]},t.isRunning=function(t){return t===E.enums.status.RUNNING.toLowerCase()},t.getStatusClassName=function(r){return y()({"color--good-news":t.isRunning(r)})},t.renderTableRow=function(r,a){var i=t.props.currentProjectId,c=I.default.campaignHome(i,r.get("id"));return o.a.createElement(d.a.TR,null,o.a.createElement(d.a.TD,{testSection:"usage-experiment".concat(a,"-name")},o.a.createElement("div",null,o.a.createElement(p.a,{testSection:"view-edit-button",href:c},r.get("name")),o.a.createElement("div",{className:"micro muted"},r.get("description")))),o.a.createElement(d.a.TD,{testSection:"usage-experiment".concat(a,"-type")},E.humanReadable.TEXT_BY_LAYER_TYPE[r.get("type")].name),o.a.createElement(d.a.TD,{testSection:"usage-experiment".concat(a,"-status")},o.a.createElement("span",{className:t.getStatusClassName(r.get("status"))},E.humanReadable.STATUS_BY_ACTUAL_STATUS[r.get("status")])))},t.renderTableHeader=function(){return o.a.createElement("tr",null,o.a.createElement(b.SortableTableHeader,{field:"name",type:"string"},"Experiment Name"),o.a.createElement(b.SortableTableHeader,{field:"type",type:"string"},"Type"),o.a.createElement(b.SortableTableHeader,{field:"status",type:"string"},"Status"),o.a.createElement(d.a.TH,null))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ExperimentUsageTable,[{key:"render",value:function render(){var t=this.props,r=t.currentEntityId,a=t.entityType,i=t.entities,c=t.experimentsUsageAvailable,l=t.layers,u=t.onEntityChange;return o.a.createElement(m.a,{onClose:v.default.hideDialog,title:"Experiment Usage",footerButtonList:this.renderButtonsInFooter()},o.a.createElement(S.default,{isLoading:!c},o.a.createElement(T.default,{isFilterable:!0,testSection:"experiment-usage-entity-select",items:i,onChange:function onChange(t){return u(t)},value:r,width:320,minDropdownWidth:320}),o.a.createElement("div",{className:"soft-triple--top"},l.size?o.a.createElement(C.default,{tableId:"ExperimentsUsageDashboard",testSection:"experiment-usage-table",data:l,renderTableRow:this.renderTableRow,renderTableHeader:this.renderTableHeader,defaultSortBy:{field:"name",type:"string",dir:"desc"}}):o.a.createElement(g.a,{testSection:"no-experiment-usage-message"},"Experiments for this ",a," may be archived. Try another"," ",a,"."))))}}]),ExperimentUsageTable}(o.a.Component);A.propTypes={currentEntityId:l.a.number.isRequired,currentProjectId:l.a.number.isRequired,entities:l.a.array.isRequired,entityType:l.a.string.isRequired,experimentsUsageAvailable:l.a.bool.isRequired,layers:l.a.instanceOf(_.default.List).isRequired,onEntityChange:l.a.func.isRequired},r.a=A},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(222),d=a(223),p=a(26),m=a(2),g=a(63),h=a(77),y=a(1011),v=a(881),_=a(882),E=a(883),b=function VariablesEditTable(t){var r=t.isDisabled,a=t.variablesField,c=t.readOnly;Object(i.useEffect)((function(){var t=o.a.createElement("div",{className:"flex flex-align--center color--red"},o.a.createElement("div",{className:"push-half--right soft-half--bottom"},"Please enter a valid key."),o.a.createElement(u.a,{behavior:"hover",horizontalAttachment:"center",verticalAttachment:"top",overlay:o.a.createElement(d.a,null,"Valid keys contain alphanumeric characters, hyphens, and underscores, and are limited to 64 characters.")},o.a.createElement(p.a,{name:"circle-exclamation",size:"small"})));a.setupRepeatedValidators({api_name:{isRequired:function isRequired(r,a,i){var o=a.getIn(["variables",i]);return o.get("archived")||m.default.is(o,h.DEFAULT_VARIABLE)||r?"":t}}})}),[]);var l=a.filterChildren((function(t){return!t.getValue().get("archived")}));return o.a.createElement("div",{className:"push-double--top push-quad--bottom"},l.map((function(t,i){return function renderRow(t,i,l){if(!t.getValue().get("archived")){var u=t.getValue().get("id"),d=u||"index-".concat(i),p=m.default.is(t.getValue(),h.DEFAULT_VARIABLE),g=l.size,b=g>=3&&g-1===i,T=g-1===i&&!c,S=(g>1||!p)&&!c,C=void 0===t.getValue().get("type"),I=t.getValue().get("default_value"),A=o.a.createElement(_.a,{readOnly:c,isDisabled:!!t.getValue().get("id")||r,isLastVariable:b,defaultValueField:t.field("default_value"),showLabel:!0,typeField:t.field("type"),testSection:"variable-table-type-cell-".concat(d)}),O=o.a.createElement(v.a,{isDisabled:r,readOnly:c,showLabel:!0,variableField:t,testSection:"variable-table-key-cell-".concat(d)}),P=o.a.createElement(E.a,{isDisabled:r,readOnly:c,showLabel:!0,typeField:t.field("type"),valueField:t.field("default_value")||I,testSection:"variable-table-value-cell-".concat(d)});return o.a.createElement("div",{key:"".concat(u,"-field-").concat(i)},o.a.createElement("div",{className:"flex","data-test-section":"variables-edit-table-row"},o.a.createElement("div",{className:"flex--1"},function renderVariableRow(){return t.getValue().get("type")===h.FEATURE_VARIABLE_TYPES.json?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"flex"},o.a.createElement("div",{className:"push-double--right"},A),!C&&o.a.createElement("div",{className:"flex--1"},O)),!C&&o.a.createElement("div",{className:"push--top"},P)):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"flex"},o.a.createElement("div",{className:"push-double--right"},A),!C&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,O),o.a.createElement("div",{className:"flex--1 push-double--left"},P))))}()),!C&&o.a.createElement("div",{className:"width--75 push--left push-triple--top"},o.a.createElement(y.a,{defaultVariable:h.DEFAULT_VARIABLE,index:i,isDisabled:r,showAddButton:T,showRemoveButton:S,variableField:t,variablesField:a,testSection:"variable-table-actions-cell-".concat(d)}))),i!==l.size-1&&o.a.createElement("hr",{className:"push-double--ends"}))}}(t,i,l)})))};b.defaultProps={isDisabled:!1,readOnly:!1},b.propTypes={isDisabled:l.a.bool,readOnly:l.a.bool,variablesField:g.c.isRequired},r.a=b},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(11),d=a(2),p=a(63),m=a(27),g=a(1011),h=a(881),y=a(882),v=a(883),_=function VariablesEditTableLegacy(t){var r=t.isDisabled,a=t.variablesField,c=t.readOnly;Object(i.useEffect)((function(){a.setupRepeatedValidators({api_name:{isRequired:function isRequired(t,r,a){var i=r.getIn(["variables",a]);return i.get("archived")||d.default.is(i,m.constants.BASE_VARIABLE)||t?"":"Please enter a valid key. Valid keys contain alphanumeric characters, hyphens, and underscores, and are limited to 64 characters."}}})}),[]);var l=a.filterChildren((function(t){return!t.getValue().get("archived")}));return o.a.createElement(u.a,null,o.a.createElement(u.a.THead,null,o.a.createElement(u.a.TR,null,o.a.createElement(u.a.TH,{colSpan:2},"Variable Key"),o.a.createElement(u.a.TH,null,"Type"),o.a.createElement(u.a.TH,{colSpan:2},"Default Value"),o.a.createElement(u.a.TH,null))),o.a.createElement(u.a.TBody,null,l.map((function(t,i){return function renderRow(t,i,l){if(!t.getValue().get("archived")){var p=t.getValue().get("id"),_=p||"index-".concat(i),E=d.default.is(t.getValue(),m.constants.BASE_VARIABLE),b=l.size,T=b>=3&&b-1===i,S=b-1===i&&!c,C=(b>1||!E)&&!c;return o.a.createElement(u.a.TR,{key:"".concat(p,"-field-").concat(i),testSection:"variables-edit-table-row"},o.a.createElement(u.a.TD,{colSpan:2},o.a.createElement(h.a,{isDisabled:r,readOnly:c,variableField:t,testSection:"variable-table-key-cell-".concat(_)})),o.a.createElement(u.a.TD,null,o.a.createElement(y.a,{readOnly:c,isDisabled:!!t.getValue().get("id")||r,isLastVariable:T,defaultValueField:t.field("default_value"),typeField:t.field("type"),testSection:"variable-table-type-cell-".concat(_)})),o.a.createElement(u.a.TD,{colSpan:2},o.a.createElement(v.a,{isDisabled:r,readOnly:c,typeField:t.field("type"),valueField:t.field("default_value"),testSection:"variable-table-value-cell-".concat(_)})),o.a.createElement(u.a.TD,null,o.a.createElement(g.a,{defaultVariable:m.constants.BASE_VARIABLE,index:i,isDisabled:r,showAddButton:S,showRemoveButton:C,variableField:t,variablesField:a,testSection:"variable-table-actions-cell-".concat(_)})))}}(t,i,l)}))))};_.defaultProps={isDisabled:!1,readOnly:!1},_.propTypes={isDisabled:l.a.bool,readOnly:l.a.bool,variablesField:p.c.isRequired},r.a=_},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(62),d=a(31),p=a(804),m=a(320),g=a(153),h=a(108),y=a(52),v=a(218),_=a(5),E=a(2),b=a(28),T=a(63),S=a(319),C=a(27),I=a(14),A=a(167);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var O=function FeatureDetailsFields(t){var r=t.currentProject,a=t.feature,c=t.featureId,l=t.form,E=t.isValidatingFeatureKey,b=t.readOnly;Object(i.useEffect)((function(){return function setupForm(t){var r=t.form,a=t.currentProject,i=t.feature;Object(d.isFeatureEnabled)("user_friendly_names")&&r.field("name").validators({isRequired:function isRequired(t){return t?"":"Please enter a name."}}),r.field("api_name").validators({isRequired:function isRequired(t){return t?"":"Please enter a valid key. Valid keys contain alphanumeric characters, hyphens, and underscores, and are limited to 64 characters."},isUnique:function isUnique(t){if(!t||!!i&&i.get("id")&&i.get("api_name")===t)return Promise.resolve(null);var r=C.actions.fetchByApiName(a.get("id"),t).then((function(t){return t&&t.length>0?"Key is already in use by another feature in this project. Please choose a unique key.":""}));return Object(d.isFeatureEnabled)("user_friendly_names")&&_.default.loadingWhen("feature_key_validation",r),r}},{validateOnChange:Object(d.isFeatureEnabled)("user_friendly_names")}),r.field("description")}({form:l,currentProject:r,feature:a})}),[]);var T=_slicedToArray(Object(u.useFeature)("user_friendly_names"),1)[0],I=function handleNameChange(t){var r=l.field("name").getValue(),a=l.field("api_name").getValue(),i=t.target.value;l.field("name").setValue(i),c||a&&a!==Object(S.a)((r||"").toLowerCase())||l.field("api_name").setValue(Object(S.a)((i||"").toLowerCase()))};return o.a.createElement(p.a,null,o.a.createElement(m.a,{pullRowPadding:!0,pushRowsTop:!0},o.a.createElement(u.OptimizelyFeature,{feature:"user_friendly_names"},(function(t){return t?o.a.createElement(g.a,null,o.a.createElement(h.a,{small:"fillSpace"},o.a.createElement(y.a,{label:"Feature Name",onChange:I,placeholder:"Add a name for your feature.",type:"text",isDisabled:b,isRequired:!0,displayError:l.field("name").getErrors().hasError,note:l.field("name").getErrors().message,value:l.field("name").getValue(),testSection:"features-details-fields-name"}))):null})),o.a.createElement(g.a,null,o.a.createElement(h.a,{small:"fillSpace"},o.a.createElement(y.a,{label:"Feature Key",placeholder:"Enter a unique key for this feature.",type:"text",onChange:function onChange(t){return l.field("api_name").setValue(Object(S.a)(t.target.value))},isDisabled:b,isRequired:!0,hasSpellCheck:!1,maxLength:C.constants.MAX_API_NAME_LENGTH,displayError:l.field("api_name").getErrors().hasError,note:function getKeyNote(){return T&&E?"Validating...":l.field("api_name").getErrors().message}(),value:l.field("api_name").getValue(),testSection:"features-details-fields-key"}))),o.a.createElement(g.a,null,o.a.createElement(h.a,{small:"fillSpace"},o.a.createElement(v.a,{isDisabled:b,label:"Description",placeholder:"Describe this feature",type:"text",onChange:function onChange(t){return l.field("description").setValue(t.target.value)},value:l.field("description").getValue(),testSection:"features-details-fields-description"})))))};O.defaultProps={readOnly:!1},O.propTypes={currentProject:l.a.instanceOf(E.default.Map).isRequired,feature:l.a.instanceOf(E.default.Map),featureId:l.a.number,form:T.c.isRequired,isValidatingFeatureKey:l.a.bool.isRequired,readOnly:l.a.bool},r.a=Object(b.a)((function(t){var r=t.featureId;return{currentProject:I.getters.project,feature:C.getters.byId(r),isValidatingFeatureKey:A.a.isLoading("feature_key_validation")}}))(O)},,,function(t,r,a){"use strict";function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}r.a={createLiveVariableUsageEntity:function createLiveVariableUsageEntity(t){return _extends({},{id:null,experiment_id:null,experiment_scope:null,group_id:null,live_variable_id:null,usage_instances:[],project_id:null},t)}}},function(t,r,a){"use strict";var i,o,c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(52),m=a(28),g=a(2),h=a(38),y=a(472);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=Object(m.a)({currentLayer:h.getters.layer,formattedSelectedHoldback:y.b.formattedHoldback})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(HoldbackSelector,t);var r=_createSuper(HoldbackSelector);function HoldbackSelector(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,HoldbackSelector),(a=r.call(this,t)).state={error:null,holdback:a.props.formattedSelectedHoldback},a.showWarning=function(){var t=a.state.holdback;return 0===Number(t)},a.updateHoldback=function(t){var r=Number(t.target.value);a.setState((function(){return{holdback:r}}),(function(){y.a.setLayerHoldback(parseInt(100*r,10)),a.validateHoldback()}))},a.validateHoldback=function(){var t=a.state.holdback,r=Number(t);r>=99.99||r<0?a.setState((function(){return{error:"The campaign holdback must be a value between ".concat(0," and ").concat(99.99,".")}}),(function(){y.a.setLayerHoldbackInvalid(!0)})):a.setState((function(){return{error:null}}),(function(){y.a.setLayerHoldbackInvalid(!1)}))};var i=t.currentLayer;return i&&i.get("holdback")&&y.a.setLayerHoldback(i.get("holdback")),a.validateHoldback(),a.initialHoldback=t.formattedSelectedHoldback,a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(HoldbackSelector,[{key:"componentWillUnmount",value:function componentWillUnmount(){y.a.clearLayerHoldback()}},{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(t){t.formattedSelectedHoldback!==this.state.holdback&&this.setState((function(){return{holdback:t.formattedSelectedHoldback}}),this.validateHoldback)}},{key:"render",value:function render(){var t=this.state,r=t.error,a=t.holdback;return d.a.createElement("fieldset",{"data-test-section":"layer-holdback-selector"},d.a.createElement("ol",{className:"lego-form-fields"},d.a.createElement("li",{className:"lego-form-field__item"},d.a.createElement("h3",null,"Holdback Size"),d.a.createElement("p",null,"Choose the percentage of visitors who should see the original, unpersonalized experience. We recommend a 5% control to measure your campaign's impact."),this.showWarning()&&d.a.createElement("div",{className:"lego-attention lego-attention--warning text--center push-double--bottom","data-test-section":"selected-holdback-warning"},"This holdback is too small to measure results. We recommend a 5% holdback."),r&&d.a.createElement("div",{className:"lego-attention lego-attention--bad-news text--center push-double--bottom","data-test-section":"selected-holdback-error"},r),d.a.createElement("div",{className:"flex flex--row flex-align--center"},d.a.createElement("div",{className:"width--75 push--right"},d.a.createElement(p.a,{max:99.99,min:0,onChange:this.updateHoldback,testSection:"holdback-selector-input",textAlign:"right",type:"number",value:a,defaultValue:a})),d.a.createElement("div",null,"%")))))}}]),HoldbackSelector}(d.a.Component)).propTypes={currentLayer:l.a.instanceOf(g.default.Map).isRequired,formattedSelectedHoldback:l.a.number.isRequired},i=o))||i;r.a=v},function(t,r){t.exports="/dist/static/img/p13n/extensions-empty-state-56cab57c7abb1febffa5b98fb909910e.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,r){t.exports='[Optimizely startOptimizelyWithAPIToken:\n@"%s" launchOptions:launchOptions];\n'},function(t,r){t.exports='Optimizely.startOptimizelyWithAPIToken("%s", getApplication());\n'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,r,a){"use strict";var i=a(1209);a.d(r,"a",(function(){return i.a}));i.a},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(42),l=a.n(c),u=a(87),d=a(31),p=["NA","SA","EU","AF","AS","OC"],m={city:"unknown",continent:"unknown",country:"unknown",region:"unknown"},g=l.a.get("account_info.unique_user_id")||l.a.get("account_info.account_id"),h=g?{userId:g}:{},y=Object(u.c)("geo_location_data_config",["timeout","interval"],h)((function(){var t=window.optimizely&&window.optimizely.get&&window.optimizely.get("utils"),r=o.a.Deferred();if(t){var a,i=t.poll((function(){var t=window.optimizely.get&&window.optimizely.get("visitor")&&window.optimizely.get("visitor").location;t&&(i(),clearTimeout(a),Object(d.track)("geo_available",h),p.includes(t.continent)&&Object(d.track)("geo_successful_expected_continent",h),r.resolve(t))}),this.interval||50);a=setTimeout((function(){i(),Object(d.track)("geo_timeout",h),r.reject(m)}),this.timeout||1e4)}else Object(d.track)("utils_not_available",h),r.reject(m);return r}));r.a={getLocationData:y}},function(t,r,a){var i=a(100),o=function extractPhoneNumber(t){var r=t.match(i.phoneNumber);return r&&r.length>0?r[0]:null};t.exports={extractPhoneNumber:o,stripPhoneNumber:function stripPhoneNumber(t){var r=o(t);if(r){for(var a="",i=0;i<r.length;i++){var c=r[i];"0123456789".indexOf(c)>=0&&(a+=c)}return a}return null}}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(2),m=a(5),g=a(2250),h=a(2251),y=a(1037),v=a(865),_=a(1038),E=a(169),b=a(60),T=o.a.map(o.a.values(b.DEPARTMENTS),(function(t){return y.a.transformDepartmentField(t)})).concat(b.UNSELECTED),S=o.a.values(b.ROLES).concat(b.UNSELECTED),C=function sendVerificationEmail(){E.a.sendVerificationEmail().done((function(){m.default.showNotification({type:"success",message:tr("An email verification link has been sent to you. Please click that link to verify your email.")})}))};function ProfileDetailsForm(t){var r=t.description,a=t.errors,i=t.fields,c=t.formData,l=t.isSsoEnabled,p=t.onChange,m=t.showChangeEmailDialog,E=t.showChangePasswordDialog,I=t.title;Object(u.useEffect)((function(){var t=c.get("communication_preference"),r=c.get("country");if(t&&b.LEGACY_COMMUNICATION_PREFS.includes(t)){var a=b.COUNTRY_COMMUNICATION_PREFS[r]||b.COUNTRY_COMMUNICATION_DEFAULT_PREFS[r]||b.COUNTRY_COMMUNICATION_DEFAULT_PREFS.DEFAULT;p({currentCountry:r,communication_preference:a})}}),[]);var A=!!I&&d.a.createElement("div",{className:"lego-layout--single-column max-width--reading push-quad--bottom"},d.a.createElement("h2",{className:"weight--light","data-test-section":"profile-details-title"},I),d.a.createElement("p",null,r)),O=b.COUNTRY_COMMUNICATION_PREFS[c.get("country")]||b.COUNTRY_COMMUNICATION_DEFAULT_PREFS[c.get("country")]||b.COUNTRY_COMMUNICATION_DEFAULT_PREFS.DEFAULT,P=!c.get("country")||O===b.COMMUNICATION_VALUES.SOFT_OPT_IN||O===b.COMMUNICATION_VALUES.IMPLICIT_OPT_IN;return d.a.createElement("div",{className:"flex--1","data-test-section":"profile-details"},A,d.a.createElement("form",null,d.a.createElement("fieldset",{className:"flush--bottom"},d.a.createElement("div",{className:"lego-grid"},d.a.createElement("div",{className:"soft-double--left width--1-2 push-double--bottom"},d.a.createElement(_.a,{error:a.firstNameError?b.VALIDATION_ERRORS.FIRST_NAME:"",label:b.LABELS.FIRST_NAME,name:"first_name",onChange:p,placeholder:b.PLACEHOLDERS.FIRST_NAME,testSection:"profile-details-first-name-field",value:c.get("first_name")})),d.a.createElement("div",{className:"soft-double--left width--1-2 push-double--bottom"},d.a.createElement(_.a,{error:a.lastNameError?b.VALIDATION_ERRORS.LAST_NAME:"",label:b.LABELS.LAST_NAME,name:"last_name",onChange:p,placeholder:b.PLACEHOLDERS.LAST_NAME,testSection:"profile-details-last-name-field",value:c.get("last_name")})),d.a.createElement("div",{className:"soft-double--left width--1-2 push-double--bottom"},d.a.createElement(v.a,{error:a.jobDepartmentError?b.VALIDATION_ERRORS.JOB_DEPARTMENT:"",label:d.a.createElement("span",{className:"oui-label--required"},b.LABELS.DEPARTMENT),name:"job_department",onChange:function onDepartmentChange(t){p({job_department:y.a.transformDepartmentField(t.job_department,!1)})},options:T,testSection:"profile-details-department-field",value:y.a.transformDepartmentField(c.get("job_department"))||b.UNSELECTED})),d.a.createElement("div",{className:"soft-double--left width--1-2 push-double--bottom"},d.a.createElement(v.a,{error:a.jobRoleError?b.VALIDATION_ERRORS.JOB_ROLE:"",label:d.a.createElement("span",{className:"oui-label--required"},b.LABELS.ROLE),name:"job_role",onChange:p,options:S,testSection:"profile-details-role-field",value:c.get("job_role")||b.UNSELECTED})),d.a.createElement("div",{className:"soft-double--left width--1-2 push-double--bottom"},d.a.createElement(v.a,{error:a.countryError?b.VALIDATION_ERRORS.COUNTRY:"",label:d.a.createElement("span",{className:"oui-label--required"},b.LABELS.COUNTRY),name:"country",onChange:function onCountryChange(t){var r=t.country,a=c.get("communication_preference"),i=b.COUNTRY_COMMUNICATION_PREFS[r]||b.COUNTRY_COMMUNICATION_DEFAULT_PREFS[r]||b.COUNTRY_COMMUNICATION_DEFAULT_PREFS.DEFAULT,o=i===b.COMMUNICATION_VALUES.SOFT_OPT_IN||i===b.COMMUNICATION_VALUES.IMPLICIT_OPT_IN,l=a===b.COMMUNICATION_VALUES.SOFT_OPT_IN||a===b.COMMUNICATION_VALUES.IMPLICIT_OPT_IN;return p(o?{country:r,communication_preference:i}:{country:r,communication_preference:l?"":a})},options:o.a.values(b.SUPPORTED_COUNTRIES),testSection:"profile-details-country-field",value:c.get("country")||b.SUPPORTED_COUNTRIES.EMPTY.value})),d.a.createElement("div",{className:"soft-double--left width--1-2 push-double--bottom"},d.a.createElement(_.a,{error:a.phoneNumberError?b.VALIDATION_ERRORS.PHONE_NUMBER:"",isOptional:!0,label:b.LABELS.PHONE_NUMBER,name:"phone_number",onChange:p,placeholder:b.PLACEHOLDERS.PHONE_NUMBER,testSection:"profile-details-phone-number-field",value:c.get("phone_number")})),d.a.createElement("div",{className:"soft-double--left width--1-2 push-double--bottom"},d.a.createElement(g.a,{label:b.LABELS.EMAIL_ADDRESS,isVerified:c.get("email_verified"),isSsoEnabled:l,onChangeLinkClick:m,onVerifyLinkClick:C,value:c.get("id"),visible:o.a.isEqual(i,b.FORM_FIELDS.PROFILE_PAGE)})),d.a.createElement("div",{className:"soft-double--left width--1-2 push-double--bottom"},d.a.createElement(h.a,{isSsoEnabled:l,onChangeLinkClick:E,visible:o.a.isEqual(i,b.FORM_FIELDS.PROFILE_PAGE)})),d.a.createElement("div",{className:"soft-double--left width--1-2 push-double--bottom"},d.a.createElement(v.a,{label:d.a.createElement("span",{className:"oui-label--required"},b.LABELS.COMMUNICATION_PREF),error:a.communicationPreferenceError?b.VALIDATION_ERRORS.COMMUNICATION_PREF:"",name:"communication_preference",isHidden:P,onChange:p,options:o.a.values(P?b.HIDDEN_COMMUNICATION_PREFS:b.COMMUNICATION_PREFS),testSection:"profile-details-communication-pref-field",value:P?O:c.get("communication_preference")||O}))))))}ProfileDetailsForm.propTypes={description:l.a.string,errors:l.a.shape({communicationPreferenceError:l.a.bool,countryError:l.a.bool,firstNameError:l.a.bool,jobDepartmentError:l.a.bool,jobRoleError:l.a.bool,lastNameError:l.a.bool,phoneNumberError:l.a.bool}),fields:l.a.array.isRequired,formData:l.a.instanceOf(p.default.Map).isRequired,isSsoEnabled:l.a.bool,onChange:l.a.func,showChangeEmailDialog:l.a.func,showChangePasswordDialog:l.a.func,title:l.a.oneOf(o.a.values(b.TITLES))},ProfileDetailsForm.defaultProps={description:null,errors:{},isSsoEnabled:!1,title:b.TITLES.DEFAULT},r.a=ProfileDetailsForm},function(t,r,a){var i=a(17);t.exports=i({LOAD_CURRENTLY_EDITING_PLUGIN:null,UPDATE_CURRENTLY_EDITING_PLUGIN_CONFIG:null,UNSET_CURRENTLY_EDITING_PLUGIN:null,SET_VALUE_CURRENTLY_EDITING_PLUGIN:null,SET_FORM_VALUES_CURRENTLY_EDITING_PLUGIN:null,UPDATE_PLUGIN_DEFAULT_FIELD_VALUE:null,CURRENTLY_EDITING_PLUGIN_SET_EDITING_SELECTOR:null})},function(t,r,a){var i=a(17);t.exports=i({P13N_SET_CURRENT_LAYER_ID:null,P13N_SET_CURRENT_LAYER_SHARE_TOKEN:null})},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({SUMMARY_LOADED:null})},function(t,r,a){var i=a(17);t.exports=i({P13N_CAMPAIGN_SELECT_TAB:null,P13N_CAMPAIGN_SET_SETTINGS_TAB:null,P13N_CAMPAIGN_SET_SETTINGS_DIRTY:null,P13N_CAMPAIGN_RESET_SETTINGS_DIRTY:null,P13N_SET_CREATING_VARIATION_STATUS:null,P13N_START_CREATING_VARIATION:null,P13N_STOP_CREATING_VARIATION:null,P13N_START_RENAMING_VARIATION:null,P13N_STOP_RENAMING_VARIATION:null})},function(t,r,a){var i=a(17);t.exports=i({P13N_SET_CURRENT_EVENT_ID:null})},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({P13N_SET_CURRENT_JOB_STATUS_BY_FILTER:null})},function(t,r,a){var i=a(12),o=a(4),c=a(123);function LocationFetcher(t){this.MAXIMUM_QUEUE=15,this.locationsToFetch=[],this.geotargetingService=t}function GeotargetingService(){this.locationsToLabels={},this.timeoutRef=null,this.locationFetchers=[]}LocationFetcher.prototype.queue=function(t,r){this.locationsToFetch.push({location:t,deferred:r})},LocationFetcher.prototype.isFull=function(){return this.locationsToFetch.length>=this.MAXIMUM_QUEUE},LocationFetcher.prototype.fetch=function(){var t=this,r=this.locationsToFetch.map((function(t){return t.location}));return this.doFetch(r).then((function(r){t.locationsToFetch.forEach((function(t){r[t.location]?t.deferred.resolve(r[t.location]):t.deferred.reject()})),t.geotargetingService.cacheLocationsToLabels(r),t.locationsToFetch=[];var a=t.geotargetingService.locationFetchers.indexOf(t);t.geotargetingService.locationFetchers.splice(a,1)}))},LocationFetcher.prototype.doFetch=function(t){var r="/api/location_labels.json",a=t.map((function(t){return"keys=".concat(t)}),"").join("&");return r+="?".concat(a),i.ajax({url:c.optimizelyHRDUrl(r),type:"GET"})},GeotargetingService.prototype.createLocationFetcher=function(){this.locationFetchers.push(new LocationFetcher(this))},GeotargetingService.prototype.cacheLocationsToLabels=function(t){i.extend(this.locationsToLabels,t)},GeotargetingService.prototype.getLabel=function(t){var r=i.Deferred();if(this.locationsToLabels[t])r.resolve(this.locationsToLabels[t]);else{this.timeoutRef&&clearTimeout(this.timeoutRef),o.last(this.locationFetchers)||this.createLocationFetcher(),o.last(this.locationFetchers).isFull()&&(o.last(this.locationFetchers).fetch(),this.createLocationFetcher());var a=o.last(this.locationFetchers);a.queue(t,r),this.timeoutRef=setTimeout((function(){a.fetch().then((function(){this.timeoutRef=null}))}),0)}return r},t.exports=new GeotargetingService},function(t,r,a){var i=a(4),o=a(3),c=a(39),l=a(2778),u=["code","location","behavior","default_behavior","dynamic_customer_profile","visitor"],d=["has_ppid","first_session","ios_is_phone","ios_is_retina","ios_is_tablet"];t.exports={components:{"condition-template":l},data:{conditionGroup:null,conditionType:null,customDimensionName:null,customAttributeName:null,listAttributeName:null,conditionConfig:{}},computed:{negate:{$get:function $get(){return this.conditionGroup.negate?"true":"false"},$set:function $set(t){this.conditionGroup.negate="false"!==t}},showAddButton:function showAddButton(){return(!this.canUseListAttributes||"list"!==this.conditionType)&&-1===u.indexOf(this.conditionType)},showValueButtons:function showValueButtons(){return(!this.canUseListAttributes||"list"!==this.conditionType)&&-1===d.indexOf(this.conditionType)}},methods:{clearValueForMatchTypes:function clearValueForMatchTypes(t,r){i.includes(r,t.match_type)&&(t.value=void 0)},isRequired:function isRequired(t){return this.dimension.fields[t].required},hasMatchType:function hasMatchType(t){return i.some(this.conditionGroup.conditions,(function(r){return r.match_type===t}))},placeholderText:function placeholderText(t,r){var a="";switch(r){case"exact":a=t;break;case"substring":a="".concat(t,"(substring)");break;case"regex":a="".concat(t,"(regular expression)")}return a},conditionIndex:function conditionIndex(t){return this.conditionGroup.conditions.indexOf(t)},isLastSubCondition:function isLastSubCondition(t){return this.conditionIndex(t)===this.conditionGroup.conditions.length-1},addEmptyCondition:function addEmptyCondition(){var t={type:this.conditionType};this.customDimensionName?t.name=this.customDimensionName:this.customAttributeName?t.name=this.customAttributeName:this.listAttributeName&&(t.name=this.listAttributeName),this.conditionGroup.conditions.push(t)},removeCondition:function removeCondition(t){this.conditionGroup.removeCondition(t),0===this.conditionGroup.conditions.length&&this.removeConditionGroup()},removeConditionGroup:function removeConditionGroup(){this.$dispatch("unwarnAboutCondition",{type:this.conditionGroup.conditions[0].type,name:this.conditionGroup.conditions[0].warnName}),this.conditionGroup.conditions=[],this.$dispatch("conditionRemoved")}},ready:function ready(){"custom_dimension"===this.conditionType&&(this.customDimensionName=this.conditionGroup.conditions[0].name),"custom_attribute"===this.conditionType&&(this.customAttributeName=this.conditionGroup.conditions[0].name),"list"===this.conditionType&&(this.listAttributeName=this.conditionGroup.conditions[0].name)},created:function created(){o.bindVueValues(this,{canUseListAttributes:c.canUseListAttributes})}}},function(t,r){t.exports='<div class="condition">\n  <div class="condition__title background--faint">\n    <span v-text="getDimensionTitle(dimension, conditionConfig)"></span>\n    <content select="[data-content-block=\'extra\']">\n      \x3c!-- extra block --\x3e\n    </content>\n  </div>\n\n  <div class="condition__close">\n    <svg\n      class="lego-icon link--bad-news float--right remove-condition-group"\n      v-on="click: removeConditionGroup()"\n      data-test-section="remove-condition-group"\n    >\n      <use\n        xmlns:xlink="http://www.w3.org/1999/xlink"\n        xlink:href="#xmark-16"\n      ></use>\n    </svg>\n  </div>\n\n  <div class="condition__body push--bottom">\n    <div class="push--bottom">\n      <content select="[data-content-block=\'title\']">\n        \x3c!-- title block --\x3e\n      </content>\n    </div>\n\n    <p\n      class="push--top"\n      v-if="dimensions[conditionType] && dimensions[conditionType].deprecated"\n    >\n      This condition is <strong>Deprecated</strong>, see\n      <a\n        href="http://developers.optimizely.com/rest/reference/index.html#changes"\n        target="_blank"\n        >Change Log</a\n      >.\n    </p>\n\n    <div\n      class="condition-value-row"\n      v-repeat="condition: conditionGroup.conditions"\n    >\n      <div class="or-col">\n        <span v-if="conditionIndex(condition) !== 0"\n          >[[ conditionGroup.type ]]</span\n        >\n      </div>\n      <div class="value-col">\n        <table class="lego-table">\n          <tr v-if="showValueButtons" class="no-border--top">\n            <td class="hard--ends">\n              <content select="[data-content-block=\'value\']">\n                \x3c!-- value block --\x3e\n              </content>\n            </td>\n            \x3c!-- conditionConfig is only defined in third_party_targeting_condition_group --\x3e\n            <td\n              class="lego-table--add-row__controls hard--ends"\n              v-show="showAddButton"\n            >\n              <button\n                class="lego-button lego-button--form lego-button--narrow push--right"\n                type="button"\n                v-class="visibility--hidden: !isLastSubCondition(condition)"\n                v-on="click: addEmptyCondition"\n              >\n                <svg class="lego-icon push--top">\n                  <use xlink:href="#plus"></use>\n                </svg>\n              </button>\n              <button\n                class="lego-button lego-button--form lego-button--narrow"\n                type="button"\n                v-class="visibility--hidden: conditionGroup.conditions.length <= 1"\n                v-on="click: removeCondition(condition)"\n                data-test-section="remove-condition"\n              >\n                <svg class="lego-icon push--top">\n                  <use xlink:href="#xmark-16"></use>\n                </svg>\n              </button>\n            </td>\n          </tr>\n        </table>\n      </div>\n    </div>\n\n    <div\n      class="condition-block-help-text soft--top"\n      v-if="dimensions[conditionType] && dimensions[conditionType].value_is_case_insensitive"\n    >\n      The value will be matched case-insensitively.\n    </div>\n\n    <div>\n      <content select="[data-content-block=\'footer\']">\n        \x3c!-- footer block --\x3e\n      </content>\n    </div>\n  </div>\n</div>\n'},function(t,r,a){var i=a(17);t.exports=i({CUSTOM_CODE_PANEL_VISIBILITY_SET:null,CUSTOM_CODE_PANEL_TAB_SET:null,CUSTOM_CODE_TAB_DIRTY_SET:null,CUSTOM_CODE_TABS_DIRTY_RESET:null})},function(t,r,a){var i=a(17);t.exports=i({START_PAUSING:null,START_PUBLISHING:null,START_STARTING:null,FINISH_PAUSING:null,FINISH_PUBLISHING:null,FINISH_STARTING:null})},function(t,r,a){"use strict";var i=a(943),o=a.n(i);r.a={copyToClipboard:function copyToClipboard(){return o.a.apply(void 0,arguments)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,r,a){"use strict";var i=a(692);a.d(r,"a",(function(){return i.a}));var o=a(573),c=a(338);a.d(r,"b",(function(){return c.default}));var l=a(676),u=a(795);i.a,o.a,c.default,l.a,u.a},function(t,r,a){"use strict";var i=a(1244);a.d(r,"a",(function(){return i.a}));var o=a(566),c=a(1245),l=a(789);i.a,o.a,c.a,l.a},function(t,r,a){"use strict";a.d(r,"a",(function(){return b}));var i=a(0),o=a.n(i),c=a(35),l=a(1),u=a.n(l),d=a(19),p=a(107),m=a(52),g=a(134),h=a(40),y=a(5),v=a(54),_=a(246),E=a(1402);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(VerifyEmailDialog,t);var r=_createSuper(VerifyEmailDialog);function VerifyEmailDialog(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,VerifyEmailDialog),(a=r.call(this,t)).reloadWindow=function(){c.default.windowNavigate(_.c.projectRoot.OPTIMIZELY_X)},a.onSubmitFail=function(t){a.setState({error:t&&Object.prototype.hasOwnProperty.call(t,"responseText")?JSON.parse(t.responseText).error:tr("There was a problem in verifying your new email."),isSaving:!1}),y.default.loadingStop("verifyEmailLoader")},a.onSubmitSuccess=function(){a.setState({error:null,emailVerified:!0,isSaving:!1}),y.default.loadingStop("verifyEmailLoader")},a.verifyEmail=function(){var t=a.props.verificationToken,r=a.state,i=r.newEmail,o=r.password;a.setState({isSaving:!1}),a.setState({notYetInputSettings:!1},(function(){if(this.isValidPassword()){y.default.loadingStart("verifyEmailLoader");var r=E.a.verifyChangedEmail(i,o,t);r.done(this.onSubmitSuccess),r.fail(this.onSubmitFail)}}))},a.handlePasswordChange=function(t){a.setState({password:t.target.value})};var i=a.props.newEmail;return a.state={newEmail:i,error:null,password:null,isSaving:!1,emailVerified:!1,notYetInputSettings:!0},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(VerifyEmailDialog,[{key:"isValidPassword",value:function isValidPassword(){var t=this.state,r=t.notYetInputSettings,a=t.password;return r||!!a}},{key:"errorList",value:function errorList(){var t=[],r=this.state.error;return r&&(t=[r]),t}},{key:"showErrorList",value:function showErrorList(){return this.errorList().map((function(t){return o.a.createElement("p",null,t)}))}},{key:"renderButtonsInFooter",value:function renderButtonsInFooter(){var t=this.state,r=t.emailVerified,a=t.isSaving,i=this.props.hideVerifyEmailDialog;return r?[o.a.createElement(d.a,{style:"highlight",key:"ok",onClick:this.reloadWindow},"OK")]:[o.a.createElement(d.a,{style:"plain",key:"cancel",isDisabled:a,onClick:i},"Cancel"),o.a.createElement(d.a,{style:"highlight",key:"verify",isDisabled:a,onClick:this.verifyEmail},"Verify email address")]}},{key:"render",value:function render(){var t=this,r=this.state,a=r.newEmail,i=r.password,c=r.emailVerified,l=this.props.hideVerifyEmailDialog;return o.a.createElement(p.a,{onClose:l,title:"Verify Email Address",footerButtonList:this.renderButtonsInFooter()},o.a.createElement(v.default,{loadingId:"verifyEmailLoader"},o.a.createElement(m.a,{label:"New Email Address",type:"email",isRequired:!0,isDisabled:!0,value:a}),o.a.createElement("div",{className:"push--top"}),o.a.createElement(m.a,{label:"Current Password",type:"password",isRequired:!0,value:i,onChange:function onChange(r){return t.handlePasswordChange(r)},isDisabled:c,testSection:"new-email-current-password"}),!this.isValidPassword()&&o.a.createElement("div",{className:"oui-form-note oui-form-note--bad-news"},"This field is required."),this.errorList().length>0&&o.a.createElement("div",{className:"push--top"},o.a.createElement(g.a,{type:"bad-news"},this.showErrorList())),o.a.createElement("p",{className:"push-double--top"},o.a.createElement(h.a,{href:"/privacy",newWindow:!0},"Optimizely Privacy Policy")),c&&o.a.createElement("p",{className:"float--left lego-block-list"},"Email address successfully changed. Please log in again.")))}}]),VerifyEmailDialog}(o.a.Component);b.propTypes={hideVerifyEmailDialog:u.a.func.isRequired,newEmail:u.a.string.isRequired,verificationToken:u.a.string.isRequired}},function(t,r){t.exports="/dist/static/img/mab-e25c48a84d45c22497748f4b60ddd10d.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,r){r.supportsCopyAPI=function(){return document&&"function"==typeof document.queryCommandSupported&&document.queryCommandSupported("copy")},r.copyText=function(t){if(this.supportsCopyAPI){var r=document.createElement("textarea");r.value=t,document.body.appendChild(r),r.select();var a=document.execCommand("copy");return document.body.removeChild(r),a}return!1}},,,,function(t,r){t.exports='<div class="border--all min-height--200" v-plugin-validate>\n  <textarea class="lego-textarea monospace"\n            v-el="input">[[ value ]]</textarea>\n</div>\n'},function(t,r,a){var i=a(12),o=a(4),c={allowEmpty:!1,clickoutFiresChange:!0,containerClassName:"optly-color-picker popover",preferredFormat:"hex6",replacerClassName:"optly-color-picker__trigger",showAlpha:!0,showButtons:!1,showInitial:!1,showInput:!0};t.exports={_propertyName:null,last:null,_handleSpectrumUpdate:function _handleSpectrumUpdate(t){this.vm?this.last=this.vm:this.vm=this.last,t=t.toRgb(),this.vm.$dispatch("".concat("spectrum:","update"),this._propertyName,t)},_hide:function _hide(){i(this.el).spectrum("hide")},_handlePropertiesChanged:function _handlePropertiesChanged(t){i(this.el).spectrum("set",t[this._propertyName])},_handleKeyUp:function _handleKeyUp(t){27===t.keyCode&&this._hide()},bind:function bind(t){this._propertyName=this.arg||t.propertyName;var r=i(this.el).attr("data-options");r&&(r=JSON.parse(r)),r=o.extend({move:this._handleSpectrumUpdate.bind(this),change:this._handleSpectrumUpdate.bind(this)},c,r||{}),i(this.el).spectrum(r),i(this.el).spectrum("set",t),this.vm.$on("".concat("spectrum:","hide"),this._hide.bind(this)),this.vm.$on("".concat("spectrum:","propertiesChanged"),this._handlePropertiesChanged.bind(this))},unbind:function unbind(){}}},function(t,r,a){"use strict";a.r(r),a.d(r,"ChangeSelectorSidebar",(function(){return L}));var i=a(3),o=a(5),c=a(35),l=a(31),u=a(1162),d=(a(0),a(247)),p=a.n(d),m=a(90),g=a.n(m),h=a(66),y=a.n(h),v=a(13),_=a(177),E=a.n(_),b=a(393),T=a.n(b),S=a(110),C=a(85),I=a(39),A=a(24),O=a(1005),P=a.n(O),R=a(409),w=a(2515),N=a.n(w),L={replace:!0,componentId:"p13n-change-selector-sidebar",components:{"sidebar-header":R.default},template:N.a,data:{layerCountAvailable:!1,layerCounts:null},methods:{createDefaultChange:function createDefaultChange(){C.default.confirmNavigation(this.hasDirtyCustomCode,S.c.CHANGE_TYPES.custom_code,(function(){E.a.showCustomCodePanel(!1),p.a.createAndSelectNewChange(""),E.a.resetCustomCodeTabsDirty(),C.default.showChangeEditorSidebar(!0)}))},createInsertHTMLChange:function createInsertHTMLChange(){C.default.confirmNavigation(this.hasDirtyCustomCode,S.c.CHANGE_TYPES.custom_code,(function(){E.a.showCustomCodePanel(!1),p.a.createAndSelectInsertHTMLChange(),E.a.resetCustomCodeTabsDirty(),C.default.showInsertHTMLSidebar(!0)}))},createInsertImageChange:function createInsertImageChange(){C.default.confirmNavigation(this.hasDirtyCustomCode,S.c.CHANGE_TYPES.custom_code,(function(){E.a.showCustomCodePanel(!1),p.a.createAndSelectInsertImageChange(),E.a.resetCustomCodeTabsDirty(),C.default.showInsertImageSidebar(!0)}))},createRedirectChange:function createRedirectChange(){C.default.confirmNavigation(this.hasDirtyCustomCode,S.c.CHANGE_TYPES.custom_code,(function(){E.a.showCustomCodePanel(!1),p.a.createAndSelectNewRedirect(),E.a.resetCustomCodeTabsDirty(),C.default.showRedirectEditorSidebar(!0)}))},goToExtensionsTab:function goToExtensionsTab(){var t=this;C.default.confirmNavigation(this.hasDirtyCustomCode,S.c.CHANGE_TYPES.custom_code,(function(){E.a.resetCustomCodeTabsDirty(),c.default.go(A.default.extensionsHome(t.currentProjectId))}))},selectWidget:function selectWidget(t){o.default.renderRegion("p13n-editor-sidebar",{component:P.a,data:{_widget:t,_editorIframeId:this.activeFrameId,isNewChange:!0}})},showChangeListSidebar:function showChangeListSidebar(){C.default.showChangeListSidebar(this.changeListSidebarComponentConfig)},getExperimentUsageCount:function getExperimentUsageCount(t){if(this.layerCountAvailable)try{return"Used in "+this.layerCounts[t.id].experiment_count+" experiments"}catch(t){console.log(t)}return""}},created:function created(){var t=this;Object(l.isFeatureEnabled)("usage_inspector_extensions")&&u.a.fetchAll({project_id:i.default.evaluate(v.default.id)},{force:!0}).then((function(){var r=i.default.evaluate(u.b.currentProjectPluginLayerCounts);t.layerCounts=r.toJS(),t.layerCountAvailable=!0})).catch((function(t){return console.log(t)})),i.default.bindVueValues(this,{activeFrameId:g.a.activeFrameId,canUsePlugins:I.canUsePlugins,changeListSidebarComponentConfig:g.a.changeListSidebarComponentConfig,currentLayer:y.a.layer,currentProjectId:v.default.id,enabledWidgets:g.a.enabledWidgets,hasDirtyCustomCode:T.a.hasDirtyCustomCode,selectedVariationDisplayName:g.a.selectedVariationDisplayName,selectedView:g.a.selectedView})},ready:function ready(){}};r.default=L},function(t,r,a){"use strict";a.r(r);var i=a(3),o=a(34),c=a(110),l=a(18),u=a(85),d={methods:{handleViewChangeClick:function handleViewChangeClick(t){var r=this,a=i.default.evaluateToJS(o.getters.byId(t)),d=i.default.evaluateToJS(l.default.getters.selectedVariationId),p=i.default.evaluateToJS(l.default.getters.selectedExperimentOrSectionId);u.default.confirmNavigation(this.currentlyEditingChangeIsDirty,c.c.CHANGE,(function(){l.default.actions.unsetCurrentlyEditingChange(),l.default.actions.unselectAction();var t={view:a,experimentOrSectionId:p};d===l.default.constants.EVERYONE_ELSE_AUDIENCE.variation_id?t.isReadOnlyMode=!0:t.variationId=d,r.$options.onActionSelect(t)}))}}};r.default=d},function(t,r,a){var i=a(1),o=a(0),c=a(16),l=c.Button,u=c.Icon,d=a(18),p=function revertButton(t){return o.createElement("div",{className:"anchor--right push-half--bottom"},o.createElement(l,{style:"unstyled",onClick:function onClick(){t.action(t.property),d.actions.applyCurrentlyEditingChange()},testSection:"revert-".concat(t.property,"-button")},o.createElement(u,{name:"arrow-rotate-left",size:"small",className:"lego-icon"})))};p.propTypes={action:i.func,property:i.string.isRequired},p.defaultProps={action:d.actions.revertCSSProperty},t.exports=p},function(t,r,a){"use strict";a.d(r,"a",(function(){return _}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(5),d=a(879),p=a(107),m=a(98),g=a(19);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=p.b.Wrapper,y=p.b.Title,v=p.b.Footer,_=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(MultiConfirm,t);var r=_createSuper(MultiConfirm);function MultiConfirm(){var t;_classCallCheck(this,MultiConfirm);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).onButtonClick=function(t){u.default.hideDialog(),t()},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(MultiConfirm,[{key:"render",value:function render(){var t=this,r=this.props,a=r.title,i=r.message,c=r.buttons;return o.a.createElement(h,null,o.a.createElement(y,null,a),o.a.createElement("div",{className:"push-quad--bottom","data-test-section":"multi-confirm-dialog-message",dangerouslySetInnerHTML:{__html:Object(d.f)(i)}}),o.a.createElement(v,null,o.a.createElement(m.a,{rightGroup:[o.a.createElement(g.a,{key:"cancel",style:"plain",testSection:"multi-confirm-dialog-cancel",onClick:u.default.hideDialog},"Cancel")].concat(_toConsumableArray(c.map((function(r){return o.a.createElement(g.a,{key:r.testSection,testSection:r.testSection,style:r.style,onClick:function onClick(){return t.onButtonClick(r.action)}},r.message)}))))})))}}]),MultiConfirm}(o.a.Component);_.propTypes={title:l.a.string.isRequired,message:l.a.string.isRequired,buttons:l.a.arrayOf(l.a.shape({testSection:l.a.string.isRequired,message:l.a.string.isRequired,action:l.a.func.isRequired,style:l.a.string})).isRequired}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(134),d=a(26),p=a(20),m=a(2);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function getFormattedDate(t){return tr.date.utc(t).format("lll")},h=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(SchedulerInfo,t);var r=_createSuper(SchedulerInfo);function SchedulerInfo(){var t;_classCallCheck(this,SchedulerInfo);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(t=r.call.apply(r,[this].concat(i))).determineIfStartScheduled=function(t){return t.getIn(["schedule","timezone_name"])?t.getIn(["schedule","start_time"]):p.fns.hasFutureStartScheduled(t)},t.determineIfStopScheduled=function(t){return t.getIn(["schedule","timezone_name"])?t.getIn(["schedule","stop_time"]):p.fns.hasFutureStopScheduled(t)},t.renderContents=function(r,a){var i,c=t.props,l=c.experiment,p=c.hasUpdatesToPublish,m=c.isSingleExperimentLayer;(r||a)&&(i=l.getIn(["schedule","time_zone"]),l.getIn(["schedule","timezone_name"])&&(i=l.getIn(["schedule","timezone_name"]).replace("_"," ")));var h=m?"experiment":"experience";return o.a.createElement(o.a.Fragment,null,r&&o.a.createElement("div",{className:"micro muted push--ends","data-test-section":"campaign-overview-sidebar-campaign-start"},"Scheduled to start on"," ",g(l.get("schedule").get("start_time"))," (",i,")"),a&&o.a.createElement("div",{className:"micro muted push--ends","data-test-section":"campaign-overview-sidebar-campaign-stop"},"Scheduled to stop on"," ",g(l.get("schedule").get("stop_time"))," (",i,")"),r&&p&&o.a.createElement(u.a,{type:"warning",alignment:"left",testSection:"campaign-overview-sidebar-draft-changes-with-schedule-warning"},o.a.createElement("div",{className:"flex"},o.a.createElement("div",{className:"push--right color--brand"},o.a.createElement(d.a,{name:"circle-exclamation",size:"small"})),o.a.createElement("div",{className:"micro flex--1"},"Publish your ",h," if you want your draft changes to go live on the scheduled date."))))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(SchedulerInfo,[{key:"render",value:function render(){var t=this.props,r=t.isSingleExperimentLayer,a=t.experiment,i=this.determineIfStartScheduled(a),c=this.determineIfStopScheduled(a);return i||c?r?this.renderContents(i,c):o.a.createElement("div",{className:"push-quad--right width--250","data-test-section":"experience-schedule"},o.a.createElement("h6",{className:"muted"},"Schedule"),this.renderContents(i,c)):null}}]),SchedulerInfo}(o.a.Component);h.propTypes={experiment:l.a.instanceOf(m.default.Map).isRequired,hasUpdatesToPublish:l.a.bool.isRequired,isSingleExperimentLayer:l.a.bool.isRequired},r.a=h},,,function(t,r,a){var i=a(12),o=a(3),c=a(102),l=a(952),u=a(214);t.exports={replace:!0,paramAttributes:["field","type"],data:{dir:null},ready:function ready(){this.tableAttr=i(this.$el).parents("[data-sortable-table-id]").attr("data-sortable-table-id"),this.type||(this.type="string"),o.bindVueValues(this,{dir:u.fieldSortDir(this.tableAttr,this.field)})},computed:{isSortedAsc:function isSortedAsc(){return this.dir===c.ASC},isSortedDesc:function isSortedDesc(){return this.dir===c.DESC}},methods:{sortField:function sortField(){l.toggleField({tableId:this.tableAttr,field:this.field,type:this.type})}}}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=(a(9),a(1)),l=a.n(c),u=a(0),d=a.n(u),p=a(98),m=a(19),g=a(2),h=a(28),y=a(54),v=a(666),_=a(585);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=function PaginationControls(t){var r=t.canGoBack,a=t.canGoForward,i=t.currentPage,o=t.gotoNextPage,c=t.gotoPrevPage,l=t.gotoFirstPage,u=t.gotoLastPage,g=t.isLoading,h=t.totalPages;return d.a.createElement(y.default,{isLoading:g,size:"small",className:" "},d.a.createElement(p.a,{centerGroup:[d.a.createElement(m.a,{key:"1",style:"outline",width:"default",onClick:l,isDisabled:!r},"First"),d.a.createElement(m.a,{key:"2",style:"outline",width:"default",onClick:c,isDisabled:!r},"Back"),d.a.createElement("span",{key:"pagenums",className:"soft--sides"}," Page ",i," of ",h," "),d.a.createElement(m.a,{key:"3",style:"outline",width:"default",onClick:o,isDisabled:!a},"Next"),d.a.createElement(m.a,{key:"4",style:"outline",width:"default",onClick:u,isDisabled:!a},"Last")]}))};E.propTypes={canGoBack:l.a.bool.isRequired,canGoForward:l.a.bool.isRequired,currentPage:l.a.number.isRequired,gotoFirstPage:l.a.func.isRequired,gotoLastPage:l.a.func.isRequired,gotoNextPage:l.a.func.isRequired,gotoPrevPage:l.a.func.isRequired,isLoading:l.a.bool,totalPages:l.a.number.isRequired},E.defaultProps={isLoading:!1},r.a=function(t){return function pageable(r){var a;return Object(h.a)((function(r){return{currentPage:_.a.currentPage(t)}}))(((a=function(a){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(PageableContainer,a);var i=_createSuper(PageableContainer);function PageableContainer(){var r;_classCallCheck(this,PageableContainer);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(r=i.call.apply(i,[this].concat(o))).computeData=function(){var t=r.props,a=t.currentPage,i=t.pageSize,o=t.data,c=r.computeOffset(a),l=a>1,u=c+i,d=u<o.size;return{pageData:o.slice(c,u),canGoBack:l,canGoForward:d}},r.prevPage=function(){r.gotoPage(r.props.currentPage-1)},r.nextPage=function(){r.gotoPage(r.props.currentPage+1)},r.firstPage=function(){r.gotoPage(1)},r.lastPage=function(){r.gotoPage(r.computeTotalPages())},r.computeOffset=function(t){return(t-1)*r.props.pageSize},r.computeTotalPages=function(){var t=r.props.data.size;return Math.ceil(t/r.props.pageSize)},r.gotoPage=function(a){r.isOutOfBounds(a,r.props.data.size)&&(a=1),v.a.saveCurrentPage({id:t,currentPage:a}),r.props.pageableUrlHelper&&v.a.replaceStateWithPageNumber(t,r.props.pageableUrlHelper()),r.props.onPageChange&&r.props.onPageChange(a)},r.isOutOfBounds=function(t,a){return r.computeOffset(t)>=a},r.getRenderControlsMethod=function(t,a){return function(i){return d.a.createElement(E,{canGoBack:t,canGoForward:a,currentPage:r.props.currentPage,gotoNextPage:r.nextPage,gotoPrevPage:r.prevPage,gotoFirstPage:r.firstPage,gotoLastPage:r.lastPage,isLoading:i,totalPages:r.computeTotalPages()})}},r}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(PageableContainer,[{key:"render",value:function render(){var t=this.computeData(),a=t.pageData,i=t.canGoBack,c=t.canGoForward,l=o.a.omit(this.props,["onPageChange","currentPage","pageSize","data"]);return d.a.createElement(r,_extends({totalPages:this.computeTotalPages(),data:a,renderControls:this.getRenderControlsMethod(i,c)},l))}}]),PageableContainer}(d.a.Component)).displayName="PageableContainer",a.propTypes={data:l.a.instanceOf(g.default.List).isRequired,currentPage:l.a.number.isRequired,pageSize:l.a.number,pageableUrlHelper:l.a.func,onPageChange:l.a.func},a.defaultProps={pageSize:50},a))}}},function(t,r,a){"use strict";a.d(r,"a",(function(){return _}));var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(1439),m=a(28),g=a(167),h=a(765),y=a(1440);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=Object(m.a)({isPageLoading:g.a.isLoading("main")})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(TourGuideComponent,t);var r=_createSuper(TourGuideComponent);function TourGuideComponent(){var t;_classCallCheck(this,TourGuideComponent);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).handleJoyrideStateChange=function(r){var a=t.props.guideId;return"close"===r.action?h.a.markJoyrideAsSeen(a):"skip"===r.action?h.a.markJoyrideAsSkipped(a):void 0},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(TourGuideComponent,[{key:"render",value:function render(){var t=this.props,r=t.config,a=t.guideId,i=t.isPageLoading,o=t.maxSkips,c=(r||{}).steps;return!i&&"object"===_typeof(r)&&!h.a.hasJoyrideExceededSkips(a,2*o)&&!h.a.hasJoyrideBeenSeen(a)&&l.a.createElement(p.a,{callback:this.handleJoyrideStateChange,continuous:!0,floaterProps:{disableAnimation:!0},run:!0,steps:c,styles:{options:{zIndex:1e5}},tooltipComponent:y.a})}}]),TourGuideComponent}(l.a.Component)).propTypes={config:d.a.object.isRequired,guideId:d.a.string.isRequired,isPageLoading:d.a.bool.isRequired,maxSkips:d.a.number},o.defaultProps={maxSkips:1/0},i=o))||i,_=v},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(196),d=a(79),p=a(40),m=a(26),g=a(134),h=a(853),y=a(1282),v=a(52),_=a(14),E=a(20);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(Rollout,t);var r=_createSuper(Rollout);function Rollout(){var t;_classCallCheck(this,Rollout);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={initialStatus:t.props.status},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(Rollout,[{key:"render",value:function render(){var t=this,r=this.props,a=r.disableInputs,i=r.environmentsDropdown,o=r.onStatusChange,c=r.onTrafficChange,b=r.rangeDisabled,T=r.showError,S=r.showLabel,C=r.status,I=r.traffic,A=C!==E.enums.EnvironmentStatus.RUNNING||a||b,O=a,P=parseFloat(I);Number.isNaN(P)&&(P=0);var R=function onChangeTraffic(t){A||C===E.enums.EnvironmentStatus.RUNNING&&c(t.target.value)},w=_.actions.getHelpCopy("features_link","https://docs.developers.optimizely.com/full-stack/docs/use-feature-flags");return l.a.createElement("div",{className:"width--1-1 push-quad--top"},S&&l.a.createElement("h3",null,l.a.createElement(d.a,{isOptional:!1},l.a.createElement("span",null,"Controls"))),i&&l.a.createElement("div",{"data-test-section":"rollout-environments-dropdown-area"},l.a.createElement("div",{className:"push-double--bottom"},l.a.createElement("p",null,"The toggle turns the flag on in this environment. To roll your feature out gradually, use the slider to show it to a percentage of users."," ",l.a.createElement(p.a,{href:w,newWindow:!0},"Learn more."))),l.a.createElement(d.a,null,"Environment"),l.a.createElement("div",{className:"push-double--bottom push-half--top flex"},i,a&&l.a.createElement("div",{className:"muted push-double--left push--right flex milli"},l.a.createElement("div",{className:"push--right flex flex-align--center"},l.a.createElement(m.a,{name:"circle-exclamation",size:"small"})),l.a.createElement("div",{className:"flex flex-align--center"},"You don't have permission to modify the rollout in this environment")))),T&&l.a.createElement("div",{className:"push--bottom"},l.a.createElement(g.a,{type:"bad-news",testSection:"rollout-error-message"},"The rollout traffic allocation must be a number between 0 and 100, containing up to 2 decimal digits.")),l.a.createElement("div",{key:"traffic",className:"flex"},l.a.createElement("div",{className:"push--right"},l.a.createElement(d.a,null,"Feature"),l.a.createElement(u.Track,{eventName:"Rollout Toggled",eventType:"change",properties:{status:C===E.enums.EnvironmentStatus.RUNNING}},l.a.createElement(h.a,{elementId:"rollout-switch",testSection:"rollout-switch",checked:C===E.enums.EnvironmentStatus.RUNNING,onClick:function onChangeStatus(r){var a;O||(r.target.checked?(a=E.enums.EnvironmentStatus.RUNNING,0===P&&c("100")):a=t.state.initialStatus===E.enums.EnvironmentStatus.NOT_STARTED?E.enums.EnvironmentStatus.NOT_STARTED:E.enums.EnvironmentStatus.PAUSED,o(a))},isDisabled:O}))),l.a.createElement("div",{className:"flex--1 push--sides"},l.a.createElement(u.Track,{eventName:"Rollout Slider Clicked"},l.a.createElement(y.a,{isDisabled:A,value:P,onChange:R,testSection:"rollout-form-traffic-input-range"}))),l.a.createElement("div",{className:"width-100 push--left"},l.a.createElement(d.a,null,"Traffic"),l.a.createElement("span",{className:"flex flex-align--center"},l.a.createElement(u.Track,{eventName:"Rollout Input Clicked"},l.a.createElement(v.a,{min:0,max:100,type:"number",value:I,onChange:R,testSection:"rollout-form-traffic-input-number",textAlign:"right",isDisabled:A})),l.a.createElement("span",{className:"push--left"},"%")))))}}]),Rollout}(l.a.Component);b.propTypes={disableInputs:o.a.bool,environmentsDropdown:o.a.node,onStatusChange:o.a.func.isRequired,onTrafficChange:o.a.func.isRequired,rangeDisabled:o.a.bool,traffic:o.a.string.isRequired,status:o.a.oneOf([E.enums.EnvironmentStatus.RUNNING,E.enums.EnvironmentStatus.PAUSED,E.enums.EnvironmentStatus.NOT_STARTED]).isRequired,showError:o.a.bool,showLabel:o.a.bool},b.defaultProps={disableInputs:!1,environmentsDropdown:null,rangeDisabled:!1,showError:!1,showLabel:!0},r.a=b},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(40),l=function reactStringReplace(t,r,a){var i=t.matchAll(r),o=[t],c=0;return Array.from(i,(function(r){o.pop();var i=r.index,l=r.index+r[0].length,u=t.slice(c,i),d=t.slice(l,t.length);c=l,o.push(u),o.push(a(r[0])),o.push(d)})),o},u=function injectLinks(t,r){return l(t,/{{\w+}}[^({{|}})]*{{\/\w+}}/g,(function(t){var a=((t.match(/{{\w+}}/)||[])[0]||"").replace(/{{|}}/g,""),i=(t.split(/{{\w+}}|{{\/\w+}}/)||[]).join("");return o.a.createElement(c.a,{href:r[a]||"#",newWindow:!0},i)}))},d={createJoyrideConfig:function createJoyrideConfig(t,r){return{steps:t.split(",").map((function(t){return{title:r["".concat(t,"_title")],content:o.a.createElement("p",null,u(r["".concat(t,"_content")],r)),placement:"body"===r["".concat(t,"_target")]?"center":"bottom",target:r["".concat(t,"_target")],disableBeacon:!0,spotlightPadding:0}}))}},getFeaturesListPageTourGuide:function getFeaturesListPageTourGuide(t){return d.createJoyrideConfig(t.list_page_keys,t)},getRulesPageTourGuide:function getRulesPageTourGuide(t){return d.createJoyrideConfig(t.rules_page_keys,t)}};r.a={reactStringReplace:l,injectLinks:u,targetedRollouts:d}},,,,,,,,,,,,,,,,function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(31),d=a(2),p=a(63),m=a(2634),g=a(221),h=a(494);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ExperimentDetailsFormInput,t);var r=_createSuper(ExperimentDetailsFormInput);function ExperimentDetailsFormInput(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ExperimentDetailsFormInput),a=r.call(this,t);var i=t.currentProjectExperiments,o=t.form;return t.form.field("key").validators({hasEmptyKeyError:function hasEmptyKeyError(){return!o.field("key").getValue()},hasInvalidKeyError:function hasInvalidKeyError(t){return!h.a.ensureExperimentKeyValid(t)},hasUniqueKeyError:function hasUniqueKeyError(){return!h.a.ensureExperimentKeyUnique(o.getValue(),i)}},{validateOnChange:Object(u.isFeatureEnabled)("user_friendly_names")}),Object(u.isFeatureEnabled)("user_friendly_names")&&t.form.field("name").validators({hasEmptyNameError:function hasEmptyNameError(){return!o.field("name").getValue()}}),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ExperimentDetailsFormInput,[{key:"render",value:function render(){var t=this.props,r=t.experimentType,a=t.form,i=t.handleOnSubmit,c=a.field("key").getErrors(),l=!1;Object(u.isFeatureEnabled)("user_friendly_names")&&(l=a.field("name").getErrors().details.hasEmptyNameError);return o.a.createElement(m.a,{experiment:a.getValue(),experimentType:r,handleOnSubmit:i,showEmptyKeyError:c.details.hasEmptyKeyError,showEmptyNameError:l,showInvalidKeyError:c.details.hasInvalidKeyError,showUniqueKeyError:c.details.hasUniqueKeyError,updateExperimentProperty:function updateExperimentProperty(t,r){return a.field(t).setValue(r)}})}}]),ExperimentDetailsFormInput}(o.a.Component);y.propTypes={currentProjectExperiments:l.a.instanceOf(d.default.List).isRequired,experimentType:l.a.string,form:p.c.isRequired,handleOnSubmit:l.a.func},y.defaultProps={experimentType:g.a.ExperimentType.AB_TEST},r.a=y},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(4),d=a(63),p=a(2),m=a(517),g=a(494),h=a(2635);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(FeatureSelectorFormInput,t);var r=_createSuper(FeatureSelectorFormInput);function FeatureSelectorFormInput(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,FeatureSelectorFormInput),(a=r.call(this,t)).updateExperimentProperty=function(t,r){a.props.form.field(t).setValue(r)},a.handleFeatureSelected=function(t){var r=a.props.form;if(a.updateExperimentProperty("feature_flag_id",t.get("id")),r.setValue(g.a.attachFeatureVariablesToExperiment(t,r.getValue())),!r.field("key").getValue()){var i=t.get("api_name");i.length<60&&(i="".concat(i,"_test")),a.updateExperimentProperty("key",i)}},a.handleFeatureUnselected=function(){a.updateExperimentProperty("feature_flag_id",null)},a.hasFeatureValidationError=function(){var t=a.props,r=t.currentProjectExperiments,i=t.environmentsAuthorizedAndSupported,o=t.form,c=o.field("feature_flag_id").getValue();return Object(u.isNumber)(c)&&!m.a.isFeatureAssignmentValid(o.getValue(),r,i)},a.hasNoFeatureSelectedError=function(){var t=a.props.form.field("feature_flag_id").getValue();return!t||!Object(u.isNumber)(t)},t.form.field("feature_flag_id").validators({hasFeatureValidationError:a.hasFeatureValidationError,hasNoFeatureSelectedError:a.hasNoFeatureSelectedError}),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(FeatureSelectorFormInput,[{key:"render",value:function render(){var t=this.props,r=t.currentProjectFeatures,a=t.form,i=a.field("feature_flag_id").getErrors();return o.a.createElement(h.a,{experiment:a.getValue(),features:r,handleFeatureSelected:this.handleFeatureSelected,handleFeatureUnselected:this.handleFeatureUnselected,showFeatureValidationError:i.details.hasFeatureValidationError,showNoFeatureSelectedError:i.details.hasNoFeatureSelectedError})}}]),FeatureSelectorFormInput}(o.a.Component);y.propTypes={currentProjectExperiments:l.a.instanceOf(p.default.List).isRequired,currentProjectFeatures:l.a.instanceOf(p.default.List).isRequired,environmentsAuthorizedAndSupported:l.a.bool.isRequired,form:d.c.isRequired},r.a=y},function(t,r,a){"use strict";a.r(r);var i=a(4),o=a.n(i),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(52),m=a(478),g=a(2),h=a(76);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(DropdownEntityPicker,t);var r=_createSuper(DropdownEntityPicker);function DropdownEntityPicker(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,DropdownEntityPicker),a=r.call(this,t);var i=t.getEntityDisplayConfig;a.handleFilterChange=a.handleFilterChange.bind(_assertThisInitialized(a)),a.handleFilterBlur=a.handleFilterBlur.bind(_assertThisInitialized(a)),a.handleOnSelectEntity=a.handleOnSelectEntity.bind(_assertThisInitialized(a)),a.onCreateEntity=a.onCreateEntity.bind(_assertThisInitialized(a)),a.onListMouseEnter=a.onListMouseEnter.bind(_assertThisInitialized(a)),a.onListMouseLeave=a.onListMouseLeave.bind(_assertThisInitialized(a));var o=a.props.entities.find((function(t){return t.get("id")===a.props.selectedEntityId}));return a.state={inputContent:o&&i(o).inputText||"",isMouseOverList:!1},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(DropdownEntityPicker,[{key:"componentDidUpdate",value:function componentDidUpdate(t){var r=this.props,a=r.entities,i=r.getEntityDisplayConfig,o=r.selectedEntityId,c=t.selectedEntityId;(o&&!c||o&&o!==c)&&this.setState({inputContent:i(a.find((function(t){return t.get("id")===o}))).inputText})}},{key:"handleFilterChange",value:function handleFilterChange(t){var r=t.target.value;this.setState({inputContent:r})}},{key:"handleFilterBlur",value:function handleFilterBlur(t){var r=this.props.getEntityDisplayConfig;if(!this.state.isMouseOverList){var a=t.target.value,i=this.props.entities.find((function(t){var i=r(t),o=i.inputText,c=i.primaryText,l=i.secondaryText;return a&&[(o||"").toLowerCase(),(c||"").toLowerCase(),(l||"").toLowerCase()].includes(a.toLowerCase())}));if(!i)return this.setState({inputContent:""}),void this.props.onUnselectEntity();this.props.onSelectEntity(i),this.setState({inputContent:r(i).inputText})}}},{key:"handleOnSelectEntity",value:function handleOnSelectEntity(t){var r=this.props,a=r.getEntityDisplayConfig;(0,r.onSelectEntity)(t),this.setState({inputContent:a(t).inputText})}},{key:"onCreateEntity",value:function onCreateEntity(){var t=this;this.props.onCreateEntity((function(r){t.handleOnSelectEntity(r)}))}},{key:"onListMouseEnter",value:function onListMouseEnter(){this.setState({isMouseOverList:!0})}},{key:"onListMouseLeave",value:function onListMouseLeave(){this.setState({isMouseOverList:!1})}},{key:"render",value:function render(){var t=this,r=this.props,a=r.loadingEntities,i=r.inputPlaceholder,c=r.getEntityDisplayConfig,l=r.createNewText,u=r.entities,g=this.state.inputContent;return d.a.createElement("div",{className:"width--300"},d.a.createElement(h.a,{activator:d.a.createElement("div",{"data-test-section":"dropdown-entity-picker-activator"},d.a.createElement(p.a,{isFilter:!0,onChange:this.handleFilterChange,onBlur:this.handleFilterBlur,placeholder:i,type:"text",value:g})),width:"100%"},d.a.createElement("div",{onMouseEnter:this.onListMouseEnter,onMouseLeave:this.onListMouseLeave,className:"width--1-1"},d.a.createElement(h.e,{minWidth:300,direction:"right"},d.a.createElement(h.f,null,d.a.createElement(h.b,{isLink:!0,onClick:this.onCreateEntity,hideOnClick:!0,testSection:"dropdown-entity-picker-create-new"},l)),a?d.a.createElement(h.f,null,d.a.createElement(h.b,{isLink:!1,onClick:o.a.noop},d.a.createElement("div",{className:"flex--dead-center"},d.a.createElement(m.a,null)))):u.filter((function(t){return(c(t).inputText||"").toLowerCase().includes(g.toLowerCase())})).map((function(r){var a=c(r),i=a.description,o=a.primaryText,l=a.secondaryText,u=r.get("api_name");return d.a.createElement(h.f,{key:r.get("id")},d.a.createElement(h.b,{hideOnClick:!0,isLink:!0,onClick:function onClick(){return t.handleOnSelectEntity(r)},testSection:"dropdown-entity-picker-item-".concat(u)},d.a.createElement("div",{className:"lego-dropdown--descriptive__header"},o),l&&d.a.createElement("div",{className:"zeta monospace micro muted word-break--all",style:{marginTop:"-1px"}},l),d.a.createElement("div",{className:"lego-dropdown--descriptive__content muted"},i)))}))))))}}]),DropdownEntityPicker}(d.a.Component);y.propTypes={createNewText:l.a.node.isRequired,entities:l.a.instanceOf(g.default.List).isRequired,getEntityDisplayConfig:l.a.func.isRequired,inputPlaceholder:l.a.string.isRequired,onCreateEntity:l.a.func.isRequired,onSelectEntity:l.a.func.isRequired,onUnselectEntity:l.a.func.isRequired,selectedEntityId:l.a.number},y.defaultProps={loadingEntities:!1},r.default=y},function(t,r,a){"use strict";var i,o,c,l,u=a(4),d=a.n(u),p=a(12),m=a.n(p),g=a(1),h=a.n(g),y=a(0),v=a.n(y),_=a(71),E=a(62),b=a(98),T=a(295),S=a(19),C=a(26),I=a(52),A=a(134),O=a(3),P=a(99),R=a.n(P),w=a(2),N=a(28),L=a(66),x=a.n(L),D=a(14),k=a(311),j=a(21),M=a(83),U=a(45),V=a(360),B=a(810),G=a(282),H=a(37),z=a(22),W=a(957),q=a(702),Y=a(249),K=a(155);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var J=Object(_.withTrack)(((o=function(t){_inherits(ActionButtons,t);var r=_createSuper(ActionButtons);function ActionButtons(){var t;_classCallCheck(this,ActionButtons);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={copyMetricToDashboard:!1},t.handleConfirmClick=function(){var r=t.props,a=r.onConfirm,i=r.track,o=r.currentProjectId,c=r.getMetricProperty,l=r.metricName;if(t.state.copyMetricToDashboard){var u={aggregator:c("aggregator"),description:c("display_title"),display_title:c("display_title"),event_id:c("event_id"),event_type:c("event_type"),winning_direction:c("winning_direction"),name:c("display_title")?c("display_title"):l,project_id:o,scope:c("scope")};B.a.save(u),i("Metric Template Saved")}a(),i("Metric Edits Saved")},t}return _createClass(ActionButtons,[{key:"render",value:function render(){var t=this,r=this.props,a=r.confirmText,i=r.onCancel,o=r.primaryDisabled,c=this.state.copyMetricToDashboard;return v.a.createElement(b.a,{leftGroup:[v.a.createElement(E.OptimizelyFeature,{feature:"metrics_usability"},(function(r){return r&&v.a.createElement(T.a,{checked:c,label:"Push a copy of this metric to the Metrics Dashboard",onChange:function onChange(){return t.setState({copyMetricToDashboard:!c})},"data-test-section":"metric-copy-to-dashboard-checkbox"})}))],rightGroup:[v.a.createElement(S.a,{key:"cancel",onClick:i,style:"plain",testSection:"metric-editor-cancel-button"},"Cancel"),v.a.createElement(S.a,{key:"apply",isDisabled:o,onClick:this.handleConfirmClick,style:"highlight",testSection:"metric-editor-apply-button"},a)]})}}]),ActionButtons}(v.a.Component)).propTypes={confirmText:h.a.string.isRequired,onCancel:h.a.func.isRequired,onConfirm:h.a.func.isRequired,primaryDisabled:h.a.bool.isRequired,track:h.a.func,getMetricProperty:h.a.func,currentProjectId:h.a.number.isRequired,metricName:h.a.string.isRequired},o.defaultProps={track:function track(){}},i=o))||i,X=Object(N.a)({canUseOutlierFiltering:[H.default.accountPermissions,x.a.layer,z.default.canUseOutlierFiltering],currentLayer:x.a.layer,outlierFilter:Y.a.outlierFilter,currentProjectId:D.getters.id})(((l=function(t){_inherits(MetricEditor,t);var r=_createSuper(MetricEditor);function MetricEditor(t){var a;_classCallCheck(this,MetricEditor),(a=r.call(this,t)).titleInputRef=v.a.createRef(),a.getMetricProperty=function(t){return a.state.workingMetricWrapper.getIn(["metric",t])},a.handleTitleInputFocus=function(t){t.target.select()},a.handleTitleKeyUp=function(t){switch(t.keyCode){case 27:case 13:a.titleInputRef.current.blur()}},a.isDirty=function(){var t=a.props.metricWrapper,r=a.state.workingMetricWrapper;return r.get("alias")===U.default.WORKING_METRIC_ALIAS||!w.default.is(t,r)},a.setAggregator=function(t){var r=a.props.metricWrapper,i=U.default.aggregationOperations[t];a.updateMetricWrapperProperty("aggregator",i.aggregator).then((function(){r.get("metric").get("event_id")&&a.updateMetricWrapperProperty("field",i.field).then((function(){a.setScopeOptionsAndUpdateScope()}))}))},a.setScope=function(t){a.updateMetricWrapperProperty("scope",t)},a.setScopeOptionsAndUpdateScope=function(){var t=a.state,r=t.eventMap,i=t.viewMap,o=t.workingMetricWrapper,c=V.default.createSingleMetricWrapper(o.get("metric"),null,a.props.layer,i,r).get("scopeOptions");a.setState((function(t){return{workingMetricWrapper:t.workingMetricWrapper.set("scopeOptions",c)}}),a.updateScope)},a.setTitle=function(t){a.updateMetricWrapperProperty("display_title",t.target.value.trim())},a.setWinningDirection=function(t){a.updateMetricWrapperProperty("winning_direction",t)},a.updateMetricWrapperProperty=function(t,r){var i=m.a.Deferred(),o=a.props.onUpdate,c=a.state.workingMetricWrapper;return a.setState({workingMetricWrapper:c.setIn(["metric",t],r)},(function(){o(a.state.workingMetricWrapper),i.resolve()})),i},a.updateScope=function(){var t=a.state.workingMetricWrapper.get("scopeOptions"),r=a.state.workingMetricWrapper.getIn(["metric","scope"]);t.find((function(t){return t.get("value")===r}))||a.setScope(t.first().get("value"))};var i=t.metricWrapper;return a.state={eventMap:O.default.evaluate(k.default.entityCache),viewMap:O.default.evaluate(G.default.entityCache),workingMetricWrapper:i},q.a.setCurrentlyEditingMetricWrapper(i),a}return _createClass(MetricEditor,[{key:"componentWillUnmount",value:function componentWillUnmount(){q.a.setCurrentlyEditingMetricWrapper(null)}},{key:"render",value:function render(){var t=this.props,r=t.canUseOutlierFiltering,a=t.currentLayer,i=t.currentProjectId,o=t.dragHandle,c=t.indexValue,l=t.isDialog,u=t.layer,p=t.metricWrapper,m=t.onCancel,g=t.onConfirm,h=t.outlierFilter,y=this.state,_=y.eventMap,E=y.viewMap,b=y.workingMetricWrapper,T=R()(j.default.typeToEntityName[u.get("type")||j.default.type.AB]),S=d.a.partial(g,b),O=p.get("alias")?"Save to ".concat(T):"Add to ".concat(T),P=b.get("metric"),w=v.a.createElement(J,{confirmText:O,onCancel:m,onConfirm:S,primaryDisabled:!this.isDirty(),getMetricProperty:this.getMetricProperty,currentProjectId:i,metricName:V.default.getMetricName(P,_,E)}),N=V.default.getAggregatorSelected(P),L=V.default.isAbandonmentMetric(P),x=r&&V.default.isRevenueMetric(b.get("metric"))&&!l,D=h.get("enabled")?tr("enabled"):tr("disabled");return v.a.createElement("div",{"data-test-section":"metric-editor"},l&&v.a.createElement("div",{className:"beta push-quad--top push-double--bottom"},"Edit Metric"),v.a.createElement("div",{className:"border--bottom background--white"},v.a.createElement("div",{className:"flex"},o&&o(v.a.createElement("div",{className:"flex border--left border--ends muted cursor--move soft-half--top"},v.a.createElement("span",{className:"soft--left soft-half--right"},c),v.a.createElement(C.a,{name:"ellipsis-solid",size:"small",className:"lego-icon lego-token__move push-half--top"}))),v.a.createElement("div",{className:"flex--1",onKeyUp:this.handleTitleKeyUp},v.a.createElement(I.a,{defaultValue:this.getMetricProperty("display_title"),onFocus:this.handleTitleInputFocus,onInput:this.setTitle,placeholder:V.default.getMetricName(P,_,E),ref:this.titleInputRef,type:"text"}))),v.a.createElement("div",{className:"soft-double--ends soft-quad--sides border--sides flex flex-wrap"},v.a.createElement(K.default,{buttonStyle:"underline",items:U.default.winningDirectionOptions,minDropdownWidth:100,onChange:this.setWinningDirection,testSection:"winning-direction-dropdown",value:this.getMetricProperty("winning_direction")||U.default.winning_direction.INCREASING,width:"auto"}),v.a.createElement("div",{className:"muted soft-half--top push-half--sides"}," in "),b.get("aggregatorOptions").size>1&&v.a.createElement(K.default,{buttonStyle:"underline",items:b.get("aggregatorOptions").toJS(),minDropdownWidth:175,onChange:this.setAggregator,testSection:"aggregator-dropdown",value:N,width:"auto"}),1===b.get("aggregatorOptions").size&&v.a.createElement("div",{className:"muted soft-half--top"},b.get("aggregatorOptions").first().get("label")),!L&&v.a.createElement("div",{className:"muted soft-half--top push-half--sides"}," per "),b.get("scopeOptions").size>1&&v.a.createElement(K.default,{buttonStyle:"underline",items:b.get("scopeOptions").toJS(),minDropdownWidth:100,onChange:this.setScope,testSection:"scope-dropdown",value:this.getMetricProperty("scope"),width:"auto"}),1===b.get("scopeOptions").size&&!L&&v.a.createElement("div",{className:"muted soft-half--top"}," ",this.getMetricProperty("scope")," "),!V.default.isMetricOverallRevenue(b.get("metric"))&&v.a.createElement("div",{className:"flex flex-wrap"},v.a.createElement("div",{className:"muted soft-half--top push-half--sides"}," ","for"," "),v.a.createElement("div",{className:"weight--bold muted soft-half--top"},this.getMetricProperty("name")||V.default.getMetricEventName(P,_,E)),v.a.createElement("div",{className:"muted soft-half--top push-half--sides"}," ","event."))),x&&v.a.createElement("div",{className:"soft--bottom soft-quad--sides border--sides"},v.a.createElement("span",{"data-test-section":"outlier-filtering-state-text"},"Outlier smoothing is ",D,"."),v.a.createElement(W.a,null)),!l&&v.a.createElement("div",{className:"soft background--faint border--top border--sides"},w)),l&&v.a.createElement("div",{className:"push-quad--top"},!M.default.isMultiArmedBandit(a)&&v.a.createElement(A.a,{alignment:"center",testSection:"metric-editor-warning",type:"warning"},v.a.createElement("span",null,"Changing this metric could affect statistical significance for other metrics in this campaign."," "),v.a.createElement("a",{href:"https://help.optimizely.com/Measure_success%3A_Track_visitor_behaviors/Build_metrics_in_Optimizely_X_Web#Edit_a_metric",rel:"noopener noreferrer",target:"_blank"},"Learn More"),"."),v.a.createElement("div",{className:"push-quad--top soft border--top"},w)))}}]),MetricEditor}(v.a.Component)).propTypes={canUseOutlierFiltering:h.a.bool,currentLayer:h.a.instanceOf(w.default.Map).isRequired,currentProjectId:h.a.number.isRequired,dragHandle:h.a.func,indexValue:h.a.number,isCustomProject:h.a.bool,isDialog:h.a.bool,layer:h.a.instanceOf(w.default.Map).isRequired,metricWrapper:h.a.instanceOf(w.default.Map).isRequired,onCancel:h.a.func.isRequired,onConfirm:h.a.func.isRequired,onUpdate:h.a.func,outlierFilter:h.a.instanceOf(w.default.Map).isRequired},l.defaultProps={isDialog:!1,onUpdate:function onUpdate(){}},c=l))||c;r.a=X},,function(t,r,a){"use strict";var i=a(66),o=a.n(i),c=a(21),l=[o.a.layer,function(t){return!t||t.get("status")===c.default.entityStatus.NOT_STARTED}];r.a={isCurrentLayerInDraftStatus:l}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(196),m=a(62),g=a(11),h=a(853),y=a(19),v=a(2),_=a(217),E=a(283),b=a(2129),T=a.n(b),S=a(2659),C=function ExperimentVariations(t){var r=t.hideHeader,a=t.disableAddVariation,i=function canDeleteVariation(){var r=t.canDelete,a=t.variations;return r&&a.size>1},c=function deleteVariation(r){var a=_.a.deleteVariation(r,t.variations);t.updateExperimentProperty("variations",a)},l=function updateVariation(r,a){var i=t.variations.set(r,a);t.updateExperimentProperty("variations",i)},u=function updateVariationVariable(r,a){var i=t.variations.get(a);i=_.a.updateVariationVariable(i,r),l(a,i)},b=function pauseVariation(r){var a=_.a.pauseVariation(r,t.variations);t.updateExperimentProperty("variations",a)},C=function resumeVariation(r,a){var i=_.a.resumeVariation(r,t.variations);t.updateExperimentProperty("variations",i)},I=function toggleVariationEnabled(r,a,i){var o=r.target.checked,c=i.set("feature_enabled",o),l=t.variations.set(a,c);t.updateExperimentProperty("variations",l)};return d.a.createElement("fieldset",{"data-test-section":"experiment-variations-container"},!r&&d.a.createElement("ol",{className:"lego-form-fields"},d.a.createElement("li",{className:"lego-form-field__item"},d.a.createElement("h3",null,"Variations"),d.a.createElement("p",{className:"push--bottom","data-test-section":"variations-explanation-text"},"Create variations (i.e. treatments) you want to include in this experiment."))),function renderErrorBlock(){if(0!==t.variations.size)return E.a.ensureVariationKeysUnique(t.variations)?_.a.ensureVariationWeightsTotal100(t.variations)?_.a.hasNegativeVariationValues(t.variations)?d.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"has-negative-value-error"},"Traffic distribution values cannot be negative."):t.hasInvalidVariableValues?d.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"has-invalid-variable-value-error"},"One or more variable values are invalid."):void 0:d.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"is-total-not-100-error"},"The traffic distribution total must equal 100%."):d.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"variation-keys-not-unique-error"},"All variations must have unique keys.")}(),function renderVariations(){var r=t.feature,a=t.variations,y=t.isFormDirty,E=t.hideDescription,A=t.hideFeatureControls,O=t.hideActionButtons;if(0!==a.size&&r){var P;P=r?r.get("variables").filter((function(t){return!1===t.get("archived")||void 0===t.get("archived")})):v.default.List();var R=r.get("name"),w=r.get("api_name");return d.a.createElement("div",null,a.map((function(t,a){var N=P.map((function(r){var a=t.get("variable_values"),i=r.get("api_name");return a&&a.get(i)?r.set("value",a.get(i)):r}));return d.a.createElement("div",{className:"push-double--bottom",key:"variation-".concat(a)},function renderVariationTable(t,r,a,o){return d.a.createElement(g.a,{tableLayoutAlgorithm:"auto"},d.a.createElement(g.a.THead,null,d.a.createElement(g.a.TR,null,d.a.createElement(g.a.TH,{width:a?"68%":"20%"},"Variation Key"),d.a.createElement(g.a.TH,null,!a&&"Description"),d.a.createElement(g.a.TH,{width:"22%"},"Traffic Distribution"),d.a.createElement(g.a.TH,{width:"10%"}))),d.a.createElement(g.a.TBody,null,t.map((function(t,u){return d.a.createElement(S.a,{canDelete:i(),key:u,onDeleteVariation:c,pauseVariation:b,resumeVariation:C,rowIndex:r||u,showInvalidKeyError:!_.a.ensureVariationKeyValid(t.get("api_name")),updateVariation:l,variation:t,hideDescription:a,hideActionButtons:o})}))))}(v.default.List([t]),a,E,O),d.a.createElement("div",{className:"border--all","data-test-section":"variation-".concat(a,"-variables-table")},!A&&d.a.createElement(g.a,{density:"loose",tableLayoutAlgorithm:"fixed"},d.a.createElement(g.a.THead,null,d.a.createElement(g.a.TR,null,d.a.createElement(g.a.TH,{width:"35%"},d.a.createElement("h6",{className:"push--top"},"Feature")),d.a.createElement(g.a.TH,null))),d.a.createElement(g.a.TBody,null,d.a.createElement(g.a.TR,null,d.a.createElement(g.a.TD,null,d.a.createElement(m.OptimizelyFeature,{feature:"user_friendly_names"},(function(t){return t?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"word-break--all"},R),d.a.createElement("div",{className:"zeta monospace micro muted force-break",style:{marginTop:"-1px"}},w)):d.a.createElement("div",{className:"force-break"},w)}))),d.a.createElement(g.a.TD,null,d.a.createElement("div",{className:"push--left"},d.a.createElement(p.Track,{eventName:"Variation Toggled",eventType:"change",properties:{status:t.get("feature_enabled")}},d.a.createElement(h.a,{checked:t.get("feature_enabled"),elementId:"toggle-variation-".concat(a),onClick:o.a.partialRight(I,a,t),testSection:"feature-test-variation-toggle-".concat(a)}))))))),P.size>0&&d.a.createElement("div",{className:"soft-double border--top"},d.a.createElement(T.a,{disableVariables:!t.get("feature_enabled"),feature:r,onVariableValueChange:o.a.partialRight(u,a),isFormDirty:y,variables:N}))))})))}}(),!a&&d.a.createElement(y.a,{onClick:function addVariation(){var r=t.feature?t.feature.get("variables").filter((function(t){return!t.get("archived")})):v.default.List(),a=t.variations.size+1||0,i={feature_enabled:!1,api_name:"variation_".concat(a)},o=_.a.addVariation(t.variations,r,i);t.updateExperimentProperty("variations",o)},testSection:"feature-experiment-dialog-add-variable",isDisabled:!t.feature,width:"full"},t.feature?"Add variation":"Add a feature to create variations"))};C.defaultProps={disableAddVariation:!1,hideHeader:!1,hideDescription:!1,hideFeatureControls:!1,hideActionButtons:!1},C.propTypes={canDelete:l.a.bool.isRequired,disableAddVariation:l.a.bool,feature:l.a.instanceOf(v.default.Map),hasInvalidVariableValues:l.a.bool,hideHeader:l.a.bool,isFormDirty:l.a.bool,updateExperimentProperty:l.a.func.isRequired,variations:l.a.instanceOf(v.default.List),hideDescription:l.a.bool,hideFeatureControls:l.a.bool,hideActionButtons:l.a.bool},r.a=C},function(t,r,a){var i=a(1),o=a(0),c=a(16).Table,l=a(77).FEATURE_VARIABLE_TYPE_HUMAN_READABLES,u=a(2).default,d=a(2130),p=function VariableValueTable(t){var r=function handleVariableValueChange(r){t.onVariableValueChange(r)};return o.createElement(c,{density:"tight",tableLayoutAlgorithm:"auto",testSection:"variable-value-table"},o.createElement(c.THead,null,o.createElement(c.TR,null,o.createElement(c.TH,{width:"35%"},"Variable Key"),o.createElement(c.TH,null,"Value"))),o.createElement(c.TBody,null,function renderVariableRows(){var a=t.isFormDirty;return t.variables?t.variables.map((function(i){return o.createElement(c.TR,{testSection:"feature-variable-row-".concat(i.get("api_name")),key:"".concat(t.feature.get("api_name"),"-").concat(i.get("api_name"))},o.createElement(c.TD,null,o.createElement("div",{className:"weight--bold"},i.get("api_name")),o.createElement("div",{className:"muted"},l[i.get("type")])),o.createElement(c.TD,null,o.createElement("div",null,o.createElement(d,{disableVariable:t.disableVariables,onUpdateVariable:r,propertyToUpdate:"value",variable:i,isFormDirty:a}))))})):""}()))};p.propTypes={disableVariables:i.bool.isRequired,feature:i.instanceOf(u.Map).isRequired,isFormDirty:i.bool,variables:i.instanceOf(u.List).isRequired,onVariableValueChange:i.func},t.exports=p},function(t,r,a){var i=a(16),o=i.Input,c=i.Textarea,l=a(2).default,u=a(1),d=a(0),p=a(739).default,m=a(77).FEATURE_VARIABLE_TYPES,g=function VariableValueInput(t){t.variable.get("type");var r=function updateValueFromInput(r){var a=r.target.value,i=t.variable.set(t.propertyToUpdate,a);t.onUpdateVariable(i),t.handleVariableValueClick&&t.handleVariableValueClick(!0)},a=t.variable.get(t.propertyToUpdate),i=t.isFormDirty,l=t.testSectionPrefix?"".concat(t.testSectionPrefix,"-"):"",u=t.variable.get("type");switch(u){case m.boolean:return d.createElement(p,{isDisabled:t.disableVariable,isActivatorFullWidth:!0,onChange:function updateValueFromSelect(r){var a=t.variable.set(t.propertyToUpdate,r);t.onUpdateVariable(a)},testSection:"".concat(l,"variable-value-boolean"),value:a},d.createElement(p.Option,{label:"True",value:"true",key:"true",testSection:"".concat(l,"variable-value-boolean-true-option")}),d.createElement(p.Option,{label:"False",value:"false",key:"false",testSection:"".concat(l,"variable-value-boolean-false-option")}));case m.double:case m.integer:return d.createElement(o,{isDisabled:t.disableVariable,onChange:r,type:"number",testSection:u===m.double?"".concat(l,"variable-value-double"):"".concat(l,"variable-value-integer"),value:a});case m.json:return d.createElement(c,{isDisabled:t.disableVariable,numRows:5,onChange:r,testSection:"".concat(l,"variable-value-json"),value:i?a:JSON.stringify(JSON.parse(a),void 0,2)});case m.string:default:return d.createElement(c,{isDisabled:t.disableVariable,onChange:r,type:"text",testSection:"".concat(l,"variable-value-string"),value:a})}};g.propTypes={disableVariable:u.bool,handleVariableValueClick:u.func,isFormDirty:u.bool,onUpdateVariable:u.func.isRequired,propertyToUpdate:u.string.isRequired,testSectionPrefix:u.string,variable:u.instanceOf(l.Map).isRequired},g.defaultProps={disableVariable:!1},t.exports=g},function(t,r,a){var i=a(2).toImmutable,o=a(5).default,c=a(114),l=a(13),u=a(503),d=a(56),p=a(3625),m=a(3626);t.exports={componentId:"live-variable-dialog",replace:!0,template:m,ready:function ready(){var t=i(this.$options.variable);o.renderReactComponent(this,{component:p,el:this.$$.reactContainer,dataBindings:{currentProjectVariables:[u.entityCache,l.id,function(t,r){return c.filterByProjectId(t,r)}]},props:{canCreateVariable:!0,language:this.$options.language,syntaxHighlightingLanguage:d.getSyntaxHighlightingLanguage(this.$options.language),variable:t}})}}},function(t,r,a){"use strict";var i=a(11),o=a(52),c=a(19),l=a(1),u=a.n(l),d=a(0),p=a.n(d),m=a(2),g=a(1371),h=a(2663);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ForcedVariationsTable,t);var r=_createSuper(ForcedVariationsTable);function ForcedVariationsTable(){var t;_classCallCheck(this,ForcedVariationsTable);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).maxForcedVariations=50,t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ForcedVariationsTable,[{key:"render",value:function render(){var t=this.props,r=t.addForcedVariationRow,a=t.currentForcedVariations,l=t.handleUserIdChange,u=t.handleVariationIdChange,d=t.isOnFullstackManager,m=t.removeForcedVariationRow,y=t.savedForcedVariations,v=t.variations,_=a.map((function(t,r){var c=t.get("user_id")||"";return p.a.createElement(i.a.TR,{key:"forced-variation-row-".concat(r)},p.a.createElement(i.a.TD,{className:"soft-double--ends"},p.a.createElement(o.a,{onChange:function onChange(t){l(r,t.target.value)},placeholder:"User ID",testSection:"oasis-forced-variation-user-id-input",type:"text",value:c})),p.a.createElement(i.a.TD,{className:"soft-double--ends"},p.a.createElement(h.a,{forcedVariation:t,index:r,onVariationIdChange:u,variations:v})),p.a.createElement(i.a.TD,{className:"soft-double--ends"},0===y.size&&1===a.size||d?"":p.a.createElement(g.a,{index:r,onRemoveRow:m}),d&&p.a.createElement(g.a,{index:r,onRemoveRow:m})))}));return p.a.createElement("div",null,!!_.size&&p.a.createElement(i.a,{tableLayoutAlgorithm:"auto"},p.a.createElement(i.a.THead,null,p.a.createElement(i.a.TR,null,p.a.createElement(i.a.TH,null,"User ID",p.a.createElement("span",{className:"oui-label--required"})),p.a.createElement(i.a.TH,null,"Variation"),p.a.createElement(i.a.TH,null))),p.a.createElement(i.a.TBody,null,_)),p.a.createElement("div",{className:"push-double--top"},a.size<this.maxForcedVariations?p.a.createElement(c.a,{onClick:r,testSection:"oasis-forced-variation-add-row-button",width:"full"},"Add User ID..."):p.a.createElement("p",{className:"push-half--top","data-test-section":"oasis-forced-variation-limit-text"},"Optimizely allows you to ",p.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://help.optimizely.com/QA_Campaigns_and_Experiments/QA%3A_Whitelist_users_in_an_SDK_experiment"},"whitelist up to ",this.maxForcedVariations," users")," ","per experiment.")))}}]),ForcedVariationsTable}(p.a.Component);y.propTypes={addForcedVariationRow:u.a.func.isRequired,currentForcedVariations:u.a.instanceOf(m.default.List).isRequired,handleUserIdChange:u.a.func.isRequired,handleVariationIdChange:u.a.func.isRequired,isOnFullstackManager:u.a.bool,removeForcedVariationRow:u.a.func.isRequired,savedForcedVariations:u.a.instanceOf(m.default.List).isRequired,variations:u.a.instanceOf(m.default.List).isRequired},r.a=y},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(0),l=a.n(c),u=a(19),d=a(1),p=a.n(d),m=a(2),g=a(8),h=a.n(g),y=a(29),v=a(54),_=a(324);function EnvironmentStatusControls(t){var r=t.className,a=t.hasNoLayerMetrics,i=t.isLoading,c=t.onStatusChange,d=t.statuses,p=t.testSection,m=o.a.isUndefined(r)?"width--200":r,g=d.reverse();return l.a.createElement("div",{className:m,"data-test-section":p,style:{position:"relative"}},"Environments",l.a.createElement(v.default,{isLoading:!!i,size:"small"},g.map((function(t){var r;r=t.get("status")===y.EnvironmentStatus.NOT_STARTED||t.get("status")===y.EnvironmentStatus.PAUSED?_.b.GREY_EMPTY:_.b.GREEN_CHECK;var i=a||!t.get("canStartAndPause");return l.a.createElement("div",{key:t.get("key"),className:"flex"},l.a.createElement(_.a,{name:t.get("name"),iconType:r}),l.a.createElement("span",{className:"width--50","data-test-section":"environment-status-button-container","data-test-row-id":t.get("key")},l.a.createElement(u.a,{width:"full",style:"outline",size:"tiny",testSection:"environment-status-button",onClick:function onClick(r){c(t.get("id"),t.get("key"),t.get("status"),r)},isDisabled:i},"running"===t.get("status")?h()("Pause"):h()("Run"))))}))))}EnvironmentStatusControls.propTypes={className:p.a.string,hasNoLayerMetrics:p.a.oneOfType([p.a.bool,p.a.number]),isLoading:p.a.bool.isRequired,onStatusChange:p.a.func.isRequired,statuses:p.a.instanceOf(m.default.List).isRequired,testSection:p.a.string},r.a=EnvironmentStatusControls},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(19),m=a(11),g=a(40),h=a(154),y=a(79),v=a(9),_=a.n(v),E=a(5),b=a(28),T=a(2),S=a(24),C=a(23),I=a(102),A=a(14),O=a(873),P=a(64),R=a(155),w=a(54),N=a(160);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L=Object(b.a)({layers:C.getters.entityCache,views:O.getters.views,currentProjectId:A.getters.id})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ExperimentUsage,t);var r=_createSuper(ExperimentUsage);function ExperimentUsage(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ExperimentUsage),(a=r.call(this,t)).renderButtonsInFooter=function(){return[l.a.createElement(p.a,{testSection:"close-button",style:"highlight",key:"Done",onClick:E.default.hideDialog},"Done")]},a.isRunning=function(t){return t===C.enums.status.RUNNING.toLowerCase()},a.getStatusClassName=function(t){return _()({"color--good-news":a.isRunning(t)})},a.renderViews=function(){return a.props.views.toJS().sort(Object(I.generateObjectSortFn)([{field:"name",type:"string",dir:I.ASC}])).filter((function(t){return!t.archived})).map((function(t){var r=t.experiment_count;return{label:t.name,value:t.id,description:"Used in ".concat(r," experiment").concat(r>1?"s":"")}}))},a.renderTableRow=function(t,r){var i=a.state.currentViewId,o=S.default.campaignHome(t.get("project_id"),t.get("id"));return t.get("view_ids").includes(i)&&!t.get("archived")?l.a.createElement(m.a.TR,null,l.a.createElement(m.a.TD,null,l.a.createElement("div",null,l.a.createElement(g.a,{testSection:"usage-experiment".concat(r,"-name"),href:o},t.get("name")),l.a.createElement("div",{className:"micro muted"},t.get("description")))),l.a.createElement(m.a.TD,{testSection:"usage-experiment".concat(r,"-type")},C.humanReadable.TEXT_BY_LAYER_TYPE[t.get("type")].name),l.a.createElement(m.a.TD,{testSection:"usage-experiment".concat(r,"-status")},l.a.createElement("span",{className:a.getStatusClassName(t.get("status"))},C.humanReadable.STATUS_BY_ACTUAL_STATUS[t.get("status")]))):""},a.getExperimentsUsage=function(t){return a.props.layers.filter((function(r){return r.get("view_ids").includes(t)&&!r.get("archived")})).size},a.renderTableHeader=function(){return l.a.createElement("tr",null,l.a.createElement(P.SortableTableHeader,{field:"name",type:"string"},"Experiment Name"),l.a.createElement(P.SortableTableHeader,{field:"type",type:"string"},"Type"),l.a.createElement(P.SortableTableHeader,{field:"status",type:"string"},"Status"),l.a.createElement(m.a.TH,null))},a.state={currentViewId:t.selectedViewId,experimentsUsageAvailable:!1},C.actions.fetchAllByStatus({projectId:t.currentProjectId,byPage:!1,archived:!1}).then((function(){a.setState({experimentsUsageAvailable:!0})})),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ExperimentUsage,[{key:"render",value:function render(){var t=this,r=this.props.layers,a=this.state,i=a.currentViewId,o=a.experimentsUsageAvailable;return l.a.createElement(h.a,{onClose:E.default.hideDialog,title:"Experiment Usage",footerButtonList:this.renderButtonsInFooter()},l.a.createElement(w.default,{isLoading:!o},l.a.createElement(R.default,{isFilterable:!0,testSection:"experiment-usage-view-select",items:this.renderViews(),onChange:function onChange(r){t.setState({currentViewId:r})},value:i,width:320,minDropdownWidth:320}),l.a.createElement("div",{className:"soft-triple--top"},this.getExperimentsUsage(i)?l.a.createElement(N.default,{tableId:"ExperimentsUsageDashboard",testSection:"experiment-usage-table",data:r,renderTableRow:this.renderTableRow,renderTableHeader:this.renderTableHeader,defaultSortBy:{field:"status",type:"string",dir:"desc"}}):l.a.createElement(y.a,{testSection:"no-experiment-usage-message"},"Experiments for this page may be archived. Try another page."))))}}]),ExperimentUsage}(l.a.Component)).propTypes={currentProjectId:d.a.number.isRequired,layers:d.a.instanceOf(T.default.Map).isRequired,selectedViewId:d.a.number.isRequired,views:d.a.instanceOf(T.default.List).isRequired},i=o))||i;r.a=L},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(11),l=a(19),u=a(1),d=a.n(u),p=a(2),m=a(730),g=a(160),h=a(64),y=a(325),v=a(935),_=a(44),E=a(125),b=a(1449),T=a.n(b),S=a(2721);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var C=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(GroupTable,t);var r=_createSuper(GroupTable);function GroupTable(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,GroupTable),(a=r.call(this,t)).state={isGroupDetailDialogLoading:!1},a.filterItemByStatus=function(t,r){return _.d.matchesArchivedStatus(t,r)},a.filterItemByString=function(t,r){return _.d.matchesFields(t,["name","description"],r)},a.renderTableHeader=function(){return o.a.createElement("tr",null,o.a.createElement(h.SortableTableHeader,{field:"name",type:"string"},"Exclusion Group"),o.a.createElement(c.a.TH,null,"Experiments"),o.a.createElement(c.a.TH,null,"Available Traffic"),o.a.createElement(h.SortableTableHeader,{field:"created",type:"date"},"Created"),o.a.createElement(h.SortableTableHeader,{field:"last_modified",type:"date"},"Modified"),o.a.createElement(c.a.TH,null))},a.createGroup=a.createGroup.bind(_assertThisInitialized(a)),a.renderEmptyState=a.renderEmptyState.bind(_assertThisInitialized(a)),a.renderTableRow=a.renderTableRow.bind(_assertThisInitialized(a)),a.renderTableHeader=a.renderTableHeader.bind(_assertThisInitialized(a)),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(GroupTable,[{key:"createGroup",value:function createGroup(){var t=this;this.setState({isGroupDetailDialogLoading:!0});var r={group:E.e.createExperimentationGroupEntity({project_id:this.props.currentProjectId})};v.a.show((function(t){return E.a.save(t)}),r),setTimeout((function(){return t.setState({isGroupDetailDialogLoading:!1})}),500)}},{key:"renderEmptyState",value:function renderEmptyState(){return o.a.createElement(m.default,{createButton:{onClick:this.createGroup,testSection:"empty-state-create-group-button",isDisabled:!this.props.canCreateGroup,label:o.a.createElement("span",null,"Create New Exclusion Group…")},headline:"Create mutually exclusive experiments",description:o.a.createElement("div",null,"Exclusion groups can be used to keep your experiments mutually exclusive."," ",o.a.createElement("a",{href:this.props.helpUrl,target:"_blank",rel:"noopener noreferrer"},"Learn more.")),imagePath:T.a})}},{key:"renderTableRow",value:function renderTableRow(t){return o.a.createElement(S.a,{key:t.get("id"),group:t,canArchiveGroup:this.props.canArchiveGroup})}},{key:"render",value:function render(){var t=this.state.isGroupDetailDialogLoading;return this.props.isEmptyState?this.renderEmptyState():o.a.createElement("div",{className:"flex flex--1 flex--column"},o.a.createElement("div",{className:"flex flex--none push-quad--sides push-double--ends"},o.a.createElement(y.default,{tableId:this.props.tableId,inputPlaceholder:"Filter by name or description",inputWidth:"width--300",statusOptions:[{label:"Active",value:_.c.status.ACTIVE},{label:"Archived",value:_.c.status.ARCHIVED}]}),o.a.createElement(l.a,{isDisabled:!this.props.canCreateGroup||t,style:"highlight",onClick:this.createGroup,testSection:"create-group-button"},"Create New Exclusion Group...")),o.a.createElement(g.default,{tableId:this.props.tableId,data:this.props.groups,entityPlural:"exclusion groups",filterItemByString:this.filterItemByString,filterItemByStatus:this.filterItemByStatus,renderTableRow:this.renderTableRow,renderTableHeader:this.renderTableHeader,defaultSortBy:{field:"name",type:"string"},defaultFilters:{status:_.c.status.ACTIVE}}))}}]),GroupTable}(o.a.Component);C.propTypes={tableId:d.a.string.isRequired,canCreateGroup:d.a.bool.isRequired,canArchiveGroup:d.a.bool.isRequired,groups:d.a.instanceOf(p.default.List).isRequired,helpUrl:d.a.string.isRequired,isEmptyState:d.a.bool.isRequired,currentProjectId:d.a.number.isRequired},r.a=C},,,function(t,r,a){"use strict";a.d(r,"a",(function(){return initializeVue}));var i=a(4),o=a.n(i),c=a(93),l=a.n(c),u=a(775),d=a.n(u),p=a(639),m=a(776),g=a(777),h=a.n(g),y=a(544),v=a.n(y),_=a(769),E=a.n(_),b=a(656),T=a.n(b),S=a(778),C=a.n(S),I=a(735),A=a.n(I),O=a(779),P=a.n(O),R=a(780),w=a.n(R),N=a(781),L=a.n(N),x=a(736),D=a.n(x),k=a(657),j=a.n(k),M=a(563),U=a.n(M),V=a(192),B=a.n(V),G=a(732),H=a.n(G),z=a(782),W=a.n(z),q=a(783),Y=a.n(q),K=a(784),J=a.n(K),X=a(228),$=a.n(X),Q=a(785),Z=a.n(Q),ee=a(786),te=a.n(ee),ne=a(2140),re=a(2142),ae=a(2143),ie=a(2144),oe=a(2145),se=a(2146),ce=a(2147),le=a(2148),ue=a(675),de=a(2149),fe=a(2150),pe=a(2151),me=a(2152),ge=a(2153),he=a(2154),ye=a(2155),ve=a(2169),_e=a(2170),Ee=a(2171),be=a(2172),Te=a(2173),Se={accordion:ne.a,back:re.a,"desktop-same-window":ae.a,disabled:ie.a,dropdown:oe.a,el:se.a,"flux-link":ce.a,"lego-disabled":le.a,loading:ue.a,"loading-entity":de.a,"loading-hide":fe.a,"loading-show":pe.a,"loading-vm-prop":me.a,poptip:ge.a,popover:he.a,"push-state":ye.a,resize:ve.a,"scroll-classes":_e.a,spinner:Ee.a,tabs:be.a,value:Te.a},Ce={"filter-prop":d.a,"format-date":p.a,"format-datetime":m.a,"format-description":h.a,"format-file-size":v.a,"format-currency":E.a,"format-time":T.a,"format-phone-number":C.a,fulldate:A.a,join:P.a,"list-to-readable-string":w.a,"format-number":L.a,"number-to-letter":D.a,percentage:j.a,"relative-date":U.a,truncate:B.a,plural:H.a,"results2-unescape":W.a,sanitizeHTML:Y.a,slice:J.a,shortdate:$.a,"wrap-tag":Z.a,translate:te.a};function initializeVue(){l.a.config({delimiters:["[","]"]}),o.a.each(Se,(function(t,r){l.a.directive(r,t)})),o.a.each(Ce,(function(t,r){l.a.filter(r,t)}))}},,function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(2141),l=a.n(c),u={__activate:function __activate(t){t.preventDefault(),l.a.activate(this.el,t.target)},bind:function bind(){o()(this.el).find("> li > a").on("click",this.__activate.bind(this))},unbind:function unbind(){o()(this.el).find("> li > a").off("click",this.__activate)}};r.a=u},function(t,r,a){var i=a(12);t.exports={activate:function activate(t,r){var a=i(t),o=i(r),c=o.parent(".accordion__item"),l=a.find(".".concat("is-active")),u=l.outerHeight();c.animate({height:u},{duration:200,queue:!1}),l.animate({height:o.outerHeight()},{duration:200,queue:!1,complete:function complete(){c.parent().children().css("height","")}}),l.length>0&&l.removeClass("is-active"),o.parent().addClass("is-active")}}},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(101),l={isLiteral:!0,bind:function bind(){o()(this.el).on("click",(function(t){t.preventDefault(),c.default.back()}))}};r.a=l},function(t,r,a){"use strict";var i=a(564),o={isLiteral:!0,bind:function bind(){i.a.isDesktopApp()&&this.el.setAttribute("target","_self")}};r.a=o},function(t,r,a){"use strict";var i=a(12),o=a.n(i);r.a=function(t){o()(this.el).attr("disabled",t).toggleClass("disabled",t)}},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(224),l=a.n(c),u={isEmpty:!0,bind:function bind(){var t=o()(this.el);t.on("click","[data-show-dropdown]",l.a.show.bind(l.a,this.el)),t.on("click","[data-toggle-dropdown]",l.a.toggle.bind(l.a,this.el)),t.on("click","[data-hide-dropdown]",l.a.hide.bind(l.a,this.el))},unbind:function unbind(){var t=o()(this.el);t.off("click","[data-show-dropdown]",l.a.show),t.off("click","[data-toggle-dropdown]",l.a.toggle),t.off("click","[data-hide-dropdown]",l.a.hide)}};r.a=u},function(t,r,a){"use strict";var i={isLiteral:!0,bind:function bind(){this.vm.$$=this.vm.$$||{},this.vm.$$[this.expression]=this.el},unbind:function unbind(){delete this.vm.$$[this.expression]}};r.a=i},function(t,r,a){"use strict";var i=a(93),o=a.n(i).a.require("utils"),c=[].filter;var l={bind:function bind(){var t=this,r=t.el,a=r.type,i=r.tagName;t.lock=!1,t.ownerVM=t.binding.compiler.vm,t.event=t.compiler.options.lazy||"SELECT"===i||"checkbox"===a||"radio"===a?"change":"input",t.attr="checkbox"===a?"checked":"INPUT"===i||"SELECT"===i||"TEXTAREA"===i?"value":"innerHTML","SELECT"===i&&r.hasAttribute("multiple")&&(this.multi=!0);var c=!1;t.cLock=function(){c=!0},t.cUnlock=function(){c=!1},r.addEventListener("compositionstart",this.cLock),r.addEventListener("compositionend",this.cUnlock),t.set=t.filters?function(){if(!c){var a;try{a=r.selectionStart}catch(t){}t._set(),o.nextTick((function(){void 0!==a&&r.setSelectionRange(a,a)}))}}:function(){c||(t.lock=!0,t._set(),o.nextTick((function(){t.lock=!1})))},r.addEventListener(t.event,t.set)},_set:function _set(){this.ownerVM.$fluxLink[this.key.split(".")[1]]=this.multi?function getMultipleSelectOptions(t){return c.call(t.options,(function(t){return t.selected})).map((function(t){return t.value||t.text}))}(this.el):this.el[this.attr]},update:function update(t,r){if(r&&void 0===t)return this._set();if(!this.lock){var a=this.el;"SELECT"===a.tagName?(a.selectedIndex=-1,this.multi&&Array.isArray(t)?t.forEach(this.updateSelect,this):this.updateSelect(t)):"radio"===a.type?a.checked=t===a.value:"checkbox"===a.type?a.checked=!!t:a[this.attr]=o.guard(t)}},updateSelect:function updateSelect(t){for(var r=this.el.options,a=r.length;a--;)if(r[a].value===t){r[a].selected=!0;break}},unbind:function unbind(){var t=this.el;t.removeEventListener(this.event,this.set),t.removeEventListener("compositionstart",this.cLock),t.removeEventListener("compositionend",this.cUnlock)}};r.a=l},function(t,r,a){"use strict";var i=a(12),o=a.n(i);r.a=function(t){o()(this.el).attr("disabled",t).toggleClass("lego-button--disabled",t)}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(3),l=a(168),u=a(675);r.a=o.a.extend({},u.a,{isLiteral:!1,setupObservation:function setupObservation(){},update:function update(t){var r=this;this.__unwatchLoadingStore&&this.__unwatchLoadingStore();var a=this.vm.$get(this.key),i=this.el.getAttribute("entity"),o=l.a.isEntityLoading(i,a);this.toggleSpinner(c.default.evaluate(o)),this.__unwatchLoadingStore=c.default.observe(o,(function(t){r.toggleSpinner(t)}))}})},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(3),l=a(168),u={isLiteral:!0,bind:function bind(){var t=l.a.isLoading(this.key);this.toggleLoading(c.default.evaluate(t)),this.__unwatch=c.default.observe(t,this.toggleLoading.bind(this))},toggleLoading:function toggleLoading(t){o()(this.el).toggle(!t)},unbind:function unbind(){this.__unwatch()}};r.a=u},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(3),l=a(168),u={isLiteral:!0,bind:function bind(){var t=l.a.isLoading(this.key);this.toggleLoading(c.default.evaluate(t)),this.__unwatch=c.default.observe(t,this.toggleLoading.bind(this))},toggleLoading:function toggleLoading(t){o()(this.el).toggle(!!t)},unbind:function unbind(){this.__unwatch()}};r.a=u},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(675);r.a=o.a.extend({},c.a,{isLiteral:!1,setupObservation:function setupObservation(){},update:function update(t){this.toggleSpinner(t)}})},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(707),l=a.n(c),u=a(8),d=a.n(u),p="body",m=null,g="top-center",h='<div class="lego-pop lego-pop--tip"></div>',y={_showPoptip:function _showPoptip(){var t=l.a.getArrowDirection(this.config.dir);this._hidePoptip.bind(this),this.config.content=d.a.variable(this.el.getAttribute("data-content")),this.config.content&&(this.$poptip=o()(this.config.template),this.$poptipContainer=o()(this.config.container),this.$poptip.addClass("lego-pop--tip--arrow-"+t),this.$poptip.attr("data-poptip",""),this.$poptipContainer.append(this.$poptip),this.$poptip.html(this.config.content),this.offset=l.a.getPoptipOffset(this.$el,this.$poptip,this.$poptipContainer,this.config.dir),this.$poptip.css({left:this.offset.left,top:this.offset.top,opacity:1}))},_hidePoptip:function _hidePoptip(){o()("*[data-poptip]").detach()},bind:function bind(){this.$el=o()(this.el),this.config={container:this.el.getAttribute("data-container")||p,content:this.el.getAttribute("data-content")||m,dir:this.el.getAttribute("data-dir")||g,template:this.el.getAttribute("data-template")||h},this.$el.on("mouseenter",this._showPoptip.bind(this)),this.$el.on("mouseleave click",this._hidePoptip.bind(this))},unbind:function unbind(){o()(this.el).off("mouseenter mouseleave click"),this._hidePoptip.bind(this)}};r.a=y},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(4),l=a.n(c),u=a(61),d=a.n(u),p=a(707),m=a.n(p),g={behavior:"toggle",container:"body",contentSelector:".lego-pop--over",dir:"top-center",name:null,zIndex:3002,scrollListeners:!1},h={_attachOrRemovePositionListeners:function _attachOrRemovePositionListeners(t){var r=this.config.scrollListeners,a=l.a.throttle(this._positionPopover.bind(this),30);t?(r&&o()(r).on("scroll",a),o()(window).on("resize",a)):(r&&o()(r).off("scroll",a),o()(window).off("resize",a))},_createPopover:function _createPopover(){this.$popoverContent.css({display:"none",position:"absolute","z-index":this.config.zIndex})},_hide:function _hide(){!0===this.isOpen&&(this._attachOrRemovePositionListeners(!1),this.$popoverContent.css({display:"none",left:"auto",top:"auto"}),this.$popoverContainer&&this.$popoverContent.appendTo(this.$popoverActivator),this.$el.removeClass("lego-pop--over--shown"),this.isOpen=!1,this.config.name&&d.a.getPageName()&&d.a.track(d.a.getPageName(),"popover-hide",this.config.name),this.vm.$emit("".concat("popover:","hidden"),this.config.contentSelector))},_isClickOutside:function _isClickOutside(t){var r=this.$el.is(t.target)||this.$el.has(t.target).length>0,a=this.$popoverContent.is(t.target)||this.$popoverContent.has(t.target).length>0;!this.isOpen||r||a||this._hide()},_positionPopover:function _positionPopover(){var t=this.config.dir;if(t){var r="lego-pop--over--arrow-"+m.a.getArrowDirection(t);this.$popoverContent.addClass(r)}var a=m.a.getPoptipOffset(this.$popoverActivator,this.$popoverContent,this.$popoverContainer,this.config.dir);this.$popoverContent.css({left:a.left,top:a.top})},_show:function _show(){!1===this.isOpen&&(this.config=this._setUpConfig(),this.$popoverContent.css({display:"block",opacity:"1"}),this.$popoverContent.appendTo(this.$popoverContainer),this._attachOrRemovePositionListeners(!0),this.$el.addClass("lego-pop--over--shown"),this.isOpen=!0,this._positionPopover(),this.config.name&&d.a.getPageName()&&d.a.track(d.a.getPageName(),"popover-show",this.config.name),this.vm.$emit("".concat("popover:","shown"),this.config.contentSelector))},_toggle:function _toggle(){this.isOpen?this._hide():this._show()},_setUpConfig:function _setUpConfig(){var t=l.a.defaults({behavior:this.el.getAttribute("data-behavior")||void 0,container:this.el.getAttribute("data-container")||void 0,contentSelector:this.el.getAttribute("data-content-selector")||void 0,dir:this.el.getAttribute("data-dir")||void 0,name:this.el.getAttribute("data-name")||void 0,zIndex:this.el.getAttribute("data-z-index")||void 0,scrollListeners:this.el.getAttribute("data-scroll-listeners")||void 0},g);return this.$popoverContainer=this.$el.closest(t.container),t},bind:function bind(){switch(this.$el=o()(this.el),this.$popoverActivator=this.$el,this.isOpen=!1,this.config=this._setUpConfig(),this.$popoverContent=this.$el.siblings(this.config.contentSelector),this._createPopover(),this.hideWithThis=this._hide.bind(this),this.$popoverContent.on("click","[data-popover-hide]",this.hideWithThis),this.config.behavior){case"show":this.$popoverActivator.on("click",this._show.bind(this));break;case"toggle":default:this.$popoverActivator.on("click",this._toggle.bind(this))}o()("body").on("click",this._isClickOutside.bind(this)),this.vm.$on("".concat("popover:","isClickOutside"),this._isClickOutside.bind(this)),this.vm.$on("".concat("popover:","hide"),this._hide.bind(this))},unbind:function unbind(){this._hide(),this.$popoverContent.off("click","[data-popover-hide]",this.hideWithThis),o()("body").off("click",this._isClickOutside.bind(this))}};r.a=h},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(35),l={bind:function bind(){var t=this;o()(this.el).on("click",(function(r){var a=o()(t.el).attr("href");return!!function shouldUseDefault(t){return 2===t.which||t.ctrlKey||t.shiftKey||t.metaKey}(r)||(r.preventDefault(),c.default.go(a),!1)}))}};r.a=l},,function(t,r,a){"use strict";var i=a(151),o=a(3),c=a(132),l=a.n(c),u=a(13),d=a(56),p=a(246),m=a(37),g=a(152),h=a(1332),y=function getGlobalProperties(){return{accountName:o.default.evaluateToJS(m.default.accountName),stack:o.default.evaluate(p.d.activeVersion),url:l.a.getLocation(),path:l.a.getPath(),projectId:o.default.evaluateToJS(u.default.id),role:o.default.evaluateToJS(m.default.currentRole),projectType:d.default.getProjectType(o.default.evaluate(u.default.project))}},v=function getGlobalOptions(){var t=g.actions.getClientInstance(),r=t?t.user:null;return{Optimizely:{userId:r?r.id:null,attributes:r?r.attributes:{}}}};r.a={initialize:function initialize(t,r,a){Object(h.isTemporaryOptimizelyEmail)(t.email)||(i.core.setGlobalPropertiesFn(y),i.core.setGlobalOptionsFn(v),this.segmentGroupByAccount(t,a),this.segmentGroupByProject(r,a))},onRouteStart:function onRouteStart(){i.core.resetProperties()},segmentIdentify:function segmentIdentify(t,r,a){if(!Object(h.isTemporaryOptimizelyEmail)(t.email)){var o=i.core.getSegmentGlobal(),c=g.fns.generateUserId(t,r);try{o&&o.identify(c,a)}catch(r){console.warn("segmentAnalyticsGlobal.identify() call failed with accountInfo: ",t)}}},segmentGroupByAccount:function segmentGroupByAccount(t,r){var a=i.core.getSegmentGlobal(),c=r?"impersonated_":"";try{if(a){var l=o.default.evaluateToJS(m.default.accountName);a.group(c+t.account_id,{name:l,description:t.account_name||t.email.replace(/^[^@]*@/,""),grouping:"Account",planId:t.plan_id,planName:t.plan_display_name,isImpersonating:r})}}catch(r){console.warn("segmentAnalyticsGlobal.group() call failed with accountInfo: ",t)}},segmentGroupByProject:function segmentGroupByProject(t,r){var a=i.core.getSegmentGlobal(),o=r?"impersonated_":"";try{a&&a.group(o+t.id,{description:t.project_name,grouping:"Project",projectType:"web"===t.project_platforms[0]?"web":t.sdks[0],isImpersonating:r})}catch(r){console.warn("segmentAnalyticsGlobal.group() call failed with projectInfo: ",t)}},trackRouteComplete:function trackRouteComplete(t){var r=i.core.getSegmentGlobal(),a=t.routeMetadata,o=void 0===a?{}:a;try{if(r){var c=l.a.getOrigin();"PAGE LOAD"!==t.fromPath&&(c+=t.fromPath),i.api.page(o.category,o.name,{referrer:c}),i.core.setProperties({page:o.name})}}catch(r){console.warn("SegmentJSAPI.page() call failed with data: ",t)}}}},function(t,r){t.exports='[Optimizely enableEditor];\n[Optimizely startOptimizelyWithAPIToken:\n@"%s" launchOptions:launchOptions];\n'},function(t,r){t.exports='Optimizely.enableEditor();\nOptimizely.startOptimizelyWithAPIToken("%s",\ngetApplication());\n'},function(t,r,a){"use strict";var i=a(41),o=a(959);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a);c.byId,c.entityCache;r.a=_extends({},c,{catalogsAsList:function catalogsAsList(){return[c.entityCache,function(t){return t.toList()}]}})},function(t,r,a){"use strict";var i=a(41),o=a(960);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=Object(i.default)(o.a);r.a=_extends({},c)},function(t){t.exports=JSON.parse('{"timezones":[{"offset":-720,"title":"GMT-12:00"},{"offset":-660,"title":"GMT-11:00"},{"offset":-600,"title":"GMT-10:00"},{"offset":-570,"title":"GMT-09:30"},{"offset":-540,"title":"GMT-09:00"},{"offset":-480,"title":"GMT-08:00"},{"offset":-420,"title":"GMT-07:00"},{"offset":-360,"title":"GMT-06:00"},{"offset":-300,"title":"GMT-05:00"},{"offset":-240,"title":"GMT-04:00"},{"offset":-210,"title":"GMT-03:30"},{"offset":-180,"title":"GMT-03:00"},{"offset":-120,"title":"GMT-02:00"},{"offset":-60,"title":"GMT-01:00"},{"offset":0,"title":"GMT+00:00"},{"offset":60,"title":"GMT+01:00"},{"offset":120,"title":"GMT+02:00"},{"offset":180,"title":"GMT+03:00"},{"offset":210,"title":"GMT+03:30"},{"offset":240,"title":"GMT+04:00"},{"offset":270,"title":"GMT+04:30"},{"offset":300,"title":"GMT+05:00"},{"offset":330,"title":"GMT+05:30"},{"offset":345,"title":"GMT+05:45"},{"offset":360,"title":"GMT+06:00"},{"offset":390,"title":"GMT+06:30"},{"offset":420,"title":"GMT+07:00"},{"offset":480,"title":"GMT+08:00"},{"offset":510,"title":"GMT+08:30"},{"offset":525,"title":"GMT+08:45"},{"offset":540,"title":"GMT+09:00"},{"offset":570,"title":"GMT+09:30"},{"offset":600,"title":"GMT+10:00"},{"offset":630,"title":"GMT+10:30"},{"offset":660,"title":"GMT+11:00"},{"offset":720,"title":"GMT+12:00"},{"offset":765,"title":"GMT+12:45"},{"offset":780,"title":"GMT+13:00"},{"offset":840,"title":"GMT+14:00"}]}')},,,,,,function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(482);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.a={wrap:function wrap(t,r){var a=r.component,i=r.componentId,l=r.options,u=r.data,d=r.parent,p=Object(c.a)(a,d,l,u),m=function(r){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(VueComponentInRegion,r);var a=_createSuper(VueComponentInRegion);function VueComponentInRegion(){var t;_classCallCheck(this,VueComponentInRegion);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=a.call.apply(a,[this].concat(i))).createVueComponentRef=function(r){t.vueComponentRef=r},t.navigationControllerWillHideView=function(){t.vueComponentRef&&(t.vueComponentRef.$emit("unwatchFluxBindVueValues"),t.vueComponentRef.$broadcast("unwatchFluxBindVueValues"))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(VueComponentInRegion,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(){return!1}},{key:"registerComponent",value:function registerComponent(r){r(t,i,{component:this.vueComponentRef,key:i})}},{key:"render",value:function render(){return o.a.createElement(p,{vueComponentRef:this.createVueComponentRef,className:"stage__item__content--column"})}}]),VueComponentInRegion}(o.a.Component);return m.componentId=i,m}}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(12),l=a.n(c),u={consecutiveClickCount:0,isExpanded:!1,isResizing:!1,setIsResizing:function setIsResizing(t){var r=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isResizing=t,this.vm.$emit("containerResized",this.isResizing),a&&setTimeout((function(){r.setIsResizing(!1)}),50)},onResizerMouseDown:function onResizerMouseDown(t){var r=this;t.preventDefault(),this.setIsResizing(!0),this.consecutiveClickCount+=1,this.consecutiveClickCount>1&&this.onDoubleClick(),setTimeout((function(){r.consecutiveClickCount=0}),400)},onDoubleClick:function onDoubleClick(){if(this.isExpanded=!this.isExpanded,this.isExpanded){var t=this.maxSize?"".concat(this.maxSize,"px"):"100%";this.$el.css(this.styleProperty,t)}else this.$el.css(this.styleProperty,"");this.setIsResizing(!0,!0)},onDocumentMouseMove:function onDocumentMouseMove(t){this.isResizing&&this.throttledDuringResize(t)},onDocumentMouseUp:function onDocumentMouseUp(){this.isResizing&&this.setIsResizing(!1)},duringResize:function duringResize(t){var r;this.vm.$emit("containerResized",this.isResizing),r="horizontal"===this.orientation?t.clientX-this.$el.offset().left:t.clientY-this.$el.offset().top;var a=parseInt(this.minSize,10),i=parseInt(this.maxSize,10);r<a||r>i||(this.newSize="".concat(r,"px"),this.$el.css(this.styleProperty,this.newSize))},bind:function bind(t){this.minSize=this.el.getAttribute("data-min-size"),this.maxSize=this.el.getAttribute("data-max-size"),this.orientation="horizontal"===this.el.getAttribute("data-resizer-type")?"horizontal":"vertical",this.styleProperty="horizontal"===this.orientation?"width":"height",this.styleProperty=this.el.getAttribute("data-style-property")||this.styleProperty,this.setIsResizing(!1);var r='<div class="resizer resizer--vertical"><div class="resizer__icon"></div></div>';"vertical"===this.orientation&&(r='<div class="resizer resizer--horizontal"><div class="resizer__icon"></div></div>'),this.$el=l()(this.el),this.el.insertAdjacentHTML("afterend",r),this.$resizeHandle=l()(this.el.nextSibling),this._boundMouseDown=this.onResizerMouseDown.bind(this),this._boundMouseMove=this.onDocumentMouseMove.bind(this),this._boundMouseup=this.onDocumentMouseUp.bind(this),this.$resizeHandle.on("mousedown",this._boundMouseDown),l()(document).on("mouseup",this._boundMouseup).on("mousemove",this._boundMouseMove),this.throttledDuringResize=o.a.throttle(this.duringResize.bind(this),50)},update:function update(t){t?this.$resizeHandle.removeClass("display--none"):(this.$resizeHandle.addClass("display--none"),this.$el.css(this.styleProperty,""))},unbind:function unbind(){this.$resizeHandle.off("mousedown",this._boundMouseDown),l()(document).off("mouseup",this._boundMouseup).off("mousemove",this._boundMouseMove),this.$resizeHandle.remove()}};r.a=u},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(4),l=a.n(c),u=a(93),d=a.n(u),p={scrollDirection:"horizontal",classLeft:null,classRight:null,classTop:null,classBottom:null,classBoth:null},m={_setUpHorizontalScroll:function _setUpHorizontalScroll(){this.config=l.a.defaults({scrollDirection:"horizontal",classLeft:this.el.getAttribute("data-class-left")||void 0,classRight:this.el.getAttribute("data-class-right")||void 0,classBoth:this.el.getAttribute("data-class-both")||void 0},p),this._applyHorizontalClasses(),o()(this.el).on("scroll.scrollClasses",this._applyHorizontalClasses.bind(this))},_setUpVerticalScroll:function _setUpVerticalScroll(){this.config=l.a.defaults({scrollDirection:"vertical",classTop:this.el.getAttribute("data-class-top")||void 0,classBottom:this.el.getAttribute("data-class-bottom")||void 0,classBoth:this.el.getAttribute("data-class-both")||void 0},p),this._applyVerticalClasses(),o()(this.el).on("scroll.scrollClasses",this._applyVerticalClasses.bind(this))},_setUpScrolls:function _setUpScrolls(){var t=this.el.getAttribute("data-scroll-direction");"horizontal"===t?this._setUpHorizontalScroll():"vertical"===t&&this._setUpVerticalScroll()},_applyHorizontalClasses:function _applyHorizontalClasses(){if(this.el.offsetHeight<this.el.scrollWidth){var t=0!==this.el.scrollLeft,r=this.el.offsetWidth+this.el.scrollLeft>=this.el.scrollWidth;t&&o()(this.el).addClass(this.config.classLeft),r||o()(this.el).addClass(this.config.classRight),!r&&t&&o()(this.el).addClass(this.config.classBoth),t||(o()(this.el).removeClass(this.config.classLeft),o()(this.el).removeClass(this.config.classBoth)),r&&(o()(this.el).removeClass(this.config.classRight),o()(this.el).removeClass(this.config.classBoth))}},_applyVerticalClasses:function _applyVerticalClasses(){if(this.el.offsetHeight<this.el.scrollHeight){var t=0!==this.el.scrollTop,r=this.el.offsetHeight+this.el.scrollTop>=this.el.scrollHeight;t&&o()(this.el).addClass(this.config.classTop),r||o()(this.el).addClass(this.config.classBottom),!r&&t&&o()(this.el).addClass(this.config.classBoth),t||(o()(this.el).removeClass(this.config.classTop),o()(this.el).removeClass(this.config.classBoth)),r&&(o()(this.el).removeClass(this.config.classBottom),o()(this.el).removeClass(this.config.classBoth))}},bind:function bind(){this._setUpScrolls()},update:function update(t){var r=this;t&&d.a.nextTick((function(){r._setUpScrolls()}))},unbind:function unbind(){o()(this.el).off(".scrollClasses")}};r.a=m},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(72),l=a.n(c),u={bind:function bind(){this.options={size:this.el.hasAttribute("data-spinner-size")?"lego-spinner--"+this.el.getAttribute("data-spinner-size"):null,overlay:this.el.hasAttribute("data-spinner-overlay")?"lego-overlay":null},this.spinner=l()('<div class="%s"><div class="lego-spinner %s"></div></div>',this.options.overlay,this.options.size),this.$spinner=o()(this.spinner),this.$el=o()(this.el),this.$el.append(this.$spinner)},unbind:function unbind(){this.$spinner.remove()},update:function update(t){t?this.$spinner.removeClass("display--none"):this.$spinner.addClass("display--none")}};r.a=u},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(1033),l=a.n(c);r.a={isEmpty:!0,bind:function bind(){var t=this;o()(this.el).on("click",(function(r){var a=o()(t.el),i=o()("#".concat(t.expression?t.expression:a.data("tab-id")));if(0!==i.length){var c=null,u=o()(r.target),d=null,p=null,m=a.data("tab-selector"),g=u.attr(l.a.TAB_RELATION_ATTR);if(g)c=i.children("div[".concat(l.a.TAB_RELATION_ATTR,"=").concat(g,"]"))[0];else{m?(p=a.find("[".concat(m,"]")),d=u.closest("[".concat(m,"]")).get(0)):(p=a.find("li"),d=r.target);var h=o.a.makeArray(p).indexOf(d);if(-1===h)return;c=i.children("div")[h]}l.a.activate(d,c)}}))}}},function(t,r,a){"use strict";var i=a(12),o=a.n(i);r.a=function(t){var r,a=o()(this.el);try{r=this.el.selectionStart}catch(t){}if(a.is(":checkbox"))this.el.checked=t;else if(a.is(":radio")){var i=this.el.value===t;a.prop("checked",i)}else this.el.value=t;if(void 0!==r)try{this.el.setSelectionRange(r,r)}catch(t){}}},function(t,r,a){"use strict";var i=a(4),o=a(42),c=a.n(o),l=a(35),u=a(5),d=a(3),p=a(78),m=a(455),g=a(43),h=a(14),y=a(462),v=a(2196);var _=["project_name"];r.a={loadInitialData:function loadInitialData(t){window.optlyTesting=v.a;var r={accountInfo:c.a.get("account_info"),adminAccount:c.a.get("admin_account"),currentProject:c.a.get("current_project"),currentUser:c.a.get("current_user")},a=Object.assign(r,t);a.adminAccount&&d.default.dispatch(p.a.API_INJECT_ENTITY,{entity:m.a.entity,data:a.adminAccount}),a.accountInfo&&g.actions.loadAccountInfo(a.accountInfo),a.currentProject&&(_.forEach((function(t){a.currentProject[t]&&(a.currentProject[t]=Object(i.unescape)(a.currentProject[t]))})),h.actions.setCurrentProject(a.currentProject)),a.currentUser&&d.default.dispatch(p.a.API_INJECT_ENTITY,{entity:y.a.entity,data:[a.currentUser]})},reset:function reset(t){l.default.reset(),u.default.reset((t||{}).keepRootVM),d.default.reset()}}},function(t,r,a){"use strict";var i=a(802);r.a={replace:!0,template:"<div></div>",ready:function ready(){Object(i.a)(this,{component:this.$options.component,dataBindings:this.$options.dataBindings||{},props:this.$options.props||{},el:this.$el})}}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(149),l=a.n(c),u=a(493),d=a.n(u),p=a(2182),m=a.n(p),g={FORM_VALIDATION_ERROR:tr("Validation Error"),SOMETHING_WENT_WRONG:tr("Something went wrong"),CONNECTION_TIMEOUT:tr("Request Timeout"),AUTH_ERROR:tr("Access was denied")};r.a={template:m.a,data:{errorDetails:{},errorId:null,errorUrl:null,isServerOriginated:null,message:null,timestamp:null,type:null,data:null,response:null,logToServer:!1,_onClose:null},computed:{isFormValidationError:function isFormValidationError(){return this.errorDetails&&this.errorDetails.statusCode&&400===this.errorDetails.statusCode},isConnectionError:function isConnectionError(){return this.errorDetails&&Object.prototype.hasOwnProperty.call(this.errorDetails,"statusCode")&&0===this.errorDetails.statusCode},isAuthError:function isAuthError(){return this.errorDetails&&this.errorDetails.statusCode&&403===this.errorDetails.statusCode},title:function title(){return this.isFormValidationError?g.FORM_VALIDATION_ERROR:this.isConnectionError?g.CONNECTION_TIMEOUT:this.isAuthError?g.AUTH_ERROR:g.SOMETHING_WENT_WRONG}},methods:{_logError:function _logError(){this.logToServer&&d.a.logToServer("JSError",o.a.extend({},this.errorDetails,{errorId:this.errorId,errorUrl:this.errorUrl,errorMessage:this.message,timestamp:this.timestamp,type:this.type,response:this.response,data:this.data,wasErrorDialogShown:!0,isServerOriginated:this.isServerOriginated}))}},afterDestroy:function afterDestroy(){this._onClose&&this._onClose.resolve()},ready:function ready(){this.isServerOriginated=!!this.errorId,this.errorId=this.errorId||l()(),this.message=this.message||tr("Don't worry, most issues are minor - please refresh your browser and try again."),this.timestamp=(new Date).toISOString(),this._logError()}}},,,,,,function(t,r){t.exports='<div class="dialog--narrow lego-dialog" data-test-section="something-went-wrong-error-dialog">\n  <div class="lego-dialog__header">\n    <div class="lego-dialog__title">\n      [[ title ]]\n    </div>\n  </div>\n  <div class="lego-dialog__body">\n    <p class="weight--bold" data-test-section="alert-dialog-message"><b>[[ message ]]</b></p>\n    <p v-if="!isAuthError && !isFormValidationError">\n      If this error persists, please <a class="link" target="_blank" v-attr="href: \'/v2/support?eid=\' + errorId" href="/support">contact support</a> and let us know.\n    </p>\n    <p v-if="!isAuthError && !isFormValidationError && !isConnectionError">\n      Our engineering team has been notified.\n    </p>\n    <p id="js-optimizely_error_info" data-test-section="error-id-and-timestamp" class="weight--light muted push-double--top">[[ errorId ]] | [[ timestamp ]]</p>\n  </div>\n  <div class="lego-dialog__footer lego-button-row--right">\n    <button type="button" class="lego-button lego-button--plain" v-hide-dialog>Close</button>\n  </div>\n</div>\n'},function(t,r,a){"use strict";var i=a(178),o=a(2184),c={template:a.n(o).a,data:{isWarning:!1,title:tr("Please confirm your action"),message:tr("Are you sure?"),confirmText:tr("Confirm"),cancelText:tr("Cancel"),__hasAccepted:!1,doSanitizeHTML:!0,trackName:"confirm-submit-button",publishWarning:!1},beforeDestroy:function beforeDestroy(){!this.__hasAccepted&&this.onReject&&this.onReject()},methods:{accept:function accept(t){t.preventDefault(),this.__hasAccepted=!0,Object(i.hideDialog)(),this.onResolve&&this.onResolve()}}};r.a=c},function(t,r){t.exports='<div class="lego-dialog--narrow" data-test-section="confirm-dialog">\n  <div class="lego-dialog__header">\n    <h2 class="lego-dialog__title flush--bottom" data-test-section="confirm-dialog-title">\n      [[ title | capitalize ]]\n    </h2>\n  </div>\n  <div class="lego-dialog__body" data-test-section="confirm-dialog-body">\n    <p class="push--bottom" v-if="doSanitizeHTML" data-test-section="confirm-message">\n      [[[ message | sanitizeHTML ]]]\n    </p>\n    <p class="push--bottom" v-if="!doSanitizeHTML" data-test-section="confirm-message">\n      [[[ message ]]]\n    </p>\n\n    <div class="lego-media color--bad-news"\n         v-if="publishWarning"\n         data-test-section="publish-warning">\n      <svg class="lego-icon lego-media__img">\n        <use xlink:href="#circle-exclamation"></use>\n      </svg>\n      <div class="lego-media__body">\n        <p>\n          [[ publishWarning ]]\n        </p>\n      </div>\n    </div>\n  </div>\n  <div class="lego-dialog__footer lego-button-row--right">\n    <button type="button"\n            class="lego-button lego-button--plain"\n            v-hide-dialog\n            data-test-section="confirm-cancel-button">[[ cancelText ]]\n    </button>\n    <button type="submit"\n            class="lego-button"\n            data-test-section="[[trackName]]"\n            v-class="lego-button--danger: isWarning,\n                     lego-button--highlight: !isWarning"\n            v-on="click: accept">\n      [[ confirmText ]]\n    </button>\n  </div>\n</div>\n'},function(t,r,a){"use strict";var i=a(2186),o={template:a.n(i).a,data:{dataTestSection:null,message:null,title:null,showSupportLink:null,buttonText:null,doSanitizeHTML:!0,_onClose:null},afterDestroy:function afterDestroy(){this._onClose&&this._onClose.resolve()},ready:function ready(){this.dataTestSection=this.dataTestSection,this.message=this.message,this.title=this.title,this.showSupportLink=this.showSupportLink,this.buttonText=this.buttonText}};r.a=o},function(t,r){t.exports='<div class="lego-dialog--narrow" v-attr="data-test-section: dataTestSection">\n  <div class="lego-dialog__header">\n    <h2 class="lego-dialog__title flush--bottom" data-test-section="custom-dialog-title">\n      [[ title | capitalize ]]\n    </h2>\n  </div>\n  <div class="lego-dialog__body" data-test-section="custom-dialog-body">\n    <p class="push--bottom" v-if="doSanitizeHTML" data-test-section="custom-dialog-message">\n      [[[ message | sanitizeHTML ]]]\n    </p>\n    <p class="push--bottom" v-if="!doSanitizeHTML" data-test-section="custom-dialog-message">\n      [[[ message ]]]\n    </p>\n    <p v-if="showSupportLink">\n      If this error persists, please <a class="link" target="_blank" href="/support">contact support</a> and let us know.\n    </p>\n    \n  </div>\n  <div class="lego-dialog__footer lego-button-row--right">\n    <button type="button"\n      class="lego-button"\n      data-test-section="custom-dialog-button"\n      v-class="lego-button--danger: isWarning,\n              lego-button--highlight: !isWarning"\n      v-hide-dialog>\n    [[ buttonText ]]\n    </button>\n  </div>\n</div>\n'},function(t,r,a){"use strict";var i=a(178),o=a(61),c=a(2188),l={template:a.n(c).a,data:{title:tr("Would you like access to this feature?"),label:"upsell-default",featureText:"",message:tr('This feature is not enabled on your account. \nTo gain access to this feature, please contact your Optimizely Customer \nSuccess Manager or Optimizely Sales \n<a href="https://www.optimizely.com/pricing?modal=contact-sales" target="_blank">here</a>.'),confirmText:tr("Contact Sales"),cancelText:tr("Cancel"),contactURL:"https://www.optimizely.com/pricing?modal=contact-sales",buttonColor:"lego-button--highlight",showImage:!1,imageUrl:"",_onClose:null},methods:{confirm:function confirm(t){Object(o.track)("upsell","confirm",this.label),this._onClose&&this._onClose.resolve(),Object(i.hideDialog)()}},ready:function ready(){Object(o.track)("upsell","dialog-open",this.label)},afterDestroy:function afterDestroy(){this._onClose&&this._onClose.reject()}};r.a=l},function(t,r){t.exports='<div class="lego-dialog--narrow" v-attr="data-test-section: dataTestSection">\n  <div class="lego-dialog__header">\n    <div class="lego-dialog__title">\n      [[ title ]]\n    </div>\n  </div>\n  <div class="lego-dialog__body">\n    <div class="lego-grid" v-if="showImage">\n      <div class="lego-grid__cell width--2-3">\n        <span>[[[ featureText ]]]</span>\n        <span>[[[ message ]]]</span>\n      </div>\n      <div class="lego-grid__cell width--1-3">\n        <img src="[[ imageUrl ]]">\n      </div>\n    </div>\n    <div v-if="!showImage">\n      <span>[[[ featureText ]]]</span>\n      <span>[[[ message ]]]</span>\n    </div>\n  </div>\n  <div class="lego-dialog__footer lego-button-row--right">\n    <button type="button" class="lego-button lego-button--plain" v-hide-dialog>[[ cancelText ]]</button>\n    <a href="[[[ contactURL ]]]" target="_blank"\n      class="lego-button [[ buttonColor ]]" data-test-section="upsell-confirm-button"\n      v-on="click: confirm">\n      [[ confirmText ]]\n    </a>\n  </div>\n</div>\n'},function(t,r,a){"use strict";a.d(r,"a",(function(){return validateVueOptions}));var i=a(4),o=a.n(i),c=a(72),l=a.n(c),u=["componentId","components","directives","filters","replace","template","data","computed","methods","created","ready","beforeDestroy","afterDestroy"];function validateVueOptions(t){var r=Object.keys(t);if(o.a.intersection(r,u).length>0)throw new Error(l()("Invalid component options, %s are reserved Vue options",JSON.stringify(r)))}},function(t,r){t.exports='<div id="dialog-manager"\n     v-class="modal--full: shouldHaveModalFullClass,\n              is-active: isFullscreenActive"\n     data-test-section="dialog-manager">\n  <div class="page-overlay"\n       v-if="shouldShowOverlay"\n       v-class="page-overlay--faint: !shouldShowWithLightOverlay,\n                page-overlay--white: shouldShowWithLightOverlay"\n       v-style="z-index: overlayZIndex">\n  </div>\n</div>\n'},function(t,r){t.exports='<div class="dialog--wrapper dialog--shown"\n     v-style="z-index: zIndex"\n     v-class="height--1-1: fullScreen || fullHeight,\n              hard--ends: noPadding"\n     data-test-section="dialog-frame">\n  <div v-class="dialog: !isOuiDialog,\n                height--1-1: fullScreen || fullHeight,\n                dialog-frame--pushed-left: shouldApplyNegativeLeftMargin,\n                width--1-1: fullScreen,\n                dialog--shadow: !fullScreen"\n       v-el="frame">\n    <div class="lego-dialog__close"\n         v-if="!noEscape && !fullScreen && !fullHeight"\n         v-hide-dialog\n        data-test-section="standard-dialog-close">\n      <svg class="lego-icon">\n        <use xlink:href="#xmark-16"></use>\n      </svg>\n    </div>\n    <div class="modal__close"\n         v-if="!isOuiDialog && !noEscape && (fullScreen || fullHeight)"\n         v-hide-dialog\n         data-test-section="fullScreen-dialog-close">\n      <svg class="lego-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#xmark-24"></use></svg>\n    </div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div class="lego-notification--wrap push-double--top">\n  <div class="lego-notification lego-notification--active [[notificationClass]]"\n       data-test-section="persistent-notifications"\n       v-repeat="persistentNotifications">\n    <div data-test-section="[[id]]"\n         class="flex flex-align--center">\n      <div v-if="safeHTML">\n        [[[ message ]]]\n      </div>\n      <div v-if="!safeHTML">\n        [[[ message | sanitizeHTML ]]]\n      </div>\n      <a data-test-section="persistent-notification-close"\n         v-on="click: clearPersistentNotification(id)"\n         v-if="showCloseButton"\n         class="push--left flex--none cursor--pointer soft-half flex flex-align--center"\n         title="Close notification">\n        <svg class="lego-icon lego-icon--small">\n          <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#xmark-16"></use>\n        </svg>\n      </a>\n    </div>\n  </div>\n  <div class="lego-notification [[notificationClass]]"\n       v-class="lego-notification--active: shown"\n       v-repeat="notifications">\n      [[[ message | sanitizeHTML ]]]\n  </div>\n</div>\n'},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(12),l=a.n(c),u=a(75),d=a(2194);function Api(t){this._config=t||{},this._stack=[],this._filter=[],this._order=[],this._limit=null,this._offset=null,this._ids_only=null,this._extra_params=[]}Api.request=function(t,r){if(!t.type||!t.url)throw new Error("Must supply `opts.type` and `opts.url` to Api.request(opts)");var a={type:t.type,url:t.url,contentType:"application/json",error:null,xhrFields:{withCredentials:!0}};return r&&(a.headers=r),t.data&&(a.data=JSON.stringify(t.data),a.dataType="json"),l.a.ajaxPrefilter((function(t,r,a){a.originalRequestOptions=r})),l.a.ajax(a).fail((function(r,a){d.a.handleAPIRequestFailure(r,a,t.entityName)}))},Api.prototype.one=function(t,r){return this._stack.push(["one",t,r]),this},Api.prototype.all=function(t){return this._stack.push(["all",t]),this},Api.prototype.filter=function(t,r){var a=this;if("all"!==this._getMode())throw new Error("ApiService Error: .filter() must be called in 'all' mode");var i=t;return"string"==typeof t&&((i={})[t]=r),o.a.forOwn(i,(function(t,r){Array.isArray(t)?t.forEach((function(t){a._filter.push([r,t])})):a._filter.push([r,t])})),this},Api.prototype.param=function(t,r){var a=this,i=t;return"string"==typeof t&&((i={})[t]=r),o.a.forOwn(i,(function(t,r){Array.isArray(t)?t.forEach((function(t){a._extra_params.push([r,t])})):a._extra_params.push([r,t])})),this},Api.prototype.order=function(t){var r=this;if("all"!==this._getMode())throw new Error("ApiService Error: .order() must be called in 'all' mode");return t&&("string"==typeof t&&(t=[t]),t.forEach((function(t){r._order.push(t)}))),this},Api.prototype.offset=function(t){if("all"!==this._getMode())throw new Error("ApiService Error: .offset() must be called in 'all' mode");return this._offset=t,this},Api.prototype.limit=function(t){if("all"!==this._getMode())throw new Error("ApiService Error: .limit() must be called in 'all' mode");return this._limit=t,this},Api.prototype.idsOnly=function(){return this._ids_only="true",this},Api.prototype.post=function(t){if("all"!==this._getMode())throw new Error("ApiService Error: .post() must be called in 'all' mode");var r={type:"POST",data:t,url:this._getUrl(),entityName:this._getEntity()};return Api.request(r,this._config.headers)},Api.prototype.put=function(t){var r={type:"PUT",data:t,url:this._getUrl(),entityName:this._getEntity()};return Api.request(r,this._config.headers)},Api.prototype.get=function(){var t={type:"GET",url:this._getUrl(),entityName:this._getEntity()};return Api.request(t,this._config.headers)},Api.prototype.delete=function(){if("one"!==this._getMode())throw new Error("ApiService Error: .delete() must be called in 'one' mode");var t={type:"DELETE",url:this._getUrl(),entityName:this._getEntity()};return Api.request(t,this._config.headers)},Api.prototype._getUrl=function(){var t=this._config.baseUrl||"",r=[];return t=this._stack.reduce((function(t,r){var a=r[0];return t+="/".concat(r[1]),"one"===a&&(t+="/".concat(r[2])),t}),t),this._filter.length>0&&this._filter.forEach((function(t){r.push("filter=".concat(t[0],":").concat(t[1]))})),this._order.length>0&&this._order.forEach((function(t){r.push("order=".concat(t))})),this._limit&&r.push("limit=".concat(this._limit)),this._ids_only&&r.push("ids_only=".concat(this._ids_only)),this._offset&&r.push("offset=".concat(this._offset)),this._extra_params.length>0&&this._extra_params.forEach((function(t){r.push("".concat(t[0],"=").concat(t[1]))})),r.length>0&&(t+="?",t+=r.join("&")),t},Api.prototype._getEntity=function(){return this._stack[this._stack.length-1][1]},Api.prototype._getMode=function(){return this._stack[this._stack.length-1][0]},r.a={Api:Api,create:function create(t){return function(r){return new Api(o.a.merge(Object(u.default)(t),r))}}}},function(t,r,a){"use strict";var i=a(138),o=a(493),c=a.n(o),l=a(2195),u=a(212),d=a(132),p=a(408),m=a(499);r.a={handleAPIRequestFailure:function handleAPIRequestFailure(t,r,a){var o=t.responseText,g=t.originalRequestOptions,h=t.status,y=g&&g.type,v=g&&g.url,_=c.a.getAjaxErrorData(t,r),E=0!==h;if(401!==h){var b,T,S;try{var C=JSON.parse(o);C.error_details&&(b=C.error_details,T=C.error_details.map((function(t){return t.error_code})))}catch(t){t.name="APIResponseParserError",S=t}if(T&&T.includes(i.a.apiErrorCodes.INVALID_CSRF_TOKEN)){var I=tr("This session has expired. Redirecting to signin page.");return Object(p.b)({message:I}),void Object(d.setLocation)("/signin")}setTimeout((function(){var r=404===h&&"live"===a;t.optlyErrorHandled||r||(E?Object(m.default)(_):Object(p.b)({message:tr("The request seems to be taking a while. Please refresh your browser\n          or check your Internet connection."),type:"error",errorData:_,identifier:"disconnection_error",doNotShowDuplicates:!0}),u.a.withScope((function(t){var r;if(t.setTag("is_api_error",!0),t.setTag("api_response_status_code",h),t.setTag("api_request_method",y),t.setTag("api_request_entity",a),t.setTag("api_error_id",_.errorId),t.setExtra("api_request_endpoint",v),b&&t.setExtra("api_error_details",b),S)r=S,t.setExtra("api_response_body",'"'.concat(o,'"'));else{var i=_.message||o;(r=new Error(i)).name=E?"APIRequestError (HTTP ".concat(h,")"):"APIConnectionError",i&&t.setExtra("api_response_message",i)}t.setFingerprint([h,r.name]),u.a.captureException(r)})))}),25)}else Object(l.a)()}}},function(t,r,a){"use strict";a.d(r,"a",(function(){return logout}));var i=a(42),o=a.n(i),c=a(132),l=a.n(c),u=a(341),d=a.n(u);function logout(t){t=t||{};var r={landing_page:o.a.get("env.HOST_URL")};t.idleLogout&&(r.idleLogout=!0);var a=d.a.format({pathname:"/account/signout",query:r});l.a.setLocation(a)}},function(t,r,a){"use strict";var i=a(61),o=a.n(i),c=a(3),l=a(5),u=a(43),d=a(14),p=a(73),m=a(977),g=function warnAndSuggestAlternative(t){console.warn("WARNING - The optlyTesting global will soon be deprecated in favor of the optlyApp API"),console.warn("WARNING - Please migrate usage of this function to ".concat(t)),console.warn("WARNING - Learn more about the updated optlyApp API at go/optlyAppAPI")};function getUser(){return g("optlyApp.getUtilities().userInfo.getUser()"),{email:c.default.evaluate(u.getters.email),accountId:c.default.evaluate(u.getters.id),projectId:c.default.evaluate(d.getters.id),planId:c.default.evaluate(u.getters.planId),userLocale:c.default.evaluate(u.getters.userLocale)}}r.a={getUser:getUser,showDialog:function showDialog(t){g("optlyApp.getUtilities().ui.showDialog(options)"),l.default.getRootVM()||console.warn("[optlyTesting] cannot show dialog until page has loaded"),t.template||console.warn("show dialog must be supplied a `template` property");var r={template:t.template};t.ready&&(r.ready=t.ready),l.default.showDialog({component:r})},showCTADialog:function showCTADialog(t){g("optlyApp.getUtilities().ui.showCTADialog(options)"),l.default.showReactDialog(m.a,{props:{title:t.title,body:t.body,onSubmit:t.onSubmit,onCancel:t.onCancel}},{noEscape:!!t.noEscape})},trackMarketo:function trackMarketo(t,r,a){g("optlyApp.getUtilities().track.trackMarketo(mktoFunctionName, leadInfo, token)");var i=Object.assign(getUser(),{url:window.location.pathname},r);o.a.trackMarketoLead(t,i,a)},hasPermission:function hasPermission(t){return g("optlyApp.getUtilities().userInfo.hasPermission(feature)"),c.default.evaluate([u.getters.accountPermissions,d.getters.permissions,function(r,a){try{return r.contains(t)||a.contains(t)}catch(t){return!1}}])},showSupportDialog:function showSupportDialog(t){g("optlyApp.getUtilities().ui.showSupportDialog(version)"),p.a.showSupportDialog("v2"===t)}}},,,,,function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(52),d=a(123),p=a.n(d),m=a(497),g=a.n(m),h=a(131),y=a(73),v=a(255);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _="?utm_source=".concat(p.a.generateUtmSourceValue(),"&utm_medium=help_modal&utm_content=resource_link&utm_campaign=support"),E=function addHelpModalParams(t){return"".concat(t).concat(_)},b=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(SupportDialogHome,t);var r=_createSuper(SupportDialogHome);function SupportDialogHome(){var t;_classCallCheck(this,SupportDialogHome);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={searchValue:""},t.goToLogASupportTicket=function(){(0,t.props.switchStepHandler)(y.b.steps.CHOOSE_CATEGORY)},t.updateSearchValue=function(r){t.setState({searchValue:r.target.value})},t.searchOptiverse=function(r){r.preventDefault();var a=t.state.searchValue,i=g.a.create("https://support.optimizely.com/hc/en-us/search");i.param("category","4410287901197"),i.param("query",a),i.param("utm_source",p.a.generateUtmSourceValue()),i.param("utm_medium","help_modal"),i.param("utm_content","search"),i.param("utm_campaign","support"),window.open(i.toString(),"_blank"),t.setState({searchValue:""})},t.newTicketButtons=function(r){return[{label:"Create a Ticket",href:t.newTicketEpiZendeskUrl(),target:"_blank",testSection:"help-center-home-create-request-epi-zendesk"},{label:"View Tickets",href:y.c.viewRequestsEpiZendesk(),testSection:"help-center-home-my-requests"},{label:"Schedule a Call",href:y.b.PrioritySupportLink,isVisible:r,target:"_blank",testSection:"help-center-home-schedule-phone-call"}]},t.newTicketEpiZendeskUrl=function(){var r=t.props.currentProjectId;return"".concat(y.c.supportEnvironment(),"/hc/en-us/requests/new?ticket_form_id=360001979712&tf_360045258091=").concat(r)},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(SupportDialogHome,[{key:"render",value:function render(){var t=this.props,r=t.canAccountUseOnlineTickets,a=t.isEmailVerified,i=t.isEntitledToPrioritySupport,c=this.state.searchValue;return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{testSection:"help-center-home"},o.a.createElement("p",{className:"weight--bold"},"How can we help?"),o.a.createElement("form",{onSubmit:this.searchOptiverse,"data-test-section":"help-center-modal-support-doc-search-form",className:"push-double--bottom"},o.a.createElement(u.a,{isFilter:!0,testSection:"help-center-modal-support-doc-search-input",type:"text",value:c,onChange:this.updateSearchValue,placeholder:"Search Optiverse"})),o.a.createElement(v.a,{title:"Find support articles and interactive courses",buttons:[{label:"Knowledge Base",href:E("https://help.optimizely.com/")},{label:"Developer Docs",href:E("https://docs.developers.optimizely.com/full-stack/docs/welcome")},{label:"Academy",href:E("https://www.optimizely.com/academy/")}]}),a&&r&&o.a.createElement(v.a,{title:"Contact our support team.",buttons:this.newTicketButtons(i)}),!a&&r&&o.a.createElement(v.a,{title:"Need to contact our support team? Please verify your email address.",buttons:[{label:"Verify Email Address",href:"/v2/profile/preferences?should_verify_email=true",testSection:"help-center-home-verify-email"}]}),o.a.createElement(v.a,{title:"Additional resources",buttons:[{label:"Optimizely Blog",href:E("http://blog.optimizely.com")},{label:"Content Library",href:E("https://app.optimizely.com/resources")},{label:"Sample Size Calculator",href:E("https://app.optimizely.com/resources/sample-size-calculator")},{label:"Solutions Partners",href:E("https://app.optimizely.com/partners/solutions/")},{label:"Optimizely Community",href:E("https://www.optimizely.com/slack-community/")}]})))}}]),SupportDialogHome}(o.a.Component);b.propTypes={canAccountUseOnlineTickets:l.a.bool.isRequired,currentProjectId:l.a.string.isRequired,isEmailVerified:l.a.bool.isRequired,isEntitledToPrioritySupport:l.a.bool.isRequired,switchStepHandler:l.a.func.isRequired},r.a=b},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(98),m=a(19),g=a(28),h=a(131),y=a(164),v=a(22),_=a(39),E=a(43),b=a(255);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=Object(g.a)({canAccountUseEdgeProjects:_.default.canAccountUseEdgeProjects,canUseFullStackSDKs:[E.getters.accountPermissions,v.default.canUseFullStackSDKs],canUseFullStackExperiments:[E.getters.accountPermissions,v.default.canUseFullStackExperiments],canUseMobileSDKs:[E.getters.accountPermissions,v.default.canUseMobileSDKs],canUseOverTheTopSDKs:[E.getters.accountPermissions,v.default.canUseOverTheTopSDKs],canUseXWeb:[E.getters.accountPermissions,v.default.canUseXWeb],canUsePersonalization:_.default.canUsePersonalization,canUseTeamsWorkflow:[E.getters.accountPermissions,v.default.canUseTeamsWorkflow]})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ChooseCategory,t);var r=_createSuper(ChooseCategory);function ChooseCategory(){var t;_classCallCheck(this,ChooseCategory);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).goToSupportHome=function(){(0,t.props.switchStepHandler)(y.a.steps.HELP_CENTER_HOME)},t.getNextStepHandler=function(r){return function(){var a=t.props,i=a.setCategoryId,o=a.setCaseType,c=a.switchStepHandler,l=y.a.categories,u=l.BILLING,d=l.ACCOUNT,p=l.PROGRAM_MANAGEMENT,m=y.a.caseType,g=m.SALES_BILLING,h=m.ACCOUNT_SETTINGS,v=y.a.steps,_=v.REQUEST_FORM,E=v.CHOOSE_CASE_TYPE;switch(i(r.value),r){case u:o(g),c(_);break;case d:o(h),c(_);break;case p:c(_);break;default:c(E)}}},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ChooseCategory,[{key:"render",value:function render(){var t=this.props,r=t.canAccountUseEdgeProjects,a=t.canUseFullStackExperiments,i=t.canUseMobileSDKs,o=t.canUseOverTheTopSDKs,c=t.canUseFullStackSDKs,u=t.canUseXWeb,d=t.canUsePersonalization,g=t.canUseTeamsWorkflow,v=y.a.categories,_=v.X_WEB_EDGE,E=v.X_WEB_EXPERIMENTATION,T=v.X_WEB_PERSONALIZATION,S=v.PROGRAM_MANAGEMENT,C=v.X_FULL_STACK,I=v.X_MOBILE,A=v.X_OTT,O=v.FREE_ROLLOUTS,P=v.BILLING,R=v.ACCOUNT,w=v.DEVELOPER;return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{testSection:"choose-category"},l.a.createElement("p",{className:"weight--bold"},"Which topic can we help you with?"),u&&l.a.createElement(b.a,{title:"Optimizely Web",buttons:[{label:"Web Experimentation",onClick:this.getNextStepHandler(E),testSection:"web-experimentation-case-category"},{label:"Web Edge",isVisible:r,onClick:this.getNextStepHandler(_),testSection:"web-edge-case-category"},{label:"Web Personalization",isVisible:d,onClick:this.getNextStepHandler(T),testSection:"web-personalization-case-category"}]}),c&&a&&l.a.createElement(b.a,{title:"Optimizely SDK's",buttons:[{label:"Full Stack",onClick:this.getNextStepHandler(C),testSection:"full-stack-case-category"},{label:"X Mobile",description:"iOS/Android",onClick:this.getNextStepHandler(I),isVisible:i,testSection:"x-mobile-case-category"},{label:"OTT",onClick:this.getNextStepHandler(A),testSection:"ott-case-category",isVisible:o}]}),c&&!a&&l.a.createElement(b.a,{title:"Optimizely Rollouts",buttons:[{label:"Optimizely Rollouts",onClick:this.getNextStepHandler(O),testSection:"free-rollouts-case-category"}]}),g&&l.a.createElement(b.a,{title:"Program Management",buttons:[{label:"Program Management",onClick:this.getNextStepHandler(S),testSection:"program-management-case-category"}]}),l.a.createElement(b.a,{title:"Account Issues",buttons:[{label:"Billing",onClick:this.getNextStepHandler(P),testSection:"billing-case-category"},{label:"Account & Privacy",onClick:this.getNextStepHandler(R),testSection:"account-and-privacy-case-category"}]}),l.a.createElement(b.a,{title:"Developer Platform",buttons:[{label:"Developer Support",description:"REST API, etc.",onClick:this.getNextStepHandler(w),testSection:"developer-case-category"}]})),l.a.createElement(h.b,null,l.a.createElement(p.a,{rightGroup:[l.a.createElement(m.a,{key:"back",style:"outline-reverse",testSection:"choose-category-back-button",onClick:this.goToSupportHome},"Back")]})))}}]),ChooseCategory}(l.a.Component)).propTypes={canAccountUseEdgeProjects:d.a.bool.isRequired,canUseFullStackExperiments:d.a.bool.isRequired,canUseFullStackSDKs:d.a.bool.isRequired,canUseMobileSDKs:d.a.bool.isRequired,canUseOverTheTopSDKs:d.a.bool.isRequired,canUsePersonalization:d.a.bool.isRequired,canUseTeamsWorkflow:d.a.bool.isRequired,canUseXWeb:d.a.bool.isRequired,setCaseType:d.a.func.isRequired,setCategoryId:d.a.func.isRequired,switchStepHandler:d.a.func.isRequired},i=o))||i;r.a=T},function(t,r,a){"use strict";a.d(r,"a",(function(){return h}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(98),d=a(19),p=a(131),m=a(164),g=a(255);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ChooseCaseType,t);var r=_createSuper(ChooseCaseType);function ChooseCaseType(){var t;_classCallCheck(this,ChooseCaseType);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).showCampaignOrExperimentText=function(){return m.a.categories.X_WEB_PERSONALIZATION.value===t.props.categoryId?"Campaign":"Experiment"},t.showDeveloperCaseTypes=function(){return m.a.categories[t.props.categoryId].CASE_TYPE_CATEGORY===m.a.CaseTypeCategory.DEVELOPER},t.showOasisCaseTypes=function(){return m.a.categories[t.props.categoryId].CASE_TYPE_CATEGORY===m.a.CaseTypeCategory.OASIS},t.showRolloutsCaseTypes=function(){return m.a.categories[t.props.categoryId].CASE_TYPE_CATEGORY===m.a.CaseTypeCategory.FREE_ROLLOUTS},t.showWebCaseTypes=function(){return!t.showDeveloperCaseTypes()&&!t.showOasisCaseTypes()&&!t.showRolloutsCaseTypes()},t.getNextStepHandler=function(r){return function(){var a=t.props,i=a.setCaseType,o=a.switchStepHandler;i(r),o(m.a.steps.REQUEST_FORM)}},t.goToPreviousStep=function(){(0,t.props.switchStepHandler)(m.a.steps.CHOOSE_CATEGORY)},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ChooseCaseType,[{key:"render",value:function render(){var t=m.a.caseType,r=t.EXPERIMENT_SETUP,a=t.EDITOR_LOADING,i=t.GOALS,c=t.ACCOUNT_SETTINGS,l=t.EXPERIMENT_QA,h=t.INTEGRATIONS,y=t.RESULTS,v=t.OTHER,_=t.REST_API,E=t.CODE_SAMPLES,b=t.DOCUMENTATION_ERRORS,T=t.SDK_INSTALLATION,S=t.SDK_TROUBLESHOOTING;return o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{testSection:"choose-case-type"},o.a.createElement("p",{className:"weight--bold"},"Which of these best describe your issue?"),this.showWebCaseTypes()&&o.a.createElement(g.a,{buttons:[{label:o.a.createElement(o.a.Fragment,null,this.showCampaignOrExperimentText(),o.a.createElement("br",null),"Setup"),testSection:"web-experiment-setup-case-type",onClick:this.getNextStepHandler(r)},{label:"Editor Loading",onClick:this.getNextStepHandler(a)},{label:"Metrics",onClick:this.getNextStepHandler(i)},{label:"Account Settings",onClick:this.getNextStepHandler(c)},{label:"".concat(this.showCampaignOrExperimentText()," QA"),onClick:this.getNextStepHandler(l),testSection:"rest-api-case-type",addExtraLineBreak:!0},{label:"Integrations",onClick:this.getNextStepHandler(h)},{label:"Results",onClick:this.getNextStepHandler(y)},{label:"Other",onClick:this.getNextStepHandler(v)}]}),this.showDeveloperCaseTypes()&&o.a.createElement(g.a,{buttons:[{label:"Rest API",onClick:this.getNextStepHandler(_),testSection:"developer-rest-api-case-type"},{label:"Integrations",onClick:this.getNextStepHandler(h)},{label:"Code Samples",onClick:this.getNextStepHandler(E)},{label:"Documentation Errors",onClick:this.getNextStepHandler(b)},{label:"Other",onClick:this.getNextStepHandler(v)}]}),this.showOasisCaseTypes()&&o.a.createElement(g.a,{buttons:[{label:o.a.createElement(o.a.Fragment,null,"Experiment",o.a.createElement("br",null),"Setup"),onClick:this.getNextStepHandler(r),testSection:"oasis-experiment-setup-case-type"},{label:"SDK Installation",onClick:this.getNextStepHandler(T)},{label:"Experiment QA",onClick:this.getNextStepHandler(l)},{label:"Results",onClick:this.getNextStepHandler(y)},{label:"SDK Troubleshooting",onClick:this.getNextStepHandler(S)},{label:"Other",onClick:this.getNextStepHandler(v)}]}),this.showRolloutsCaseTypes()&&o.a.createElement(g.a,{buttons:[{label:"SDK Installation",onClick:this.getNextStepHandler(T)},{label:"SDK Troubleshooting",onClick:this.getNextStepHandler(S)},{label:"Other",onClick:this.getNextStepHandler(v)}]})),o.a.createElement(p.b,null,o.a.createElement(u.a,{rightGroup:[o.a.createElement(d.a,{key:"back",style:"outline-reverse",testSection:"choose-case-type-back-button",onClick:this.goToPreviousStep},"Back")]})))}}]),ChooseCaseType}(o.a.Component);h.propTypes={categoryId:l.a.string.isRequired,setCaseType:l.a.func.isRequired,switchStepHandler:l.a.func.isRequired}},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(9),m=a.n(p),g=a(40),h=a(79),y=a(135),v=a(52),_=a(218),E=a(98),b=a(19),T=a(28),S=a(2),C=a(1941),I=a(300),A=a.n(I),O=a(131),P=a(73),R=a(22),w=a(39),N=a(43),L=a(2205);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x=function Separator(){return l.a.createElement("div",{className:"push-double--top"})},D=function getEntityIdFromUrl(){var t=window.location.href.match(/(experiment_id=|experiments\/|campaigns\/)([0-9]+)/);return t&&t[2]},k=Object(T.a)({canAccountUseEdgeProjects:w.default.canAccountUseEdgeProjects,canUseFullStackSDKs:[N.getters.accountPermissions,R.default.canUseFullStackSDKs],canUseFullStackExperiments:[N.getters.accountPermissions,R.default.canUseFullStackExperiments],canUseMobileSDKs:[N.getters.accountPermissions,R.default.canUseMobileSDKs],canUseOverTheTopSDKs:[N.getters.accountPermissions,R.default.canUseOverTheTopSDKs],canUseXWeb:[N.getters.accountPermissions,R.default.canUseXWeb],canUsePersonalization:w.default.canUsePersonalization,canUseTeamsWorkflow:[N.getters.accountPermissions,R.default.canUseTeamsWorkflow]})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(RequestForm,t);var r=_createSuper(RequestForm);function RequestForm(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,RequestForm),(a=r.call(this,t)).getZendeskOrganizations=function(){P.a.getZendeskOrganizations().then((function(t){t.organizations&&t.organizations.length>0&&(a.setState({selectedOrganizationId:P.b.ORGANIZATION_INFO.DEFAULT.id,organizations:[P.b.ORGANIZATION_INFO.DEFAULT].concat(_toConsumableArray(t.organizations))}),1===t.organizations.length&&a.setState({selectedOrganizationId:t.organizations[0].id}))})).fail(A()((function(){a.setState({organizations:[P.b.ORGANIZATION_INFO.NONE_AVAILABLE],selectedOrganizationId:P.b.ORGANIZATION_INFO.NONE_AVAILABLE.id})})))},a.goToPreviousStep=function(){var t=a.props,r=t.categoryId,i=t.switchStepHandler,o=P.b.categories,c=o.BILLING,l=o.ACCOUNT,u=(o.DEVELOPER,o.PROGRAM_MANAGEMENT),d=P.b.steps,p=d.CHOOSE_CATEGORY,m=d.CHOOSE_CASE_TYPE;[c.value,l.value,u.value].includes(r)?i(p):i(m)},a.getCategoryItems=function(){var t=a.props,r=t.canAccountUseEdgeProjects,i=t.canUseFullStackExperiments,o=t.canUseMobileSDKs,c=t.canUseOverTheTopSDKs,l=t.canUseFullStackSDKs,u=t.canUseXWeb,d=t.canUsePersonalization,p=t.canUseTeamsWorkflow,m=P.b.categories,g=m.X_WEB_EDGE,h=m.X_WEB_EXPERIMENTATION,y=m.X_WEB_PERSONALIZATION,v=m.PROGRAM_MANAGEMENT,_=m.X_FULL_STACK,E=m.X_MOBILE,b=m.X_OTT,T=m.FREE_ROLLOUTS,S=[m.BILLING,m.ACCOUNT,m.DEVELOPER];return u&&(S.push(h),r&&S.push(g),d&&S.push(y)),l&&(i?(S.push(_),o&&S.push(E),c&&S.push(b)):S.push(T)),p&&S.push(v),S.map((function(t){return{label:t.text,value:t.value}}))},a.onCategoryChange=function(t){var r=a.props.setCategoryId;a.setState({selectedSDK:"-",caseType:null}),r(t)},a.onOrganizationChange=function(t){a.setState({selectedOrganizationId:t})},a.onSDKChange=function(t){a.setState({selectedSDK:t})},a.onSubjectChange=function(t){a.setState({subject:t.target.value})},a.onDescriptionChange=function(t){a.setState({description:t.target.value})},a.onSDKVersionNumberChange=function(t){a.setState({sdkVersionNumber:t.target.value})},a.onEntityIdChange=function(t){a.setState({entityId:t.target.value})},a.onAdditionalEmailsChange=function(t){a.setState({additionalEmails:t.target.value})},a.onPriorityChange=function(t){a.setState({selectedPriority:t})},a.addUploadToken=function(t){a.setState((function(r){return{attachments:[].concat(_toConsumableArray(r.attachments),[t])}}))},a.removeUploadToken=function(t){a.setState((function(r){return{attachments:r.attachments.filter((function(r){return r!==t}))}}))},a.uploadStart=function(){a.setState({isFileUploading:!0})},a.uploadFinished=function(){a.setState({isFileUploading:!1})},a.submitTicket=function(){var t=a.props,r=t.accountId,i=t.userLocale,o=t.userPlanId,c=t.categoryId,l=t.currentProject,u=t.errorId,d=t.isOptimizelyX,p=t.setRequestStatus,m=t.setZendeskTicketId,g=t.switchStepHandler,h=t.setIsLoading;h(!0);var y=a.state,v=y.caseType,_=y.attachments,E=y.additionalEmails,b=y.locationData,T=y.description,S=y.entityId,C=y.selectedOrganizationId,I=y.selectedPriority,O=y.subject,R=y.selectedSDK,w=y.sdkVersionNumber,N=P.b.fields,L=N.ENTITY_ID,x=N.SDK_LANGUAGE,D=N.SDK_VERSION,k={attachments:_,description:T,subject:O,error_id:u,account_id:r,case_type:v,collaborators:E.split(/[ ,]+/),continent:b.continent,country:b.country,form_id:c,project_id:l.get("id"),user_plan_id:o,user_locale:i,language:window.navigator.language,managing_team:b.managingTeam,optimizely_x:d,organization:C,priority:I,ticket_type:P.b.ticketType.SUPPORT,timezone:-Math.round((new Date).getTimezoneOffset()/60),user_environment_info:P.c.userEnvironmentInfo()};a.shouldShowField(L)&&(k.entity_id=S),a.shouldShowField(x)&&(k.sdk_language=R),a.shouldShowField(D)&&(k.sdk_version=w),P.a.createZendeskTicket(k).done((function(t){m(t.ticket.id),p(P.b.requestStatus.SUCCESS)})).fail(A()((function(){p(P.b.requestStatus.DEFERRED)}))).always((function(){h(!1),g(P.b.steps.TICKET_STATUS)}))},a.validateForm=function(){var t=P.b.fields,r=t.ENTITY_ID,i=t.SDK_LANGUAGE,o=t.SDK_VERSION;a.setState((function(t){return{validationErrors:{organization:t.organizations.length>1&&"-"===t.selectedOrganizationId,subject:""===t.subject,description:""===t.description,sdk:a.shouldShowField(i)&&"-"===t.selectedSDK,sdkVersionNumber:a.shouldShowField(o)&&""===t.sdkVersionNumber,entityId:a.shouldShowField(r)&&""===t.entityId}}}),(function(){Object.values(a.state.validationErrors).includes(!0)||a.submitTicket()}))},a.shouldShowField=function(t){return function getAdditionalFieldsForCategory(t){var r=P.b.fields,a=r.ENTITY_ID,i=r.SDK_LANGUAGE,o=r.SDK_VERSION,c=r.PRIORITY,l=P.b.categories,u=l.X_FULL_STACK,d=l.X_MOBILE,p=l.X_OTT,m=l.X_WEB_EDGE,g=l.X_WEB_EXPERIMENTATION,h=l.X_WEB_PERSONALIZATION,y=l.X_WEB_RECOMMENDATIONS,v=l.FREE_ROLLOUTS;switch(t){case m.value:case g.value:case h.value:case y.value:return[a,c];case u.value:case d.value:case p.value:return[a,i,o,c];case v.value:return[i,o,c];default:return[]}}(a.props.categoryId).includes(t)};var i=t.caseType,o=t.currentProject;return a.state={caseType:i,isFileUploading:!1,attachments:[],description:"",subject:"",organizations:[P.b.ORGANIZATION_INFO.NONE_AVAILABLE],selectedOrganizationId:P.b.ORGANIZATION_INFO.NONE_AVAILABLE.id,selectedSDK:"-",sdkVersionNumber:"0.0"===o.get("sdk_version")?"":o.get("sdk_version"),entityId:D()||"",additionalEmails:"",selectedPriority:"low",locationData:{continent:"",country:"",managingTeam:""},validationErrors:{organization:!1,subject:!1,description:!1,sdk:!1,sdkVersionNumber:!1,entityId:!1}},a.getZendeskOrganizations(),a.getLocationData(),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(RequestForm,[{key:"getLocationData",value:function getLocationData(){var t=this;C.a.getLocationData().always((function(r){t.setState({locationData:{continent:r.continent,country:r.country,managingTeam:P.b.detectManagingTeamByContinent[r.continent]||r.continent}})}))}},{key:"getEntityIdLabel",value:function getEntityIdLabel(){var t=this.props.categoryId,r=P.b.categories,a=r.X_WEB_PERSONALIZATION,i=r.X_FULL_STACK,o=r.X_MOBILE,c=r.X_OTT;switch(t){case i.value:case o.value:case c.value:return"Experiment Key";case a.value:return"Campaign ID";default:return"Experiment ID"}}},{key:"getEntityIdNote",value:function getEntityIdNote(){var t=this.props.categoryId,r=P.b.categories,a=r.X_FULL_STACK,i=r.X_MOBILE,o=r.X_OTT;switch(t){case a.value:case i.value:case o.value:return"This key can be found on your Project or Experiment page.";default:return"This ID can be found in the address bar when viewing your experiment."}}},{key:"getSDKVersionNote",value:function getSDKVersionNote(){if(this.props.categoryId===P.b.categories.X_MOBILE.value){var t=function IOSLoggingLink(){return l.a.createElement(g.a,{href:"http://developers.optimizely.com/ios/reference/index.html#verbose-logging",newWindow:!0},"iOS")},r=function AndroidLoggingLink(){return l.a.createElement(g.a,{href:"http://developers.optimizely.com/android/reference/index.html#verbose-logging",newWindow:!0},"Android")};return l.a.createElement(l.a.Fragment,null,"This can be found by enabling verbose logging in your"," ",l.a.createElement(t,null)," or ",l.a.createElement(r,null)," development environment.")}return""}},{key:"getSDKType",value:function getSDKType(){var t=this.props.categoryId,r=P.b.categories,a=r.X_FULL_STACK,i=r.X_MOBILE,o=r.X_OTT,c=r.FREE_ROLLOUTS;switch(t){case i.value:return"Mobile";case o.value:return"OTT";case a.value:case c.value:return"Full Stack";default:return""}}},{key:"getSDKLanguages",value:function getSDKLanguages(){var t=this.props.categoryId,r=P.b.categories,a=r.X_FULL_STACK,i=r.X_MOBILE,o=r.X_OTT,c=r.FREE_ROLLOUTS;switch(t){case i.value:return P.b.SDK_LANGUAGES.MOBILE;case a.value:case c.value:return P.b.SDK_LANGUAGES.FULL_STACK;case o.value:return P.b.SDK_LANGUAGES.OTT;default:return[]}}},{key:"render",value:function render(){var t=this.props.categoryId,r=this.state,a=r.organizations,i=r.selectedOrganizationId,o=r.selectedSDK,c=r.subject,u=r.description,d=r.sdkVersionNumber,p=r.entityId,T=r.additionalEmails,S=r.selectedPriority,C=r.validationErrors,I=r.isFileUploading,A=P.b.fields,R=A.ENTITY_ID,w=A.SDK_LANGUAGE,N=A.SDK_VERSION,D=A.PRIORITY;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"push-double--bottom"},l.a.createElement("h3",null,"Create a new request"),l.a.createElement("p",null,"File a ticket or"," ",l.a.createElement(g.a,{href:P.c.myRequestsLink(),newWindow:!0},"follow up to an existing one"),".")),l.a.createElement(O.a,null,l.a.createElement(h.a,null,"Product or Category"),l.a.createElement(y.a,{minDropdownWidth:"660px",width:"660px",value:t,items:this.getCategoryItems(),onChange:this.onCategoryChange,testSection:"product-or-category"}),a.length>1&&l.a.createElement("div",{className:m()({"oui-form-bad-news":C.organization})},l.a.createElement(x,null),l.a.createElement(h.a,null,"Organization"),l.a.createElement(y.a,{minDropdownWidth:"660px",width:"660px",displayError:C.organization,value:i,items:a.map((function(t){return{label:t.name,value:t.id}})),onChange:this.onOrganizationChange})),l.a.createElement(x,null),l.a.createElement(v.a,{type:"text",label:"Subject",value:c,displayError:C.subject,testSection:"request-form-subject",onChange:this.onSubjectChange,note:"Let us know a short, high-level description of your request."}),l.a.createElement(x,null),l.a.createElement(_.a,{label:"Description",value:u,displayError:C.description,onChange:this.onDescriptionChange,testSection:"request-form-description",note:"Enter the details of your request. A member of our support staff will respond as soon as possible."}),this.shouldShowField(w)&&l.a.createElement("div",{className:m()({"oui-form-bad-news":C.sdk})},l.a.createElement(x,null),l.a.createElement(h.a,null,"SDK Language"),l.a.createElement(y.a,{minDropdownWidth:"660px",width:"660px",value:o,displayError:C.sdk,items:this.getSDKLanguages(),onChange:this.onSDKChange,testSection:"request-form-sdk-dropdown"}),l.a.createElement("div",{className:"oui-form-note"},"Select the ",this.getSDKType()," SDK this request is for.")),this.shouldShowField(N)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(x,null),l.a.createElement(v.a,{type:"text",value:d,onChange:this.onSDKVersionNumberChange,displayError:C.sdkVersionNumber,label:"SDK Version Number",note:this.getSDKVersionNote(),testSection:"request-form-sdk-version"})),this.shouldShowField(R)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(x,null),l.a.createElement(v.a,{type:"text",label:this.getEntityIdLabel(),value:p,onChange:this.onEntityIdChange,displayError:C.entityId,testSection:"request-form-entity-id",note:l.a.createElement(l.a.Fragment,null,this.getEntityIdNote()," ",l.a.createElement(g.a,{href:"/v2",newWindow:!0},"Click here")," ","to open a new tab and find this.")})),l.a.createElement(x,null),l.a.createElement(v.a,{type:"text",value:T,onChange:this.onAdditionalEmailsChange,label:"Additional Emails to CC on Responses",note:"Multiple emails can be added, using commas as separators (e.g. jane@company.com, john@company.com)."}),this.shouldShowField(D)&&l.a.createElement(l.a.Fragment,null,l.a.createElement(x,null),l.a.createElement(h.a,null,"Priority"),l.a.createElement(y.a,{buttonStyle:"outline-reverse",minDropdownWidth:"660px",width:"660px",value:S,items:P.b.PRIORITIES,onChange:this.onPriorityChange,testSection:"request-form-priority"}),l.a.createElement("div",{className:"oui-form-note"},"Select the most accurate description of how this request affects your team.")),l.a.createElement(L.a,{addUploadToken:this.addUploadToken,removeUploadToken:this.removeUploadToken,uploadStart:this.uploadStart,uploadFinished:this.uploadFinished})),l.a.createElement(O.b,null,l.a.createElement(E.a,{rightGroup:[l.a.createElement(b.a,{key:"back",style:"outline-reverse",onClick:this.goToPreviousStep},"Back"),l.a.createElement(b.a,{key:"next",style:"highlight",testSection:"request-form-submit-button",isDisabled:I,onClick:this.validateForm},"Next")]})))}}]),RequestForm}(l.a.Component)).propTypes={accountId:d.a.number.isRequired,canAccountUseEdgeProjects:d.a.bool.isRequired,canUseFullStackExperiments:d.a.bool.isRequired,canUseFullStackSDKs:d.a.bool.isRequired,canUseMobileSDKs:d.a.bool.isRequired,canUseOverTheTopSDKs:d.a.bool.isRequired,canUsePersonalization:d.a.bool.isRequired,canUseTeamsWorkflow:d.a.bool.isRequired,canUseXWeb:d.a.bool.isRequired,caseType:d.a.string.isRequired,categoryId:d.a.string.isRequired,currentProject:d.a.instanceOf(S.default.Map).isRequired,errorId:d.a.string,isOptimizelyX:d.a.bool.isRequired,setCategoryId:d.a.func.isRequired,setIsLoading:d.a.func.isRequired,setRequestStatus:d.a.func.isRequired,setZendeskTicketId:d.a.func.isRequired,switchStepHandler:d.a.func.isRequired,userLocale:d.a.string.isRequired,userPlanId:d.a.string.isRequired},o.defaultProps={errorId:""},i=o))||i;r.a=k},function(t,r,a){"use strict";a.d(r,"a",(function(){return A}));var i=a(12),o=a.n(i),c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(2206),m=a.n(p),g=a(42),h=a.n(g),y=a(79),v=a(204),_=a(26),E=a(164),b=a(105),T=a.n(b),S=a(300),C=a.n(S);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I=h.a.get("csrf",""),A=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(Attachments,t);var r=_createSuper(Attachments);function Attachments(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Attachments),(a=r.call(this,t)).loadDropzone=function(){new m.a('[data-dropzone="dropzone"]',{method:"POST",url:"/support/submit/upload",previewTemplate:o()('[data-dropzone="template"]').html(),maxFilesize:E.a.DROPZONE.MAX_FILE_SIZE_ALLOWED,paramName:"attachments",clickable:['[data-dropzone="dropzone"]','[data-dropzone="add-file"]'],headers:{"X-csrf-token":I},sending:function sending(){(0,a.props.uploadStart)(),a.incrementUploadingCount()},success:function success(t,r){var i=a.props,o=i.addUploadToken,c=i.uploadFinished;o(r.upload.token),t.previewElement.setAttribute("upload_token",r.upload.token),c(),a.decrementUploadingCount()},error:function error(t,r,i){var c=a.props.uploadFinished,l="string"==typeof r&&-1!==r.indexOf(E.a.DROPZONE.MAX_FILE_SIZE_ERROR_SUBSTRING),u=i&&i.status===E.a.DROPZONE.FILE_TOO_LARGE_HTTP_STATUS_CODE;if(l||u){var d=t.previewElement;o()(d).find("span.dz-error-message").text(E.a.DROPZONE.FILE_TOO_BIG_ERROR),o()(d).css("color","red")}else a.setState({attachmentsNotWorkingError:!0});c(),a.decrementUploadingCount()},removedfile:function removedfile(t){var r=a.props.removeUploadToken,i=t.previewElement;i.parentNode.removeChild(i);var o=i.getAttribute("upload_token");r(o),T.a.makeV1AjaxRequest({url:"/support/submit/upload/delete?upload_id=".concat(o),type:"DELETE"}).fail(C()((function(){})))},canceled:function canceled(){(0,a.props.uploadFinished)(),a.decrementUploadingCount()}})},a.state={uploadingCount:0,attachmentsNotWorkingError:!1},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(Attachments,[{key:"incrementUploadingCount",value:function incrementUploadingCount(){this.setState((function(t){return{uploadingCount:t.uploadingCount+1}}))}},{key:"decrementUploadingCount",value:function decrementUploadingCount(){this.setState((function(t){return{uploadingCount:t.uploadingCount-1}}))}},{key:"componentDidMount",value:function componentDidMount(){this.loadDropzone()}},{key:"render",value:function render(){var t=this.state,r=t.uploadingCount,a=t.attachmentsNotWorkingError;return l.a.createElement("div",{className:"push-double--top"},!a&&l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,null,"Attachments"),l.a.createElement("div",{"data-dropzone":"dropzone",className:"border-dashed--all text--center soft"},l.a.createElement("span",{"data-dropzone":"add-file",className:"flex flex-align--center flex-justified--center"},r>0&&l.a.createElement(v.a,{size:"small"}),0===r&&l.a.createElement(_.a,{name:"link",size:"medium"}),l.a.createElement("a",{className:"push-half--sides"},"Add"),l.a.createElement("span",{className:"muted weight--light"},"or drop files here")),l.a.createElement("div",{"data-dropzone":"template",className:"display--none dz-preview dz-file-preview"},l.a.createElement("div",{className:"dz-details push-top oui-form-note"},l.a.createElement("a",{className:"dz-remove","data-dz-remove":!0},"[x]"),l.a.createElement("span",{className:"dz-filename"},l.a.createElement("span",{"data-dz-name":!0})),l.a.createElement("span",null,"(",l.a.createElement("span",{className:"dz-size","data-dz-size":!0}),")"),l.a.createElement("span",{className:"dz-error-message"},l.a.createElement("span",{"data-dz-errormessage":!0}))))),l.a.createElement("div",{className:"oui-form-note"},"Include screenshots, recordings or other files to help our team better understand your request.")),a&&l.a.createElement("div",{className:"oui-form-note"},"Attachment uploads are temporarily unavailable. Please reply back to the confirmation email with the attachment(s) or provide a download link in the issue description. We apologize for the inconvenience."))}}]),Attachments}(l.a.Component);A.propTypes={addUploadToken:d.a.func.isRequired,removeUploadToken:d.a.func.isRequired,uploadStart:d.a.func.isRequired,uploadFinished:d.a.func.isRequired}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,r,a){"use strict";a.d(r,"a",(function(){return m}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(40),d=a(73);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function renderPaddedLink(t,r){return o.a.createElement(u.a,{newWindow:!0,href:t},o.a.createElement("span",{className:"soft-half--sides"},r))},m=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(TicketStatus,t);var r=_createSuper(TicketStatus);function TicketStatus(){return _classCallCheck(this,TicketStatus),r.apply(this,arguments)}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(TicketStatus,[{key:"render",value:function render(){var t=this.props,r=(t.onClose,t.requestStatus),a=t.zendeskTicketId;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{"data-test-section":"ticket-status",className:"soft-double--bottom"},r===d.b.requestStatus.SUCCESS&&o.a.createElement("section",{"data-test-section":"ticket-success"},o.a.createElement("div",{className:"weight--bold"},"We've received your request!"),o.a.createElement("p",{className:"push--top"},"Request",p(d.c.newlyCreatedRequestLink(a),"#".concat(a)),"has been submitted and you'll hear from us soon. You can",p(d.c.newlyCreatedRequestLink(a),"click here"),"to view this request. See all of your Optimizely Support requests",p(d.c.myRequestsLink(),"here."))),r===d.b.requestStatus.DEFERRED&&o.a.createElement("section",{"data-test-section":"ticket-deferred"},o.a.createElement("div",{className:"weight--bold"},"We've received your request!"),o.a.createElement("p",{className:"push--top"},"Your request is being processed and you'll hear from us soon. You can view all of your Optimizely Support requests",p(d.c.myRequestsLink(),"here.")))))}}]),TicketStatus}(o.a.Component);m.propTypes={requestStatus:l.a.string.isRequired,zendeskTicketId:l.a.number.isRequired}},,,,function(t,r,a){"use strict";var i=a(2245);r.a={getUtilities:i.a}},function(t,r,a){"use strict";a.d(r,"a",(function(){return create}));var i=a(2246),o=a(2247),c=a(2248);function create(){return{track:i.a,ui:o.a,userInfo:c.a}}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(61),l=a.n(c),u=a(3),d=a(43),p=a(14);r.a={trackMarketo:function trackMarketo(t,r,a){var i=o.a.extend({email:u.default.evaluate(d.default.getters.email),accountId:u.default.evaluate(d.default.getters.id),projectId:u.default.evaluate(p.default.getters.id),planId:u.default.evaluate(d.default.getters.planId),userLocale:u.default.evaluate(d.default.getters.userLocale)},{url:window.location.pathname},r);l.a.trackMarketoLead(t,i,a)}}},function(t,r,a){"use strict";var i=a(5),o=a(73),c=a(977);r.a={showCTADialog:function showCTADialog(t){i.default.showReactDialog(c.a,{props:{title:t.title,body:t.body,onSubmit:t.onSubmit,onCancel:t.onCancel}},{noEscape:!1})},showDialog:function showDialog(t){i.default.getRootVM()||console.warn("[optlyTesting] cannot show dialog until page has loaded"),t.template||console.warn("show dialog must be supplied a `template` property");var r={template:t.template};t.ready&&(r.ready=t.ready),i.default.showDialog({component:r})},showSupportDialog:function showSupportDialog(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.a.showSupportDialog({errorId:t.errorId||""})}}},function(t,r,a){"use strict";var i=a(4),o=a(3),c=a(2),l=a(43),u=a(14),d=a(688),p=a(169),m=function doAllValuesMatch(t,r){if(Array.isArray(t)&&Array.isArray(r))return 0!==t.length&&!Object(i.difference)(t,r).length;if(Array.isArray(t)&&!Array.isArray(r))return r?!!t.find((function(t){return doAllValuesMatch(t,r)})):t.includes(r);if(Object(i.isObject)(t)&&Object(i.isObject)(r)){if(Object(i.isEmpty)(t))return!1;var a=!0;return Object.keys(t).forEach((function(i){doAllValuesMatch(t[i],r[i])||(a=!1)})),a}return r===t};r.a={evaluateUserInfo:function evaluateUserInfo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t&&(!t||Object.keys(t).length)){var a=o.default.evaluate(l.getters.id),i=o.default.evaluate(l.getters.email),g=function userInfoEvaluator(){var g=o.default.evaluate(d.b.currentSupportInfo)||c.default.Map(),h=o.default.evaluate(p.b.currentUser)||c.default.Map();r.async||!a||g.size||d.a.fetchAll({account_id:a}),r.async||!i||h.size||p.a.fetch(i);var y={accountExecutive:Object(c.toJS)(g.get("account_executive")),accountId:a,accountPermissions:o.default.evaluateToJS(l.getters.accountPermissions),communicationPreference:h.get("communication_preference"),currentCollaboratorRole:o.default.evaluate(l.getters.currentRole),customerSuccessManager:Object(c.toJS)(g.get("technical_account_manager")),email:i,emailVerified:h.get("email_verified"),firstName:h.get("first_name"),hasPrioritySupport:g.get("has_priority_support"),isGAEAdmin:o.default.evaluateToJS(l.getters.isAdmin),jobDepartment:h.get("job_department"),jobRole:h.get("job_role"),lastName:h.get("last_name"),planId:o.default.evaluate(l.getters.planId),projectId:o.default.evaluate(u.getters.id),projectPlatform:o.default.evaluate(u.getters.platform),twoFactorEnrolled:h.get("two_factor_enrolled"),uniqueUserId:o.default.evaluate(l.getters.uniqueUserId),userLocale:o.default.evaluate(l.getters.userLocale)},v=Object.keys(t),_=v.reduce((function(r,a){var i=t[a];return m(i,y[a])?r+1:r}),0),E=v.length===_;return{matchesFound:_,userInfo:y,allValuesMatch:E}};if(!r.async)return g();var h=[];return a&&h.push(d.a.fetchAll({account_id:a})),i&&h.push(p.a.fetch(i)),Promise.all(h).then((function(){return g()}))}console.warn("WARNING - evaluateUserInfo must be passed the userInfoToEvaluate object. Find out more at go/optlyAppApi.")},getUser:function getUser(){var t=o.default.evaluate(l.getters.id),r=o.default.evaluate(d.b.currentSupportInfo)||c.default.Map(),a=o.default.evaluate(p.b.currentUser)||c.default.Map(),i=o.default.evaluate(l.getters.email),m=[];return t&&!r.size&&m.push(d.a.fetchAll({account_id:t})),i&&!a.size&&m.push(p.a.fetch(i)),{accountExecutive:Object(c.toJS)(r.get("account_executive")),accountId:t,accountPermissions:o.default.evaluateToJS(l.getters.accountPermissions),communicationPreference:a.get("communication_preference"),currentCollaboratorRole:o.default.evaluate(l.getters.currentRole),customerSuccessManager:Object(c.toJS)(r.get("technical_account_manager")),email:i,emailVerified:a.get("email_verified"),firstName:a.get("first_name"),hasPrioritySupport:r.get("has_priority_support"),isGAEAdmin:o.default.evaluateToJS(l.getters.isAdmin),jobDepartment:a.get("job_department"),jobRole:a.get("job_role"),lastName:a.get("last_name"),planId:o.default.evaluate(l.getters.planId),projectId:o.default.evaluate(u.getters.id),projectPlatform:o.default.evaluate(u.getters.platform),twoFactorEnrolled:a.get("two_factor_enrolled"),uniqueUserId:o.default.evaluate(l.getters.uniqueUserId),userLocale:o.default.evaluate(l.getters.userLocale),complete:Promise.all(m)}},hasPermission:function hasPermission(t){return o.default.evaluate([l.getters.accountPermissions,u.getters.permissions,function(r,a){try{return r.contains(t)||a.contains(t)}catch(t){return!1}}])}}},function(t,r,a){"use strict";var i=a(4),o=a(40),c=a(19),l=a(1),u=a.n(l),d=a(0),p=a.n(d),m=a(2),g=a(1942),h=a.n(g),y=a(980),v=a(1943),_=a(5),E=a(169),b=a(842),T=a(60),S=a(2253),C=a.n(S);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I=m.default.Map({communication_preference:T.COMMUNICATION_PREFS.EMPTY.value,country:"",first_name:"",job_department:T.UNSELECTED,job_role:T.UNSELECTED,last_name:"",phone_number:""}),A=function getProfileDetailsForCurrentUser(t){return t?I.merge(t.filter((function(t,r){return-1!==T.FORM_FIELDS.DIALOG.indexOf(r)&&!Object(i.isNull)(t)}))):I},O=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ProfileDetailsDialog,t);var r=_createSuper(ProfileDetailsDialog);function ProfileDetailsDialog(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ProfileDetailsDialog),(a=r.call(this,t)).handleChange=a.handleChange.bind(_assertThisInitialized(a)),a.handleSubmit=a.handleSubmit.bind(_assertThisInitialized(a)),a.validate=a.validate.bind(_assertThisInitialized(a)),a.state={profileDetails:A(t.currentUser),errors:{},isSubmitting:!1},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ProfileDetailsDialog,[{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(t){var r=t.currentUser;this.setState({profileDetails:A(r)})}},{key:"handleChange",value:function handleChange(t){this.setState((function(r){return{profileDetails:r.profileDetails.merge(t)}}))}},{key:"handleSubmit",value:function handleSubmit(){var t=this,r=this.validate();Object.values(r).includes(!0)?this.setState({errors:r}):(this.setState({errors:{},isSubmitting:!0}),E.a.save(this.state.profileDetails.toJS()).then((function(){return b.a.save({id:t.props.currentUser.get("id"),has_accepted_tos:!0},{forcePost:!0})})).then((function(){t.props.onResolve&&t.props.onResolve(),_.default.hideDialog(),_.default.showNotification({message:tr("Your settings have been saved.")})})).always((function(){t.setState({isSubmitting:!1})})))}},{key:"validate",value:function validate(){return{jobDepartmentError:this.state.profileDetails.get("job_department")===T.UNSELECTED,firstNameError:!this.state.profileDetails.get("first_name")||!this.state.profileDetails.get("first_name"),lastNameError:!this.state.profileDetails.get("last_name")||!this.state.profileDetails.get("last_name"),jobRoleError:this.state.profileDetails.get("job_role")===T.UNSELECTED,phoneNumberError:!!this.state.profileDetails.get("phone_number")&&this.state.profileDetails.get("phone_number.length")>0&&!h.a.extractPhoneNumber(this.state.profileDetails.get("phone_number")),countryError:!this.state.profileDetails.get("country")||this.state.profileDetails.get("country")===T.SUPPORTED_COUNTRIES.EMPTY.value,communicationPreferenceError:this.state.profileDetails.get("communication_preference")===T.COMMUNICATION_PREFS.EMPTY.value}}},{key:"addTermsLinks",value:function addTermsLinks(t){var r=this.props.termsOfService;return("string"==typeof t?t.split(/(Terms of Service|Privacy Policy|unsubscribe)/gi):[]).map((function(t){return"Terms of Service"===t?p.a.createElement(o.a,{href:r.get("terms_of_service_link"),newWindow:!0,testSection:"welcome-terms-of-service-link"},"Terms of Service"):"Privacy Policy"===t?p.a.createElement(o.a,{href:r.get("privacy_policy_link"),newWindow:!0,testSection:"welcome-privacy-policy-link"},"Privacy Policy"):"unsubscribe"===t?p.a.createElement(o.a,{href:"http://pages.optimizely.com/Unsubscribe-Page.html",newWindow:!0,testSection:"welcome-unsubscribe-link"},"unsubscribe"):t}))}},{key:"renderTerms",value:function renderTerms(){var t=this.state.profileDetails,r=this.props.termsOfService,a=T.TERMS_OF_SERVICE_TEXT[t.get("communication_preference")]?"".concat(T.TERMS_OF_SERVICE_TEXT[t.get("communication_preference")]):"";return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",null,this.addTermsLinks(r.get("text"))),a&&p.a.createElement("div",null,this.addTermsLinks(a)))}},{key:"render",value:function render(){var t=this.state.isSubmitting,r=T.GREETINGS.DEFAULT,a=T.TITLES.DEFAULT,i=p.a.createElement("div",null,p.a.createElement(v.a,{description:T.DESCRIPTION,errors:this.state.errors,fields:T.FORM_FIELDS.DIALOG,formData:this.state.profileDetails,onChange:this.handleChange,title:a}),p.a.createElement("p",{className:"text--left push-double--top soft-double--bottom border--bottom push-double--bottom","data-test-section":"welcome-terms-of-service-text"},this.renderTerms()),p.a.createElement("div",{className:"lego-button-row lego-button-row--right"},p.a.createElement(c.a,{isLoading:t,onClick:this.handleSubmit,style:"highlight",testSection:"profile-details-dialog-save"},tr("Save")))),o=null;return o=this.props.includeWrapper?p.a.createElement("div",{className:"max-width--large push-quad--top"},i):i,p.a.createElement("div",{className:"width--1-1"},p.a.createElement(C.a,{title:r}),p.a.createElement("div",{className:"reading-column"},p.a.createElement("div",{className:"flex flex--1 flex--column flex-align--center"},o)))}}]),ProfileDetailsDialog}(p.a.Component);O.propTypes={currentUser:u.a.instanceOf(m.default.Map),termsOfService:u.a.instanceOf(m.default.Map),isFirstSignin:u.a.bool.isRequired,onResolve:u.a.func,includeWrapper:u.a.bool},r.a=_.default.connectGetters(O,{currentUser:E.b.currentUser,isFirstSignin:y.a.isFirstSignin,termsOfService:b.b.first})},function(t,r,a){"use strict";var i=a(9),o=a.n(i),c=a(40),l=a(52),u=a(1),d=a.n(u),p=a(0),m=a.n(p),g=a(722);function EmailAddressField(t){var r=t.isSsoEnabled,a=t.isVerified,i=t.onChangeLinkClick,u=t.onVerifyLinkClick,d=t.value,p=t.visible,h=o()({"color--bad-news":!a,"color--good-news":a}),y=a?g.c.VERIFIED:g.c.UNVERIFIED,v=!a&&m.a.createElement(c.a,{testSection:"verify-email-link",onClick:u},g.b.VERIFY);return p&&m.a.createElement("div",{"data-ui-component":!0},m.a.createElement("div",{className:"oui-label","data-test-section":"email-address-label"},g.a," ",m.a.createElement("span",{className:h},"(",y,")")),m.a.createElement(l.a,{isDisabled:!0,isRequired:!0,testSection:"email-address-field",type:"text",value:d}),m.a.createElement("div",{className:"push--top"},v),!r&&m.a.createElement(c.a,{testSection:"change-email-link",onClick:i},g.b.CHANGE))}EmailAddressField.propTypes={isSsoEnabled:d.a.bool,isVerified:d.a.bool,onChangeLinkClick:d.a.func,onVerifyLinkClick:d.a.func,value:d.a.string,visible:d.a.bool},EmailAddressField.defaultProps={isSsoEnabled:!1,isVerified:!1,onChangeLinkClick:function onChangeLinkClick(){},onVerifyLinkClick:function onVerifyLinkClick(){},value:"",visible:!1},r.a=EmailAddressField},function(t,r,a){"use strict";var i=a(79),o=a(40),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(1339);function PasswordField(t){var r=t.isSsoEnabled,a=t.onChangeLinkClick;return t.visible&&d.a.createElement("div",{"data-ui-component":!0},d.a.createElement(i.a,{testSection:"profile-password-label"},"Password"),d.a.createElement("div",{className:"push--top"},!r&&d.a.createElement(o.a,{testSection:"change-password-link",onClick:a},p.a),r&&d.a.createElement("p",{"data-test-section":"sso-password-enabled",className:"muted"},p.b)))}PasswordField.propTypes={isSsoEnabled:l.a.bool,onChangeLinkClick:l.a.func,visible:l.a.bool},PasswordField.defaultProps={isSsoEnabled:!1,onChangeLinkClick:function onChangeLinkClick(){},visible:!1},r.a=PasswordField},function(t,r,a){"use strict";var i=a(67),o=a.n(i),c=a(36),l=a(981);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var u=Object(c.createEntityGetters)(l.a),d=[u.entityCache,function(t){return t.first()||o.a.Map({})}];r.a=_extends({},u,{first:d})},function(t,r,a){var i=a(4).values,o=a(1),c=a(0),l=a(60).GREETINGS;function Header(t){var r=t.title;return c.createElement("div",{className:"welcome-header header-welcome"},c.createElement("div",{className:"reading-column soft-quad--top flush--top","data-test-section":"profile-details-dialog-header"},c.createElement("div",{className:"lego-layout--single-column max-width--reading text--left position--relative height--1-1"},c.createElement("h1",{className:"flush--bottom kilo weight--light color--brand","data-test-section":"profile-details-dialog-header-greeting"},r))))}Header.propTypes={title:o.oneOf(i(l)).isRequired},t.exports=Header},function(t,r,a){"use strict";a.d(r,"a",(function(){return intialize}));var i=a(3),o=a(2255),c=a(2257),l=a(2259),u=a(2261),d=a(2263),p=a(2265);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var m=_extends({},o.a,c.a,l.a,u.a,d.a,p.a);function intialize(){i.default.registerStores(m)}},function(t,r,a){"use strict";var i=a(2256);r.a={traffic_allocation:i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(1423);function updateCurrentlySelectedTrafficAllocationPolicy(t,r){return t.set("currentlySelectedTrafficAllocationPolicy",r)}r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({currentlySelectedTrafficAllocationPolicy:"manual"})},initialize:function initialize(){this.on(l.a.UPDATE_CURRENTLY_SELECTED_TRAFFIC_ALLOCATION_POLICY,updateCurrentlySelectedTrafficAllocationPolicy)}})},function(t,r,a){"use strict";var i=a(2258);r.a={configureGroup:i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(474),u=a(530);var d=Object(c.toImmutable)({currentlyEditingGroup:{},errorFlags:function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}({},l.a.ErrorFlag.FULL_STACK_RUNNING_EXPERIMENT_UPDATE,!1)});function flagError(t,r){var a=r.type,i=r.error;return t.setIn(["errorFlags",a],i)}function resetErrorFlags(t){return t.set("errorFlags",d.get("errorFlags"))}function setGroup(t,r){var a=r.group;return t.set("currentlyEditingGroup",a)}r.a=o.a.Store({getInitialState:function getInitialState(){return d},initialize:function initialize(){this.on(u.a.FLAG_ERROR,flagError),this.on(u.a.RESET_ERROR_FLAGS,resetErrorFlags),this.on(u.a.SET_GROUP,setGroup)}})},function(t,r,a){"use strict";var i=a(2260);r.a={experienceManager:i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(477),l={orderedAudienceIds:[]},u=function addAudienceId(t,r){return t.set("orderedAudienceIds",t.get("orderedAudienceIds").push(r.audienceId))},d=function removeAudienceId(t,r){return t.set("orderedAudienceIds",t.get("orderedAudienceIds").filter((function(t){return t!==r.audienceId})))},p=function setOrderedAudienceIds(t,r){return t.set("orderedAudienceIds",r.orderedAudienceIds)};r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)(l)},initialize:function initialize(){this.on(c.a.EXPERIENCE_MANAGER_ADD_AUDIENCE_ID,u),this.on(c.a.EXPERIENCE_MANAGER_REMOVE_AUDIENCE_ID,d),this.on(c.a.EXPERIENCE_MANAGER_SET_ORDERED_AUDIENCE_IDS,p)}})},function(t,r,a){"use strict";var i=a(2262);r.a={LegacyLayerSettingsStore:i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(843);function setLayerName(t,r){return t.set("name",r.name)}function setLayerDescription(t,r){return t.set("description",r.description)}function setLayerHoldback(t,r){return t.set("holdback",r.holdback)}function clearLayerHoldback(t){return t.set("holdback",null)}r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({})},initialize:function initialize(){this.on(l.a.LEGACY_HOLDBACK_SELECTOR,setLayerHoldback),this.on(l.a.LEGACY_CLEAR_HOLDBACK_SELECTOR,clearLayerHoldback),this.on(l.a.LEGACY_LAYER_NAME,setLayerName),this.on(l.a.LEGACY_LAYER_DESCRIPTION,setLayerDescription)}})},function(t,r,a){"use strict";var i=a(2264);r.a={metricsPickerSelectedItems:i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(844);function setUseCurrentProject(t,r){return t.set("useCurrentProject",r)}r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({useCurrentProject:!0})},initialize:function initialize(){this.on(l.a.METRICS_PICKER_USE_CURRENT_PROJECT,setUseCurrentProject)}})},function(t,r,a){"use strict";var i=a(2266);r.a={schedule_experience:i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(1073);function setSelectedTimezone(t,r){return t.set("selectedTimezone",r.timezone)}function setGMTTimezone(t,r){return t.set("gmtTimezone",r.gmtTimezone)}r.a=o.a.Store({getInitialState:function getInitialState(){return c.default.Map({selectedTimezone:null,gmtTimezone:!1})},initialize:function initialize(){this.on(l.a.SET_SELECTED_TIMEZONE,setSelectedTimezone),this.on(l.a.SET_GMT_TIMEZONE,setGMTTimezone)}})},function(t,r,a){"use strict";a.d(r,"a",(function(){return initialize}));var i=a(3),o=a(2268),c=a(2270),l=a(2272),u=a(2274),d=a(2276),p=a(2278),m=a(2280),g=a(2282),h=a(2284),y=a(2286),v=a(2288),_=a(2296),E=a(2298),b=a(2300),T=a(2302);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var S=_extends({},o.a,c.a,l.a,u.a,d.a,p.a,m.a,g.a,h.a,y.a,v.a,_.a,E.a,b.a,T.a);function initialize(){i.default.registerStores(S)}},function(t,r,a){"use strict";var i=a(2269);r.a={dirtyAccountOrigins:i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(845),l={accountAllowedOrigins:[],accountBlockedOrigins:[],useAutoOrigins:!1},u=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)(l)},initialize:function initialize(){this.on(c.a.SET_DIRTY_ACCOUNT_ORIGINS,setDirtyOrigins),this.on(c.a.SET_DIRTY_ACCOUNT_ALLOWED_ORIGINS,setDirtyAllowedOrigins),this.on(c.a.SET_DIRTY_ACCOUNT_BLOCKED_ORIGINS,setDirtyBlockedOrigins),this.on(c.a.SET_DIRTY_ACCOUNT_USE_AUTO_ORIGINS,setDirtyUseAutoOrigins)}});function setDirtyAllowedOrigins(t,r){return t.set("accountAllowedOrigins",r.accountAllowedOrigins)}function setDirtyBlockedOrigins(t,r){return t.set("accountBlockedOrigins",r.accountBlockedOrigins)}function setDirtyUseAutoOrigins(t,r){return t.set("useAutoOrigins",r.useAutoOrigins)}function setDirtyOrigins(t,r){return t.set("useAutoOrigins",r.useAutoOrigins).set("accountAllowedOrigins",r.accountAllowedOrigins).set("accountBlockedOrigins",r.accountBlockedOrigins)}r.a=u},function(t,r,a){"use strict";var i=a(2271),o=a.n(i);r.a={"sections/campaign_overview/experiment_reach":o.a}},function(t,r,a){var i=a(25),o=a(2).toImmutable,c=a(3174);function load(t,r){var a=r.results;return t.withMutations((function(t){a.forEach((function(r){t.set(r.id,r.reach)}))}))}t.exports=i.Store({getInitialState:function getInitialState(){return o({})},initialize:function initialize(){this.on(c.CAMPAIGN_OVERVIEW_LOAD_REACH_RESULTS,load)}})},function(t,r,a){"use strict";var i=a(2273);r.a={"sections/full_stack_onboarding/onboarding":i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(531),u=a(1074),d=[{title:"Welcome",id:"welcome"},{title:"Using this tutorial",id:"context"},{title:"Set up tutorial",id:"setup"},{title:"Feature flags",id:"rollout"},{title:"Feature tests",id:"experiment"},{title:"Metrics",id:"results"},{title:"Thank You",id:"thanks",isHidden:!0}],p=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({steps:d,currentStep:0,currentLanguage:"node",lastCompletedStep:-1,finishedSteps:[],datafileUrl:"",datafileUploaded:!1,feedbackSubmitted:!1,projectType:u.a.PROJECT_TYPE_FLAGS})},initialize:function initialize(){this.on(l.a.ONBOARDING_GOTO_STEP,gotoStep),this.on(l.a.ONBOARDING_NEXT_STEP,nextStep),this.on(l.a.ONBOARDING_SET_LANGUAGE,setLanguage),this.on(l.a.ONBOARDING_SET_PROJECT_TYPE,setProjectType),this.on(l.a.ONBOARDING_SET_DATAFILE_URL,setDatafileUrl),this.on(l.a.ONBOARDING_LOAD_PROGRESS,loadProgress),this.on(l.a.ONBOARDING_FEEDBACK_SUBMITTED,feedbackSubmitted)}});function feedbackSubmitted(t,r){return t.set("feedbackSubmitted",!0)}function loadProgress(t,r){var a=r.datafileUrl,i=r.datafileUploaded,o=r.finishedSteps,l=r.feedbackSubmitted;return t.set("datafileUrl",a).set("datafileUploaded",i).set("feedbackSubmitted",l||!1).set("finishedSteps",Object(c.toImmutable)(o))}function setDatafileUrl(t,r){var a=r.url;return t.set("datafileUrl",a).set("datafileUploaded",!0)}function gotoStep(t,r){var a=r.step;return Number.isNaN(a)||a>=d.length||a<0?t:t.set("currentStep",a)}function setLanguage(t,r){var a=r.language;return-1===u.a.AVAILABLE_LANGUAGE_NAMES.indexOf(a)?t:t.set("currentLanguage",a)}function setProjectType(t,r){return t.set("projectType",r)}function nextStep(t){var r=t.get("currentStep"),a=r+1,i="".concat(t.get("projectType"),"-").concat(t.get("currentLanguage"),"-").concat(r);return t.set("currentStep",a).update("finishedSteps",(function(t){return t.indexOf(i)>-1?t:t.push(i)}))}r.a=p},function(t,r,a){"use strict";var i=a(2275);r.a={layersDialog:i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(144),u=a(364),d=Object(c.toImmutable)({selectedViewIds:c.default.Set(),urlTargetingConfig:l.DEFAULT_URL_TARGETING_CONFIG,targetingType:null,errors:{}});function setViewIds(t,r){return t.set("selectedViewIds",r.viewIds)}function setUrlTargetingConfig(t,r){return t.set("urlTargetingConfig",r.urlTargetingConfig)}function setTargetingType(t,r){return t.set("targetingType",r.targetingType)}function setErrors(t,r){return t.mergeIn(["errors"],Object(c.toImmutable)(r))}function reset(t){return d}r.a=o.a.Store({getInitialState:function getInitialState(){return d},initialize:function initialize(){this.on(u.a.LAYER_DIALOG_SET_VIEW_IDS,setViewIds),this.on(u.a.LAYER_DIALOG_SET_URL_TARGETING_CONFIG,setUrlTargetingConfig),this.on(u.a.LAYER_DIALOG_SET_TARGETING_TYPE,setTargetingType),this.on(u.a.LAYER_DIALOG_SET_ERRORS,setErrors),this.on(u.a.LAYER_DIALOG_RESET,reset)}})},function(t,r,a){"use strict";var i=a(2277);r.a={"oasis/currentlyEditingExperiment":i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(470),l=a(221);function setId(t,r){var a=r.experimentId;return t.set("experimentId",a)}function setTab(t,r){var a=r.tab;return t.set("tab",a)}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({experimentId:null,activeTab:l.a.Tabs.VARIATIONS})},initialize:function initialize(){this.on(c.a.OASIS_SET_CURRENTLY_EDITING_EXPERIMENT_ID,setId),this.on(c.a.OASIS_SET_CURRENTLY_EDITING_EXPERIMENT_TAB,setTab)}})},function(t,r,a){"use strict";var i=a(2279),o=a.n(i);r.a={currentlyEditingPlugin:o.a}},function(t,r,a){var i=a(25),o=a(2).toImmutable,c=a(1944),l=o({config:{},formValues:{},currentlyEditingSelector:null});function loadCurrentlyEditingPlugin(t,r){return t.set("config",o(r.pluginConfig)).withMutations((function(t){r.pluginConfig.form_schema.forEach((function(r){void 0!==r.default_value&&t.setIn(["formValues",r.name],r.default_value)}))}))}function updateCurrentlyEditingPlugin(t,r){return t.update("config",(function(t){return t.merge(r)}))}function unsetCurrentlyEditingPlugin(t,r){return l}function setValue(t,r){return t.setIn(["formValues",r.name],r.value)}function setFormValues(t,r){return t.setIn(["formValues"],o(r.formValues))}function setFieldDefaultValue(t,r){return t.updateIn(["config","form_schema"],(function(t){return t.map((function(t){return t.get("name")===r.fieldName?t.set("default_value",o(r.newDefault)):t}))}))}function setCurrentlyEditingSelector(t,r){return t.set("currentlyEditingSelector",r.selectorFieldName)}t.exports=i.Store({getInitialState:function getInitialState(){return l},initialize:function initialize(){this.on(c.LOAD_CURRENTLY_EDITING_PLUGIN,loadCurrentlyEditingPlugin),this.on(c.UPDATE_CURRENTLY_EDITING_PLUGIN_CONFIG,updateCurrentlyEditingPlugin),this.on(c.UNSET_CURRENTLY_EDITING_PLUGIN,unsetCurrentlyEditingPlugin),this.on(c.SET_VALUE_CURRENTLY_EDITING_PLUGIN,setValue),this.on(c.SET_FORM_VALUES_CURRENTLY_EDITING_PLUGIN,setFormValues),this.on(c.UPDATE_PLUGIN_DEFAULT_FIELD_VALUE,setFieldDefaultValue),this.on(c.CURRENTLY_EDITING_PLUGIN_SET_EDITING_SELECTOR,setCurrentlyEditingSelector)}})},function(t,r,a){"use strict";var i=a(2281),o=a.n(i);r.a={pluginsUI:o.a}},function(t,r,a){var i=a(25),o=a(2).toImmutable,c=a(2762);function setActiveIDETab(t,r){return t.set("activeIDETab",r.tabId)}function setPreviousView(t,r){var a=r.previousView;return t.set("previousView",a)}function setIframeLoadComplete(t,r){var a=r.iframeLoadComplete;return t.set("iframeLoadComplete",a)}function showCodeAssistant(t,r){var a=r.shouldShowCodeAssistant;return t.set("showCodeAssistant",a)}t.exports=i.Store({getInitialState:function getInitialState(){return o({activeIDETab:null,previousView:null,iframeLoadComplete:!1,showCodeAssistant:!1})},initialize:function initialize(){this.on(c.PLUGINS_UI_SET_IDE_ACTIVE_TAB,setActiveIDETab),this.on(c.PLUGINS_UI_SET_PREVIOUS_VIEW,setPreviousView),this.on(c.PLUGINS_UI_SET_IFRAME_LOAD_COMPLETE,setIframeLoadComplete),this.on(c.PLUGINS_UI_SHOW_CODE_ASSISTANT,showCodeAssistant)}})},function(t,r,a){"use strict";var i=a(2283);r.a={"p13n/project_settings/collaborators":i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(1075);function setFilter(t,r){return t.set("filter",r.filter)}function toggleCollaboratorSelection(t,r){var a=r.collaboratorID,i=r.selectMultiple,c=t.get("selectedCollaboratorIDs");return c=i?c.has(a)?c.delete(a):c.add(a):o.default.Set([a]),t.set("selectedCollaboratorIDs",c)}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({filter:"",selectedCollaboratorIDs:o.default.Set()})},initialize:function initialize(){this.on(c.a,setFilter),this.on(c.b,toggleCollaboratorSelection)}})},function(t,r,a){"use strict";var i=a(2285);r.a={"settings/integrations":i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(1215);function setSelectedIntegrationId(t,r){return t.set("integrationId",r.id)}function setCustomIntegrationIsSelected(t,r){return t.set("customIntegrationIsSelected",r)}r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({integrationId:null,customIntegrationIsSelected:!1})},initialize:function initialize(){this.on(l.a.SELECT_INTEGRATION_ID,setSelectedIntegrationId),this.on(l.a.SET_CUSTOM_INTEGRATION_SELECTED,setCustomIntegrationIsSelected)}})},function(t,r,a){"use strict";var i=a(2287);r.a={RecommendationsDataStore:i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(122),u={id:null,name:"",description:"",project_specifics:[],id_tag_name:null,run_parameters:{max_validation_rate:a(46).d.DEFAULT_MAX_VALIDATION_RATE},url_tag_name:null},d={catalog:u,recommenders:[],currentlyEditingEvent:{},currentlyEditingRecommender:{},selectedEventPageId:null,currentlyEditingCatalog:u};function _initialize(t,r){var a=r.projectId;return Object(c.toImmutable)(d).updateIn(["catalog","project_specifics"],(function(t){return t.push(Object(c.toImmutable)({project_id:a,events:[]}))}))}function initializeCurrentlyEditingCatalog(t,r){var a=r.projectId;return Object(c.toImmutable)(d).updateIn(["currentlyEditingCatalog","project_specifics"],(function(t){return t.push(Object(c.toImmutable)({project_id:a,events:[]}))}))}function setCatalog(t,r){var a=r.catalog;return t.set("catalog",Object(c.toImmutable)(a))}function setCurrentlyEditingCatalog(t,r){var a=r.catalog;return t.set("currentlyEditingCatalog",Object(c.toImmutable)(a))}function resetService(t){return t.set("currentlyEditingCatalog",t.get("catalog"))}function updateProperty(t,r){var a=r.property,i=r.value;return t.setIn(["currentlyEditingCatalog",a],i)}function setCurrentlyEditingEvent(t,r){var a=r.event;return t.set("currentlyEditingEvent",a)}function addTag(t,r){var a=r.tag;return t.updateIn(["currentlyEditingEvent","tags"],(function(t){return t.push(a.get("id"))}))}function removeTag(t,r){var a=r.tag;return t.updateIn(["currentlyEditingEvent","tags"],(function(t){return t.filter((function(t){return t!==a.get("id")}))}))}function updateForCatalog(t,r){var a=r.value;return t.setIn(["currentlyEditingEvent","for_catalog"],a)}function selectEventPage(t,r){var a=r.viewId;return t.set("selectedEventPageId",a)}function updateEvent(t,r){var a=r.event,i=Object(c.toImmutable)({id:a.get("id"),kind:a.get("kind"),tags:a.get("tags"),for_catalog:a.get("for_catalog")});return t.updateIn(["currentlyEditingCatalog","project_specifics",0,"events"],(function(t){var r=t.findIndex((function(t){return t.get("id")===a.get("id")&&t.get("kind")===a.get("kind")}));return r>-1?t.set(r,i):t.push(i)}))}function removeEvent(t,r){var a=r.event;return t.updateIn(["currentlyEditingCatalog","project_specifics",0,"events"],(function(t){return t.filter((function(t){return t.get("id")!==a.get("id")||t.get("kind")!==a.get("kind")}))}))}function setEditingRecommender(t,r){var a=r.recommender;return t.set("currentlyEditingRecommender",Object(c.toImmutable)(a))}function updateEditingRecommenderProperty(t,r){var a=r.property,i=r.value;return t.setIn(["currentlyEditingRecommender",a],Object(c.toImmutable)(i))}function updateEditingRecommenderSpecificsProperty(t,r){var a=r.property,i=r.value;return t.updateIn(["currentlyEditingRecommender","specifics"],(function(t){return t.set(a,Object(c.toImmutable)(i))}))}r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)(d)},initialize:function initialize(){this.on(l.a.RECOMMENDATIONS_INIT,_initialize),this.on(l.a.RECOMMENDATIONS_INIT_CURRENTLY_EDITING_CATALOG,initializeCurrentlyEditingCatalog),this.on(l.a.RECOMMENDATIONS_SET_CATALOG,setCatalog),this.on(l.a.RECOMMENDATIONS_SET_CURRENTLY_EDITING_CATALOG,setCurrentlyEditingCatalog),this.on(l.a.RECOMMENDATIONS_RESET_CURRENTLY_EDTING_CATALOG,resetService),this.on(l.a.RECOMMENDATIONS_UPDATE_PROPERTY,updateProperty),this.on(l.a.RECOMMENDATIONS_UPDATE_EVENT,updateEvent),this.on(l.a.RECOMMENDATIONS_REMOVE_EVENT,removeEvent),this.on(l.a.RECOMMENDATIONS_SET_EDITING_EVENT,setCurrentlyEditingEvent),this.on(l.a.RECOMMENDATIONS_ADD_TAG_TO_CURRENTLY_EDITING_EVENT,addTag),this.on(l.a.RECOMMENDATIONS_REMOVE_TAG_FROM_CURRENTLY_EDITING_EVENT,removeTag),this.on(l.a.RECOMMENDATIONS_UPDATE_FOR_CATALOG,updateForCatalog),this.on(l.a.RECOMMENDATIONS_SELECT_EVENT_PAGE,selectEventPage),this.on(l.a.RECOMMENDATIONS_SET_EDITING_RECOMMENDER,setEditingRecommender),this.on(l.a.RECOMMENDATIONS_UPDATE_EDITING_RECOMMENDER_PROPERTY,updateEditingRecommenderProperty),this.on(l.a.RECOMMENDATIONS_UPDATE_EDITING_RECOMMENDER_SPECIFICS_PROPERTY,updateEditingRecommenderSpecificsProperty)}})},function(t,r,a){"use strict";var i=a(2289);r.a={"p13n/results":i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(201),u=a.n(l),d=a(1378),p=a(205),m=a(350),g={promises:[],allResolved:!0,anyRejected:!1};function addPromise(t,r){return reevaluatePromises(t.setIn(["resultsQueryPromises","promises"],t.getIn(["resultsQueryPromises","promises"]).push(r.promise)))}function addSelectedSegment(t,r){var a=t.get("selectedSegments");return t.set("selectedSegments",a.push(Object(c.toImmutable)(r.segment)))}function clearSelectedSegments(t){return t.set("selectedSegments",Object(c.toImmutable)([])).set("andOrSegmentCondition",m.default.AND_OR.AND)}function removeSelectedSegment(t,r){var a=t.get("selectedSegments").filterNot((function(t){return t.get("id")===r.segment.get("id")&&t.get("value")===r.segment.get("value")}));return t.set("selectedSegments",a)}function clearPromises(t){return t.set("resultsQueryPromises",Object(c.toImmutable)(g))}function reevaluatePromises(t){var r,a,i=t.getIn(["resultsQueryPromises","promises"]);return i.size?(r=!i.find((function(t){return"resolved"===!t.state()})),a=i.find((function(t){return"rejected"===t.state()}))):(r=!0,a=!1),t.setIn(["resultsQueryPromises","anyRejected"],a).setIn(["resultsQueryPromises","allResolved"],r)}function setAndOrSegmentCondition(t,r){return t.set("andOrSegmentCondition",r.value)}function setCurrencyType(t,r){return t.set("currencyType",r.currencyType)}function setDifferenceTypeOverride(t,r){return t.set("differenceTypeOverride",r.differenceType)}function setIsCleaningResultsFilters(t){return t.set("isCleaningResultsFilters",!0)}function setIsCleaningResultsFiltersToFalse(t){return t.set("isCleaningResultsFilters",!1)}function setStatsConfig(t,r){return t.set("statsConfig",Object(c.toImmutable)(r.statsConfig))}function setTimerange(t,r){return t.setIn(["timerange",r.layerId],Object(c.toImmutable)({begin:r.begin,end:r.end}))}function setSelectedMetric(t,r){return t.setIn(["selectedMetric",r.layerId],Object(c.toImmutable)(r.selectedMetric))}function setSelectedVariation(t,r){return t.setIn(["selectedVariations",r.layerId,r.experimentId],Object(c.toImmutable)(r.selectedVariation))}function setSelectedExperimentId(t,r){return t.set("selectedExperimentId",Object(c.toImmutable)(r.selectedExperimentId))}function orderColors(t,r){return t.set("colorOrder",Object(c.toImmutable)(r.colorOrder))}function setSelectedExperimentIdsForFilter(t,r){return t.set("selectedExperimentIdsForFilter",Object(c.toImmutable)(r.experimentIds))}function setSelectedSectionId(t,r){return t.set("selectedSectionId",r.selectedSectionId)}r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({andOrSegmentCondition:m.default.AND_OR.AND,currencyType:u.a.getItem("currencyType")||m.default.currencyTypes.DOLLAR,differenceTypeOverride:null,isCleaningResultsFilters:!1,timerange:{},selectedMetric:{},selectedSectionId:null,selectedSegments:[],selectedExperimentId:null,selectedExperimentIdsForFilter:[],selectedVariations:{},colorOrder:[],resultsQueryPromises:g,statsConfig:{differenceType:d.b.DIFFERENCE_TYPES.RELATIVE,epochEnabled:!1}})},initialize:function initialize(){this.on(p.a.ADD_SELECTED_SEGMENT,addSelectedSegment),this.on(p.a.CLEAR_SELECTED_SEGMENTS,clearSelectedSegments),this.on(p.a.REMOVE_SELECTED_SEGMENT,removeSelectedSegment),this.on(p.a.RESULTS_SET_CURRENCY_TYPE,setCurrencyType),this.on(p.a.RESULTS_SET_DIFFERENCE_TYPE_OVERRIDE,setDifferenceTypeOverride),this.on(p.a.RESULTS_SET_STATS_CONFIG,setStatsConfig),this.on(p.a.RESULTS_SET_TIMERANGE,setTimerange),this.on(p.a.RESULTS_SET_SELECTED_METRIC,setSelectedMetric),this.on(p.a.RESULTS_SET_SELECTED_EXPERIMENT,setSelectedExperimentId),this.on(p.a.RESULTS_SET_SELECTED_EXPERIMENT_IDS_FOR_FILTER,setSelectedExperimentIdsForFilter),this.on(p.a.RESULTS_SET_SELECTED_SECTION_ID,setSelectedSectionId),this.on(p.a.RESULTS_SET_SELECTED_VARIATION,setSelectedVariation),this.on(p.a.RESULTS_ORDER_COLORS,orderColors),this.on(p.a.RESULTS_ADD_PROMISE,addPromise),this.on(p.a.RESULTS_CLEAR_PROMISES,clearPromises),this.on(p.a.API_REQUEST_RESOLVED,reevaluatePromises),this.on(p.a.API_REQUEST_REJECTED,reevaluatePromises),this.on(p.a.SET_AND_OR_SEGMENT_CONDITION,setAndOrSegmentCondition),this.on(p.a.SET_IS_CLEANING_RESULTS_FILTERS,setIsCleaningResultsFilters),this.on(p.a.SET_IS_CLEANING_RESULTS_FILTERS_TO_FALSE,setIsCleaningResultsFiltersToFalse)}})},function(t,r,a){"use strict";var i=a(2291);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}r.a=function(t){var r=_slicedToArray(t,2),a=r[0],o=r[1],c=a.JSHINT;return window.JSHINT||(window.JSHINT=c,Object(i.patchCssLintVerify)(o)),{jsHint:c,cssLint:o}}},,function(t,r,a){"use strict";var i={apiKey:"AIzaSyAUXoF2-FMfTOuszf7fJMHSrKtpYTIpzkg",authDomain:"".concat("optimizely-b353b",".firebaseapp.com"),databaseURL:"https://".concat("optimizely-b353b",".firebaseio.com"),projectId:"optimizely-b353b",storageBucket:"".concat("optimizely-b353b",".appspot.com"),messagingSenderId:"174340690338"};r.a={firebaseConfig:i}},function(t,r,a){"use strict";var i=a(2294),o=a.n(i);r.a={generateFixedLengthShortId:function generateFixedLengthShortId(){for(var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i="";i.length<r;)t=o.a.generate(),a&&(t=t.replace(/[_-]/g,"")),i+=t;return i.slice(0,r)}}},,function(t,r,a){"use strict";var i=a(3),o=a(294);r.a={stubDateNow:function stubDateNow(t){i.default.dispatch(o.a.RESULTS_API_STUB_DATE_NOW,{now:t})}}},function(t,r,a){"use strict";var i=a(2297),o=a.n(i);r.a={"p13n/eventEditor":o.a}},function(t,r,a){var i=a(25),o=a(2).toImmutable,c=a(2773),l={currentSelector:"",editorState:{elementSelectorEnabled:!1,isEditingSelector:!1}};function setEventEditorSelector(t,r){return t.set("currentSelector",r.selector)}function setEventEditorElementSelectorEnabled(t,r){return t.setIn(["editorState","elementSelectorEnabled"],r.enabled)}function setEventEditorIsEditingSelector(t,r){return t.setIn(["editorState","isEditingSelector"],r.isEditing)}t.exports=i.Store({getInitialState:function getInitialState(){return o(l)},initialize:function initialize(){this.on(c.P13N_EVENT_EDITOR_SET_CURRENT_SELECTOR,setEventEditorSelector),this.on(c.P13N_EVENT_EDITOR_SET_ELEMENT_SELECTOR_ENABLED,setEventEditorElementSelectorEnabled),this.on(c.P13N_EVENT_EDITOR_SET_IS_EDITING_SELECTOR,setEventEditorIsEditingSelector)}})},function(t,r,a){"use strict";var i=a(2299),o=a.n(i);r.a={"p13n/tagEditor":o.a}},function(t,r,a){var i=a(25),o=a(2).toImmutable,c=a(2774),l={currentSelector:null,currentSelectorInfo:{},editorState:{isEditingSelector:!1}};function setTagEditorSelector(t,r){return t.set("currentSelector",r.selector)}function setTagEditorSelectorInfo(t,r){return t.set("currentSelectorInfo",o(r.selectorInfo))}function setTagEditorIsEditingSelector(t,r){return t.setIn(["editorState","isEditingSelector"],r.isEditing)}t.exports=i.Store({getInitialState:function getInitialState(){return o(l)},initialize:function initialize(){this.on(c.P13N_TAG_EDITOR_SET_CURRENT_SELECTOR,setTagEditorSelector),this.on(c.P13N_TAG_EDITOR_SET_CURRENT_SELECTOR_INFO,setTagEditorSelectorInfo),this.on(c.P13N_TAG_EDITOR_SET_IS_EDITING_SELECTOR,setTagEditorIsEditingSelector)}})},function(t,r,a){"use strict";var i=a(2301);r.a={"p13n/viewEditor":i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(1424),u=a(1217);function setEditingView(t,r){return t.set("currentlyEditingView",Object(c.toImmutable)(r.view))}function setIframeOverlayShown(t,r){return t.set("iframeOverlayShown",r.shown)}r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({currentlyEditingView:null,iframeOverlayShown:!0,mainPanelState:l.a.mainPanelState.IFRAME,selectedElementInfo:[]})},initialize:function initialize(){this.on(u.a.P13N_VIEW_EDITOR_SET_EDITING_VIEW,setEditingView),this.on(u.a.P13N_VIEW_EDITOR_SET_IFRAME_OVERLAY_SHOWN,setIframeOverlayShown)}})},function(t,r,a){"use strict";var i=a(2303);r.a={summary:i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(1946);function storeSummary(t,r){return t.set("allowance",r.summary.allowance).set("end_date",r.summary.end_date).set("last_update_date",r.summary.last_update_date).set("plan_id",r.summary.plan_id).set("rolling_usage",r.summary.rolling_usage_percentage).set("start_date",r.summary.start_date).set("usage",r.summary.usage).set("usage_percentage",r.summary.usage_percentage)}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({})},initialize:function initialize(){this.on(c.a.SUMMARY_LOADED,storeSummary)}})},function(t,r,a){"use strict";a.d(r,"a",(function(){return initialize}));var i=a(3),o=a(2305),c=a(2307),l=a(2309),u=a(2311),d=a(2313),p=a(2315),m=a(2317),g=a(2319),h=a(2321),y=a(2334),v=a(2336),_=a(2338),E=a(2342),b=a(2344),T=a(2347),S=a(2349),C=a(2351),I=a(2353),A=a(2356),O=a(2358);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var P=_extends({},o.a,c.a,l.a,u.a,d.a,p.a,m.a,g.a,h.a,y.a,v.a,_.a,E.a,b.a,T.a,S.a,C.a,I.a,A.a,O.a);function initialize(){i.default.registerStores(P)}},function(t,r,a){"use strict";var i=a(2306),o=a.n(i);r.a={"p13n/campaignManager":o.a}},function(t,r,a){var i=a(25),o=a(2).toImmutable,c=a(140),l=a(1947),u={};function setTab(t,r){return t.set("selectedTab",r.tab)}function setSettingsTab(t,r){return t.set("selectedSettingsTab",r.tab)}function setSettingsDirty(t,r){return t.setIn(["dirtySettingsTabs",r.tab],r.isDirty)}function resetSettingsDirty(t){return t.set("dirtySettingsTabs",o(u))}function setCreatingVariationStatus(t,r){return t.set("creatingNewVariation",r.status)}function startCreatingVariation(t){return t.merge({currentlyRenamingVariationId:null,creatingNewVariation:!0})}function stopCreatingVariation(t){return t.set("creatingNewVariation",!1)}function startRenamingVariation(t,r){return t.merge({currentlyRenamingVariationId:r.variationId,creatingNewVariation:!1})}function stopRenamingVariation(t){return t.set("currentlyRenamingVariationId",null)}u[c.tabs.SETTINGS]=!1,t.exports=i.Store({getInitialState:function getInitialState(){var t={creatingNewVariation:!1,dirtySettingsTabs:u,selectedSettingsTab:c.settingsTabs.CAMPAIGN_SETTINGS,selectedTab:null,currentlyRenamingVariationId:null};return o(t)},initialize:function initialize(){this.on(l.P13N_CAMPAIGN_SELECT_TAB,setTab),this.on(l.P13N_CAMPAIGN_SET_SETTINGS_TAB,setSettingsTab),this.on(l.P13N_CAMPAIGN_SET_SETTINGS_DIRTY,setSettingsDirty),this.on(l.P13N_CAMPAIGN_RESET_SETTINGS_DIRTY,resetSettingsDirty),this.on(l.P13N_SET_CREATING_VARIATION_STATUS,setCreatingVariationStatus),this.on(l.P13N_START_CREATING_VARIATION,startCreatingVariation),this.on(l.P13N_STOP_CREATING_VARIATION,stopCreatingVariation),this.on(l.P13N_START_RENAMING_VARIATION,startRenamingVariation),this.on(l.P13N_STOP_RENAMING_VARIATION,stopRenamingVariation)}})},function(t,r,a){"use strict";var i=a(2308);r.a={"p13n/concurrency_legacy":i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(293);function handleSetEntityCurrentState(t,r){return t.setIn(["entities",r.type,r.id],Object(c.toImmutable)(r.currentState))}function handleSetConnectionId(t,r){return t.set("connectionId",r)}function handleStoreRef(t,r){return t.setIn(["refsByKeypath",r.keypath],r.ref)}function handleRemoveRef(t,r){return t.deleteIn(["refsByKeypath",r.keypath])}r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({connectionId:null,entities:{},refsByKeypath:{}})},initialize:function initialize(){this.on(l.a.SET_CURRENT_STATE_FOR_ENTITY,handleSetEntityCurrentState),this.on(l.a.SET_CONNECTION_ID,handleSetConnectionId),this.on(l.a.SET_FIREBASE_DB_REF,handleStoreRef),this.on(l.a.REMOVE_FIREBASE_DB_REF,handleRemoveRef)}})},function(t,r,a){"use strict";var i=a(2310);r.a={"p13n/concurrency":i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(583);function handleSetEntityVisitorsById(t,r){return t.setIn(["entities",r.id],Object(c.toImmutable)(r.visitors))}r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({entities:{}})},initialize:function initialize(){this.on(l.a.SET_ENTITY_VISITORS_BY_ID,handleSetEntityVisitorsById)}})},function(t,r,a){"use strict";var i=a(2312),o=a.n(i);r.a={"p13n/currentDatasource":o.a}},function(t,r,a){var i=a(25),o=a(2).toImmutable,c=a(2775);function setCurrentDatasourceId(t,r){return t.set("id",r.id)}t.exports=i.Store({getInitialState:function getInitialState(){return o({id:null})},initialize:function initialize(){this.on(c.P13N_SET_CURRENT_DATASOURCE_ID,setCurrentDatasourceId)}})},function(t,r,a){"use strict";var i=a(2314),o=a.n(i);r.a={"p13n/currentEvent":o.a}},function(t,r,a){var i=a(25),o=a(2).toImmutable,c=a(1948);function setCurrentEventId(t,r){return t.set("id",r.id)}t.exports=i.Store({getInitialState:function getInitialState(){return o({id:null})},initialize:function initialize(){this.on(c.P13N_SET_CURRENT_EVENT_ID,setCurrentEventId)}})},function(t,r,a){"use strict";var i=a(2316);r.a={"p13n/currentJobStatus":i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(1949);function setCurrentJobStatusByFilter(t,r){return t.set("filter",r.filter)}r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({filter:null})},initialize:function initialize(){this.on(l.a.P13N_SET_CURRENT_JOB_STATUS_BY_FILTER,setCurrentJobStatusByFilter)}})},function(t,r,a){"use strict";var i=a(2318),o=a.n(i);r.a={"p13n/currentLayer":o.a}},function(t,r,a){var i=a(25),o=a(2).toImmutable,c=a(1945);function setCurrentLayerId(t,r){return t.set("id",r.id)}function setCurrentLayerShareToken(t,r){return t.set("share_token",r.share_token)}t.exports=i.Store({getInitialState:function getInitialState(){return o({id:null,share_token:null})},initialize:function initialize(){this.on(c.P13N_SET_CURRENT_LAYER_ID,setCurrentLayerId),this.on(c.P13N_SET_CURRENT_LAYER_SHARE_TOKEN,setCurrentLayerShareToken)}})},function(t,r,a){"use strict";var i=a(2320),o=a.n(i);r.a={"p13n/currentTag":o.a}},function(t,r,a){var i=a(25),o=a(2).toImmutable,c=a(2776);function setCurrentTagId(t,r){return t.set("id",r.id)}t.exports=i.Store({getInitialState:function getInitialState(){return o({id:null})},initialize:function initialize(){this.on(c.P13N_SET_CURRENT_TAG_ID,setCurrentTagId)}})},function(t,r,a){"use strict";var i=a(2322);r.a={currently_editing_experiment:i.a}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(25),l=a(75),u=a(141),d=a(2),p=a(20),m=a(144),g=a(58),h=a(336),y=a(274),v=a(133);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var _=y.b.VARIATION_ORIGINAL,E=y.b.VARIATION_1,b=y.b.SINGLE_VARIATION,T=y.a.DEFAULT_SECTION,S=Object(d.toImmutable)({currentExperimentId:null,name:null,description:null,selectedAudienceIds:[],selectedViewIds:d.default.Set(),variations:[],bucketingStrategy:null,audienceMatchType:null,audienceConditions:null,audienceConditionsJson:[],selectedVariableIds:[],sections:[],urlTargetingConfig:m.DEFAULT_URL_TARGETING_CONFIG,targetingType:null,currentlySelectedTrafficAllocationPolicy:"manual",errors:{}});function init(t,r){var a,i,c,p,m,g,y,C,I,A,O=r.experiment,P=r.mode,R=r.type,w=r.layerHoldback,N=[];if(P!==h.default.modes.EDIT&&P!==h.default.modes.DUPLICATE||(a=Object(d.toImmutable)(O.id),i=O.name,c=O.description,p=O.variations.map((function(t){if(t.actions)return t.actions.map((function(t){return t.view_id}))})),p=Object(d.toImmutable)(o.a.uniq(o.a.flattenDeep(p))),m=Object(d.toImmutable)(O.audience_ids),C=O.audience_match_type?Object(d.toImmutable)(O.audience_match_type):u.default.audienceMatchTypes.ALL_AUDIENCES,I=Object(d.toImmutable)(O.audience_conditions),A=Object(d.toImmutable)(O.audience_conditions_json),g=Object(d.toImmutable)(v.a.guidifyList(O.variations)),r.variableUsages&&(N=Object(d.toImmutable)(r.variableUsages.map((function(t){return t.live_variable_id}))),g=v.a.addVariableValuesToVariations(g,Object(d.toImmutable)(r.variableUsages)))),P===h.default.modes.DUPLICATE&&(i=i?"Copy of ".concat(i):null,c=c||null,a=null),P===h.default.modes.CREATE){if(R===h.default.types.P13N_EXP)g=v.a.guidifyList([Object(l.default)(b)]);else if(r.isMultivariateTest){g=Object(d.toImmutable)([]);var L=Object(l.default)(T);L.variations=v.a.guidifyList(L.variations),y=Object(d.toImmutable)(v.a.guidifyList([L]))}else g=v.a.guidifyList([Object(l.default)(_),Object(l.default)(E)]);return S.set("variations",Object(d.toImmutable)(g)).set("audienceMatchType",u.default.audienceMatchTypes.ALL_AUDIENCES).set("layerHoldback",w).set("sections",y).set("type",R)}return t.set("currentExperimentId",a).set("name",i).set("description",c).set("selectedAudienceIds",m).set("selectedViewIds",p).set("variations",g).set("bucketingStrategy",O.bucketing_strategy).set("audienceConditions",I).set("audienceConditionsJson",A).set("audienceMatchType",C).set("layerHoldback",w).set("type",R).set("selectedVariableIds",N)}function teardown(t,r){return S}function updateName(t,r){return t.set("name",r)}function updateDescription(t,r){return t.set("description",r)}function setViewIds(t,r){return t.set("selectedViewIds",d.default.Set(r.viewIds))}function setUrlTargetingConfig(t,r){return t.set("urlTargetingConfig",r.urlTargetingConfig)}function setTargetingType(t,r){return t.set("targetingType",r.targetingType)}function addAudience(t,r){return t.update("selectedAudienceIds",(function(t){return t.push(r.audienceId)}))}function removeAudience(t,r){return t.update("selectedAudienceIds",(function(t){return t.filter((function(t){return t!==r.audienceId}))}))}function updateAudienceIds(t,r){return t.set("selectedAudienceIds",Object(d.toImmutable)(r))}function updateLayerHoldback(t,r){return t.set("layerHoldback",Object(d.toImmutable)(r))}function pauseVariation(t,r){return t.update("variations",(function(t){var a=t.findIndex((function(t){return t.get("guid")===r.variation.guid})),i=t.get(a),o=i.get("weight"),c=i.set("status",p.enums.VariationStatus.PAUSED).set("weight",0),l=t.set(a,c),u=p.fns.redistributePausedVariationTraffic(l,o);return p.fns.addPercentageToVariations(u)}))}function resumeVariation(t,r){return t.update("variations",(function(t){var a=t.findIndex((function(t){return t.get("guid")===r.variation.guid})),i=t.get(a).set("status",p.enums.VariationStatus.ACTIVE),o=t.set(a,i),c=p.fns.redistributeResumedVariationTraffic(i.get("variation_id"),o);return p.fns.addPercentageToVariations(c)}))}function updateVariation(t,r){return t.update("variations",(function(t){var a=t.findIndex((function(t){return t.get("guid")===r.variation.guid}));return t.set(a,Object(d.toImmutable)(r.variation))}))}function addVariation(t){return t.update("variations",(function(t){var r=v.a.guidifySingle({name:p.fns.suggestedNewVariationName(t),percentage:"",variable_values:{}});t=t.push(Object(d.toImmutable)(r));var a=p.fns.redistributeWithNewVariationTrafficImmutable(t);return p.fns.addPercentageToVariations(a)}))}function removeVariation(t,r){return t.update("variations",(function(t){var a=t.findIndex((function(t){return t.get("guid")===r.variation.guid})),i=t.delete(a,r.variation);return i=p.fns.redistributeWithNewVariationTrafficImmutable(i),p.fns.addPercentageToVariations(i)}))}function resetToUniformTraffic(t,r){return t.set("variations",Object(d.toImmutable)(r))}function updateBucketingStrategy(t,r){return t.set("bucketingStrategy",r)}function updateAudienceMatchType(t,r){return t.set("audienceMatchType",r)}function updateAudienceConditions(t,r){return t.set("audienceConditions",r)}function updateAudienceConditionsJson(t,r){return t.set("audienceConditionsJson",r)}function removeIdsFromVariationsForDuplicateExperiments(t){return t.updateIn(["variations"],(function(t){return t.map((function(t){return t.delete("variation_id")}))}))}function setCurrentExperimentIdToNull(t){return t.set("currentExperimentId",null)}function addVariable(t,r){return t.update("selectedVariableIds",(function(t){return t.push(Object(d.toImmutable)(r.variableId))}))}function removeVariable(t,r){return t.update("selectedVariableIds",(function(t){return t.filter((function(t){return t!==r.variableId}))}))}function updateVariable(t,r){return t.update("variations",(function(t){var a=t.findIndex((function(t){return t.get("guid")===r.variationGuid}));return t.setIn([a,"variable_values",r.variableId],r.value)}))}function addSection(t){var r=v.a.createNewSection(t.get("sections").size),a=t.get("sections").push(r);return t.set("sections",a)}function removeSection(t,r){var a=t.get("sections").filter((function(t){return t.get("guid")!==r.sectionGuid}));return t.set("sections",a)}function addVariationToSection(t,r){var a=_slicedToArray(t.get("sections").findEntry((function(t){return t.get("guid")===r.sectionGuid})),2),i=a[0],o=a[1],c=o.get("variations"),l=v.a.guidifySingle({name:p.fns.suggestedNewVariationName(c),weight:""});c=c.push(Object(d.toImmutable)(l)),c=Object(d.toImmutable)(p.fns.redistributeWithNewVariationTraffic(c.toJS()));var u=o.set("variations",c);return t.setIn(["sections",i],u)}function removeVariationFromSection(t,r){var a=_slicedToArray(t.get("sections").findEntry((function(t){return t.get("guid")===r.sectionGuid})),2),i=a[0],o=a[1],c=o.get("variations");c=c.filter((function(t){return t.get("guid")!==r.variationGuid})),c=Object(d.toImmutable)(p.fns.redistributeWithNewVariationTraffic(c.toJS()));var l=o.set("variations",c);return t.setIn(["sections",i],l)}function updateVariationInSection(t,r){var a=_slicedToArray(t.get("sections").findEntry((function(t){return t.get("guid")===r.sectionGuid})),2),i=a[0],c=a[1],l=c.get("variations"),u=l.findIndex((function(t){return t.get("guid")===r.variation.guid}));o.a.isUndefined(r.variation.weight)||(l=l.setIn([u,"weight"],r.variation.weight)),o.a.isUndefined(r.variation.name)||(l=l.setIn([u,"name"],r.variation.name));var d=c.set("variations",l);return t.setIn(["sections",i],d)}function updateSectionName(t,r){var a=_slicedToArray(t.get("sections").findEntry((function(t){return t.get("guid")===r.sectionGuid})),2),i=a[0],o=a[1],c=r.sectionName,l=o.set("name",c);return t.setIn(["sections",i],l)}function updateCurrentlySelectedTrafficAllocationPolicy(t,r){return t.set("currentlySelectedTrafficAllocationPolicy",r)}function setErrors(t,r){return t.mergeIn(["errors"],r)}function updateVariationProperty(t,r){var a=r.propertyName,i=r.propertyValue,o=r.variationGUID;return t.update("variations",(function(t){var r=t.findIndex((function(t){return t.get("guid")===o}));return r>-1?t.setIn([r,a],i):t}))}r.a=Object(c.Store)({getInitialState:function getInitialState(){return S},initialize:function initialize(){this.on(g.a.CREATE_EXP_COMPONENT_ADD_AUDIENCE,addAudience),this.on(g.a.CREATE_EXP_COMPONENT_ADD_VARIABLE,addVariable),this.on(g.a.CREATE_EXP_COMPONENT_ADD_VARIATION,addVariation),this.on(g.a.CREATE_EXP_COMPONENT_INIT,init),this.on(g.a.CREATE_EXP_COMPONENT_PAUSE_VARIATION,pauseVariation),this.on(g.a.CREATE_EXP_COMPONENT_REMOVE_AUDIENCE,removeAudience),this.on(g.a.CREATE_EXP_COMPONENT_REMOVE_IDS_FROM_VARIATIONS_FOR_DUPLICATE_EXPERIMENTS,removeIdsFromVariationsForDuplicateExperiments),this.on(g.a.CREATE_EXP_COMPONENT_REMOVE_VARIABLE,removeVariable),this.on(g.a.CREATE_EXP_COMPONENT_REMOVE_VARIATION,removeVariation),this.on(g.a.CREATE_EXP_COMPONENT_RESET_TO_UNIFORM_TRAFFIC,resetToUniformTraffic),this.on(g.a.CREATE_EXP_COMPONENT_RESUME_VARIATION,resumeVariation),this.on(g.a.CREATE_EXP_COMPONENT_TEARDOWN,teardown),this.on(g.a.CREATE_EXP_COMPONENT_UPDATE_AUDIENCE_CONDITIONS,updateAudienceConditions),this.on(g.a.CREATE_EXP_COMPONENT_UPDATE_AUDIENCE_CONDITIONS_JSON,updateAudienceConditionsJson),this.on(g.a.CREATE_EXP_COMPONENT_UPDATE_AUDIENCE_IDS,updateAudienceIds),this.on(g.a.CREATE_EXP_COMPONENT_UPDATE_AUDIENCE_MATCH_TYPE,updateAudienceMatchType),this.on(g.a.CREATE_EXP_COMPONENT_UPDATE_BUCKETING_STRATEGY,updateBucketingStrategy),this.on(g.a.CREATE_EXP_COMPONENT_UPDATE_DESCRIPTION,updateDescription),this.on(g.a.CREATE_EXP_COMPONENT_UPDATE_LAYER_HOLDBACK,updateLayerHoldback),this.on(g.a.CREATE_EXP_COMPONENT_UPDATE_NAME,updateName),this.on(g.a.CREATE_EXP_COMPONENT_UPDATE_CURRENTLY_SELECTED_TRAFFIC_ALLOCATION_POLICY,updateCurrentlySelectedTrafficAllocationPolicy),this.on(g.a.CREATE_EXP_COMPONENT_UPDATE_VARIABLE_VALUE,updateVariable),this.on(g.a.CREATE_EXP_COMPONENT_UPDATE_VARIATION,updateVariation),this.on(g.a.CREATE_EXP_SET_CURRENT_EXPERIMENT_ID_TO_NULL,setCurrentExperimentIdToNull),this.on(g.a.CREATE_EXP_COMPONENT_ADD_SECTION,addSection),this.on(g.a.CREATE_EXP_COMPONENT_REMOVE_SECTION,removeSection),this.on(g.a.CREATE_EXP_COMPONENT_ADD_VARIATION_TO_SECTION,addVariationToSection),this.on(g.a.CREATE_EXP_COMPONENT_REMOVE_VARIATION_FROM_SECTION,removeVariationFromSection),this.on(g.a.CREATE_EXP_COMPONENT_UPDATE_VARIATION_IN_SECTION,updateVariationInSection),this.on(g.a.CREATE_EXP_COMPONENT_UPDATE_SECTION_NAME,updateSectionName),this.on(g.a.CREATE_EXP_COMPONENT_SET_VIEW_IDS,setViewIds),this.on(g.a.CREATE_EXP_COMPONENT_SET_URL_TARGETING_CONFIG,setUrlTargetingConfig),this.on(g.a.CREATE_EXP_COMPONENT_SET_TARGETING_TYPE,setTargetingType),this.on(g.a.CREATE_EXP_COMPONENT_SET_ERRORS,setErrors),this.on(g.a.CREATE_EXP_COMPONENT_UPDATE_VARIATION_PROPERTY,updateVariationProperty)}})},function(t,r,a){"use strict";a.d(r,"a",(function(){return h}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(170),d=a.n(u),p=a(558),m=a(723),g=a(2324);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(PredictedIntentConditionCard,t);var r=_createSuper(PredictedIntentConditionCard);function PredictedIntentConditionCard(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PredictedIntentConditionCard),(a=r.call(this,t)).validateKeywords=function(){var t=a.state.keywords;p.a.validateKeywords(t.map((function(t){return t.name}))).then((function(r){var i=t.map((function(t){var a=r.find((function(r){return r.word===t.name}));return{name:t.name,style:a&&a.isValid?"primary":"error"}}));a.setState({keywords:i})}))},a.setConditionKeywords=function(t,r){var a=Object(m.a)(t);return r.conditions[0].name=Object(m.c)(Object(m.a)(a)),a},a.onKeywordsChange=function(t){a.setState((function(r){var i=r.conditionGroup;return{conditionGroup:i,keywords:a.setConditionKeywords(t,i)}}),(function(){a.validateKeywords(),a.setCurrentlySelectedInterestGroup()}))},a.onPercentVisitorsChange=function(t){a.setState((function(r){var a=r.conditionGroup;return a.conditions[0].value=Math.round(100*Number(t)),{conditionGroup:a,percentVisitors:t}}))};var i=t.conditionGroup,o=i.conditions[0],c=null,l=String(Number(o.value)/100),u=[];return o.name?(u=Object(m.b)(o.name),a.setConditionKeywords(u,i)):c=!1,a.state={conditionGroup:i,currentlySelectedInterestGroup:c,keywords:u,percentVisitors:l},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(PredictedIntentConditionCard,[{key:"componentDidMount",value:function componentDidMount(){this.setCurrentlySelectedInterestGroup(),this.validateKeywords()}},{key:"setCurrentlySelectedInterestGroup",value:function setCurrentlySelectedInterestGroup(){var t=this,r=this.props.currentProjectId,a=this.state.keywords,i=function setInterestGroup(r){t.setState({currentlySelectedInterestGroup:r})};this.setState({currentlySelectedInterestGroup:null},(function(){0===a.length?i(!1):p.a.search(r,Object(m.c)(a)).then((function(t){return!!t.size&&t.get(0)}),(function(){return!1})).then(i)}))}},{key:"render",value:function render(){var t=this.state,r=t.currentlySelectedInterestGroup,a=t.percentVisitors,i=t.keywords;return o.a.createElement("div",{className:"condition__body push--bottom","data-test-section":"predicted-intent-condition-card-body"},o.a.createElement(g.a,{interestGroup:r,keywords:i,percentVisitors:a,onKeywordsChange:this.onKeywordsChange,onPercentVisitorsChange:this.onPercentVisitorsChange}))}}]),PredictedIntentConditionCard}(o.a.Component);h.propTypes={conditionGroup:l.a.instanceOf(d.a).isRequired,currentProjectId:l.a.number.isRequired}},function(t,r,a){"use strict";a.d(r,"a",(function(){return b}));var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(2),m=a(478),g=a(52),h=a(1220),y=a(71),v=a(532),_=a(2325),E=a(1342);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=Object(y.withTrack)(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(PredictedIntentCondition,t);var r=_createSuper(PredictedIntentCondition);function PredictedIntentCondition(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PredictedIntentCondition),(a=r.call(this,t)).onKeywordsChange=function(t){var r=a.props,i=r.onKeywordsChange,o=r.track;i(t),o("Adaptive Audience Keywords Changed",{keywords:t.map((function(t){return t.name}))})},a.onPercentVisitorsChange=function(t){(0,a.props.onPercentVisitorsChange)(t.target.value)},a.ensurePercentageFormat=function(t){var r=a.props.onPercentVisitorsChange,i=Number(t.target.value).toFixed(1);r(Math.min(Number(i),100))},(0,t.track)("Adaptive Audience Condition Added"),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(PredictedIntentCondition,[{key:"renderPlaceHolder",value:function renderPlaceHolder(){var t=this.props.interestGroup,r=this.props.keywords;return t&&!t.get("available")?l.a.createElement(E.a.Processing,null):!1===t?r.length>0?l.a.createElement(E.a.Missing,null):null:null===t?l.a.createElement("div",{className:"flex--dead-center height--150"},l.a.createElement(m.a,null)):null}},{key:"render",value:function render(){var t=this.props,r=t.interestGroup,a=t.keywords,i=t.percentVisitors,o=t.onPercentVisitorsChange,c=a.length/v.b.TAGS_LIMIT>=v.b.TAGS_LIMIT_VISIBLE_THRESHOLD;return l.a.createElement("div",{className:"flex flex--column flex-align--left"},l.a.createElement("div",{className:"flex flex--row push-double--bottom flex-align--center"},l.a.createElement("span",null,"Top "),l.a.createElement("div",{className:"display--inline-block width--75 soft-half--right"},l.a.createElement(g.a,{type:"number",min:0,max:100,step:"any",onBlur:this.ensurePercentageFormat,value:String(i),onChange:this.onPercentVisitorsChange,testSection:"percent-visitors-input"})),l.a.createElement("div",{className:"display--inline-block push--right"},"% of visitors interested in"),l.a.createElement("div",{className:"flex--1"},l.a.createElement(h.a,{extraAddKeys:v.b.KEYWORD_INPUT_SEPARATORS,maxTags:v.b.TAGS_LIMIT,onChange:this.onKeywordsChange,placeholder:"keywords",tokens:a})),c&&l.a.createElement("div",{className:"push--left oui-form-note"},a.length," / ",v.b.TAGS_LIMIT)),r&&r.get("available")&&l.a.createElement(_.a,{percentVisitors:Number(i),scoreDistribution:r.get("score_distribution"),onPercentVisitorsChange:o}),this.renderPlaceHolder())}}]),PredictedIntentCondition}(l.a.Component)).propTypes={interestGroup:d.a.oneOfType([d.a.instanceOf(p.default.Map),function PropTypesNullOrFalse(t,r,a){var i=t[r];if(null!==i&&!1!==i)return new Error("Invalid prop `".concat(r,"` supplied to")+" `".concat(a,"`. Validation failed."))}]),keywords:d.a.array.isRequired,onKeywordsChange:d.a.func.isRequired,onPercentVisitorsChange:d.a.func.isRequired,percentVisitors:d.a.number.isRequired,track:d.a.func},o.defaultProps={interestGroup:void 0,track:function track(){}},i=o))||i},function(t,r,a){"use strict";a.d(r,"a",(function(){return b}));var i=a(2),o=a(4),c=a(59),l=a.n(c),u=a(0),d=a.n(u),p=a(1),m=a.n(p),g=a(196),h=a(1384),y=a(846),v=a(2327),_=a(2328),E=a(2329);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(EstimatedReachHistogram,t);var r=_createSuper(EstimatedReachHistogram);function EstimatedReachHistogram(){var t;_classCallCheck(this,EstimatedReachHistogram);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(t=r.call.apply(r,[this].concat(i))).state={plotWidth:void 0,plotHeight:void 0,plotLeft:void 0,plotTop:void 0},t.chartRef=d.a.createRef(),t.setSliderStyling=function(){var r=t.chartRef.current.getChart(),a=r.plotWidth,i=r.plotHeight,o=r.plotLeft,c=r.plotTop;t.setState({plotWidth:a,plotHeight:i,plotLeft:o,plotTop:c})},t.getChartConfig=Object(o.memoize)((function(r){var a=r.get("buckets").map((function(t){return[t.get("similarity_score"),t.get("num_visitors")]})).toJS(),i=l.a.duration(+new Date(r.get("last_date"))-+new Date(r.get("first_date")));return Object(v.a)(a,i.humanize(),t.setSliderStyling,"#4069ff")})),t.onSimilarityScoreChange=function(r){(0,t.props.onPercentVisitorsChange)(Number(t.similarityScoreAsPercentage(r).toFixed(1)))},t.similarityScoreAsPercentage=function(r){var a=t.props.scoreDistribution.get("buckets");return 100*Object(y.a)("similarity_score",r,a).get("reach_percentage")},t.percentageAsSimilarityScore=function(r){var a=t.props.scoreDistribution.get("buckets");return Object(y.a)("reach_percentage",r/100,a).get("similarity_score")},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(EstimatedReachHistogram,[{key:"componentDidMount",value:function componentDidMount(){this.setZoneData()}},{key:"componentDidUpdate",value:function componentDidUpdate(t){var r=this.props.percentVisitors;t.percentVisitors!==r&&this.setZoneData()}},{key:"setZoneData",value:function setZoneData(){var t=_slicedToArray(this.chartRef.current.chart.series,1)[0],r=this.props.percentVisitors;t.update({zones:[{value:this.percentageAsSimilarityScore(r),color:"#dcdcdc"},{color:"#4069ff"}]})}},{key:"render",value:function render(){var t=this.props,r=t.percentVisitors,a=t.scoreDistribution,i=this.percentageAsSimilarityScore(Number(r)),o=this.state,c=o.plotWidth,l=o.plotHeight,u=o.plotLeft,p=o.plotTop;return d.a.createElement("div",{className:"width--1-1"},d.a.createElement("div",{className:"flex flex--1 flex-wrap"},d.a.createElement("div",{className:"flex flex--1 position--relative min-width--300 height--300"},d.a.createElement("div",{className:"width--1-1"},d.a.createElement(h.a,{config:this.getChartConfig(a),ref:this.chartRef,isPureConfig:!0})),d.a.createElement(g.Track,{eventName:"Adaptive Audience Slider Clicked"},d.a.createElement(E.a,{value:i,onChange:this.onSimilarityScoreChange,plotHeight:l,plotWidth:c,plotLeft:u,plotTop:p}))),d.a.createElement("div",{className:"flex width--200"},d.a.createElement(_.a,{scoreDistribution:a,similarityScore:i}))))}}]),EstimatedReachHistogram}(d.a.Component);b.propTypes={onPercentVisitorsChange:m.a.func.isRequired,percentVisitors:m.a.number.isRequired,scoreDistribution:m.a.instanceOf(i.default.Map).isRequired}},,function(t,r,a){"use strict";r.a=function(t,r,a,i){return{chart:{className:"audience-condition-chart",height:250,type:"areaspline",events:{redraw:a},style:{fontFamily:"Inter, Arial, Helvetica"}},credits:{enabled:!1},title:{text:""},exporting:{enabled:!1},tooltip:{backgroundColor:null,borderWidth:0,shadow:!1,useHTML:!0,style:{padding:0},formatter:function formatter(){return"<span>\n             Interest: <b>".concat(Math.round(100*this.x)/100,"</b>\n             <br>Visitors: <b>").concat(this.y,"</b>\n           </span>")}},xAxis:{min:0,max:1,title:{text:"Interest Score"},plotLines:[{width:16,value:.5,zIndex:5}]},yAxis:{title:{text:"Visitors (Last ".concat(r,")")}},legend:{enabled:!1},plotOptions:{series:{marker:{enabled:!1}}},series:[{name:"Visitors",data:t,zoneAxis:"x",color:i,animation:{duration:0}}]}}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(59),d=a.n(u),p=a(1341),m=a.n(p),g=a(188),h=a(846),y=function formatBasedOnDate(t){return d()(t).format("MMM Do")},v=function ReachEstimate(t){var r=t.similarityScore,a=t.scoreDistribution,i=a.get("buckets"),c=Object(h.a)("similarity_score",r,i),l=new Date(a.get("first_date")),u=new Date(a.get("last_date")),p=d.a.duration(+u-+l),v=m()(c.get("reach_visitor_count")/p.asDays()).format("0.0a"),_=m()(c.get("reach_visitor_count")/p.asDays()*7).format("0.0a");return o.a.createElement("div",{className:"push--sides audience-stats text--left"},o.a.createElement("div",{className:"flex push-half--bottom shadow-box__title"},o.a.createElement(g.a,{behavior:"hover",popoverTitle:"Eligible Visitors",testSection:"eligible-visitors-poptip",verticalAttachment:"bottom"},"The maximum number of people eligible for this audience condition. The actual number of visitors that match this condition may be less than what is displayed depending on other audience conditions and page targeting."),o.a.createElement("span",{className:"push-half--left","data-test-section":"eligible-visitors-text"},"Eligible Visitors")),o.a.createElement("p",null,o.a.createElement("strong",{"data-test-section":"visitors-per-week"},_)," ","visitors per week",o.a.createElement("br",null),o.a.createElement("strong",{"data-test-section":"visitors-per-day"},v)," ","visitors per day"),o.a.createElement("div",{className:"sidenav__section__title flush--bottom","data-test-section":"total-eligible-visitors-text"},o.a.createElement("h6",null,"Total Eligible Visitors")),o.a.createElement("p",null,o.a.createElement("strong",{"data-test-section":"reach-display-percentage"},(100*c.get("reach_percentage")).toFixed(2),"%"),"  of traffic"),o.a.createElement("div",{className:"sidenav__section__title flush--bottom"},o.a.createElement("h6",null,"Based on")),o.a.createElement("p",{"data-test-section":"reach-display-duration"},"Visitors seen in the last ",p.humanize()," (",y(l)," - ",y(u),")"))};v.propTypes={scoreDistribution:l.a.object.isRequired,similarityScore:l.a.number.isRequired},r.a=v},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=(a(3185),function Slider(t){var r=t.onChange,a=t.value,i=t.plotHeight,c=t.plotWidth,l=t.plotLeft,u=t.plotTop;return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{value:Math.round(1e3*a),onChange:function __onChange(t){r(Number(t.target.value)/1e3)},className:"estimated-reach-slider flex flex--1",style:{height:"".concat(i,"px"),width:"".concat(c+8,"px"),top:"".concat(u,"px"),left:"".concat(l-4,"px")},type:"range",step:"1",min:"0",max:"1000","data-test-section":"histogram-slider"}))});u.propTypes={onChange:l.a.func.isRequired,plotHeight:l.a.number,plotWidth:l.a.number,plotLeft:l.a.number,plotTop:l.a.number,value:l.a.number.isRequired},u.defaultProps={plotHeight:0,plotWidth:0,plotLeft:0,plotTop:0},r.a=u},function(t,r){t.exports="/dist/static/img/p13n/interest-group-unavailable-67ca8976ad788770f8abdcb1ff741a4b.svg"},,function(t,r){t.exports='<div>\n  <select\n      class="lego-select"\n      v-component="searchable-select"\n      v-with="onChange: updateConditionValue,\n              selectedIndex: selectedConditionIndex,\n              values: conditionValues"\n      data-placeholder="Select an audience"\n  >\n    <option></option>\n  </select>\n</div>\n'},function(t,r){t.exports='<div>\n  <select\n    class="lego-select"\n    style="width:100%"\n    v-component="searchable-select"\n    v-with="onChange: updateConditionValue,\n              selectedIndex: selectedConditionIndex,\n              values: conditionValues"\n    data-placeholder="Select an audience"\n  >\n    <option></option>\n  </select>\n  <div\n    class="lego-form-note lego-form-note--bad-news"\n    v-if="hasEmptyValueError"\n  >\n    Please select a segment.\n  </div>\n</div>\n'},function(t,r,a){"use strict";var i=a(2335),o=a.n(i);r.a={custom_code:o.a}},function(t,r,a){var i=a(25),o=a(2).toImmutable,c=a(1953),l=a(29).default,u={};function setCustomCodePanelVisibility(t,r){return t.set("customCodePanelShown",!!r.shown)}function setCustomCodePanelTab(t,r){return t.set("tabType",r.tab)}function setCustomCodeTabDirty(t,r){return t.setIn(["dirtyCustomCodeTabs",r.tab],r.isDirty)}function resetCustomCodeTabsDirty(t){return t.set("dirtyCustomCodeTabs",o(u))}u[l.CustomCodeTypes.CSS]=!1,u[l.CustomCodeTypes.JAVASCRIPT]=!1,t.exports=i.Store({getInitialState:function getInitialState(){return o({tabType:void 0,customCodePanelShown:!1,dirtyCustomCodeTabs:u})},initialize:function initialize(){this.on(c.CUSTOM_CODE_PANEL_VISIBILITY_SET,setCustomCodePanelVisibility),this.on(c.CUSTOM_CODE_PANEL_TAB_SET,setCustomCodePanelTab),this.on(c.CUSTOM_CODE_TAB_DIRTY_SET,setCustomCodeTabDirty),this.on(c.CUSTOM_CODE_TABS_DIRTY_RESET,resetCustomCodeTabsDirty)}})},function(t,r,a){"use strict";var i=a(2337);r.a={"p13n/editor":i.a}},function(t,r,a){"use strict";a(4);var i=a(25),o=a(75),c=a(2),l=a(29),u=a(127),d=a(330),p={changeListSidebarComponentConfig:{parent:null,data:{}},currentlyEditingChange:{id:null,name:null,nameIsDirty:!1,status:l.default.ChangeStatuses.INITIAL,type:l.default.ChangeTypes.ATTRIBUTE,async:!1,selector:null,elementCount:0,elementInfo:[],selectorIsDirty:!1,rearrange:{insertSelector:"",operator:null},attributes:d.default.SupportedAttributeChanges,shouldSaveFlags:{class:!1,href:!1,html:!1,src:!1,style:!1,text:!1,remove:!1,hide:!1},dependencies:[],css:{}},currentlyEditingInsertHTMLChange:{id:null,status:l.default.ChangeStatuses.INITIAL,type:l.default.ChangeTypes.INSERT_HTML,async:!1,operator:"",selector:"",elementCount:0,elementInfo:[],value:"",dependencies:[]},currentlyEditingInsertImageChange:{id:null,status:l.default.ChangeStatuses.INITIAL,type:l.default.ChangeTypes.INSERT_IMAGE,async:!1,operator:"",selector:"",elementCount:0,elementInfo:[],value:"",dependencies:[]},currentlyEditingRedirectChange:{id:null,status:l.default.ChangeStatuses.INITIAL,type:l.default.ChangeTypes.REDIRECT,dest:null,dest_fn:null,isRedirectUrl:!0,preserveParameters:null,allowAdditionalRedirect:null},currentSelector:null,currentSelectorInputType:null,editorState:{elementSelectorEnabled:!1,isEditingSelector:!1},selectedViewId:null,selectedVariationId:null,selectedExperimentOrSectionId:null};function resetInitialState(t){return t.setIn(["currentlyEditingChange"],Object(c.toImmutable)(Object(o.default)(p.currentlyEditingChange))).setIn(["currentSelector"],p.currentSelector).setIn(["editorState"],Object(c.toImmutable)(p.editorState))}function setCurrentlyEditingChangeDependencies(t,r){return t.setIn(["currentlyEditingChange","dependencies"],r.dependencies)}function setChangeAttributesProperty(t,r){return t.setIn(["currentlyEditingChange","attributes",r.type],r.value).setIn(["currentlyEditingChange","shouldSaveFlags",r.type],r.shouldSaveFlag)}function setChangeRearrangeProperty(t,r){return t.mergeIn(["currentlyEditingChange","rearrange"],r.data)}function setChangeAsyncProperty(t,r){return t.mergeIn(["currentlyEditingChange","async"],r.async)}function setChangeRedirectProperty(t,r){return t.mergeIn(["currentlyEditingChange"],r.data)}function setChangeSelector(t,r){return t.getIn(["currentlyEditingChange","type"])===l.default.ChangeTypes.INSERT_HTML?t.setIn(["currentlyEditingChange","selector"],r.selector):t.setIn(["currentlyEditingChange","selector"],r.selector).setIn(["currentlyEditingChange","selectorIsDirty"],r.isDirty)}function setChangeName(t,r){return t.setIn(["currentlyEditingChange","name"],r.name).setIn(["currentlyEditingChange","nameIsDirty"],!0)}function resetIsDirty(t){return t.setIn(["currentlyEditingChange","nameIsDirty"],!1).setIn(["currentlyEditingChange","selectorIsDirty"],!1).setIn(["currentlyEditingChange","shouldSaveFlags"],Object(c.toImmutable)(p.currentlyEditingChange.shouldSaveFlags))}function setCurrentlyEditingChange(t,r){var a=Object(c.toImmutable)(r.change),i=Object(c.toImmutable)(p.currentlyEditingChange);return t.set("currentlyEditingChange",i.mergeDeep(a))}function setCurrentlyEditingInsertHTMLChange(t,r){var a=Object(c.toImmutable)(r.change),i=Object(c.toImmutable)(p.currentlyEditingInsertHTMLChange);return t.set("currentlyEditingChange",i.mergeDeep(a))}function setCurrentlyEditingInsertImageChange(t,r){var a=Object(c.toImmutable)(r.change),i=Object(c.toImmutable)(p.currentlyEditingInsertImageChange);return t.set("currentlyEditingChange",i.mergeDeep(a))}function setCurrentlyEditingRedirectChange(t,r){var a=Object(c.toImmutable)(r.change),i=Object(c.toImmutable)(p.currentlyEditingRedirectChange);return t.set("currentlyEditingChange",i.mergeDeep(a))}function setInitialSelector(t,r){return t.set("initialSelector",r.selector)}function setCurrentSelector(t,r){return t.set("currentSelector",r.selector)}function setCurrentSelectorType(t,r){return t.set("currentSelectorInputType",r.type)}function setElementInfo(t,r){return t.setIn(["currentlyEditingChange","elementCount"],Object(c.toImmutable)(r.elementCount)).setIn(["currentlyEditingChange","elementInfo"],Object(c.toImmutable)(r.elementInfo))}function setChangeEditorElementSelectorEnabled(t,r){return t.setIn(["editorState","elementSelectorEnabled"],r.enabled)}function setChangeEditorIsEditingSelector(t,r){return t.setIn(["editorState","isEditingSelector"],r.isEditing)}function selectView(t,r){return t.set("selectedViewId",r.id)}function unselectView(t){return t.set("selectedViewId",null)}function selectVariation(t,r){return t.set("selectedVariationId",r.id)}function unselectVariation(t){return t.set("selectedVariationId",null)}function setInsertHTMLValue(t,r){return t.setIn(["currentlyEditingChange","value"],r.html)}function setInsertHTMLOperator(t,r){return t.setIn(["currentlyEditingChange","operator"],r.operator)}function setCSSProperty(t,r){return t.setIn(["currentlyEditingChange","css",r.property],r.value)}function removeCSSProperty(t,r){return t.removeIn(["currentlyEditingChange","css",r.property])}function selectExperimentOrSectionId(t,r){return t.set("selectedExperimentOrSectionId",r.selectedExperimentOrSectionId)}function unselectExperimentOrSectionId(t){return t.set("selectedExperimentOrSectionId",null)}function setChangeListSidebarComponentConfig(t,r){return t.set("changeListSidebarComponentConfig",r)}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(c.toImmutable)(p)},initialize:function initialize(){this.on(u.default.P13N_CURRENT_CHANGE_RESET_IS_DIRTY,resetIsDirty),this.on(u.default.P13N_CURRENT_CHANGE_REMOVE_CSS_PROPERTY,removeCSSProperty),this.on(u.default.P13N_CURRENT_CHANGE_SET_ATTRIBUTES_PROPERTY,setChangeAttributesProperty),this.on(u.default.P13N_CURRENT_CHANGE_SET_REARRANGE_PROPERTY,setChangeRearrangeProperty),this.on(u.default.P13N_CURRENT_CHANGE_SET_REDIRECT_PROPERTY,setChangeRedirectProperty),this.on(u.default.P13N_CURRENT_CHANGE_SET_ASYNC_PROPERTY,setChangeAsyncProperty),this.on(u.default.P13N_CURRENT_CHANGE_SET_CSS_PROPERTY,setCSSProperty),this.on(u.default.P13N_CURRENT_CHANGE_SET_NAME,setChangeName),this.on(u.default.P13N_CURRENT_CHANGE_SET_SELECTOR,setChangeSelector),this.on(u.default.P13N_EDITOR_SET_CHANGE_EDITOR_ELEMENT_SELECTOR_ENABLED,setChangeEditorElementSelectorEnabled),this.on(u.default.P13N_EDITOR_SET_CHANGE_EDITOR_IS_EDITING_SELECTOR,setChangeEditorIsEditingSelector),this.on(u.default.P13N_CHANGE_EDITOR_SET_INITIAL_SELECTOR,setInitialSelector),this.on(u.default.P13N_CHANGE_EDITOR_SET_CURRENT_SELECTOR,setCurrentSelector),this.on(u.default.P13N_CHANGE_EDITOR_SET_CURRENT_SELECTOR_TYPE,setCurrentSelectorType),this.on(u.default.P13N_EDITOR_SET_CURRENTLY_EDITING_CHANGE,setCurrentlyEditingChange),this.on(u.default.P13N_EDITOR_SET_CURRENTLY_EDITING_INSERT_HTML_CHANGE,setCurrentlyEditingInsertHTMLChange),this.on(u.default.P13N_EDITOR_SET_CURRENTLY_EDITING_INSERT_IMAGE_CHANGE,setCurrentlyEditingInsertImageChange),this.on(u.default.P13N_EDITOR_SET_CURRENTLY_EDITING_REDIRECT_CHANGE,setCurrentlyEditingRedirectChange),this.on(u.default.P13N_EDITOR_SET_CURRENT_CHANGE_ELEMENT_INFO,setElementInfo),this.on(u.default.P13N_EDITOR_UNSET_CURRENTLY_EDITING_CHANGE,resetInitialState),this.on(u.default.P13N_EDITOR_SELECT_VIEW,selectView),this.on(u.default.P13N_EDITOR_UNSELECT_VIEW,unselectView),this.on(u.default.P13N_EDITOR_SELECT_VARIATION,selectVariation),this.on(u.default.P13N_EDITOR_UNSELECT_VARIATION,unselectVariation),this.on(u.default.P13N_INSERT_HTML_SET_HTML_VALUE,setInsertHTMLValue),this.on(u.default.P13N_INSERT_HTML_SET_OPERATOR,setInsertHTMLOperator),this.on(u.default.P13N_EDITOR_SELECT_EXPERIMENT_ID,selectExperimentOrSectionId),this.on(u.default.P13N_EDITOR_UNSELECT_EXPERIMENT_ID,unselectExperimentOrSectionId),this.on(u.default.P13N_EDITOR_SET_CURRENTLY_EDITING_CHANGE_DEPENDENCIES,setCurrentlyEditingChangeDependencies),this.on(u.default.P13N_EDITOR_SET_CHANGE_LIST_SIDEBAR_COMPONENT_CONFIG,setChangeListSidebarComponentConfig)}})},function(t,r,a){"use strict";var i=a(2339),o=a.n(i),c=a(2340),l=a.n(c),u=a(2341),d=a.n(u);r.a={"p13n/editorIframe":o.a,"p13n/editorIframeLogging":l.a,"p13n/urlProtocolMap":d.a}},function(t,r,a){var i=a(25),o=a(2).toImmutable,c=a(512),l=a(642),u=a(301);function addIFrame(t,r){var a=o({id:r.id,log:[],highlightedElements:[],mode:u.IFrameModeTypes.STANDARD,loadStatus:u.IFrameLoadStatuses.INITIAL,protocolType:null,loadDuration:null,width:"100%",selectedDevice:u.Sizes.full,isLandscapeMode:!1,popout:!1,url:r.url,frameType:u.FrameTypes.IFRAME,editorType:r.editorType,customCodeAlertsShown:0,evalError:null,created:c.getNow()});return a=a.set("component",r.component),t.set(r.id,a)}function setWidth(t,r){return t.setIn([r.iframeId,"width"],r.width)}function setSelectedDevice(t,r){return t.setIn([r.iframeId,"selectedDevice"],r.selectedDevice)}function setIsLandscapeMode(t,r){return t.setIn([r.iframeId,"isLandscapeMode"],r.isLandscapeMode)}function log(t,r){return t.has(r.id)?t.updateIn([r.id,"log"],(function(t){if(!t||!t.push)return t;var a=o(r).remove("id");return t.push(a)})):t}function removeIFrame(t,r){return t.delete(r.id)}function setMode(t,r){return t.setIn([r.id,"mode"],r.mode)}function highlightElement(t,r){return t.updateIn([r.id,"highlightedElements"],(function(t){return-1===t.findIndex((function(t){return t.get("dataOptlyId")===r.dataOptlyId&&t.get("selector")===r.selector&&t.get("type")===r.type}))?t.push(o({dataOptlyId:r.dataOptlyId,selector:r.selector,type:r.type})):t}))}function setEditorType(t,r){return t.setIn([r.id,"editorType"],r.type)}function setFrameType(t,r){return t.setIn([r.id,"frameType"],r.type)}function setReadyState(t,r){return t.setIn([r.id,"loadStatus"],r.loadStatus).setIn([r.id,"protocolType"],r.protocolType).setIn([r.id,"loadDuration"],r.loadDuration).setIn([r.id,"customCodeAlertsShown"],0)}function unhighlightElement(t,r){return t.updateIn([r.id,"highlightedElements"],(function(t){var a=t.findIndex((function(t){return t.get("dataOptlyId")===r.dataOptlyId&&t.get("selector")===r.selector&&t.get("type")===r.type}));return a>-1?t.delete(a):t}))}function unhighlightAllElements(t,r){return t.setIn([r.id,"highlightedElements"],o([]))}function reset(t){return o({})}function incrementCustomCodeAlertCount(t,r){return t.setIn([r.id,"customCodeAlertsShown"],t.getIn([r.id,"customCodeAlertsShown"])+1)}function setUrl(t,r){return t.setIn([r.id,"url"],r.url)}function evalCompleted(t,r){return t.setIn([r.id,"evalError"],r.error)}t.exports=i.Store({getInitialState:function getInitialState(){return o({})},initialize:function initialize(){this.on(l.P13N_EDITOR_IFRAME_ADD_IFRAME,addIFrame),this.on(l.P13N_EDITOR_IFRAME_EVAL_COMPLETE,evalCompleted),this.on(l.P13N_EDITOR_IFRAME_HIGHLIGHT_ELEMENT,highlightElement),this.on(l.P13N_EDITOR_IFRAME_INCREMENT_ALERT_COUNT,incrementCustomCodeAlertCount),this.on(l.P13N_EDITOR_IFRAME_LOG,log),this.on(l.P13N_EDITOR_IFRAME_REMOVE_IFRAME,removeIFrame),this.on(l.P13N_EDITOR_IFRAME_RESET,reset),this.on(l.P13N_EDITOR_IFRAME_SET_EDITOR_TYPE,setEditorType),this.on(l.P13N_EDITOR_IFRAME_SET_FRAME_TYPE,setFrameType),this.on(l.P13N_EDITOR_IFRAME_SET_IS_LANDSCAPE_MODE,setIsLandscapeMode),this.on(l.P13N_EDITOR_IFRAME_SET_MODE,setMode),this.on(l.P13N_EDITOR_IFRAME_SET_READY_STATE,setReadyState),this.on(l.P13N_EDITOR_IFRAME_SET_SELECTED_DEVICE,setSelectedDevice),this.on(l.P13N_EDITOR_IFRAME_SET_URL,setUrl),this.on(l.P13N_EDITOR_IFRAME_SET_WIDTH,setWidth),this.on(l.P13N_EDITOR_IFRAME_UNHIGHLIGHT_ALL_ELEMENTS,unhighlightAllElements),this.on(l.P13N_EDITOR_IFRAME_UNHIGHLIGHT_ELEMENT,unhighlightElement)}})},function(t,r,a){var i=a(25),o=a(2).toImmutable,c=a(642);function setLoggingEnabled(t,r){return t.set("loggingEnabled",r.enabled)}t.exports=i.Store({getInitialState:function getInitialState(){return o({loggingEnabled:!1})},initialize:function initialize(){this.on(c.P13N_EDITOR_SET_LOGGING_ENABLED,setLoggingEnabled)}})},function(t,r,a){var i=a(25),o=a(2).toImmutable,c=a(642);function registerProtocolForUrl(t,r){return t.set(r.url,r.protocol)}function unregisterProtocolForUrl(t,r){return t.delete(r.url)}t.exports=i.Store({getInitialState:function getInitialState(){return o({})},initialize:function initialize(){this.on(c.P13N_EDITOR_IFRAME_REGISTER_PROTOCOL_FOR_URL,registerProtocolForUrl),this.on(c.P13N_EDITOR_IFRAME_UNREGISTER_PROTOCOL_FOR_URL,unregisterProtocolForUrl)}})},function(t,r,a){"use strict";var i=a(2343),o=a.n(i);r.a={"p13n/editorIframeMocks":o.a}},function(t,r,a){var i=a(25),o=a(2).toImmutable,c=a(4),l=a(301),u=a(2757),d=a(642);t.exports=i.Store({getInitialState:function getInitialState(){return o({viewElementInfo:{},iframes:{}})},initialize:function initialize(){this.on(u.P13N_EDITOR_IFRAME_MOCKS_ADD,addMock),this.on(u.P13N_EDITOR_IFRAME_MOCKS_SET_VIEW_ELEMENT_INFO,setElementInfo),this.on(u.P13N_EDITOR_IFRAME_MOCKS_APPLY_CHANGES,setChanges),this.on(u.P13N_EDITOR_IFRAME_MOCKS_LOG_ACTION,logAction),this.on(d.P13N_EDITOR_IFRAME_REMOVE_IFRAME,removeIFrame),this.on(d.P13N_EDITOR_IFRAME_HIGHLIGHT_ELEMENT,highlightElement),this.on(d.P13N_EDITOR_IFRAME_UNHIGHLIGHT_ELEMENT,unhighlightElement),this.on(d.P13N_EDITOR_IFRAME_UNHIGHLIGHT_ALL_ELEMENTS,unhighlightAllElements)}});var p=o({id:null,actionLog:[],elementInfo:{},loadedUrl:null,changes:[],highlightedElements:[],width:"100%",selectedDevice:l.Sizes.full,isLandscapeMode:!1});function setElementInfo(t,r){return t.withMutations((function(t){c.each(r,(function(r,a){t.setIn(["viewElementInfo",Number(a)],o(r).toList())}))}))}function setChanges(t,r){var a=o(r.changes);return t.setIn(["iframes",r.iframeId,"changes"],a)}function addMock(t,r){return t.setIn(["iframes",r.iframeId],p)}function logAction(t,r){return t.updateIn(["iframes",r.iframeId,"actionLog"],(function(t){return t.push(o(r.action))}))}function removeIFrame(t,r){return t.deleteIn(["iframes",r.id])}function highlightElement(t,r){return isMockedIframe(t,r.id)?t.updateIn(["iframes",r.id,"highlightedElements"],(function(t){return t.findIndex((function(t){return t.selector===r.selector&&t.type===r.type}))>-1?t.push(o({selector:r.selector,type:r.type})):t})):t}function unhighlightElement(t,r){return isMockedIframe(t,r.id)?t.updateIn(["iframes",r.id,"highlightedElements"],(function(t){var a=t.findIndex((function(t){return t.selector===r.selector&&t.type===r.type}));return a>-1?t.delete(a):t})):t}function unhighlightAllElements(t,r){return isMockedIframe(t,r.id)?t.setIn(["iframes",r.id,"highlightedElements"],o([])):t}function isMockedIframe(t,r){return t.hasIn(["iframes",r])}},function(t,r,a){"use strict";var i=a(2345);r.a={"p13n/holdbackSelector":i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(423),u=a(2346),d=function setLayerHoldback(t,r){return t.set("holdback",r.holdback)},p=function setLayerHoldbackInvalid(t,r){return t.set("invalid",r.invalid)};r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({holdback:u.a.DEFAULT_HOLDBACK,invalid:!1})},initialize:function initialize(){this.on(l.a.P13N_SET_LAYER_HOLDBACK,d),this.on(l.a.P13N_SET_LAYER_HOLDBACK_INVALID,p)}})},function(t,r,a){"use strict";r.a={DEFAULT_HOLDBACK:500}},function(t,r,a){"use strict";var i=a(2348);r.a={"p13n/layerSettings":i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(521),u=function setLayerDescription(t,r){return t.set("description",r.description)},d=function setLayerName(t,r){return t.set("name",r.name)};r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({description:"",name:""})},initialize:function initialize(){this.on(l.a.P13N_SET_LAYER_DESCRIPTION,u),this.on(l.a.P13N_SET_LAYER_NAME,d)}})},function(t,r,a){"use strict";var i=a(2350);r.a={metricsManager:i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(434),l={currentlyEditingMetricWrapper:null,outlierFilter:a(516).a.OUTLIER_FILTER_DEFAULT_STATE,workingMetricWrappers:[]};function setCurrentlyEditingMetricWrapper(t,r){return t.set("currentlyEditingMetricWrapper",r.metricWrapper)}function updateOutlierFilter(t,r){return t.set("outlierFilter",r.outlierFilter)}function updateWorkingMetricWrappers(t,r){return t.set("workingMetricWrappers",r.metricWrappers)}function resetWorkingMetricWrappers(t){return t.set("workingMetricWrappers",Object(o.toImmutable)([]))}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)(l)},initialize:function initialize(){this.on(c.a.METRIC_EDITOR_SET_CURRENTLY_EDITING_METRIC_WRAPPER,setCurrentlyEditingMetricWrapper),this.on(c.a.METRICS_MANAGER_UPDATE_OUTLIER_FILTER,updateOutlierFilter),this.on(c.a.METRICS_MANAGER_UPDATE_WORKING_METRIC_WRAPPERS,updateWorkingMetricWrappers),this.on(c.a.METRICS_MANAGER_RESET_WORKING_METRIC_WRAPPERS,resetWorkingMetricWrappers)}})},function(t,r,a){"use strict";var i=a(2352),o=a.n(i);r.a={"p13n/campaignOverview/sidebar/publishStatus":o.a}},function(t,r,a){var i=a(25),o=a(2).toImmutable,c=a(1954);function startPausing(t,r){return t.setIn([r.layerId,"isInProcessOfPausing"],!0)}function startPublishing(t,r){return t.setIn([r.layerId,"isInProcessOfPublishing"],!0).setIn([r.layerId,"isInProcessOfFirstPublish"],r.isFirstPublish)}function startStarting(t,r){return t.setIn([r.layerId,"isInProcessOfStarting"],!0)}function finishPausing(t,r){return t.setIn([r.layerId,"isInProcessOfPausing"],!1)}function finishPublishing(t,r){return t.setIn([r.layerId,"isInProcessOfPublishing"],!1).setIn([r.layerId,"isInProcessOfFirstPublish"],!1)}function finishStarting(t,r){return t.setIn([r.layerId,"isInProcessOfStarting"],!1)}t.exports=i.Store({getInitialState:function getInitialState(){return o({})},initialize:function initialize(){this.on(c.START_PAUSING,startPausing),this.on(c.START_PUBLISHING,startPublishing),this.on(c.START_STARTING,startStarting),this.on(c.FINISH_PAUSING,finishPausing),this.on(c.FINISH_PUBLISHING,finishPublishing),this.on(c.FINISH_STARTING,finishStarting)}})},function(t,r,a){"use strict";var i=a(2354),o=a(2355);r.a={"p13n/resultsApi":i.a,"p13n/resultsApiStub":o.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(294);function setDateNow(t,r){return t.set("now",r.dateNow)}function addXHR(t,r){return t.set("xhrs",t.get("xhrs").push(r.xhr))}function clearXHRs(t){return t.get("xhrs").forEach((function(t){4!==t.readyState&&t.abort()})),t.set("xhrs",Object(c.toImmutable)([]))}function setTraceId(t,r){return t.set("traceId",r.traceId)}r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({now:null,xhrs:Object(c.toImmutable)([]),traceId:null})},initialize:function initialize(){this.on(l.a.RESULTS_API_ADD_XHR,addXHR),this.on(l.a.RESULTS_API_CLEAR_XHRS,clearXHRs),this.on(l.a.RESULTS_API_SET_DATE_NOW,setDateNow),this.on(l.a.RESULTS_API_SET_TRACE_ID,setTraceId)}})},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(294),u=Object(c.toImmutable)({now:{},timerange:{}});function stubDateNow(t,r){return t.set("now",r.now)}r.a=o.a.Store({getInitialState:function getInitialState(){return u},initialize:function initialize(){this.on(l.a.RESULTS_API_STUB_DATE_NOW,stubDateNow)}})},function(t,r,a){"use strict";var i=a(2357);r.a={segmentDisplayStore:i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(983),u=function setAndOrSegmentCondition(t,r){return t.set("andOrSegmentCondition",r.andOrSegmentCondition)},d=function setSegments(t,r){return t.set("segments",r.segments)},p=function reset(t){return t.set("segments",Object(c.toImmutable)([])).set("andOrSegmentCondition",null)};r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({andOrSegmentCondition:null,segments:[]})},initialize:function initialize(){this.on(l.a.SEGMENT_DISPLAY_RESET,p),this.on(l.a.SEGMENT_DISPLAY_SET_AND_OR_CONDITION,u),this.on(l.a.SEGMENT_DISPLAY_SET_SEGMENTS,d)}})},function(t,r,a){"use strict";var i=a(2359);r.a={track_clicks_change:i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(847),u={selector:null,viewId:null,eventId:null,name:"",enabled:!1};function setClickEvent(t,r){return t.merge(r)}r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)(u)},initialize:function initialize(){this.on(l.a.TRACK_CLICKS_SET_EVENT,setClickEvent)}})},function(t,r,a){"use strict";a.d(r,"a",(function(){return initalize}));var i=a(3),o=a(2361),c=a(2363),l=a(2365);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var u=_extends({},o.a,c.a,l.a);function initalize(){i.default.registerStores(u)}},function(t,r,a){"use strict";var i=a(2362);r.a={browserHistory:i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(528);function pushState(t,r){var a=t.get("historyStack").push(Object(c.toImmutable)({url:r.url}));return t.set("historyStack",a)}function popPreviousState(t){var r=t.get("historyStack");return r.size>0&&(r=r.pop()),t.set("historyStack",r)}function replaceState(t,r){var a=t.get("historyStack").butLast();return t.set("historyStack",a.push(Object(c.toImmutable)({url:r.url})))}r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({historyStack:[]})},initialize:function initialize(){this.on(l.a.BROWSER_HISTORY_PUSH_STATE,pushState),this.on(l.a.BROWSER_HISTORY_POP_PREVIOUS_STATE,popPreviousState),this.on(l.a.BROWSER_HISTORY_REPLACE_STATE,replaceState)}})},function(t,r,a){"use strict";var i=a(2364);r.a={loading:i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(297);function entityLoadingStopped(t,r){return t.setIn(["entitiesLoading",r.entity],Object(o.toImmutable)({}))}function startEntityLoading(t,r){if(r.data&&r.data.id){var a=r.entity,i=r.data.id;t.getIn(["entitiesLoading",a])||(t=t.setIn(["entitiesLoading",a],Object(o.toImmutable)({}))),t=t.setIn(["entitiesLoading",a,i],!0)}return t}function stopEntityLoading(t,r){if(r.data&&r.data.id){var a=r.entity,i=r.data.id;t=t.deleteIn(["entitiesLoading",a,i])}return t}function startLoading(t,r){return t.setIn(["loading",r.id],!0)}function stopLoading(t,r){return t.setIn(["loading",r.id],!1)}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({loading:{},entitiesLoading:{}})},initialize:function initialize(){this.on(c.a.LOADING_START,startLoading),this.on(c.a.LOADING_FINISH,stopLoading),this.on(c.a.ENTITY_LOADING_START,startEntityLoading),this.on(c.a.ENTITY_LOADING_FINISH,stopEntityLoading),this.on(c.a.API_ENTITY_PERSIST_START,startEntityLoading),this.on(c.a.API_ENTITY_PERSIST_SUCCESS,stopEntityLoading),this.on(c.a.API_ENTITY_PERSIST_FAIL,stopEntityLoading),this.on(c.a.CLEAR_ALL_ENTITY_LOADING,entityLoadingStopped)}})},function(t,r,a){"use strict";var i=a(2366),o=a(2367);r.a={uiComponents:i.a,uiRegions:o.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(119);function registerGlobalComponent(t,r){return t.setIn(["globalComponents",r.id],r.instance)}function registerRootVM(t,r){return t.set("rootVM",r.vm)}function resetRootVM(t){return t.set("rootVM",null).set("globalComponents",Object(c.toImmutable)({}))}r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({rootVM:null,globalComponents:{}})},initialize:function initialize(){this.on(l.a.REGISTER_GLOBAL_COMPONENT,registerGlobalComponent),this.on(l.a.REGISTER_ROOT_VM,registerRootVM),this.on(l.a.RESET_ROOT_VM,resetRootVM)}})},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(119);function registerRegion(t,r){return t.set(r.regionId,c.default.Map({navigationController:r.navigationController}))}function registerComponent(t,r){return t.mergeIn([r.regionId],c.default.Map({componentId:r.componentId,component:r.component}))}function unregisterComponent(t,r){return t.mergeIn([r.regionId],c.default.Map({componentId:null,component:null}))}function queueComponent(t,r){var a=c.default.Map({component:r.component,componentId:r.componentId});return t.setIn(["componentsToMount",r.regionId],a)}function unqueueComponent(t,r){return t.setIn(["componentsToMount",r.regionId],null)}function unregisterRegion(t,r){return t.remove(r.regionId)}r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({})},initialize:function initialize(){this.on(l.a.REGISTER_COMPONENT,registerComponent),this.on(l.a.UNREGISTER_COMPONENT,unregisterComponent),this.on(l.a.REGISTER_REGION,registerRegion),this.on(l.a.UNREGISTER_REGION,unregisterRegion),this.on(l.a.QUEUE_REGION_COMPONENT,queueComponent),this.on(l.a.UNQUEUE_REGION_COMPONENT,unqueueComponent)}})},function(t,r,a){"use strict";a.d(r,"a",(function(){return initialize}));var i=a(3),o=a(2369),c=a(2371),l=a(2373),u=a(2375),d=a(2382),p=a(2384),m=a(2386),g=a(2388),h=a(2390),y=a(2392),v=a(2394),_=a(2396),E=a(2399),b=a(2401),T=a(2407),S=a(2409),C=a(2411),I=a(2413),A=a(2415),O=a(2417),P=a(2419),R=a(2421),w=a(2423);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var N=_extends({},o.a,c.a,l.a,u.a,d.a,p.a,m.a,g.a,h.a,y.a,v.a,_.a,E.a,b.a,T.a,S.a,C.a,I.a,A.a,O.a,P.a,R.a,w.a);function initialize(){i.default.registerStores(N)}},function(t,r,a){"use strict";var i=a(2370);r.a={accountInfo:i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(382),l=a(711),u={accountId:null,backendApiToken:null,email:null,uniqueUserId:null,experimentsTotal:0,featureConfigs:Object(o.toImmutable)({}),featureLimits:{},firstName:null,lastName:null,maxProjects:-1,userLocale:c.DEFAULT_LOCALE,userProfileImage:null,isSignedIn:!1,isAdmin:!1,permissions:{userPermissions:[],accountPermissions:[]},userAccounts:null};function loadAccountInfo(t,r){return t.withMutations((function(t){var a=r.accountInfo.subscription,i=[];a&&a.product_ids&&(i=a.product_ids);var c=null,l=null,u=!1;if(a){u=a.in_trial||"expired_trial"===a.status;var d=a.plan&&"free_enterprise_trial_x"===a.plan.plan_id;a.in_trial&&!d?c=a.free_trial_days_remaining:"expired_trial"===a.status&&(c=0),l=a.currency}var p=null;return a&&a.turnstile_instance_id&&(p=a.turnstile_instance_id),t.set("accountId",r.accountInfo.account_id).set("allowsSso",r.accountInfo.allows_sso).set("backendApiToken",r.accountInfo.backend_api_token).set("companyName",r.accountInfo.company_name).set("email",r.accountInfo.email).set("uniqueUserId",r.accountInfo.unique_user_id).set("frozen",r.accountInfo.frozen).set("isFreezable",r.accountInfo.is_freezable).set("featureConfigs",Object(o.toImmutable)(r.accountInfo.feature_configs)).set("featureLimits",r.accountInfo.feature_limits).set("firstName",r.accountInfo.first_name).set("lastName",r.accountInfo.last_name).set("maxProjects",r.accountInfo.max_projects).set("userLocale",r.accountInfo.user_locale).set("userProfileImage",r.accountInfo.user_profile_image).set("isAdmin",r.accountInfo.is_admin).set("isMasterAccount",r.accountInfo.is_master_account).set("isUserAdmin",r.accountInfo.is_user_admin).set("planId",r.accountInfo.plan_id).set("planDisplayName",r.accountInfo.plan_display_name).set("userAccounts",Object(o.toImmutable)(r.accountInfo.user_accounts)).set("isSignedIn",!!r.accountInfo.account_id).set("permissions",r.accountInfo.permissions).set("currency",l).set("isTrialSubscription",u).set("isSubscribed",r.accountInfo.subscribed).set("trialDaysLeft",c).set("productIds",i).set("turnstileInstanceId",p)}))}function updateIsAdmin(t,r){return t.set("isAdmin",r.isAdmin)}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)(u)},initialize:function initialize(){this.on(l.a.ACCOUNT_INFO_LOADED,loadAccountInfo),this.on(l.a.ACCOUNT_UPDATE_IS_ADMIN,updateIsAdmin)}})},function(t,r,a){"use strict";var i=a(2372);r.a={auth:i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(322),l=a(345);function setTOTPCode(t,r){return t.set("totpCode",r.totpCode)}function setPassword(t,r){return t.set("password",r.password)}function setEmail(t,r){return t.set("email",r.email)}function setCSRFToken(t,r){return t.get("lastSuccessfulAuth")?t.setIn(["lastSuccessfulAuth","csrf_token"],r.csrfToken):Object(o.toImmutable)({lastSuccessfulAuth:{csrf_token:r.csrfToken}})}function setLastSuccessfulAuth(t,r){return t.set("lastSuccessfulAuth",r.data)}function setNextState(t,r){return t.set("nextState",r.nextState)}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({totpCode:null,password:null,email:null,lastSuccessfulAuth:null,nextState:l.a.EMAIL_PASSWORD_VERIFIED})},initialize:function initialize(){this.on(c.a.SET_TOTP_CODE,setTOTPCode),this.on(c.a.SET_PASSWORD,setPassword),this.on(c.a.SET_EMAIL,setEmail),this.on(c.a.SET_CSRF_TOKEN,setCSRFToken),this.on(c.a.SET_LAST_SUCCESSFUL_AUTH,setLastSuccessfulAuth),this.on(c.a.SET_NEXT_STATE,setNextState)}})},function(t,r,a){"use strict";var i=a(2374);r.a={currentProjectId:i.a}},function(t,r,a){"use strict";var i=a(25),o=a(968);function setId(t,r){return r.id}r.a=Object(i.Store)({getInitialState:function getInitialState(){return null},initialize:function initialize(){this.on(o.a.CHANGE_CURRENT_PROJECT_ID,setId)}})},function(t,r,a){"use strict";var i=a(2376),o=a(2378),c=a(2379),l=a(2380),u=a(2381);r.a={activityFilters:i.a,labsData:o.a,selectedItems:c.a,tableFilters:l.a,tabs:u.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(2377),l=a.n(c),u=a(84),d={$offset:0,$order:"created:desc",$limit:20,category:["experiment","project_visible","variation","goal"]};function addFilter(t,r,a){return t.setIn(["filters",r],a).setIn(["filters","$offset"],0).set("resultsLength",null)}function setNextPageFilter(t,r){return r.offset?t.setIn(["filters","$offset"],r.offset):t.set("filters",Object(o.toImmutable)(l.a.getNextPageFilters(t.get("filters").toJS())))}function setPageResultsLength(t,r){return t.set("resultsLength",r.length)}function selectActivityFilter(t,r){return r.filterValue?addFilter(t,r.filterKey,r.filterValue):function removeFilter(t,r){return t.withMutations((function(t){t.deleteIn(["filters",r]),t.setIn(["filters","$offset"],0),t.set("resultsLength",null)}))}(t,r.filterKey)}function resetFilters(t,r){return r.id?addFilter(t=t.set("filters",Object(o.toImmutable)(d)),"project_id",r.id):t}function setTestParameters(t,r){return t.setIn(["filters","$limit"],r.limit)}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({resultsLength:null,filters:d})},initialize:function initialize(){this.on(u.a.DASHBOARD_SET_NEXT_PAGE_ACTIVITY_FILTER,setNextPageFilter),this.on(u.a.DASHBOARD_SET_ACTIVITY_PAGE_RESULTS_LENGTH,setPageResultsLength),this.on(u.a.DASHBOARD_SELECT_ACTIVITY_FILTER,selectActivityFilter),this.on(u.a.CHANGE_CURRENT_PROJECT_ID,resetFilters),this.on(u.a.DASHBOARD_SET_TEST_PARAMETERS,setTestParameters)}})},function(t,r,a){var i=a(75).default,o=function getRelativePageFilters(t,r){var a=i(t);if(!a.$limit)throw new Error("getPageFilter functions must supply a filter that contains a $limit value");var o=a.$offset||0;return a.$offset=o+a.$limit*r,a};t.exports={getNextPageFilters:function getNextPageFilters(t){return o(t,1)},getPreviousPageFilters:function getPreviousPageFilters(t){return o(t,-1)},getSpecificPageFilters:function getSpecificPageFilters(t,r){var a=i(t);if(!a.$limit)throw new Error("getPageFilter functions must supply a filter that contains a $limit value");return a.$offset=r*a.$limit,a}}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(15),l=a(84);function setLabsData(t,r){return Object(o.toImmutable)(r.data)}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)([{id:2,name:tr("Executive Summary"),category:tr("Analytics"),sidebarComponent:"executive-summary-sidebar",permissionRequired:c.Features.EXECUTIVE_SUMMARY,allowedInFullStack:!1},{id:4,name:tr("Resave Project"),category:tr("Administration"),sidebarComponent:"resave-project-sidebar",requiresAdmin:!0,allowedInFullStack:!0},{id:5,name:tr("Content Security Policy"),category:tr("Administration"),sidebarComponent:"csp-sidebar",permissionRequired:c.Features.CSP_SUPPORT,allowedInFullStack:!1},{id:6,name:tr("Optimizely Apps"),category:tr("Productivity"),sidebarComponent:"apps-sidebar",permissionRequired:c.Features.APPS_TAB,allowedInFullStack:!1},{id:7,name:tr("Archived Goals Setting"),category:tr("Administration"),sidebarComponent:"exclude-inactive-goals-sidebar",allowedInFullStack:!1},{id:8,name:tr("Recommendation Settings"),category:tr("Machine Learning"),sidebarComponent:"recommender-settings-sidebar",permissionRequired:c.Features.RECOMMENDER,requiresAdmin:!1,allowedInFullStack:!1},{id:9,name:tr("Editor Protocol Preferences"),category:tr("Administration"),sidebarComponent:"editor-proxy-settings-sidebar",requiresAdmin:!0,allowedInFullStack:!1}])},initialize:function initialize(){this.on(l.a.DASHBOARD_SET_LABS_DATA,setLabsData)}})},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(84);function selectItem(t,r){var a=r.category,i=r.itemId,c=r.multiple;return t.getIn(["selectedItems",a])&&c?t.updateIn(["selectedItems",a],(function(t){return t.push(i)})):t.setIn(["selectedItems",a],Object(o.toImmutable)([i]))}function deselectItem(t,r){var a=r.category,i=r.itemId;return t.getIn(["selectedItems",a])?t.updateIn(["selectedItems",a],(function(t){var r=t.indexOf(i);return r>-1?t.delete(r):t})):t}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({selectedItems:{experiments:[],audiences:[],activities:[],dimensions:[],groups:[],integrations:[],collaborators:[],projects:[],labs:[]}})},initialize:function initialize(){this.on(c.a.DASHBOARD_SELECT_TABLE_ITEM,selectItem),this.on(c.a.DASHBOARD_DESELECT_TABLE_ITEM,deselectItem)}})},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(4),l=a.n(c),u=a(84),d=a(388);function resetFilters(t,r){var a=r.category;return t.setIn(["tableFilters",a],Object(o.toImmutable)(d.a.FILTER_DEFAULTS[a]))}function setFilters(t,r){var a=r.category,i=function validateFilters(t,r){switch(t){case"experiments":r.statusString&&(r.status=d.a.EXPERIMENT_STATUS_FILTERS[r.statusString],r.status||(r.statusString=d.a.DEFAULT_EXPERIMENT_STATUS_FILTER,r.status=d.a.EXPERIMENT_STATUS_FILTERS[d.a.DEFAULT_EXPERIMENT_STATUS_FILTER]))}return r}(a,r.filters),c=t.getIn(["tableFilters",a]);c=c?c.toJS():{};var u=l.a.extend({},c,i);return t.setIn(["tableFilters",a],Object(o.toImmutable)(u))}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({tableFilters:d.a.FILTER_DEFAULTS})},initialize:function initialize(){this.on(u.a.DASHBOARD_SET_TABLE_FILTERS,setFilters),this.on(u.a.DASHBOARD_RESET_TABLE_FILTERS,resetFilters)}})},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(84);function switchMainTab(t,r){return t.get("activeTab")!==r.tabId?t.withMutations((function(t){t.set("activeTab",r.tabId),t.set("activeSubTab",null)})):t}function switchSubTab(t,r){return t.get("activeSubTab")!==r.tabId?t.set("activeSubTab",r.tabId):t}function switchCanvasIntegration(t,r){return t.set("activeCanvasIntegration",r.integrationId)}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({activeTab:null,activeSubTab:null,activeCanvasIntegration:null})},initialize:function initialize(){this.on(c.a.DASHBOARD_SWITCH_MAIN_TAB,switchMainTab),this.on(c.a.DASHBOARD_SWITCH_SUB_TAB,switchSubTab),this.on(c.a.DASHBOARD_SWITCH_CANVAS_INTEGRATION,switchCanvasIntegration)}})},function(t,r,a){"use strict";var i=a(2383);r.a={filterableTable:i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(533),l=Object(o.toImmutable)({string:""});function setFilterDefault(t,r){return(t=t.setIn(["defaults",r.tableId],Object(o.toImmutable)(r.filter))).getIn(["filters",r.tableId])||(t=t.setIn(["filters",r.tableId],Object(o.toImmutable)(r.filter))),t}function resetFilter(t,r){var a=t.getIn(["defaults",r.tableId])||l;return t.setIn(["filters",r.tableId],a)}function setFilter(t,r){var a=t.getIn(["filters",r.tableId],Object(o.toImmutable)({})).merge(Object(o.toImmutable)(r.filter));return t.setIn(["filters",r.tableId],a)}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({defaultFilter:l,defaults:{},filters:{}})},initialize:function initialize(){this.on(c.a.FILTERABLE_TABLE_RESET_FILTER,resetFilter),this.on(c.a.FILTERABLE_TABLE_SET_FILTER,setFilter),this.on(c.a.FILTERABLE_TABLE_SET_FILTER_DEFAULT,setFilterDefault)}})},function(t,r,a){"use strict";var i=a(2385);r.a={link:i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(4),l=a.n(c),u=a(984);function deleteComponent(t,r){return t.delete(r.id)}function registerComponent(t,r){if(!l.a.isUndefined(t.getIn([r.id])))throw new Error("Attempted to register component under an already active flux id");return t.set(r.id,Object(o.toImmutable)(r.initialState))}function setLinkState(t,r){if(!l.a.isUndefined(t.get(r.id)))return t.set(r.id,Object(o.toImmutable)(r.value));throw new Error("Attempted to set non-existent id:",r.id)}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({})},initialize:function initialize(){this.on(u.a.LINK_REGISTER,registerComponent),this.on(u.a.LINK_SET,setLinkState),this.on(u.a.LINK_DELETE,deleteComponent)}})},function(t,r,a){"use strict";var i=a(2387);r.a={jiraIntegration:i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(715);function setUserConnected(t,r){return t.set("userConnected",r)}function setRecentIssues(t,r){return t.set("recentIssues",r)}r.a=o.a.Store({getInitialState:function getInitialState(){return c.default.Map({userConnected:!1,recentIssues:[]})},initialize:function initialize(){this.on(l.a.SET_USER_CONNECTED,setUserConnected),this.on(l.a.SET_RECENT_ISSUES,setRecentIssues)}})},function(t,r,a){"use strict";var i=a(2389);r.a={localStorageMeta:i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(348);function addLocalStorageMetaItem(t,r){var a=r.key,i=r.size,c=r.dateModified;if(!a||void 0===i||!c)throw Error("Parameter missing to set item in local storage meta store");var l={dateModified:c,size:i};return t.setIn(["entries",a],Object(o.toImmutable)(l)).update("lruKeyList",(function(t){return t.filter((function(t){return t!==a})).push(a)}))}function removeLocalStorageMetaItem(t,r){var a=r.key;if(!a)throw Error("Undefined key to remove from LocalStorage");return t.removeIn(["entries",a]).update("lruKeyList",(function(t){return t.filter((function(t){return t!==a}))}))}function updateLocalStorageMetaItem(t,r){var a=r.key,i=r.dateModified;if(!a||!i)throw Error("Parameter missing to update local storage meta store");return t.setIn(["entries",a,"dateModified"],r.dateModified).update("lruKeyList",(function(t){return t.filter((function(t){return t!==a})).push(a)}))}function clearLocalStorageMetaStore(t){return t.set("entries",Object(o.toImmutable)({})).set("lruKeyList",Object(o.toImmutable)([]))}function loadLocalStorageMetaItem(t,r){var a=r.entries||{},i=r.lruKeyList||[];return t.set("entries",Object(o.toImmutable)(a)).set("lruKeyList",Object(o.toImmutable)(i))}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({entries:{},lruKeyList:[]})},initialize:function initialize(){this.on(c.a.LOCAL_STORAGE_META_LOAD_STORE,loadLocalStorageMetaItem),this.on(c.a.LOCAL_STORAGE_META_ADD_ITEM,addLocalStorageMetaItem),this.on(c.a.LOCAL_STORAGE_META_REMOVE_ITEM,removeLocalStorageMetaItem),this.on(c.a.LOCAL_STORAGE_META_UPDATE_ITEM,updateLocalStorageMetaItem),this.on(c.a.LOCAL_STORAGE_META_CLEAR_STORE,clearLocalStorageMetaStore)}})},function(t,r,a){"use strict";var i=a(2391);r.a={optimizelyChampagne:i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(619);function setJSSDKLabState(t,r){return t.setIn(["reactSDKUserState"],r)}function setUserIdForFeature(t,r){var a=r.feature,i=r.userId;return t.setIn(["featureToUserId",a],i)}function removeUserIdForFeature(t,r){var a=r.feature;return t.deleteIn(["featureToUserId",a])}r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({featureToUserId:{},reactSDKUserState:null})},initialize:function initialize(){this.on(l.a.SET_REACT_SDK_USER_STATE,setJSSDKLabState),this.on(l.a.SET_USER_ID_FOR_FEATURE,setUserIdForFeature),this.on(l.a.REMOVE_USER_ID_FOR_FEATURE,removeUserIdForFeature)}})},function(t,r,a){"use strict";var i=a(2393);r.a={pageable:i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(716);function saveCurrentPage(t,r){var a=r.id,i=r.currentPage;return t.set(a,Object(c.toImmutable)({currentPage:i}))}function resetCurrentPage(t,r){var a=r.id;return t.delete(a)}r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({})},initialize:function initialize(){this.on(l.a.PAGEABLE_SAVE_CURRENT_PAGE,saveCurrentPage),this.on(l.a.PAGEABLE_RESET_CURRENT_PAGE,resetCurrentPage)}})},function(t,r,a){"use strict";var i=a(2395);r.a={performanceTracking:i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(512),l=a.n(c),u=a(432);function trackRouteComplete(t){return t.set("routesCompleted",t.get("routesCompleted")+1)}function setFrontendRenderStartTime(t){return t.set("frontendRenderStartTime",l.a.getNow())}function setRouteStartTime(t){return t.set("routeStartTime",l.a.getNow())}function trackVisualRoutesChanged(t){return t.set("visualRoutesChanged",t.get("visualRoutesChanged")+1)}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({routesCompleted:0,visualRoutesChanged:0})},initialize:function initialize(){this.on(u.a.PERFORMANCE_TRACKING_ROUTE_COMPLETE,trackRouteComplete),this.on(u.a.PERFORMANCE_TRACKING_SET_FRONTEND_RENDER_START_TIME,setFrontendRenderStartTime),this.on(u.a.PERFORMANCE_TRACKING_SET_ROUTE_START_TIME,setRouteStartTime),this.on(u.a.PERFORMANCE_TRACKING_VISUAL_ROUTES_CHANGED,trackVisualRoutesChanged)}})},function(t,r,a){"use strict";var i=a(2397);r.a={pricingInfo:i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(2398);function storePricingInfo(t,r){return t.set("countries",r.pricingInfo.countries).set("countries_requiring_vat_number",r.pricingInfo.countries_requiring_vat_number)}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({})},initialize:function initialize(){this.on(c.a.PRICING_INFO_LOADED,storePricingInfo)}})},function(t,r,a){"use strict";var i=a(17),o=a.n(i);r.a=o()({PRICING_INFO_LOADED:null})},function(t,r,a){"use strict";var i=a(2400);r.a={"p13n/profileDetails":i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(529);function setIsFirstSignin(t,r){var a=r.isFirstSignin;return t.set("isFirstSignin",a)}function setIsDialogVisible(t,r){var a=r.visible;return t.set("isDialogVisible",a)}function performInitialCompletionCheck(t,r){var a=r.requiredInfoWasSupplied;return t.set("requiredInfoWasSupplied",a)}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({isDialogVisible:!1,isFirstSignin:!1,requiredInfoWasSupplied:!0})},initialize:function initialize(){this.on(c.a.SET_IS_FIRST_SIGNIN,setIsFirstSignin),this.on(c.a.SET_IS_DIALOG_VISIBLE,setIsDialogVisible),this.on(c.a.CHECK_PROFILE_DETAILS,performInitialCompletionCheck)}})},function(t,r,a){"use strict";var i=a(2402),o=a(2403),c=a(2404),l=a(2405),u=a(2406);r.a={apiLocalCache:i.a,apiRequestCache:o.a,apiRequestInProgress:c.a,apiStubs:l.a,entityCache:u.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(78);function setLocalCacheEntity(t,r){var a=r.entity;if(t.get(a))throw new Error("Already caching: ".concat(a));return t.set(a,o.default.Map({entity:a,unwatchFn:r.unwatchFn,localStorageKey:r.localStorageKey,hasData:r.hasData}))}function removeLocalCacheEntity(t,r){return t.delete(r.entity)}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({})},initialize:function initialize(){this.on(c.a.API_ADD_LOCAL_CACHE_ENTITY,setLocalCacheEntity),this.on(c.a.API_REMOVE_LOCAL_CACHE_ENTITY,removeLocalCacheEntity)}})},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(2),l=a(25),u=a(344),d=a(78),p=a(234);function resetByEntity(t,r){return t.filter((function(t,a){return a.get("entity")!==r.entity}))}function cacheFetchSuccess(t,r){var a=r.fetchTimestamp||u.a.getCurrentDateTimeAsISOString(),i=c.default.fromJS({fetchTimestamp:a,responseHeaders:r.responseHeaders});return t.withMutations((function(t){o.a.isArray(r.data)&&r.data.forEach((function(a){var o=p.a.createSingleFetchRequestInfo({id:a.id,entity:r.requestInfo.get("entity")});t.set(o,i)})),t.set(r.requestInfo,i)}))}function cacheRequestObjects(t,r){return t.withMutations((function(t){var a=r.fetchTimestamp||u.a.getCurrentDateTimeAsISOString(),i=c.default.fromJS({fetchTimestamp:a,responseHeaders:r.responseHeaders});o.a.isArray(r.requestsToCache)&&r.requestsToCache.forEach((function(r){t.set(r,i)}))}))}r.a=Object(l.Store)({initialize:function initialize(){this.on(d.a.API_ENTITY_FETCH_SUCCESS,cacheFetchSuccess),this.on(d.a.API_CACHE_REQUESTS,cacheRequestObjects),this.on(d.a.FLUSH_ENTITY_STORE,resetByEntity),this.on(d.a.FLUSH_SINGLE_API_ENTITY,resetByEntity)}})},function(t,r,a){"use strict";var i=a(25),o=a(78);function requestStarted(t,r){return r.requestInfo?t.set(r.requestInfo,r.deferred):t}function requestFinished(t,r){return r.requestInfo?t.remove(r.requestInfo):t}r.a=Object(i.Store)({initialize:function initialize(){this.on(o.a.API_ENTITY_FETCH_START,requestStarted),this.on(o.a.API_ENTITY_FETCH_SUCCESS,requestFinished),this.on(o.a.API_ENTITY_FETCH_FAIL,requestFinished)}})},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(78),l=a(138),u={};function apiStubUpdateEntity(t,r){return t.setIn(["entityData",r.entity,r.instance.id],Object(o.toImmutable)(r.instance))}function stubEntities(t,r){var a=t.get("entityData").withMutations((function(t){Object.keys(r).forEach((function(a){var i=r[a];t.has(a)?console.warn("Stubbing entity ".concat(a," which is already stubbed")):t.set(a,Object(o.toImmutable)({})),i.forEach((function(r){t.setIn([a,r.id],Object(o.toImmutable)(r))}))}))}));return t.set("entityData",a)}function stubAll(t,r){return t.set("stubAll",!0)}function setStubTimeout(t,r){return t.set("timeouts",r.timeouts)}function restoreEntityStub(t,r){if(r.entity)return t.deleteIn(["entityData",r.entity]);if(r.entities){var a=t;return r.entities.forEach((function(t){a=a.deleteIn(["entityData",t])})),a}}function restoreAllEntityStubs(t,r){return t.set("entityData",Object(o.toImmutable)({}))}u.default=null,u[l.a.DELETE]=null,u[l.a.FETCH]=null,u[l.a.FETCH_ALL]=null,u[l.a.FETCH_PAGE]=null,u[l.a.SAVE]=null,r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({entityData:{},stubAll:!1,timeouts:u})},initialize:function initialize(){this.on(c.a.API_STUB_UPDATE_ENTITY,apiStubUpdateEntity),this.on(c.a.API_STUB_ENTITIES,stubEntities),this.on(c.a.API_STUB_ALL,stubAll),this.on(c.a.SET_API_STUB_TIMEOUT,setStubTimeout),this.on(c.a.API_RESTORE_ENTITY_STUB,restoreEntityStub),this.on(c.a.API_RESTORE_ALL_ENTITY_STUBS,restoreAllEntityStubs)}})},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(78);function flushEntityStore(t,r){return t.delete(r.entity)}function loadEntityData(t,r){var a=r.entity,i=r.data;return Array.isArray(i)||(i=[i]),t.withMutations((function(t){i.forEach((function(r){t.setIn([a,r.id],Object(o.toImmutable)(r))}))}))}function loadEntityDataFromFetch(t,r){var a=t,i=r.entity,c=r.requestInfo,l=r.data;return c&&c.getIn(["requestArgs","$idsOnly"])?a:(c&&c.get("shouldClearCache")&&(a=a.set(i,Object(o.toImmutable)({}))),Array.isArray(l)||(l=[l]),a.withMutations((function(t){l.forEach((function(r){t.setIn([i,r.id],Object(o.toImmutable)(r))}))})))}function onDeleteSuccess(t,r){var a=r.entity,i=r.id;return t.removeIn([a,i])}function onFetchFail(t,r){return t}function onPersistFail(t,r){return t}function onDeleteFail(t,r){return t}r.a=Object(i.Store)({initialize:function initialize(){this.on(c.a.API_INJECT_ENTITY,loadEntityData),this.on(c.a.API_ENTITY_FETCH_SUCCESS,loadEntityDataFromFetch),this.on(c.a.API_ENTITY_FETCH_FAIL,onFetchFail),this.on(c.a.API_ENTITY_PERSIST_SUCCESS,loadEntityData),this.on(c.a.API_ENTITY_PERSIST_FAIL,onPersistFail),this.on(c.a.API_ENTITY_DELETE_SUCCESS,onDeleteSuccess),this.on(c.a.API_ENTITY_DELETE_FAIL,onDeleteFail),this.on(c.a.FLUSH_ENTITY_STORE,flushEntityStore)}})},function(t,r,a){"use strict";var i=a(2408);r.a={sortableTable:i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(4),l=a.n(c),u=a(102),d=a.n(u),p=a(534),m=a(690),g=a(985),h=d.a.ASC,y=d.a.DESC;function toggleField(t,r){var a=r.tableId,i=r.field,o=r.type,c=m.a.getDefaultSortDir(o),u={tableId:a,field:i,type:o,dir:c,sortMax:r.sortMax||2};if(!t.get(a))return _sort(t,u);var d=l.a.findIndex(t.getIn([a,"sortBy"]).toJS(),{field:i});if(-1!==d){var p=t.getIn([a,"sortBy",d,"dir"]);u.dir=0===d?p===h?y:h:c}return _sort(t,u)}function sortTable(t,r){return r.sortBy.map((function(t){var a=l.a.extend({tableId:r.tableId,sortMax:r.sortMax},t);return a.dir||(a.dir=m.a.getDefaultSortDir(a.type)),a})).reverse().forEach((function(r){t=_sort(t,r)})),t}function _sort(t,r){var a,i=r.tableId,c=r.field,u=r.type,d=r.sortMax||2,p=r.dir;t.get(i)?t=t.setIn([i,"sortMax"],d):(a={sortMax:d,sortBy:[]},t=t.set(i,Object(o.toImmutable)(a))),g.a[u]||(console.warn("No sort function for type: ".concat(u,", using string sort")),u="string"),a=t.get(i).toJS();var m=l.a.findIndex(a.sortBy,{field:c});if(0===m){if(p===a.sortBy[0].dir)return t;a.sortBy[0].dir=p}else-1!==m?a.sortBy.unshift(a.sortBy.splice(m,1)[0]):(a.sortBy.length>=a.sortMax&&a.sortBy.pop(),a.sortBy.unshift({field:c,type:u,dir:p}));return t.set(i,Object(o.toImmutable)(a))}function reset(t,r){return t.delete(r.tableId)}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({})},initialize:function initialize(){this.on(p.a.SORT_TABLE,sortTable),this.on(p.a.TOGGLE_SORT_TABLE_FIELD,toggleField),this.on(p.a.RESET_TABLE_SORTING,reset)}})},function(t,r,a){"use strict";var i=a(2410);r.a={helpCenter:i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(714);function setDirectToExternalSupportPortal(t,r){var a=r.directToExternalSupportPortal;return t.set("directToExternalSupportPortal",a)}function setShowSchedulePhoneCall(t,r){return t.set("showSchedulePhoneCall",{showSchedulePhoneCall:r})}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({directToExternalSupportPortal:!1,showSchedulePhoneCall:!1})},initialize:function initialize(){this.on(c.a.SUPPORT_SET_PORTAL_VERSION,setDirectToExternalSupportPortal),this.on(c.a.SUPPORT_SET_CALL_SCHEDULER_VISIBILITY,setShowSchedulePhoneCall)}})},function(t,r,a){"use strict";var i=a(2412);r.a={timezones:i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(1400);function setTimezones(t,r){return t.set("timezones",c.default.fromJS(r.timezones))}r.a=o.a.Store({getInitialState:function getInitialState(){return c.default.Map({timezones:c.default.List()})},initialize:function initialize(){this.on(l.a.SET_TIMEZONES,setTimezones)}})},function(t,r,a){"use strict";var i=a(2414);r.a={uiVersion:i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(708),l=a(342);function setActiveVersion(t,r){return t.set("activeVersion",r.version)}function setDeployedVersionId(t,r){return t.set("deployedVersionId",r.deployedVersionId)}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)({activeVersion:l.a.versions.UNKNOWN,deployedVersionId:null})},initialize:function initialize(){this.on(c.a.SET_ACTIVE_UI_VERSION,setActiveVersion),this.on(c.a.SET_DEPLOYED_VERSION_ID,setDeployedVersionId)}})},function(t,r,a){"use strict";var i=a(2416);r.a={verifier:i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(2),l=a(258);function addProjectRecord(t,r){return t.hasIn(["projectRecords",r.projectId])?t:t.setIn(["projectRecords",r.projectId],Object(c.toImmutable)({maxVerifiedRevision:0,isFetching:!1,versionRequests:{}}))}function addVersionRequest(t,r){return t.hasIn(["projectRecords",r.projectId])?t.setIn(["projectRecords",r.projectId,"versionRequests",r.version],{deferred:r.deferred}):t}function removeVersionRequest(t,r){return t.hasIn(["projectRecords",r.projectId])?t.deleteIn(["projectRecords",r.projectId,"versionRequests",r.version]):t}function fetchStart(t,r){return t.hasIn(["projectRecords",r.projectId])?t.updateIn(["projectRecords",r.projectId],(function(t){return t.merge({isFetching:!0})})):t}function fetchError(t,r){return t.hasIn(["projectRecords",r.projectId])?t.setIn(["projectRecords",r.projectId,"isFetching"],!1):t}function fetchSuccess(t,r){return t.hasIn(["projectRecords",r.projectId])?t.updateIn(["projectRecords",r.projectId],(function(t){return t.merge({maxVerifiedRevision:r.maxVerifiedRevision,isFetching:!1})})):t}r.a=o.a.Store({getInitialState:function getInitialState(){return Object(c.toImmutable)({projectRecords:{}})},initialize:function initialize(){this.on(l.a.VERIFIER_ADD_PROJECT_RECORD,addProjectRecord),this.on(l.a.VERIFIER_FETCH_START,fetchStart),this.on(l.a.VERIFIER_FETCH_ERROR,fetchError),this.on(l.a.VERIFIER_FETCH_SUCCESS,fetchSuccess),this.on(l.a.VERIFIER_ADD_VERSION_REQUEST,addVersionRequest),this.on(l.a.VERIFIER_REMOVE_VERSION_REQUEST,removeVersionRequest)}})},function(t,r,a){"use strict";var i=a(2418);r.a={experimentResults:i.a}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(25),l=a.n(c),u=a(2),d=a(424),p=a(203);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function saveVisitors(t,r){return t.withMutations((function(t){r.results.forEach((function(a){var i=a.id;t.get(i)||t.set(i,Object(u.toImmutable)({id:i,variations:[]})),t.setIn([i,"retrieval_timestamp"],r.timestamp).setIn([i,"cache_time"],a.cache_time).setIn([i,"visitors"],a.visitor_count)}))}))}function saveVisitorsBatch(t,r){return t.withMutations((function(t){Object.entries(r.results).forEach((function(r){var a=_slicedToArray(r,2),i=a[0],c=a[1],l=JSON.parse(c.body),d={},m=parseInt(i,10);Object.values(l).forEach((function(t){d[t.variation_id]=t.visitors}));var g=o.a.reduce(Object.values(d),(function(t,r){return t+r}));t.get(m)||t.set(m,Object(u.toImmutable)({id:m,variations:[]}));var h=o.a.groupBy(l,"goal_id");t.setIn([m,"cache_time"],c.headers.date).setIn([m,"conclusions"],function calculateConclusions(t){return o.a.mapValues(t,(function(t){var r={status:p.a.goal_status_type.INCONCLUSIVE,text:p.a.goal_status_type_text.INCONCLUSIVE,name:t[0].goal_name},a=o.a.filter(t,(function(t){return t.status!==p.a.goal_status_type.BASELINE}));if(a.length){var i=o.a.sortBy(a,["confidence","improvement"]).pop();i.status===p.a.goal_status_type.WINNER&&(r.status=p.a.goal_status_type.WINNER,r.text=p.a.goal_status_type_text.WINNER,r.variationName=i.variation_name,r.improvement=i.improvement),i.status===p.a.goal_status_type.LOSER&&(r.status=p.a.goal_status_type.LOSER,r.text=p.a.goal_status_type_text.LOSER,r.variationName=i.variation_name,r.improvement=i.improvement)}return r}))}(h)).setIn([m,"retrieval_timestamp"],c.headers.date).setIn([m,"visitors"],g)}))}))}function saveResults(t,r){var a=o.a.head(r.results).goal_id,i=r.results.filter((function(t){return t.goal_id===a})).reduce((function(t,r){return t+r.visitors}),0);return t.set(r.experiment_id,Object(u.toImmutable)({id:r.experiment_id,visitors:i,variations:r.results,retrieval_timestamp:r.timestamp}))}r.a=l.a.Store({getInitialState:function getInitialState(){return u.default.Map({})},initialize:function initialize(){this.on(d.a.EXPERIMENT_RESULTS_FETCH_SUCCESS,saveResults),this.on(d.a.EXPERIMENT_VISITOR_COUNT_FETCH_SUCCESS,saveVisitors),this.on(d.a.EXPERIMENT_VISITOR_COUNT_FETCH_SUCCESS_BATCH,saveVisitorsBatch)}})},function(t,r,a){"use strict";var i=a(2420);r.a={publicApiConsumer:i.a}},function(t,r,a){"use strict";var i=a(25),o=a.n(i),c=a(299);function setRefreshLock(t,r){return t.set("refreshLock",r)}function setRefreshTimer(t,r){return t.set("scheduledRefreshTimer",r)}function clearRefreshLock(t,r){return t.delete("refreshLock").set("lastRefreshTime",(new Date).toISOString()).set("lastRefreshSucceeded",r)}function clearRefreshTimer(t){return t.delete("scheduledRefreshTimer")}function clearInitializationLock(t,r){return t.get("clearInitializationLock")(r),t}r.a=o.a.Store({getInitialState:function getInitialState(){var t,r=new Promise((function(r){t=r}));return Object(i.toImmutable)({clearInitializationLock:t,initializationLock:r})},initialize:function initialize(){this.on(c.a.PUBLIC_API_CONSUMER_SET_REFRESH_LOCK,setRefreshLock),this.on(c.a.PUBLIC_API_CONSUMER_SET_REFRESH_TIMEOUT,setRefreshTimer),this.on(c.a.PUBLIC_API_CONSUMER_CLEAR_REFRESH_LOCK,clearRefreshLock),this.on(c.a.PUBLIC_API_CONSUMER_CLEAR_REFRESH_TIMEOUT,clearRefreshTimer),this.on(c.a.PUBLIC_API_CONSUMER_CLEAR_INITIALIZATION_LOCK,clearInitializationLock)}})},function(t,r,a){"use strict";var i=a(2422);r.a={cacheHits:i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(527);function trackCacheHit(t,r){return t.set("entitiesWithCacheHits",t.get("entitiesWithCacheHits").add(r.entity))}function startTrackingCacheHits(t){return t.set("entitiesWithCacheHits",o.default.Set()).set("isTrackingCacheHits",!0)}function stopTrackingCacheHits(t){return t.set("isTrackingCacheHits",!1)}r.a=Object(i.Store)({getInitialState:function getInitialState(){return o.default.Map({entitiesWithCacheHits:o.default.Set(),isTrackingCacheHits:!1})},initialize:function initialize(){this.on(c.a.TRACK_CACHE_HIT,trackCacheHit),this.on(c.a.START_TRACKING_CACHE_HITS,startTrackingCacheHits),this.on(c.a.STOP_TRACKING_CACHE_HITS,stopTrackingCacheHits)}})},function(t,r,a){"use strict";var i=a(2424);r.a={notificationPreferences:i.a}},function(t,r,a){"use strict";var i=a(25),o=a(2),c=a(1222),l={preferences:{}};function fetchNotificationPreference(t,r){return t.set("preferences",r.preferences)}function saveNotificationPreference(t,r){return t}r.a=Object(i.Store)({getInitialState:function getInitialState(){return Object(o.toImmutable)(l)},initialize:function initialize(){this.on(c.a.FETCH_NOTIFICATION_PREFERENCES,fetchNotificationPreference),this.on(c.a.SAVE_NOTIFICATION_PREFERENCES,saveNotificationPreference)}})},function(t,r,a){"use strict";var i=a(987),o=a.n(i),c=a(0),l=a.n(c),u=a(62),d=a(270),p=a(988),m=a(54),g=a(1380),h=a(482),y=a(119),v=a(680),_=a(3),E=a(681),b=a(339),T=a(191);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var S=Object(h.a)(v.a,null,{handleHistoryBack:T.b}),C=Object(h.a)(E.a),I={layer:{1:"p13n-layers-home",2:["p13n-layer-detail","p13n-editor"],3:["p13n-results"]},pages:{1:"p13n-pages-home"},audiences:{1:"p13n-audiences-home",2:"p13n-audience-detail"},extensions:{1:"p13n-data-layer",2:"plugins-root"},settings:{1:"project-settings-integrations",2:"plugins-root"}},A=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(OptimizelyApp,t);var r=_createSuper(OptimizelyApp);function OptimizelyApp(){var t;_classCallCheck(this,OptimizelyApp);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).optimizelyClient=b.a.getClientInstance(),t.registerComponentRef=function(r,a){t[r]=a},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(OptimizelyApp,[{key:"componentDidMount",value:function componentDidMount(){_.default.dispatch(y.a.REGISTER_GLOBAL_COMPONENT,{id:"dialogManager",instance:this.dialogManager}),_.default.dispatch(y.a.REGISTER_GLOBAL_COMPONENT,{id:"notificationManager",instance:this.notificationManager}),_.default.dispatch(y.a.REGISTER_GLOBAL_COMPONENT,{id:"ouiIcons",instance:this.ouiIcons})}},{key:"render",value:function render(){return l.a.createElement(u.OptimizelyProvider,{optimizely:this.optimizelyClient},l.a.createElement("div",{id:"ouiIconSprite",className:"display--none",dangerouslySetInnerHTML:{__html:o.a},ref:this.registerComponentRef.bind(this,"ouiIcons")}),l.a.createElement(p.a,null),l.a.createElement(m.default,{className:"wrap",loadingId:"page"},l.a.createElement("div",{className:"root-panel"},l.a.createElement(g.RegionComponent,{regionMap:I,regionId:"main",navBarBeforeLeave:d.setBeforeLeave}))),l.a.createElement(S,{vueComponentRef:this.registerComponentRef.bind(this,"dialogManager")}),l.a.createElement(C,{vueComponentRef:this.registerComponentRef.bind(this,"notificationManager")}))}}]),OptimizelyApp}(l.a.Component);A.displayName="OptimizelyApp",r.a=A},function(t,r,a){function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=a(4);r.mergeAndDiff=function(t,r,a,o,c){return function mergeAndDiff(t,r,a,o,c,l){var u,d=mergeAndDiff;if(i.isPlainObject(t)||i.isPlainObject(r)){var p=i.keys(t),m=i.keys(r),g=i.uniq(p.concat(m));u={},t=t||{},r=r||{},i.forEach(g,(function(l){i.includes(a,l)?u[l]=t[l]||r[l]:u[l]=d(t[l],r[l],a,o,c,l)}))}else if(i.isArray(t)||i.isArray(r))if(o&&i.includes(o,l))u=[t,r];else{var h=t?i.keys(t[0]):i.keys(r[0]),y=i.intersection(h,a),v=[],_=[],E=[];if(y.length>=1){var b=y[0];y.length,0,i.forEach(t,(function(t){v.push(t[b])})),i.forEach(r,(function(t){_.push(t[b])}));var T=i.uniq(v.concat(_));i.forEach(T,(function(l){var u={};u[b]=l;var p=i.find(t,u),m=i.find(r,u);E.push(d(p,m,a,o,c,l))}))}else{var S=[].concat(t=t||[],r=r||[]);1===i.uniqBy(S,(function(t){return _typeof(t)})).length&&(i.isString(S[0])||i.isNumber(S[0]))?E=i.uniq(S):(i.forEach(t,(function(t,r){this.push(d(t,null,a,o,c,r))}),E),i.forEach(r,(function(t,r){this.push(d(null,t,a,o,c,r))}),E))}u=E}else i.includes(a,l)||o&&!i.includes(o,l)?u=t||r:c&&t===r?u=null:(t=i.isUndefined(t)?null:t,r=i.isUndefined(r)?null:r,u=[t,r]);return u}(t,r,a,o,c)}},function(t,r,a){"use strict";var i=a(3),o=a(5),c=a(43),l=a(14),u=a(49),d=a(73),p=a(2428),m=a(1438),g=a(2545),h=a(2546),y=a(2548),v=a(2550),_=a(2592),E=a(2594),b=a(2623),T=a(2624),S=a(2625),C=a(2626),I=a(2627),A=a(2630),O=a(2632),P=a(2664),R=a(2665),w=a(2666),N=a(2667),L=a(2668),x=a(2669),D=a(2688),k=a(2722),j=a(2724),M=a(2732),U=a(1374),V=a.n(U),B=a(6);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}r.a=[{match:"/v2/(projects)?",handle:[B.a.parseProjectId,function(t){var r=t.queryParams,a=r.something_went_wrong,c=r.eid;"true"===a&&Object(o.error)(_extends({},c&&{errorId:c})),i.default.evaluate(l.getters.isCustomProject)?B.a.redirectToCustomProjectHome(t):B.a.redirectToCurrentProjectLayers(t)}]}].concat(_toConsumableArray(x.a),[{match:"/v2/support",handle:[B.a.parseProjectId,function(t){var r=t.queryParams.eid;d.a.showSupportDialog({errorId:r||""},{onHideDialog:function onHideDialog(){i.default.evaluate(l.getters.isCustomProject)?B.a.redirectToCustomProjectHome():B.a.redirectToCurrentProjectLayers()}})}]}],_toConsumableArray(k.a),_toConsumableArray(D.a),_toConsumableArray(g.a),_toConsumableArray(p.a),_toConsumableArray(h.a),_toConsumableArray(y.a),_toConsumableArray(I.a),_toConsumableArray(A.a),_toConsumableArray(O.a),_toConsumableArray(P.a),_toConsumableArray(_.a),[{match:"/v2/projects/:proj_id/feature_flags",handle:[].concat(_toConsumableArray(B.a.standardNavHandlers()),[B.a.parseProjectId,V.a.pages.featuresDashboard.routingSetup,function(){i.default.evaluate(l.getters.isFullStackProject)||B.a.redirectToCurrentProjectLayers(),i.default.evaluateToJS([c.getters.accountPermissions,u.fns.canUseFeatureFlags])||B.a.redirectToCustomProjectHome(),B.a.renderMainRegion(V.a.pages.featuresDashboard.component)}])}],_toConsumableArray(v.a),_toConsumableArray(N.a),_toConsumableArray(w.a),_toConsumableArray(b.a),_toConsumableArray(E.a),_toConsumableArray(R.a),_toConsumableArray(L.a),_toConsumableArray(T.a),_toConsumableArray(S.a),_toConsumableArray(m.a),_toConsumableArray(C.a),_toConsumableArray(j.a),_toConsumableArray(M.a),[{match:"/v2/projects/:projId/flags/*",handle:[function(){}]}])},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(3),l=a(86),u=a(10),d=a(140),p=a.n(d),m=a(13),g=a(39),h=a(111),y=a(113),v=a(1345),_=a(6),E=a(1381);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var b="Manage A/B Test";function ABExperimentEditorSection(t,r){Promise.all([a.e(4),a.e(0),a.e(2),a.e(1),a.e(7)]).then(a.bind(null,3658)).then((function(t){Object.assign(ABExperimentEditorSection,t)})).then(r)}function shouldHandleWeb(){return Promise.resolve(c.default.evaluate(m.default.isWebProject))}function setPageTitle(t){var r=t.next,a=t.name,i=t.params;r();var o="";if(i.experiment_id){var l=c.default.evaluate(h.default.byId(Number(i.experiment_id)));o=!!l&&l.get("name")}_.a.setPageTitle({category:o?"":b,name:a,primaryName:o})}var T=[{match:"/v2/projects/:proj_id/experiments/:experiment_id",metadata:{name:"Variations",category:b},shouldHandle:shouldHandleWeb,handle:[[ABExperimentEditorSection].concat(_toConsumableArray(_.a.standardNavHandlers(u.default.NavWidth.COLLAPSED,u.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId,function(t,r){return l.default.getCodeLintingBundleModules().then(r)}]),_.a.disallowCustomProjects,function(t,r){return ABExperimentEditorSection.pages.variations.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Variations",params:t.params})},function(t){var r=Number(t.params.experiment_id);_.a.renderMainRegion(o.a.createElement(ABExperimentEditorSection.pages.variations.component,{experimentId:r}))}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/variations",metadata:{name:"Variations",category:b},shouldHandle:shouldHandleWeb,handle:[[ABExperimentEditorSection].concat(_toConsumableArray(_.a.standardNavHandlers(u.default.NavWidth.COLLAPSED,u.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId]),_.a.disallowCustomProjects,function(t,r){return ABExperimentEditorSection.pages.variations.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Variations",params:t.params})},function(t){var r=Number(t.params.experiment_id);_.a.renderMainRegion(o.a.createElement(ABExperimentEditorSection.pages.variations.component,{experimentId:r}))}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/variations/:variation_id",metadata:{name:"Variation Editor",category:b},handle:[[ABExperimentEditorSection].concat(_toConsumableArray(_.a.standardNavHandlers(u.default.NavWidth.COLLAPSED,u.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId,function(t,r){return l.default.getCodeLintingBundleModules().then(r)}]),_.a.disallowCustomProjects,function(t,r){return ABExperimentEditorSection.pages.variations.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Variation Editor",params:t.params})},function(t){var r=Number(t.params.variation_id),a=Number(t.params.experiment_id);_.a.renderEditor(o.a.createElement(ABExperimentEditorSection.pages.variations.component,{experimentId:a,variationId:r}),r)}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/api_names",metadata:{name:"API Names",category:b},shouldHandle:shouldHandleWeb,handle:[[ABExperimentEditorSection].concat(_toConsumableArray(_.a.standardNavHandlers(u.default.NavWidth.COLLAPSED,u.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId]),_.a.disallowCustomProjects,function(t,r){return ABExperimentEditorSection.pages.api_names.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"API Names",params:t.params})},function(){return _.a.renderMainRegion(o.a.createElement(ABExperimentEditorSection.pages.api_names.component,null))}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/audiences",metadata:{name:"Audiences",category:b},shouldHandle:shouldHandleWeb,handle:[[ABExperimentEditorSection].concat(_toConsumableArray(_.a.standardNavHandlers(u.default.NavWidth.COLLAPSED,u.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId,function(t,r){return l.default.getCodeLintingBundleModules().then(r)}]),_.a.disallowCustomProjects,function(t,r){return ABExperimentEditorSection.pages.audiences.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Audiences",params:t.params})},function(){_.a.renderMainRegion(o.a.createElement(ABExperimentEditorSection.pages.audiences.component,null))}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/integrations",metadata:{name:"Integrations",category:b},shouldHandle:function shouldHandle(){return shouldHandleWeb&&Promise.resolve(c.default.evaluate(g.default.canUseLayerIntegrations))},handle:[[ABExperimentEditorSection].concat(_toConsumableArray(_.a.standardNavHandlers(u.default.NavWidth.COLLAPSED,u.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId]),_.a.disallowCustomProjects,[_.a.fetchIntegrationsTabData,function(t,r){return ABExperimentEditorSection.pages.integrations.routingSetup(t,r)}],function(t,r){return setPageTitle({next:r,name:"Integrations",params:t.params})},function(){return _.a.renderMainRegion(o.a.createElement(ABExperimentEditorSection.pages.integrations.component,null))}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/metrics",metadata:{name:"Metrics",category:b},shouldHandle:shouldHandleWeb,handle:[[ABExperimentEditorSection].concat(_toConsumableArray(_.a.standardNavHandlers(u.default.NavWidth.COLLAPSED,u.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId]),function(t,r){return ABExperimentEditorSection.pages.metrics.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Metrics",params:t.params})},function(){return _.a.renderMainRegion(o.a.createElement(ABExperimentEditorSection.pages.metrics.component,null))}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/pages",metadata:{name:"Targeting",category:b},handle:[[ABExperimentEditorSection].concat(_toConsumableArray(_.a.standardNavHandlers(u.default.NavWidth.COLLAPSED,u.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId,function(t,r){return l.default.getCodeLintingBundleModules().then(r)}]),_.a.disallowCustomProjects,function(t,r){return ABExperimentEditorSection.pages.pages.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Targeting",params:t.params})},function(){return _.a.renderMainRegion(o.a.createElement(ABExperimentEditorSection.pages.pages.component,null))}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/schedule",metadata:{name:"Schedule",category:b},handle:[[ABExperimentEditorSection].concat(_toConsumableArray(_.a.standardNavHandlers(u.default.NavWidth.COLLAPSED,u.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId,function(t,r){return l.default.getCodeLintingBundleModules().then(r)}]),_.a.disallowCustomProjects,function(t,r){return ABExperimentEditorSection.pages.schedule.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Schedule",params:t.params})},function(){return _.a.renderMainRegion(o.a.createElement(ABExperimentEditorSection.pages.schedule.component,null))}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/settings",metadata:{name:"Settings",category:b},shouldHandle:shouldHandleWeb,handle:[[ABExperimentEditorSection].concat(_toConsumableArray(_.a.standardNavHandlers(u.default.NavWidth.COLLAPSED,u.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId]),function(t,r){return ABExperimentEditorSection.pages.settings.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Settings",params:t.params})},function(){return _.a.renderMainRegion(o.a.createElement(ABExperimentEditorSection.pages.settings.component,null))}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/shared_code",metadata:{name:"Shared Code",category:b},shouldHandle:shouldHandleWeb,handle:[[ABExperimentEditorSection].concat(_toConsumableArray(_.a.standardNavHandlers(u.default.NavWidth.COLLAPSED,u.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId,function(t,r){return l.default.getCodeLintingBundleModules().then(r)}]),_.a.disallowCustomProjects,function(t,r){return ABExperimentEditorSection.pages.shared_code.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Shared Code",params:t.params})},function(){return _.a.renderMainRegion(o.a.createElement(ABExperimentEditorSection.pages.shared_code.component,null))}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/traffic_allocation",metadata:{name:"Traffic Allocation",category:b},shouldHandle:shouldHandleWeb,handle:[[ABExperimentEditorSection].concat(_toConsumableArray(_.a.standardNavHandlers(u.default.NavWidth.COLLAPSED,u.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId]),_.a.disallowCustomProjects,function(t,r){return ABExperimentEditorSection.pages.traffic_allocation.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Traffic Allocation",params:t.params})},function(){return _.a.renderMainRegion(o.a.createElement(ABExperimentEditorSection.pages.traffic_allocation.component,null))}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/history",metadata:{name:"History",category:b},shouldHandle:shouldHandleWeb,handle:[[ABExperimentEditorSection].concat(_toConsumableArray(_.a.standardNavHandlers(u.default.NavWidth.COLLAPSED,u.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId]),_.a.disallowCustomProjects,function(t,r){var a=t.params;return v.a.fetchLayerExperimentIfValidAndSetLayerIdAsCurrent(a.experiment_id,r)},v.a.fetchRequiredDataForWebAbManagerChangeHistory,function(t,r){return setPageTitle({next:r,name:"History",params:t.params})},function(t){var r=t.fetchedData,a=Object(y.d)(E.a);_.a.renderMainRegion(o.a.createElement(a,{fetchedEntities:r,sidebarProps:{activeTab:p.a.tabs.HISTORY}}))}]}];r.a=T},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(11),d=a(2430),p=function ChangesTable(t){var r=t.allDetailExpandedCount,a=t.canUserSeeRevisionsWithoutChanges,i=t.changes,o=t.currentProjectId,c=t.handleShowHideAll,p=t.isAllDetailExpanded,m=t.prettyDiffLineCap,g=t.shouldPrettifyDiff;return l.a.createElement(u.a,{density:"loose",key:"changes-table",style:"rule",tableLayoutAlgorithm:"fixed",testSection:"change-history-changes-table"},l.a.createElement(ChangeHistoryTableHeader,null),l.a.createElement(u.a.TBody,null,i.map((function(t){return l.a.createElement(d.a,{authorInfo:t.user,change:t,currentProjectId:o,handleShowHideAll:c,isAllDetailExpanded:p,key:"".concat(t.id,"_").concat(r),prettyDiffLineCap:m,shouldPrettifyDiff:g,canUserSeeRevisionsWithoutChanges:a})}))))};function ChangeHistoryTableHeader(){return l.a.createElement(u.a.THead,null,l.a.createElement(u.a.TR,null,l.a.createElement(u.a.TH,{width:"50%"},l.a.createElement("span",{"data-test-section":"change-history-summary-column-header"},"Change Summary")),l.a.createElement(u.a.TH,{width:"150px"},l.a.createElement("span",{"data-test-section":"change-history-by-column-header"},"By")),l.a.createElement(u.a.TH,{width:"168px"},l.a.createElement("span",{"data-test-section":"change-history-time-column-header"},"Time")),l.a.createElement(u.a.TH,{width:"140px"}),l.a.createElement(u.a.TH,{width:"50px"})))}p.propTypes={allDetailExpandedCount:o.a.number.isRequired,canUserSeeRevisionsWithoutChanges:o.a.bool,changes:o.a.array.isRequired,currentProjectId:o.a.number.isRequired,handleShowHideAll:o.a.func.isRequired,isAllDetailExpanded:o.a.bool.isRequired,prettyDiffLineCap:o.a.number.isRequired,shouldPrettifyDiff:o.a.bool.isRequired},p.defaultProps={canUserSeeRevisionsWithoutChanges:!1},r.a=p},function(t,r,a){"use strict";var i=a(9),o=a.n(i),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(71),m=a(11),g=a(109),h=a(26),y=a(19),v=a(132),_=a.n(v),E=a(123),b=a.n(E),T=a(351),S=a(368),C=a(212),I=a(643),A=a(199),O=a(48),P=a(2431);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var R={paddingTop:6},w=function ChangesTableRow(t){var r=t.change,a=t.canUserSeeRevisionsWithoutChanges,i=t.handleShowHideAll,o=t.isAllDetailExpanded,c=t.prettyDiffLineCap,l=t.shouldPrettifyDiff,p=t.track,h=_slicedToArray(Object(u.useState)(o),2),y=h[0],v=h[1],E=A.d.computeAuthorTitleText(r.user),b=y&&!!(r&&r.changes&&r.changes.length),S=Object(u.useMemo)((function(){return!(a&&r.id<0)}),[a,r.id]);return d.a.createElement(d.a.Fragment,null,d.a.createElement(m.a.TR,{testSection:"changes-table-row-".concat(r.id)},d.a.createElement(m.a.TD,{verticalAlign:"top"},d.a.createElement("div",{style:R},d.a.createElement(N,{name:r.entity.name,subType:r.entity.sub_type,summary:r.summary,type:r.entity.type,url:r.entity.ui_url}))),d.a.createElement(m.a.TD,{verticalAlign:"top"},d.a.createElement("div",{"data-test-section":"changes-table-change-name",style:R},d.a.createElement("div",{className:"flex flex-wrap","data-test-section":"change-author"},d.a.createElement("div",{"aria-label":E,className:"truncate",title:E},r.user.display_name)))),d.a.createElement(m.a.TD,{verticalAlign:"top"},d.a.createElement("div",{"data-test-section":"change-time",style:R},A.d.timeAgo(r.created))),d.a.createElement(m.a.TD,{verticalAlign:"top"},r.changes&&!!r.changes.length&&d.a.createElement(L,{isDetailExpanded:y,changeId:r.id,onDetailToggle:function onDetailToggle(t){t?i(!y):(v(!y),p(y?O.d.HIDE_DETAILS_CLICKED:O.d.SHOW_DETAILS_CLICKED))}})),d.a.createElement(m.a.TD,{verticalAlign:"top"},d.a.createElement("div",{style:{paddingTop:3}},S&&d.a.createElement(T.a,{activator:d.a.createElement(g.a,{iconFill:"default",iconName:"ellipsis-solid",size:"small",style:"plain",testSection:"change-options-".concat(r.id)}),isNoWrap:!0,items:[{text:"Copy Share Link",testSection:"change-".concat(r.id,"-link"),onClick:I.a.getCopyShareLinkAndNotify(_.a.getPath(),r.id)}]})))),b&&d.a.createElement(P.a,{change:r,prettyDiffLineCap:c,shouldPrettifyDiff:l}))};w.propTypes={canUserSeeRevisionsWithoutChanges:l.a.bool,change:l.a.shape({change_type:l.a.string.isRequired,changes:l.a.arrayOf(l.a.shape({after:l.a.any,before:l.a.any,description:l.a.string,property:l.a.string})),created:l.a.string.isRequired,entity:l.a.shape({api_url:l.a.string,name:l.a.string.isRequired,sub_type:l.a.string,type:l.a.string.isRequired,ui_url:l.a.string}).isRequired,id:l.a.number.isRequired,project_id:l.a.number.isRequired,revisions:l.a.shape({current:l.a.shape({id:l.a.number}).isRequired,previous:l.a.shape({id:l.a.number}).isRequired}).isRequired,source:l.a.string.isRequired,summary:l.a.string.isRequired,user:l.a.shape({display_name:l.a.string,email:l.a.string.isRequired,first_name:l.a.string,id:l.a.string.isRequired,last_name:l.a.string}).isRequired}).isRequired,handleShowHideAll:l.a.func.isRequired,isAllDetailExpanded:l.a.bool.isRequired,prettyDiffLineCap:l.a.number.isRequired,shouldPrettifyDiff:l.a.bool.isRequired,track:l.a.func.isRequired},w.defaultProps={canUserSeeRevisionsWithoutChanges:!1};var N=function ChangeDescription(t){var r=t.name,a=t.subType,i=t.summary,o=t.type,c=t.url;O.b[o]||C.a.withScope((function(t){t.setExtra("unknownEntityType",o),C.a.captureMessage('Unknown entity_type "'.concat(o,'" in change history changes'))}));var l=A.d.computeReadableType({subType:a,type:o}),u=i.split("'".concat(r,"'")),p=_slicedToArray(u,1)[0],m=c&&b.a.create(c).fullpath;return d.a.createElement("div",{className:"flex"},O.b[o]&&O.b[o].iconName&&d.a.createElement("span",{className:"soft--right"},d.a.createElement(h.a,{name:O.b[o].iconName,size:"small"})),d.a.createElement("span",null,d.a.createElement("span",{className:"weight--bold","data-test-section":"change-entity-type"},"[",l,"]"),d.a.createElement("span",{className:"push-half--left","data-test-section":"change-summary"},!m&&i||(u.length>1?d.a.createElement(d.a.Fragment,null,"".concat(p," "),d.a.createElement(S.a,{ariaLabel:"".concat(r," ").concat(l),"data-test-section":"change-link-to-entity",href:m},r)):d.a.createElement(S.a,{ariaLabel:"".concat(r," ").concat(l),"data-test-section":"change-link-to-entity",href:m},i)))))};N.propTypes={name:l.a.string.isRequired,subType:l.a.string,summary:l.a.string.isRequired,type:l.a.string.isRequired,url:l.a.string},N.defaultProps={subType:"",url:""};var L=function DetailToggle(t){var r=t.isDetailExpanded,a=t.changeId,i=t.onDetailToggle,c=r?"Hide":"Show";return d.a.createElement("div",{className:"text--right",title:"".concat(c," change details.\r\nPress Alt key and click to ").concat(c.toLowerCase()," all.")},d.a.createElement(y.a,{ariaLabel:"Expand change detail. Press alt key and enter to expand every change detail row.",className:o()("flex flex-align--center",{isOpen:r}),onClick:function onClick(t){return i(t.altKey)},style:"plain",size:"regular",width:"default",testSection:"change-show-details-".concat(a)},c," details",d.a.createElement(h.a,{className:"push-half--left",name:"chevron-down",size:"small"})))};L.propTypes={changeId:l.a.number.isRequired,isDetailExpanded:l.a.bool.isRequired,onDetailToggle:l.a.func.isRequired},r.a=Object(p.withTrack)(w)},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(11),d=a(1227),p=a(26),m=a(65),g=a(199),h=a(48);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var y={ui:"Optimizely App",api:"Optimizely REST API"},v=function ChangesTableRowDetails(t){var r=t.change,a=t.prettyDiffLineCap,i=t.shouldPrettifyDiff,o=_slicedToArray(g.d.computeApiBodyDiff(r.changes,{entityType:r.entity.type,prettyDiffLineCap:a,shouldPrettifyDiff:i}),3),c=o[0],v=o[1],_=o[2],E=!!_;return l.a.createElement(u.a.TR,null,l.a.createElement(u.a.TD,{testSection:"change-history-details-row-".concat(r.id),colSpan:5},l.a.createElement("div",{className:"push-half--left soft-double--left"},l.a.createElement("ul",null,r.changes.map((function(t){var r=new RegExp("\\s".concat(t.property,"$"));if(t.description&&t.description.match(r)){var a=_slicedToArray(t.description.split(r),1)[0];return l.a.createElement("li",{"data-test-section":"change-history-default-detail-change-".concat(t.property),key:"change-default-detail-".concat(t.id,"-").concat(t.property)},a," ",l.a.createElement("span",{className:"monospace"},t.property))}return l.a.createElement("li",{"data-test-section":"change-history-custom-detail-change-".concat(t.property),key:"change-custom-detail-".concat(t.property)},t.description)}))),l.a.createElement("div",{className:"push--top"},l.a.createElement(d.a,{disableWordDiff:E,header:l.a.createElement("div",{className:"milli flex"},l.a.createElement("div",{className:"flex--1"},E?l.a.createElement("div",{className:"flex"},l.a.createElement("div",{className:"flex--dead-center push-half--right"},l.a.createElement(p.a,{color:m.brandBlueDark,name:"circle-exclamation",size:"small"})),h.c[_].readable):null),l.a.createElement("div",{"data-test-section":"change-readable-source-".concat(r.id)},"Change made via"," ",y[r.source]||y.ui)),hideLineNumbers:!1,newValue:v,oldValue:c,testSection:"change-history-detail-change-diff"})))))};v.propTypes={change:o.a.object.isRequired,prettyDiffLineCap:o.a.number.isRequired,shouldPrettifyDiff:o.a.bool.isRequired},r.a=v},,,,,,,,,,,,,,,function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(990),d=a(179),p=a(989),m=function Footer(t){var r=t.currentPageNo,a=t.handleFetchPageByNumber,i=t.isLoadingNewPage,o=t.pageSize,c=t.queryTotalCount,m=Object(p.b)(d.a.FeatureLimitTypes.CHANGE_HISTORY_DAYS,d.a.FeatureLimitUIs.CHANGE_HISTORY_TABLE_FOOTER),g=m.hasLimit,h=m.UpgradeComponent,y=Math.ceil(c/o);return l.a.createElement("div",{className:"soft-double flex","data-test-section":"change-history-footer"},y>1&&l.a.createElement("div",{className:"flex--1 flex flex-justified--center"},l.a.createElement(u.a,{currentPage:r,totalPages:y,goToPage:a,isLoading:i,testSection:"change-history-pagination-controls"})),g&&l.a.createElement(h,null))};m.propTypes={currentPageNo:o.a.number.isRequired,handleFetchPageByNumber:o.a.func.isRequired,isLoadingNewPage:o.a.bool.isRequired,pageSize:o.a.number.isRequired,queryTotalCount:o.a.number.isRequired},r.a=m},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(107),l=a(19),u=a(40),d=a(26),p=a(1),m=a.n(p),g=a(5),h=function UpgradeDialog(t){var r=t.header,a=t.message,i=t.buttonLink,p=t.buttonText;return o.a.createElement(c.a,{footerButtonList:[o.a.createElement(l.a,{key:"cancel",onClick:g.default.hideDialog,style:"plain","data-test-section":"upgrade-dialog-dismiss-button"},"Cancel"),o.a.createElement(u.a,{key:"cta-link",testSection:"upgrade-dialog-button-link",newWindow:!0,href:i},o.a.createElement(l.a,{isLink:!0,style:"highlight",testSection:"upgrade-dialog-button-text"},p," ",o.a.createElement(d.a,{name:"arrow-up-right-from-square",size:"small"})))],onClose:g.default.hideDialog,title:r},o.a.createElement("p",{"data-test-section":"upgrade-button-message"},a))};h.propTypes={message:m.a.string.isRequired,header:m.a.string.isRequired,buttonLink:m.a.string.isRequired,buttonText:m.a.string.isRequired},r.a=h},function(t,r,a){"use strict";var i=a(9),o=a.n(i),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(99),m=a.n(p),g=a(31),h=a(206),y=a(52),v=a(32),_=a(19),E=a(26),b=a(88),T=a(7),S=a(989),C=a(277),I=a(2449),A=a(48),O=a(199);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var P=function Header(t){var r=t.changeIdToNameMap,a=t.currentProjectCreatedDate,i=t.currentProjectType,c=t.customEntityTypes,l=t.earliestAllowedFilterDate,p=t.filters,P=t.handleFiltersAction,R=t.isChangeHistoryIdSearchEnabled,w=t.isFlagsProject,N=t.isDisabled,L=t.uiStyle,x=_slicedToArray(Object(u.useState)((p.entity||[]).join(" ")),2),D=x[0],k=x[1],j=S.a.useUpgradeInfo(C.b.FeatureLimitTypes.CHANGE_HISTORY_DAYS,C.b.FeatureLimitUIs.CHANGE_HISTORY_DATE_PICKER),M=j.hasLimit,U=j.UpgradeComponent,V=p.type,B=_toConsumableArray(new Set(p.id)),G=!!B.length,H=G&&(!N||!!Object.keys(r).length),z=!G&&R&&A.f.SEARCH.projectTypes.includes(i),W=!G&&A.f.TYPE.projectTypes.includes(i),q=!G&&A.f.DATE_RANGE.projectTypes.includes(i),Y=!G&&A.f.SOURCE.projectTypes.includes(i),K=A.f.SOURCE.values,J=Object(u.useCallback)((function(t){return function(){return P(_defineProperty({},A.f.LOG_ID.filterName,B.filter((function(r){return t!==r}))))}}),[B]),X=Object(u.useCallback)((function(t){return i!==T.project_types.FULL_STACK||(!w||!t.isHiddenOnFlags)}),[w,i]);return d.a.createElement("div",{className:o()({"flex push-double--ends push-triple--sides":L===A.g.PROJECT,toolbar__content:L===A.g.MANAGER,"soft-triple--left":L===A.g.MANAGER}),"data-test-section":"change-history-table-header"},H&&d.a.createElement("div",{className:"flex flex-wrap","data-test-section":"change-history-log-tokens",style:{marginLeft:-3}},B.map((function(t){return d.a.createElement("div",{className:"push-half--right",key:t},d.a.createElement(h.a,{description:"Change ID: ".concat(t),isDismissible:!0,name:r[t]||"Change not found",onDismiss:J(t),showWell:!1,testSection:"change-history-log-token-".concat(t)}))}))),z&&d.a.createElement("div",{className:o()("width--300","push--right"),"data-test-section":"change-history-entity-id-filter-wrapper"},d.a.createElement(y.a,{value:D,isDisabled:N,isFilter:!0,onChange:function onChange(t){return k(t.target.value)},onKeyDown:function onKeyDown(t){13===t.keyCode&&(P(_defineProperty({},A.f.SEARCH.filterName,Object(O.b)(t.target.value))),k(Object(O.b)(t.target.value).join(" ")))},placeholder:A.f.SEARCH.placeholder,testSection:"change-history-entity-id-filter",type:"text"})),W&&d.a.createElement("div",{className:"push--right"},d.a.createElement(v.a,{activator:d.a.createElement(_.a,{size:"narrow",style:"plain",testSection:"change-history-entity-type-button"},d.a.createElement("div",{className:"flex"},d.a.createElement("div",{className:"line--tight text--left push--right"},d.a.createElement("div",{className:"micro muted"},A.f.TYPE.label),d.a.createElement("div",{"data-test-section":"change-history-entity-type-selected-text"},Object(O.a)(V))),d.a.createElement("div",null,d.a.createElement(E.a,{name:"angle-down",size:"small"})))),isDisabled:N,placement:"bottom-start",style:"plain",testSection:"change-history-entity-type-filter",value:A.f.TYPE.label,width:230},d.a.createElement(b.a,null,Object.values(A.e).filter((function(t){return t.projectTypes.includes(i)&&X(t)&&(!c.length||c.includes(t.type))&&(!Object.prototype.hasOwnProperty.call(t,"useFeature")||Object(g.isFeatureEnabled)(t.useFeature))})).map((function(t){var r=t.readableName,a=t.type;return d.a.createElement(b.a.Category,{key:a},d.a.createElement(b.a.Item,{onClick:function onClick(t){var r=t.altKey;return P(_defineProperty({},A.f.TYPE.filterName,Object(O.c)({selectedTypes:V,type:a,shouldAppendNonAnyType:r})))},testSection:"change-history-entity-type-".concat(a)},d.a.createElement("span",{className:o()({"color--base":V.includes(a)||void 0===V[0]&&a===A.e.any.type})},r)))}))))),!M&&q&&d.a.createElement(I.a,{currentProjectCreatedDate:a,earliestAllowedFilterDate:l,endTime:p.end_time,handleFiltersAction:P,isDisabled:N,startTime:p.start_time}),Y&&d.a.createElement("div",{className:"push--right"},d.a.createElement(v.a,{activator:d.a.createElement(_.a,{size:"narrow",style:"plain",testSection:"change-history-source-button"},d.a.createElement("div",{className:"flex"},d.a.createElement("div",{className:"line--tight text--left push--right"},d.a.createElement("div",{className:"micro muted"},A.f.SOURCE.label),d.a.createElement("div",{"data-test-section":"change-history-source-selected-text"},m()(Object.keys(K).find((function(t){return K[t]===p.source}))||"Any"))),d.a.createElement("div",null,d.a.createElement(E.a,{name:"angle-down",size:"small"})))),isDisabled:N,placement:"bottom-start",style:"plain",testSection:"change-history-source-filter",value:A.f.SOURCE.label,width:230},d.a.createElement(b.a,null,Object.keys(K).map((function(t){return d.a.createElement(b.a.Category,{key:t},d.a.createElement(b.a.Item,{onClick:function onClick(){return P(_defineProperty({},A.f.SOURCE.filterName,K[t]))},testSection:"change-history-source-type-".concat(t)},d.a.createElement("span",null,m()(t))))}))))),M&&d.a.createElement(U,null))};P.propTypes={changeIdToNameMap:l.a.object.isRequired,currentProjectCreatedDate:l.a.string.isRequired,currentProjectType:l.a.oneOf([T.project_types.WEB,T.project_types.FULL_STACK,T.project_types.ROLLOUTS]).isRequired,customEntityTypes:l.a.arrayOf(l.a.string),earliestAllowedFilterDate:l.a.string.isRequired,filters:l.a.object.isRequired,handleFiltersAction:l.a.func.isRequired,isChangeHistoryIdSearchEnabled:l.a.bool.isRequired,isDisabled:l.a.bool,isFlagsProject:l.a.bool,uiStyle:l.a.oneOf([A.g.MANAGER,A.g.PROJECT])},P.defaultProps={customEntityTypes:[],isDisabled:!1,uiStyle:A.g.PROJECT},r.a=P},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(59),d=a.n(u),p=a(32),m=a(19),g=a(26),h=a(1230),y=a(48),v=a(199);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var _=function DateFilter(t){var r=t.currentProjectCreatedDate,a=t.endTime,c=t.earliestAllowedFilterDate,l=t.handleFiltersAction,u=t.isDisabled,_=t.startTime,E=d()(c);r&&d()(r).isAfter(E)&&(E=d()(r));var b=Object(v.e)(_,a,E),T=_slicedToArray(Object(i.useState)({selectedStartTime:_,selectedEndTime:a}),2),S=T[0],C=T[1],I=S.selectedStartTime,A=S.selectedEndTime,O=_slicedToArray(y.f.DATE_RANGE.filterName,2),P=O[0],R=O[1];return o.a.createElement("div",{className:"push--right"},o.a.createElement(p.a,{activator:o.a.createElement(m.a,{size:"narrow",style:"plain",testSection:"change-history-entity-type-button"},o.a.createElement("div",{className:"flex"},o.a.createElement(g.a,{className:"push--right push--top",name:"calendar",size:"small"}),o.a.createElement("div",{className:"line--tight text--left push--right"},o.a.createElement("div",{className:"micro muted"},y.f.DATE_RANGE.label),o.a.createElement("div",{"data-test-section":"selected-date-range"},b)),o.a.createElement("div",null,o.a.createElement(g.a,{name:"angle-down",size:"small"})))),isDisabled:u,placement:"bottom-start",shouldHideChildrenOnClick:!1,style:"plain",testSection:"change-history-date-range-filter",width:"auto"},(function(t){var r=t.handleHideChildren;return o.a.createElement("div",{className:"soft-double--ends soft-quad--sides background--white"},o.a.createElement(h.a,{endDateInputId:"change-history-end-date",endDateInputLabel:"",endTimeInputId:"change-history-end-time",endTimeInputLabel:"",focusedInput:"startDate",hasTimeInputs:!0,initialEndDate:A?d()(A):null,initialStartDate:I?d()(I):null,initialVisibleMonth:function initialVisibleMonth(){return A?d()(A).subtract(1,"M"):d()().subtract(1,"M")},isBorderless:!0,isFutureDateSelectable:!1,isOutsideRange:function isOutsideRange(t){var r=t.isAfter(d()())&&!t.isSame(d()(),"day");return t.isBefore(E,"day")||r},isPastDateSelectable:!0,keepOpenAlways:!0,onDatesChange:function onDatesChange(t){var r=t.endDate,a=t.startDate;return C({selectedStartTime:a,selectedEndTime:r})},panelButtons:function panelButtons(t){var a=t.onDatesChange;return[o.a.createElement(m.a,{isDisabled:[I,A].every((function(t){return null===t})),key:"clear",onClick:function onClick(){var t;a({startDate:null,endDate:null}),l((_defineProperty(t={},R,null),_defineProperty(t,P,null),t)),r()},style:"plain",testSection:"change-history-date-range-clear-button"},"Clear"),o.a.createElement(m.a,{isDisabled:[I,A].every((function(t){return null===t})),key:"apply",onClick:function onClick(){var t;a({endDate:A,startDate:I||A&&E||null}),l((_defineProperty(t={},R,A&&d()(A).toISOString()||I&&I.toISOString()||null),_defineProperty(t,P,I&&d()(I).toISOString()||A&&E.toISOString()||null),t)),r()},style:"highlight",testSection:"change-history-date-range-apply-button"},"Apply")]},presetPanelOptions:[{endDate:d()().endOf("day"),label:"Last 7 days",startDate:d()().subtract(7,"days").startOf("day")},{endDate:d()().endOf("day"),label:"Last 30 days",startDate:d()().subtract(30,"days").startOf("day")},{endDate:d()().endOf("day"),label:"Last 60 days",startDate:d()().subtract(60,"days").startOf("day")},{endDate:d()().endOf("month"),label:"This Month",startDate:d()().startOf("month")}],startDateInputId:"change-history-start-date",startDateInputLabel:"",startTimeInputId:"change-history-start-time",startTimeInputLabel:""}))})))};_.propTypes={currentProjectCreatedDate:l.a.string.isRequired,earliestAllowedFilterDate:l.a.string.isRequired,endTime:l.a.string,handleFiltersAction:l.a.func.isRequired,isDisabled:l.a.bool,startTime:l.a.string},_.defaultProps={endTime:null,isDisabled:!1,startTime:null},r.a=_},,,,,,function(t,r){t.exports="/dist/static/img/p13n/change-history-empty-state-d7c26d9e54175b9ee266b68099ec2eb9.svg"},function(t,r,a){"use strict";var i=a(1246);a.d(r,"a",(function(){return i.a}));var o=a(567),c=a(1247),l=a(790);i.a,o.a,c.a,l.a},function(t,r,a){"use strict";var i=a(1253);a.d(r,"a",(function(){return i.a}));var o=a(591),c=a(1254);i.a,o.a,c.a},function(t,r,a){var i=a(42),o=a(3),c=a(43);t.exports={create:function create(t){var r=o.evaluate(c.getters.id),a=o.evaluate(c.getters.backendApiToken),l=i.get("env.BACKEND_API_HOST");return new optly.backend.Api(l,r,a,t)}}},function(t,r,a){"use strict";var i=a(36),o=a(962);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var c=i.default.createEntityActions(o.a);c.save,c.fetch,c.fetchAll,c.fetchPage,c.fetchAllPages,c.flush,c.delete;r.a=_extends({},c)},function(t,r,a){"use strict";var i=a(1259),o=a(569),c=a(414),l=a(1260),u=a(498);r.a={actions:i.a,entityDef:o.a,enums:c,fns:l.a,getters:u.default}},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(CodeSampleWrapper,t);var r=_createSuper(CodeSampleWrapper);function CodeSampleWrapper(){var t;_classCallCheck(this,CodeSampleWrapper);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).generateAppleCodeSamples=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"push--bottom"},l.a.createElement("strong",null,"Objective-C"),t.getCodeSampleWithLanguage("objectivec")),l.a.createElement("div",null,l.a.createElement("strong",null,"Swift"),t.getCodeSampleWithLanguage("swift")))},t.getCodeSampleWithLanguage=function(r){var a=t.props,i=a.getCodeSample,o=a.sdk;return i(r||o)},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(CodeSampleWrapper,[{key:"render",value:function render(){var t;switch(this.props.sdk){case"android":t=this.getCodeSampleWithLanguage("java");break;case"ios":case"tv_os":t=this.generateAppleCodeSamples();break;case"react":t=this.getCodeSampleWithLanguage("jsx");break;case"agent":t=this.getCodeSampleWithLanguage("html");break;default:t=this.getCodeSampleWithLanguage()}return l.a.createElement("div",{className:"push--top","data-test-section":"code-sample"},t)}}]),CodeSampleWrapper}(l.a.Component);u.propTypes={getCodeSample:o.a.func.isRequired,sdk:o.a.string.isRequired,showMobileOnly:o.a.bool.isRequired},r.a=u},,,,,,,,,,,,,function(t,r,a){var i=a(12);r.getResourceSize=function(t){var r=i.Deferred(),a=new XMLHttpRequest;return a.onload=function(){var t=a.getResponseHeader("Content-Length");t?r.resolve(Number(t)):r.reject()},a.onerror=r.reject,a.open("GET",t,!0),a.send(),r}},function(t,r,a){"use strict";a.d(r,"a",(function(){return o}));var i=a(476),o=a.n(i)()({id:String,name:[null,String],actions:Array.of(Object)})},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(4),l=a.n(c),u=a(3),d=a(394),p=a(90),m=a.n(p),g=a(425),h=a.n(g),y=a(29),v=a(110),_=a(593),E=a(2477),b=a.n(E),T=h.a,S={replace:!0,template:b.a,data:{changeStatuses:y.default.ChangeStatuses,changeTypes:y.default.ChangeTypes},computed:{changeProperties:function changeProperties(){var t=l.a.keys(this.change.attributes);return this.change.rearrange&&!l.a.isEmpty(this.change.rearrange.insertSelector)&&t.push("rearrange"),t},changeCSSProperties:function changeCSSProperties(){return this.change.css?l.a.keys(this.change.css):[]}},filters:{"insert-location":T},methods:{canEditChange:function canEditChange(){return this.change.type===this.changeTypes.REDIRECT||this.isEditorLoadingFinal&&!this.currentActionRedirectChange},getAddWidgetStatusClass:function getAddWidgetStatusClass(){return this.change.type!==this.changeTypes.WIDGET?"":this.change.status===this.changeStatuses.NEW?"sidenav__change-list--draft":"sidenav__change-list--live"},getStatusClassForProperty:function getStatusClassForProperty(t){return t&&this.changeStatusMap[t]?"sidenav__change-list--".concat(this.changeStatusMap[t]):t&&this.changeStatusMap.attributes[t]?"sidenav__change-list--".concat(this.changeStatusMap.attributes[t]):""},getStatusClassForCSS:function getStatusClassForCSS(t){return"sidenav__change-list--".concat(this.changeStatusMap.css[t])},getStatusClassForInsertHTML:function getStatusClassForInsertHTML(){return this.changeStatusMap.html?"sidenav__change-list--".concat(this.changeStatusMap.html):""},getMatchingEventChangeText:function getMatchingEventChangeText(t){return _.a.getMatchingEventChangeText(t,this.selectedViewId)},getChangeTitle:function getChangeTitle(t){var r="";return t.status===this.changeStatuses.DELETED&&(r=tr(" (Deleted)")),t.type===y.default.ChangeTypes.INSERT_HTML?"".concat(tr("Inserted HTML ")+T(t.operator)," ").concat(t.selector).concat(r):t.type===y.default.ChangeTypes.INSERT_IMAGE?tr("Inserted image")+T(t.operator)+t.selector+r:t.type===this.changeTypes.REDIRECT?v.c.REDIRECT:t.name?t.name+r:1===t.elementCount?t.elementInfo[0].nodeName+r||"":t.selector+r||""},getChangeAttributeValue:function getChangeAttributeValue(t){var r=this.change.attributes[t],a="Changed ".concat(t);return"hide"===t?tr("Changed visibility to hidden"):"remove"===t?tr("Changed visibility to removed"):"rearrange"===t?tr("Rearranged {0} {1}",T(this.change.rearrange.operator),this.change.rearrange.insertSelector):"string"==typeof r?tr('{0} to "{1}"',a,r):"boolean"==typeof r?tr('{0} to "{1}"',a,r?"True":"False"):a},getCSSChangeDescription:function getCSSChangeDescription(t){return tr("Changed {0} to {1}",t.replace("-"," "),this.change.css[t])},getImageNameFromHTML:function getImageNameFromHTML(t){var r=o()(t),a=r.length?r[0].getAttribute("src"):"";return d.default.getImageFileName(a)||tr("image")},isDisabled:function isDisabled(t){return t.status===this.changeStatuses.DELETED}},created:function created(){u.default.bindVueValues(this,{changeStatusMap:m.a.changeStatusMap(this.change.id),selectedViewId:m.a.selectedViewId,changeDependsOnPrevious:m.a.givenChangeDependsOnPrevious(this.change)})}};r.a=S},function(t,r){t.exports='<li class="nav-list__link nav-list__link--nested"\n    v-class="muted: isDisabled(change),\n             nav-list__link--disabled: !canEditChange(change) || change.status === changeStatuses.DELETED,\n             nav-list__link--change-dependency: changeDependsOnPrevious">\n   <div class="soft--ends soft-double--sides">\n    <div>[[ getChangeTitle(change) ]]</div>\n    <ul class="sidenav__change-list"\n        v-if="change.type === changeTypes.ATTRIBUTE">\n      <li v-repeat="property: changeProperties"\n          v-class="getStatusClassForProperty(property)"\n          data-test-section="change-list-attribute-change">\n        [[ getChangeAttributeValue(property) | truncate 40 ]]. \x3c!-- TODO: this should diff attributes --\x3e\n      </li>\n      \x3c!-- If this change appears, it is always live because it does not depend on publish --\x3e\n      <li v-if="change.selector && getMatchingEventChangeText(change.selector)"\n          class="sidenav__change-list--live"\n          data-test-section="change-list-track-clicks-change">\n        [[ getMatchingEventChangeText(change.selector) | truncate 40 ]].\n      </li>\n      <li v-repeat="property: changeCSSProperties"\n          v-class="getStatusClassForCSS(property)"\n          data-test-section="change-list-css-change">\n        [[ getCSSChangeDescription(property) | truncate 40 ]].\n      </li>\n    </ul>\n\n    <ul class="sidenav__change-list"\n        v-if="change.type === changeTypes.WIDGET">\n      \x3c!-- TODO: Discuss further with Zach. It\'s weird to always show Add Widget with a green dot after the first publish --\x3e\n      <li v-class="getAddWidgetStatusClass()">\n        Add Extension\n      </li>\n      <li v-repeat="attribute: change.config"\n          v-class="getStatusClassForProperty(attribute.$key)"\n          v-show="change.type === changeTypes.WIDGET"\n          data-test-section="change-list-plugin-change">\n        Set [[ attribute["$key"] ]] to "[[ attribute["$value"] ]]".\n      </li>\n    </ul>\n\n    <ul class="sidenav__change-list"\n        v-if="change.type === changeTypes.INSERT_HTML">\n      <li v-class="getStatusClassForInsertHTML(attribute)"\n          data-test-section="change-list-insert-html-change">\n        Inserted [[ change.value | truncate 40 ]] [[ change.operator | insert-location ]] [[ change.selector ]].\n      </li>\n      <li v-class="getStatusClassForInsertHTML(attribute)"\n          data-test-section="change-list-insert-html-change">\n          <span v-if="!change.async">Changed timing to synchronous.</span>\n          <span v-if="change.async">Changed timing to asynchronous.</span>\n      </li>\n    </ul>\n\n    <ul class="sidenav__change-list"\n        v-if="change.type === changeTypes.INSERT_IMAGE">\n      <li v-class="getStatusClassForInsertHTML(attribute)"\n          data-test-section="change-list-insert-image-change">\n        Inserted [[ getImageNameFromHTML(change.value) | truncate 40 ]] [[ change.operator | insert-location ]] [[ change.selector ]].\n      </li>\n    </ul>\n\n    <ul class="sidenav__change-list"\n        v-if="change.type === changeTypes.REDIRECT">\n      <li\n          v-if="change.dest"\n          v-class="getStatusClassForProperty(\'dest\')"\n          data-test-section="change-list-redirect-change">\n        Redirect to "[[ change.dest | truncate 20 ]]"\n      </li>\n      <li\n          v-if="change.dest_fn"\n          v-class="getStatusClassForProperty(\'dest_fn\')"\n          data-test-section="change-list-redirect-change">\n        Redirect to "[[ change.dest_fn | truncate 20 ]]"\n      </li>\n      <li\n        v-if="change.dest"\n        v-class="getStatusClassForProperty(\'preserveParameters\')">\n        <span v-if="change.preserveParameters">\n          Preserve query parameters\n        </span>\n        <span v-if="!change.preserveParameters">\n          Do not preserve query parameters\n        </span>\n      </li>\n      <li v-class="getStatusClassForProperty(\'allowAdditionalRedirect\')">\n        <span v-if="change.allowAdditionalRedirect">\n          Allow immediately after a prior redirect\n        </span>\n        <span v-if="!change.allowAdditionalRedirect">\n          Do not allow immediately after a prior redirect\n        </span>\n      </li>\n    </ul>\n  </div>\n</li>\n'},function(t,r,a){"use strict";var i,o,c=a(28),l=a(3),u=a(1),d=a.n(u),p=a(0),m=a.n(p),g=a(2),h=a(66),y=a.n(h),v=a(13),_=a(177),E=a.n(_),b=a(393),T=a.n(b),S=a(247),C=a.n(S),I=a(90),A=a.n(I),O=a(301),P=a.n(O),R=a(83),w=a(110),N=a(85),L=a(22),x=a(39),D=a(91),k=a(694),j=a(2508),M=a(2510);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var U=D.g.SidebarHeader,V=Object(c.a)({canCrossBrowserTest:x.default.canCrossBrowserTest,canUsePreview:x.default.canUsePreview,currentLayer:y.a.layer,currentLayerExperimentOrSection:A.a.currentLayerExperimentOrSection,currentProject:v.default.project,selectedVariationId:A.a.selectedVariationId,selectedView:A.a.selectedView,variationsInCurrentLayerExperimentOrSection:A.a.variationsInCurrentLayerExperimentOrSection})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(Header,t);var r=_createSuper(Header);function Header(){var t;_classCallCheck(this,Header);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).navigateBack=function(){var r=l.default.evaluate(T.a.hasDirtyCustomCode);N.default.confirmNavigation(r,w.c.CHANGE_TYPES.custom_code,(function(){E.a.resetCustomCodeTabsDirty(),C.a.unselectAction(),t.props.onActionSelect({shouldShowCampaignNavSidebar:!0})}))},t.showVariationSwitcher=function(){var r=L.default.canViewVariationsInP13N(t.props.currentProject,t.props.currentLayer),a=R.default.isPersonalizationLayer(t.props.currentLayer);return r||!a},t.showPreviewButton=function(){var r=t.props.canUsePreview,a=l.default.evaluate(A.a.activeFrameEditorType),i=R.default.isMultivariateTestLayer(t.props.currentLayer);return r&&!i&&a!==P.a.EditorTypes.EXPERIMENT_EDITOR_READ_ONLY},t.getTitle=function(){var r=R.default.isABTestLayer(t.props.currentLayer),a=L.default.canViewVariationsInP13N(t.props.currentProject,t.props.currentLayer);return r?t.props.currentLayer.get("name"):a?l.default.evaluateToJS(A.a.currentExperimentOrSectionDisplayName):l.default.evaluateToJS(A.a.selectedVariationDisplayName)},t.getBackLinkText=function(){var r=R.default.isABTestLayer(t.props.currentLayer),a=R.default.isMultivariateTestLayer(t.props.currentLayer);return r?"Variations":a?"Sections":"Experiences"},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(Header,[{key:"render",value:function render(){var t=this.props,r=t.currentLayer,a=t.currentProject,i=R.default.isPersonalizationLayer(r);return m.a.createElement(U,{projectName:a.get("project_name"),backLinkOnClick:this.navigateBack,backLinkText:this.getBackLinkText(),title:this.getTitle()},i&&m.a.createElement("div",{className:"micro muted","data-test-section":"change-list-p13n-layer-name"},r.get("name")),r?m.a.createElement(k.a,{entityId:r.get("id")}):null,this.showVariationSwitcher()&&m.a.createElement(M.a,this.props),this.showPreviewButton()&&m.a.createElement(j.a,this.props))}}]),Header}(m.a.Component)).propTypes={canCrossBrowserTest:d.a.bool.isRequired,canUsePreview:d.a.bool.isRequired,currentLayer:d.a.instanceOf(g.default.Map).isRequired,currentLayerExperimentOrSection:d.a.instanceOf(g.default.Map).isRequired,currentProject:d.a.instanceOf(g.default.Map).isRequired,onActionSelect:d.a.func.isRequired,selectedVariationId:d.a.number.isRequired,selectedView:d.a.instanceOf(g.default.Map).isRequired,variationsInCurrentLayerExperimentOrSection:d.a.instanceOf(g.default.List).isRequired},i=o))||i;r.a=V},,,,function(t,r,a){function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=a(16).Link,o=a(16).Typography,c=a(16).Attention,l=a(2).default,u=a(1),d=a(0),p=a(3451),m=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ConcurrentEditingBanner,t);var r=_createSuper(ConcurrentEditingBanner);function ConcurrentEditingBanner(){var t;_classCallCheck(this,ConcurrentEditingBanner);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={showDialog:!1},t.toggleDialog=function(){return t.setState((function(t){return{showDialog:!t.showDialog}}))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ConcurrentEditingBanner,[{key:"render",value:function render(){var t=this.state.showDialog,r=this.props.users,a=d.createElement(c,{type:"brand",className:"push-double--bottom push--top","data-test-section":"concurrent-editing-banner"},d.createElement("div",null,t?d.createElement(p,{users:r,onClose:this.toggleDialog}):null,d.createElement("div",{className:"flex--1 soft--right soft--left"},d.createElement(o,{type:"body"},"Other users are currently editing this experiment."," ",d.createElement(i,{href:"#","data-test-section":"concurrent-editing-banner__more-information",onClick:this.toggleDialog},"More info")))));return r.size?a:null}}]),ConcurrentEditingBanner}(d.Component);m.propTypes={users:u.instanceOf(l.List)},m.defaultProps={users:l.List()},t.exports=m},,,,,,,,,,,,,,,,,,,,,,,,,,function(t,r,a){"use strict";var i=a(9),o=a.n(i),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(26),m=a(61),g=a.n(m),h=a(3),y=a(2),v=a(5),_=a(182),E=a.n(_),b=a(123),T=a.n(b),S=a(18),C=a(29),I=(a(22),a(70)),A=a(24),O=a(378),P=a(2509),R=a(76),w=a(368);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var N=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(PreviewButton,t);var r=_createSuper(PreviewButton);function PreviewButton(){var t;_classCallCheck(this,PreviewButton);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).registerMarketoPreview=function(){g.a.trackMarketoEvent("x_editor_sidebar","preview","experiment",t.props.currentLayerExperimentOrSection.get("id"))},t.disablePreviewButton=function(){var r=t.props,a=r.currentLayer,i=r.currentLayerExperimentOrSection,o=r.currentProject,c=r.selectedView,l=I.fns.isUsingV2Snippet(o),u=a&&a.get("archived")||i&&i.get("status")===C.default.status.ARCHIVED;return!c||!l||u},t.handleCrossBrowserTestingButtonClick=function(){g.a.track(g.a.getPageName(),"used","cross-browser-testing")},t.handleNoCrossBrowserTestingButtonClick=function(){g.a.track(g.a.getPageName(),"shown","cross browser testing upsell"),v.default.showUpsell({dataTestSection:"cross-browser-testing-dialog",label:tr("Cross-Browser Testing"),title:tr("Get Cross-Browser Testing"),confirmText:tr("View Plans"),cancelText:tr("No Thanks"),featureText:tr("<h4>Cross-browser testing allows you to preview your variations in each major browser.</h4><br>"),message:tr("<p>Visit our plans page to learn more!</p>"),buttonColor:"oui-button--highlight",contactURL:E.a.plansAndPricing()})},t.renderCrossBrowserTestingLink=function(){var r=T.a.optimizelyHRDUrl(S.constants.CROSS_BROWSER_TESTING_ROUTE+encodeURIComponent(h.default.evaluate(S.getters.previewUrlForAction)));return t.props.canCrossBrowserTest?d.a.createElement("a",{className:"lego-dropdown__block-link nowrap",target:"_blank",rel:"noopener noreferrer",href:r,onClick:t.handleCrossBrowserTestingButtonClick,"data-test-section":"cross-browser-testing-link"},"Cross-Browser Test"):d.a.createElement("a",{className:"lego-dropdown__block-link nowrap",onClick:t.handleNoCrossBrowserTestingButtonClick,"data-test-section":"cross-browser-testing-link-upsell"},"Cross-Browser Test",d.a.createElement(p.a,{name:"lock",size:"small",className:"oui-icon oui-icon--small push-half--left","data-test-section":"cross-browser-testing-lock-icon"}))},t.handleShareLinkClick=function(){v.default.showReactDialog(P.a,{dataBindings:{shareLinkUrl:S.getters.previewUrlForActionWithoutTool}},{fullScreen:!1})},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(PreviewButton,[{key:"render",value:function render(){var t=this.props.currentProject,r=I.fns.isUsingV2Snippet(t),a=o()({"oui-button":!0,"oui-button--highlight":!0,"oui-button--full":!0,"pointer-events--none":this.disablePreviewButton()});return d.a.createElement("div",null,d.a.createElement("div",{className:"flex lego-button-group sidebar-preview-button push--bottom","data-test-section":"change-list-preview"},d.a.createElement("a",{className:a,href:h.default.evaluate(S.getters.previewUrlForAction),onClick:this.registerMarketoPreview,target:"_blank",rel:"noopener noreferrer","data-test-section":"change-list-preview-link",disabled:this.disablePreviewButton()},"Preview"),d.a.createElement(R.a,{activator:d.a.createElement("button",{type:"button",className:"oui-button oui-button--highlight",disabled:this.disablePreviewButton(),"data-test-section":"change-list-preview-dropdown-button",style:{borderTopLeftRadius:0,borderBottomLeftRadius:0,marginLeft:"2px"}},d.a.createElement("span",{className:"flush--left"},d.a.createElement(p.a,{name:"angle-down",size:"small"})))},d.a.createElement(R.e,null,d.a.createElement(R.f,null,d.a.createElement("a",{className:"lego-dropdown__block-link nowrap",href:h.default.evaluate(S.getters.previewUrlForAction),target:"_blank",rel:"noopener noreferrer"},"Preview Tool")),d.a.createElement(R.f,null,d.a.createElement("a",{className:"lego-dropdown__block-link nowrap",onClick:this.handleShareLinkClick,"data-test-section":"share-link"},"Share Link")),d.a.createElement(R.f,null,this.renderCrossBrowserTestingLink())))),!r&&d.a.createElement("div",{className:"lego-media soft--top","data-test-section":"turn-on-v2-snippet-text"},d.a.createElement(p.a,{name:"circle-exclamation",size:"small",className:"oui-icon color--brand lego-media__img"}),d.a.createElement("div",{className:"lego-media__body micro"},"Please"," ",d.a.createElement(w.a,{href:A.default.projectSettingsImplementation(t.id)}," ","enable ",h.default.evaluate(O.a.v2PlatformText)," ")," ","in your snippet to use the preview function.")))}}]),PreviewButton}(d.a.Component);N.propTypes={canCrossBrowserTest:l.a.bool.isRequired,currentLayer:l.a.instanceOf(y.default.Map).isRequired,currentLayerExperimentOrSection:l.a.instanceOf(y.default.Map).isRequired,currentProject:l.a.instanceOf(y.default.Map).isRequired,selectedView:l.a.instanceOf(y.default.Map).isRequired},r.a=N},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(2079),d=a.n(u),p=a(52),m=a(98),g=a(19),h=a(26),y=a(1392),v=function ShareLinkReactComponent(t){var r=d.a.svgObject(t.shareLinkUrl),a=r&&r.size?"0 0 ".concat(r.size," ").concat(r.size):"0 0 0 0";return o.a.createElement("div",{"data-test-section":"share-link-dialog",className:"lego-dialog--narrow"},o.a.createElement("div",{className:"lego-dialog__header flush--bottom soft--bottom"},o.a.createElement("div",{className:"lego-dialog__title"},"Share Link")),o.a.createElement("fieldset",{className:"lego-dialog__body flush--bottom soft-double--bottom"},o.a.createElement("p",{className:"push--bottom"},"Share this URL to let others preview this variation."),o.a.createElement("div",{className:"anchor--middle width--3-5"},o.a.createElement(p.a,{type:"text",testSection:"share-link-input",isReadOnly:!0,value:t.shareLinkUrl}),o.a.createElement("div",{className:"push--top"},o.a.createElement(m.a,{centerGroup:[o.a.createElement(y.a,{textToCopy:t.shareLinkUrl,key:1},o.a.createElement(g.a,{style:"outline",testSection:"share-link-copy-btn"},o.a.createElement(h.a,{name:"clipboard",size:"small",className:"oui-icon vertical-align--middle",color:"color--brand"}),"  Copy Link")),o.a.createElement("a",{key:2,className:"oui-button oui-button--outline",href:t.shareLinkUrl,target:"_blank",rel:"noopener noreferrer","data-test-section":"share-link-open-btn"},o.a.createElement(h.a,{name:"arrow-up-right-from-square",size:"small",className:"oui-icon vertical-align--middle",color:"color--brand"}),"  Open Link")]}))),o.a.createElement("div",{className:"push-double--top"},o.a.createElement("p",null,o.a.createElement("strong",null,"Mobile preview:")," You can also scan the QR code with your preferred QR code reader on a mobile device.")),o.a.createElement("div",{className:"qr-code push--ends"},o.a.createElement("svg",{className:"anchor--middle width--200 display--block",viewBox:a,xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{"data-test-section":"qr-code-path",d:r.path})))))};v.propTypes={shareLinkUrl:l.a.string.isRequired},r.a=v},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(26),d=a(3),p=a(2),m=a(18),g=a(110),h=a(85),y=a(76);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){_inherits(VariationSwitcher,t);var r=_createSuper(VariationSwitcher);function VariationSwitcher(){var t;_classCallCheck(this,VariationSwitcher);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).handleVariationSwitcherClick=function(r){var a=t.props.selectedView.toJS(),i=t.props.currentLayerExperimentOrSection.get("id"),o=d.default.evaluate(m.default.getters.currentlyEditingChangeIsDirty);h.default.confirmNavigation(o,g.c.CHANGE,(function(){m.default.actions.unsetCurrentlyEditingChange(),m.default.actions.unselectAction();var o={view:a,experimentOrSectionId:i};r.get("variation_id")===m.default.constants.EVERYONE_ELSE_AUDIENCE.variation_id?o.isReadOnlyMode=!0:o.variationId=r.get("variation_id"),t.props.onActionSelect(o)}))},t}return _createClass(VariationSwitcher,[{key:"render",value:function render(){var t=this,r=this.props.variationsInCurrentLayerExperimentOrSection;return l.a.createElement("div",{className:"sidebar-variation-switcher push--bottom push-double--top","data-test-section":"variation-switcher"},l.a.createElement(y.a,{width:"100%",activator:l.a.createElement("button",{type:"button",className:"oui-button oui-button--full soft--left text--left","data-test-section":"variation-switcher-dropdown"},l.a.createElement("div",{className:"flex","data-test-section":"selected-variation-name"},l.a.createElement("div",{className:"flex--1 truncate"},d.default.evaluate(m.default.getters.selectedVariationDisplayName)),l.a.createElement("div",{className:"text--right"},l.a.createElement("span",null,l.a.createElement(u.a,{name:"angle-down",size:"small"})))))},l.a.createElement(y.e,null,r.map((function(r){return l.a.createElement(_,{key:r.get("variation_id"),variation:r,isSelected:r.get("variation_id")===t.props.selectedVariationId,onVariationClick:t.handleVariationSwitcherClick})})))))}}]),VariationSwitcher}(l.a.Component);v.propTypes={currentLayerExperimentOrSection:o.a.instanceOf(p.default.Map).isRequired,onActionSelect:o.a.func.isRequired,selectedVariationId:o.a.number.isRequired,selectedView:o.a.instanceOf(p.default.Map).isRequired,variationsInCurrentLayerExperimentOrSection:o.a.instanceOf(p.default.List).isRequired};var _=function(t){_inherits(VariationOption,t);var r=_createSuper(VariationOption);function VariationOption(){var t;_classCallCheck(this,VariationOption);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).onClick=function(){t.props.onVariationClick(t.props.variation)},t}return _createClass(VariationOption,[{key:"render",value:function render(){return l.a.createElement(y.f,{hideOnClick:!0},l.a.createElement(y.b,{onClick:this.onClick,testSection:"variation-switcher-option"},l.a.createElement("span",{className:this.props.isSelected?"color--base":""},this.props.variation.get("name"))))}}]),VariationOption}(l.a.Component);_.propTypes={isSelected:o.a.bool.isRequired,onVariationClick:o.a.func.isRequired,variation:o.a.instanceOf(p.default.Map).isRequired},r.a=v},function(t,r,a){t.exports='<div class="stage__item__content--column"\n     data-test-section="change-list-sidebar">\n  <div v-el="editorSidebarHeader"></div>\n\n  <div class="sidenav__body flex flex-align--center"\n       data-test-section="change-list-sidebar-body"\n       v-if="editorType === editorTypes.EXPERIMENT_EDITOR_READ_ONLY">\n    <div class="flex justify-content flex-align--center flex--column muted">\n      <h3>View Only</h3>\n      <div class="text--center">You can only make changes to experiences with audiences.</div>\n    </div>\n  </div>\n\n  <div class="sidenav__body"\n       v-if="editorType !== editorTypes.EXPERIMENT_EDITOR_READ_ONLY">\n    <div class="sidenav__section">\n      <div class="sidenav__section__title soft--bottom">\n        <h5>Changes</h5>\n        <a class="lego-button lego-button--outline anchor--right"\n           v-class="lego-button--disabled: !canAddNewChange"\n           v-on="click: createChange"\n           data-test-section="create-change-button">\n          Create\n          <span class="lego-arrow-inline--right"></span>\n        </a>\n      </div>\n      <ul class="nav-list nav-list--changes"\n          data-test-section="change-list">\n\n        <li class="nav-list__link nav-list__link--nested"\n            v-if="currentActionCustomCode || currentActionCustomCodeLinesChanged.removed"\n            v-on="click: openCustomCode(customCodeTypes.JAVASCRIPT)"\n            data-table-row-id="[[ currentActionCustomCode.id ]]"\n            data-test-section="custom-js-change-item">\n          <div class="soft--ends soft-double--sides">\n            <div>Custom JavaScript</div>\n            <ul class="sidenav__change-list">\n              <li class="color--good-news"\n                  v-if="currentActionCustomCodeLinesChanged.added"\n                  v-text="linesAddedStatusText"\n                  data-test-section="custom-js-change-item-lines-added">\n              <li class="color--bad-news"\n                  v-if="currentActionCustomCodeLinesChanged.removed"\n                  v-text="linesRemovedStatusText"\n                  data-test-section="custom-js-change-item-lines-removed">\n              </li>\n            </ul>\n          </div>\n        </li>\n\n        <li class="nav-list__link nav-list__link--nested"\n            v-if="currentActionCustomCss || currentActionCustomCssLinesChanged.removed"\n            v-on="click: openCustomCode(customCodeTypes.CSS)"\n            data-table-row-id="[[ currentActionCustomCss.id ]]"\n            data-test-section="custom-css-change-item">\n          <div class="soft--ends soft-double--sides">\n            <div>Custom CSS</div>\n            <ul class="sidenav__change-list">\n              <li class="color--good-news"\n                  v-if="currentActionCustomCssLinesChanged.added"\n                  v-text="cssLinesAddedStatusText"\n                  data-test-section="custom-css-change-item-lines-added">\n              <li class="color--bad-news"\n                  v-if="currentActionCustomCssLinesChanged.removed"\n                  v-text="cssLinesRemovedStatusText"\n                  data-test-section="custom-css-change-item-lines-removed">\n              </li>\n            </ul>\n          </div>\n        </li>\n        <li v-repeat="change: currentActionAttributeChangesWithStatus"\n            v-component="change-list-sidebar-table-row"\n            v-on="click: handleChangeClick(change),\n                  mouseenter: handleMouseEnter(change),\n                  mouseleave: handleMouseLeave(change)"\n            v-with="isEditorLoadingFinal: isEditorLoadingFinal,\n                  currentActionRedirectChange: currentActionRedirectChange"\n            data-table-row-id="[[ change.id ]]"\n            data-test-section="change-list-item">\n        </li>\n        <li class="nav-list__link nav-list__link--nested"\n          v-show="!isEventInChangeList(event)"\n          v-repeat="event: currentViewClickEvents"    \n          data-test-section="track-click-change-item"\n            v-on="click: createDefaultChangeForEvent(event),\n                  mouseenter: handleMouseEnterForTrackClick(event),\n                  mouseleave: handleMouseLeaveForTrackClick(event)">\n              <div class="soft--ends soft-double--sides">\n                <div>[[ event.event_filter.selector ]]</div>\n                <ul class="sidenav__change-list">\n                  <li class="sidenav__change-list--live">\n                    [[ getTrackClickChangeText(event) | truncate 40 ]].\n                  </li>\n                </ul>\n              </div>  \n        </li>\n      </ul>\n      <div class="sidenav__empty" data-test-section="change-list-empty-state-body" v-show="isEmpty && !currentViewHasClickEvents">\n        <img class="sidenav__empty__img" src="'+a(3485)+'">\n        <p class="muted push--top">\n          To make a change, select an element on the page.\n        </p>\n        <img class="sidenav__empty__arrow" src="'+a(3486)+'">\n      </div>\n    </div>\n  </div>\n</div>\n'},function(t,r,a){"use strict";var i,o=a(1),c=a.n(o),l=a(0),u=a.n(l),d=a(32),p=a(26),m=a(52),g=a(19),h=a(5),y=a(39),v=a(606),_=a.n(v),E=a(2513);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.a=h.default.connectGetters(((i=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(InnerInput,t);var r=_createSuper(InnerInput);function InnerInput(){var t;_classCallCheck(this,InnerInput);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).inputRef=u.a.createRef(),t.onClickSearch=function(){t.props.isSearching?t.props.onSearchCancel():t.props.onSearchStart()},t.onKeyDown=function(r){if(r.keyCode===_.a.ESCAPE_KEY)return t.inputRef.current.blur(),void t.props.onTextEditRevert();r.keyCode===_.a.ENTER_KEY&&(t.inputRef.current.blur(),t.onTextEditConfirm())},t.onTextEdit=function(r){t.props.onTextEdit(r.target.value)},t.onTextEditConfirm=function(){t.props.onTextEditConfirm(t.props.value)},t.storeSelectorInputGroup=function(r){t.selectorInputGroup=r},t.renderSelectContainer=function(){var r=t.props,a=r.activeFrameId,i=r.allDisabled,o=r.applyNewSelector,c=r.value;return u.a.createElement(d.a,{buttonContent:u.a.createElement(p.a,{className:"oui-icon",name:"bars",size:"small"}),isDisabled:i,placement:"bottom-end",style:"plain",testSection:"selector-input-select-container",width:t.selectorInputGroup&&t.selectorInputGroup.offsetWidth||260},u.a.createElement(E.a,{activeFrameId:a,applyNewSelector:o,value:c}))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(InnerInput,[{key:"render",value:function render(){var t=this.props,r=t.allDisabled,a=t.canUseSelectContainer,i=t.inputDisabled,o=t.isEditingText,c=t.isSearching,l=t.onTextEditRevert,d=t.onTextEditStart,h=t.placeholder,y=t.value,v=t.workingSelector,_=a&&!c&&!o&&!!v;return u.a.createElement("div",{className:"lego-button-group oui-button--selector-input",ref:this.storeSelectorInputGroup},u.a.createElement(m.a,{ref:this.inputRef,testSection:"selector-input",placeholder:h,value:y,onFocus:d,onChange:this.onTextEdit,onKeyDown:this.onKeyDown,isDisabled:i||r,type:"text",RightContainer:_&&this.renderSelectContainer}),o?u.a.createElement("div",{className:"lego-button-group"},u.a.createElement(g.a,{testSection:"selector-input-revert",size:"narrow",onClick:l,isDisabled:r},u.a.createElement(p.a,{className:"oui-icon",name:"xmark",size:"small"})),u.a.createElement(g.a,{testSection:"selector-input-confirm",size:"narrow",onClick:this.onTextEditConfirm,isDisabled:r},u.a.createElement(p.a,{className:"oui-icon",name:"check",size:"small"}))):u.a.createElement("div",{className:"lego-button-group"},u.a.createElement(g.a,{testSection:"selector-input-search",size:"narrow",isActive:c,onClick:this.onClickSearch,isDisabled:r},u.a.createElement(p.a,{className:"oui-icon",name:"search",size:"small"}))))}}]),InnerInput}(u.a.Component)).propTypes={activeFrameId:c.a.string.isRequired,allDisabled:c.a.bool.isRequired,inputDisabled:c.a.bool.isRequired,applyNewSelector:c.a.func.isRequired,isEditingText:c.a.bool.isRequired,isSearching:c.a.bool.isRequired,onSearchCancel:c.a.func,onSearchStart:c.a.func,onTextEdit:c.a.func,onTextEditConfirm:c.a.func,onTextEditRevert:c.a.func,onTextEditStart:c.a.func,placeholder:c.a.string,value:c.a.string.isRequired,workingSelector:c.a.string,canUseSelectContainer:c.a.bool.isRequired},i.defaultProps={placeholder:"",workingSelector:""},i),{canUseSelectContainer:y.canUseSelectContainer})},function(t,r,a){"use strict";a.d(r,"a",(function(){return y}));var i=a(4),o=a.n(i),c=a(9),l=a.n(c),u=a(1),d=a.n(u),p=a(0),m=a.n(p),g=a(74),h=a(1047);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(SelectContainer,t);var r=_createSuper(SelectContainer);function SelectContainer(){var t;_classCallCheck(this,SelectContainer);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={childSelectors:[],parentSelectors:[]},t.applyNewSelector=function(r,a){t.props.applyNewSelector(a)},t.fetchRelatedElementSelectors=function(r){g.actions.fetchRelatedElementSelectors(t.props.activeFrameId,r).then((function(r){t.setState({childSelectors:r.childSelectors,parentSelectors:r.parentSelectors})}))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(SelectContainer,[{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){this.fetchRelatedElementSelectors(this.props.value)}},{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(t){o.a.isEqual(this.props.value,t.value)||this.fetchRelatedElementSelectors(t.value)}},{key:"render",value:function render(){var t=this;return m.a.createElement("div",{className:"background--white push-half--top border--all","data-test-section":"select-container"},!!this.state.parentSelectors.length&&m.a.createElement("div",{"data-test-section":"current-and-parent-selectors"},m.a.createElement("div",{className:"border--bottom soft-half background--faint micro border--bottom"},"Parent Elements"),m.a.createElement("ul",{className:"lego-block-list-group no-border scrollbars--visible","data-test-section":"current-and-parent-selectors-list",style:{maxHeight:200}},this.state.parentSelectors.map((function(r,a){return m.a.createElement(h.a,{activeFrameId:t.props.activeFrameId,applyNewSelector:t.applyNewSelector,currentlyWorkingSelector:!1,key:r,selector:r})})),m.a.createElement(h.a,{activeFrameId:this.props.activeFrameId,applyNewSelector:this.applyNewSelector,currentlyWorkingSelector:!0,key:this.props.value,selector:this.props.value}))),!!this.state.childSelectors.length&&m.a.createElement("div",{"data-test-section":"child-selectors"},m.a.createElement("div",{className:l()({"background--faint":!0,"border--bottom":!this.state.parentSelectors.length,"border--ends":this.state.parentSelectors.length,micro:!0,"soft-half":!0})},"Child Elements"),m.a.createElement("ul",{className:"lego-block-list-group no-border scrollbars--visible","data-test-section":"child-selectors-list",style:{maxHeight:200}},this.state.childSelectors.map((function(r,a){return m.a.createElement(h.a,{activeFrameId:t.props.activeFrameId,applyNewSelector:t.applyNewSelector,currentlyWorkingSelector:!1,key:r,selector:r})})))),!this.state.parentSelectors.length&&!this.state.childSelectors.length&&m.a.createElement("div",{"data-test-section":"related-info-not-available"},m.a.createElement("div",{className:"border--bottom soft--sides soft-half--ends background--faint micro"},"Select Container"),m.a.createElement("p",{className:"flush soft--sides soft-half--ends muted"},"Related element info is not available.")))}}]),SelectContainer}(m.a.PureComponent);y.propTypes={activeFrameId:d.a.string.isRequired,applyNewSelector:d.a.func.isRequired,value:d.a.string.isRequired},y.defaultProps={childSelectors:[],parentSelectors:[]}},function(t,r){t.exports='<div class="sidenav__header">\n  <span class="micro muted">\n    [[ currentProjectName ]]\n  </span>\n\n  <div class="push--bottom" v-on="click: handleBackButtonClick">\n    <a class="nav-link" data-test-section="editor-sidebar-back-btn">\n      <svg\n        class="svg-inline--fa fa-arrow-left axiom-icon axiom-icon--tiny fa-fw"\n        fill="[[ getBrandBlueDark ]]"\n        viewBox="0 0 16 16"\n      >\n        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-left"></use>\n      </svg>\n      [[ backButtonText ]]\n    </a>\n  </div>\n\n  <div\n    class="push-double--bottom"\n    data-test-section="change-list-sidebar-context"\n  >\n    <div\n      class="sidenav__header__title gamma"\n      title="[[ sidebarTitle ]]"\n      data-test-section="sidebar-title"\n    >\n      [[ sidebarTitle ]]\n    </div>\n    <div\n      class="micro"\n      title="[[ currentLayer.name ]]"\n      data-test-section="sidebar-experiment-name"\n    >\n      [[ experienceOrExperimentName ]]\n    </div>\n    <div\n      class="micro muted"\n      title="[[ variationName ]]"\n      data-test-section="sidebar-variation-name"\n    >\n      [[ selectedVariationName ]]\n    </div>\n  </div>\n\n  <div v-el="concurrentEditingContainer"></div>\n\n  <div class="lego-grid lego-grid--gutter--narrow">\n    <div class="lego-grid__cell">\n      <button\n        class="lego-button lego-button--highlight lego-button--full"\n        v-on="click: handleSaveButtonClick"\n        v-lego-disabled="disableSaveButton"\n        data-test-section="change-editor-save-button"\n        data-track-id="2.0-VariationEditor-CreateChange.Save"\n      >\n        Save\n      </button>\n    </div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div class="stage__item__content--column"\n     data-test-section="change-selector-sidebar">\n  <div v-component="sidebar-header"></div>\n  <div class="sidenav__body">\n    <div class="sidenav__section__title">\n      <h5>Create Options</h5>\n    </div>\n    <div class="sidenav__section">\n      <ul class="nav-list nav-list--changes"\n          data-test-section="change-list">\n        <li class="nav-list__link nav-list__link--nested"\n            v-on="click: createDefaultChange()"\n            data-table-row-id="default-attribute-change"\n            data-test-section="default-attribute-change">\n          <div class="soft--ends soft-double--sides">\n            <div>Element Change</div>\n            <div class="muted milli">Make a change to an existing element</div>\n          </div>\n        </li>\n        <li class="nav-list__link nav-list__link--nested"\n            v-on="click: createInsertHTMLChange()"\n            data-table-row-id="insert-html-change"\n            data-test-section="insert-html-change">\n          <div class="soft--ends soft-double--sides">\n            <div>Insert HTML</div>\n            <div class="muted milli">Insert new HTML</div>\n          </div>\n        </li>\n        <li class="nav-list__link nav-list__link--nested"\n            v-on="click: createInsertImageChange()"\n            data-table-row-id="insert-image-change"\n            data-test-section="insert-image-change">\n          <div class="soft--ends soft-double--sides">\n            <div>Insert Image</div>\n            <div class="muted milli">Insert new image</div>\n          </div>\n        </li>\n        <li class="nav-list__link nav-list__link--nested"\n            data-table-row-id="default-redirect-change"\n            data-test-section="default-redirect-change"\n            v-on="click: createRedirectChange()">\n          <div class="soft--ends soft-double--sides">\n            <div>Redirect</div>\n            <div class="muted milli">Redirect this page to a different URL or page</div>\n          </div>\n        </li>\n        <li class="nav-list__link nav-list__link--nested"\n            data-table-row-id="[[ widget.id ]]"\n            data-test-section="widget-list-item"\n            v-on="click: selectWidget(widget)"\n            v-repeat="widget: enabledWidgets">\n          <div class="soft--ends soft-double--sides">\n            <div>[[ widget.name ]]</div>\n            <div class="muted milli">[[ widget.description ]]</div>\n            <div class="muted milli" data-test-section="widget-list-item-experiment-count">\n              [[ getExperimentUsageCount(widget) ]]\n            </div>\n          </div>\n        </li>\n      </ul>\n      <p class="muted push--top"\n         data-test-section="change-selector-sidebar-extensions-link"\n         v-if="canUsePlugins">\n        You can create new Extensions in the <a v-on="click: goToExtensionsTab">Extensions tab.</a>\n      </p>\n    </div>\n  </div>\n</div>\n'},function(t,r,a){"use strict";r.a={CHANGE_ID_ATTRIBUTE_PREFIX:"data-optly-"}},function(t,r){t.exports="/dist/static/img/p13n/selected-element-tag-16-d6f2d629eaef9667df5bde1f9f84dca9.svg"},function(t,r){t.exports="/dist/static/img/p13n/selected-element-event-16-f99a97675ba8b54263d99739597e07ce.svg"},function(t,r){t.exports="/dist/static/img/p13n/selected-element-tag-and-event-16-d129e293e1482ad47aac14672f30e1d7.svg"},function(t,r,a){function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var i=a(12),o=a(4),c=a(75).default,l=a(3),u=a(5),d=a(93),p=a(930),m=a(18),g=a(346),h=a(449).default,y=a(3528),v=a(1163),_=a(671).default,E={replace:!0,template:a(3530),components:{"color-picker":v},data:{backgroundImageEditingEnabled:!1,parentImage:c(m.constants.IMAGE_PROPERTIES)},methods:{backgroundColorChanged:function backgroundColorChanged(t){var r=l.evaluate(m.getters.cssValueFromCurrentlyEditingChange("background-color")),a=l.evaluate(m.getters.cssValueFromElement("background-color"));t&&t!==r&&t!==y.convertZeroAlphaForRgba(a)?(m.actions.setChangeCSSProperty(m.constants.CSSPropertyNames.BACKGROUND_COLOR,t),m.actions.applyCurrentlyEditingChange()):""!==t&&t!==a||(m.actions.removeChangeCSSProperty(m.constants.CSSPropertyNames.BACKGROUND_COLOR),null!==t&&m.actions.applyCurrentlyEditingChange())},calculateBackgroundColor:function calculateBackgroundColor(){var t=this;d.nextTick((function(){var r=l.evaluate(m.getters.cssValueFromCurrentlyEditingChange("background-color")),a=l.evaluate(m.getters.cssValueFromElement("background-color")),i=r||y.convertZeroAlphaForRgba(a);t.$.backgroundColorPicker&&t.$.backgroundColorPicker.$emit(p.EVENTS.SET_COLOR,i)}))},calculateImageProperties:function calculateImageProperties(){if(this.hasParentBackgroundImage()){var t=this.parentImage.displayValue;this.parentImage.displayValue=this.getParentBackgroundImageValue(),t!==this.parentImage.displayValue&&m.actions.setImageProperties(this.parentImage)}else this.parentImage=c(m.constants.IMAGE_PROPERTIES);this.backgroundImageEditingEnabled=!this.selectedElementNodeNameMatches("IMG"),this.$emit(g.EventTypes.CALCULATE_IMAGE_PORPERTIES,this.getImageValue())},getBackgroundImageFromParentElement:function getBackgroundImageFromParentElement(){return this.currentlyEditingChange.elementInfo&&1===this.currentlyEditingChange.elementCount&&this.currentlyEditingChange.elementInfo[0].parentBackground&&this.currentlyEditingChange.elementInfo[0].parentBackground.backgroundImage?m.fns.getUrlFromStyleValue(this.currentlyEditingChange.elementInfo[0].parentBackground.backgroundImage):null},getImageValue:function getImageValue(){var t=_slicedToArray([m.getters.cssValueFromCurrentlyEditingChange("background-image"),m.getters.cssValueFromElement("background-image")].map(l.evaluate).map(m.fns.convertProxyUrlToRelativeUrl).map(m.fns.getUrlFromStyleValue),2),r=t[0],a=t[1];return null!==r?r:a},getParentBackgroundImageValue:function getParentBackgroundImageValue(){var t=l.evaluate(m.getters.getChangeBySelector(this.currentlyEditingChangeParentBackground.selector));return t?m.fns.getUrlFromStyleValue(t.getIn(["css","background-image"])):m.fns.convertProxyUrlToRelativeUrl(this.getBackgroundImageFromParentElement())},hasParentBackgroundImage:function hasParentBackgroundImage(){return!!this.getBackgroundImageFromParentElement()},imageChanged:function imageChanged(t){if(null!==t){var r=_slicedToArray([m.getters.storedCSSValue("background-image"),m.getters.cssValueFromElement("background-image")].map(l.evaluate).map(m.fns.getUrlFromStyleValue),2),a=r[0],i=r[1];null!==a&&t===a||null===a&&t===i?m.actions.revertCSSProperty("background-image"):m.actions.setChangeCSSProperty("background-image","url(".concat(t,")")),this.calculateImageProperties(),m.actions.applyCurrentlyEditingChange()}},initializeInputFields:function initializeInputFields(){if(!i(this.$$.imageInputManager).is(":focus")){var t=l.evaluate(m.getters.cssValueFromChangeOrElement("background-image")),r=m.fns.getUrlFromStyleValue(t)||"";this.$emit(g.EventTypes.SET_IMAGE_URL,r)}i(this.$$.parentImage).is(":focus")||(this.$$.parentImage.value=this.parentImage.displayValue)},revertBackgroundColor:function revertBackgroundColor(){this.revertChangeAttribute("css","background-color"),this.calculateBackgroundColor()},revertBackgroundImage:function revertBackgroundImage(){m.actions.revertCSSProperty("background-image"),this.calculateImageProperties()},setupChange:function setupChange(){this.currentlyEditingChange&&(this.initializeInputFields(),this.calculateImageProperties())},switchToParentChange:function switchToParentChange(t){this.$parent.switchToChange(t)}},created:function created(){l.bindVueValues(this,{activeFrameId:m.getters.activeFrameId,changeStatusMap:m.getters.changeStatusMap(),currentlyEditingChange:m.getters.currentlyEditingChange,currentlyEditingChangeParentBackground:m.getters.currentlyEditingChangeParentBackground,editingEnabled:m.getters.changeEditorEditingEnabled,isEditorReadOnly:m.getters.isEditorReadOnly})},ready:function ready(){u.renderReactComponent(this,{component:_,el:this.$$.imageInputManager,dataBindings:{isEditorReadOnly:m.getters.isEditorReadOnly,isEditingSelector:m.getters.changeEditorIsEditingSelector},props:{setupChange:this.setupChange.bind(this),onImageChange:this.imageChanged.bind(this),imageEditingEnabled:!this.isEditingSelector}}),this.calculateBackgroundColor(),this.__unwatchCurrentlyEditingChange=l.observe(m.getters.currentlyEditingChange,this.setupChange.bind(this)),this.__unwatchCurrentlyEditingChangeId=l.observe(m.getters.currentlyEditingChangeId,this.calculateBackgroundColor.bind(this)),this.$.backgroundColorPicker.$on(p.EVENTS.COLOR_UPDATED,this.backgroundColorChanged.bind(this))},beforeDestroy:function beforeDestroy(){this.__unwatchCurrentlyEditingChange&&this.__unwatchCurrentlyEditingChange(),this.__unwatchCurrentlyEditingChangeId&&this.__unwatchCurrentlyEditingChangeId()}};t.exports=o.merge({},h,E)},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(12),l=a.n(c),u=a(3),d=a(5),p=a(18),m=a(74),g=a(346),h=a.n(g),y=a(29),v=a(110),_=a(128),E=a(671),b=a(448),T=a(288),S=a(819),C=a.n(S),I=a(2524),A={replace:!0,template:a.n(I).a,data:{changeStatuses:y.default.ChangeStatuses,codeMirrorInitialized:!1,_codeMirrors:{html:null},imageEditingEnabled:!1,shouldObserveCodeMirror:!0},directives:{resizable:C.a},computed:{hrefEditingEnabled:function hrefEditingEnabled(){return this.currentlyEditingChange,this.selectedElementNodeNameMatches("A")},htmlEditingEnabled:function htmlEditingEnabled(){return this.isEditingSelector,this.isEditorReadOnly,this.childrenWithExistingChanges,!this.isEditingSelector&&!this.isEditorReadOnly&&!this.childrenWithExistingChanges.length},hrefForParentAnchor:function hrefForParentAnchor(){if(this.currentlyEditingChangeParentAnchor){var t=this.currentlyEditingChangeParentAnchor.selector,r=this.currentlyEditingChangeParentAnchor.href||null,a=p.default.actions.getChangeMatchingSelector(t);return a&&a.attributes&&a.attributes.href?a.attributes.href:r}return null},statusClassForAttributes:function statusClassForAttributes(){return{href:this.getStatusClassForAttribute([this.changeStatusMap.attributes.href]),html:this.getStatusClassForAttribute([this.changeStatusMap.attributes.html]),image:this.getStatusClassForAttribute([this.changeStatusMap.attributes.src]),selector:this.getStatusClassForAttribute([this.changeStatusMap.selector])}}},methods:{blurInputFields:function blurInputFields(){l()(this.$$.href).blur(),l()(this.$$.name).blur(),this.codeMirrorInitialized&&this._codeMirrors.html.getInputField().blur()},calculateImageProperties:function calculateImageProperties(){this.imageEditingEnabled=this.selectedElementNodeNameMatches("IMG"),this.$emit(h.a.EventTypes.CALCULATE_IMAGE_PORPERTIES,this.getImageValue())},getImageValue:function getImageValue(){if(this.selectedElementNodeNameMatches("IMG")){if(null!==this.currentlyEditingChange.attributes.src)return this.currentlyEditingChange.attributes.src;if(1===this.currentlyEditingChange.elementCount)return p.default.fns.convertProxyUrlToRelativeUrl(this.currentlyEditingChange.elementInfo[0].src)||null}return null},createEditorSidebarChange:function createEditorSidebarChange(t){var r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_.actions.confirmNavigation(this.currentlyEditingChangeIsDirty,v.c.CHANGE,(function(){p.default.actions.setChangeBasedOnSelector(a);var i=u.default.evaluateToJS(p.default.getters.currentlyEditingActionFormatted(!0));m.actions.applyChanges(r.activeFrameId,i),t()}))},handleShowChangeEditorSidebarForSelector:function handleShowChangeEditorSidebarForSelector(t){this.createEditorSidebarChange(_.actions.showChangeEditorSidebar,t)},handleCreateDefaultChange:function handleCreateDefaultChange(){this.createEditorSidebarChange(_.actions.showChangeEditorSidebar)},handleCreateInsertHTMLChange:function handleCreateInsertHTMLChange(){this.createEditorSidebarChange(_.actions.showInsertHTMLSidebar)},handleCreateInsertImageChange:function handleCreateInsertImageChange(){this.createEditorSidebarChange(_.actions.showInsertImageSidebar)},imageChanged:function imageChanged(t){this.selectedElementNodeNameMatches("IMG")&&this.setAttribute("src",t)},initializeInputFields:function initializeInputFields(){l()(this.$$.href).is(":focus")||(this.$$.href.value=this.getAttribute("href")),this._codeMirrors.html&&!this._codeMirrors.html.hasFocus()&&(this.shouldObserveCodeMirror=!1,this._codeMirrors.html.setValue(this.getAttribute("html")),this.shouldObserveCodeMirror=!0)},setupChange:function setupChange(){this.currentlyEditingChange&&(this.calculateImageProperties(),this.initializeInputFields(),this.safelyEnsureHTMLCodeMirrorDisableState(),this.shouldShowLayoutSectionExpanded=!this.selectedElementNodeNameMatches("IMG")&&!this.selectedElementNodeNameMatches("A"))},safelyEnsureHTMLCodeMirrorDisableState:function safelyEnsureHTMLCodeMirrorDisableState(){if(this.codeMirrorInitialized){var t=!this.htmlEditingEnabled;this.toggleCodeMirrorComponentsDisabled(t)}}},created:function created(){u.default.bindVueValues(this,{activeFrameId:p.default.getters.activeFrameId,changeStatusMap:p.default.getters.changeStatusMap(),childrenWithExistingChanges:p.default.getters.childrenWithExistingChanges,currentlyEditingChange:p.default.getters.currentlyEditingChange,currentlyEditingChangeIsDirty:p.default.getters.currentlyEditingChangeIsDirty,currentlyEditingChangeParentAnchor:p.default.getters.currentlyEditingChangeParentAnchor,isEditorReadOnly:p.default.getters.isEditorReadOnly,isEditingSelector:p.default.getters.changeEditorIsEditingSelector}),this._resizableOptions={handles:"se",minHeight:200,reset:!0,resize:this.resizeCodeMirror.bind(this)}},ready:function ready(){var t=this;d.default.renderReactComponent(this,{component:E.default,el:this.$$.imageInputManager,dataBindings:{isEditorReadOnly:p.default.getters.isEditorReadOnly,isEditingSelector:p.default.getters.changeEditorIsEditingSelector},props:{setupChange:this.setupChange.bind(this),onImageChange:this.imageChanged.bind(this),imageEditingEnabled:!this.isEditingSelector}}),this.codeMirrorInitialized||(this._codeMirrors.html=this.initializeCodeMirrorField(this.$$.html,"html","htmlmixed",this.setAttribute.bind(this)),this.codeMirrorInitialized=!0,this.safelyEnsureHTMLCodeMirrorDisableState()),this.initializeInputFields(),this.$on("blurInput",this.blurInputFields.bind(this)),this.__unwatchCurrentlyEditingChange=u.default.observe(p.default.getters.currentlyEditingChange,this.setupChange.bind(this)),this.$on("sidebarResizeEvent",(function(){t.refreshCodeMirror(t._codeMirrors.html)})),d.default.renderReactComponent(this,{component:b.default,el:this.$$.elementSelectorInput,dataBindings:{currentSelectorHighlightOptions:p.default.getters.currentlyEditingChangeHighlighterOptions,elementCount:p.default.getters.elementCountFromCurrentlyEditingChange,iframe:m.getters.iframeComponent(this.activeFrameId),isDisabled:p.default.getters.selectorInputIsDisabled(p.default.constants.SelectorInputTypes.ELEMENT_SELECTOR),value:p.default.getters.currentlyEditingChangeSelector},props:{onChange:p.default.actions.onChangeSelectorInput,onEditStart:o.a.partial(p.default.actions.toggleElementSelection,!0,p.default.constants.SelectorInputTypes.ELEMENT_SELECTOR),onEditStop:o.a.partial(p.default.actions.toggleElementSelection,!1,p.default.constants.SelectorInputTypes.ELEMENT_SELECTOR),selectorInputType:p.default.constants.SelectorInputTypes.ELEMENT_SELECTOR}}),u.default.observe(p.default.getters.changeEditorIsEditingSelector,this.safelyEnsureHTMLCodeMirrorDisableState.bind(this))},beforeDestroy:function beforeDestroy(){this.__unwatchCurrentlyEditingChange&&this.__unwatchCurrentlyEditingChange()}};r.a=o.a.merge({},T.b,T.a,A)},function(t,r,a){"use strict";var i=a(12),o=a.n(i),c=a(93),l=a.n(c),u={methods:{initializeCodeMirror:function initializeCodeMirror(t,r,a,i){if(t){t.rebuildEditor(),this.setCode(t,a,r);var c=this.topPaddingOffset||0;t.setSize("auto",o()(t.$el).closest(i).height()-c)}},handleCodeChanged:function handleCodeChanged(){this.currentType===this.customCodeTypes.CSS?(this.lintCode(this.$.cssCodeMirror),this.updateDirtyState(this.$.cssCodeMirror,this.customCodeTypes.CSS,this.currentCustomCss)):(this.lintCode(this.$.javascriptCodeMirror),this.updateDirtyState(this.$.javascriptCodeMirror,this.customCodeTypes.JAVASCRIPT,this.currentCustomJs))},handleRevertClick:function handleRevertClick(t,r,a,i){this.setCode(t,r,a,i),this.updateDirtyState(t,r,a),this.rebuildCodeMirror(t,i)},lintCode:function lintCode(t){t&&t.lintCode()},rebuildCodeMirror:function rebuildCodeMirror(t,r){if(t){t.rebuildEditor();var a=this.topPaddingOffset||0;t.setSize("auto",o()(t.$el).closest(r).height()-a)}},setCode:function setCode(t,r,a,i){if(t){var o={mode:r.toLowerCase()};a=a||"",t.setCode(a,o),this.rebuildCodeMirror(t,i)}},setType:function setType(t,r){this.currentType=t,this.currentType===this.customCodeTypes.JAVASCRIPT?l.a.nextTick(this.rebuildCodeMirror.bind(this,this.$.javascriptCodeMirror,r)):this.currentType===this.customCodeTypes.CSS&&l.a.nextTick(this.rebuildCodeMirror.bind(this,this.$.cssCodeMirror,r))},updateDirtyState:function updateDirtyState(t,r,a){t&&(this.isDirty=!1,(a&&a!==t.editorCode||!a&&t.editorCode.length>0)&&(this.isDirty=!0),t.setDirtyFlag(this.isDirty))}}};r.a=u},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(93),l=a.n(c),u=a(44),d=a(242),p=void 0,m={methods:{clearStringFilter:function clearStringFilter(){this.setStringFilter("")},handleStringFilterChange:o.a.debounce((function(t){var r=t.target.value;p.setStringFilter(r)}),100),setStatusFilter:function setStatusFilter(t){u.a.setFilter(this.tableId,{status:t}),d.actions.replaceUrl()},setStringFilter:function setStringFilter(t){u.a.setFilter(this.tableId,t),l.a.nextTick((function(){d.actions.replaceUrl()}))}}};r.a=m},function(t,r){t.exports='<div class="sidenav__body">\n  <div class="sidenav__section">\n    <ol class="lego-form-fields">\n      <li class="lego-form-field__item"\n          v-class="statusClassForAttributes.selector"\n          data-test-section="element-selector-section">\n        <div class="flex flex-align--center">\n          <label class="lego-label oui-label--required">Selector</label>\n          <svg class="lego-icon anchor--right"\n               v-poptip\n               data-dir="top-center"\n               data-content="Revert to Saved"\n               v-show="changeStatusMap[\'selector\'] === changeStatuses.DIRTY"\n               v-on="click: revertChangeAttribute(\'selector\')"\n               data-test-section="revert-selector-button">\n               <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n          </svg>\n        </div>\n        <div v-el="elementSelectorInput"></div>\n      </li>\n      <li class="lego-form-field__item"\n          v-class="statusClassForAttributes.html">\n        <div class="flex flex-align--center">\n          <label class="lego-label">\n            HTML\n            <span\n              data-test-section="html-read-only-label"\n              v-if="!isEditorReadOnly && !!childrenWithExistingChanges.length">\n              (read only)\n            </span>\n          </label>\n          <div\n            class="push-half--left"\n            data-test-section="html-read-only-popover-helper"\n            v-if="!isEditorReadOnly && !!childrenWithExistingChanges.length">\n            <svg class="lego-icon vertical-align--top anchor--right"\n                 v-popover\n                 data-behavior="show"\n                 data-dir="left-center"\n                 data-content-selector=".js-styles-popover"\n                 data-scroll-listeners=".js-popover-scroll-area">\n              <use xlink:href="#circle-question"></use>\n            </svg>\n            \x3c!-- z-index is one-offed to appear above CodeMirror. --\x3e\n            <div class="lego-pop--over lego-pop--over--arrow-left-center js-styles-popover" style="z-index: 6">\n              <div class="lego-pop--over__content">\n                <div class="lego-pop--over__title">This HTML cannot be edited.</div>\n                <p>This selection contains HTML that is unable to be edited due to [[ childrenWithExistingChanges.length | plural \'a change\' \'changes\' ]] on the following [[ childrenWithExistingChanges.length | plural \'element\' \'elements\' ]]:</p>\n                <ul class="lego-list lego-list--bullet">\n                  <li v-repeat="selector: childrenWithExistingChanges">\n                    <a v-on="click: handleShowChangeEditorSidebarForSelector(selector)"\n                       data-change-id="selector-[[ selector ]]"\n                       data-popover-hide>\n                      [[ selector ]]\n                    </a>\n                  </li>\n                </ul>\n                <p>In order to make HTML changes, update or remove the relevant [[ childrenWithExistingChanges.length | plural \'change\' \'changes\' ]] above. Or use the <a data-popover-hide v-on="click: handleCreateDefaultChange">Element Change</a>, <a data-popover-hide v-on="click: handleCreateInsertHTMLChange">Insert HTML</a>, or <a data-popover-hide v-on="click: handleCreateInsertImageChange">Insert Image</a> options to more accurately add or alter content.</p>\n              </div>\n            </div>\n          </div>\n          <svg class="lego-icon anchor--right"\n               v-poptip\n               data-dir="top-center"\n               data-content="Revert to Saved"\n               v-show="changeStatusMap[\'attributes\'][\'html\'] === changeStatuses.DIRTY"\n               v-on="click: revertChangeAttribute(\'html\')"\n               data-test-section="revert-html-button">\n            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n          </svg>\n        </div>\n        <div class="border--all min-height--200 monospace"\n             v-resizable="options: _resizableOptions"\n             data-codemirror-ref="html"\n             v-class="code-mirror__full-height: !isEditorReadOnly && !childrenWithExistingChanges.length,\n                      faded: !htmlEditingEnabled"\n             data-test-section="change-editor-html">\n          <textarea class="lego-textarea min-height--200 monospace"\n                    v-disabled="!htmlEditingEnabled"\n                    v-el="html">\n          </textarea>\n        </div>\n      </li>\n      <li class="lego-form-field__item"\n          v-class="statusClassForAttributes.image"\n          v-show="imageEditingEnabled">\n        <div class="flex flex-align--center">\n          <label class="lego-label">Image</label>\n          <svg class="lego-icon anchor--right"\n               data-dir="top-center"\n               data-content="Revert to Saved"\n               v-show="changeStatusMap[\'attributes\'][\'src\'] === changeStatuses.DIRTY"\n               v-disabled="isEditorReadOnly"\n               v-on="click: revertChangeAttribute(\'src\')"\n               data-test-section="revert-image-button">\n              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n          </svg>\n        </div>\n        <div v-el="imageInputManager"></div>\n      </li>\n      <li class="lego-form-field__item"\n          v-class="statusClassForAttributes.href"\n          v-show="hrefEditingEnabled">\n        <div class="flex flex-align--center">\n          <label class="lego-label">Link URL</label>\n          <svg class="lego-icon anchor--right"\n               data-dir="top-center"\n               data-content="Revert to Saved"\n               v-show="changeStatusMap[\'attributes\'][\'href\'] === changeStatuses.DIRTY"\n               v-on="click: revertChangeAttribute(\'href\')"\n               data-test-section="revert-href-button">\n              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n          </svg>\n        </div>\n        <input type="text"\n               class="lego-text-input"\n               v-el="href"\n               data-test-section="change-editor-href"\n               v-on="keyup: setAttributeDebounced(\'href\', this.$$[\'href\'].value)"\n               v-disabled="isEditingSelector || isEditorReadOnly">\n      </li>\n      <li class="lego-form-field__item"\n          v-show="currentlyEditingChangeParentAnchor.href">\n        <div class="flex flex-align--center">\n          <label class="lego-label">Link</label>\n        </div>\n        <input type="text"\n               class="lego-text-input"\n               v-el="parentHref"\n               v-value="hrefForParentAnchor"\n               data-test-section="change-editor-parent-href"\n               disabled="disabled">\n        <a v-on="click: switchToChange(currentlyEditingChangeParentAnchor.selector)"\n           data-test-section="select-parent-anchor-tag">\n          Select containing link to edit\n        </a>\n      </li>\n    </ol>\n  </div>\n</div>\n'},function(t,r,a){var i=a(3),o=a(5).default,c=a(4),l=a(930),u=a(18),d=a(1163),p=a(3531),m=a(3532);t.exports={template:p,replace:!0,components:{"color-picker":d},computed:{statusClasses:function statusClasses(){return{"border-color":u.fns.coalesceStatusesIntoClass(this.changeStatusMap.css["border-color"])}}},methods:{initializeColorPicker:function initializeColorPicker(){var t=i.evaluateToJS(u.getters.cssValueFromChangeOrElement("border-color"));this.$.borderColorPicker&&t!==this.$.borderColorPicker.getValue()&&this.$.borderColorPicker.$emit(l.EVENTS.SET_COLOR,t)},handleChangedColor:function handleChangedColor(t){var r=i.evaluate(u.getters.cssValueFromChangeOrElement("border-color"));if(t&&t!==r){var a=i.evaluate(u.getters.cssValueFromElement("border-color")),o=i.evaluate(u.getters.storedCSSValue("border-color"));null!==o&&t===o||null===o&&t===a?u.actions.revertCSSProperty("border-color"):u.actions.setChangeCSSProperty("border-color",t),u.actions.applyCurrentlyEditingChange()}},revertCSSProperty:u.actions.revertCSSProperty},created:function created(){i.bindVueValues(this,{activeFrameId:u.getters.activeFrameId,changeStatusMap:u.getters.changeStatusMap(),currentlyEditingChange:u.getters.currentlyEditingChange})},ready:function ready(){var t=this;this.initializeColorPicker(),this.__unwatchCurrentlyEditingChange=i.observe(u.getters.currentlyEditingChange,(function(){setTimeout(t.initializeColorPicker.bind(t),0)})),this.$.borderColorPicker.$on(l.EVENTS.COLOR_UPDATED,c.debounce(this.handleChangedColor,20)),o.renderReactComponent(this,{component:m,el:this.$$["style-and-width-inputs"],props:{onStyleChange:function onStyleChange(t){u.actions.setChangeCSSProperty("border-style",t),u.actions.applyCurrentlyEditingChange()},onWidthChange:function onWidthChange(t){var r=i.evaluate(u.getters.storedCSSValue("border-width")),a=i.evaluate(u.getters.cssValueFromElement("border-width"));if(null!==r&&t===r||null===r&&t===a)return u.actions.revertCSSProperty("border-width"),void u.actions.revertCSSProperty("border-style");u.actions.setChangeCSSProperty("border-width",t),null===i.evaluate(u.getters.cssValueFromCurrentlyEditingChange("border-style"))&&"0px"!==t&&u.actions.setChangeCSSProperty("border-style","solid"),u.actions.applyCurrentlyEditingChange()}},dataBindings:{changeStatusMap:u.getters.changeStatusMap(),styleValue:u.getters.cssValueFromChangeOrElement("border-style"),widthValue:u.getters.cssValueFromChangeOrElement("border-width")}})},beforeDestroy:function beforeDestroy(){this.__unwatchCurrentlyEditingChange&&this.__unwatchCurrentlyEditingChange()}}},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(224),d=a.n(u),p=function Option(t){return l.a.createElement("li",{className:"lego-dropdown__item"},l.a.createElement("a",{className:"lego-dropdown__block-link","data-test-section":t.testSection,onClick:function onClick(r){d.a.hide(r.currentTarget),t.parentCallback(t.value)}},t.label))};p.propTypes={label:o.a.node,parentCallback:o.a.func,testSection:o.a.string,value:o.a.any},r.a=p},function(t,r,a){var i=a(3),o=a(1),c=a(0),l=a(2).default,u=a(16).Input,d=a(247),p=a(90),m=a(1287),g=function Dimensions(t){return c.createElement("div",{className:"flex flex-align--center"},c.createElement("div",{className:"flex--1"},c.createElement(y,{property:"width",value:t.widthValue||"",changeStatusMap:t.changeStatusMap})),c.createElement("div",{className:"flex--1 push-double--left"},c.createElement(y,{property:"height",value:t.heightValue||"",changeStatusMap:t.changeStatusMap})))};g.propTypes={changeStatusMap:o.instanceOf(l.Map),heightValue:o.string,widthValue:o.string};var h=function onCSSInput(t){return function(r){var a=r.target.value,o=i.evaluate(p.storedCSSValue(t)),c=i.evaluate(p.cssValueFromElement(t));null!==o&&a===o||null===o&&a===c?d.revertCSSProperty(t):d.setChangeCSSProperty(t,a),d.applyCurrentlyEditingChange()}},y=function CssInput(t){var r=t.changeStatusMap.getIn(["css",t.property]);return c.createElement("div",null,c.createElement(m,{changeStatus:r,property:t.property}),c.createElement(u,{type:"text",value:t.value,onChange:h(t.property),testSection:"dimensions-".concat(t.property,"-input")}))};y.propTypes={changeStatusMap:o.instanceOf(l.Map),property:o.string,value:o.string},t.exports=g},function(t,r,a){var i=a(12),o=a(4),c=a(3),l=a(773).default,u=a(449).default,d=a(90),p=a(29).default,m=a(819),g={replace:!0,template:a(3533),data:{changeStatuses:p.ChangeStatuses,codeMirrorInitialized:!1,_codeMirrors:{style:null},shouldObserveCodeMirror:!0},directives:{resizable:m},computed:{statusClassForAttributes:function statusClassForAttributes(){return{class:this.getStatusClassForAttribute([this.changeStatusMap.attributes.class]),style:this.getStatusClassForAttribute([this.changeStatusMap.attributes.style]),text:this.getStatusClassForAttribute([this.changeStatusMap.attributes.text])}},textEditingEnabled:function textEditingEnabled(){return null!==this.currentlyEditingChange.attributes.text}},methods:{blurInputFields:function blurInputFields(){i(this.$$.class).blur(),i(this.$$.text).blur(),this.codeMirrorInitialized&&this._codeMirrors.style.getInputField().blur()},initializeInputFields:function initializeInputFields(){i(this.$$.class).is(":focus")||(this.$$.class.value=this.getAttribute("class")),this.codeMirrorInitialized&&this._codeMirrors.style&&!this._codeMirrors.style.hasFocus()&&this._codeMirrors.style.setValue(this.getAttribute("style")),i(this.$$.text).is(":focus")||(this.$$.text.value=this.getAttribute("text"))}},created:function created(){c.bindVueValues(this,{activeFrameId:d.activeFrameId,changeStatusMap:d.changeStatusMap(),currentlyEditingChange:d.currentlyEditingChange,editingEnabled:d.changeEditorEditingEnabled,isEditorReadOnly:d.isEditorReadOnly}),this._resizableOptions={handles:"se",minHeight:200,reset:!0,resize:this.resizeCodeMirror.bind(this)}},ready:function ready(){var t=this;this.initializeInputFields(),this.$on("displayCodeMirrorComponents",(function(){t.codeMirrorInitialized||(t._codeMirrors.style=t.initializeCodeMirrorField(t.$$.style,"style","css",t.setAttribute.bind(t)),t.codeMirrorInitialized=!0,t.isEditorReadOnly&&t.toggleCodeMirrorComponentsDisabled(!0)),t.initializeInputFields()})),this.$on("blurInput",this.blurInputFields.bind(this)),this.__unwatchCurrentlyEditingChange=c.observe(d.currentlyEditingChange,this.initializeInputFields.bind(this)),this.$on("sidebarResizeEvent",(function(){t.refreshCodeMirror(t._codeMirrors.style)}))},beforeDestroy:function beforeDestroy(){this.__unwatchCurrentlyEditingChange&&this.__unwatchCurrentlyEditingChange()}};t.exports=o.merge({},l,u,g)},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(3),l=a(5),u=a(93),d=a.n(u),p=a(18),m=a(74),g=a(29),h=a(288),y=a(611),v=a(448),_=a(2530),E=a.n(_),b=a(2531),T={replace:!0,template:a.n(b).a,data:{changeStatuses:g.default.ChangeStatuses,selectorInputTypes:p.default.constants.SelectorInputTypes},computed:{isElementRemoved:function isElementRemoved(){return!!this.currentlyEditingChange.attributes.remove},isElementHidden:function isElementHidden(){return!!this.currentlyEditingChange.attributes.hide},isElementVisible:function isElementVisible(){return this.isElementHidden,this.isElementRemoved,!this.isElementHidden&&!this.isElementRemoved},isRearrangeSelectorInputReadOnly:function isRearrangeSelectorInputReadOnly(){return this.isEditorReadOnly||this.currentSelectorType===p.default.constants.SelectorInputTypes.ELEMENT_SELECTOR},statusClassForAttributes:function statusClassForAttributes(){return{rearrange:this.getStatusClassForAttribute([this.changeStatusMap.rearrange]),visibility:this.getStatusClassForAttribute([this.changeStatusMap.attributes.hide,this.changeStatusMap.attributes.remove]),position:this.getStatusClassForAttribute([this.changeStatusMap.css.position])}}},methods:{handleOperatorUpdate:function handleOperatorUpdate(t){p.default.actions.setChangeRearrangeProperty("operator",t)},handleRearrangeOperatorChanged:function handleRearrangeOperatorChanged(t){p.default.actions.setChangeRearrangeProperty("operator",t),p.default.actions.applyCurrentlyEditingChange()},hideElement:function hideElement(){this.setAttribute("hide",!0),this.setAttribute("remove",null)},initializeInputFields:function initializeInputFields(){var t=this;d.a.nextTick((function(){t.$.rearrangeInsertOperatorDropdown&&t.$.rearrangeInsertOperatorDropdown.handleOperatorUpdate()}))},removeElement:function removeElement(){this.setAttribute("hide",null),this.setAttribute("remove",!0)},showElement:function showElement(){this.setAttribute("hide",null),this.setAttribute("remove",null)}},created:function created(){c.default.bindVueValues(this,{activeFrameId:p.default.getters.activeFrameId,changeStatusMap:p.default.getters.changeStatusMap(),currentlyEditingChange:p.default.getters.currentlyEditingChange,currentSelectorType:p.default.getters.currentSelectorType,elementSelectorEnabled:p.default.getters.changeEditorElementSelectorEnabled,isEditingSelector:p.default.getters.changeEditorIsEditingSelector,isEditorReadOnly:p.default.getters.isEditorReadOnly,rearrangeSelector:p.default.getters.currentRearrangeSelector})},ready:function ready(){this.__unwatchCurrentlyEditingChange=c.default.observe(p.default.getters.currentlyEditingChange,this.initializeInputFields.bind(this)),l.default.renderReactComponent(this,{component:y.a,el:this.$$.insertOperatorDropdown,props:{onOperatorChangeCallback:this.handleRearrangeOperatorChanged.bind(this),initialOperator:this.currentlyEditingChange.rearrange.operator}}),l.default.renderReactComponent(this,{component:E.a,el:this.$$["position-select"],props:{onChange:function onChange(t){p.default.actions.setChangeCSSProperty("position",t),p.default.actions.applyCurrentlyEditingChange()},testSection:"position-select"},dataBindings:{value:p.default.getters.cssValueFromChangeOrElement("position")}}),l.default.renderReactComponent(this,{component:v.default,el:this.$$.rearrangeSelectorInput,dataBindings:{currentSelectorHighlightOptions:p.default.getters.currentlyEditingChangeHighlighterOptions,iframe:m.getters.iframeComponent(this.activeFrameId),isDisabled:p.default.getters.selectorInputIsDisabled(p.default.constants.SelectorInputTypes.REARRANGE_SELECTOR),value:p.default.getters.currentlyEditingChangeRearrangeSelector},props:{onChange:p.default.actions.onChangeSelectorInput,onEditStart:o.a.partial(p.default.actions.toggleElementSelection,!0,p.default.constants.SelectorInputTypes.REARRANGE_SELECTOR),onEditStop:o.a.partial(p.default.actions.toggleElementSelection,!1,p.default.constants.SelectorInputTypes.REARRANGE_SELECTOR),selectorInputType:p.default.constants.SelectorInputTypes.REARRANGE_SELECTOR}})},beforeDestroy:function beforeDestroy(){this.__unwatchCurrentlyEditingChange&&this.__unwatchCurrentlyEditingChange()}};r.a=o.a.merge({},h.a,T)},function(t,r,a){var i=a(0),o=a(739).default,c=a(99),l=["static","absolute","fixed","relative","initial","inherit"];t.exports=function PositionSelect(t){return i.createElement(o,t,l.map((function(t){return i.createElement(o.Option,{key:t,value:t,label:c(t),testSection:"position-option-".concat(t)})})))}},function(t,r){t.exports='<div class="sidenav__section lego-disclose__content soft-double--sides soft--top soft-double--bottom">\n  <ol class="lego-form-fields">\n    <li class="lego-form-field__item"\n        v-class="statusClassForAttributes.visibility"\n        data-test-section="change-editor-visibility-list-item">\n      <div class="flex flex-align--center">\n        <label class="lego-label">Visibility</label>\n        \x3c!-- TODO : visibility should be one attribute change type and use only 1 button to denote change --\x3e\n        <svg  class="lego-icon anchor--right"\n              v-poptip\n              data-dir="top-center"\n              data-content="Revert to Saved"\n              v-if="changeStatusMap[\'attributes\'][\'hide\'] === changeStatuses.DIRTY"\n              v-on="click: revertChangeAttribute(\'hide\')"\n              data-test-section="revert-visibility-hide-button">\n          <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n        </svg>\n        <svg  class="lego-icon anchor--right"\n              v-poptip\n              data-dir="top-center"\n              data-content="Revert to Saved"\n              v-if="changeStatusMap[\'attributes\'][\'remove\'] === changeStatuses.DIRTY"\n              v-on="click: revertChangeAttribute(\'remove\')"\n              data-test-section="revert-visibility-remove-button">\n             <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n        </svg>\n      </div>\n      <div class="lego-button-group">\n        <button class="lego-button"\n                type="button"\n                v-poptip\n                data-dir="top-center"\n                data-content="Visible"\n                v-on="click: showElement"\n                v-disabled="isEditingSelector || isEditorReadOnly"\n                v-class="is-active: isElementVisible"\n                data-test-section="change-editor-show-element">\n          <svg class="lego-icon push-half--top">\n            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#eye"></use>\n          </svg>\n        </button>\n        <button class="lego-button"\n                type="button"\n                v-poptip\n                data-dir="top-center"\n                data-content="Hidden"\n                v-disabled="isEditingSelector"\n                v-on="click: hideElement"\n                v-class="is-active: isElementHidden"\n                data-test-section="change-editor-hide-element">\n          <svg class="lego-icon push-half--top">\n            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#eye-slash"></use>\n          </svg>\n        </button>\n        <button class="lego-button"\n                type="button"\n                v-poptip\n                data-dir="top-center"\n                data-content="Removed"\n                v-disabled="isEditingSelector || isEditorReadOnly"\n                v-on="click: removeElement"\n                v-class="is-active: isElementRemoved"\n                data-test-section="change-editor-remove-element">\n          <svg class="lego-icon push-half--top">\n            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#circle-xmark"></use>\n          </svg>\n        </button>\n      </div>\n    </li>\n    <li class="lego-form-field__item"\n        v-class="statusClassForAttributes.rearrange"\n        data-test-section="rearrange-selector-section">\n      <div class="flex flex-align--center">\n        <label class="lego-label">Rearrange</label>\n        <svg class="lego-icon anchor--right"\n             v-poptip\n             data-dir="top-center"\n             data-content="Revert to Saved"\n             v-show="changeStatusMap[\'rearrange\'] === changeStatuses.DIRTY"\n             v-on="click: revertChangeAttribute(\'rearrange\')"\n             data-test-section="revert-rearrange-button">\n            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n        </svg>\n      </div>\n      <div v-el="insertOperatorDropdown"></div>\n      <div v-el="rearrangeSelectorInput"></div>\n    </li>\n    <li class="lego-form-field__item"\n        v-class="statusClassForAttributes.position"\n        data-test-section="position-selector-section">\n      <div class="flex flex-align--center">\n        <label class="lego-label">Position</label>\n        <svg class="lego-icon anchor--right"\n             v-poptip\n             data-dir="top-center"\n             data-content="Revert to Saved"\n             v-show="changeStatusMap[\'css\'][\'position\'] === changeStatuses.DIRTY"\n             v-on="click: revertChangeAttribute(\'css\', \'position\')"\n             data-test-section="revert-position-button">\n          <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n        </svg>\n      </div>\n      <div class="flex--1">\n        <div v-el="position-select">\n        </div>\n      </div>\n  </ol>\n</div>\n'},function(t,r,a){var i=a(4),o=a(93),c=a(3),l=a(5).default,u=a(820),d=a(18),p=a(449).default,m=a(878),g={replace:!0,template:a(3534),components:{"change-timing-dropdown":m},data:{includeTimingLabel:!1,timingDropdownTypes:d.constants.TimingDropdownTypes},computed:{statusClassForAttributes:function statusClassForAttributes(){return{async:this.getStatusClassForAttribute([this.changeStatusMap.async])}}},methods:{handleChangeTimingChanged:function handleChangeTimingChanged(t){d.actions.setChangeTiming(t.isAsync)},initializeInputFields:function initializeInputFields(){var t=this;o.nextTick((function(){t.$.changeTimingDropdown&&t.$.changeTimingDropdown.handleUpdate()}))},revertChangeTiming:d.actions.revertChangeTiming},created:function created(){c.bindVueValues(this,{changeStatusMap:d.getters.changeStatusMap(),currentlyEditingChange:d.getters.currentlyEditingChange,shouldShowDependencyManagement:d.getters.showDependencyManagement})},ready:function ready(){this.initializeInputFields(),this.__unwatchCurrentlyEditingChange=c.observe(d.getters.currentlyEditingChange,this.initializeInputFields.bind(this)),l.renderReactComponent(this,{component:u,el:this.$$.dependencyManagement,dataBindings:{dependsOnPrevious:d.getters.currentlyEditingChangeDependsOnPrevious},props:{handleChangeDependencyClick:d.actions.setCurrentlyEditingChangeDependencies}})},beforeDestroy:function beforeDestroy(){this.__unwatchCurrentlyEditingChange&&this.__unwatchCurrentlyEditingChange()}};t.exports=i.merge({},p,g)},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(295),d=a(52),p=a(3),m=a(5),g=a(24),h=a(14),y=a(693),v=a(2534),_=a(1287),E=a.n(_),b=function onNameInput(t){y.actions.setTrackClickEventName(t.target.value)},T=function onEnabledChange(t){y.actions.setTrackClickEventEnabled(t.target.checked)||m.default.showReactDialog(v.a,null,{isOuiDialog:!0})},S=function TrackClicks(t){var r=p.default.evaluateToJS(h.getters.id),a=g.default.pagesHome(r);return l.a.createElement("div",{className:"sidenav__section lego-disclose__content"},l.a.createElement("ol",{className:"lego-form-fields push--bottom"},l.a.createElement("li",{className:"lego-form-field__item push-half--bottom"},l.a.createElement(E.a,{changeStatus:t.changeStatus,label:"Enable Event Tracking",revertAction:y.actions.revertChanges,property:"track-clicks"})),l.a.createElement("li",{className:"lego-form-field__item"},l.a.createElement(u.a,{checked:t.enabled,label:"Track clicks on this element",onChange:T,"data-test-section":"track-clicks-enabled"})),l.a.createElement("li",{className:"lego-form-field__item"},l.a.createElement(d.a,{label:"Name",type:"text",isDisabled:!t.enabled,value:t.nameValue,onChange:b,testSection:"track-clicks-name"}))),l.a.createElement("div",{className:"micro line--tight soft--ends","data-test-section":"track-clicks-help-text"},"This event will be tracked for all variations in this campaign only. To add an event on this page that is tracked across your site, go to"," ",l.a.createElement("a",{href:a},"Pages.")))};S.propTypes={changeStatus:o.a.string,enabled:o.a.bool.isRequired,showCampaignSpecificEventText:o.a.bool,nameValue:o.a.string},r.a=S},function(t,r,a){"use strict";var i=a(5),o=a(0),c=a.n(o),l=a(107),u=a(19);r.a=function WarnLastMetricDialog(){return c.a.createElement(l.a,{onClose:i.default.hideDialog,footerButtonList:[c.a.createElement(u.a,{key:"close",style:"plain",onClick:i.default.hideDialog},"Close")],title:"Metric Required"},c.a.createElement("p",null,"Your campaign must have at least one metric. Add an additional metric before disabling click tracking on this element."))}},function(t,r,a){var i=a(4),o=a(3),c=a(93),l=a(444),u=a(1163),d=a(930),p=a(18),m=a(449).default,g=a(3535),h={template:a(3536),replace:!0,components:{"color-picker":u},data:{fontSize:"",fontWeight:"",fontColor:"",css:{fontSizeId:p.constants.CSSPropertyNames.FONT_SIZE,fontWeightId:p.constants.CSSPropertyNames.FONT_WEIGHT,fontWeightValues:g.FONT_WEIGHT_VALUES}},methods:{handleChangedColor:function handleChangedColor(t){var r=o.evaluate(p.getters.cssValueFromCurrentlyEditingChange("color")),a=o.evaluate(p.getters.cssValueFromElement("color"));t&&t!==r&&t!==a&&(p.actions.setChangeCSSProperty(p.constants.CSSPropertyNames.COLOR,t),p.actions.applyCurrentlyEditingChange())},updateChangeCSS:function updateChangeCSS(t){var r=t.target.name,a=l(t.target.value,!0);a!==o.evaluate(p.getters.cssValueFromCurrentlyEditingChange(r))&&(p.actions.setChangeCSSProperty(r,a),p.actions.applyCurrentlyEditingChange())},initializeComponent:function initializeComponent(){var t=this;this.currentlyEditingChange&&c.nextTick((function(){t.fontSize=l(o.evaluate(p.getters.cssValueFromCurrentlyEditingChange("font-size"))||o.evaluate(p.getters.cssValueFromElement("font-size")),!0),t.fontWeight=l(o.evaluate(p.getters.cssValueFromCurrentlyEditingChange("font-weight"))||o.evaluate(p.getters.cssValueFromElement("font-weight")),!0),t.fontColor=l(o.evaluate(p.getters.cssValueFromCurrentlyEditingChange("color"))||o.evaluate(p.getters.cssValueFromElement("color")),!0),t.$.textColorPicker&&t.$.textColorPicker.$emit(d.EVENTS.SET_COLOR,t.fontColor)}))}},created:function created(){o.bindVueValues(this,{currentlyEditingChange:p.getters.currentlyEditingChange,activeFrameId:p.getters.activeFrameId,changeStatusMap:p.getters.changeStatusMap()})},ready:function ready(){this.initializeComponent(),this.__unwatchCurrentlyEditingChangeId=o.observe(p.getters.currentlyEditingChangeId,this.initializeComponent.bind(this)),this.$.textColorPicker.$on(d.EVENTS.COLOR_UPDATED,this.handleChangedColor.bind(this))},beforeDestroy:function beforeDestroy(){this.__unwatchCurrentlyEditingChangeId&&this.__unwatchCurrentlyEditingChangeId()}};t.exports=i.merge({},m,h)},function(t,r){t.exports='<div class="stage__item__content--column"\n     v-loading="change-editor-sidebar"\n     data-test-section="change-editor-sidebar">\n  <div v-component="sidebar-header"\n       v-with="isNewChange: isNewChange, changeIsDirty: currentlyEditingChangeIsDirty"\n       data-test-section="change-editor-title"></div>\n  <div class="js-popover-scroll-area overflow-y--auto flex--1">\n    <div class="sidenav__body"\n         v-ref="base"\n         v-component="base">\n    </div>\n    <ul class="disclose-list"\n        data-test-section="change-editor-sections">\n      <li class="lego-disclose"\n          v-class="is-active: shouldShowLayoutSectionExpanded"\n          data-test-section="change-editor-layout-section"\n          v-show="shouldShowSection(elementChangeSections.LAYOUT)"\n          v-disclose>\n        <a href="#"\n           class="lego-disclose__link link--dark soft-half--top soft-double--sides"\n           v-on="click: setExpandedSection(\'LAYOUT\')"\n           data-test-section="change-editor-layout-link">\n          <svg class="lego-icon vertical-align--middle" style="pointer-events: none;">\n            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="[[ expandedSectionsList.LAYOUT ? \'#chevron-down\' : \'#chevron-right\' ]]"></use>\n          </svg>\n          Layout\n        </a>\n        <div class="sidenav__section lego-disclose__content soft-double--sides soft--top soft-double--bottom"\n             v-ref="layout"\n             v-component="layout">\n        </div>\n      </li>\n      <li class="lego-disclose"\n          data-test-section="change-editor-typography-section"\n          v-show="shouldShowSection(elementChangeSections.TYPOGRAPHY)"\n          v-disclose>\n        <a href="#"\n           class="lego-disclose__link link--dark soft-half--top soft-double--sides"\n           v-on="click: setExpandedSection(\'TYPOGRAPHY\')"\n           data-test-section="change-editor-typography-link">\n          <svg class="lego-icon vertical-align--middle" style="pointer-events: none;">\n            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="[[ expandedSectionsList.TYPOGRAPHY ? \'#chevron-down\' : \'#chevron-right\' ]]"></use>\n          </svg>\n          Typography\n        </a>\n        <div class="sidenav__section lego-disclose__content soft-double--sides soft--top soft-double--bottom"\n             v-component="typography">\n        </div>\n      </li>\n      <li class="lego-disclose"\n          data-test-section="change-editor-background-section"\n          v-show="shouldShowSection(elementChangeSections.BACKGROUND)"\n          v-disclose>\n        <a href="#"\n           class="lego-disclose__link link--dark soft-half--top soft-double--sides"\n           v-on="click: setExpandedSection(\'BACKGROUND\')"\n           data-test-section="change-editor-background-link">\n          <svg class="lego-icon vertical-align--middle" style="pointer-events: none;">\n            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="[[ expandedSectionsList.BACKGROUND ? \'#chevron-down\' : \'#chevron-right\' ]]"></use>\n          </svg>\n          Background\n        </a>\n        <div class="sidenav__section lego-disclose__content soft-double--sides soft--top soft--bottom"\n             v-ref="background"\n             v-component="background">\n        </div>\n      </li>\n      <li class="lego-disclose"\n          data-test-section="change-editor-border-section"\n          v-show="shouldShowSection(elementChangeSections.BORDERS)"\n          v-disclose>\n        <a href="#"\n           class="lego-disclose__link link--dark soft-half&#45;&#45;top soft-double&#45;&#45;sides"\n           v-on="click: setExpandedSection(\'BORDERS\')"\n           data-test-section="change-editor-border-link">\n          <svg class="lego-icon vertical-align--middle" style="pointer-events: none;">\n            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="[[ expandedSectionsList.BORDERS ? \'#chevron-down\' : \'#chevron-right\' ]]"></use>\n          </svg>\n          Border\n        </a>\n        <div class="sidenav__section lego-disclose__content soft-double&#45;&#45;sides soft&#45;&#45;top soft-double&#45;&#45;bottom"\n             v-component="borders"\n             v-ref="borderColorPicker">\n        </div>\n      </li>\n      <li class="lego-disclose"\n          data-test-section="change-editor-dimensions-section"\n          v-show="shouldShowSection(elementChangeSections.DIMENSIONS)"\n          v-disclose>\n        <a href="#"\n           class="lego-disclose__link link--dark soft-half--top soft-double--sides"\n           v-on="click: setExpandedSection(\'DIMENSIONS\')"\n           data-test-section="change-editor-dimensions-link">\n          <svg class="lego-icon vertical-align--middle" style="pointer-events: none;">\n            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="[[ expandedSectionsList.DIMENSIONS ? \'#chevron-down\' : \'#chevron-right\' ]]"></use>\n          </svg>\n          Dimensions\n        </a>\n        <div class="sidenav__section lego-disclose__content soft-double--sides soft--top soft-double--bottom"\n             v-el="dimensions">\n        </div>\n      </li>\n      <li class="lego-disclose"\n          data-test-section="change-editor-element-code-section"\n          v-show="shouldShowSection(elementChangeSections.ELEMENT_CODE)"\n          v-disclose>\n        <a href="#"\n           class="lego-disclose__link link--dark soft-half--top soft-double--sides"\n           data-test-section="change-editor-element-code-link"\n           v-on="click: displayCodeMirrorComponents">\n          <svg class="lego-icon vertical-align--middle" style="pointer-events: none;">\n            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="[[ expandedSectionsList.STYLES ? \'#chevron-down\' : \'#chevron-right\' ]]"></use>\n          </svg>\n          Styles\n        </a>\n        <div class="sidenav__section lego-disclose__content soft-double--sides soft--top soft-double--bottom"\n             v-ref="elementCode"\n             v-component="element-code">\n        </div>\n      </li>\n      <li class="lego-disclose"\n          data-test-section="change-editor-timing-section"\n          v-show="shouldShowSection(elementChangeSections.TIMING)"\n          v-disclose>\n        <a href="#"\n           class="lego-disclose__link link--dark soft-half--top soft-double--sides"\n           v-on="click: setExpandedSection(\'TIMING\')"\n           data-test-section="change-editor-timing-link">\n          <svg class="lego-icon vertical-align--middle" style="pointer-events: none;">\n            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="[[ expandedSectionsList.TIMING ? \'#chevron-down\' : \'#chevron-right\' ]]"></use>\n          </svg>\n          Timing\n        </a>\n        <div class="sidenav__section lego-disclose__content soft-double--sides soft--top soft--bottom"\n             v-component="timing">\n        </div>\n      </li>\n      <li class="lego-disclose"\n          data-test-section="change-editor-track-clicks-section"\n          v-show="shouldShowSection(elementChangeSections.TRACK_CLICKS)"\n          v-disclose>\n        <a href="#"\n           class="lego-disclose__link link--dark soft-half--top soft-double--sides"\n           v-on="click: setExpandedSection(\'TRACK_CLICKS\')"\n           data-test-section="change-editor-track-clicks-link">\n          <svg class="lego-icon vertical-align--middle" style="pointer-events: none;">\n            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="[[ expandedSectionsList.TRACK_CLICKS ? \'#chevron-down\' : \'#chevron-right\' ]]"></use>\n          </svg>\n          Track Clicks\n        </a>\n        <div class="sidenav__section lego-disclose__content soft-double--sides soft--top soft--bottom"\n             v-el="trackClicks">\n        </div>\n      </li>\n    </ul>\n    <div class="push-double"\n         v-if="currentlyEditingChange.status !== changeStatuses.INITIAL">\n      <button class="lego-button lego-button--danger-outline lego-button--full"\n              v-on="click: deleteChange"\n              v-disabled="isEditorReadOnly"\n              data-test-section="change-editor-delete-change-button">\n        Delete Changes\n      </button>\n    </div>\n  \x3c!--\n    Code for revert drawer to be re-implemented once its possible to rollback to a\n    specific commit (not just the Original).\n    See D6027\n   --\x3e\n  </div>\n</div>\n'},function(t,r){t.exports='<div class="stage__item__content--column"\n     v-loading="insert_html-sidebar"\n     data-test-section="insert-html-sidebar">\n  <div v-component="sidebar-header"\n       v-with="isNewChange: isNewChange, changeIsDirty: currentlyEditingChangeIsDirty"></div>\n  <div class="sidenav__body">\n    <div class="sidenav__section">\n      <ol class="lego-form-fields">\n        <li class="lego-form-field__item"\n            v-class="statusClassForAttributes.selectorAndOperator"\n            data-test-section="element-selector-section">\n          <div class="flex flex-align--center">\n            <label class="lego-label oui-label--required">HTML Placement</label>\n            <svg class="lego-icon anchor--right"\n                 v-poptip\n                 data-dir="top-center"\n                 data-content="Revert to Saved"\n                 v-show="changeStatusMap[\'selector\'] === changeStatuses.DIRTY"\n                 v-on="click: revertChangeAttribute(\'selector\')"\n                 data-test-section="revert-selector-button">\n                 <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n            </svg>\n          </div>\n          <div class="muted">Choose where to place this item by typing in an element\'s selector or using the finder</div>\n          <div v-el="insertOperatorDropdown"></div>\n          <div v-el="insertHTMLSelectorInput"></div>\n        </li>\n      </ol>\n    </div>\n    <div class="sidenav__section">\n      <ol class="lego-form-fields">\n        <li class="lego-form-field__item"\n            v-class="statusClassForAttributes.html">\n          <div class="flex flex-align--center">\n            <label class="lego-label">HTML</label>\n            <svg class="lego-icon anchor--right"\n                 v-poptip\n                 data-dir="top-center"\n                 data-content="Revert to Saved"\n                 v-show="changeStatusMap[\'html\'] === changeStatuses.DIRTY"\n                 v-on="click: revertInsertHTMLValue()"\n                 data-test-section="revert-html-button">\n                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n            </svg>\n          </div>\n          <div class="border--all min-height--200 monospace code-mirror__full-height"\n               v-resizable="options: _resizableOptions"\n               data-codemirror-ref="html"\n               v-class="code-mirror__full-height: !isEditorReadOnly,\n                      faded: !htmlEditingEnabled"\n               data-test-section="change-editor-html">\n            <textarea class="lego-textarea min-height--200 monospace"\n                      v-disabled="!htmlEditingEnabled"\n                      v-el="html">\n            </textarea>\n          </div>\n        </li>\n        <li class="lego-form-field__item"\n            data-test-section="insert-html-change-timing"\n            v-class="statusClassForAttributes.async"\n            v-show="shouldShowAsyncChanges">\n          <div class="flex flex-align--center">\n            <label class="lego-label">Timing</label>\n            <svg class="lego-icon anchor--right"\n                 v-poptip\n                 data-dir="top-center"\n                 data-content="Revert to Saved"\n                 v-show="changeStatusMap[\'async\'] === changeStatuses.DIRTY"\n                 v-on="click: revertChangeTiming"\n                 data-test-section="revert-class-button">\n                 <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n            </svg>\n          </div>\n          <div v-component="change-timing-dropdown"\n               v-ref="changeTimingDropdown"\n               v-with="change: currentlyEditingChange,\n                       includeTimingLabel: includeTimingLabel,\n                       instanceIdentifier: timingDropdownTypes.ELEMENT_TIMING">\n          </div>\n        </li>\n        <li class="lego-form-field__item"\n            data-test-section="insert-html-change-dependency"\n            v-show="shouldShowDependencyManagement">\n          <div v-el="dependencyManagement"></div>\n        </li>\n      </ol>\n    </div>\n    <div class="sidenav__section soft-double--bottom"\n         v-if="currentlyEditingChange.status !== changeStatuses.INITIAL">\n      <button class="lego-button lego-button--danger-outline"\n              v-on="click: deleteChange"\n              v-disabled="isEditorReadOnly"\n              data-test-section="change-editor-delete-change-button">\n        Delete Changes\n      </button>\n    </div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div class="stage__item__content--column"\n     v-loading="insert_image-sidebar"\n     data-test-section="insert-image-sidebar">\n  <div v-component="sidebar-header"\n       v-with="isNewChange: isNewChange, changeIsDirty: currentlyEditingChangeIsDirty"></div>\n  <div class="sidenav__body">\n    <div class="sidenav__section">\n      <ol class="lego-form-fields">\n        <li class="lego-form-field__item"\n            v-class="statusClassForAttributes.selectorAndOperator"\n            data-test-section="element-selector-section">\n          <div class="flex flex-align--center">\n            <label class="lego-label oui-label--required">Image Placement</label>\n            <svg class="lego-icon anchor--right"\n                 v-poptip\n                 data-dir="top-center"\n                 data-content="Revert to Saved"\n                 v-show="changeStatusMap[\'selector\'] === changeStatuses.DIRTY"\n                 v-on="click: revertChangeAttribute(\'selector\')"\n                 data-test-section="revert-selector-button">\n                 <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n            </svg>\n          </div>\n          <p class="muted">Choose where to place this image by typing in an element\'s selector or using the finder</p>\n          <div v-el="insertOperatorDropdown"></div>\n          <div v-el="insertImageSelectorInput"></div>\n        </li>\n      </ol>\n    </div>\n    <div class="sidenav__section">\n      <ol class="lego-form-fields">\n        <li class="lego-form-field__item"\n            v-class="statusClassForAttributes.html">\n          <div class="flex flex-align--center">\n            <label class="lego-label">Image</label>\n            <svg class="lego-icon anchor--right"\n                 v-poptip\n                 data-dir="top-center"\n                 data-content="Revert to Saved"\n                 v-show="changeStatusMap[\'html\'] === changeStatuses.DIRTY"\n                 v-on="click: revertImageURL()"\n                 data-test-section="revert-image-button">\n                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n            </svg>\n          </div>\n          <div v-el="imageInputManager"></div>\n        </li>\n        <li class="lego-form-field__item"\n            data-test-section="insert-image-change-dependency"\n            v-show="shouldShowDependencyManagement">\n          <div v-el="dependencyManagement"></div>\n        </li>\n      </ol>\n    </div>\n    <div class="sidenav__section soft-double--bottom"\n         v-if="currentlyEditingChange.status !== changeStatuses.INITIAL">\n      <button class="lego-button lego-button--danger-outline"\n              v-on="click: deleteChange"\n              v-disabled="isEditorReadOnly"\n              data-test-section="change-editor-delete-change-button">\n        Delete Changes\n      </button>\n    </div>\n  </div>\n</div>\n'},function(t,r,a){"use strict";a.d(r,"a",(function(){return d}));var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(218);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(RedirectUrlInput,t);var r=_createSuper(RedirectUrlInput);function RedirectUrlInput(){return _classCallCheck(this,RedirectUrlInput),r.apply(this,arguments)}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(RedirectUrlInput,[{key:"render",value:function render(){var t=this.props,r=t.destValue,a=t.onValueUpdated;return l.a.createElement(u.a,{testSection:"redirect-editor-dest-input",defaultValue:r,placeholder:"Enter URL...",onInput:function inputUpdateHandler(t){a(t.target.value)}})}}]),RedirectUrlInput}(l.a.Component);d.propTypes={destValue:o.a.string,onValueUpdated:o.a.func.isRequired},d.defaultProps={destValue:""}},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(373);function RedirectFnInput(t){var r=t.destFnValue,a=t.onValueUpdated;return l.a.createElement("div",null,l.a.createElement("p",{className:"push--bottom"},"Use this function to return the URL."),l.a.createElement(u.a,{onChange:a,options:{lineWrapping:!1,lint:{esversion:6}},testSection:"redirect-editor-dest-input",value:r}))}RedirectFnInput.propTypes={destFnValue:o.a.string,onValueUpdated:o.a.func.isRequired},RedirectFnInput.defaultProps={destFnValue:""},r.a=RedirectFnInput},,function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(19),m=a(26),g=a(65),h=a(5),y=a(35),v=a(28),_=a(2),E=a(61),b=a.n(E),T=a(24),S=a(879),C=a(402),I=a(14),A=a(378),O=a(1079),P=a(23),R=a(38),w=a(225),N=a(1062),L=a(128),x=a(633),D=a(359),k=a(351),j=a(91),M=a(1435),U=a(2098),V=a(1436),B=a(694),G=a(2099),H=a(1357),z=a.n(H);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var W=Object(v.a)((function(t){var r=t.campaignType,a=t.layerId;return{currentCampaignHasUpdatesToPublish:R.getters.hasUpdatesToPublish,currentLayer:R.getters.layer,currentProjectId:I.getters.id,currentProjectName:I.getters.name,disablePublishButton:z.a.disablePublishButton(R.getters.hasUpdatesToPublish),hasAnyProcessingAdaptiveAudienceConditions:R.getters.hasAnyProcessingAdaptiveAudienceConditions,hasDirtyCustomCode:N.c.hasDirtyCustomCode,hasLayerMetrics:R.getters.hasLayerMetrics,isFirstPublish:w.c.isFirstPublish(a),isPaused:w.c.isPaused(a),isUsingV2Snippet:I.getters.isUsingV2Snippet,layersHomeUrl:z.a.layersHomeUrl,liveCommitId:R.getters.liveCommitId,liveTag:w.c.liveTag(a),publishText:w.c.publishText(a,r),shouldPublishLayerOnly:w.c.shouldPublishLayerOnly(a),singleExperiment:P.getters.singleExperimentByLayerId(a),v2PlatformText:A.a.v2PlatformText}}))(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(NavSidebarHeader,t);var r=_createSuper(NavSidebarHeader);function NavSidebarHeader(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,NavSidebarHeader),(a=r.call(this,t)).handleBackClick=function(t){var r=a.props.layersHomeUrl;Object(C.default)(r,t)},a.isPersonalizationLayer=function(){return P.fns.isPersonalizationLayer(a.props.currentLayer)},a.goToMetricsTab=function(){var t=a.props.hasDirtyCustomCode,r=a.isPersonalizationLayer()?tr("campaign"):tr("experiment");L.actions.confirmNavigation(t,r,(function(){N.a.resetCustomCodeTabsDirty(),x.actions.setTab(x.enums.tabs.METRICS),y.default.go(a.getMetricsUrl())}))},a.getMetricsUrl=function(){var t=a.props,r=t.currentLayer,i=t.singleExperiment,o=t.currentProjectId,c=T.default.campaignMetrics(o,r.get("id")),l=P.fns.isMultivariateTestLayer(r),u=P.fns.isABTestLayer(r),d=i&&i.get("id");return l?c=T.default.mvtMetrics(o,d):u&&(c=T.default.experimentMetrics(o,d)),c},a.enableV2SnippetLink=function(){return T.default.projectSettingsImplementation(a.props.currentProjectId)},a.onPublishClick=function(t){t&&t.stopPropagation();var r=a.props,i=r.hasAnyProcessingAdaptiveAudienceConditions,o=r.isFirstPublish,c=r.isPaused,l=a.publishStatusTexts,u=l.adaptive,d=l.firstPublish,p=l.publish,m=l.publishAndStart,g=function showPublishAndStartDialog(){h.default.showReactDialog(U.a,{props:{title:m.title,message:m.message,buttons:[{testSection:"campaign-overview-publish-only",message:tr("Publish Only"),action:a.publishCampaign,style:"outline"},{testSection:"campaign-overview-publish-and-start",message:tr("Publish and Start"),action:a.publishAndStartCampaign,style:"highlight"}]}})};if(c)i?h.default.confirm({title:u.title,message:u.message,confirmText:p.confirmText,doSanitizeHTML:!1}).then((function(){g()})):g();else{var y=o?d:p,v=y.title,_=y.message,E=y.confirmText;h.default.confirm({title:i?u.title:v,message:i?u.message:_,confirmText:E,doSanitizeHTML:!1}).then((function(){return o?a.publishAndStartCampaign():a.publishCampaign()}))}},a.publishCampaign=function(){var t=a.props,r=t.currentLayer,i=t.isFirstPublish,o=t.currentProjectId;return h.default.showNotification({message:tr("Your changes for <b>{0}</b> are now being published",r.get("name"))}),w.a.startPublishing(r.get("id"),i),O.a.publishLayerAndRefetchLayerData(r.get("id"),o).then((function(){h.default.showNotification({message:a.publishStatusTexts.publish.confirmationText})})).always((function(){w.a.finishPublishing(r.get("id"))}))},a.publishAndStartCampaign=function(){var t=a.props.currentLayer;a.publishCampaign().then((function(){a.startCampaign(t)}))},a.startCampaign=function(t){var r=a.props.currentLayer;R.actions.startCampaign(Object(_.toJS)(t)).then((function(){h.default.showNotification({message:a.publishStatusTexts.start.confirmationText}),b.a.trackMarketoEvent("x_campaign_nav","start","experiment_for_layer",r.get("id"))}))},a.onPublishCampaignSettingsClick=function(){var t=a.props,r=t.currentLayer,i=t.currentProjectId,o=t.hasAnyProcessingAdaptiveAudienceConditions,c=t.isFirstPublish,l=t.liveCommitId,u=a.publishStatusTexts,d=u.adaptive,p=u.publish,m=u.publishLayerOnly;h.default.confirm({title:o?d.title:m.title,message:o?d.message:m.message,confirmText:m.confirmText,doSanitizeHTML:!1}).then((function(){return w.a.startPublishing(r.get("id"),c),h.default.showNotification({message:m.confirmationText}),O.a.publishLayerOnlyAndRefetchLayerData(r.get("id"),i,l)})).then((function(){h.default.showNotification({message:p.confirmationText})})).always((function(){w.a.finishPublishing(r.get("id"))}))};var i=t.campaignType,o=t.currentLayer,c=t.currentProjectId;return a.publishStatusTexts=w.b.getText(i,o.get("name")),D.actions.verify({projectId:c}).catch((function(){})),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(NavSidebarHeader,[{key:"renderPublishLayerDropdown",value:function renderPublishLayerDropdown(){var t=this.props,r=t.disablePublishButton,a=t.publishText;return l.a.createElement("div",{className:"push-double--top","data-test-section":"campaign-overview-sidebar-layer-only-publish"},l.a.createElement(k.a,{width:"100%",minWidth:255,activator:l.a.createElement("div",{className:"lego-button-group"},l.a.createElement(p.a,{width:"full",style:"highlight",isDisabled:r,onClick:this.onPublishClick,testSection:"campaign-overview-sidebar-layer-only-publish-base-button"},a),l.a.createElement("span",{style:{"margin-left":"2px"}}),l.a.createElement(p.a,{style:"highlight",isDisabled:r,testSection:"campaign-overview-sidebar-layer-only-publish-dropdown"},l.a.createElement("span",{className:"flush--left"},l.a.createElement(m.a,{name:"angle-down",size:"small"})))),items:[{text:this.publishStatusTexts.publishLayerOnly.fullPublishOptionText,onClick:this.onPublishClick,testSection:"campaign-overview-sidebar-layer-only-publish-full-option"},{text:this.publishStatusTexts.publishLayerOnly.layerOnlyPublishOptionText,onClick:this.onPublishCampaignSettingsClick,testSection:"campaign-overview-sidebar-layer-only-publish-layer-only-option"}]}))}},{key:"render",value:function render(){var t=this.props,r=t.currentCampaignHasUpdatesToPublish,a=t.currentLayer,i=t.currentProjectName,o=t.disablePublishButton,c=t.hasLayerMetrics,u=t.isUsingV2Snippet,d=t.liveTag,h=t.publishText,y=t.shouldPublishLayerOnly,v=t.singleExperiment,_=t.v2PlatformText;return l.a.createElement(j.c,{projectName:i,backLinkText:"Experiments Overview",backLinkOnClick:this.handleBackClick,title:a.get("name")},l.a.createElement("div",{"data-test-section":"campaign-overview-sidebar-header"},l.a.createElement(V.a,null),l.a.createElement(B.a,{entityId:a.get("id")}),P.fns.isSingleExperimentLayer(a)&&l.a.createElement(G.a,{experiment:v,hasUpdatesToPublish:r,isSingleExperimentLayer:!0}),y&&this.renderPublishLayerDropdown(),!y&&l.a.createElement("div",{className:"push-double--top"},l.a.createElement(p.a,{width:"full",style:"highlight",onClick:this.onPublishClick,testSection:"campaign-overview-sidebar-publish",isDisabled:o},h)),d&&l.a.createElement("div",{className:"text--center push-half--top micro muted","data-test-section":"campaign-overview-sidebar-campaign-last-publish-date"},"Last published ",Object(S.d)(d.get("last_modified"))),l.a.createElement(M.a,{currentLayer:a}),!c&&l.a.createElement("div",{className:"flex micro vertical-align--center push--bottom","data-test-section":"sidebar-header-add-metric-warning"},l.a.createElement("div",{className:"color--brand"},l.a.createElement(m.a,{color:g.brandBlueDark,name:"circle-exclamation",size:"small"})),l.a.createElement("span",{className:"push-half--left"},"Please",l.a.createElement("a",{onClick:this.goToMetricsTab,"data-test-section":"nav-header-metrics-link",className:"push-half--left push-half--right"},"add a metric"),"to start this"," ",this.isPersonalizationLayer()?"campaign":"experiment")),!u&&l.a.createElement("div",{className:"flex micro vertical-align--center push--bottom","data-test-section":"turn-on-v2-snippet-text"},l.a.createElement("div",{className:"color--brand"},l.a.createElement(m.a,{color:g.brandBlueDark,name:"circle-exclamation",size:"small"})),l.a.createElement("span",{className:"push-half--left"},"Please"," ",l.a.createElement("a",{href:this.enableV2SnippetLink()},"enable ",_)," ","to preview and publish this campaign."))))}}]),NavSidebarHeader}(l.a.Component)).propTypes={campaignType:d.a.string.isRequired,currentCampaignHasUpdatesToPublish:d.a.bool.isRequired,currentLayer:d.a.instanceOf(_.default.Map).isRequired,currentProjectId:d.a.number.isRequired,currentProjectName:d.a.string.isRequired,disablePublishButton:d.a.bool.isRequired,hasAnyProcessingAdaptiveAudienceConditions:d.a.bool.isRequired,hasDirtyCustomCode:d.a.bool.isRequired,hasLayerMetrics:d.a.bool.isRequired,isFirstPublish:d.a.bool.isRequired,isPaused:d.a.bool.isRequired,isUsingV2Snippet:d.a.bool.isRequired,layerId:d.a.number.isRequired,layersHomeUrl:d.a.string.isRequired,liveCommitId:d.a.number.isRequired,liveTag:d.a.instanceOf(_.default.Map).isRequired,publishText:d.a.string.isRequired,shouldPublishLayerOnly:d.a.bool.isRequired,singleExperiment:d.a.instanceOf(_.default.Map).isRequired,v2PlatformText:d.a.string.isRequired},i=o))||i;r.a=W},function(t,r,a){"use strict";var i=a(1293);a.d(r,"a",(function(){return i.a}));i.a},function(t,r,a){"use strict";var i=a(2),o=a(66),c=a.n(o),l=a(13),u=a(39),d=a(24),p=a(140),m=a.n(p),g=[c.a.currentSingleExperimentFromAllExperimentsPointingToLayer,function(t){return t?t.get("variations"):Object(i.toImmutable)([])}],h=[l.default.id,c.a.currentSingleExperimentFromAllExperimentsPointingToLayer,u.default.canUseLayerIntegrations,function(t,r,a){var i=r&&r.get("id");return{variations:{name:m.a.tabs.VARIATIONS,url:Object(d.experimentVariations)(t,i)},pages:{name:m.a.tabs.PAGES,url:Object(d.experimentPages)(t,i)},audiences:{name:m.a.tabs.AUDIENCES,url:Object(d.experimentAudiences)(t,i)},integrations:a&&{name:m.a.tabs.INTEGRATIONS,url:Object(d.experimentIntegrations)(t,i)},metrics:{name:m.a.tabs.METRICS,url:Object(d.experimentMetrics)(t,i)},custom_code:{name:m.a.tabs.CUSTOM_CODE,url:Object(d.experimentSharedCode)(t,i)},traffic_allocation:{name:m.a.tabs.TRAFFIC_ALLOCATION,url:Object(d.experimentTrafficAllocation)(t,i)},schedule:{name:m.a.tabs.SCHEDULE,url:Object(d.experimentSchedule)(t,i)},api_names:{name:m.a.tabs.API_NAMES,url:Object(d.experimentApiNames)(t,i)},history:{name:m.a.tabs.HISTORY,url:Object(d.experimentHistory)(t,i)},settings:{name:m.a.tabs.SETTINGS,url:Object(d.experimentSettings)(t,i)}}}];r.a={orderedVariations:g,sideBarItems:h}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(3),l=a(86),u=a(10),d=a(97),p=a(383),m=a(182),g=a.n(m),h=a(39),y=a(35),v=a(6);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var _,E,b=function EnsureAudiencesBundle(t,r){l.default.getAudiencesBundleModules().then((function(t){_=t.AudiencesSection,E=t.AudiencesSectionModule})).then(r)},T=[{match:"/v2/projects/:proj_id/audiences/attributes",metadata:{name:"Attributes",category:"Audiences"},shouldHandle:function shouldHandle(){return Promise.resolve(c.default.evaluate(h.default.canUseCustomAttributes))},handle:[[b].concat(_toConsumableArray(v.a.standardNavHandlers(null,u.default.NavItems.AUDIENCES)),[v.a.parseProjectId]),function(t,r){v.a.parseQueryFilters(E.constants.tableIds.CUSTOM_ATTRIBUTES)(t,r)},function(t,r){return _.pages.attributes_dashboard.routingSetup(t,r)},v.a.fetchDatasourcesForCurrentProject,function(t,r){return v.a.setPageTitle({category:"Audiences",name:"Attributes",next:r})},function(){return v.a.renderMainRegion(o.a.createElement(_.pages.attributes_dashboard.component,null))}]},{match:"/v2/projects/:proj_id/audiences/:audience_id?",metadata:{category:"Audiences"},handle:[[b].concat(_toConsumableArray(v.a.standardNavHandlers(u.default.NavWidth.OPEN,u.default.NavItems.AUDIENCES)),[v.a.parseProjectId,v.a.parseQueryFilters(d.default.tableIds.P13N_DATA_LAYER_AUDIENCES)]),function(t,r){return _.pages.audiences_dashboard.routingSetup(t,r)},function(t,r){var a=Number(t.params.audience_id);p.a.setFrontendRenderStartTime(),v.a.renderMainRegion(o.a.createElement(_.pages.audiences_dashboard.component,{audienceId:a})),r()},function(t,r){return v.a.setPageTitle({category:"Audiences",next:r})}]},{match:"/v2/projects/:proj_id/implementation/attributes",handle:[function(t){return y.default.go(g.a.p13nAttributesDashboard(t.params.proj_id))}]}];r.a=T},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(3),l=a(35),u=a(140),d=a.n(u),p=a(66),m=a.n(p),g=a(86),h=a(10),y=a(136),v=a(111),_=a(24),E=a(145),b=a(113),T=a(1386),S=a(1358),C=a(6);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var I="Manage Campaign";function CampaignOverviewSection(t,r){Promise.all([a.e(4),a.e(0),a.e(2),a.e(3),a.e(10)]).then(a.bind(null,3659)).then((function(t){Object.assign(CampaignOverviewSection,t)})).then(r)}function P13nLegacyCampaignEditorComponent(t,r){Promise.all([a.e(4),a.e(0),a.e(2),a.e(3),a.e(10)]).then(a.t.bind(null,3660,7)).then((function(t){Object.assign(P13nLegacyCampaignEditorComponent,t)})).then(r)}function setPageTitle(t){var r=t.next,a=t.name,i=t.params;r();var o="";if(i.layer_id){var l=c.default.evaluate(y.default.byId(Number(i.layer_id)));o=!!l&&l.get("name")}C.a.setPageTitle({category:o?"":I,name:a,primaryName:o})}var A=[CampaignOverviewSection,P13nLegacyCampaignEditorComponent],O=[{match:"/v2/projects/:proj_id/campaign_overview/:layer_id/*",handle:[function(t){var r=_.default.campaignHome(t.params.proj_id,t.params.layer_id);l.default.redirect(r)}]},{match:"/v2/projects/:proj_id/campaigns/:layer_id",metadata:{name:"Experiences",category:I},handle:[[].concat(A,_toConsumableArray(C.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.PERSONALIZATION)),[C.a.parseProjectId]),C.a.disallowCustomProjects,function(t,r){return CampaignOverviewSection.pages.experiments.routingSetup(t,r)},function(t,r){return CampaignOverviewSection.outboundRedirectCheck(t,r)},function(t,r){return setPageTitle({next:r,name:"Experiences",params:t.params})},function(){E.a.setFrontendRenderStartTime(),c.default.evaluate(m.a.canViewVariationsInP13N)?C.a.renderMainRegion(o.a.createElement(CampaignOverviewSection.pages.experiments.component,null)):C.a.renderMainRegion(P13nLegacyCampaignEditorComponent)}]},{match:"/v2/projects/:proj_id/campaigns/:layer_id/experiments/:experiment_id",handle:[[].concat(A,_toConsumableArray(C.a.standardNavHandlers(h.default.NavWidth.COLLAPSED)),[C.a.parseProjectId]),C.a.disallowCustomProjects,function(t,r){return CampaignOverviewSection.pages.experiments.routingSetup(t,r)},function(t){var r=c.default.evaluateToJS(v.default.byId(Number(t.params.experiment_id))).variations[0].variation_id;l.default.redirect(_.default.campaignEditor(t.params.proj_id,t.params.layer_id,t.params.experiment_id,r))}]},{match:"/v2/projects/:proj_id/campaigns/:layer_id/experiments/:experiment_id/variations/:variation_id",metadata:{name:"Variation Editor",category:I},handle:[[].concat(A,_toConsumableArray(C.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.PERSONALIZATION)),[C.a.parseProjectId]),C.a.disallowCustomProjects,C.a.fetchProjectPlugins,function(t,r){return CampaignOverviewSection.pages.experiments.routingSetup(t,r)},function(t,r){return CampaignOverviewSection.outboundRedirectCheck(t,r)},function(t,r){return setPageTitle({next:r,name:"Variation Editor",params:t.params})},function(t){var r={variationId:Number(t.params.variation_id),experimentOrSectionId:Number(t.params.experiment_id)};c.default.evaluate(m.a.canViewVariationsInP13N)?C.a.renderEditor(o.a.createElement(CampaignOverviewSection.pages.experiments.component,{editorOptions:r}),t.params.variation_id,t.params.experiment_id):C.a.renderEditor(P13nLegacyCampaignEditorComponent,t.params.variation_id,t.params.experiment_id)}]},{match:"/v2/projects/:proj_id/campaigns/:layer_id/integrations",metadata:{name:"Integrations",category:I},handle:[[].concat(A,_toConsumableArray(C.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.PERSONALIZATION)),[C.a.parseProjectId]),C.a.disallowCustomProjects,C.a.fetchIntegrationsTabData,function(t,r){return CampaignOverviewSection.pages.integrations.routingSetup(t,r)},function(t,r){return CampaignOverviewSection.outboundRedirectCheck(t,r)},function(t,r){return setPageTitle({next:r,name:"Integrations",params:t.params})},function(){return C.a.renderMainRegion(o.a.createElement(CampaignOverviewSection.pages.integrations.component,null))}]},{match:"/v2/projects/:proj_id/campaigns/:layer_id/metrics",metadata:{name:"Metrics",category:I},handle:[[].concat(A,_toConsumableArray(C.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.PERSONALIZATION)),[C.a.parseProjectId]),C.a.disallowCustomProjects,function(t,r){return CampaignOverviewSection.pages.metrics.routingSetup(t,r)},function(t,r){return CampaignOverviewSection.outboundRedirectCheck(t,r)},function(t,r){return setPageTitle({next:r,name:"Metrics",params:t.params})},function(){return C.a.renderMainRegion(o.a.createElement(CampaignOverviewSection.pages.metrics.component,null))}]},{match:"/v2/projects/:proj_id/campaigns/:layer_id/pages",metadata:{name:"Targeting",category:I},handle:[[].concat(A,_toConsumableArray(C.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.PERSONALIZATION)),[C.a.parseProjectId,function(t,r){return g.default.getCodeLintingBundleModules().then(r)}]),C.a.disallowCustomProjects,function(t,r){return CampaignOverviewSection.pages.pages.routingSetup(t,r)},function(t,r){return CampaignOverviewSection.outboundRedirectCheck(t,r)},function(t,r){return setPageTitle({next:r,name:"Targeting",params:t.params})},function(){return C.a.renderMainRegion(o.a.createElement(CampaignOverviewSection.pages.pages.component,null))}]},{match:"/v2/projects/:proj_id/campaigns/:layer_id/api_names",metadata:{name:"API Names",category:I},handle:[[].concat(A,_toConsumableArray(C.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.PERSONALIZATION)),[C.a.parseProjectId,function(t,r){return g.default.getCodeLintingBundleModules().then(r)}]),C.a.disallowCustomProjects,function(t,r){return CampaignOverviewSection.pages.apiNames.routingSetup(t,r)},function(t,r){return CampaignOverviewSection.outboundRedirectCheck(t,r)},function(t,r){return setPageTitle({next:r,name:"API Names",params:t.params})},function(){return C.a.renderMainRegion(o.a.createElement(CampaignOverviewSection.pages.apiNames.component,null))}]},{match:"/v2/projects/:proj_id/campaigns/:layer_id/settings",metadata:{name:"Settings",category:I},handle:[[].concat(A,_toConsumableArray(C.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.PERSONALIZATION)),[C.a.parseProjectId]),C.a.disallowCustomProjects,function(t,r){return CampaignOverviewSection.pages.settings.routingSetup(t,r)},function(t,r){return CampaignOverviewSection.outboundRedirectCheck(t,r)},function(t,r){return setPageTitle({next:r,name:"Settings",params:t.params})},function(){return C.a.renderMainRegion(o.a.createElement(CampaignOverviewSection.pages.settings.component,null))}]},{match:"/v2/projects/:proj_id/campaigns/:layer_id/custom_code",metadata:{name:"Shared Code",category:I},handle:[[].concat(_toConsumableArray(C.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.PERSONALIZATION)),A,[C.a.parseProjectId,function(t,r){return g.default.getCodeLintingBundleModules().then(r)}]),C.a.disallowCustomProjects,function(t,r){return CampaignOverviewSection.pages.customCode.routingSetup(t,r)},function(t,r){return CampaignOverviewSection.outboundRedirectCheck(t,r)},function(t,r){return setPageTitle({next:r,name:"Shared Code",params:t.params})},function(){return C.a.renderMainRegion(o.a.createElement(CampaignOverviewSection.pages.customCode.component,null))}]},{match:"/v2/projects/:proj_id/campaigns/:layer_id/history",metadata:{name:"History",category:I},handle:[[].concat(A,_toConsumableArray(C.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.PERSONALIZATION)),[C.a.parseProjectId]),C.a.disallowCustomProjects,function(t,r){var a=t.params;return S.a.fetchLayerAndSetAsCurrent(a.layer_id,r)},S.a.fetchRequiredDataForWebP13nManagerChangeHistory,function(t,r){return setPageTitle({next:r,name:"History",params:t.params})},function(t){var r=t.fetchedData,a=Object(b.d)(T.a);C.a.renderMainRegion(o.a.createElement(a,{fetchedEntities:r,sidebarProps:{activeTab:d.a.tabs.HISTORY}}))}]}];r.a=O},,function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(10),l=a(113),u=a(6),d=a(2549);function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var p=[{match:"/v2/projects/:proj_id/history",metadata:{name:"History"},handle:[[].concat(function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(u.a.standardNavHandlers(c.default.NavWidth.OPEN,c.default.NavItems.HISTORY)),[u.a.parseProjectId]),function(t,r){return u.a.setPageTitle({next:r,name:"History"})},function(){var t=Object(l.e)(d.a);u.a.renderMainRegion(o.a.createElement(t,null))}]}];r.a=p},function(t,r,a){"use strict";var i=a(150),o=a(1),c=a.n(o),l=a(0),u=a.n(l),d=a(13),p=a(483),m=function ChangeHistoryTopbar(t){var r=t.currentProjectNameWithSdkIfApplicable;return u.a.createElement(p.a,{projectName:r,title:"History"})};m.propTypes={currentProjectNameWithSdkIfApplicable:c.a.string.isRequired},r.a=Object(i.a)(m,{currentProjectNameWithSdkIfApplicable:d.default.nameWithSdkIfApplicable})},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(3),l=a(13),u=a(10),d=a(6),p=a(1359);function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}r.a=[{match:"/v2/projects/:proj_id/features/:feature_id?",metadata:{name:"Feature Flags",category:"Features"},handle:[].concat(function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(d.a.standardNavHandlers(u.default.NavWidth.OPEN,u.default.NavItems.FEATURES,u.default.FeaturesTabs.FEATURES_DASHBOARD)),[d.a.parseProjectId,p.a.routingSetup,function(t,r){return d.a.setPageTitle({category:"Features",name:"Feature Flags",next:r})},function(t){if(c.default.evaluate(l.default.isFullStackProject)){var r=Number(t.params.feature_id);d.a.renderMainRegion(o.a.createElement(p.a.component,{featureId:r}))}else d.a.redirectToCurrentProjectLayers()}])}]},function(t,r,a){"use strict";var i,o,c,l,u,d,p,m=a(1),g=a.n(m),h=a(0),y=a.n(h),v=a(87),_=a(62),E=a(71),b=a(204),T=a(108),S=a(40),C=a(19),I=a(134),A=a(11),O=a(2),P=a(35),R=a(5),w=a(28),N=a(268),L=a(101),x=a(300),D=a.n(x),k=a(24),j=a(382),M=a(2552),U=a(730),V=a(160),B=a(661),G=a(2104),H=a(64),z=a(325),W=a(126),q=a(167),Y=a(43),K=a(14),J=a(307),X=a(44),$=a(7),Q=a(169),Z=a(614),ee=a(718),te=a(453),ne=a(2106),re=a(10),ae=a(889),ie=a(49),oe=a(263),se=a(27),ce=a(822),le=a.n(ce),ue=a(2571),de=a(2588),fe=a(1015),pe=a(1016);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function asyncGeneratorStep(t,r,a,i,o,c,l){try{var u=t[c](l),d=u.value}catch(t){return void a(t)}u.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var c=t.apply(r,a);function _next(t){asyncGeneratorStep(c,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var me=ee.a.enums,ge=me.CREATING_FIRST_FEATURE_LOADING_ID,he=me.TABLE_ID,ye=Object(V.pageableEntityTable)(he),ve="https://docs.developers.optimizely.com/rollouts/docs/quickstart",_e=(i=Object(w.a)({canUseFeatureTests:ie.getters.canUseFeatureTests,canUseTargetedRollouts:ie.getters.canCurrentProjectUseTargetedRollouts,currentProject:K.getters.project,currentProjectRunningExperiments:ee.a.getters.currentProjectRunningExperiments,currentRole:Y.getters.currentRole,environments:J.c.unarchivedEnvironmentsSortedByPriority,currentUser:Q.b.currentUser,features:K.getters.features,isEmptyState:[K.getters.features,function(t){return 0===t.size}],isFirstPageLoading:Object(q.c)(he,1),isFlagsProject:K.getters.isFlagsProject,isFullStackProject:K.getters.isFullStackProject,isWebProject:K.getters.isWebProject,isCreatingFirstFeature:Object(q.b)(ge),canManageFeatureFlags:[K.getters.project,ie.fns.canManageFeatureFlags],currentProjectType:K.getters.currentProjectType}),o=Object(v.b)("first_feature_flag_guide"),c=Object(v.b)("user_friendly_names"),l=Object(v.b)("feature_dashboard_intro_modal"),u=Object(v.b)("quickstart_docs_link_in_features_dash"),Object(E.withTrack)(d=i(d=o(d=c(d=l(d=u(((p=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(FeaturesPageComponent,t);var r=_createSuper(FeaturesPageComponent);function FeaturesPageComponent(){var t;_classCallCheck(this,FeaturesPageComponent);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).archiveFeature=function(t){return se.actions.save({id:t.get("id"),archived:!0})},t.createFeature=function(){var r=t.props.canUseTargetedRollouts;Z.a.showFeatureDialog().then((function(a){r&&t.editFeature(a);var i=t.props.track,o=a.toJS();i("Feature Flag Created",{featureFlagId:o.id,featureFlagName:o.name,featureFlagKey:o.api_name})}))},t.editFeature=function(r){var a=t.props,i=a.canUseTargetedRollouts,o=a.currentProject.get("id"),c=r.get("id"),l=k.default.editFeature(o,c);i?P.default.redirect(l):(L.default.replaceState(l),Z.a.showFeatureDialog(r,(function(){L.default.replaceState(k.default.featuresHome(o))})))},t.filterItemByStringWithoutName=function(t,r){return X.d.matchesFields(t,["api_name","description","id"],r)},t.filterItemByString=function(t,r){return X.d.matchesFields(t,["api_name","description","name","id"],r)},t.filterItemByStatus=function(t,r){return X.d.matchesArchivedStatus(t,r)},t.getActiveExperimentsWithFeature=function(r){return t.props.currentProjectRunningExperiments.filter((function(t){return t.get("feature_flag_id")===r.get("id")})).map((function(t){return{id:t.get("id"),key:t.get("key"),name:t.get("name"),projectId:t.get("project_id")}}))},t.unarchiveFeature=function(t){return ee.a.actions.unarchiveFeature(t)},t.fetchDataForStatus=function(r){var a=t.props.currentProject;Object(W.g)(ee.a.enums.TABLE_ID,se.actions.fetchAllByArchivedState(a.get("id"),r===X.c.status.ARCHIVED))},t.handleOnCreateNewFeature=function(r){var a=t.props,i=a.currentProject,o=a.environments,c=se.fns.createNewFeatureWithEnvironmentConfigs(o,i.get("id")).merge({api_name:r,name:r}),l=o.last(),u=se.actions.getToggleFlagForEnvironment(l),d=se.fns.getIsFlagOnForEnvironment(l);R.default.loadingWhen(ge,se.actions.save(c).then((function(t){var r=Object(O.toImmutable)(t);R.default.showReactDialog(pe.a,{props:{flagKey:r.get("api_name"),sdkKey:l.getIn(["datafile","sdk_key"]),featureFlag:r,toggleFlag:u,isFlagOn:d}},{isOuiDialog:!0,fullScreen:!0})})))},t.renderEmptyState=function(r){var a=r.isFirstPageLoading,i=t.props,o=i.canManageFeatureFlags,c=i.currentProject,l=i.isCreatingFirstFeature;if(a)return y.a.createElement(b.a,{hasOverlay:!0});var u=y.a.createElement(B.a,{fetchAnyProjectEntityAndReturnTrueIfPresent:function fetchAnyProjectEntityAndReturnTrueIfPresent(){return new Promise(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var r;return regeneratorRuntime.wrap((function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,se.actions.fetchPage({project_id:c.get("id"),$limit:1,$idsOnly:!0});case 2:r=a.sent,t(!(!r||!r.length));case 4:case"end":return a.stop()}}),_callee)})));return function(r){return t.apply(this,arguments)}}())},handleFetchArchivedItems:function handleFetchArchivedItems(){t.fetchDataForStatus(X.c.status.ARCHIVED),X.a.setFilter(he,{status:X.c.status.ARCHIVED})}});if(t.first_feature_flag_guide)return y.a.createElement(fe.a,{archivedItemsCtaIfAvailableComponent:u,canManageFeatureFlags:o,isLoading:l,onCreateNewFeature:t.handleOnCreateNewFeature});var d=K.actions.getHelpCopy("features_link","https://docs.developers.optimizely.com/full-stack/docs/use-feature-flags");return y.a.createElement(U.default,{createButton:{onClick:t.createFeature,isDisabled:!o,label:y.a.createElement("span",null,"Create New Feature…"),testSection:"create-feature-button"},headline:tr("Create and manage your feature flags."),description:y.a.createElement(T.a,{small:"fillSpace",isReadingColumn:!0},y.a.createElement("p",null,"A feature flag enables you to control the availability of a feature without redeploying code. Turn a feature on and off in production, slowly roll it out, or make it available to specific users."," "),t.quickstart_docs_link_in_features_dash?y.a.createElement(S.a,{href:ve,newWindow:!0,testSection:"quickstart-docs-link"},y.a.createElement(C.a,{isLink:!0,style:"outline",size:"small"},"Try Quickstart Guide")):y.a.createElement(S.a,{href:d,newWindow:!0,testSection:"learn-more-link"},"Learn more."),u),imagePath:le.a})},t.renderNonEmptyState=function(){var r=t.props,a=r.canManageFeatureFlags,i=r.features,o=r.isFirstPageLoading,c=K.actions.getHelpCopy("features_link","https://docs.developers.optimizely.com/full-stack/docs/use-feature-flags");return y.a.createElement("div",{className:"flex flex--1 flex--column"},y.a.createElement("p",{className:"push-double--top push-quad--sides flush--bottom"},"A feature flag enables you to control the availability of a feature without redeploying code. Turn a feature on and off in production, slowly roll it out, or make it available to specific users. ",y.a.createElement(S.a,{href:c,newWindow:!0},"Learn more.")),y.a.createElement("div",{className:"push-quad--bottom"},y.a.createElement(I.a,{alignment:"center",type:"brand",testSection:"sdk-compatibility-warning"},"".concat(j.FEATURE_DETAILS.sdkWarningText," "),y.a.createElement(S.a,{newWindow:!0,href:j.FEATURE_DETAILS.sdkWarningKbLink},"Learn more"))),y.a.createElement("div",{className:"flex flex--none push-quad--sides push-double--ends"},y.a.createElement(z.TableFilterControls,{inputPlaceholder:t.user_friendly_names?"Filter by name, key, or description":"Filter by key or description",inputWidth:"width--300",tableId:he,statusOptions:[{label:"Active",value:X.c.status.ACTIVE},{label:"Archived",value:X.c.status.ARCHIVED}],onStatusChange:t.fetchDataForStatus}),y.a.createElement(C.a,{style:"highlight",onClick:t.createFeature,isDisabled:!a,testSection:"create-feature-button"},"Create New Feature…")),y.a.createElement(ye,{tableId:ee.a.enums.TABLE_ID,data:i,entityPlural:"features",filterItemByString:t.user_friendly_names?t.filterItemByString:t.filterItemByStringWithoutName,filterItemByStatus:t.filterItemByStatus,renderTableRow:t.renderTableRow,renderTableHeader:t.renderTableHeader,defaultSortBy:{field:"api_name",type:"string"},defaultFilters:{status:X.c.status.ACTIVE},isLoading:o}))},t.renderTableHeader=function(){var r=t.props,a=r.canUseFeatureTests,i=r.currentProject,o=i.getIn(["jira_integration","enabled"])&&!!i.getIn(["jira_integration","resource_id"]);return y.a.createElement(A.a.TR,null,y.a.createElement(H.SortableTableHeader,{field:t.user_friendly_names?"name":"api_name",type:"string"},"Feature"),o&&y.a.createElement(A.a.TH,{width:"300px"},"Jira Issues"),a&&y.a.createElement(A.a.TH,null,"Active Experiments"),y.a.createElement(A.a.TH,null,"Environments"),y.a.createElement(H.SortableTableHeader,{field:"created",type:"date"},"Created"),y.a.createElement(H.SortableTableHeader,{field:"last_modified",type:"date"},"Modified"),y.a.createElement(A.a.TH,null))},t.renderTableRow=function(r,a){var i=t.props,o=i.canManageFeatureFlags,c=i.currentProject,l=i.currentProjectRunningExperiments;return y.a.createElement(ue.a,{activeExperiments:t.getActiveExperimentsWithFeature(r),archive:t.archiveFeature,canManageFeatures:o,currentProjectRunningExperiments:l,editFeature:t.editFeature,feature:r,key:r.get("id"),rowIndex:a,unarchive:t.unarchiveFeature,jiraIntegrationSettings:c.get("jira_integration")})},t.renderTopBar=function(){return y.a.createElement(M.a,{activeTab:re.default.FeaturesTabs.FEATURES_DASHBOARD})},t.renderIntroDialog=function(){R.default.showReactDialog(de.a,null,{fullScreen:!0,dismissOnBack:!0,isOuiDialog:!0})},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(FeaturesPageComponent,[{key:"componentDidMount",value:function componentDidMount(){oe.a.trackHeroElement("features_dashboard"),oe.a.trackPageReady(oe.c.FEATURES_DASHBOARD);var t=this.props,r=t.featureId,a=t.currentUser,i=t.currentProjectType===$.project_types.ROLLOUTS;(r&&this.editFeatureFromUrl(r),this.feature_dashboard_intro_modal&&i)&&(a.get("email_verified")||this.renderIntroDialog())}},{key:"editFeatureFromUrl",value:function editFeatureFromUrl(t){var r=this,a=this.props.currentProject;se.actions.fetch(t).then((function(t){return r.editFeature(Object(O.toImmutable)(t))})).fail(D()((function(){L.default.replaceState(k.default.featuresHome(a.get("id")))})))}},{key:"render",value:function render(){var t=this.props,r=t.currentProject,a=t.isEmptyState,i=t.isFirstPageLoading;return y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:"flex flex--1 flex--column","data-test-section":"oasis-features-dashboard"},ae.a.isFlagsMigrationEnabled(this.props)&&y.a.createElement("div",{className:"push-double--top push-quad--sides"},y.a.createElement(I.a,{alignment:"center",type:"brand",testSection:"flags-migration-attention"},"".concat(ae.a.attentionText," "),y.a.createElement(S.a,{href:ae.a.attentionLink(r.get("id"))},"here"))),this.renderTopBar(),a&&this.renderEmptyState({isFirstPageLoading:i}),!a&&this.renderNonEmptyState()),y.a.createElement(N.a,{alternateContent:" "},y.a.createElement(_.OptimizelyFeature,{feature:"targeted_rollouts_tour_guide"},(function(t,r){return t&&y.a.createElement(G.a,{config:ne.a.targetedRollouts.getFeaturesListPageTourGuide(r),guideId:te.a.JOYRIDE_IDS.TARGETED_ROLLOUTS_LIST_PAGE,maxSkips:r.max_skips_list_page})}))))}}]),FeaturesPageComponent}(y.a.Component)).propTypes={canManageFeatureFlags:g.a.bool.isRequired,canUseFeatureTests:g.a.bool.isRequired,canUseTargetedRollouts:g.a.bool.isRequired,currentProject:g.a.instanceOf(O.default.Map).isRequired,currentProjectRunningExperiments:g.a.instanceOf(O.default.List).isRequired,currentProjectType:g.a.oneOf(Object.values($.project_types)).isRequired,currentRole:g.a.string.isRequired,currentUser:g.a.instanceOf(O.default.Map).isRequired,environments:g.a.instanceOf(O.default.List).isRequired,featureId:g.a.number,features:g.a.instanceOf(O.default.List).isRequired,isCreatingFirstFeature:g.a.bool.isRequired,isEmptyState:g.a.bool.isRequired,isFirstPageLoading:g.a.bool.isRequired,isFlagsProject:g.a.bool.isRequired,isFullStackProject:g.a.bool.isRequired,isWebProject:g.a.bool.isRequired,track:g.a.func.isRequired},p.defaultProps={featureId:NaN},d=p))||d)||d)||d)||d)||d)||d);_e.componentId="features-dashboard",r.a=_e},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(150),d=a(2),p=a(8),m=a.n(p),g=a(24),h=a(13),y=a(10),v=a(483),_=function FeaturesTopbar(t){var r=t.activeTab,a=t.currentProject,i=t.currentProjectNameWithSdkIfApplicable;return l.a.createElement(v.a,{projectName:i,title:"Features",tabs:[{title:m()("Overview"),url:g.default.featuresHome(a.get("id")),id:y.default.FeaturesTabs.FEATURES_DASHBOARD,testSection:"features-dashboard-tab"}],activeTab:r})};_.propTypes={activeTab:o.a.string.isRequired,currentProject:o.a.instanceOf(d.default.Map).isRequired,currentProjectNameWithSdkIfApplicable:o.a.string.isRequired},r.a=Object(u.a)(_,{currentProject:h.default.project,currentProjectNameWithSdkIfApplicable:h.default.nameWithSdkIfApplicable})},function(t,r,a){var i=a(392);t.exports=i.extendComponent(a(2102),{template:a(3557)})},function(t,r,a){var i=a(392);t.exports=i.extendComponent(a(2102),{template:a(3558)})},,,,function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(72),m=a.n(p),g=a(40),h=a(435),y=a(134),v=a(98),_=a(19),E=a(31),b=a(62),T=a(87),S=a(54),C=a(63),I=a(3),A=a(5),O=a(28),P=a(2),R=a(100),w=a(141),N=a(597),L=a(376),x=a(198),D=a(77),k=a(156),j=a(227),M=a(13),U=a(68),V=a(111),B=a(22),G=a(39),H=a(7),z=a(1403),W=a(876),q=a(405),Y=a(317),K=a(283),J=a(700),X=a(2561),$=a(2563),Q=a(2567),Z=a(2568),ee=a(2105);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var te=w.default.audienceMatchTypes.ANY_AUDIENCES,ne=Object(O.a)((function(t){return{canModifyRunningExperiment:[M.default.project,B.default.canModifyRunningExperiment],canUseFeatureVariables:G.default.canAccountUseFeatureVariables,currentProject:M.default.project,environmentsByKey:L.a.byKey,experimentsUsingFeature:[V.default.entityCache,function(r){return r.filter((function(r){return r.get("feature_flag_id")&&r.get("feature_flag_id")===t.feature.get("id")})).toList()}],environmentsSortedByPriority:L.a.unarchivedEnvironmentsSortedByPriority}}))(i=Object(C.a)({mapPropsToFormData:function mapPropsToFormData(t){var r=t.feature;return Object(P.toImmutable)({feature:r,rolloutTraffic:r.get("environments").map((function(t){var r=t.getIn(["rollout_rules",0,"percentage_included"]);return k.a.formatPercentageIncluded(r)}))})},debounceTimeout:100})(i=Object(T.b)("user_friendly_names")(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(FeatureDialogComponent,t);var r=_createSuper(FeatureDialogComponent);function FeatureDialogComponent(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,FeatureDialogComponent),(a=r.call(this,t)).shouldConfirmFeatureEdit=function(){var t=a.props,r=t.form,i=t.feature,o=r.field("feature"),c=o.field("api_name"),l=o.field("variables");return c.getValue()!==i.get("api_name")||!P.default.is(l.getValue(),i.get("variables"))},a.shouldConfirmFeatureTestEdit=function(){var t=a.props.experimentsUsingFeature;return a.shouldConfirmFeatureEdit()&&t.some(U.default.isRunningInAnyEnvironment.bind(U.default))},a.canSave=function(){var t=a.props,r=t.canManageFeatureFlags,i=t.form,o=a.state,c=o.isValidAudienceConfig,l=o.isSaving;return!!r&&(!!c&&(!l&&i.isFormValid()))},a.createTargetingRules=function(){a.setState((function(t){return{feature:t.feature.setIn(["targeting_rules"],Object(P.toImmutable)([]))}}))},a.handleSaveClick=function(){var t=a.state.isEditing,r={title:tr("Confirm Change"),message:"Incorrectly modifying this feature's settings may cause unintended behavior in your application. Confirm you want to make this change.",confirmText:"Confirm",cancelText:"Cancel",doSanitizeHTML:!1};t&&a.shouldConfirmFeatureTestEdit()?(r.message="This feature is currently being used in a running experiment. ".concat(r.message),A.default.confirm(r).then((function(){a.saveFeature()}))):t&&a.shouldConfirmFeatureEdit()?A.default.confirm(r).then((function(){a.saveFeature()})):a.saveFeature()},a.saveFeature=function(){var t=a.props,r=t.form,i=t.save,o=a.state.isEditing,c=r.field("feature"),l=r.field("rolloutTraffic");a.setState({isSaving:!0}),r.validate().then((function(){var t=c.field("environments").getValue().map((function(t,r){var a=k.a.parseTraffic(l.getValue().get(r));return t.setIn(["rollout_rules",0,"percentage_included"],a)})),r=c.field("variables").getValue().map((function(t){return t.get("type")===D.default.FEATURE_VARIABLE_TYPES.json?t.set("default_value",JSON.stringify(JSON.parse(t.get("default_value")))):t})),a=c.getValue().set("project_id",I.default.evaluate(M.default.id)).set("environments",t).set("variables",r);return i(a)})).then((function(){o||E.default.track("fs_feature_created")})).finally((function(){return a.setState({isSaving:!1})}))},a.handleAudienceSelectionChange=function(t){var r=t.audienceConditions,i=t.isValidAudienceConfig,o=a.props.form.field("feature").field("environments");o.setValue(o.getValue().map((function(t){return t.setIn(["rollout_rules",0,"audience_conditions_json"],r)}))),a.setState({isValidAudienceConfig:i})},a.onRolloutStatusChange=function(t){var r=a.props.form,i=a.state.selectedEnvironmentKey,o=r.field("feature.environments");o.setValue(o.getValue().setIn([i,"rollout_rules",0,"status"],t))},a.onSelectedEnvironmentKeyChange=function(t){a.setState({selectedEnvironmentKey:t})},a.renderCodeBlock=function(){var t=j.a.getHelpCopy("features_link","https://docs.developers.optimizely.com/full-stack/docs/use-feature-flags");return l.a.createElement("div",{className:"push-triple--top"},l.a.createElement(q.a,{description:l.a.createElement("span",null,"The Is Feature Enabled method returns a boolean. Use this boolean to conditionally change, show, or hide a feature. ",l.a.createElement(g.a,{href:t,newWindow:!0},"Learn more.")),getCodeSample:a.renderFeatureCode,showMobileOnly:a.props.isMobileOnly,title:tr("Example Code")}))},a.renderFeatureCode=function(t){var r=a.props.form,i=r.field("feature").field("api_name").getValue(),o=r.field("feature").field("variables").getValue()||P.default.List(),c=m()(Y.a.FEATURE_CODE_BLOCKS[t],i);return""===i?c=Y.a.FEATURE_CODE_BLOCKS_DEFAULT[t]:o.size&&o.forEach((function(r){if(!0!==r.get("archived")){var a=r.get("api_name"),o=a.replace(/-/gi,"_");Object(K.b)(o)&&(o="variable_".concat(o));var l=r.get("type");c+="\n".concat(m()(Y.a.VARIABLE_CODE_BLOCKS[t][l],o,i,a))}})),""!==i&&(c+=Y.a.FEATURE_CODE_BLOCKS_POSTFIX[t]||""),l.a.createElement(h.a,{isHighlighted:!0,hasCopyButton:!0,language:H.sdkSyntaxLanguage[t]||t,type:"block",testSection:"feature-code-sample"},c)},a.renderPermissionsAttention=function(t){var r=a.props.canManageFeatureFlags;return a.state.isEditing&&r&&!t?l.a.createElement("div",{className:"push-double--bottom"},l.a.createElement(y.a,{alignment:"center",testSection:"feature-edit-running-restricted-environment-warning",type:"warning"},"To edit all fields, this Feature can't be running in a restricted Environment.")):null};var i=t.environmentsSortedByPriority.last().get("key");a.state={isEditing:!!t.feature.get("id"),isSaving:!1,isValidAudienceConfig:!0,selectedEnvironmentKey:i};var o=t.currentProject,c=t.form,u=c.field("feature");return u.field("name").validators({isValid:function isValid(t){if(a.user_friendly_names&&!t)return"error"}},{debounceTimeout:1e3}),u.field("api_name").validators({isValid:function isValid(t){if(!R.default.apiName.test(t))return"error"},isUnique:function isUnique(r){var i=t.feature;if(i.get("id")&&i.get("api_name")===r)return Promise.resolve();var c=x.a.fetchByApiName(o.get("id"),r).then((function(t){return t.length>0?"error":Promise.resolve()}));return a.user_friendly_names&&A.default.loadingWhen("feature_key_validation",c),c}},{debounceTimeout:1e3,validateOnChange:a.user_friendly_names}),u.repeatedField("variables").setupRepeatedValidators({api_name:{isUnique:function isUnique(t,r){if(t)return r.getIn(["feature","variables"]).filter((function(t){return!t.get("archived")})).count((function(r){return r.get("api_name")===t}))>1?"error":void 0},isValid:function isValid(t){if(!R.default.variableName.test(t))return"error"}},"*":{isDefaultValueValid:function isDefaultValueValid(t){if(!k.a.isVariableValueInputValid(t.get("default_value"),t.get("type")))return"error"}}}),c.field("rolloutTraffic").validators({isValid:function isValid(t){if(t.some(J.a.rolloutTrafficAllocationIsInvalid))return"error"}},{validateOnChange:!0}),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(FeatureDialogComponent,[{key:"render",value:function render(){var t=this.state,r=t.isEditing,a=t.isSaving,i=t.selectedEnvironmentKey,o=this.props,c=o.cancel,u=o.canManageFeatureFlags,d=o.canModifyRunningExperiment,p=o.canUseFeatureVariables,m=o.currentProject,h=o.environmentsByKey,y=o.environmentsSortedByPriority,E=o.experimentsUsingFeature,T=o.form,C=T.field("feature"),I=T.field("rolloutTraffic"),A=C.field("name"),O=C.field("api_name"),P=C.field("description"),R=C.repeatedField("variables"),w=C.field("environments"),L=T.field("feature").getValue().getIn(["environments",i,"rollout_rules",0]),x=I.getValue().get(i),D=l.a.createElement(X.a,{environments:y,onSelectedEnvironmentKeyChange:this.onSelectedEnvironmentKeyChange,selectedEnvironmentKey:i,environmentsField:w,rolloutTrafficField:I}),M=h.get(i),U=d||u&&!k.a.isFeatureRunningInRestrictedEnvironment(T.field("feature").getValue(),h),V=!U,B=!U,G=!N.a.canStartAndPause(m,M),H=!U,q=j.a.getHelpCopy("audiences_link","https://docs.developers.optimizely.com/full-stack/docs/define-audiences-and-attributes"),Y={audienceConditions:L.get("audience_conditions_json"),canEditAudience:!H,defaultAudienceMatchType:te,onSelectionChange:this.handleAudienceSelectionChange,inForm:!0,poptipContent:l.a.createElement("p",null,"Make this feature available only to certain users. ",l.a.createElement(g.a,{href:q,newWindow:!0},"Learn more."))};return l.a.createElement("div",{className:"reading-column position--relative","data-test-section":"feature-dialog"},l.a.createElement(S.default,{isLoading:a},this.renderPermissionsAttention(U),l.a.createElement(Q.a,{apiNameField:O,descriptionField:P,isDisabled:V,isEditing:r,nameField:A}),p&&l.a.createElement(Z.a,{isDisabled:B,variablesField:R}),r&&l.a.createElement($.a,{experimentsUsingFeature:E}),l.a.createElement(ee.a,{disableInputs:G,environmentsDropdown:D,key:i,onStatusChange:this.onRolloutStatusChange,onTrafficChange:function onTrafficChange(t){return I.field(i).setValue(t)},showError:J.a.rolloutTrafficAllocationIsInvalid(x),status:L.get("status"),traffic:x}),l.a.createElement("div",{className:"push-quad--top"},l.a.createElement(b.OptimizelyFeature,{feature:"audience_combo_reskin"},(function(t){return t?l.a.createElement(W.a,Y):l.a.createElement(S.default,{loadingId:"fetchAudiences"},l.a.createElement(z.a,Y))}))),this.renderCodeBlock(T.field("feature").getValue()),l.a.createElement("div",{className:"lego-form__footer"},l.a.createElement("div",{className:"flex flex-align--center"},l.a.createElement("div",{className:"oui-sheet__required-indicator cursor--default color--red"},l.a.createElement("span",null,"* Required field")),l.a.createElement("div",{className:"flex--1"},l.a.createElement(v.a,{rightGroup:[l.a.createElement(_.a,{key:"btn-cancel",style:"plain",testSection:"feature-dialog-cancel",onClick:c},"Cancel"),l.a.createElement(_.a,{key:"btn-save",style:"highlight",testSection:"feature-dialog-save",isDisabled:!this.canSave(),onClick:this.handleSaveClick},r?"Save":"Create Feature")]}))))))}}]),FeatureDialogComponent}(l.a.Component)).propTypes={cancel:d.a.func.isRequired,canManageFeatureFlags:d.a.bool.isRequired,canModifyRunningExperiment:d.a.bool.isRequired,canUseFeatureVariables:d.a.bool.isRequired,currentProject:d.a.instanceOf(P.default.Map).isRequired,environmentsByKey:d.a.instanceOf(P.default.Map).isRequired,environmentsSortedByPriority:d.a.instanceOf(P.default.List).isRequired,experimentsUsingFeature:d.a.instanceOf(P.default.List).isRequired,feature:d.a.instanceOf(P.default.Map).isRequired,form:C.c.isRequired,isMobileOnly:d.a.bool.isRequired,save:d.a.func.isRequired},i=o))||i)||i)||i;r.a=ne},function(t,r,a){"use strict";var i=a(3),o=a(14),c=a(23),l=a(1362);r.a={fetchLayersForAudience:function fetchLayersForAudience(t,r){return new Promise((function(a,u){l.a.fetchAll({project_id:t,audience_id:r},{force:!0}).then((function(){var d=i.default.evaluateToJS(l.b.byId(r)).layer_ids,p=i.default.evaluate(o.getters.layers).map((function(t){return t.get("id")})).toJS(),m=d.filter((function(t){return!p.includes(t)}));m.length>0?c.actions.fetchAll({project_id:t,id:m}).then((function(){a(d)}),u):a(d)}),u)}))}}},function(t,r,a){"use strict";var i=a(102),o=a(2);r.a={covertAudiences:function covertAudiences(t,r){return t.filter((function(t){return!t.get("archived")})).toJS().sort(Object(i.generateObjectSortFn)([{field:"name",type:"string",dir:i.ASC}])).map((function(t){return{label:t.name,value:t.id,description:"Used in ".concat(t.experiment_count," experiment").concat(t.experiment_count>1?"s":"")}}))},filterLayers:function filterLayers(t,r){return t?t.filter((function(t){return!t.get("archived")&&r&&r.includes(t.get("id"))})):Object(o.toImmutable)([])}}},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(26),d=a(135),p=a(65),m=a(2),g=a(20),h=a(63),y=a(2562);function EnvironmentsDropdown(t){var r=t.environments,a=t.onSelectedEnvironmentKeyChange,i=t.rolloutTrafficField,o=t.selectedEnvironmentKey,c=t.environmentsField,m=[];return r.reverse().forEach((function(t){var r,a=t.get("name"),o=t.get("key"),d=i.getValue().get(o),h=c.getValue().getIn([o,"rollout_rules",0,"status"]);r=y.a.rolloutTrafficAllocationIsInvalid(d)?l.a.createElement("div",{className:"color--bad-news"},l.a.createElement(u.a,{color:p.redBase,size:"small",name:"circle-exclamation"})):h===g.enums.EnvironmentStatus.RUNNING?"".concat(d,"%"):"OFF";var v=l.a.createElement("div",{className:"truncate max-width--200"},a),_=l.a.createElement("div",{className:"flex flex-align--center"},l.a.createElement("div",{className:"truncate width--200"},a),l.a.createElement("div",{className:"muted"},r));m.push({activatorLabel:v,label:_,value:o})})),l.a.createElement(d.a,{testSection:"rollout-field-env-select-menu",items:m,value:o,onChange:a,displayError:i.getErrors().hasError})}EnvironmentsDropdown.propTypes={environments:o.a.instanceOf(m.default.List).isRequired,environmentsField:h.b.isRequired,onSelectedEnvironmentKeyChange:o.a.func.isRequired,rolloutTrafficField:h.b.isRequired,selectedEnvironmentKey:o.a.string.isRequired},r.a=EnvironmentsDropdown},function(t,r,a){"use strict";var i=a(700);a.d(r,"a",(function(){return i.a}));i.a},function(t,r,a){"use strict";a.d(r,"a",(function(){return h}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(79),d=a(11),p=a(62),m=a(2),g=a(931);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ExperimentsTable,t);var r=_createSuper(ExperimentsTable);function ExperimentsTable(){return _classCallCheck(this,ExperimentsTable),r.apply(this,arguments)}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ExperimentsTable,[{key:"render",value:function render(){return this.props.experimentsUsingFeature.size?o.a.createElement("div",{className:"lego-grid"},o.a.createElement("div",{className:"soft-double--left width--1-1 push-quad--top"},o.a.createElement("h3",null,o.a.createElement(u.a,null,o.a.createElement("span",null,"Experiments"))),o.a.createElement("p",null,tr.pluralize("This feature is currently in 1 experiment.","This feature is currently in {0} experiments.",this.props.experimentsUsingFeature.size)),o.a.createElement(d.a,{style:"rule",tableLayoutAlgorithm:"auto"},o.a.createElement(d.a.THead,null,o.a.createElement(d.a.TR,null,o.a.createElement(d.a.TH,null,"Experiment"),o.a.createElement(d.a.TH,{isCollapsed:!0},"Status"))),o.a.createElement(d.a.TBody,null,this.props.experimentsUsingFeature.map((function(t,r){return o.a.createElement(d.a.TR,{key:t.get("id")},o.a.createElement(d.a.TD,{testSection:"experiment-key-".concat(t.get("id"))},o.a.createElement(p.OptimizelyFeature,{feature:"user_friendly_names"},(function(r){return r?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"word-break--all","data-test-section":"feature-experiment-name"},t.get("name")),o.a.createElement("div",{className:"zeta monospace muted micro color--base word-break--all","data-test-section":"feature-experiment-key",style:{marginTop:"-1px"}},t.get("key"))):o.a.createElement("code",null,t.get("key"))}))),o.a.createElement(d.a.TD,{testSection:"experiment-status-".concat(t.get("id"))},o.a.createElement(g.a,{experiment:t})))})))))):null}}]),ExperimentsTable}(o.a.Component);h.propTypes={experimentsUsingFeature:l.a.instanceOf(m.default.List).isRequired}},function(t,r,a){"use strict";var i=a(2),o=a(1),c=a.n(o),l=a(0),u=a.n(l),d=a(29),p=a(110),m=a(1010);function ExperimentStatusWithEnvironments(t){var r=t.experiment,a=t.experimentEnvironmentsInfo;return u.a.createElement(m.a,{isArchived:r.get("actual_status")===d.default.ActualStatus.ARCHIVED,environmentsInfo:a,getStatusDescription:function getStatusDescription(t){return p.a[t.get("status")]}})}ExperimentStatusWithEnvironments.propTypes={experiment:c.a.instanceOf(i.default.Map).isRequired,experimentEnvironmentsInfo:c.a.instanceOf(i.default.List).isRequired},r.a=ExperimentStatusWithEnvironments},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(29),d=a(110);function statusClassName(t,r){if(r)return"color--brand";switch(t){case u.ActualStatus.ARCHIVED:case u.ActualStatus.NOT_STARTED:return"muted";case u.ActualStatus.CAMPAIGN_PAUSED:case u.ActualStatus.PAUSED:return"";case u.ActualStatus.RUNNING:return"color--good-news"}}function SimpleStatus(t){var r=t.status,a=t.isLaunched;return l.a.createElement("div",{className:statusClassName(r,a)},function readableStatus(t,r){return r?tr("Launched"):d.b[t]}(r,a))}SimpleStatus.propTypes={status:o.a.string,isLaunched:o.a.bool},r.a=SimpleStatus},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(29),d=a(110);function statusClassName(t,r){if(r)return"color--brand";switch(t){case u.EnvironmentStatus.ARCHIVED:case u.EnvironmentStatus.NOT_STARTED:return"muted";case u.EnvironmentStatus.PAUSED:return"";case u.EnvironmentStatus.RUNNING:return"color--good-news"}}function SimpleEnvironmentStatus(t){var r=t.status,a=t.isLaunched;return l.a.createElement("div",{className:statusClassName(r,a)},function readableStatus(t,r){return r?tr("Launched"):d.a[t]}(r,a))}SimpleEnvironmentStatus.propTypes={status:o.a.oneOf(Object.values(u.EnvironmentStatus)).isRequired,isLaunched:o.a.bool.isRequired},r.a=SimpleEnvironmentStatus},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(62),d=a(188),p=a(40),m=a(134),g=a(52),h=a(218),y=a(382),v=a(28),_=a(14),E=a(167),b=a(319),T=a(63);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var S=function FeatureDetails(t){var r=t.apiNameField,a=t.descriptionField,i=t.isDisabled,o=t.isEditing,c=t.isValidatingFeatureKey,v=t.nameField,E=_slicedToArray(Object(u.useFeature)("user_friendly_names"),1)[0],T=function handleNameChange(t){var a=v.getValue(),i=r.getValue(),c=t.target.value;v.setValue(c),o||i&&i!==Object(b.a)((a||"").toLowerCase())||r.setValue(Object(b.a)((c||"").toLowerCase()))},S=_.actions.getHelpCopy("features_link","https://docs.developers.optimizely.com/full-stack/docs/use-feature-flags");return l.a.createElement("div",null,l.a.createElement("div",{className:"push-quad--bottom"},l.a.createElement("div",{className:"beta push--bottom","data-test-section":"feature-dialog-title"},o?"Edit Feature":"New Feature"),l.a.createElement("p",null,"Feature flags enable you to control the availability of a feature in your application without redeploying code. ",l.a.createElement(p.a,{href:S,newWindow:!0},"Learn more."))),l.a.createElement("div",{className:"push-quad--bottom"},l.a.createElement(m.a,{alignment:"center",type:"brand",testSection:"sdk-compatibility-warning"},"".concat(y.FEATURE_DETAILS.sdkWarningText," "),l.a.createElement(p.a,{newWindow:!0,href:y.FEATURE_DETAILS.sdkWarningKbLink},"Learn more"))),l.a.createElement(u.OptimizelyFeature,{feature:"user_friendly_names"},(function(t){return t?l.a.createElement("div",{className:"lego-grid"},l.a.createElement("div",{className:"soft-double--left width--1-1 push-quad--bottom"},l.a.createElement(g.a,{id:"feature-name",label:"Feature Name",isRequired:!0,isDisabled:i,type:"text",testSection:"feature-dialog-name",value:v.getValue(),onChange:T,placeholder:"Feature Name"}),function renderNameErrorBlock(){if(v.getErrors().details.isValid)return l.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"feature-dialog-invalid-name-error"},"Please enter a name.")}())):null})),l.a.createElement("div",{className:"lego-grid"},l.a.createElement("div",{className:"soft-double--left width--1-1 push-quad--bottom"},l.a.createElement(g.a,{id:"feature-api-name",label:function renderFeatureKeyLabelWithHelp(){return l.a.createElement("span",null,l.a.createElement("span",null,"Feature Key"),l.a.createElement(d.a,{horizontalAttachment:"left",verticalAttachment:"top"},l.a.createElement("p",null,"Use alphanumeric characters, hyphens, and underscores in this unique key. No spaces.")))}(),note:"Use this to uniquely identify the feature",isRequired:!0,isDisabled:i,type:"text",testSection:"feature-dialog-key",value:r.getValue(),onChange:function handleApiNameChange(t){r.setValue(E?Object(b.a)(t.target.value):t.target.value)},placeholder:"feature_key"}),function renderApiNameNoteBlock(){return c?l.a.createElement("div",{className:"lego-form-note","data-test-section":"feature-dialog-validating-key-note"},"Validating..."):null}()||function renderApiNameErrorBlock(){return r.getErrors().details.isValid?l.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"feature-dialog-invalid-key-error"},"Please enter a valid key. Valid keys contain alphanumeric characters, hyphens, and underscores, and are limited to 64 characters."):r.getErrors().details.isUnique?l.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"feature-dialog-unique-key-error"},E?"This key is already in use. Keys must be unique.":"Key is already in use by another feature in this project. Please choose a unique key."):void 0}())),l.a.createElement("div",{className:"lego-grid"},l.a.createElement("div",{className:"soft-double--left width--1-1"},l.a.createElement(h.a,{id:"feature-description",label:"Description",testSection:"feature-dialog-description",value:a.getValue(),isDisabled:i,onChange:function onChange(t){return a.setValue(t.target.value)},placeholder:"Click to add"}))))};S.propTypes={apiNameField:T.b.isRequired,descriptionField:T.b.isRequired,isDisabled:o.a.bool,isEditing:o.a.bool.isRequired,isValidatingFeatureKey:o.a.bool.isRequired,nameField:T.b.isRequired},S.defaultProps={isDisabled:!1},r.a=Object(v.a)((function(){return{isValidatingFeatureKey:E.a.isLoading("feature_key_validation")}}))(S)},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(79),d=a(11),p=a(19),m=a(2),g=a(63),h=a(27),y=a(2569),v=function createAddVariableHandler(t){return function(){t.pushChild(Object(m.toImmutable)({api_name:"",type:h.constants.FEATURE_VARIABLE_TYPES.string,default_value:""}))}},_=function FeatureVariables(t){var r=t.isDisabled,a=t.variablesField,i=a.getValue().size>0;return l.a.createElement("div",{className:"lego-grid","data-test-section":"feature-variables"},l.a.createElement("div",{className:"soft-double--left width--1-1 push-quad--top"},l.a.createElement("h3",null,l.a.createElement(u.a,null,l.a.createElement("span",null,"Feature Configuration"))),l.a.createElement("div",{className:"push-double--bottom"},l.a.createElement("p",null,"Parameterize your feature with variables you want to optimize. Set the values of these variables as part of a test.")),l.a.createElement("form",null,i&&l.a.createElement(d.a,null,l.a.createElement(d.a.THead,null,l.a.createElement(d.a.TR,null,l.a.createElement(d.a.TH,null,"Variable Key",l.a.createElement("span",{className:"oui-label--required"})),l.a.createElement(d.a.TH,null,"Type"),l.a.createElement(d.a.TH,null,"Default Value"),l.a.createElement(d.a.TH,null))),l.a.createElement(d.a.TBody,null,a.mapChildren((function(t,a){if(!t.getValue().get("archived"))return l.a.createElement(y.a,{key:a,index:a,isDisabled:r,variableField:t})})))),l.a.createElement("div",{className:"push-double--top"},l.a.createElement(p.a,{isDisabled:r,onClick:v(a),testSection:"feature-dialog-add-variable",width:"full"},"Add Variable")))))};_.propTypes={isDisabled:o.a.bool,variablesField:g.b.isRequired},_.defaultProps={isDisabled:!1},r.a=_},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(11),d=a(52),p=a(135),m=a(19),g=a(62),h=a(77),y=a(156),v=a(954),_=a(63);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var E=function FeatureVariableTableRow(t){var r=t.isDisabled,a=t.variableField,i=t.index,o=a.field("api_name"),c=a.field("type"),_=a.field("default_value"),E=o.getValue()||i,b=_slicedToArray(Object(g.useFeature)("feature_variable_json"),1)[0];return l.a.createElement(u.a.TR,null,l.a.createElement(u.a.TD,null,l.a.createElement(d.a,{isDisabled:r,onChange:function onChange(t){return o.setValue(t.target.value)},testSection:"feature-dialog-variable-key-".concat(E),type:"text",value:o.getValue()}),function renderErrorBlock(){return o.getErrors().details.isValid?l.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"feature-dialog-variation-key-invalid-error-".concat(E)},"Please enter a valid key. Valid keys contain alphanumeric characters, hyphens, and underscores, and are limited to 64 characters."):o.getErrors().details.isUnique?l.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"feature-dialog-variation-unique-key-error-".concat(E)},"Key is already in use by another variable in this feature. Please choose a unique key."):a.getErrors().details.isDefaultValueValid?l.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"feature-dialog-variation-invalid-value-error-".concat(E)},h.default.FEATURE_VARIABLE_ERRORS[c.getValue()].valueError):void 0}()),l.a.createElement(u.a.TD,null,l.a.createElement(p.a,{isDisabled:!!a.getValue().get("id")||r,fullWidth:!0,minDropdownWidth:200,onChange:function handleOnSelect(t){t!==c.getValue()&&_.setValue(y.a.getDefaultValueForType(t)),c.setValue(t)},testSection:"feature-dialog-variable-type-select-".concat(E),value:c.getValue(),items:h.default.FEATURE_VARIABLE_TEXTS.filter((function(t){return!!b||t.value!==h.default.FEATURE_VARIABLE_TYPES.json}))})),l.a.createElement(u.a.TD,null,l.a.createElement(v.a,{field:_,type:c.getValue(),disableVariable:r,testSectionPrefix:"feature-dialog-".concat(E)})),l.a.createElement(u.a.TD,null,l.a.createElement(m.a,{isDisabled:r,onClick:function handleOnRemove(){a.getValue().get("id")?a.field("archived").setValue(!0):a.remove()},style:"plain",testSection:"feature-dialog-variable-delete-button-".concat(E)},"Delete")))};E.propTypes={index:o.a.number.isRequired,isDisabled:o.a.bool,variableField:_.b.isRequired},E.defaultProps={isDisabled:!1},r.a=E},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(154),m=a(19),g=a(40),h=a(134),y=a(62),v=a(31),_=a(3),E=a(28),b=a(198),T=a(13),S=a(376),C=a(77),I=a(39),A=a(382),O=a(63),P=a(2),R=a(1442),w=a(1443),N=a(1444);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L=Object(O.a)({mapPropsToFormData:function mapPropsToFormData(){var t=Object(v.isFeatureEnabled)("feature_variable_json");return Object(P.toImmutable)({variables:[t?C.default.DEFAULT_VARIABLE:C.default.BASE_VARIABLE]})},debounceTimeout:300,validateOnChange:!1})(i=Object(E.a)((function(){return{canUseFeatureVariables:I.default.canAccountUseFeatureVariables}}))(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(CreateNewFeatureDialog,t);var r=_createSuper(CreateNewFeatureDialog);function CreateNewFeatureDialog(){var t;_classCallCheck(this,CreateNewFeatureDialog);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={isLoading:!1},t.createNewFeature=function(){var r=t.props,a=r.form,i=r.onSave;return t.setState({isLoading:!0}),a.validate().then((function(){var t=_.default.evaluate(S.a.unarchivedEnvironmentsSortedByPriority).reduce((function(t,r){return t.set(r.get("key"),Object(P.toImmutable)({id:r.get("id"),is_primary:r.get("is_primary"),rollout_rules:[{audience_conditions:null,audience_ids:[],percentage_included:0,status:"running"}]}))}),P.default.Map({})),r=a.field("variables").getValue().filter((function(t){return""!==t.get("api_name")})).map((function(t){return t.get("type")===C.default.FEATURE_VARIABLE_TYPES.json?t.set("default_value",JSON.stringify(JSON.parse(t.get("default_value")))):t})),i=a.getValue().set("project_id",_.default.evaluate(T.default.id)).set("environments",t).set("variables",r);return new Promise((function(t,r){b.a.save(i).then((function(r){return t(i.mergeDeep(Object(P.toImmutable)(r)))}),r)}))})).then(i).catch((function(){return a.setOptions({validateOnChange:!0})})).finally((function(){return t.setState({isLoading:!1})}))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(CreateNewFeatureDialog,[{key:"render",value:function render(){var t=this.props,r=t.canUseFeatureVariables,a=t.form,i=t.onCancel,o=this.state.isLoading;return l.a.createElement(p.a,{footerButtonList:[l.a.createElement(m.a,{key:"cancel",style:"plain",onClick:i,testSection:"create-new-feature-modal-cancel-button"},"Cancel"),l.a.createElement(m.a,{key:"submit",style:"highlight",onClick:this.createNewFeature,isDisabled:!a.isFormDirty(),isLoading:o,testSection:"create-new-feature-modal-create-button"},"Create Feature")],onClose:i,title:"New Feature",subtitle:l.a.createElement("span",null,"Create a feature and customize its settings."," ",l.a.createElement(g.a,{href:"https://docs.developers.optimizely.com/full-stack/docs/use-feature-flags",newWindow:!0},"Learn more"))},l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"push-quad--bottom"},l.a.createElement(h.a,{alignment:"center",type:"brand",testSection:"sdk-compatibility-warning"},"".concat(A.FEATURE_DETAILS.sdkWarningText," "),l.a.createElement(g.a,{newWindow:!0,href:A.FEATURE_DETAILS.sdkWarningKbLink},"Learn more"))),l.a.createElement(N.a,{form:a}),r&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Variable Keys & Types"),l.a.createElement("p",null,"Define your variable keys, types, and default values to use with your environment and audience rules."),l.a.createElement(y.OptimizelyFeature,{feature:"feature_variable_json"},(function(t){return t?l.a.createElement(R.a,{variablesField:a.repeatedField("variables")}):l.a.createElement(w.a,{variablesField:a.repeatedField("variables")})})))))}}]),CreateNewFeatureDialog}(l.a.Component)).propTypes={canUseFeatureVariables:d.a.bool.isRequired,form:O.c.isRequired,onCancel:d.a.func.isRequired,onSave:d.a.func.isRequired},i=o))||i)||i;r.a=L},function(t,r,a){"use strict";var i=a(62),o=a(1),c=a.n(o),l=a(0),u=a.n(l),d=a(11),p=a(40),m=a(368),g=a(2),h=a(1303),y=a(5),v=a(24),_=a(168),E=a(49),b=a(14),T=a(307),S=a(228),C=a.n(S),I=a(955),A=a(2585),O=a(2587),P=function FeatureTableRow(t){var r=t.activeExperiments,a=t.archive,o=t.canManageFeatures,c=t.canUpdateJiraLinks,l=t.canUseFeatureTests,g=t.currentProjectRunningExperiments,y=t.editFeature,_=t.environmentStatusesByFeatureId,E=t.feature,b=t.isLoadingLinks,T=t.jiraIntegrationSettings,S=t.rowIndex,P=t.unarchive,R=E.get("api_name"),w=E.get("archived"),N=E.get("id"),L=E.get("name"),x=E.get("project_id"),D=_.get(N),k={environmentStatus:"20%",created:"11%",modified:"11%",actions:"2%"},j=!!T.get("resource_id")&&T.get("enabled");return j&&(k={jiraIssues:"10%",environmentStatus:"18%",created:"10%",modified:"10%",actions:"2%"}),l&&(k.activeExperiments="22%"),u.a.createElement(d.a.TR,{key:N,testSection:"feature-table-row-".concat(S)},u.a.createElement(d.a.TD,{testSection:"feature-table-row-details-".concat(S)},u.a.createElement(i.OptimizelyFeature,{feature:"user_friendly_names"},(function(t){return L&&t?u.a.createElement(u.a.Fragment,null,u.a.createElement(p.a,{href:v.default.editFeature(x,N),isDisabled:w,onClick:h.a.shouldPreventDefaultAndCallFn((function(){return y(E)})),testSection:"feature-link"},u.a.createElement("span",{"data-test-section":"feature-name"},L)),u.a.createElement("div",{className:"zeta monospace muted micro word-break--all","data-test-section":"feature-api-name",style:{marginTop:"-1px"}},R)):u.a.createElement(p.a,{href:v.default.editFeature(x,N),isDisabled:w,onClick:h.a.shouldPreventDefaultAndCallFn((function(){return y(E)})),testSection:"feature-link"},u.a.createElement("span",{"data-test-section":"feature-api-name",className:"zeta monospace"},R))})),u.a.createElement("div",{className:"muted micro word-break--all","data-test-section":"feature-description"},E.get("description"))),j&&u.a.createElement(d.a.TD,{width:k.jiraIssues},u.a.createElement(I.a,{source:E,sourceType:"feature",tenantUrl:T.get("tenant_url")})),l&&u.a.createElement(d.a.TD,{testSection:"feature-table-row-active-experiments-".concat(S),width:k.activeExperiments},u.a.createElement("div",{className:"word-break--all"},0===r.size&&"--",r.size>0&&u.a.createElement(i.OptimizelyFeature,{feature:"user_friendly_names"},(function(t){return t?r.map((function(t,r){var a=t.key,i=t.name,o=t.id,c=t.projectId;return u.a.createElement("div",{className:r?"push-half--top":"",key:a},u.a.createElement(m.a,{key:o,href:v.default.experimentVariations(c,o),testSection:"active-experiment-link-".concat(r)},u.a.createElement("div",{"data-test-section":"active-experiment-name-".concat(r)},i)),u.a.createElement("div",{className:"zeta monospace muted micro","data-test-section":"active-experiment-key-".concat(r),style:{marginTop:"-1px"}},a))})):r.map((function(t){return t.key})).join(", ")})))),u.a.createElement(d.a.TD,{testSection:"feature-table-row-rollout-info-".concat(S),width:k.environmentStatus},u.a.createElement(O.a,{feature:E,featureEnvironmentsInfo:D})),u.a.createElement(d.a.TD,{width:k.created},C()(E.get("created"))),u.a.createElement(d.a.TD,{width:k.modified},C()(E.get("last_modified"))),u.a.createElement(d.a.TD,{isNumerical:!0,width:k.actions},u.a.createElement(A.a,{archive:a,canManageFeatures:o,canUpdateJiraLinks:c,currentProjectRunningExperiments:g,feature:E,rowIndex:S,unarchive:P,jiraIntegrationEnabled:T.get("enabled"),isLoadingLinks:b})))};P.propTypes={activeExperiments:c.a.PropTypes.instanceOf(g.default.List).isRequired,archive:c.a.func.isRequired,canManageFeatures:c.a.bool.isRequired,canUpdateJiraLinks:c.a.bool.isRequired,canUseFeatureTests:c.a.bool.isRequired,currentProjectRunningExperiments:c.a.instanceOf(g.default.List).isRequired,editFeature:c.a.func.isRequired,environmentStatusesByFeatureId:c.a.instanceOf(g.default.Map).isRequired,feature:c.a.instanceOf(g.default.Map).isRequired,isLoadingLinks:c.a.bool,jiraIntegrationSettings:c.a.instanceOf(g.default.Map),rowIndex:c.a.number.isRequired,unarchive:c.a.func.isRequired},P.defaultProps={isLoadingLinks:!1,jiraIntegrationSettings:g.default.Map({})},r.a=y.default.connectGetters(P,{canUpdateJiraLinks:[b.getters.project,E.fns.canUpdateJiraLinks],canUseFeatureTests:E.getters.canUseFeatureTests,isLoadingLinks:_.a.isLoading("jira-links"),environmentStatusesByFeatureId:T.c.environmentStatusesByFeatureId})},,,,,,,,,,,,,,function(t,r,a){"use strict";var i=a(306),o=a.n(i),c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(32),m=a(109),g=a(2),h=a(5),y=a(956),v=a(564);function FeatureTableRowActions(t){var r,a=t.archive,i=t.canManageFeatures,c=t.canUpdateJiraLinks,u=t.currentProjectRunningExperiments,d=t.feature,g=t.rowIndex,_=t.unarchive,E=t.jiraIntegrationEnabled,b=t.isLoadingLinks,T=o.a.sanitize(d.get("api_name"));r=u.some((function(t){return t.get("feature_flag_id")===d.get("id")}))?l.a.createElement(p.a.ListItem,{hideOnClick:!0,key:"archive-disabled"},l.a.createElement(p.a.BlockLink,{onClick:function onClick(){},testSection:"feature-archive-button-disabled-".concat(d.get("id")),isLink:!1,minWidth:"150"},l.a.createElement(p.a.BlockLinkText,{text:"Archive"}),l.a.createElement(p.a.BlockLinkSecondaryText,{isWarning:!0,secondaryText:tr("The feature {0} is currently used in running experiments. To archive, please pause any running experiments currently using this feature.",T)}))):l.a.createElement(p.a.ListItem,{hideOnClick:!0,key:"archive"},l.a.createElement(p.a.BlockLink,{onClick:function onArchive(){if(i){var t=tr("The feature <b>{0}</b> has been archived.",T);a(d).then((function(){h.default.showNotification({message:t})}))}else h.default.showNotification({message:tr("You do not have permission to perform this action.")})},testSection:"feature-archive-button-".concat(d.get("id"))},"Archive"));var S=d.get("archived")?[l.a.createElement(p.a.ListItem,{hideOnClick:!0,key:"unarchive"},l.a.createElement(p.a.BlockLink,{onClick:function onUnarchive(){if(i){var t=o.a.sanitize(d.get("api_name"),!0),r="The feature <b>".concat(t,"</b> has been unarchived.");_(d).then((function(){h.default.showNotification({message:r})}))}else h.default.showNotification({message:tr("You do not have permission to perform this action.")})},testSection:"feature-unarchive-button-".concat(d.get("id"))},"Unarchive"))]:[r];return E&&!b&&c&&S.push(l.a.createElement(p.a.ListItem,{hideOnClick:!0,key:"jira-options"},l.a.createElement(y.a,{newWindow:v.a.isDesktopApp(),source:d,sourceType:"feature"}))),l.a.createElement(p.a,{activator:l.a.createElement(m.a,{iconFill:"default",iconName:"ellipsis-solid",size:"small",style:"plain",testSection:"feature-table-row-actions-".concat(g)})},l.a.createElement(p.a.Contents,null,S))}FeatureTableRowActions.propTypes={archive:d.a.func.isRequired,canManageFeatures:d.a.bool.isRequired,canUpdateJiraLinks:d.a.bool.isRequired,currentProjectRunningExperiments:d.a.instanceOf(g.default.List).isRequired,feature:d.a.instanceOf(g.default.Map).isRequired,rowIndex:d.a.number.isRequired,unarchive:d.a.func.isRequired,jiraIntegrationEnabled:d.a.bool,isLoadingLinks:d.a.bool},FeatureTableRowActions.defaultProps={jiraIntegrationEnabled:!1,isLoadingLinks:!1},r.a=FeatureTableRowActions},function(t,r,a){"use strict";var i,o,c,l,u=a(2),d=a(1),p=a.n(d),m=a(0),g=a.n(m),h=a(28),y=a(196),v=a(71),_=a(5),E=a(475),b=a(608),T=a(813),S=a(14),C=a(168),I=a(7),A=a(701),O=a(54);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=Object(v.virtualPageview)("Features","Link Jira Issue")(((o=function(t){_inherits(JiraIssuesPicker,t);var r=_createSuper(JiraIssuesPicker);function JiraIssuesPicker(){var t;_classCallCheck(this,JiraIssuesPicker);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).onSave=function(r,a){var i=t.props,o=i.currentProjectId,c=i.source,l=i.sourceType,u=r.map((function(t){return E.a.save(Object.assign(t,{owner_type:"project",owner_id:o,project_id:o,source:{type:l,resource_id:c.get("id")}}))})),d=a.map((function(t){return E.a.delete({id:t})})),p=Promise.all(u.concat(d)).then((function(){(0,t.props.onSave)()}));return _.default.loadingWhen("jiraLinksLoading",p),p},t}return _createClass(JiraIssuesPicker,[{key:"render",value:function render(){var t=this.props.jiraIntegrationSettings,r=_extends({},this.props,{onSave:this.onSave,searchFunctions:{byKey:b.a.searchByKey,byProject:b.a.searchByProject,byText:b.a.searchByText},tenantId:t.get("resource_id"),tenantUrl:t.get("tenant_url")});return g.a.createElement(A.a.Link,r)}}]),JiraIssuesPicker}(g.a.Component)).propTypes={currentProjectId:p.a.number.isRequired,jiraIntegrationSettings:p.a.instanceOf(u.default.Map).isRequired,links:p.a.instanceOf(u.default.List).isRequired,onCancel:p.a.func.isRequired,onSave:p.a.func.isRequired,source:p.a.instanceOf(u.default.Map).isRequired,sourceType:p.a.oneOf(["feature","experiment","campaign"]).isRequired},i=o))||i,R=Object(h.a)((function(t){var r=t.source,a="experiment"===t.sourceType&&r.get("platform")===I.default.project_types.FULL_STACK;return{currentProjectId:S.getters.id,links:E.b.linksForSourceId(r.get("id"),a),recentIssues:T.a.recentIssues,loadingRecentIssues:C.a.isLoading("jira-integration-fetch"),jiraIntegrationSettings:S.getters.jiraIntegrationSettings}}))(((l=function(t){_inherits(JiraIssuesPickerConnected,t);var r=_createSuper(JiraIssuesPickerConnected);function JiraIssuesPickerConnected(){return _classCallCheck(this,JiraIssuesPickerConnected),r.apply(this,arguments)}return _createClass(JiraIssuesPickerConnected,[{key:"render",value:function render(){var t=this.props,r=t.jiraIntegrationSettings,a=t.sourceType,i=t.source;return g.a.createElement(O.default,{loadingId:"jiraLinksLoading"},g.a.createElement(y.TrackingProvider,{properties:{sourceType:a,sourceId:i.get("id"),experimentType:null,jiraTenantUrl:r.get("tenant_url")}},g.a.createElement(P,this.props)))}}]),JiraIssuesPickerConnected}(g.a.Component)).propTypes={currentProjectId:p.a.number.isRequired,jiraIntegrationSettings:p.a.instanceOf(u.default.Map).isRequired,loadingRecentIssues:p.a.bool,source:p.a.instanceOf(u.default.Map).isRequired,sourceType:p.a.oneOf(["feature","experiment","campaign"]).isRequired},l.defaultProps={loadingRecentIssues:!1},c=l))||c;r.a=R},function(t,r,a){"use strict";var i=a(2),o=a(1),c=a.n(o),l=a(0),u=a.n(l),d=a(27),p=a(1010);function FeatureStatusWithEnvironments(t){var r=t.feature,a=t.featureEnvironmentsInfo;return u.a.createElement(p.a,{isArchived:r.get("archived"),environmentsInfo:a,getStatusDescription:function getStatusDescription(t){return"".concat(d.fns.formatPercentageIncluded(t.get("percentage_included")),"%")}})}FeatureStatusWithEnvironments.propTypes={feature:c.a.instanceOf(i.default.Map).isRequired,featureEnvironmentsInfo:c.a.instanceOf(i.default.List).isRequired},r.a=FeatureStatusWithEnvironments},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(107),m=a(19),g=a(40),h=a(26),y=a(71),v=a(178),_=a(383),E=a(538);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=Object(y.withTrack)(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(FeaturesDashboardIntroDialog,t);var r=_createSuper(FeaturesDashboardIntroDialog);function FeaturesDashboardIntroDialog(){var t;_classCallCheck(this,FeaturesDashboardIntroDialog);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).trackWithDuration=function(r,a){(0,t.props.track)(r,{timestamp:a-_.a.getPerformanceMark(E.a.DIALOG_MOUNTED_START)})},t.onDismiss=function(){var r=_.a.setPerformanceMark(E.a.DIALOG_TIMER_STOP_ON_DISMISS);t.trackWithDuration(E.c.DIALOG_DISMISS,r),v.default.hideDialog()},t.linkClickHandler=function(){var r=_.a.setPerformanceMark(E.a.DIALOG_TIMER_STOP_ON_LINK_CLICK);t.trackWithDuration(E.c.DIALOG_CLICK_TO_DOCS,r)},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(FeaturesDashboardIntroDialog,[{key:"componentDidMount",value:function componentDidMount(){_.a.setPerformanceMark(E.a.DIALOG_MOUNTED_START)}},{key:"render",value:function render(){return l.a.createElement(p.a,{title:"Launch Your First Feature Flag",hasCloseButton:!1,hasOverlay:!0,testSection:"features-dash-intro-dialog",footerButtonList:[l.a.createElement(m.a,{style:"plain",testSection:"features-dash-intro-dialog-dismiss-button",key:0,onClick:this.onDismiss},"Dismiss"),l.a.createElement(g.a,{testSection:"features-dash-intro-dialog-link-to-docs",href:E.b.href,newWindow:!0,key:1,onClick:this.linkClickHandler},l.a.createElement(m.a,{style:"highlight",isLink:!0},"View Quickstart Guide",l.a.createElement("span",{className:"push--left"},l.a.createElement(h.a,{name:"arrow-up-right-from-square",size:"small"}))))]},l.a.createElement("div",null,l.a.createElement("ol",null,"To get started:",l.a.createElement("li",null,"1) View the quickstart to install the SDK"),l.a.createElement("li",null,"2) Implement your first feature flag"),l.a.createElement("li",null,'3) Check for your "create password" email'),l.a.createElement("br",null))))}}]),FeaturesDashboardIntroDialog}(l.a.Component)).propTypes={track:d.a.func.isRequired},i=o))||i;r.a=b},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(32),d=a(35);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(FeaturesSelectLanguageDropdown,t);var r=_createSuper(FeaturesSelectLanguageDropdown);function FeaturesSelectLanguageDropdown(){var t;_classCallCheck(this,FeaturesSelectLanguageDropdown);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={languageBeingHovered:null},t.handleUnavailableClick=function(t){d.default.windowOpenInNewTab(t)},t.onMouseEnter=function(r){t.setState({languageBeingHovered:r.label})},t.onMouseLeave=function(){t.setState({languageBeingHovered:null})},t.render=function(){var r=t.props,a=r.languageOptions,i=r.languageOptionsNotAvailable,o=r.onChange,c=r.value,d=t.state.languageBeingHovered,p=a.find((function(t){return t.value===c})).label;return l.a.createElement(u.a,{buttonContent:p,arrowIcon:"down",style:"outline",testSection:"select-language-dropdown-activator"},l.a.createElement(u.a.Contents,null,l.a.createElement(u.a.ListItem,{role:"separator",ignoreToggle:!0},"In-app quickstarts"),a.map((function(t){return l.a.createElement(u.a.ListItem,{role:"menuitem",key:t.value},l.a.createElement(u.a.BlockLink,{testSection:"available-languages-item",value:t.value,hasFauxFocus:!1,onClick:function onClick(){return o(t.value)}},l.a.createElement(u.a.BlockLinkText,{text:t.label})))})),l.a.createElement(u.a.ListItem,{role:"separator",ignoreToggle:!0,key:"coming-soon-separator"},"Coming soon..."),i.map((function(r){return l.a.createElement(u.a.ListItem,{role:"menuitem",key:r.value},l.a.createElement(u.a.BlockLink,{testSection:"unavailable-languages-item",value:r.value,onClick:function onClick(){return t.handleUnavailableClick(r.link)},onMouseEnter:function onMouseEnter(){return t.onMouseEnter(r)},onMouseLeave:function onMouseLeave(){return t.onMouseLeave(r)},hasFauxFocus:!1},l.a.createElement(u.a.BlockLinkText,{text:d===r.label?"View in Dev Docs":r.label,hasExternalIcon:!0})))}))))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(FeaturesSelectLanguageDropdown)}(l.a.Component);p.propTypes={languageOptions:o.a.array.isRequired,languageOptionsNotAvailable:o.a.array.isRequired,onChange:o.a.func.isRequired,value:o.a.string.isRequired},r.a=p},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(222),d=a(223),p=a(40),m=a(26),g=function CodeStepHelpPopover(t){var r=t.links;return o.a.createElement(u.a,{behavior:"click",horizontalAttachment:"left",verticalAttachment:"middle",overlay:o.a.createElement(d.a,null,o.a.createElement("span",{className:"micro"},o.a.createElement("strong",null,"Help")),o.a.createElement("br",null),r.map((function(t){return o.a.createElement(o.a.Fragment,{key:"code-step-link-".concat(t.text)},o.a.createElement(p.a,{href:t.href,key:t.text,newWindow:!0},t.text),o.a.createElement("br",null))}))),shouldHideOnClick:!0},o.a.createElement("span",{className:"push--left","data-test-section":"code-step-help-popover-icon"},o.a.createElement(m.a,{name:"circle-question",size:"medium"})))};g.propTypes={links:l.a.instanceOf(Array)},g.defaultProps={links:[]},g.componentId="CodeStepHelpPopover",r.a=g},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(107),l=a(19),u=a(5),d=function FeaturesQuickstartConfirmLeave(){return o.a.createElement(c.a,{title:"Are you sure you want to leave?",hasCloseButton:!1,footerButtonList:[o.a.createElement(l.a,{key:0,onClick:function onClick(){return u.default.hideDialog().then(u.default.hideDialog)},style:"unstyled",testSection:"continue-to-dashboard-button"},"Continue to Dashboard"),o.a.createElement(l.a,{key:1,onClick:u.default.hideDialog,style:"highlight",testSection:"return-to-quickstart-button"},"Return to Quickstart")]},o.a.createElement("p",null,"You're leaving without testing the flag you created. Are you sure you want to leave without turning it on?"))};d.componentId="FeaturesQuickstartConfirmLeave",r.a=d},function(t,r,a){"use strict";var i,o=a(86),c=a(10),l=a(6),u=a(2593);function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var d=[{match:"/v2/projects/:proj_id/onboarding",metadata:{name:"Onboarding",category:"Onboarding"},handle:[[function EnsureOasisBundle(t,r){o.default.getOasisBundleModules().then((function(t){i=t.FullStackOnboardingSection})).then(r)}].concat(function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(l.a.standardNavHandlers(c.default.NavWidth.COLLAPSED,c.default.NavItems.ONBOARDING)),[l.a.parseProjectId,u.a.loadEntities]),function(t,r){return i.pages.onboarding.routingSetup(t,r)},function(t,r){return l.a.setPageTitle({name:"Onboarding",next:r})},function(){l.a.renderMainRegion(i.pages.onboarding.component)}]}];r.a=d},function(t,r,a){"use strict";var i=a(3),o=a(307),c=a(14);r.a={loadEntities:function loadEntities(t,r){o.a.fetchAll({project_id:i.default.evaluate(c.getters.id)}).then((function(){return r()}))}}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=(a(95),a(145)),l=a(39),u=a(86),d=a(10),p=a(6),m=a(626);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var g="Implementation";function ImplementationSection(t,r){Promise.resolve().then(a.bind(null,626)).then((function(t){Object.assign(ImplementationSection,t)})).then(r)}var h=[{match:"/v2/projects/:proj_id/implementation/catalogs",metadata:{name:"Catalogs",category:g},handle:[[ImplementationSection].concat(_toConsumableArray(p.a.standardNavHandlers(d.default.NavWidth.OPEN,d.default.NavItems.PAGES,d.default.DataLayerTabs.CATALOGS_DASHBOARD_TAB)),[p.a.parseProjectId,function(t,r){return u.default.getCodeLintingBundleModules().then(r)}]),function(t,r){return p.a.ensureAccessToFeatureOrRedirect(t,r,l.default.canUseRecommendationsDashboard)},function(t,r){return ImplementationSection.pages.catalog_dashboard.routingSetup(t,r)},function(t,r){return p.a.setPageTitle({category:g,next:r,name:"Catalogs"})},function(){c.a.setFrontendRenderStartTime(),p.a.renderMainRegion(o.a.createElement(m.pages.catalog_dashboard.component,null))}]},{match:"/v2/projects/:proj_id/implementation/recommenders",metadata:{name:"Recommenders",category:g},handle:[[ImplementationSection].concat(_toConsumableArray(p.a.standardNavHandlers(d.default.NavWidth.OPEN,d.default.NavItems.PAGES,d.default.DataLayerTabs.RECOMMENDERS_DASHBOARD_TAB)),[p.a.parseProjectId,function(t,r){return u.default.getCodeLintingBundleModules().then(r)}]),function(t,r){return p.a.ensureAccessToFeatureOrRedirect(t,r,l.default.canUseRecommendationsDashboard)},function(t,r){return m.pages.recommender_dashboard.routingSetup(t,r)},function(t,r){return p.a.setPageTitle({category:g,next:r,name:"Recommenders"})},function(){c.a.setFrontendRenderStartTime(),p.a.renderMainRegion(o.a.createElement(m.pages.recommender_dashboard.component,null))}]},{match:"/v2/projects/:proj_id/implementation/inspector",metadata:{name:"Inspector",category:g},handle:[[ImplementationSection].concat(_toConsumableArray(p.a.standardNavHandlers(d.default.NavWidth.OPEN,d.default.NavItems.PAGES,d.default.DataLayerTabs.INSPECTOR_TAB)),[p.a.parseProjectId,function(t,r){return u.default.getCodeLintingBundleModules().then(r)}]),function(t,r){return p.a.ensureAccessToFeatureOrRedirect(t,r,l.default.canUseEventInspector)},function(t,r){return m.pages.event_inspector.routingSetup(t,r)},function(t,r){return p.a.setPageTitle({category:g,next:r,name:"Inspector"})},function(){c.a.setFrontendRenderStartTime(),p.a.renderMainRegion(o.a.createElement(m.pages.event_inspector.component,null))}]}];r.a=h},function(t,r,a){"use strict";var i=a(426),o=a(213),c=a(587),l=a(451),u=a(126),d=a(46),p=a(2596),m=d.c.CATALOG,g=p.a;r.a={component:g,routingSetup:function routingSetup(t,r){var a={archived:!1,project_id:t.currentProject.id},d=i.a.fetchAllPages({archived:!1});o.a.fetchAllPages(a),c.a.fetchAll(a),l.default.fetchAllPages(a),Object(u.g)(m,d),d.firstPage.then(r)}}},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(25),m=a(71),g=a(11),h=a(19),y=a(28),v=a(5),_=a(64),E=a(54),b=a(126),T=a(167),S=a(13),C=a(97),I=a(211),A=a(10),O=a(426),P=a(616),R=a(39),w=a(344),N=a(484),L=a(160),x=a(325),D=a(137),k=a(855),j=a(2600),M=a(163),U=a(143),V=a(46),B=a(2607);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var G=V.c.CATALOG,H=Object(L.pageableEntityTable)(G),z=Object(y.a)({canManageRecommendations:R.default.canManageRecommendations,catalogs:S.default.catalogs,isFirstPageLoading:Object(T.c)(G,1)})(i=Object(m.withTrack)(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(CatalogDashboard,t);var r=_createSuper(CatalogDashboard);function CatalogDashboard(){var t;_classCallCheck(this,CatalogDashboard);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={isLoading:!1},t.filterItemByString=function(t,r){return I.default.matchesFields(t,["name"],r)},t.filterItemByStatus=function(t,r){return I.default.matchesArchivedStatus(t,r)},t.onStatusChange=function(r){var a=t.props.track;Object(b.g)(G,O.a.fetchAllPages({archived:r===C.default.status.ARCHIVED})),a("Recommendations Catalog Dashboard Filter Status Applied",{status:r})},t.createCatalog=function(){M.a.initializeCurrentlyEditingCatalog(),v.default.showReactDialog(k.a,null,{fullScreen:!0,isOuiDialog:!0})},t.editCatalog=function(t){M.a.setCurrentlyEditingCatalog(t),v.default.showReactDialog(k.a,null,{fullScreen:!0,isOuiDialog:!0})},t.archiveCatalog=function(r){v.default.confirm({title:"Confirm Archive Catalog",message:"Are you sure you want to archive this catalog and its associated recommenders?",confirmText:"Archive catalog"}).then((function(){return t.setState({isLoading:!0}),O.a.save({id:r.get("id"),archived:!0}).then((function(t){return w.a.inValidateCacheDataByEntity({entity:"recommenders"}),t})).fail((function(){v.default.showNotification({message:"Unable to archive the catalog: <b>".concat(r.get("name"),"</b>"),type:"error"})}))})).always((function(){return t.setState({isLoading:!1})}))},t.unarchiveCatalog=function(r){v.default.confirm({title:"Confirm Unarchive Catalog",message:"Are you sure you want to unarchive this catalog?",confirmText:"Unarchive catalog"}).then((function(){return t.setState({isLoading:!0}),O.a.save({id:r.get("id"),archived:!1}).fail((function(){v.default.showNotification({message:"Unable to unarchive the catalog: <b>".concat(r.get("name"),"</b>"),type:"error"})}))})).always((function(){return t.setState({isLoading:!1})}))},t.showCatalogProfiler=function(r){t.setState({isLoading:!0}),P.a.fetchCatalogStatsById(r.get("id"),{skipEvaludatingCachedData:!0}).then((function(){v.default.showReactDialog(j.a,{props:{catalog:r}},{fullScreen:!0,isOuiDialog:!0}),t.setState({isLoading:!1})}))},t.hasCatalogs=function(){var r=t.props.catalogs;return r&&!r.isEmpty()},t.renderTableHeader=function(){return l.a.createElement(g.a.TR,null,l.a.createElement(_.SortableTableHeader,{field:"name",type:"string",width:"60%"},"Name"),l.a.createElement(g.a.TH,{width:"12%"},l.a.createElement("span",{className:"nowrap"},"Total Items")),l.a.createElement(g.a.TH,null,l.a.createElement("span",{className:"nowrap"},"Last Generated")),l.a.createElement(_.SortableTableHeader,{field:"id",type:"string"},"ID"),t.hasCatalogs()&&l.a.createElement(g.a.TH,null),t.hasCatalogs()&&l.a.createElement(g.a.TH,null))},t.renderTableRow=function(r){var a=t.props,i=a.canManageRecommendations,o=a.track;return l.a.createElement(B.a,{archiveCatalogClick:t.archiveCatalog,canManageRecommendations:i,catalog:r,editCatalogClick:t.editCatalog,showCatalogProfilerClick:t.showCatalogProfiler,track:o,unarchiveCatalogClick:t.unarchiveCatalog})},t.renderEntityTable=function(){var r=t.props,a=r.catalogs,i=r.isFirstPageLoading;return l.a.createElement(H,{tableId:G,data:a,entityPlural:"catalogs",filterItemByString:t.filterItemByString,filterItemByStatus:t.filterItemByStatus,renderTableRow:t.renderTableRow,renderTableHeader:t.renderTableHeader,isLoading:i,defaultSortBy:{field:"name",type:"string"},defaultFilters:{status:C.default.status.ACTIVE}})},t.renderEntityTableEmptyState=function(){return l.a.createElement("div",{className:"push-quad--sides flex flex--1 flex--column"},l.a.createElement(g.a,{style:"rule"},l.a.createElement(g.a.THead,null,t.renderTableHeader()),l.a.createElement(g.a.TBody,null)))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(CatalogDashboard,[{key:"render",value:function render(){var t=this.props.canManageRecommendations,r=this.state.isLoading;return l.a.createElement(E.default,{className:"flex flex--1 height--1-1",isLoading:r},l.a.createElement("div",{className:"flex flex--column width--1-1","data-test-section":"catalog-dashboard-main-content"},l.a.createElement(N.a,{activeTab:A.default.DataLayerTabs.CATALOGS_DASHBOARD_TAB}),l.a.createElement("div",{className:"flex flex--column flex--1","data-test-section":"catalog-table"},l.a.createElement("div",{className:"flex flex--none push-quad--sides push-double--top"},"Catalogs are collections of your items, and related events, from which recommendations are served. ",l.a.createElement(D.c,{helpLink:U.a.getHelpCopy("setup_catalog_link"),testSection:"catalog-dashboard-subtitle"})),l.a.createElement("div",{className:"flex flex--none push-quad--sides push-double--ends","data-test-section":"filter-ac"},l.a.createElement(x.default,{tableId:G,statusOptions:[{label:"Active",value:C.default.status.ACTIVE},{label:"Archived",value:C.default.status.ARCHIVED}],onStatusChange:this.onStatusChange}),l.a.createElement(h.a,{isDisabled:!t,style:"highlight",onClick:this.createCatalog,testSection:"create-catalog-btn"},"Create New Catalog…")),this.hasCatalogs()?this.renderEntityTable():this.renderEntityTableEmptyState())))}}]),CatalogDashboard}(l.a.Component)).componentId=G,o.displayName=G,o.propTypes={canManageRecommendations:d.a.bool.isRequired,catalogs:d.a.instanceOf(p.Immutable.Map).isRequired,editCatalog:d.a.PropTypes.func.isRequired,isFirstPageLoading:d.a.bool.isRequired,track:d.a.func},o.defaultProps={track:function track(){}},i=o))||i)||i;r.a=z},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(26),m=a(154),g=a(19),h=a(65),y=a(662),v=a(3),_=a(5),E=a(28),b=a(2),T=a(13),S=a(121),C=a(39),I=a(137),A=a(163),O=a(46),P=a(143),R=a(147);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=function addTag(t,r){A.a.addTagToCurrentlyEditingEvent(r)},N=function removeTag(t,r){A.a.removeTagToCurrentlyEditingEvent(r)},L=function renderInfoItem(t,r,a,i){return l.a.createElement("li",{className:"oui-form-field__item flex--1","data-test-section":a},l.a.createElement("div",{className:"weight--bold"},"".concat(t,":")),l.a.createElement("div",null,r,i&&l.a.createElement("span",{className:"muted push--left"},i)))},x=Object(E.a)({canManageRecommendations:C.default.canManageRecommendations,event:R.a.currentlyEditingEvent,eventPageName:R.a.currentlyEditingEventPageName,projectName:T.default.name,selectedEventPageId:R.a.selectedEventPageId,selectedTags:R.a.selectedTags,unselectedTags:R.a.unselectedTags})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(EditEventTagsDialog,t);var r=_createSuper(EditEventTagsDialog);function EditEventTagsDialog(){var t;_classCallCheck(this,EditEventTagsDialog);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).isCustomEvent=function(){return t.props.event.getIn(["entity","event_type"])===S.a.eventTypes.CUSTOM},t.saveAction=function(){A.a.updateForCatalog(!0);var t=v.default.evaluate(R.a.currentlyEditingEvent);A.a.updateEvent(t),_.default.hideDialog()},t.renderCustomEventsWarning=function(){return l.a.createElement("div",{className:"flex flex-align--center push-double--bottom"},l.a.createElement(p.a,{color:h.brandBlueDark,size:"small",name:"circle-exclamation"}),l.a.createElement("div",{className:"flex--1 push--left","data-test-section":"custom-events-warning-text"},"To use custom events, their tags must match existing tag API names for for an existing click or page view event."))},t.renderNoTagsWarning=function(){return l.a.createElement("div",{className:"flex"},l.a.createElement("div",{className:"push-half--top"},l.a.createElement(p.a,{color:h.redDark,size:"small",name:"circle-exclamation"})),l.a.createElement("div",{className:"push--left","data-test-section":"no-tags-warning-text"},"You currently have no tags. To add tags to your pages, go to Implementation > Pages, then return here to include them with your catalog events."))},t.renderTagsForEvents=function(){var r=t.props,a=r.selectedTags,i=r.unselectedTags,o=0===a.size&&0===i.getIn([0,"items"]).size;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h4",null,"Include Tags"),l.a.createElement("div",{className:"push-half--top push--bottom","data-test-section":"include-tags-description"},"Assign tags to include in this catalog event."),t.isCustomEvent()&&t.renderCustomEventsWarning(),o?t.renderNoTagsWarning():l.a.createElement(y.default,{inputPlaceholder:"Search and add tags to this event",isFullWidth:!0,selectedItems:a,unselectedItems:i,onEntitySelected:w,onEntityUnselected:N}))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(EditEventTagsDialog,[{key:"render",value:function render(){var t=this.props,r=t.canManageRecommendations,a=t.event,i=t.eventPageName,o=t.projectName,c="(ID: ".concat(a.get("id"),")");return l.a.createElement(m.a,{footerButtonList:[l.a.createElement(g.a,{key:"cancel",style:"plain",onClick:_.default.hideDialog,testSection:"edit-event-tags-dialog-cancel-button"},"Cancel"),l.a.createElement(g.a,{isDisabled:!r,key:"save",style:"highlight",testSection:"edit-event-tags-dialog-save-button",onClick:this.saveAction},"Save tags")],onClose:_.default.hideDialog,subtitle:l.a.createElement(l.a.Fragment,null,"Include the tags you want to be associated with this catalog event. ",l.a.createElement(I.c,{helpLink:P.a.getHelpCopy("edit_events_tags_link"),testSection:"edit-event-tags-dialog-subtitle"})),title:"Edit Event Tags",testSection:"edit-event-dialog",warningContent:!r&&O.d.EDIT_WARNING_TEXTS.EVENT.message,warningTestSection:O.d.EDIT_WARNING_TEXTS.EVENT.testSection},l.a.createElement("ol",{className:"flex push-quad--bottom"},L("Project",o,"project-name-label"),L("Page",i,"event-page-name-label"),L("Event",a.getIn(["entity","name"]),"event-name-id-label",c)),this.renderTagsForEvents())}}]),EditEventTagsDialog}(l.a.Component)).propTypes={canManageRecommendations:d.a.bool.isRequired,event:d.a.instanceOf(b.default.Map).isRequired,eventPageName:d.a.string.isRequired,projectName:d.a.string.isRequired,selectedEventPageId:d.a.number.isRequired,selectedTags:d.a.instanceOf(b.default.List).isRequired,unselectedTags:d.a.instanceOf(b.default.List).isRequired},i=o))||i;r.a=x},function(t,r,a){"use strict";var i=a(222),o=a(223),c=a(26),l=a(0),u=a.n(l),d=a(1),p=a.n(d),m=a(2),g=a(137),h=a(2599),y=a(143),v={title:"Primary ID *",description:"Assign a tag as the unique identifier. This is also the key used to generate recommendations. ",isRequired:!0,propertyName:"id_tag_name",testSection:"catalog-primary-id-tag-picker"},_={title:"Source URL",description:"Optionally, assign a tag for the page URL. During catalog generation, this URL will be checked to see if it is valid. ",isRequired:!1,propertyName:"url_tag_name",testSection:"catalog-source-url-tag-picker"},E=function AssignEventTagsPicker(t){var r=t.selectedIdTagName,a=t.selectedUrlTagName,l=t.tagChoices,d=t.updateCatalogProperty,p=function renderSingleEventTagsPicker(t,r){return u.a.createElement("div",{className:"flex--1"},u.a.createElement("div",{className:"flex flex-align--center"},u.a.createElement("h5",{className:"push-half--bottom"},t.title),u.a.createElement(i.a,{horizontalAttachment:"left",verticalAttachment:"middle",overlay:u.a.createElement(o.a,{testSection:"".concat(t.testSection,"-description")},t.description,u.a.createElement(g.c,{helpLink:y.a.getHelpCopy("setup_catalog_link"),testSection:t.testSection}))},u.a.createElement("div",{className:"push--left"},u.a.createElement(c.a,{name:"circle-question",size:"small"})))),u.a.createElement(h.a,{choices:l,currentlySelectedTag:r,isValueRequired:t.isRequired,onChange:d,propertyName:t.propertyName,testSection:t.testSection}))};return u.a.createElement("div",{className:"push-triple--bottom","data-test-section":"catalog-assign-event-tags"},u.a.createElement("h4",null,"Assign Event Tags"),u.a.createElement("div",{className:"push-double--bottom","data-test-section":"catalog-assign-event-tags-description"},"Choose from the event tags you added above to define a primary ID and source URL."),u.a.createElement("div",{className:"flex"},p(v,r),p(_,a)))};E.propTypes={selectedIdTagName:p.a.string,selectedUrlTagName:p.a.string.isRequired,tagChoices:p.a.instanceOf(m.default.List).isRequired,updateCatalogProperty:p.a.func.isRequired},r.a=E},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(135),d=a(3),p=a(46),m=a(147),g=function TagPicker(t){var r=t.choices,a=t.currentlySelectedTag,i=t.isValueRequired,c=t.onChange,l=t.propertyName,g=t.testSection,h=d.default.evaluateToJS([m.a.currentlyEditingCatalog,function(t){var i=t.get(l);return!r.map((function(t){return t.get("value")})).includes(i)&&!a}]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{displayError:h,items:r.toJS(),maxWidth:200,onChange:function onChange(t){return c(l,t)},testSection:g,value:a,width:200}),h&&!a&&o.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"".concat(g,"-deleted-tag-error")},p.b.TAG.previouslyDeletedTag),i&&!a&&o.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"catalog-no-primary-id-tag-error"},p.b.TAG.primaryIDTag))};g.propTypes={choices:l.a.object.isRequired,currentlySelectedTag:l.a.string,isValueRequired:l.a.bool,onChange:l.a.func.isRequired,propertyName:l.a.string.isRequired,testSection:l.a.string.isRequired},r.a=g},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(2),m=a(28),g=a(5),h=a(107),y=a(19),v=a(154),_=a(71),E=a(1049),b=a(137),T=a(46),S=a(143),C=a(2601),I=a(2605),A=a(2606),O=a(1363);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P=Object(m.a)((function(t){var r=t.catalog;return{displayDistributionSamples:E.a.displayDistributionSamplesByCatalogID(r.get("id")),pageEventsStats:E.a.pageEventsStatsByCatalogID(r.get("id")),summaryStats:E.a.summaryStatsByCatalogID(r.get("id"))}}))(i=Object(_.withTrack)(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(CatalogProfilerDialog,t);var r=_createSuper(CatalogProfilerDialog);function CatalogProfilerDialog(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,CatalogProfilerDialog),(a=r.call(this,t)).onPageEventChange=function(t){var r=a.props.track;a.setState({selectedPageEventStats:t}),r("Recommendations Catalog Profiler Event Selected",{event:t.get("display_name")})},a.onWarningThresholdChange=function(t){a.setState({currentWarningThreshold:t})},a.renderEmptyState=function(){return l.a.createElement(h.a,{footerButtonList:[l.a.createElement(y.a,{key:"catalog-stats-dismiss-button",onClick:g.default.hideDialog,style:"highlight"},"Dismiss")],onClose:g.default.hideDialog,title:"Catalog Profiler",testSection:"catalog-profiler-empty-state-dialog"},l.a.createElement("div",{className:"text--center"},l.a.createElement("img",{alt:"",className:"anchor--middle",src:"https://app.optimizely.com/dist/static/img/p13n/audience-detail-primary-metric-9552eb9ae5c0c6124634ad8b53db3bfc.svg",width:"200"}),l.a.createElement("h3",{className:"push-half--bottom","data-test-section":"catalog-profiler-empty-state-help-text"},"Not enough data yet."),l.a.createElement(b.c,{helpLink:S.a.getHelpCopy("profiler_link"),helpText:" about recommendations",testSection:"catalog-profiler-empty-state"})))};var i=t.pageEventsStats,o=t.track;return a.state={currentWarningThreshold:100,selectedPageEventStats:i.first()},o("Recommendations Catalog Profiler Dialog Opened"),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(CatalogProfilerDialog,[{key:"render",value:function render(){var t=this.props,r=t.catalog,a=t.displayDistributionSamples,i=t.pageEventsStats,o=t.summaryStats;if(0===a.length||i.isEmpty()||o.isEmpty())return this.renderEmptyState();var c=this.state,u=c.currentWarningThreshold,d=c.selectedPageEventStats,p=a[0].value,m=a[a.length-1].value;return l.a.createElement(v.a,{footerButtonList:[l.a.createElement(y.a,{key:"catalog-stats-dismiss-button",onClick:g.default.hideDialog,style:"highlight"},"Dismiss")],onClose:g.default.hideDialog,title:"Catalog Profiler",testSection:"catalog-profiler-dialog"},l.a.createElement(C.a,{catalog:r,summaryStats:o}),l.a.createElement(O.a,{eventDistributionInfo:T.a.HIGHEST,selectedDistributionSample:p}),l.a.createElement(O.a,{eventDistributionInfo:T.a.LOWEST,selectedDistributionSample:m}),l.a.createElement(I.a,{catalog:r}),l.a.createElement(A.a,{currentWarningThreshold:String(u),onPageEventChange:this.onPageEventChange,onWarningThresholdChange:this.onWarningThresholdChange,pageEventsStats:i,selectedPageEventStats:d}))}}]),CatalogProfilerDialog}(l.a.Component)).propTypes={catalog:d.a.instanceOf(p.default.Map).isRequired,displayDistributionSamples:d.a.arrayOf(d.a.shape({label:d.a.string,value:d.a.instanceOf(p.default.List)})).isRequired,pageEventsStats:d.a.instanceOf(p.default.Map).isRequired,summaryStats:d.a.instanceOf(p.default.Map).isRequired,track:d.a.func},o.defaultProps={track:function track(){}},i=o))||i)||i;r.a=P},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(25),d=a(269),p=a(11),m=a(59),g=a.n(m),h=a(395),y=function SummaryStatsSection(t){var r=t.catalog,a=t.summaryStats,i=Number(a.get("total_num_catalog_events")).toLocaleString(),c=Number(a.get("total_num_user_events")).toLocaleString(),l=Number(a.get("total_num_items")).toLocaleString(),u=Number(a.get("total_num_visitors")).toLocaleString();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"flex"},o.a.createElement("h3",{className:"flex--1","data-test-section":"summary-stats-section-title"},"Summary for the last 7 days"),function renderUpdatedTime(){var t=r.getIn(["job_status_summary","last_run"]),a=g()(t).format("LL"),i=g()(t).format("LT"),c=h.a.getCurrentTimezoneName().replace("_"," ");return o.a.createElement("div",{className:"muted micro zeta","data-test-section":"catalog-profiler-last-generated-time"},"Last generated: ","".concat(a," at ").concat(i," (").concat(c,")"))}()),o.a.createElement(d.a,{testSection:"catalog-summary-card"},o.a.createElement(d.a.Body,null,o.a.createElement(p.a,{style:"wall"},o.a.createElement(p.a.TBody,null,o.a.createElement(p.a.TR,null,o.a.createElement(p.a.TD,null,o.a.createElement("div",{className:"text--left"},o.a.createElement("div",{className:"micro muted push-half--bottom"},"Page View Events Occurred"),o.a.createElement("div",{className:"beta","data-test-section":"page-view-events-occurred"},i))),o.a.createElement(p.a.TD,null,o.a.createElement("div",{className:"text--left"},o.a.createElement("div",{className:"micro muted push-half--bottom"},"User Events Occurred"),o.a.createElement("div",{className:"beta","data-test-section":"user-events-occurred"},c))),o.a.createElement(p.a.TD,null,o.a.createElement("div",{className:"text--left"},o.a.createElement("div",{className:"micro muted push-half--bottom"},"Total Catalog Items"),o.a.createElement("div",{className:"beta","data-test-section":"total-catalog-items"},l))),o.a.createElement(p.a.TD,null,o.a.createElement("div",{className:"text--left"},o.a.createElement("div",{className:"micro muted push-half--bottom"},"Total Visitors"),o.a.createElement("div",{className:"beta","data-test-section":"total-visitors"},u)))))),o.a.createElement("hr",{className:"lego-rule"}))))};y.propTypes={catalog:l.a.instanceOf(u.Immutable.Map).isRequired,summaryStats:l.a.instanceOf(u.Immutable.Map).isRequired},r.a=y},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=function Body(t){return l.a.createElement("div",{className:"flex--1 soft--left"},t.children)};u.propTypes={children:o.a.node},r.a=u},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=function Label(t){return l.a.createElement("div",{className:"width--1-4"},l.a.createElement("div",{className:"zeta muted weight--normal"},t.supertitle),l.a.createElement("div",{className:"subhead force-break"},t.title),l.a.createElement("div",{className:"micro muted push-half--ends"},t.subtitle),t.children)};u.propTypes={subtitle:o.a.node,supertitle:o.a.node,title:o.a.node,children:o.a.node},r.a=u},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=function Part(t){return l.a.createElement("div",{className:"flex","data-test-section":t.testSection},t.children)};u.propTypes={children:o.a.node,testSection:o.a.string},r.a=u},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(2),m=a(4),g=a(5),h=a(71),y=a(11),v=a(52),_=a(54),E=a(616);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b={currentlySelectedItemID:"",currentlySelectedItemInfo:[],isLoading:!1},T=Object(h.withTrack)(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ItemDetailsSection,t);var r=_createSuper(ItemDetailsSection);function ItemDetailsSection(){var t;_classCallCheck(this,ItemDetailsSection);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state=b,t.fetchItemDetails=function(r){var a=t.props,i=a.catalog,o=a.track,c=r;c?(t.setState({currentlySelectedItemID:c,isLoading:!0}),E.a.fetchItemMetadataById(i,c).then((function(r){t.setState({currentlySelectedItemInfo:Object.entries(r||[]).sort()})})).catch((function(){g.default.showNotification({message:"No catalog item found matching that ItemID.",type:"warning"})})).finally((function(){return t.setState({isLoading:!1})})),o("Recommendations Catalog Profiler Catalog Item Searched",{itemID:c})):t.setState(b)},t.debounceFetchItemDetails=Object(m.debounce)(t.fetchItemDetails,500),t.renderItemDetailsTable=function(){var r=t.state,a=r.currentlySelectedItemID,i=r.currentlySelectedItemInfo,o=r.isLoading;return l.a.createElement("div",{style:{position:"relative"}},l.a.createElement(_.default,{isLoading:o,size:"small"},!!a&&0===i.length&&l.a.createElement("div",{"data-test-section":"empty-state-catalog-item-details"},"No catalog item found matching that ItemID."),!!a&&i.length>0&&l.a.createElement("div",{"data-test-section":"catalog-item-details-table"},l.a.createElement(y.a,null,l.a.createElement(y.a.THead,null,l.a.createElement(y.a.TR,null,l.a.createElement(y.a.TH,null,"Tag"),l.a.createElement(y.a.TH,null,"Value"))),l.a.createElement(y.a.TBody,null,i.map((function(t){var r=t[0],a=t[1];return l.a.createElement(y.a.TR,{key:r,borderStyle:"ends",backgroundColor:"faint"},l.a.createElement(y.a.TD,null,l.a.createElement("span",{className:"word-break--word","data-test-section":"tag-name-".concat(r)},r)),l.a.createElement(y.a.TD,null,l.a.createElement("span",{className:"word-break--word","data-test-section":"tag-value-".concat(r)},a)))})))))))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ItemDetailsSection,[{key:"render",value:function render(){var t=this;return l.a.createElement("div",{className:"push-quad--bottom","data-test-section":"catalog-item-details-section"},l.a.createElement("h3",{className:"push--bottom"},"Catalog Item Details"),l.a.createElement("div",{className:"push-double--bottom","data-test-section":"catalog-item-details-description"},"View the tags and metadata association with a catalog item."),l.a.createElement("div",{className:"push-quad--bottom"},l.a.createElement("div",{className:"push-double--bottom width--1-2"},l.a.createElement(v.a,{id:"catalog-item-details",isFilter:!0,onChange:function onChange(r){return t.debounceFetchItemDetails(r.target.value)},placeholder:"Search by ItemID",testSection:"item-details-input",type:"text"})),this.renderItemDetailsTable()))}}]),ItemDetailsSection}(l.a.Component)).propTypes={catalog:d.a.instanceOf(p.default.Map).isRequired,track:d.a.func},o.defaultProps={track:function track(){}},i=o))||i;r.a=T},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(65),m=a(71),g=a(11),h=a(26),y=a(222),v=a(223),_=a(52),E=a(2),b=a(155),T=a(186);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var S=Object(m.withTrack)(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(EventDetailsSection,t);var r=_createSuper(EventDetailsSection);function EventDetailsSection(){var t;_classCallCheck(this,EventDetailsSection);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).ensurePercentageFormat=function(r){var a=t.props,i=a.onWarningThresholdChange,o=a.track,c=r.target.value;c.includes("e")&&(c=0);var l=Number(c).toFixed(1),u=Math.min(Math.max(Number(l),0),100);i(u),o("Recommendations Catalog Profiler Warning Threshold Applied",{value:u})},t.renderSelectedPageEventStats=function(){var r=t.props.selectedPageEventStats,a=Number(r.get("num_events")),i=Number(r.get("num_items")),o=T.a.formatBigNumberForDisplay(a,1),c=T.a.formatBigNumberForDisplay(i,1);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"push--ends","data-test-section":"events-counts-summary"},"This event has been initiated ",l.a.createElement("b",null,o)," times on"," ",l.a.createElement("b",null,c)," unique items."),l.a.createElement(g.a,null,l.a.createElement(g.a.THead,null,l.a.createElement(g.a.TR,null,l.a.createElement(g.a.TH,{colSpan:2},"Event Tags"),l.a.createElement(g.a.TH,null,"Page Events"),l.a.createElement(g.a.TH,null,"Unique Items"))),l.a.createElement(g.a.TBody,null,t.renderCatalogTagsStats(r.get("per_tag_stats"),a,i))))},t.renderCatalogTagsStats=function(r,a,i){return r.mapEntries((function(r){var o=_slicedToArray(r,2),c=o[0],u=o[1],d=t.props.currentWarningThreshold,m=u.get("events"),y=u.get("items"),v=function getStatsDisplay(t,r,a){var i=Math.round(t/10)/10,o=T.a.formatBigNumberForDisplay(t*r/1e4,1),u=i<Math.min(Number(d),100);return l.a.createElement("div",{className:"flex flex-align--center"},l.a.createElement("div",{"data-test-section":"".concat(c,"-").concat(a,"-number")},i,"%"," ",l.a.createElement("span",{className:"muted"},"(",o,")")),u&&l.a.createElement("div",{className:"push-half--left push-half--top","data-test-section":"".concat(c,"-").concat(a,"-warning")},l.a.createElement(h.a,{color:p.yellowBase,size:"small",name:"circle-exclamation"})))},_=l.a.createElement(g.a.TR,{key:c,borderStyle:"ends",backgroundColor:"faint"},l.a.createElement(g.a.TD,{colSpan:2},l.a.createElement("span",{className:"word-break--word"},c)),l.a.createElement(g.a.TD,null,v(m,a,"page-events")),l.a.createElement(g.a.TD,null,v(y,i,"unique-items")));return[c,_]})).toList().toJS()},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(EventDetailsSection,[{key:"render",value:function render(){var t=this.props,r=t.currentWarningThreshold,a=t.onPageEventChange,i=t.onWarningThresholdChange,o=t.pageEventsStats,c=t.selectedPageEventStats,u=[];return o.forEach((function(t){u.push({label:t.get("display_name"),value:t})})),l.a.createElement("div",{className:"push-quad--bottom"},l.a.createElement("h3",{className:"push--bottom"},"Catalog Events & Tags"),l.a.createElement("div",{className:"push-double--bottom","data-test-section":"catalog-events-tags-description"},"Search this catalog's events to see which tags are being sent with the event."),l.a.createElement("div",{className:"flex flex-align--center"},l.a.createElement(b.default,{isFilterable:!0,items:u,onChange:a,testSection:"events-tags-dropdown",value:c,width:350}),l.a.createElement("div",{className:"flex flex-align--center flex-justified--end flex--1"},l.a.createElement("span",{className:"push-half--bottom"},"Warning Threshold"),l.a.createElement(y.a,{behavior:"hover",horizontalAttachment:"center",verticalAttachment:"bottom",overlay:l.a.createElement(v.a,{testSection:"warning-threshold-description"},"To detect when tags are missing from your events, set the desired minimum percentage threshold to highlight warning below.")},l.a.createElement("div",{className:"push-half--left"},l.a.createElement(h.a,{name:"circle-question",size:"small"}))),l.a.createElement("div",{className:"flex flex-align--center push-half--bottom push-double--left width--75"},l.a.createElement(_.a,{max:100,min:0,onBlur:this.ensurePercentageFormat,onChange:function onChange(t){return i(t.target.value)},testSection:"warning-threshold-input",textAlign:"right",type:"number",value:r}),l.a.createElement("span",{className:"push-half--left"},"%")))),this.renderSelectedPageEventStats())}}]),EventDetailsSection}(l.a.Component)).propTypes={currentWarningThreshold:d.a.string.isRequired,onPageEventChange:d.a.func.isRequired,onWarningThresholdChange:d.a.func.isRequired,pageEventsStats:d.a.instanceOf(E.default.Map).isRequired,selectedPageEventStats:d.a.instanceOf(E.default.Map).isRequired,track:d.a.func},o.defaultProps={track:function track(){}},i=o))||i;r.a=S},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(25),d=a(59),p=a.n(d),m=a(40),g=a(32),h=a(109),y=a(88),v=a(11),_=a(19),E=a(132),b=a.n(E),T=a(143),S=a(137),C=function CatalogTableRow(t){var r=t.archiveCatalogClick,a=t.canManageRecommendations,i=t.catalog,c=t.editCatalogClick,l=t.showCatalogProfilerClick,u=t.track,d=t.unarchiveCatalogClick,E=i.get("id"),C=i.get("name"),I=i.get("description"),A=i.getIn(["job_status_summary","total_num_items"],0),O=i.get("archived"),P=i.getIn(["job_status_summary","last_run"]),R=P?p.a.utc(P).format("LL"):"Unavailable",w=P&&p.a.utc(P).format("YYYY-MM-DD"),N=function editCatalogOnClick(){c(i)},L=function archiveCatalogOnClick(){r(i)},x=function unarchiveCatalogOnClick(){d(i)},D=function downloadCatalogInventoryCSVOnClick(){b.a.setLocation(T.a.buildURLForDownloadCSV(E,"catalog",w)),u("Recommendations Catalog Inventory CSV Downloaded",{catalogID:E})},k=function downloadOverviewStatisticsCSVOnClick(){b.a.setLocation(T.a.buildURLForDownloadCSV(E,"stats",w)),u("Recommendations Overview Statistics CSV Downloaded",{catalogID:E})};return o.a.createElement(v.a.TR,{borderStyle:"ends",backgroundColor:"faint",key:i},o.a.createElement(v.a.TD,{width:"60%"},function renderName(){return o.a.createElement(o.a.Fragment,null,O?o.a.createElement("span",{className:"word-break--word","data-test-section":"catalog-no-edit-btn-".concat(E)},C):o.a.createElement("div",{className:"word-break--word"},o.a.createElement(m.a,{onClick:N,testSection:"catalog-edit-btn-".concat(E)},C)),o.a.createElement("div",{className:"micro muted word-break--word","data-test-section":"catalog-description-".concat(E)},I))}()),o.a.createElement(v.a.TD,{width:"12%"},A),o.a.createElement(v.a.TD,null,o.a.createElement("span",{className:"nowrap"},R)),o.a.createElement(v.a.TD,null,o.a.createElement("span",{className:"nowrap"},E)),o.a.createElement(v.a.TD,null,o.a.createElement(_.a,{key:"profiler-".concat(E),size:"small",style:"outline",width:"default",testSection:"show-catalog-profiler-".concat(E,"-btn"),onClick:function showCatalogProfilerOnClick(){l(i)}},"Profiler")),o.a.createElement(v.a.TD,{isNumerical:!0},function renderDropdown(){var t=[{isDisabled:!1,isVisible:!O&&a,onClick:L,testSection:"archive-btn-".concat(E),text:"Archive"},{isDisabled:!1,isVisible:O&&a,onClick:x,testSection:"unarchive-btn-".concat(E),text:"Unarchive"},{description:"Downloaded CSV will use UTC instead of local time.",header:"Download CSV",isDisabled:!P,isVisible:!0,onClick:D,testSection:"catalog-inventory-csv-btn-".concat(E),text:"Catalog Inventory"},{description:"Downloaded CSV will use UTC instead of local time.",isDisabled:!P,isVisible:!0,onClick:k,testSection:"overview-statistics-csv-btn-".concat(E),text:"Overview Statistics"}];return o.a.createElement(g.a,{testSection:"catalog-dropdown-".concat(E),width:P?"200px":"300px",activator:o.a.createElement(h.a,{iconFill:"default",iconName:"ellipsis-solid",size:"small",style:"plain",testSection:"dropdown-menu-".concat(E)}),arrowIcon:"down"},o.a.createElement(g.a.Contents,null,o.a.createElement(y.a,null,t.filter((function(t){return t.isVisible})).map((function(t){return o.a.createElement(y.a.Category,{header:t.header,key:t.testSection},o.a.createElement(y.a.Item,{onClick:t.onClick,testSection:t.testSection,isDisabled:t.isDisabled},o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement("div",{className:"flex--1"},o.a.createElement("div",null,t.text),t.isDisabled&&o.a.createElement(S.b,{testSection:t.testSection}),o.a.createElement("div",{className:"muted micro"},t.description)))))})))))}()))};C.propTypes={archiveCatalogClick:l.a.func.isRequired,canManageRecommendations:l.a.bool.isRequired,catalog:l.a.instanceOf(u.Immutable.Map).isRequired,editCatalogClick:l.a.func.isRequired,showCatalogProfilerClick:l.a.func.isRequired,track:l.a.func.isRequired,unarchiveCatalogClick:l.a.func.isRequired},r.a=C},function(t,r,a){"use strict";var i=a(213),o=a(21),c=a(129),l=a(2609).a;r.a={component:l,routingSetup:function routingSetup(t,r){var a=t.currentProject.id,l=[o.default.policy.SINGLE_EXPERIMENT,o.default.policy.MULTIVARIATE];return i.a.fetchAllPages({archived:!1,project_id:a}),c.default.fetchAllByStatus({archived:!1,byPage:!0,policies:l,projectId:a}),r()}}},function(t,r,a){"use strict";var i,o,c,l=a(0),u=a.n(l),d=a(1),p=a.n(d),m=a(71),g=a(54),h=a(28),y=a(13),v=a(2),_=a(10),E=a(484);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=u.a.lazy((function(){return System.import("EVENT_INSPECTOR").then((function(t){return t.loadRootComponent()}))})),T=(i=Object(h.a)({experimentsAndVariationsData:[y.default.currentProjectActiveEvents,y.default.layerExperiments,function(t,r){var a=t.map((function(t){return{id:t.get("id"),key:t.get("api_name")||t.get("name"),type:"event"}}));return r.forEach((function(t){a=a.set(t.get("id"),{id:t.get("id"),key:t.get("key")||t.get("name"),type:"experiment"}),t.get("variations").forEach((function(t){a=a.set(t.get("variation_id"),{id:t.get("variation_id"),key:t.get("api_name")||t.get("name"),type:"variation"})}))})),a}],projectId:y.default.id}),Object(m.withTrack)(o=i(((c=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(EventInspectorDashboard,t);var r=_createSuper(EventInspectorDashboard);function EventInspectorDashboard(){return _classCallCheck(this,EventInspectorDashboard),r.apply(this,arguments)}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(EventInspectorDashboard,[{key:"render",value:function render(){var t=this.props,r=t.experimentsAndVariationsData,a=t.projectId,i=t.track;return u.a.createElement("div",{className:"flex flex--1 flex--column","data-test-section":"event-inspector-main-content"},u.a.createElement(E.a,{activeTab:_.default.DataLayerTabs.INSPECTOR_TAB}),u.a.createElement("div",{className:"stage__item__content--column position--relative","data-test-section":"event-inspector"},u.a.createElement(l.Suspense,{fallback:u.a.createElement(g.default,{isLoading:!0,"data-test-section":"loading-event-inspector"})},u.a.createElement(b,{experimentsAndVariationsData:r,projectId:a,track:i}))))}}]),EventInspectorDashboard}(u.a.Component)).componentId="EventInspectorDashboard",c.displayName="EventInspectorDashboard",c.propTypes={experimentsAndVariationsData:p.a.instanceOf(v.default.Map).isRequired,projectId:p.a.number.isRequired,track:p.a.func},c.defaultProps={track:function track(){}},o=c))||o)||o);r.a=T},function(t,r,a){"use strict";var i=a(126),o=a(426),c=a(213),l=a(524),u=a(587),d=a(451),p=a(46),m=a(2611).a;r.a={component:m,routingSetup:function routingSetup(t,r){var a={archived:!1},m={archived:!1,project_id:t.currentProject.id},g=l.a.fetchAllPagesForAccount(a);o.a.fetchAllPages(a),c.a.fetchAllPages(m),u.a.fetchAll(m),d.default.fetchAllPages(m),Object(i.g)(p.c.RECOMMENDER,g),g.firstPage.then(r)}}},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(11),m=a(40),g=a(19),h=a(71),y=a(126),v=a(5),_=a(28),E=a(167),b=a(2),T=a(13),S=a(97),C=a(211),I=a(10),A=a(524),O=a(600),P=a(39),R=a(54),w=a(64),N=a(484),L=a(160),x=a(325),D=a(855),k=a(2612),j=a(1365),M=a(163),U=a(46),V=a(143),B=a(137),G=a(2622);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var H=U.d.ENTITY_HUMAN_READABLES.RECOMMENDER,z=U.d.TABLE_IDS.RECOMMENDER,W=Object(L.pageableEntityTable)(z),q=Object(_.a)({canManageRecommendations:P.default.canManageRecommendations,catalogs:T.default.catalogs,isFirstPageLoading:Object(E.c)(z,1),recommenders:T.default.recommenders})(i=Object(h.withTrack)(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(RecommenderDashboard,t);var r=_createSuper(RecommenderDashboard);function RecommenderDashboard(){var t;_classCallCheck(this,RecommenderDashboard);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={isLoading:!1},t.archiveRecommender=function(r){v.default.confirm({title:"Confirm Archive Recommender?",message:"Are you sure you want to archive this recommender?",confirmText:"Archive recommender"}).then((function(){return t.setState({isLoading:!0}),A.a.save({id:r.get("id"),archived:!0}).fail((function(){v.default.showNotification({message:"Unable to archive the recommender: <b>".concat(r.get("name"),"</b>"),type:"error"})}))})).always((function(){return t.setState({isLoading:!1})}))},t.unarchiveRecommender=function(r){v.default.confirm({title:"Confirm Unarchive Recommender?",message:"Are you sure you want to unarchive this recommender?",confirmText:"Unarchive recommender"}).then((function(){return t.setState({isLoading:!0}),A.a.save({id:r.get("id"),archived:!1}).fail((function(){v.default.showNotification({message:"Unable to unarchive the recommender: <b>".concat(r.get("name"),"</b>"),type:"error"})}))})).always((function(){return t.setState({isLoading:!1})}))},t.createRecommender=function(){M.a.setCurrentlyEditingRecommender(b.default.Map()),v.default.showReactDialog(j.a,null,{fullScreen:!0,isOuiDialog:!0})},t.editRecommender=function(r){var a=t.getParentCatalog(r);M.a.setCatalog(a),M.a.setCurrentlyEditingRecommender(r),v.default.showReactDialog(j.a,null,{fullScreen:!0,isOuiDialog:!0})},t.filterItemByString=function(t,r){return C.default.matchesFields(t,["name","recommender_service_name"],r)},t.filterItemByStatus=function(t,r){return C.default.matchesArchivedStatus(t,r)},t.fetchDataForStatus=function(r){var a=t.props.track;Object(y.g)(z,A.a.fetchAllPagesForAccount({archived:r===S.default.status.ARCHIVED})),a("Recommendations Recommender Dashboard Filter Status Applied",{status:r})},t.getParentCatalog=function(r){return t.props.catalogs.get(r.get("recommender_service_id"))},t.hasAnyCatalogs=function(){return!t.props.catalogs.isEmpty()},t.hasAnyRecommenders=function(){return!t.props.recommenders.isEmpty()},t.createCatalog=function(){M.a.initializeCurrentlyEditingCatalog(),v.default.showReactDialog(D.a,null,{fullScreen:!0,isOuiDialog:!0})},t.renderTableHeader=function(){return l.a.createElement(p.a.TR,null,l.a.createElement(w.SortableTableHeader,{field:"name",type:"string",width:"60%"},"Name"),l.a.createElement(w.SortableTableHeader,{field:"recommender_service_name",type:"string",width:"15%"},l.a.createElement("span",{className:"nowrap"},"Parent Catalog")),l.a.createElement(p.a.TH,null,l.a.createElement("span",{className:"nowrap"},"Last Generated")),l.a.createElement(w.SortableTableHeader,{field:"id",type:"number"},"ID"),t.hasAnyRecommenders()&&l.a.createElement(p.a.TH,null),t.hasAnyRecommenders()&&l.a.createElement(p.a.TH,null))},t.renderRecommendersTableEmptyState=function(){var r=t.props.canManageRecommendations;return l.a.createElement("div",{className:"push-quad--sides flex flex--1 flex--column","data-test-section":"no-recommender-empty-state"},l.a.createElement(p.a,{style:"rule"},l.a.createElement(p.a.THead,null,t.renderTableHeader()),l.a.createElement(p.a.TBody,null)),!t.hasAnyCatalogs()&&l.a.createElement("div",{className:"text--center overflow-y--auto flex flex--1 flex-column flex-justified--center","data-test-section":"no-catalog-empty-state"},l.a.createElement("p",{className:"alpha"},"Create a catalog first."),l.a.createElement("div",null,"Recommenders provide recommendations based on a catalog, so ",l.a.createElement(m.a,{isDisabled:!r,onClick:r?t.createCatalog:function(){},testSection:"create-catalog-action"},"create a catalog")," first.")))},t.renderRecommendersTable=function(){var r=t.props,a=r.isFirstPageLoading,i=r.recommenders;return l.a.createElement(W,{data:i.toList(),defaultFilters:{status:S.default.status.ACTIVE},defaultSortBy:{field:"name",type:"string"},entityPlural:H,filterItemByStatus:t.filterItemByStatus,filterItemByString:t.filterItemByString,isLoading:a,renderTableHeader:t.renderTableHeader,renderTableRow:t.renderTableRow,tableId:z,testSection:"recommenders-dashboard-table"})},t.renderDashboardHeader=function(){var r=t.props.canManageRecommendations;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"push-quad--sides push-double--top"},"Recommenders display recommendations from your catalog based on its algorithm, events, and filters. ",l.a.createElement(B.c,{helpLink:V.a.getHelpCopy("setup_recommender_link"),testSection:"recommender-dashboard-subtitle"})),l.a.createElement("div",{className:"flex flex--none push-quad--sides push-double--ends"},l.a.createElement(x.default,{inputPlaceholder:"Filter by recommender or catalog name...",inputWidth:"width--1-3",onStatusChange:t.fetchDataForStatus,tableId:z,statusOptions:[{label:"Active",value:S.default.status.ACTIVE},{label:"Archived",value:S.default.status.ARCHIVED}]}),t.hasAnyCatalogs()&&l.a.createElement(g.a,{isDisabled:!r,style:"highlight",onClick:t.createRecommender,testSection:"create-new-recommender-btn"},"Create New Recommender…")))},t.renderTableRow=function(r){var a=t.props,i=a.canManageRecommendations,o=a.track;return l.a.createElement(G.a,{canManageRecommendations:i,handleArchiveRecommender:t.archiveRecommender,handleEditRecommender:t.editRecommender,handleShowRecommenderPreviewer:t.showRecommenderPreviewer,handleUnarchiveRecommender:t.unarchiveRecommender,recommender:r,track:o})},t.showRecommenderPreviewer=function(r){var a=t.getParentCatalog(r);t.setState({isLoading:!0}),O.a.fetchRecommenderStatsByRecommenderId(r.get("id"),{skipEvaluatingCachedData:!0}).then((function(){v.default.showReactDialog(k.a,{props:{catalog:a,recommender:r}},{fullScreen:!0,isOuiDialog:!0}),t.setState({isLoading:!1})}))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(RecommenderDashboard,[{key:"render",value:function render(){var t=this.state.isLoading;return l.a.createElement(R.default,{className:"flex flex--1 height--1-1",isLoading:t},l.a.createElement("div",{className:"stage__item__content--column","data-test-section":"recommender-dashboard-main-content"},l.a.createElement(N.a,{activeTab:I.default.DataLayerTabs.RECOMMENDERS_DASHBOARD_TAB}),l.a.createElement("div",{className:"flex flex--column flex--1","data-test-section":"recommenders-table"},this.renderDashboardHeader(),this.hasAnyRecommenders()?this.renderRecommendersTable():this.renderRecommendersTableEmptyState())))}}]),RecommenderDashboard}(l.a.Component)).componentId=z,o.displayName=z,o.propTypes={canManageRecommendations:d.a.bool.isRequired,catalogs:d.a.instanceOf(b.default.Map).isRequired,isFirstPageLoading:d.a.bool.isRequired,recommenders:d.a.instanceOf(b.default.Map).isRequired,track:d.a.func},o.defaultProps={track:function track(){}},i=o))||i)||i;r.a=q},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(107),m=a(19),g=a(154),h=a(71),y=a(2),v=a(28),_=a(5),E=a(2613),b=a(137),T=a(143),S=a(2614),C=a(2615);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I=Object(v.a)((function(t){var r=t.recommender;return{summaryStats:E.a.summaryStatsByRecommenderId(r.get("id"))}}))(i=Object(h.withTrack)(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(RecommenderPreviewerDialog,t);var r=_createSuper(RecommenderPreviewerDialog);function RecommenderPreviewerDialog(){var t;_classCallCheck(this,RecommenderPreviewerDialog);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).renderEmptyState=function(){return l.a.createElement(p.a,{footerButtonList:[l.a.createElement(m.a,{key:"recommender-previewer-dismiss-button",onClick:_.default.hideDialog,style:"highlight"},"Dismiss")],onClose:_.default.hideDialog,title:"Recommender Previewer",testSection:"recommender-previewer-empty-state-dialog"},l.a.createElement("div",{className:"text--center"},l.a.createElement("img",{alt:"",className:"anchor--middle",src:"https://app.optimizely.com/dist/static/img/p13n/audience-detail-primary-metric-9552eb9ae5c0c6124634ad8b53db3bfc.svg",width:"200"}),l.a.createElement("h3",{className:"push-half--bottom","data-test-section":"recommender-previewer-empty-state-help-text"},"Not enough data yet."),l.a.createElement(b.c,{helpLink:T.a.getHelpCopy("previewer_link"),helpText:" about recommendations",testSection:"recommender-previewer-empty-state"})))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(RecommenderPreviewerDialog,[{key:"componentDidMount",value:function componentDidMount(){(0,this.props.track)("Recommendations Recommender Previewer Dialog Opened")}},{key:"render",value:function render(){var t=this.props,r=t.catalog,a=t.recommender,i=t.summaryStats;return a.getIn(["job_status_summary","last_run"])?l.a.createElement(g.a,{footerButtonList:[l.a.createElement(m.a,{key:"recommender-previewer-dismiss-button",onClick:_.default.hideDialog,style:"highlight"},"Dismiss")],onClose:_.default.hideDialog,title:"Recommender Previewer",testSection:"recommender-previewer-dialog"},l.a.createElement(C.a,{recommender:a,summaryStats:i}),l.a.createElement(S.a,{catalog:r,recommender:a})):this.renderEmptyState()}}]),RecommenderPreviewerDialog}(l.a.Component)).propTypes={catalog:d.a.instanceOf(y.default.Map).isRequired,recommender:d.a.instanceOf(y.default.Map).isRequired,summaryStats:d.a.instanceOf(y.default.Map).isRequired,track:d.a.func},o.defaultProps={track:function track(){}},i=o))||i)||i;r.a=I},function(t,r,a){"use strict";var i=a(600),o=a(601),c=a(1304);a.d(r,"a",(function(){return c.a}));i.a,o.a,c.a},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(4),m=a(631),g=a.n(m),h=a(19),y=a(52),v=a(222),_=a(223),E=a(26),b=a(71),T=a(54),S=a(2),C=a(257),I=a(616),A=a(600),O=a(123),P=a.n(O),R=a(1364);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w={currentItemRecommendations:{$set:[]},currentlySelectedItemID:{$set:""},currentlySelectedItemInfo:{$set:{}},isLoading:{$set:!1}},N=/\.(jpeg|jpg|gif|png|svg)/,L=Object(b.withTrack)(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ItemPreviewer,t);var r=_createSuper(ItemPreviewer);function ItemPreviewer(){var t;_classCallCheck(this,ItemPreviewer);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state=g()({},w),t.isCoBrowseOrCoBuyAlgorithm=function(){var r=t.props.recommender.get("algorithm");return r===C.a.Algorithm.CO_BROWSE||r===C.a.Algorithm.CO_BUY},t.isPopularAlgorithm=function(){return t.props.recommender.get("algorithm")===C.a.Algorithm.POPULAR},t.isValidImageURL=function(t){var r=t&&t.toString().toLowerCase();return r&&P.a.isValidUrl(r)&&(!!r.match(N)||-1!==r.indexOf("image"))},t.setLoadingState=function(r){var a=g()(t.state,{currentlySelectedItemID:{$set:r},isLoading:{$set:!0}});t.setState(a)},t.setValueForPriceFieldIfAvailable=function(t,r){Object.entries(r).sort().find((function(r){var a=r[0].toLowerCase(),i=r[1];if(a.includes("price"))return t.price=i,i}))},t.setValueForTitleFieldIfAvailable=function(t,r){Object.entries(r).sort().find((function(r){var a=r[0].toLowerCase(),i=r[1];if(a.includes("name")||a.includes("title"))return t.title=i,i}))},t.fetchRecommendationsForChosenAlgorithm=function(r){var a=t.props,i=a.catalog,o=a.recommender,c=a.track,l=i.get("id_tag_name"),u=t.isPopularAlgorithm()?"popular":r;if(u){if(t.setLoadingState(u),t.isCoBrowseOrCoBuyAlgorithm())I.a.fetchItemMetadataById(i,u).then((function(r){var a={id:u,strength:1};r?(a.imageURL=Object.values(r).find((function(r){return t.isValidImageURL(r)})),t.setValueForPriceFieldIfAvailable(a,r),t.setValueForTitleFieldIfAvailable(a,r)):a=null;var i=g()(t.state,{currentlySelectedItemID:{$set:u},currentlySelectedItemInfo:{$set:a}});t.setState(i)}));else{var d=g()(t.state,{currentlySelectedItemID:{$set:u}});t.setState(d)}A.a.fetchRecommendationsById(o,u).then((function(r){return r?Promise.all(r.map((function(r){var a=r.get(l),o=Math.round(100*Number(r.get("_score")))/100;return I.a.fetchItemMetadataById(i,a).then((function(r){var i={id:a,strength:o};return r&&(i.imageURL=Object.values(r).find((function(r){return t.isValidImageURL(r)})),t.setValueForPriceFieldIfAvailable(i,r),t.setValueForTitleFieldIfAvailable(i,r)),i}))}))):[]})).then((function(r){var a=g()(t.state,{currentItemRecommendations:{$set:r},isLoading:{$set:!1}});t.setState(a)})),c("Recommendations Recommender Item Previewer Searched Keywords",{keyword:u})}else t.setState(g()({},w))},t.debounceFetchRecommendationsForChosenAlgorithm=Object(p.debounce)(t.fetchRecommendationsForChosenAlgorithm,500),t.renderItemRecommendations=function(){var r=t.props.recommender,a=t.state,i=a.currentItemRecommendations,o=a.currentlySelectedItemID,c=a.currentlySelectedItemInfo,u=a.isLoading,d=r.get("algorithm"),m=t.isPopularAlgorithm()?"There are":'"'.concat(o,'" has'),g=C.a.AlgorithmPreviewerTexts[d].response,h=C.a.AlgorithmPreviewerTexts[d].emptyResponse;return!o||!Object(p.isEmpty)(c)||i.length||t.isPopularAlgorithm()||u?l.a.createElement("div",{className:"push--top",style:{position:"relative"}},l.a.createElement(T.default,{isLoading:u},!u&&l.a.createElement(l.a.Fragment,null,t.isCoBrowseOrCoBuyAlgorithm()&&l.a.createElement(R.a,{currentItemRecommendations:[c],currentlySelectedItemID:o,tableLabel:'Results for "'.concat(o,'"'),testSection:"target-items-table"}),l.a.createElement(R.a,{currentItemRecommendations:i,currentlySelectedItemID:o,tableLabel:"".concat(m," ").concat(i.length," ").concat(g),testSection:"recommended-items-table"})))):l.a.createElement("div",{"data-test-section":"empty-state-catalog-item-details"},h)},t.renderButtonForPopularAlgorithm=function(){var r=t.props.recommender.get("algorithm"),a=C.a.AlgorithmPreviewerTexts[r].placeholder;return l.a.createElement("div",{className:"push-triple--bottom","data-test-section":"item-previewer"},l.a.createElement("span",{"data-test-section":"item-previewer-label"},"View recommendations based on the ",l.a.createElement("b",null,"Popular")," algorithm."),l.a.createElement("div",{className:"push--top"},l.a.createElement(h.a,{key:"view-results",onClick:t.debounceFetchRecommendationsForChosenAlgorithm,style:"outline",testSection:"view-results-popular-algorithm-button"},a)))},t.renderInputForOtherAlgorithms=function(){var r=t.props.recommender.get("algorithm"),a=C.a.AlgorithmPreviewerTexts[r].label,i=C.a.AlgorithmPreviewerTexts[r].placeholder;return l.a.createElement("div",{className:"push-triple--bottom","data-test-section":"item-previewer"},l.a.createElement("span",{"data-test-section":"item-previewer-label"},a),l.a.createElement("div",{className:"flex flex-align--center push--top"},l.a.createElement("div",{className:"width--1-2"},l.a.createElement(y.a,{displayError:!1,id:"recommender-item-previewer",isFilter:!0,maxLength:150,onChange:function onChange(r){return t.debounceFetchRecommendationsForChosenAlgorithm(r.target.value)},placeholder:i,testSection:"item-previewer-input",type:"text"})),l.a.createElement(v.a,{behavior:"hover",horizontalAttachment:"left",verticalAttachment:"middle",overlay:l.a.createElement(_.a,{testSection:"item-previewer-input-description"},"Depending on the algorithm used for this recommender, enter either an ",l.a.createElement("b",null,"ItemID")," (when using Co-browse/Co-buy) or a"," ",l.a.createElement("b",null,"VisitorID")," (when using Collaborative Filtering).")},l.a.createElement("div",{className:"push--left push-half--top"},l.a.createElement(E.a,{name:"circle-question",size:"small"})))))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ItemPreviewer,[{key:"render",value:function render(){var t=this.state.currentlySelectedItemID;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",null,"Preview Item Recommendations"),this.isPopularAlgorithm()?this.renderButtonForPopularAlgorithm():this.renderInputForOtherAlgorithms(),!!t&&this.renderItemRecommendations())}}]),ItemPreviewer}(l.a.Component)).propTypes={catalog:d.a.instanceOf(S.default.Map).isRequired,recommender:d.a.instanceOf(S.default.Map).isRequired,track:d.a.func},o.defaultProps={track:function track(){}},i=o))||i;r.a=L},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(2),d=a(269),p=a(11),m=a(188),g=a(59),h=a.n(g),y=a(395),v=function SummaryStatsSection(t){var r=t.recommender,a=t.summaryStats,i=Number(a.get("total_num_targets")),c=Number(a.get("num_targets_with_full_recommendations")),l=Number(a.get("num_targets_with_half_recommendations"));return o.a.createElement("div",{className:"push-quad--ends"},o.a.createElement("div",{className:"flex"},o.a.createElement("h3",{className:"flex--1","data-test-section":"summary-stats-section-title"},"Summary for the last 7 days"),function renderUpdatedTime(){var t=r.getIn(["job_status_summary","last_run"]),a=h()(t).format("LL"),i=h()(t).format("LT"),c=y.a.getCurrentTimezoneName().replace("_"," ");return o.a.createElement("div",{className:"muted micro zeta","data-test-section":"recommender-previewer-last-generated-time"},"Last generated: ","".concat(a," at ").concat(i," (").concat(c,")"))}()),o.a.createElement(d.a,{testSection:"recommender-summary-card"},o.a.createElement(d.a.Body,null,o.a.createElement(p.a,{style:"wall"},o.a.createElement(p.a.TBody,null,o.a.createElement(p.a.TR,null,o.a.createElement(p.a.TD,null,o.a.createElement("div",{className:"text--left"},o.a.createElement("div",{className:"flex"},o.a.createElement("div",{className:"micro muted push-half--bottom"},"Total Recommended Items"),o.a.createElement(m.a,{behavior:"hover",horizontalAttachment:"center",testSection:"total-recommended-items-pop-tip",verticalAttachment:"bottom"},"The number of rows of recommendations calculated since the last time the algorithm was run.")),o.a.createElement("div",{className:"beta","data-test-section":"total-recommended-items"},i.toLocaleString()))),o.a.createElement(p.a.TD,null,o.a.createElement("div",{className:"text--left"},o.a.createElement("div",{className:"flex"},o.a.createElement("div",{className:"micro muted push-half--bottom"},"Full Recommendations"),o.a.createElement(m.a,{behavior:"hover",horizontalAttachment:"center",testSection:"full-recommended-items-pop-tip",verticalAttachment:"bottom"},"Items for which there is a complete set of 20 recommendations per item.")),o.a.createElement("div",{className:"beta","data-test-section":"full-recommended-items"},c.toLocaleString()))),o.a.createElement(p.a.TD,null,o.a.createElement("div",{className:"text--left"},o.a.createElement("div",{className:"flex"},o.a.createElement("div",{className:"micro muted push-half--bottom"},"Partial Recommendations"),o.a.createElement(m.a,{behavior:"hover",horizontalAttachment:"center",testSection:"half-recommended-items-pop-tip",verticalAttachment:"bottom"},"Items for which there are fewer than 10 recommendations. This is usually due to missing data about these items.")),o.a.createElement("div",{className:"beta","data-test-section":"half-recommended-items"},l.toLocaleString())))))),o.a.createElement("hr",{className:"lego-rule"}))))};v.propTypes={recommender:l.a.instanceOf(u.default.Map).isRequired,summaryStats:l.a.instanceOf(u.default.Map).isRequired},r.a=v},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(155),d=a(2),p=a(257),m=a(137),g=a(143),h=function AlgorithmPicker(t){var r=t.handleAlgorithmChange,a=t.recommender;return o.a.createElement("div",{className:"push-triple--bottom","data-test-section":"recommender-algorithm-picker"},o.a.createElement("h4",null,"Algorithm"),o.a.createElement("div",{className:"push--bottom","data-test-section":"algorithm-picker-help-text"},"Choose the algorithm that best suits how you want recommendations calculated for your users. ",o.a.createElement(m.c,{helpLink:g.a.getHelpCopy("recommender_algorithm_link"),testSection:"recommender-dialog-algorithm-picker"})),o.a.createElement(u.default,{inputPlaceholder:"Select an algorithm...",items:p.a.AlgorithmSelectorTexts,minDropdownWidth:300,onChange:r,testSection:"algorithm-picker-dropdown",value:a.get("algorithm"),width:200}))};h.propTypes={handleAlgorithmChange:l.a.func.isRequired,recommender:l.a.instanceOf(d.default.Map).isRequired},r.a=h},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(65),d=a(26),p=a(155),m=a(2),g=function CatalogPicker(t){var r=t.canChangeCatalog,a=t.catalogs,i=t.currentlySelectedCatalogID,c=t.defaultCatalog,l=t.handleCatalogChange,m=a.map((function(t){return{description:t.get("description"),label:t.get("name"),value:t.get("id")}})).toList();return m=m.unshift({label:"Select a catalog...",value:c.get("id")}),o.a.createElement("div",{className:"push-triple--bottom","data-test-section":"recommender-catalog-picker"},o.a.createElement("h4",null,"Catalog"),r?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"push--bottom","data-test-section":"select-catalog-help-text"},"In selecting the catalog, you are determining which events this recommender uses."),o.a.createElement(p.default,{inputPlaceholder:"Select a catalog...",isFilterable:!0,items:m,minDropdownWidth:300,onChange:l,testSection:"catalog-picker-dropdown",value:i,width:200})):o.a.createElement("span",{className:"zeta word-break--word","data-test-section":"parent-catalog-name"},a.getIn([i,"name"])),o.a.createElement("div",{className:"flex flex-align--center push--top"},o.a.createElement(d.a,{color:u.brandBlueDark,size:"small",name:"circle-exclamation"}),o.a.createElement("div",{className:"flex--1 push-half--left","data-test-section":"change-catalog-warning-text"},"Once this recommender has been saved, you can't change the catalog it's assigned to.")))};g.propTypes={canChangeCatalog:l.a.bool.isRequired,catalogs:l.a.instanceOf(m.default.Map).isRequired,currentlySelectedCatalogID:l.a.number.isRequired,defaultCatalog:l.a.instanceOf(m.default.Map).isRequired,handleCatalogChange:l.a.func.isRequired},r.a=g},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(2),m=a(28),g=a(437),h=a(206),y=a(52),v=a(88),_=a(163),E=a(143),b=a(147),T=a(137);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var S=Object(m.a)((function(t){return{selectedItemIds:b.a.selectedRecommenderSpecificEventIds(t.id),allItems:b.a.selectedEventsForSavedCatalog}}))(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(EventPicker,t);var r=_createSuper(EventPicker);function EventPicker(){var t;_classCallCheck(this,EventPicker);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).addEvent=function(r){var a=t.props.id;_.a.updateCurrentlyEditingRecommenderSpecificsAddEvent(a,Object(p.toImmutable)(r))},t.removeEvent=function(r){var a=t.props.id;_.a.updateCurrentlyEditingRecommenderSpecificsRemoveEvent(a,Object(p.toImmutable)(r))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(EventPicker,[{key:"render",value:function render(){var t=this,r=this.props,a=r.allItems,i=r.areEventsValid,o=r.description,c=r.label,u=r.placeholder,d=r.renderErrorMessage,p=r.selectedItemIds,m=r.testSection;return l.a.createElement("div",{className:"push-double--bottom","data-test-section":m},l.a.createElement("h5",null,c),l.a.createElement("div",{className:"push--bottom","data-test-section":"".concat(m,"-description")},o,l.a.createElement(T.c,{helpLink:E.a.getHelpCopy("setup_recommender_link"),testSection:m})),l.a.createElement(g.a,{allEntities:a,selectedEntityIds:p,keysToSearch:["name"],testSection:"".concat(m,"-filter-picker")},(function(r){var a=r.availableEntities,i=r.handleFilterInput,o=r.selectedEntities;return l.a.createElement(l.a.Fragment,null,!!o.size&&l.a.createElement("div",{className:"push-half--top push-double--bottom"},o.map((function(r){return l.a.createElement("div",{className:"flex flex-align--center",key:r.get("id")},l.a.createElement(h.a,{description:r.get("description"),name:r.get("name"),isDismissible:!0,isFullWidth:!0,onDismiss:function onDismiss(){return t.removeEvent(r)},showWell:!1}))}))),l.a.createElement("div",{className:"oui-filter-picker-list"},l.a.createElement(y.a,{isFilter:!0,onInput:i,placeholder:u,type:"search"}),l.a.createElement(v.a,{hasBorder:!0},l.a.createElement(v.a.Category,null,a.map((function(r){return l.a.createElement(g.a.ListItem,{description:r.get("description"),key:r.get("id"),id:r.get("id"),name:r.get("name"),onClick:function onClick(){return t.addEvent(r)},testSection:"".concat(m,"-event-").concat(r.get("id"))})}))))))})),!i&&d("At least one event must be selected","recommender-events-error-message"))}}]),EventPicker}(l.a.Component)).propTypes={allItems:d.a.instanceOf(p.default.List).isRequired,areEventsValid:d.a.bool,description:d.a.string.isRequired,id:d.a.string.isRequired,label:d.a.string.isRequired,placeholder:d.a.string.isRequired,renderErrorMessage:d.a.func.isRequired,selectedItemIds:d.a.instanceOf(p.default.List).isRequired,testSection:d.a.string.isRequired},i=o))||i;r.a=S},function(t,r,a){"use strict";a.d(r,"a",(function(){return b}));var i=a(67),o=a.n(i),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(25),m=a(295),g=a(188),h=a(98),y=a(19),v=a(196),_=a(46),E=a(2620);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(FilteringRulesBuilder,t);var r=_createSuper(FilteringRulesBuilder);function FilteringRulesBuilder(){var t;_classCallCheck(this,FilteringRulesBuilder);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).getCurrentFilteringRules=function(){var r=t.props,a=r.defaultPolicy,i=r.rules;return Object(p.toImmutable)({default_policy:a,rules:i})},t.handleUpdateDefaultPolicy=function(){var r=t.props,a=r.defaultPolicy,i=r.handleUpdateFilteringRules,o=a===_.d.FilteringRulesValues.POLICIES.EXCLUDE?_.d.FilteringRulesValues.POLICIES.INCLUDE:_.d.FilteringRulesValues.POLICIES.EXCLUDE;i(t.getCurrentFilteringRules().set("default_policy",o))},t.handleAddRule=function(){(0,t.props.handleUpdateFilteringRules)(t.getCurrentFilteringRules().update("rules",(function(t){return t.push(Object(p.toImmutable)(_.d.DefaultRule))})))},t.handleUpdateRule=function(r,a){(0,t.props.handleUpdateFilteringRules)(t.getCurrentFilteringRules().setIn(["rules",a],r))},t.handleRemoveRule=function(r){(0,t.props.handleUpdateFilteringRules)(t.getCurrentFilteringRules().update("rules",(function(t){return t.splice(r,1)})))},t.handleRulesReset=function(){var r=t.props.handleUpdateFilteringRules;t.setState({rules:Object(p.toImmutable)([_.d.DefaultRule])},(function(){r()}))},t.renderRules=function(){var r=t.props,a=r.currentProjectTags,i=r.rules,o=i.size;return i.map((function(r,i){var c,l,u=r.getIn(["condition","conditions"]);u?(c=u,l=r.getIn(["condition","op"])):(c=Object(p.toImmutable)([r.get("condition")]),l=_.d.DefaultFilteringRuleValues.CONJUNCTION);var m=r.get("policy");return d.a.createElement(E.a,{conditions:c,conjunction:l,currentProjectTags:a,handleRemoveRule:t.handleRemoveRule,handleUpdateRule:t.handleUpdateRule,index:i,isOnlyRule:1===o,key:i,policy:m})}))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(FilteringRulesBuilder,[{key:"render",value:function render(){var t=this.props,r=t.defaultPolicy,a=t.switchFilteringRulesMode;return d.a.createElement("div",null,d.a.createElement("div",{className:"flex flex-align--end flex-justified--between","data-test-section":"filters-builder"},d.a.createElement("div",{className:"flex"},d.a.createElement(v.Track,{eventName:"Recommendations Filter Scope Selected"},d.a.createElement(m.a,{checked:r===_.d.FilteringRulesValues.POLICIES.EXCLUDE,label:"Exclude all recommendations by default","data-test-section":"filters-default-policy",onChange:this.handleUpdateDefaultPolicy})),d.a.createElement(g.a,{horizontalAttachment:"left",verticalAttachment:"middle",popoverTitle:"Global Exclusion"},"Use this option to exclude all recommendations by default. Then use the filters below to override this setting for specific conditions.")),d.a.createElement("div",null,d.a.createElement(h.a,{rightGroup:[d.a.createElement(v.Track,{eventName:"Recommendations All Filters Removed"},d.a.createElement(y.a,{key:"remove-0",style:"danger-outline",size:"small",testSection:"filters-reset-rules",onClick:this.handleRulesReset},"Remove all filters")),d.a.createElement(v.Track,{eventName:"Recommendations Code Editor Opened"},d.a.createElement(y.a,{key:"advanced-0",style:"outline",size:"small",testSection:"filters-switch-to-code-mode",onClick:a},"Advanced code editor"))]}))),d.a.createElement("div",null,this.renderRules(),d.a.createElement("div",{className:"push-double--ends"},d.a.createElement(v.Track,{eventName:"Recommendations Condition Group Added"},d.a.createElement(y.a,{style:"outline",size:"small",width:"default",testSection:"filters-add-rule",onClick:this.handleAddRule},"Add condition group")))))}}]),FilteringRulesBuilder}(d.a.Component);b.propTypes={currentProjectTags:l.a.instanceOf(o.a.List).isRequired,defaultPolicy:l.a.string,handleUpdateFilteringRules:l.a.func.isRequired,rules:l.a.instanceOf(o.a.List),switchFilteringRulesMode:l.a.func.isRequired},b.defaultProps={defaultPolicy:_.d.DefaultFilteringRuleValues.POLICY,rules:Object(p.toImmutable)([_.d.DefaultRule])}},function(t,r,a){"use strict";var i,o,c=a(67),l=a.n(c),u=a(1),d=a.n(u),p=a(0),m=a.n(p),g=a(25),h=a(135),y=a(109),v=a(71),_=a(46),E=a(2621);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=Object(v.withTrack)(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(RuleCard,t);var r=_createSuper(RuleCard);function RuleCard(){var t;_classCallCheck(this,RuleCard);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).getCurrentRule=function(){var r=t.props,a=r.conditions,i=r.conjunction,o=r.policy;return Object(g.toImmutable)({policy:o,condition:{conditions:a,op:i}})},t.handleConjunctionUpdate=function(r){var a=t.props,i=a.handleUpdateRule,o=a.index,c=a.track,l=t.getCurrentRule().setIn(["condition","op"],r);c("Recommendations Policy Scope Selected"),i(l,o)},t.handlePolicyUpdate=function(r){var a=t.props,i=a.handleUpdateRule,o=a.index,c=a.track,l=t.getCurrentRule().set("policy",r);c("Recommendations Policy Selected",{policy:r}),i(l,o)},t.handleAddCondition=function(){var r=t.props,a=r.handleUpdateRule,i=r.index,o=r.track,c=t.getCurrentRule().updateIn(["condition","conditions"],(function(t){return t.push(Object(g.toImmutable)(_.d.DefaultCondition))}));o("Recommendations Condition Added"),a(c,i)},t.handleRemoveCondition=function(r){var a=t.props,i=a.handleUpdateRule,o=a.index;i(t.getCurrentRule().updateIn(["condition","conditions"],(function(t){return t.splice(r,1)})),o)},t.handleUpdateCondition=function(r,a){var i=t.props,o=i.handleUpdateRule,c=i.index;o(t.getCurrentRule().setIn(["condition","conditions",a],r),c)},t.renderConditions=function(){var r=t.props,a=r.conditions,i=r.currentProjectTags,o=a.size;return a.map((function(r,a){var c=r.get("op"),l=r.getIn(["lhs","context"]),u=r.getIn(["lhs","field"])&&r.getIn(["lhs","field"]).size>0&&r.getIn(["lhs","field",0]),d=r.getIn(["lhs","value"]),p=r.getIn(["rhs","context"]),g=r.getIn(["rhs","field"])&&r.getIn(["rhs","field"]).size>0&&r.getIn(["rhs","field",0]),h=r.getIn(["rhs","value"]);return m.a.createElement(E.a,{currentProjectTags:i,handleAddCondition:t.handleAddCondition,handleRemoveCondition:t.handleRemoveCondition,handleUpdateCondition:t.handleUpdateCondition,index:a,isOnlyCondition:1===o,isLastCondition:a===o-1,key:a,lhsContext:l,lhsField:u,lhsValue:d,operator:c,rhsContext:p,rhsField:g,rhsValue:h})}))},t.renderPolicyAndConjunction=function(){var r=t.props,a=r.conjunction,i=r.index,o=r.policy;return m.a.createElement("div",{className:"flex flex-align--center"},m.a.createElement(h.a,{items:_.d.PolicyOptions,value:o,onChange:t.handlePolicyUpdate,buttonStyle:"underline",testSection:"filters-policy-rule-".concat(i)}),m.a.createElement("span",{className:"push--sides"},"items that match"),m.a.createElement(h.a,{items:_.d.ConjunctionOptions,value:a,onChange:t.handleConjunctionUpdate,buttonStyle:"underline",testSection:"filters-conjunction-rule-".concat(i)}),m.a.createElement("span",{className:"push--left"},"of the following conditions:"))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(RuleCard,[{key:"render",value:function render(){var t=this.props,r=t.index,a=t.isOnlyRule,i=t.handleRemoveRule;return m.a.createElement("div",{className:"border--all soft-double push-double--top push--bottom","data-test-section":"filters-rule-".concat(r)},!a&&m.a.createElement("div",{className:"float--right"},m.a.createElement(y.a,{style:"outline",size:"small",testSection:"filters-remove-rule-".concat(r),onClick:function onClick(){return i(r)},iconName:"trash-can",title:"Remove Condition Group"})),this.renderPolicyAndConjunction(),m.a.createElement("hr",{className:"oui-rule push-double--ends"}),this.renderConditions())}}]),RuleCard}(m.a.Component)).propTypes={conditions:d.a.instanceOf(l.a.List),conjunction:d.a.string,currentProjectTags:d.a.instanceOf(l.a.List),handleRemoveRule:d.a.func.isRequired,handleUpdateRule:d.a.func.isRequired,index:d.a.number.isRequired,isOnlyRule:d.a.bool.isRequired,policy:d.a.string,track:d.a.func},o.defaultProps={conditions:Object(g.toImmutable)([]),conjunction:_.d.DefaultFilteringRuleValues.CONJUNCTION,currentProjectTags:Object(g.toImmutable)([]),policy:_.d.DefaultFilteringRuleValues.POLICY,track:function track(){}},i=o))||i;r.a=b},function(t,r,a){"use strict";var i,o,c=a(67),l=a.n(c),u=a(1),d=a.n(u),p=a(0),m=a.n(p),g=a(25),h=a(109),y=a(98),v=a(135),_=a(52),E=a(71),b=a(46);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=Object(E.withTrack)(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ConditionLine,t);var r=_createSuper(ConditionLine);function ConditionLine(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ConditionLine),(a=r.call(this,t)).getConditionSide=function(t,r,a){return t===b.d.DefaultFilteringRuleValues.CUSTOM?{value:a}:{context:r,field:[t]}},a.getCurrentCondition=function(){var t=a.props,r=t.lhsContext,i=t.lhsField,o=t.lhsValue,c=t.operator,l=t.rhsContext,u=t.rhsField,d=t.rhsValue,p=a.getConditionSide(i,r,o),m=a.getConditionSide(u,l,d);return Object(g.toImmutable)({op:c,lhs:p,rhs:m})},a.parseString=function(t){if("true"===t.toLowerCase())return!0;if("false"===t.toLowerCase())return!1;var r=Number(t);return Number.isNaN(r)?t:r},a.updateField=function(t,r){var i=a.props,o=i.handleUpdateCondition,c=i.index,l=i.lhsContext,u=i.lhsValue,d=i.rhsContext,p=i.rhsValue,m=i.track,h=a.getCurrentCondition(),y="lhs"===t?a.getConditionSide(r,l,u):a.getConditionSide(r,d,p),v=h.set(t,Object(g.toImmutable)(y));m("Recommendations Tag or Value Selected"),o(v,c)},a.updateValue=function(t,r){var i=a.props,o=i.handleUpdateCondition,c=i.index;o(a.getCurrentCondition().setIn([t,"value"],a.parseString(r)),c)},a.updateContext=function(t,r){var i=a.props,o=i.handleUpdateCondition,c=i.index;o(a.getCurrentCondition().setIn([t,"context"],r),c)},a.updateOperator=function(t){var r=a.props,i=r.handleUpdateCondition,o=r.index,c=r.track,l=a.getCurrentCondition().set("op",t);c("Recommendations Operator Selected",{operator:t}),i(l,o)},a.renderAddRemoveButtons=function(){var t=a.props,r=t.handleAddCondition,i=t.handleRemoveCondition,o=t.index,c=t.isLastCondition;return t.isOnlyCondition?m.a.createElement(h.a,{iconName:"plus",onClick:r,size:"small",style:"outline",testSection:"filters-add-condition-".concat(o),title:"Add Condition"}):c?m.a.createElement(y.a,{rightGroup:[m.a.createElement(h.a,{iconName:"plus",key:"add-1",size:"small",style:"outline",onClick:r,testSection:"filters-add-condition-".concat(o),title:"Add Condition"}),m.a.createElement(h.a,{iconName:"trash-can",key:"minus-0",onClick:function onClick(){return i(o)},size:"small",style:"outline",testSection:"filters-remove-condition-".concat(o),title:"Remove Condition"})]}):m.a.createElement(h.a,{iconName:"trash-can",onClick:function onClick(){return i(o)},size:"small",style:"outline",testSection:"filters-remove-condition-".concat(o),title:"Remove Condition"})};var i=a.props,o=i.lhsValue,c=i.rhsValue;return a.state={lhsValue:o,rhsValue:c},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ConditionLine,[{key:"render",value:function render(){var t=this,r=this.props,a=r.currentProjectTags,i=r.index,o=r.lhsContext,c=r.lhsField,l=r.operator,u=r.rhsContext,d=r.rhsField,p=this.state,g=p.lhsValue,h=p.rhsValue,y=a.map((function(t){return{label:t.get("api_name"),value:t.get("api_name")}})),E=b.d.ValueOptions.concat(y.toJS());return m.a.createElement("div",{className:"flex flex-align--center flex-justified--between push-double--bottom","data-test-section":"filters-condition-".concat(i)},m.a.createElement("div",{className:"flex"},m.a.createElement("div",{className:"push-half--right"},m.a.createElement(v.a,{initialPlaceholder:b.d.DefaultFilteringRuleLabels.VALUE,items:E,maxWidth:"90px",onChange:function onChange(r){return t.updateField("lhs",r)},testSection:"filters-lhs-field-condition-".concat(i),value:c})),c===b.d.DefaultFilteringRuleValues.CUSTOM&&m.a.createElement("div",{className:"push-half--right"},m.a.createElement(_.a,{id:"lhs-input",isFilter:!1,isOptional:!1,maxLength:250,onChange:function onChange(r){return t.setState({lhsValue:r.target.value})},onBlur:function onBlur(r){return t.updateValue("lhs",r.target.value)},placeholder:"Enter value",testSection:"filters-lhs-value-input-condition-".concat(i),type:"text",value:g})),c!==b.d.DefaultFilteringRuleValues.CUSTOM&&c!==b.d.DefaultFilteringRuleValues.VALUE&&m.a.createElement("div",{className:"push-half--right"},m.a.createElement(v.a,{items:b.d.ContextOptions,maxWidth:"145px",onChange:function onChange(r){return t.updateContext("lhs",r)},testSection:"filters-lhs-context-condition-".concat(i),value:o})),m.a.createElement("div",{className:"push-half--right"},m.a.createElement(v.a,{initialPlaceholder:b.d.DefaultFilteringRuleLabels.OP,items:b.d.OperatorOptions,maxWidth:"150px",minDropdownWidth:"240px",onChange:this.updateOperator,testSection:"filters-operator-condition-".concat(i),value:l})),m.a.createElement("div",{className:"push-half--right"},m.a.createElement(v.a,{initialPlaceholder:b.d.DefaultFilteringRuleLabels.VALUE,items:E,maxWidth:"90px",onChange:function onChange(r){return t.updateField("rhs",r)},testSection:"filters-rhs-field-condition-".concat(i),value:d})),d===b.d.DefaultFilteringRuleValues.CUSTOM&&m.a.createElement("div",{className:"push-half--right"},m.a.createElement(_.a,{id:"rhs-input",isFilter:!1,isOptional:!1,maxLength:250,onBlur:function onBlur(r){return t.updateValue("rhs",r.target.value)},onChange:function onChange(r){return t.setState({rhsValue:r.target.value})},placeholder:"Enter value",testSection:"filters-rhs-value-input-condition-".concat(i),type:"text",value:h})),d!==b.d.DefaultFilteringRuleValues.CUSTOM&&d!==b.d.DefaultFilteringRuleValues.VALUE&&m.a.createElement(v.a,{items:b.d.ContextOptions,maxWidth:"145px",onChange:function onChange(r){return t.updateContext("rhs",r)},testSection:"filters-rhs-context-condition-".concat(i),value:u})),m.a.createElement("div",{className:"push--left"},this.renderAddRemoveButtons()))}}]),ConditionLine}(m.a.Component)).propTypes={currentProjectTags:d.a.instanceOf(l.a.List).isRequired,handleAddCondition:d.a.func.isRequired,handleRemoveCondition:d.a.func.isRequired,handleUpdateCondition:d.a.func.isRequired,index:d.a.number.isRequired,isLastCondition:d.a.bool.isRequired,isOnlyCondition:d.a.bool.isRequired,lhsContext:d.a.string,lhsField:d.a.string,lhsValue:d.a.oneOfType([d.a.bool,d.a.number,d.a.string]),operator:d.a.string,rhsContext:d.a.string,rhsField:d.a.string,rhsValue:d.a.oneOfType([d.a.bool,d.a.number,d.a.string]),track:d.a.func},o.defaultProps={lhsContext:b.d.DefaultFilteringRuleValues.CONTEXT,lhsField:b.d.DefaultFilteringRuleValues.CUSTOM,operator:b.d.DefaultFilteringRuleValues.OP,rhsContext:b.d.DefaultFilteringRuleValues.CONTEXT,rhsField:b.d.DefaultFilteringRuleValues.CUSTOM,track:function track(){}},i=o))||i;r.a=T},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(59),d=a.n(u),p=a(40),m=a(32),g=a(109),h=a(88),y=a(11),v=a(19),_=a(2),E=a(132),b=a.n(E),T=a(143),S=a(137),C=function RecommenderTableRow(t){var r=t.canManageRecommendations,a=t.handleArchiveRecommender,i=t.handleEditRecommender,c=t.handleShowRecommenderPreviewer,l=t.handleUnarchiveRecommender,u=t.recommender,_=t.track,E=u.get("archived"),C=u.get("recommender_service_id"),I=u.get("recommender_service_name"),A=u.get("id"),O=u.get("name"),P=u.get("description"),R=u.getIn(["job_status_summary","last_run"]),w=R?d.a.utc(R).format("LL"):"Unavailable",N=R&&d.a.utc(R).format("YYYY-MM-DD"),L=function onArchiveRecommenderClick(){a(u)},x=function onDownloadRecommenderOutputCSVClick(){b.a.setLocation(T.a.buildURLForDownloadCSV(C,"recommenders",N,A)),_("Recommendations Recommender Output CSV Downloaded",{catalogID:C,recommenderID:A})},D=function onEditRecommenderClick(){i(u)},k=function onUnarchiveRecommenderClick(){l(u)};return o.a.createElement(y.a.TR,{borderStyle:"ends",backgroundColor:"faint",key:A},o.a.createElement(y.a.TD,{width:"60%"},function renderRecommenderName(){return o.a.createElement(o.a.Fragment,null,E?o.a.createElement("span",{className:"word-break--word","data-test-section":"recommender-".concat(A,"-name")},O):o.a.createElement("div",{className:"word-break--word"},o.a.createElement(p.a,{onClick:D,testSection:"recommender-".concat(A,"-name")},O)),o.a.createElement("div",{className:"micro muted word-break--word","data-test-section":"recommender-".concat(A,"-description")},P))}()),o.a.createElement(y.a.TD,{testSection:"catalog-name",width:"15%"},o.a.createElement("span",{className:"word-break--word"},I)),o.a.createElement(y.a.TD,{testSection:"last-update"},o.a.createElement("span",{className:"nowrap"},w)),o.a.createElement(y.a.TD,{testSection:"recommender-id"},o.a.createElement("span",{className:"nowrap"},A)),o.a.createElement(y.a.TD,null,o.a.createElement(v.a,{key:"previewer-".concat(A),size:"small",style:"outline",width:"default",testSection:"show-recommender-previewer-".concat(A,"-btn"),onClick:function onShowRecommenderPreviewerClick(){c(u)}},"Previewer")),o.a.createElement(y.a.TD,{isNumerical:!0},function renderDropdown(){var t=[{isVisible:!E&&r,key:"archive",onClick:L,testSection:"archive-recommender-".concat(A),text:"Archive"},{isVisible:E&&r,key:"unarchive",onClick:k,testSection:"unarchive-recommender-".concat(A),text:"Unarchive"},{description:"Downloaded CSV will use UTC instead of local time.",header:"Download CSV",isDisabled:!R,isVisible:!0,onClick:x,testSection:"recommender-output-csv-btn-".concat(A),text:"Recommender Output"}];return o.a.createElement(m.a,{testSection:"recommender-dropdown-".concat(A),width:R?"200px":"300px",activator:o.a.createElement(g.a,{iconFill:"default",iconName:"ellipsis-solid",size:"small",style:"plain",testSection:"recommender-actions-dropdown-menu"}),arrowIcon:"none"},o.a.createElement(m.a.Contents,null,o.a.createElement(h.a,null,t.filter((function(t){return t.isVisible})).map((function(t){return o.a.createElement(h.a.Category,{header:t.header,key:t.testSection},o.a.createElement(h.a.Item,{onClick:t.onClick,testSection:t.testSection,isDisabled:t.isDisabled},o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement("div",{className:"flex--1"},o.a.createElement("div",null,t.text),t.isDisabled&&o.a.createElement(S.b,{testSection:t.testSection}),o.a.createElement("div",{className:"muted micro"},t.description)))))})))))}()))};C.propTypes={canManageRecommendations:l.a.bool.isRequired,handleArchiveRecommender:l.a.func.isRequired,handleEditRecommender:l.a.func.isRequired,handleShowRecommenderPreviewer:l.a.func.isRequired,handleUnarchiveRecommender:l.a.func.isRequired,recommender:l.a.instanceOf(_.default.Map).isRequired,track:l.a.func.isRequired},r.a=C},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(270),l=a(3),u=a(35),d=a(61),p=a.n(d),m=a(23),g=a(20),h=a(10),y=a(38),v=a(6),_=a(1050);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function ResultsSection(t,r){Promise.all([a.e(22),a.e(1),a.e(19)]).then(a.bind(null,3661)).then((function(t){Object.assign(ResultsSection,t)})).then(r)}function setPageTitle(t){var r=t.next,a=t.name,i=t.params;r();var o="";if(i.item_id){var c=l.default.evaluate(m.getters.byId(Number(i.item_id)));o=!!c&&c.get("name")}else if(i.experiment_id){var u=l.default.evaluate(g.getters.byId(Number(i.experiment_id)));o=!!u&&u.get("name")}v.a.setPageTitle({category:o?"":"Results",name:a,primaryName:o})}var E=[{match:"/v2/projects/:proj_id/results/:item_id",metadata:{name:"Campaign Summary",category:"Results"},handle:[[ResultsSection].concat(_toConsumableArray(v.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.PERSONALIZATION)),[v.a.parseShareToken,v.a.parseProjectId,v.a.fetchLayer]),v.a.fetchShareToken,_.a.setTrackingData,function(t,r){return ResultsSection.pages.p13n_overview.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Campaign Summary",params:t.params})},function(t){var r=Number(t.params.item_id),a=l.default.evaluateToJS(m.getters.byId(r)),i=l.default.evaluate(y.getters.shareToken),d=t.queryParams;i&&(d.share_token=i,c.actions.setNavWidth(h.default.NavWidth.HIDDEN)),m.fns.isPersonalizationLayer(a)?(p.a.trackMarketoEvent("x_results2","view","results"),v.a.renderMainRegion(o.a.createElement(ResultsSection.pages.p13n_overview.component,{previousView:d.previousView}))):v.a.determineResultsUrl(t.params.proj_id,r,d).then((function(t){u.default.redirect(t)}))}]},{match:"/v2/projects/:proj_id/results/:item_id/audiences/:audience_id",handle:[[ResultsSection].concat(_toConsumableArray(v.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.PERSONALIZATION)),[v.a.parseProjectId,v.a.fetchLayer]),function(t){var r=Number(t.params.proj_id),a=Number(t.params.item_id);v.a.determineResultsUrl(r,a).then((function(t){u.default.redirect(t)}))}]},{match:["/v2/projects/:proj_id/results/:item_id/experiments/:experiment_id","/v2/projects/:proj_id/results/experiments/:experiment_id"],metadata:{name:"Experiment Results",category:"Results"},handle:[[ResultsSection].concat(_toConsumableArray(v.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.PERSONALIZATION)),[v.a.parseShareToken,v.a.parseProjectId,v.a.fetchLayer]),v.a.fetchShareToken,_.a.setTrackingData,function(t,r){var a=l.default.evaluate(y.getters.layer),i=m.fns.isMultiArmedBandit(a);ResultsSection.pages.individual.routingSetup(t,r,i)},function(t,r){return setPageTitle({next:r,name:"Experiment Results",params:t.params})},function(t){p.a.trackMarketoEvent("x_results2","view","results");var r,a=t.queryParams,i=l.default.evaluate(y.getters.layer);r=m.fns.isMultiArmedBandit(i)?o.a.createElement(ResultsSection.pages.multiarmed_bandit.component,{previousView:a.previousView}):m.fns.isPersonalizationLayer(i)?o.a.createElement(ResultsSection.pages.p13n_single_experiment.component,{previousView:a.previousView}):o.a.createElement(ResultsSection.pages.abtest.component,{previousView:a.previousView}),v.a.renderMainRegion(r)}]},{match:["/v2/projects/:proj_id/results/:item_id/experiments/:experiment_id/sections/:section_id","/v2/projects/:proj_id/results/experiments/:experiment_id/sections/:section_id"],metadata:{name:"Section Rollup Results",category:"Results"},handle:[[ResultsSection].concat(_toConsumableArray(v.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.PERSONALIZATION)),[v.a.parseShareToken,v.a.parseProjectId,v.a.fetchLayer]),v.a.fetchShareToken,_.a.setTrackingData,function(t,r){return ResultsSection.pages.individual.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Section Rollup Results",params:t.params})},function(t){p.a.trackMarketoEvent("x_results2","view","results");var r=t.queryParams;v.a.renderMainRegion(o.a.createElement(ResultsSection.pages.mvt_rollup.component,{previousView:r.previousView}))}]}];r.a=E},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(3),l=a(10),u=a(97),d=a(128),p=a(39),m=a(6);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function PluginsSection(t,r){Promise.all([a.e(6),a.e(0),a.e(23)]).then(a.bind(null,3644)).then((function(t){Object.assign(PluginsSection,t)})).then(r)}var g=[{match:"/v2/projects/:proj_id/settings/integrations/:plugin_id",metadata:{name:"Analytics Integration Editor",category:"Project Settings"},handle:[[PluginsSection].concat(_toConsumableArray(m.a.standardNavHandlers(l.default.NavWidth.COLLAPSED,l.default.NavItems.SETTINGS)),[m.a.parseProjectId]),m.a.setActiveTab(l.default.NavItems.SETTINGS,l.default.SettingsTabs.INTEGRATIONS_TAB),function(t,r){return PluginsSection.routingSetup(t,r)},function(t,r){return PluginsSection.pages.PluginEditor.routingSetup(t,r)},function(t,r){return m.a.setPageTitle({next:r,name:"Analytics Integration Editor",category:"Project Settings"})},function(){m.a.renderMainRegion(PluginsSection.pages.PluginEditor.component,{options:{previousView:d.constants.PreviousViews.INTEGRATIONS}})}]},{match:"/v2/projects/:proj_id/settings/integrations_react/:plugin_id",handle:[[PluginsSection].concat(_toConsumableArray(m.a.standardNavHandlers(l.default.NavWidth.COLLAPSED,l.default.NavItems.SETTINGS)),[m.a.parseProjectId]),m.a.setActiveTab(l.default.NavItems.SETTINGS,l.default.SettingsTabs.INTEGRATIONS_TAB),function(t,r){return PluginsSection.routingSetup(t,r)},function(t,r){return PluginsSection.pagesReact.PluginEditorReact.routingSetup(t,r)},function(){m.a.renderMainRegion(o.a.createElement(PluginsSection.pagesReact.PluginEditorReact.component,{previousView:d.constants.PreviousViews.INTEGRATIONS}))}]},{match:"/v2/projects/:proj_id/implementation/extensions",shouldHandle:function shouldHandle(){return Promise.resolve(c.default.evaluate(p.default.canUsePlugins))},metadata:{name:"Extensions",category:"Implementation"},handle:[[PluginsSection].concat(_toConsumableArray(m.a.standardNavHandlers(l.default.NavWidth.OPEN,l.default.NavItems.PAGES)),[m.a.parseProjectId]),m.a.authenticatePlugins,m.a.setActiveTab(l.default.NavItems.PAGES,l.default.DataLayerTabs.PLUGIN_TAB),m.a.parseQueryFilters(u.default.tableIds.P13N_DATA_LAYER_PLUGINS),function(t,r){return PluginsSection.routingSetup(t,r)},function(t,r){return m.a.setPageTitle({next:r,name:"Extensions",category:"Implementation"})},function(){return m.a.renderMainRegion(o.a.createElement(PluginsSection.pages.Dashboard.component,null))}]},{match:"/v2/projects/:proj_id/extensions/:plugin_id",metadata:{name:"Extensions Visual Editor",category:"Implementation"},handle:[[PluginsSection].concat(_toConsumableArray(m.a.standardNavHandlers(l.default.NavWidth.COLLAPSED,l.default.NavItems.PAGES)),[m.a.parseProjectId]),m.a.authenticatePlugins,m.a.setActiveTab(l.default.NavItems.PAGES,l.default.DataLayerTabs.PLUGIN_TAB),function(t,r){return PluginsSection.routingSetup(t,r)},function(t,r){return PluginsSection.pages.PluginEditor.routingSetup(t,r)},function(t,r){return m.a.setPageTitle({next:r,name:"Extensions",category:"Implementation"})},function(){m.a.renderMainRegion(PluginsSection.pages.PluginEditor.component,{options:{previousView:d.constants.PreviousViews.EXTENSIONS}})}]},{match:"/v2/projects/:proj_id/extensions_react/:plugin_id",handle:[[PluginsSection].concat(_toConsumableArray(m.a.standardNavHandlers(l.default.NavWidth.COLLAPSED,l.default.NavItems.PAGES)),[m.a.parseProjectId]),m.a.authenticatePlugins,m.a.setActiveTab(l.default.NavItems.PAGES,l.default.DataLayerTabs.PLUGIN_TAB),function(t,r){return PluginsSection.routingSetup(t,r)},function(t,r){return PluginsSection.pagesReact.PluginEditorReact.routingSetup(t,r)},function(){m.a.renderMainRegion(o.a.createElement(PluginsSection.pagesReact.PluginEditorReact.component,{previousView:d.constants.PreviousViews.EXTENSIONS}))}]}];r.a=g},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(5),l=a(35),u=a(10),d=a(86),p=a(24),m=a(6);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var g="Project Settings";function ProjectSettingsSection(t,r){Promise.all([a.e(6),a.e(0),a.e(1),a.e(5),a.e(18)]).then(a.bind(null,3662)).then((function(t){Object.assign(ProjectSettingsSection,t)})).then(r)}var h=[{match:"/v2/projects/:proj_id/settings/implementation",metadata:{name:"Project Implementation Settings",category:g},handle:[[ProjectSettingsSection].concat(_toConsumableArray(m.a.standardNavHandlers(u.default.NavWidth.OPEN,u.default.NavItems.SETTINGS)),[m.a.parseProjectId,m.a.setActiveTab(u.default.NavItems.SETTINGS,u.default.SettingsTabs.IMPLEMENTATION_TAB)]),function(t,r){return ProjectSettingsSection.pages.implementation.routingSetup(t,r)},function(t,r){return m.a.setPageTitle({category:g,name:"Implementation",next:r})},function(){return m.a.renderMainRegion(o.a.createElement(ProjectSettingsSection.pages.implementation.component,null))}]},{match:"/v2/projects/:proj_id/settings/integrations",metadata:{name:"Integrations",category:g},handle:[function(t,r){d.default.getCodeLintingBundleModules().then(r)},[ProjectSettingsSection].concat(_toConsumableArray(m.a.standardNavHandlers(u.default.NavWidth.OPEN,u.default.NavItems.SETTINGS)),[m.a.parseProjectId,m.a.fetchIntegrationsTabData]),m.a.parseIntegrationFilters,function(t,r){return ProjectSettingsSection.pages.integrations.routingSetup(t,r)},m.a.setActiveTab(u.default.NavItems.SETTINGS,u.default.SettingsTabs.INTEGRATIONS_TAB),function(t,r){return m.a.setPageTitle({category:g,name:"Integrations",next:r})},function(){return m.a.renderMainRegion(o.a.createElement(ProjectSettingsSection.pages.integrations.component,null))}]},{match:"/v2/projects/:proj_id/settings/javascript",metadata:{name:"Project JavaScript",category:g},handle:[function(t,r){d.default.getCodeLintingBundleModules().then(r)},[ProjectSettingsSection].concat(_toConsumableArray(m.a.standardNavHandlers(u.default.NavWidth.OPEN,u.default.NavItems.SETTINGS)),[m.a.parseProjectId,m.a.setActiveTab(u.default.NavItems.SETTINGS,u.default.SettingsTabs.JAVASCRIPT_TAB)]),function(t,r){return m.a.setPageTitle({category:g,name:"Project JavaScript",next:r})},function(t,r){return ProjectSettingsSection.pages.javascript.routingSetup(t,r)},function(){m.a.renderMainRegion(o.a.createElement(ProjectSettingsSection.pages.javascript.component,null))}]},{match:"/v2/projects/:proj_id/settings/collaborators",metadata:{name:"Collaborator Details",category:g},handle:[[ProjectSettingsSection].concat(_toConsumableArray(m.a.standardNavHandlers(u.default.NavWidth.OPEN,u.default.NavItems.SETTINGS)),[m.a.parseProjectId,m.a.fetchCollaboratorsTabData]),m.a.parseCollaboratorFilters,m.a.setActiveTab(u.default.NavItems.SETTINGS,u.default.SettingsTabs.COLLABORATORS_TAB),function(t,r){return m.a.setPageTitle({category:g,name:"Collaborator Details",next:r})},function(){m.a.renderMainRegion(o.a.createElement(ProjectSettingsSection.pages.collaborators.component,null))}]},{match:"/v2/projects/:proj_id/settings/privacy",handle:[function(t){return l.default.redirect(p.default.projectSettingsImplementation(t.params.proj_id))}]},{match:"/v2/projects/:proj_id/settings/labs",metadata:{name:"Labs",category:g},handle:[[ProjectSettingsSection].concat(_toConsumableArray(m.a.standardNavHandlers(u.default.NavWidth.OPEN,u.default.NavItems.SETTINGS)),[m.a.parseProjectId,m.a.setActiveTab(u.default.NavItems.SETTINGS,u.default.SettingsTabs.LABS_TAB)]),function(t,r){return m.a.setPageTitle({category:g,name:"Labs",next:r})},function(){m.a.renderMainRegion(o.a.createElement(ProjectSettingsSection.pages.labs.component,null)),c.default.clearPersistentNotification("personalization-project-disabled-warning-notification")}]},{match:"/v2/projects/:proj_id/settings/advanced",metadata:{name:"Advanced Project Settings",category:g},handle:[[ProjectSettingsSection].concat(_toConsumableArray(m.a.standardNavHandlers(u.default.NavWidth.OPEN,u.default.NavItems.SETTINGS)),[m.a.parseProjectId,m.a.setActiveTab(u.default.NavItems.SETTINGS,u.default.SettingsTabs.ADVANCED_TAB)]),m.a.disallowAdvancedSettings,function(t,r){return ProjectSettingsSection.pages.advanced.routingSetup(t,r)},function(t,r){return m.a.setPageTitle({category:g,name:"Advanced",next:r})},function(){return m.a.renderMainRegion(o.a.createElement(ProjectSettingsSection.pages.advanced.component,null))}]},{match:"/v2/projects/:proj_id/settings/webhooks",metadata:{name:"Webhooks",category:g},handle:[[ProjectSettingsSection].concat(_toConsumableArray(m.a.standardNavHandlers(u.default.NavWidth.OPEN,u.default.NavItems.SETTINGS)),[m.a.parseProjectId,m.a.fetchWebhooks]),m.a.setActiveTab(u.default.NavItems.SETTINGS,u.default.SettingsTabs.WEBHOOKS_TAB),function(t,r){return m.a.setPageTitle({category:g,name:"Webhooks",next:r})},function(){m.a.renderMainRegion(o.a.createElement(ProjectSettingsSection.pages.webhooks.component,null))}]},{match:"/v2/projects/:proj_id/settings/migration",metadata:{name:"Migration",category:g},handle:[[ProjectSettingsSection].concat(_toConsumableArray(m.a.standardNavHandlers(u.default.NavWidth.OPEN,u.default.NavItems.SETTINGS)),[m.a.parseProjectId,m.a.setActiveTab(u.default.NavItems.SETTINGS,u.default.SettingsTabs.MIGRATION_TAB)]),function(t,r){return m.a.setPageTitle({category:g,name:"Migration",next:r})},function(){m.a.renderMainRegion(o.a.createElement(ProjectSettingsSection.pages.migration.component,null))}]},{match:"/v2/projects/:proj_id/settings",handle:[function(t){return l.default.redirect(p.default.projectSettingsImplementation(t.params.proj_id))}]}];r.a=h},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(31),l=a(35),u=a(10),d=a(6);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var p="Profile Settings";function ProfileSection(t,r){a.e(17).then(a.bind(null,3664)).then((function(t){Object.assign(ProfileSection,t)})).then(r)}var m=[{match:"/v2/profile",handle:[function(){return l.default.redirect("/v2/profile/preferences")}]},{match:"/v2/profile/preferences",metadata:{name:"Profile Preferences",category:p},handle:[[ProfileSection].concat(_toConsumableArray(d.a.standardNavHandlers(u.default.NavWidth.OPEN,u.default.NavItems.PROFILE)),[d.a.fetchUserInfo]),d.a.verifyCurrentUserEmailVerified,d.a.fetchAlertsTabData,function(t,r){return ProfileSection.pages.preferences.routingSetup(t,r)},d.a.setActiveTab(u.default.NavItems.PROFILE,u.default.ProfileTabs.PREFERENCES_TAB),function(t,r){return d.a.setPageTitle({name:"Profile Preferences",next:r})},function(t){return d.a.renderMainRegion(o.a.createElement(ProfileSection.pages.preferences.component,{canonicalPath:t.canonicalPath}))}]},{match:"/v2/profile/notifications",metadata:{name:"Profile Notifications",category:p},handle:[[ProfileSection].concat(_toConsumableArray(d.a.standardNavHandlers(u.default.NavWidth.OPEN,u.default.NavItems.PROFILE)),[d.a.setActiveTab(u.default.NavItems.PROFILE,u.default.ProfileTabs.NOTIFICATIONS_TAB),d.a.fetchAccessTabData]),d.a.fetchAlertsTabData,function(t,r){return ProfileSection.pages.preferences.routingSetup(t,r)},function(t,r){Object(c.isFeatureEnabled)("notification_preferences")&&r()},function(t,r){return d.a.setPageTitle({name:"Profile Notifications",next:r})},function(){return d.a.renderMainRegion(o.a.createElement(ProfileSection.pages.notifications.component,null))}]},{match:"/v2/profile/api",metadata:{name:"Profile API Access",category:p},handle:[[ProfileSection].concat(_toConsumableArray(d.a.standardNavHandlers(u.default.NavWidth.OPEN,u.default.NavItems.PROFILE)),[d.a.setActiveTab(u.default.NavItems.PROFILE,u.default.ProfileTabs.API_ACCESS_TAB),d.a.fetchAccessTabData]),function(t,r){return ProfileSection.pages.apiAccess.routingSetup(t,r)},function(t,r){return d.a.setPageTitle({name:"Profile API Access",next:r})},function(){return d.a.renderMainRegion(o.a.createElement(ProfileSection.pages.apiAccess.component,null))}]}];r.a=m},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(3),l=a(35),u=a(111),d=a(10),p=a(86),m=a(253),g=a(24),h=a(1379),y=a(113),v=a(1053),_=a(6);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var E="Manage Multivariate Test";function MultivariateTestManagerSection(t,r){Promise.all([a.e(4),a.e(0),a.e(2),a.e(3),a.e(13)]).then(a.bind(null,3665)).then((function(t){Object.assign(MultivariateTestManagerSection,t)})).then(r)}var b=function EnsureCodeLintingBundle(t,r){p.default.getCodeLintingBundleModules().then(r)};function setPageTitle(t){var r=t.next,a=t.name,i=t.params;r();var o="";if(i.experiment_id){var l=c.default.evaluate(u.default.byId(Number(i.experiment_id)));o=!!l&&l.get("name")}_.a.setPageTitle({category:o?"":E,name:a,primaryName:o})}var T=[{match:"/v2/projects/:proj_id/multivariate/:experiment_id",handle:[function(t){return l.default.redirect(g.default.mvtSectionsDashboard(t.params.proj_id,t.params.experiment_id))}]},{match:"/v2/projects/:proj_id/multivariate/:experiment_id/sections",metadata:{name:"Sections",category:E},handle:[[MultivariateTestManagerSection].concat(_toConsumableArray(_.a.standardNavHandlers(d.default.NavWidth.COLLAPSED,d.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId]),_.a.disallowCustomProjects,function(t,r){return MultivariateTestManagerSection.pages.variationsSections.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Variations",params:t.params})},function(){return _.a.renderMainRegion(o.a.createElement(MultivariateTestManagerSection.pages.variationsSections.component,null))}]},{match:"/v2/projects/:proj_id/multivariate/:experiment_id/sections/:section_id/variations/:variation_id",metadata:{name:"Variation Editor",category:E},handle:[[MultivariateTestManagerSection].concat(_toConsumableArray(_.a.standardNavHandlers(d.default.NavWidth.COLLAPSED,d.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId,b]),_.a.disallowCustomProjects,function(t,r){return MultivariateTestManagerSection.pages.variationsSections.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Variation Editor",params:t.params})},function(t){var r={variationId:Number(t.params.variation_id),experimentOrSectionId:Number(t.params.section_id)};_.a.renderEditor(o.a.createElement(MultivariateTestManagerSection.pages.variationsSections.component,{$options:r}),r.variationId,r.experimentOrSectionId)}]},{match:"/v2/projects/:proj_id/multivariate/:experiment_id/combinations",metadata:{name:"Combinations",category:E},handle:[[MultivariateTestManagerSection].concat(_toConsumableArray(_.a.standardNavHandlers(d.default.NavWidth.COLLAPSED,d.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId]),_.a.disallowCustomProjects,function(t,r){return MultivariateTestManagerSection.pages.variationsCombinations.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Combinations",params:t.params})},function(){return _.a.renderMainRegion(o.a.createElement(MultivariateTestManagerSection.pages.variationsCombinations.component,null))}]},{match:"/v2/projects/:proj_id/multivariate/:experiment_id/combinations/:variation_id",metadata:{name:"Combinations",category:E},handle:[[MultivariateTestManagerSection].concat(_toConsumableArray(_.a.standardNavHandlers(d.default.NavWidth.COLLAPSED,d.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId]),_.a.disallowCustomProjects,function(t,r){return MultivariateTestManagerSection.pages.variationsSections.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Combinations",params:t.params})},function(t){_.a.renderEditor(MultivariateTestManagerSection.pages.variationsSections.component,t.params.variation_id)}]},{match:"/v2/projects/:proj_id/multivariate/:experiment_id/integrations",metadata:{name:"Integrations",category:E},handle:[[MultivariateTestManagerSection].concat(_toConsumableArray(_.a.standardNavHandlers(d.default.NavWidth.COLLAPSED,d.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId]),_.a.disallowCustomProjects,_.a.fetchIntegrationsTabData,function(t,r){return MultivariateTestManagerSection.pages.integrations.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Integrations",params:t.params})},function(){return _.a.renderMainRegion(o.a.createElement(MultivariateTestManagerSection.pages.integrations.component,null))}]},{match:"/v2/projects/:proj_id/multivariate/:experiment_id/metrics",metadata:{name:"Metrics",category:E},handle:[[MultivariateTestManagerSection].concat(_toConsumableArray(_.a.standardNavHandlers(d.default.NavWidth.COLLAPSED,d.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId]),_.a.disallowCustomProjects,function(t,r){return MultivariateTestManagerSection.pages.metrics.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Metrics",params:t.params})},function(){return _.a.renderMainRegion(o.a.createElement(MultivariateTestManagerSection.pages.metrics.component,null))}]},{match:"/v2/projects/:proj_id/multivariate/:experiment_id/pages",metadata:{name:"Targeting",category:E},handle:[[MultivariateTestManagerSection].concat(_toConsumableArray(_.a.standardNavHandlers(d.default.NavWidth.COLLAPSED,d.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId,b]),_.a.disallowCustomProjects,function(t,r){return MultivariateTestManagerSection.pages.metrics.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Targeting",params:t.params})},function(){return _.a.renderMainRegion(o.a.createElement(MultivariateTestManagerSection.pages.pages.component,null))}]},{match:"/v2/projects/:proj_id/multivariate/:experiment_id/audiences",metadata:{name:"Audiences",category:E},handle:[[MultivariateTestManagerSection].concat(_toConsumableArray(_.a.standardNavHandlers(d.default.NavWidth.COLLAPSED,d.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId]),_.a.disallowCustomProjects,function(t,r){return MultivariateTestManagerSection.pages.audiences.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Audiences",params:t.params})},function(){return _.a.renderMainRegion(o.a.createElement(MultivariateTestManagerSection.pages.audiences.component,null))}]},{match:"/v2/projects/:proj_id/multivariate/:experiment_id/traffic_allocation",metadata:{name:"Traffic Allocation",category:E},handle:[[MultivariateTestManagerSection].concat(_toConsumableArray(_.a.standardNavHandlers(d.default.NavWidth.COLLAPSED,d.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId]),_.a.disallowCustomProjects,function(t,r){return MultivariateTestManagerSection.pages.trafficAllocation.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Traffic Allocation",params:t.params})},function(){return _.a.renderMainRegion(o.a.createElement(MultivariateTestManagerSection.pages.trafficAllocation.component,null))}]},{match:"/v2/projects/:proj_id/multivariate/:experiment_id/schedule",metadata:{name:"Schedule",category:E},handle:[[MultivariateTestManagerSection].concat(_toConsumableArray(_.a.standardNavHandlers(d.default.NavWidth.COLLAPSED,d.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId]),_.a.disallowCustomProjects,function(t,r){return MultivariateTestManagerSection.pages.schedule.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Schedule",params:t.params})},function(){return _.a.renderMainRegion(o.a.createElement(MultivariateTestManagerSection.pages.schedule.component,null))}]},{match:"/v2/projects/:proj_id/multivariate/:experiment_id/api_names",metadata:{name:"API Names",category:E},handle:[[MultivariateTestManagerSection].concat(_toConsumableArray(_.a.standardNavHandlers(d.default.NavWidth.COLLAPSED,d.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId]),_.a.disallowCustomProjects,function(t,r){return MultivariateTestManagerSection.pages.apiNames.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"API Names",params:t.params})},function(){return _.a.renderMainRegion(o.a.createElement(MultivariateTestManagerSection.pages.apiNames.component,null))}]},{match:"/v2/projects/:proj_id/multivariate/:experiment_id/settings",metadata:{name:"Settings",category:E},handle:[[MultivariateTestManagerSection].concat(_toConsumableArray(_.a.standardNavHandlers(d.default.NavWidth.COLLAPSED,d.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId]),_.a.disallowCustomProjects,function(t,r){return MultivariateTestManagerSection.pages.settings.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Settings",params:t.params})},function(){return _.a.renderMainRegion(o.a.createElement(MultivariateTestManagerSection.pages.settings.component,null))}]},{match:"/v2/projects/:proj_id/multivariate/:experiment_id/custom_code",metadata:{name:"Shared Code",category:E},handle:[[MultivariateTestManagerSection].concat(_toConsumableArray(_.a.standardNavHandlers(d.default.NavWidth.COLLAPSED,d.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId,b]),_.a.disallowCustomProjects,function(t,r){return MultivariateTestManagerSection.pages.customCode.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Shared Code",params:t.params})},function(){return _.a.renderMainRegion(o.a.createElement(MultivariateTestManagerSection.pages.customCode.component,null))}]},{match:"/v2/projects/:proj_id/multivariate/:experiment_id/history",metadata:{name:"History",category:E},handle:[[MultivariateTestManagerSection].concat(_toConsumableArray(_.a.standardNavHandlers(d.default.NavWidth.COLLAPSED,d.default.NavItems.PERSONALIZATION)),[_.a.parseProjectId]),_.a.disallowCustomProjects,function(t,r){var a=t.params;return v.a.fetchLayerExperimentIfValidAndSetLayerIdAsCurrent(a.experiment_id,r)},v.a.fetchRequiredDataForWebMvtManagerChangeHistory,function(t,r){return setPageTitle({next:r,name:"History",params:t.params})},function(t){var r=t.fetchedData,a=Object(y.d)(h.a);_.a.renderMainRegion(o.a.createElement(a,{fetchedEntities:r,sidebarProps:{activeTab:m.b.Tabs.HISTORY}}))}]}];r.a=T},function(t,r,a){"use strict";var i=a(2),o=a(1),c=a.n(o),l=a(0),u=a.n(l),d=a(244),p=a(20),m=a(367),g=a(134),h=a(98),y=a(19),v=a(131),_=a(2629);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=d.b.REQUIRED_TOTAL_VARIATION_PERCENTAGE_PER_SECTION,b=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(CreateSection,t);var r=_createSuper(CreateSection);function CreateSection(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,CreateSection),(a=r.call(this,t)).onCancelClick=a.onCancelClick.bind(_assertThisInitialized(a)),a.onCreateSectionClick=a.onCreateSectionClick.bind(_assertThisInitialized(a)),a.onFormUpdate=a.onFormUpdate.bind(_assertThisInitialized(a)),a.onRenameSection=a.onRenameSection.bind(_assertThisInitialized(a)),a.onChangeVariation=a.onChangeVariation.bind(_assertThisInitialized(a)),a.onRemoveVariation=a.onRemoveVariation.bind(_assertThisInitialized(a)),a.onAddVariation=a.onAddVariation.bind(_assertThisInitialized(a)),a.state={form:m.b.constants.CREATE_SECTION_FORM_INITIAL_STATE,errors:Object(i.toImmutable)({})},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(CreateSection,[{key:"canSave",value:function canSave(){return!this.state.isSaving&&this.state.errors.isEmpty()&&this.getTotalPercentage()===E&&!this.hasNegativePercentage()}},{key:"onRenameSection",value:function onRenameSection(t){this.onFormUpdate("name",t)}},{key:"onChangeVariation",value:function onChangeVariation(t,r,a){var i=this.state.form.get("variations");"percentage"===r&&(r="weight",a=100*Number(a)),i=i.setIn([t,r],a),this.onFormUpdate("variations",i)}},{key:"onRemoveVariation",value:function onRemoveVariation(t){var r=this.state.form.get("variations");r=r.delete(t),r=p.fns.redistributeWithNewVariationTrafficImmutable(r),this.onFormUpdate("variations",r)}},{key:"onAddVariation",value:function onAddVariation(){var t=this.state.form.get("variations"),r=Object(i.toImmutable)({name:p.fns.suggestedNewVariationName(t),weight:"",actions:[]});t=t.push(r),t=p.fns.redistributeWithNewVariationTrafficImmutable(t),this.onFormUpdate("variations",t)}},{key:"onFormUpdate",value:function onFormUpdate(t,r){var a=Object(i.toImmutable)({}).set(t,r);this.setState((function(t){var r=t.form.merge(a);return{form:r,errors:d.c.validateSection(r)}}))}},{key:"onCancelClick",value:function onCancelClick(){this.props.onCancelClick()}},{key:"onCreateSectionClick",value:function onCreateSectionClick(){var t=this,r=d.c.validateSection(this.state.form);if(r.isEmpty()){this.setState({isSaving:!0});var a=this.props,i=a.currentLayer,o=a.destinationLayerExperimentId,c=this.state.form.get("variations"),l={name:this.state.form.get("name"),layer_experiment_id:o,variations:c.toJS()};return m.b.actions.createNewSections([l],i).then((function(){t.onCancelClick(),t.setState({isSaving:!1})}))}this.setState({errors:r})}},{key:"getTotalPercentage",value:function getTotalPercentage(){return d.c.getTotalPercentageForSection(this.state.form)}},{key:"hasNegativePercentage",value:function hasNegativePercentage(){var t=this.state.form.get("variations");return m.b.fns.hasNegativePercentage(t)}},{key:"render",value:function render(){return u.a.createElement(v.d,null,u.a.createElement(v.c,null,"Create Section"),u.a.createElement("div",null,u.a.createElement(_.a,{form:this.state.form,errors:this.state.errors,onRenameSection:this.onRenameSection,onChangeVariation:this.onChangeVariation,onRemoveVariation:this.onRemoveVariation,onAddVariation:this.onAddVariation})),u.a.createElement("div",null,(this.getTotalPercentage()!==E||this.hasNegativePercentage())&&u.a.createElement(g.a,{alignment:"left",type:"bad-news"},this.getTotalPercentage()!==E&&u.a.createElement("div",{"data-test-section":"create-section-error-not-100"},"The traffic distribution total must equal"," ",E,"%. Current total is"," ",this.getTotalPercentage(),"%."),this.hasNegativePercentage()&&u.a.createElement("div",{"data-test-section":"create-section-error-negative-value"},"Traffic distribution values cannot be negative."))),u.a.createElement(v.b,null,u.a.createElement("div",{className:"flex flex-align--center"},u.a.createElement("div",{className:"oui-sheet__required-indicator cursor--default color--red"},u.a.createElement("span",null,"* Required field")),u.a.createElement("div",{className:"flex--1"},u.a.createElement(h.a,{rightGroup:[u.a.createElement(y.a,{onClick:this.onCancelClick,testSection:"create-section-form-cancel",key:"cancel"},"Cancel"),u.a.createElement(y.a,{isDisabled:!this.canSave(),style:"highlight",onClick:this.onCreateSectionClick,testSection:"create-section-form-create",key:"create"},"Create Section")]})))))}}]),CreateSection}(u.a.Component);b.propTypes={onCancelClick:c.a.func.isRequired,currentLayer:c.a.instanceOf(i.default.Map).isRequired,destinationLayerExperimentId:c.a.number.isRequired},r.a=b},function(t,r,a){"use strict";var i=a(2),o=a(1),c=a.n(o),l=a(0),u=a.n(l),d=a(4),p=a.n(d),m=a(52),g=a(11),h=a(131);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=a(291).a.REQUIRED_TOTAL_VARIATION_PERCENTAGE_PER_SECTION,v=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(CreateSectionFormInputs,t);var r=_createSuper(CreateSectionFormInputs);function CreateSectionFormInputs(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,CreateSectionFormInputs),(a=r.call(this,t)).onRenameSection=a.onRenameSection.bind(_assertThisInitialized(a)),a.onChangeVariation=a.onChangeVariation.bind(_assertThisInitialized(a)),a.onRemoveVariation=a.onRemoveVariation.bind(_assertThisInitialized(a)),a.onAddVariation=a.onAddVariation.bind(_assertThisInitialized(a)),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(CreateSectionFormInputs,[{key:"onRenameSection",value:function onRenameSection(t){var r=t.target.value;this.props.onRenameSection(r)}},{key:"onChangeVariation",value:function onChangeVariation(t,r,a){var i=a.target.value;this.props.onChangeVariation(t,r,i)}},{key:"onRemoveVariation",value:function onRemoveVariation(t){this.props.onRemoveVariation(t)}},{key:"onAddVariation",value:function onAddVariation(){this.props.onAddVariation()}},{key:"render",value:function render(){var t=this,r=this.props,a=r.form,i=r.errors;return u.a.createElement("div",null,u.a.createElement(h.a,{key:"name"},u.a.createElement("h3",null,"Section Name",u.a.createElement("span",{className:"oui-label display--inline oui-label--required"})),u.a.createElement("p",null,'Choose a name that reflects what you\'re testing, like "Headline Text."'),u.a.createElement(m.a,{testSection:"create-section-section-name",isRequired:!0,onInput:this.onRenameSection,placeholder:"New Section"}),i.get("name")&&u.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"create-section-section-name-error"},i.get("name"))),u.a.createElement(h.a,{key:"variations"},u.a.createElement("h3",null,"Variations"),u.a.createElement("p",null,"Change the percentage of experiment visitors who see any given variation."),u.a.createElement(g.a,{tableLayoutAlgorithm:"fixed"},u.a.createElement(g.a.THead,null,u.a.createElement(g.a.TR,null,u.a.createElement(g.a.TH,{width:"70%"},"Variation Name",u.a.createElement("span",{className:"oui-label display--inline oui-label--required"})),u.a.createElement(g.a.TH,{width:"30%"},"Traffic Allocation"))),u.a.createElement(g.a.TBody,null,a.get("variations").map((function(r,i){var o=r.get("weight")/y,c=a.get("variations").size;return u.a.createElement(g.a.TR,{testSection:"create-section-variation-row",key:i},u.a.createElement(g.a.TD,null,u.a.createElement(m.a,{testSection:"create-section-variation-name",isRequired:!0,type:"text",value:r.get("name"),onChange:p.a.partial(t.onChangeVariation,i,"name")})),u.a.createElement(g.a.TD,null,u.a.createElement("span",{className:"display--inline-block width--75"},u.a.createElement(m.a,{testSection:"create-section-variation-percentage",isRequired:!0,type:"number",max:y,min:0,value:Number(o),onChange:p.a.partial(t.onChangeVariation,i,"percentage")}))," ","%",1!==c&&u.a.createElement("a",{className:"push--left",onClick:p.a.partial(t.onRemoveVariation,i),"data-test-section":"create-section-delete-variation"},"Delete")))})),i.get("variations")&&u.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"create-section-variations-error"},i.get("variations")),u.a.createElement(g.a.TR,null,u.a.createElement(g.a.TD,{colSpan:2},u.a.createElement("a",{"data-test-section":"create-section-add-variation",onClick:p.a.partial(this.onAddVariation)},"Add Variation...")))))))}}]),CreateSectionFormInputs}(u.a.Component);v.propTypes={form:c.a.instanceOf(i.default.Map).isRequired,errors:c.a.instanceOf(i.default.Map).isRequired,onRenameSection:c.a.func.isRequired,onChangeVariation:c.a.func.isRequired,onRemoveVariation:c.a.func.isRequired,onAddVariation:c.a.func.isRequired},r.a=v},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(31),l=a(3),u=a(35),d=a(24),p=a(14),m=a(447),g=a(39),h=a(10),y=a(113),v=a(1063),_=a(6),E=a(445),b=a(1395);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function FeatureManagerSection(t,r){a.e(11).then(a.bind(null,3666)).then((function(t){Object.assign(FeatureManagerSection,t)})).then(r)}var T=function shouldHandleFullstackFeatures(){return Promise.resolve(l.default.evaluate(p.getters.isFullStackProject)&&l.default.evaluate(g.default.canCurrentProjectUseTargetedRollouts))};function setPageTitle(t){var r=t.next,a=t.name,i=t.params;r();var o="";if(i.feature_id){var u=l.default.evaluate(m.a.byId(Number(i.feature_id)));o=Object(c.isFeatureEnabled)("user_friendly_names")?!!u&&(u.get("name")||u.get("api_name")):!!u&&u.get("api_name")}_.a.setPageTitle({name:a,primaryName:o})}var S=[{match:"/v2/projects/:proj_id/features/:feature_id",shouldHandle:function shouldHandle(){return l.default.evaluate(g.default.canCurrentProjectUseTargetedRollouts)?Promise.resolve():Promise.reject()},handle:[function(t){Number.isNaN(Number(t.params.feature_id))?u.default.redirect(d.default.featuresHome(t.params.proj_id)):u.default.redirect(d.default.featureManagerRules(t.params.proj_id,t.params.feature_id))}]},{match:"/v2/projects/:proj_id/features/:feature_id/rules",shouldHandle:T,handle:[[].concat(_toConsumableArray(_.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.FEATURES)),[FeatureManagerSection,_.a.parseProjectId]),function(t,r){return FeatureManagerSection.pages.rules.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Rules",params:t.params})},function(t){var r=t.params;_.a.renderMainRegion(o.a.createElement(FeatureManagerSection.pages.rules.pageComponent,{featureId:Number(r.feature_id)}))}]},{match:"/v2/projects/:proj_id/features/:feature_id/variables",shouldHandle:T,handle:[[].concat(_toConsumableArray(_.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.FEATURES)),[FeatureManagerSection,_.a.loadingMainStart,_.a.parseProjectId]),function(t,r){return FeatureManagerSection.pages.variables.routingSetup(t,r)},function(t){var r=t.params;_.a.renderMainRegion(o.a.createElement(FeatureManagerSection.pages.variables.pageComponent,{featureId:Number(r.feature_id)}))}]},{match:"/v2/projects/:proj_id/features/:feature_id/sdk-setup",shouldHandle:T,handle:[[].concat(_toConsumableArray(_.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.FEATURES)),[FeatureManagerSection,_.a.parseProjectId]),function(t,r){return FeatureManagerSection.pages.sdkSetup.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"SDK Setup",params:t.params})},function(t){var r=t.params;_.a.renderMainRegion(o.a.createElement(FeatureManagerSection.pages.sdkSetup.pageComponent,{featureId:Number(r.feature_id)}))}]},{match:"/v2/projects/:proj_id/features/:feature_id/experiment-usage",shouldHandle:T,handle:[[].concat(_toConsumableArray(_.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.FEATURES)),[FeatureManagerSection,_.a.parseProjectId]),function(t,r){return FeatureManagerSection.pages.experimentUsage.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Experiment Usage",params:t.params})},function(t){var r=t.params;_.a.renderMainRegion(o.a.createElement(FeatureManagerSection.pages.experimentUsage.pageComponent,{featureId:Number(r.feature_id)}))}]},{match:"/v2/projects/:proj_id/features/:feature_id/history",shouldHandle:T,handle:[[].concat(_toConsumableArray(_.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.FEATURES)),[FeatureManagerSection,_.a.parseProjectId]),function(t,r){var a=parseInt(t.params.feature_id,10);Object(v.b)(a).then(r)},function(t,r){return Object(v.c)(t,r)},function(t,r){return setPageTitle({next:r,name:"History",params:t.params})},function(t){var r=t.fetchedData,a=t.params,i=parseInt(a.feature_id,10),c=Object(y.d)(b.a);_.a.renderMainRegion(o.a.createElement(c,{fetchedEntities:r,sidebarProps:{activeTab:E.a.tabs.HISTORY,featureId:i}}))}]},{match:"/v2/projects/:proj_id/features/:feature_id/settings",shouldHandle:T,handle:[[].concat(_toConsumableArray(_.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.FEATURES)),[FeatureManagerSection,_.a.parseProjectId]),function(t,r){return FeatureManagerSection.pages.settings.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Settings",params:t.params})},function(t){var r=t.params;_.a.renderMainRegion(o.a.createElement(FeatureManagerSection.pages.settings.pageComponent,{featureId:Number(r.feature_id)}))}]}];r.a=S},,function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(3),d=a(35),p=a(86),m=a(14),g=a(111),h=a(10),y=a(6),v=a(24),_=a(113),E=a(1055),b=a(1387);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var T=function EnsureOasisBundle(t,r){p.default.getOasisBundleModules().then((function(t){i=t.ManagerFullstackSection,o=t.ManagerFullstackModule})).then(r)},S=function shouldHandleFullstack(){return Promise.resolve(u.default.evaluate(m.getters.isFullStackProject))};function setPageTitle(t){var r=t.next,a=t.name,i=t.params;r();var o="";if(i.experiment_id){var c=u.default.evaluate(g.default.byId(Number(i.experiment_id)));o=!!c&&c.get("name")}y.a.setPageTitle({name:a,primaryName:o})}var C=[{match:"/v2/projects/:proj_id/experiments/:experiment_id",shouldHandle:S,handle:[function(t){return d.default.redirect(v.default.fullStackManagerVariations(t.params.proj_id,t.params.experiment_id))}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/variations",shouldHandle:S,handle:[[].concat(_toConsumableArray(y.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.OASIS)),[y.a.parseProjectId,T]),function(t,r){return i.pages.variations.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Variations",params:t.params})},function(){o.actions.setCurrentlyEditingExperimentTab(o.constants.Tabs.VARIATIONS),y.a.renderMainRegion(l.a.createElement(i.pages.variations.component,null))}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/audiences",shouldHandle:S,handle:[[].concat(_toConsumableArray(y.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.OASIS)),[y.a.parseProjectId,T]),function(t,r){return i.pages.audiences.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Audiences",params:t.params})},function(){o.actions.setCurrentlyEditingExperimentTab(o.constants.Tabs.AUDIENCES),y.a.renderMainRegion(l.a.createElement(i.pages.audiences.component,null))}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/metrics",shouldHandle:S,handle:[[].concat(_toConsumableArray(y.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.OASIS)),[y.a.parseProjectId,T]),function(t,r){return i.pages.metrics.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Metrics",params:t.params})},function(){o.actions.setCurrentlyEditingExperimentTab(o.constants.Tabs.METRICS),y.a.renderMainRegion(l.a.createElement(i.pages.metrics.component,null))}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/traffic_allocation",shouldHandle:S,handle:[[].concat(_toConsumableArray(y.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.OASIS)),[y.a.parseProjectId,T]),function(t,r){return i.pages.trafficAllocation.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Traffic Allocation",params:t.params})},function(){o.actions.setCurrentlyEditingExperimentTab(o.constants.Tabs.TRAFFIC_ALLOCATION),y.a.renderMainRegion(l.a.createElement(i.pages.trafficAllocation.component,null))}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/whitelist",handle:[[].concat(_toConsumableArray(y.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.OASIS)),[y.a.parseProjectId,T]),function(t,r){return i.pages.whitelist.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Whitelist",params:t.params})},function(){o.actions.setCurrentlyEditingExperimentTab(o.constants.Tabs.WHITELIST),y.a.renderMainRegion(l.a.createElement(i.pages.whitelist.component,null))}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/api_names",shouldHandle:S,handle:[[].concat(_toConsumableArray(y.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.OASIS)),[y.a.parseProjectId,T]),function(t,r){return i.pages.apiNames.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"API Names",params:t.params})},function(){o.actions.setCurrentlyEditingExperimentTab(o.constants.Tabs.API_NAMES),y.a.renderMainRegion(l.a.createElement(i.pages.apiNames.component,null))}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/history",shouldHandle:S,handle:[[].concat(_toConsumableArray(y.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.OASIS)),[y.a.parseProjectId,T]),function(t,r){var a=parseInt(t.params.experiment_id,10);Object(E.b)(a).then(r)},function(t,r){return Object(E.c)(t,r)},function(t,r){return setPageTitle({next:r,name:"History",params:t.params})},function(t){var r=t.fetchedData;o.actions.setCurrentlyEditingExperimentTab(o.constants.Tabs.HISTORY);var a=Object(_.d)(b.a);y.a.renderMainRegion(l.a.createElement(a,{fetchedEntities:r}))}]},{match:"/v2/projects/:proj_id/experiments/:experiment_id/settings",shouldHandle:S,handle:[[].concat(_toConsumableArray(y.a.standardNavHandlers(h.default.NavWidth.COLLAPSED,h.default.NavItems.OASIS)),[y.a.parseProjectId,T]),function(t,r){return i.pages.settings.routingSetup(t,r)},function(t,r){return setPageTitle({next:r,name:"Settings",params:t.params})},function(){o.actions.setCurrentlyEditingExperimentTab(o.constants.Tabs.SETTINGS),y.a.renderMainRegion(l.a.createElement(i.pages.settings.component,null))}]}];r.a=C},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(134),m=a(40),g=a(19),h=a(31),y=a(2),v=a(5),_=a(63),E=a(54),b=a(2122),T=a(2123),S=a(555),C=a(243);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I=Object(_.a)({mapPropsToFormData:function mapPropsToFormData(t){var r=t.experiment,a={description:r.get("description"),feature_flag_id:r.get("feature_flag_id"),id:r.get("id"),key:r.get("key"),layer_policy:r.get("layer_policy"),variations:r.get("variations")};return Object(h.isFeatureEnabled)("user_friendly_names")&&(a.name=r.get("name")),Object(y.toImmutable)(a)},debounceTimeout:0})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(CreateExperimentDialog,t);var r=_createSuper(CreateExperimentDialog);function CreateExperimentDialog(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,CreateExperimentDialog),(a=r.call(this,t)).onCancelClick=function(){(0,a.props.onCancel)()},a.canSave=function(){var t=a.props,r=t.canUseFeatureManagement,i=t.canCreateLayerExperiment,o=t.form,c=t.experimentType,l=a.state.isSaving,u=c===C.constants.ExperimentType.FEATURE_TEST;return(r&&u||i)&&o.isFormDirty()&&o.isFormValid()&&!l},a.onCreateClick=function(t){t.preventDefault();var r=a.props,i=r.experiment,o=r.form,c=r.onSave;a.setState({isSaving:!0});var l={description:o.field("description").getValue(),feature_flag_id:o.field("feature_flag_id").getValue(),id:o.field("id").getValue(),key:o.field("key").getValue(),layer_policy:o.field("layer_policy").getValue(),variations:o.field("variations").getValue()};Object(h.isFeatureEnabled)("user_friendly_names")&&(l.name=o.field("name").getValue());var u=i.merge(l);o.validate().then((function(){return c(u.toJS())})).catch((function(){v.default.showNotification({message:"Please provide valid experiment details",type:"error"})})).finally((function(){a.setState({isSaving:!1})}))},a.getExperimentLabel=function(){var t=a.props.experimentType;return C.fns.getExperimentTypeToLabel(t)},a.renderRolloutsLimitNotification=function(){var t=a.props.runningExperimentLimit,r=S.a.getUpgradeLink();return l.a.createElement(p.a,{alignment:"left",type:"brand",testSection:"running-experiment-limit-notification"},"You can create unlimited feature tests, but only run"," ",t>1?l.a.createElement("span",{"data-test-section":"running-experiment-limit-number"},"".concat(t)):l.a.createElement("span",{"data-test-section":"running-experiment-limit-number"},"one")," ","at a time."," ",l.a.createElement(m.a,{newWindow:!0,href:r},"Upgrade to Optimizely Full Stack")," ","to run unlimited feature tests.")},a.renderFeatureSelector=function(){var t=a.props,r=t.currentProjectExperiments,i=t.currentProjectFeatures,o=t.environmentsAuthorizedAndSupported,c=t.experimentType,u=t.form;if(c!==C.constants.ExperimentType.AB_TEST&&c!==C.constants.ExperimentType.MULTIARMED_BANDIT)return l.a.createElement("div",{className:"push-quad--bottom soft-double--top"},l.a.createElement(T.a,{currentProjectExperiments:r,currentProjectFeatures:i,environmentsAuthorizedAndSupported:o,form:u}))},a.state={isSaving:!1},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(CreateExperimentDialog,[{key:"render",value:function render(){var t=this.props,r=t.currentProjectExperiments,a=t.experimentType,i=t.form,o=t.isRolloutsProject,c=t.isLoadingFeatures,u=this.state.isSaving;return l.a.createElement("div",{className:"reading-column","data-test-section":"create-experiment-dialog"},l.a.createElement(E.default,{isLoading:u||c},l.a.createElement("div",{className:"beta push-double--bottom","data-test-section":"create-experiment-label"},"New ".concat(this.getExperimentLabel())),o&&this.renderRolloutsLimitNotification(),this.renderFeatureSelector(),a===C.constants.ExperimentType.MULTIARMED_BANDIT&&l.a.createElement("div",{className:"push-double--bottom width--1-1"},l.a.createElement(p.a,{alignment:"left",type:"brand"},"This type of optimization will not include statistical significance calculations.")),l.a.createElement("div",{className:"push-quad--bottom"},l.a.createElement(b.a,{currentProjectExperiments:r,experimentType:a,form:i,handleOnSubmit:this.onCreateClick,updateExperimentProperty:function updateExperimentProperty(t,r){return i.field(t).setValue(r)}})),l.a.createElement("div",{className:"lego-form__footer lego-button-row lego-button-row--right push-quad--bottom"},l.a.createElement("div",{className:"flex flex-align--center"},l.a.createElement("div",{className:"oui-sheet__required-indicator cursor--default color--red"},l.a.createElement("span",null,"* Required field")),l.a.createElement("div",{className:"flex--1"},l.a.createElement(g.a,{onClick:this.onCancelClick,testSection:"cancel-button"},"Cancel"),l.a.createElement(g.a,{isDisabled:!this.canSave(),onClick:this.onCreateClick,style:"highlight",testSection:"create-experiment-button"},"Create ".concat(this.getExperimentLabel())))))))}}]),CreateExperimentDialog}(l.a.Component)).propTypes={canCreateLayerExperiment:d.a.bool,canUseFeatureManagement:d.a.bool,currentProjectExperiments:d.a.instanceOf(y.default.List).isRequired,currentProjectFeatures:d.a.instanceOf(y.default.List),environmentsAuthorizedAndSupported:d.a.bool.isRequired,experiment:d.a.instanceOf(y.default.Map).isRequired,experimentType:d.a.oneOf(Object.values(C.constants.ExperimentType)).isRequired,isRolloutsProject:d.a.bool,isLoadingFeatures:d.a.bool,form:_.c.isRequired,onCancel:d.a.func.isRequired,onSave:d.a.func.isRequired,runningExperimentLimit:d.a.number.isRequired},o.defaultProps={canUseMultiArmedBandits:!1,isRolloutsProject:!1,isLoadingFeatures:!1},i=o))||i;r.a=I},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(62),d=a(52),p=a(218),m=a(2),g=a(99),h=a.n(g),y=a(319),v=a(221);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var _=function ExperimentDetails(t){var r=_slicedToArray(Object(u.useFeature)("user_friendly_names"),1)[0],a=v.a.ExperimentTypeToEntityName[t.experimentType],i=function handleNameInputChange(r){var a=t.experiment,i=t.updateExperimentProperty,o=!a.get("id"),c=a.get("name"),l=a.get("key"),u=r.target.value;i("name",u),!o||l&&l!==Object(y.a)((c||"").toLowerCase())||i("key",Object(y.a)((u||"").toLowerCase()))};return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:t.handleOnSubmit},l.a.createElement("fieldset",null,l.a.createElement("ol",{className:"lego-form-fields"},l.a.createElement(u.OptimizelyFeature,{feature:"user_friendly_names"},(function(r){return r?l.a.createElement("li",{className:"push-quad--bottom lego-form-field__item"},l.a.createElement(d.a,{type:"text",label:"".concat(h()(a)," Name"),placeholder:"Add a name for your ".concat(a,"."),isRequired:!0,testSection:"custom-experiment-name",value:t.experiment.get("name"),onChange:i}),function renderNameErrorBlock(){if(t.showEmptyNameError)return l.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"custom-experiment-name-invalid-error"},"Please enter a name.")}()):null})),l.a.createElement("li",{className:"push-quad--bottom lego-form-field__item"},l.a.createElement(d.a,{type:"text",label:"".concat(h()(a)," Key"),placeholder:"Use this to uniquely identify the ".concat(a,"."),isRequired:!0,testSection:"custom-experiment-key",value:t.experiment.get("key"),onChange:function handleKeyInputChange(a){(0,t.updateExperimentProperty)("key",r?Object(y.a)(a.target.value):a.target.value)}}),function renderKeyErrorBlock(){return t.showEmptyKeyError||t.showInvalidKeyError?l.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"custom-experiment-key-invalid-error"},"Please enter a valid key. Valid keys contain alphanumeric characters, hyphens, and underscores, and are limited to 64 characters."):t.showUniqueKeyError?l.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"custom-experiment-key-blank-error"},r?"This key is already in use. Keys must be unique.":"Key is already in use by another feature in this project. Please choose a unique key."):void 0}()),l.a.createElement("li",{className:"lego-form-fields__item"},l.a.createElement(p.a,{label:"Description",placeholder:"What is your ".concat(a,"? State your hypothesis and notes here."),testSection:"custom-experiment-description",value:t.experiment.get("description"),onChange:function handleDescriptionInputChange(r){(0,t.updateExperimentProperty)("description",r.target.value)}}))))))};_.propTypes={experiment:o.a.instanceOf(m.default.Map).isRequired,experimentType:o.a.string,handleOnSubmit:o.a.func,showEmptyKeyError:o.a.bool,showEmptyNameError:o.a.bool,showInvalidKeyError:o.a.bool,showUniqueKeyError:o.a.bool,updateExperimentProperty:o.a.func.isRequired},r.a=_},function(t,r,a){"use strict";var i=a(4),o=a(1),c=a.n(o),l=a(0),u=a.n(l),d=a(79),p=a(5),m=a(13),g=a(2),h=a(1019),y=function FeatureSelector(t){var r=t.experiment,a=t.features,o=t.handleFeatureSelected,c=t.handleFeatureUnselected,l=t.showFeatureValidationError,p=t.showNoFeatureSelectedError,m=r.get("feature_flag_id"),g=a.filter((function(t){return!t.get("archived")||Object(i.isNumber)(m)&&t.get("id")===m}));return u.a.createElement("div",{"data-test-section":"feature-experiment-dialog-feature-flag-selector"},u.a.createElement(d.a,{isRequired:!0},"Feature"),u.a.createElement(h.a,{features:g,onSelectFeature:function onHandleSelectFeature(t){r.get("feature_flag_id")!==t.get("id")&&o(t)},onUnselectFeature:function onHandleUnselectFeature(){c()},selectedFeatureId:r.get("feature_flag_id")}),l&&u.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"feature-selector-invalid-error"},"Feature is already in use by another running experiment in this project."),p&&u.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"no-feature-selected-error"},"Must select a feature for this experiment."),u.a.createElement("span",{className:"lego-form-note push--top"},"By selecting a feature, this experiment will be activated when the feature is accessed in the SDK."))};y.propTypes={experiment:c.a.instanceOf(g.default.Map),features:c.a.instanceOf(g.default.List).isRequired,handleFeatureSelected:c.a.func.isRequired,handleFeatureUnselected:c.a.func.isRequired,showFeatureValidationError:c.a.bool,showNoFeatureSelectedError:c.a.bool},r.a=p.default.connectGetters(y,{features:m.default.features})},function(t,r,a){"use strict";a.d(r,"a",(function(){return i}));var i=a(2637).a},function(t,r,a){"use strict";var i,o,c=a(4),l=a(2),u=a(1),d=a.n(u),p=a(0),m=a.n(p),g=a(72),h=a.n(g),y=a(5),v=a(245),_=a(141),E=a(317),b=a(217),T=a(517),S=a(283),C=a(112),I=a(435),A=a(98),O=a(19),P=a(131),R=a(876),w=a(405),N=a(1393),L=a(54),x=a(63),D=a(2640),k=a(2128),j=a(2660);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var M=Object(x.a)({mapPropsToFormData:function mapPropsToFormData(t){var r=t.experiment;return Object(l.toImmutable)({audience_conditions_json:r.get("audience_conditions_json"),selectedGroup:r.get("group_id",C.b.NONE_GROUP_ID),percentageIncluded:r.get("percentage_included",0)})},debounceTimeout:300})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(FeatureExperimentDialog,t);var r=_createSuper(FeatureExperimentDialog);function FeatureExperimentDialog(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,FeatureExperimentDialog),(a=r.call(this,t)).allVariationKeysValid=function(){return a.state.experiment.get("variations").every((function(t){return b.a.ensureVariationKeyValid(t.get("api_name"))}))},a.canDeleteVariation=function(){return!a.props.isExperimentLive},a.canSave=function(){var t=a.state.isSaving,r=a.props,i=r.canCreateLayerExperiment,o=r.canUpdateLayerExperiment,c=r.isEditing;return!(t||c&&!o||!c&&!i)&&a.getValidations().every((function(t){return t}))},a.getValidations=function(){return[!!a.state.experiment.get("feature_flag_id"),!b.a.hasNegativeVariationValues(a.state.experiment.get("variations")),!a.props.form.field("percentageIncluded").getErrors().hasError,b.a.ensureExperimentKeyValid(a.state.experiment.get("key")),b.a.ensureVariableValuesValid(a.state.experiment,a.props.currentProjectFeatures),b.a.ensureVariationWeightsTotal100(a.state.experiment.get("variations")),S.a.ensureVariationKeysUnique(a.state.experiment.get("variations")),a.allVariationKeysValid(),a.isExperimentKeyUnique(),a.isFeatureAssignmentValid(a.state.experiment.get("feature_flag_id")),a.props.workingMetrics.size,a.state.isValidAudienceConfig]},a.handleAudienceSelectionChange=function(t){var r=t.audienceConditions,i=t.isValidAudienceConfig;a.props.form.field("audience_conditions_json").setValue(r),a.setState({isValidAudienceConfig:i})},a.handleFeatureSelected=function(t){var r=a.state,i=r.experiment,o=r.experimentKeySetManually,c=i.set("feature_flag_id",t.get("id"));if(c=b.a.attachFeatureVariablesToExperiment(t,c),!o){var l=t.get("api_name");c=l.length>59?c.set("key",l):c.set("key","".concat(l,"_test"))}a.setState({experiment:c})},a.isExperimentKeyUnique=function(){var t=a.props.currentProjectExperiments,r=a.state,i=r.experiment;return!!r.isSaving||b.a.ensureExperimentKeyUnique(i,t)},a.isFeatureAssignmentValid=function(t){var r=a.props,i=r.currentProjectExperiments,o=r.environmentsAuthorizedAndSupported,l=a.state,u=l.experiment;return!!l.isSaving||!!Object(c.isNumber)(t)&&T.a.isFeatureAssignmentValid(u,i,o)},a.onCancelClick=function(){(0,a.props.onCancel)()},a.onSave=function(){var t=a.props,r=t.onSave,i=t.workingMetrics,o=t.form,c=t.isEditing,u=a.state.experiment.merge({audience_conditions_json:o.field("audience_conditions_json").getValue(),percentage_included:o.field("percentageIncluded").getValue(),group_id:o.field("selectedGroup").getValue()});a.setState({isSaving:!0});var d=r(Object(l.toJS)(u),i.toJS()).then((function(){c||(v.a.track("fs_experiment_created"),v.a.track("fs_feature_experiment_created"))})).always((function(){a.setState({isSaving:!1})}));y.default.loadingWhen("save-feature-experiment",d)},a.updateExperimentProperty=function(t,r){a.setState((function(a){return{experiment:a.experiment.set(t,r),experimentKeySetManually:!a.experimentKeySetManually&&"key"===t}}))},a.renderCodeBlock=function(){var t=a.props.isMobileOnly;return m.a.createElement(w.a,{description:tr("Choose your preferred SDK to view sample code. Copy and paste the following code into your application."),getCodeSample:a.renderFeatureCode,showMobileOnly:t,title:tr("Example Code")})},a.renderFeatureCode=function(t){var r=a.props.currentProjectFeatures,i=a.state.experiment.get("feature_flag_id"),o=r.find((function(t){return t.get("id")===i})),c=o.get("api_name"),l=o.get("variables"),u=h()(E.a.FEATURE_CODE_BLOCKS[t],c);return""===c?u=E.a.FEATURE_CODE_BLOCKS_DEFAULT[t]:l.size&&l.forEach((function(r){if(!0!==r.get("archived")){var a=r.get("api_name"),i=a.replace(/-/gi,"_");S.a.variableBeginsWithNumber(i)&&(i="variable_".concat(i));var o=r.get("type");u+="\n".concat(h()(E.a.VARIABLE_CODE_BLOCKS[t][o],i,c,a))}})),m.a.createElement(I.a,{isHighlighted:!0,hasCopyButton:!0,language:t,type:"block",testSection:"feature-code-sample"},u)};var i=t.experiment;return a.state={experimentKeySetManually:!1,isSaving:!1,isValidAudienceConfig:!0,experiment:i},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(FeatureExperimentDialog,[{key:"render",value:function render(){var t=this.props,r=t.activeGroups,a=t.canEditExperiment,i=t.currentProjectExperiments,o=t.currentProjectFeatures,l=t.environmentsAuthorizedAndSupported,u=t.isEditing,d=t.form,p=this.state.experiment,g=null,h=p.get("feature_flag_id");h&&(g=o.find((function(t){return t.get("id")===h})));var y=Object(c.isNumber)(h)&&!T.a.isFeatureAssignmentValid(p,i,l),v=d.field("selectedGroup"),E=d.field("percentageIncluded");return m.a.createElement(P.d,null,m.a.createElement(L.default,{loadingId:"save-feature-experiment"},m.a.createElement(P.c,null,u?tr("Edit Feature Test"):tr("New Feature Test")),m.a.createElement("div",{"data-test-section":"feature-experiment-dialog"},m.a.createElement("div",{className:"push-quad--bottom"},m.a.createElement(j.a,{experiment:p,handleFeatureSelected:this.handleFeatureSelected,isEditing:u,updateExperimentProperty:this.updateExperimentProperty,showFeatureValidationError:y,showUniqueKeyError:!this.isExperimentKeyUnique()})),m.a.createElement("div",{className:"push-quad--bottom"},m.a.createElement(N.a,{activeGroups:r,entity:p,selectedGroupField:v,percentageIncludedField:E,isFullstackExperiment:!0})),m.a.createElement("div",{className:"push-quad--bottom"},m.a.createElement(k.a,{allVariationKeysUnique:S.a.ensureVariationKeysUnique(p.get("variations")),canDelete:this.canDeleteVariation(),feature:g,hasInvalidVariableValues:!b.a.ensureVariableValuesValid(p,o),updateExperimentProperty:this.updateExperimentProperty,variations:p.get("variations")})),m.a.createElement("div",{className:"push-quad--bottom"},m.a.createElement(R.a,{audienceConditions:d.field("audience_conditions_json").getValue(),canEditAudience:a,defaultAudienceMatchType:_.audienceMatchTypes.ANY_AUDIENCES,onSelectionChange:this.handleAudienceSelectionChange})),m.a.createElement(D.a,null),!!g&&this.renderCodeBlock(g)),m.a.createElement(P.b,null,m.a.createElement(A.a,{rightGroup:[m.a.createElement(O.a,{onClick:this.onCancelClick,testSection:"feature-experiment-form-cancel",key:"cancel"},"Cancel"),m.a.createElement(O.a,{isDisabled:!this.canSave(),style:"highlight",onClick:this.onSave,testSection:"feature-experiment-form-save",key:"save"},u?"Save Experiment":"Create Experiment")]}))))}}]),FeatureExperimentDialog}(m.a.Component)).componentId="feature-experiment-dialog",o.propTypes={activeGroups:d.a.instanceOf(l.default.List).isRequired,canCreateLayerExperiment:d.a.bool,canEditExperiment:d.a.bool,canUpdateLayerExperiment:d.a.bool,currentProjectExperiments:d.a.instanceOf(l.default.List).isRequired,currentProjectFeatures:d.a.instanceOf(l.default.List),environmentsAuthorizedAndSupported:d.a.bool.isRequired,experiment:d.a.instanceOf(l.default.Map).isRequired,isEditing:d.a.bool,isExperimentLive:d.a.bool,isMobileOnly:d.a.bool,onCancel:d.a.func,onSave:d.a.func.isRequired,workingMetrics:d.a.instanceOf(l.default.List),form:x.c.isRequired},o.defaultProps={canEditExperiment:!0},i=o))||i;r.a=M},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(52),d=a(63);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(TrafficInput,t);var r=_createSuper(TrafficInput);function TrafficInput(){var t;_classCallCheck(this,TrafficInput);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).handleChange=function(r){t.props.field.setValue(Math.round(100*Number(r.target.value)))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(TrafficInput,[{key:"render",value:function render(){var t=this.props,r=t.entityName,a=t.isSelectedGroupNone,i=t.field,c=a?"Fraction of total traffic to include in your ".concat(r,":"):"Fraction of this group's total visitors who should see this ".concat(r,":"),l=Number(i.getValue())/100;return o.a.createElement("li",{className:"lego-form-field__item soft--top"},o.a.createElement("p",{"data-test-section":"percentage-included-description"},c),o.a.createElement("div",{className:"flex flex-align--center width--75"},o.a.createElement(u.a,{min:"0",max:"100",type:"number",onChange:this.handleChange,testSection:"group-allocation-input",value:l}),o.a.createElement("span",{className:"push-half--left"},"%")))}}]),TrafficInput}(o.a.PureComponent);p.propTypes={entityName:l.a.string,field:d.b.isRequired,isSelectedGroupNone:l.a.bool},p.defaultProps={entityName:"experiment",isSelectedGroupNone:!1},r.a=p},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(88),d=a(19),p=a(32),m=a(2),g=a(125),h=a(63);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ExclusionGroupDropdown,t);var r=_createSuper(ExclusionGroupDropdown);function ExclusionGroupDropdown(){var t;_classCallCheck(this,ExclusionGroupDropdown);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).handleGroupChange=function(r){var a=t.props,i=a.selectedGroupField,o=a.percentageIncludedField;r!==i.getValue()&&(i.setValue(r),r===g.b.NONE_GROUP_ID?o.setValue(1e4):o.setValue(0))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ExclusionGroupDropdown,[{key:"render",value:function render(){var t=this,r=this.props,a=r.activeGroups,i=r.selectedGroupField,c=a.unshift(g.b.NONE_GROUP),l=c.find((function(t){return t.get("id")===i.getValue()})),m=l&&l.get("name"),h=c.map((function(r){return o.a.createElement(u.a.Category,{key:r.get("id")},o.a.createElement(u.a.Item,null,o.a.createElement(d.a,{style:"unstyled",width:"full",onClick:function onClick(){return t.handleGroupChange(r.get("id"))},testSection:"dropdown-block-link-".concat(r.get("id"))},o.a.createElement("div",{className:"text--left color--brand"},r.get("name")))))}));return o.a.createElement(p.a,{arrowIcon:"down",buttonContent:m,style:"outline",width:300,testSection:"group-select"},o.a.createElement(u.a,null,h))}}]),ExclusionGroupDropdown}(o.a.Component);y.propTypes={selectedGroupField:h.b.isRequired,percentageIncludedField:h.b.isRequired,activeGroups:l.a.instanceOf(m.default.List).isRequired},r.a=y},function(t,r,a){"use strict";var i=a(2),o=a(3),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(5),m=a(884),g=a(66),h=a.n(g),y=a(21),v=a(249),_=a(2127),E=a(85);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var b=function MetricsPickerWrapper(t){var r=o.default.evaluate(h.a.layer)||Object(i.toImmutable)({policy:y.default.policy.SINGLE_EXPERIMENT,primary_metric:null});return d.a.createElement("div",{className:"push-quad--bottom"},d.a.createElement("h3",null,"Metrics"),d.a.createElement("p",{className:"push-double--bottom"},"Create one or more metrics for this campaign. Choose a primary metric that best determines your campaign’s success. Secondary metrics help gather additional insights but may take longer to achieve statistical significance."," ",d.a.createElement("a",{href:"https://help.optimizely.com/Ideate_and_Hypothesize/Set_primary%2C_secondary%2C_and_monitoring_metrics",target:"_blank",rel:"noopener noreferrer"}," ","Learn More"," ")),d.a.createElement(m.a,_extends({createEvent:E.default.showFullstackEventConfigDialog,layer:r},t)))};b.propTypes={layer:l.a.instanceOf(i.default.Map)},r.a=p.default.connectGetters(b,{canSaveEmptyMetrics:_.a.isCurrentLayerInDraftStatus,metricWrappers:h.a.currentLayerMetricWrappers,workingMetricWrappers:v.a.workingMetricWrappers})},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(154),m=a(19),g=a(52),h=a(218),y=a(79),v=a(850),_=a(135),E=a(295),b=a(3),T=a(5),S=a(2),C=a(28),I=a(14),A=a(34),O=a(50),P=a(157),R=a(54),w=a(2642),N=a(480);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L=Object(C.a)({currentProjectId:I.getters.id,events:I.getters.eventsWithUrls})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(MetricTemplate,t);var r=_createSuper(MetricTemplate);function MetricTemplate(){var t;_classCallCheck(this,MetricTemplate);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state=function(){var r,a=t.props,i=a.metric,o=a.isLayerMetric;if(i.get("event_id")){var c=O.getters.byId(i.get("event_id")),l=A.getters.byId(i.get("event_id"));r=b.default.evaluate(c)||b.default.evaluate(l)}return{aggregator:i.get("aggregator")||"unique",description:i.get("description"),event:r,eventError:!1,field:i.get("field"),id:i.get("id"),name:i.get("name")||"",nameError:!1,scope:i.get("scope")||"visitor",winningDirection:i.get("winning_direction")||"increasing",isLayerMetric:o,pushCopyToTemplate:!1}}(),t.handleEventCategory=function(r){var a=t.props,i=a.fetchAllProjectsEvents,o=a.fetchCurrentProjectEvents,c="all_projects"===r?i():o();T.default.loadingWhen(N.a,c)},t.onInputName=function(r){return t.setState({name:r.target.value,nameError:!r.target.value})},t.onDescriptionField=function(r){return t.setState({description:r.target.value})},t.handleWinningDirection=function(r){return t.setState({winningDirection:r})},t.handleAggregatorField=function(r){var a=_slicedToArray(r.split(" "),2),i=a[0],o=a[1];t.setState({aggregator:i,field:o})},t.handleEventScope=function(r){return t.setState({scope:r})},t.handlePushCopy=function(r){return t.setState({pushCopyToTemplate:r.target.checked})},t.destroy=function(){var r=t.props.onCancel;r&&r(),T.default.hideDialog()},t.cancelAndCloseDialog=function(){t.destroy()},t.handleSelectEvent=function(r){return t.setState({event:r,eventError:!r})},t.getAggreatorValue=function(){var r=t.state,a=r.aggregator,i=r.field;return"".concat(a).concat(i?" ".concat(i):"")},t.generateScopeDescription=function(){var r=t.state,a=r.event,i="per";return r.field||(a?i="for the ".concat(a.get("name")," event."):i+=" visitor."),i},t.onSaveCustomMetric=function(){var r=t.state,a=r.aggregator,i=r.description,o=r.event,c=r.field,l=r.id,u=r.name,d=r.scope,p=r.winningDirection,m=r.pushCopyToTemplate,g=t.props,h=g.currentProjectId,y=g.onSave;if(!o||!u.trim())return t.setState({eventError:!o,nameError:!u.trim()});var v={aggregator:a,description:i,event_id:o.get("id"),event_type:o.get("event_type"),eventName:o.get("name"),field:c,id:l,name:u,scope:d,project_id:h,winning_direction:p};v.description||(v.description=P.b.getMetricDescription(Object(S.toImmutable)(v))),y(v,{event:o,pushCopyToTemplate:m})},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(MetricTemplate,[{key:"componentDidMount",value:function componentDidMount(){var t=this.props.fetchCurrentProjectEvents;T.default.loadingWhen(N.a,t())}},{key:"render",value:function render(){var t=this.state,r=t.event,a=t.eventError,i=t.description,o=t.field,c=t.isLayerMetric,u=t.name,d=t.nameError,b=t.scope,T=t.pushCopyToTemplate,S=t.winningDirection,C=this.props,I=C.events,A=C.currentProjectId,O=C.mode;return l.a.createElement(p.a,{hasCloseButton:!0,title:"".concat("create"===O?"Create New":"Edit"," Metric Presets"),onClose:this.cancelAndCloseDialog,subtitle:l.a.createElement("p",null,"Custom tracking events allow you to capture and report on visitor actions or events."," ",l.a.createElement("a",{href:"https://support.optimizely.com/hc/en-us/articles/4410289407885-Metrics-in-Optimizely"},"Learn more.")),hasRequiredFieldsIndicator:!0,footerButtonList:[l.a.createElement(m.a,{style:"plain",key:0,onClick:this.cancelAndCloseDialog},"Cancel"),l.a.createElement(m.a,{style:"highlight",key:1,onClick:this.onSaveCustomMetric,testSection:"save-metric-button"},"Save")]},l.a.createElement(R.default,{loadingId:N.a},l.a.createElement("div",{className:"flex flex-align--end"},l.a.createElement("div",{className:"flex--1"},l.a.createElement(g.a,{type:"text",label:"Name",isRequired:!0,onInput:this.onInputName,value:u||"",testSection:"metric-input-name"}),d&&l.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"create-metric-name-error"},"Please enter a name."),c?null:l.a.createElement("div",{className:"push-double--top"},l.a.createElement(h.a,{label:"Description",placeholder:"Enter description",onChange:this.onDescriptionField,value:i||"",testSection:"metric-template--description"})))),l.a.createElement("div",{className:"push-double--top"},l.a.createElement(y.a,{isRequired:!0},"Event"),l.a.createElement(w.a,{events:I,onSelectEvent:this.handleSelectEvent,selectedEvent:r,currentProjectId:A,onChangeEventCategory:this.handleEventCategory}),a&&l.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"create-metric-event-error"},"Please select an event.")),l.a.createElement(v.a,{className:"push-triple--top"},l.a.createElement(v.a.Section,null,l.a.createElement(y.a,null,"This metric will measure the"),l.a.createElement(v.a.Row,null,l.a.createElement(_.a,{items:N.d,minDropdownWidth:"200px",onChange:this.handleWinningDirection,value:S,testSection:"metric-template--winning-direction"}),l.a.createElement("p",{className:"push-half--top"},"in"),l.a.createElement(_.a,{items:[N.b.unique,N.b.count].concat(_toConsumableArray(N.b.sum)),minDropdownWidth:"200px",onChange:this.handleAggregatorField,value:this.getAggreatorValue(),testSection:"metric-template--aggregator"}),l.a.createElement("p",{className:"push-half--top"},this.generateScopeDescription()),o&&l.a.createElement(_.a,{items:N.c,onChange:this.handleEventScope,testSection:"metric-scope-dropdown",value:b})))),c?l.a.createElement(E.a,{checked:T,label:"Push a copy of this metric to the Metrics Dashboard",onChange:this.handlePushCopy,testSection:"create-metric-and-push-copy"}):null))}}]),MetricTemplate}(l.a.PureComponent)).propTypes={currentProjectId:d.a.number.isRequired,events:d.a.instanceOf(S.default.List),fetchAllProjectsEvents:d.a.func.isRequired,fetchCurrentProjectEvents:d.a.func.isRequired,isLayerMetric:d.a.bool,metric:d.a.instanceOf(S.default.Map),mode:d.a.oneOf(["create","edit"]),onCancel:d.a.func,onSave:d.a.func},o.defaultProps={events:S.default.List([]),isLayerMetric:!1,metric:S.default.Map(),mode:"create",onCancel:null,onSave:function onSave(){}},i=o))||i;r.a=L},function(t,r,a){"use strict";a.d(r,"a",(function(){return b}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(625),d=a(52),p=a(88),m=a(389),g=a(2),h=a(197),y=a(50),v=a(2643);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _="current_project",E="all_projects",b=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(EventsFilterList,t);var r=_createSuper(EventsFilterList);function EventsFilterList(){var t;_classCallCheck(this,EventsFilterList);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={activeTab:_,query:""},t.handleTabClick=function(r){return t.setState({activeTab:r})},t.setQuery=function(r){t.setState({query:r.target.value})},t.filteredEventsList=function(){var r=t.state,a=r.query,i=r.activeTab,o=t.props,c=o.events,l=o.currentProjectId;return c.filter((function(t){return(i!==_||t.get("project_id")===l)&&(!a||t.get("name").toLowerCase().includes(a.toLowerCase()))}))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(EventsFilterList,[{key:"componentDidUpdate",value:function componentDidUpdate(t,r){var a=this.props.onChangeEventCategory,i=this.state.activeTab;i!==r.activeTab&&a&&a(i)}},{key:"render",value:function render(){var t=this,r=this.state.activeTab,a=this.props,i=a.selectedEvent,c=a.onSelectEvent;return i?o.a.createElement(u.a,{name:i.get("name"),description:"".concat(Object(h.capitalize)(i.get("event_type")||y.enums.eventTypes.PAGE_VIEW)," event"),onDismiss:function onDismiss(){return c()},testSection:"metric-template--event-selection-tile"}):o.a.createElement("div",{"data-test-section":"metric-template--events-selector--container"},o.a.createElement(d.a,{testSection:"metric-template--events-selector--search",type:"search",isFilter:!0,placeholder:"Browse",onInput:this.setQuery}),o.a.createElement(p.a,null,o.a.createElement("div",{className:"max-scroll--medium push-left"},o.a.createElement(m.a,{className:"push--left",activeTab:r,style:["sub"]},o.a.createElement(m.a.Tab,{onClick:function onClick(){return t.handleTabClick(_)},tabId:_,className:"soft-triple--sides soft--top"},"Current Project"),o.a.createElement(m.a.Tab,{onClick:function onClick(){return t.handleTabClick(E)},tabId:E,className:"soft-triple--sides","data-test-section":"metric-template--events-selector--fetch-all"},"All Projects")),o.a.createElement("div",{className:"push--left"},o.a.createElement(v.a,{lists:this.filteredEventsList(),onToggleEventSelection:c})))))}}]),EventsFilterList}(o.a.PureComponent);b.propTypes={currentProjectId:l.a.number.isRequired,events:l.a.instanceOf(g.default.List).isRequired,onChangeEventCategory:l.a.func,onSelectEvent:l.a.func.isRequired,selectedEvent:l.a.instanceOf(g.default.Map)},b.defaultProps={onChangeEventCategory:null,selectedEvent:null}},function(t,r,a){"use strict";a.d(r,"a",(function(){return v}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(11),d=a(40),p=a(26),m=a(290),g=a(197),h=a(2),y=a(64);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(EventsListTable,t);var r=_createSuper(EventsListTable);function EventsListTable(){var t;_classCallCheck(this,EventsListTable);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(t=r.call.apply(r,[this].concat(i))).renderTableHeader=function(){return o.a.createElement("tr",null,o.a.createElement(y.SortableTableHeader,{field:"event_name",type:"string",width:"40%",className:"soft-triple--left"},"Event Name"),o.a.createElement(y.SortableTableHeader,{field:"event_type",type:"string",width:"20%"},"Event Type"),o.a.createElement(y.SortableTableHeader,{field:"site",type:"string",width:"40%"},"Site"))},t.renderTableRowsMetric=function(){var r=t.props,a=r.lists,i=r.onToggleEventSelection;return a.map((function(t){return o.a.createElement(u.a.TR,{key:t.get("id")},o.a.createElement(u.a.TD,{className:"hard--left"},o.a.createElement(d.a,{onClick:function onClick(){return i(t)}},o.a.createElement("div",{className:"flex flex--1 flex-align--center"},o.a.createElement(p.a,{name:"add-thin",size:"medium",color:m.c}),o.a.createElement("div",{className:"soft--left"},t.get("name"))))),o.a.createElement(u.a.TD,null,Object(g.capitalize)(t.get("event_type"))),o.a.createElement(u.a.TD,null,t.get("edit_url")||"N/A"))}))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(EventsListTable,[{key:"render",value:function render(){return o.a.createElement(u.a,{density:"loose",style:"rule",tableLayoutAlgorithm:"fixed"},o.a.createElement(u.a.THead,null,this.renderTableHeader()),o.a.createElement(u.a.TBody,null,this.renderTableRowsMetric()))}}]),EventsListTable}(o.a.Component);v.propTypes={lists:l.a.instanceOf(h.default.List).isRequired}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(52),d=a(218),p=a(79),m=a(34),g=a(1020),h=function PageInformation(t){var r=t.errors,a=t.viewId,i=t.apiName,c=t.onUpdate,l=t.editorUrl,h=t.description,y=t.activationType,v=t.canUseViewActivationModeManual,_=function textFieldChanged(t,r){c(r,t.target.value)},E=!a,b=!E||y===m.enums.activationModes.MANUAL;return o.a.createElement("fieldset",{className:"push-quad--bottom","data-test-section":"configure-view-smart-page_information"},o.a.createElement(u.a,{type:"text",id:"edit_url",name:"edit_url",placeholder:"URL",isRequired:!0,label:"Editor URL",note:r.edit_url,value:l||"",displayError:!!r.edit_url,onChange:function onChange(t){return _(t,"edit_url")},testSection:"configure-view-smart-textfield-input-edit_url",helpText:"The editor URL will be used if the page is loaded in the visual editor."}),o.a.createElement("div",{className:"push-double--top"},o.a.createElement(d.a,{label:"Description",value:h||"",placeholder:"Add a description",onChange:function onChange(t){return _(t,"description")},testSection:"page-description"})),b&&o.a.createElement("div",{className:"soft-double--top flex","data-test-section":"page-information-api-name-id"},o.a.createElement("div",{className:"push-double--right"},o.a.createElement(g.a,{error:r.api_name,apiName:i||"",onChange:function onChange(t){return _(t,"api_name")},canUseViewActivationModeManual:v})),!E&&o.a.createElement("div",{"data-test-section":"page-information-id"},o.a.createElement(p.a,null,"ID"),o.a.createElement("div",null,a))))};h.propTypes={errors:l.a.shape({edit_url:l.a.string,api_name:l.a.string}),editorUrl:l.a.string,activationType:l.a.string,onUpdate:l.a.func.isRequired,canUseViewActivationModeManual:l.a.bool.isRequired,viewId:l.a.number,apiName:l.a.string},h.defaultProps={apiName:"",viewId:null},r.a=h},function(t,r,a){"use strict";a.d(r,"a",(function(){return h}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(4),d=a(79),p=a(170),m=a.n(p),g=a(2646);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ConditionBuilder,t);var r=_createSuper(ConditionBuilder);function ConditionBuilder(){var t;_classCallCheck(this,ConditionBuilder);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(t=r.call.apply(r,[this].concat(i))).onConditionChange=function(r,a){if(a){var i=Object(u.cloneDeep)(t.props.errors);i.splice(r,1),t.props.updateConditionErrors(i),t.props.conditionGroup.removeCondition(a)}t.props.conditionGroupDidMutate()},t.updateConditionErrorsAtIndex=function(r,a){var i=Object(u.cloneDeep)(t.props.errors);i[r]=a,t.props.updateConditionErrors(i)},t.render=function(){var r=t.props.conditionGroup.conditions,a=r.map((function(r,a){var i=r.conditions[0].type,c=Object(g.a)(i);return o.a.createElement(c,{key:a,condition:r,onConditionChange:Object(u.partial)(t.onConditionChange,a),errors:t.props.errors[a],updateErrors:Object(u.partial)(t.updateConditionErrorsAtIndex,a),isWebEdgeProject:t.props.isWebEdgeProject,edgeLearnMoreLinks:t.props.edgeLearnMoreLinks})})).reduce((function(a,i,c){var l=o.a.createElement("div",{key:"type_".concat(c),className:"push-half--ends style--italic","data-test-section":"condition-builder-conjunction"},t.props.conditionGroup.type);return a.concat(i,c<r.length-1?l:[])}),[]);return o.a.createElement("div",{className:"soft-double--ends"},o.a.createElement(d.a,null,"Conditions"),r.length?a:o.a.createElement("div",{className:"muted text--center height--150 flex flex-justified--center flex--column","data-test-section":"condition-builder-empty-state"},o.a.createElement("h3",null,"No Conditions"),o.a.createElement("p",null,"This page will activate"," ",o.a.createElement("span",{className:"weight--bold"},"as soon as it's triggered."))))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ConditionBuilder)}(o.a.Component);h.propTypes={conditionGroup:l.a.instanceOf(m.a).isRequired,conditionGroupDidMutate:l.a.func.isRequired,edgeLearnMoreLinks:l.a.object,isWebEdgeProject:l.a.bool,updateConditionErrors:l.a.func.isRequired,errors:l.a.array},h.defaultProps={edgeLearnMoreLinks:{},errors:[],isWebEdgeProject:!1}},function(t,r,a){"use strict";a.d(r,"a",(function(){return getCardByConditionType}));var i,o=a(1367),c=a(1368),l=a(1369);function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var u=(_defineProperty(i={},o.a.matchType,o.a),_defineProperty(i,c.a.matchType,c.a),_defineProperty(i,l.a.matchType,l.a),i);function getCardByConditionType(t){return u[t]}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(4),d=a(170),p=a.n(d),m=a(34),g=a(19),h=a(135);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var y=function AddCondition(t){var r=t.canUseViewConditionCustomCode,a=t.canUseViewConditionElementPresent,i=t.conditionGroup,c=t.conditionGroupDidMutate,l=t.getHelpLinkProps,d=function addCondition(t){var r=m.enums.defaultConditionConfigs[t],a=m.fns.createConditionGroup(r);i.conditions.push(a),c()},p=function getAddConditionOptions(){return[{label:tr("URL Match"),description:tr("Match the visitors URL."),value:m.enums.conditionMatchTypes.URL,shouldRender:!0},_extends({label:tr("Element is present"),description:tr("Check if an element present on the page."),value:m.enums.conditionMatchTypes.ELEMENT_PRESENT,shouldRender:a},l()),_extends({label:tr("JavaScript Condition"),description:tr("Write your own conditional logic."),value:m.enums.conditionMatchTypes.CUSTOM_CODE,shouldRender:r},l())].filter((function(t){return t.shouldRender}))}();return o.a.createElement("div",{className:"push-quad--bottom width--1-1"},1===p.length&&o.a.createElement(g.a,{width:"full",onClick:Object(u.partial)(d,p[0].value),testSection:"add-condition"},"Add ",p[0].label," Condition"),p.length>1&&o.a.createElement(h.a,{buttonStyle:"outline-reverse",items:p,initialPlaceholder:o.a.createElement("div",{className:"text--left"},"Add Condition"),value:"Add Condition",testSection:"add-condition",onChange:d,width:260,minDropdownWidth:260}))};y.propTypes={canUseViewConditionCustomCode:l.a.bool.isRequired,canUseViewConditionElementPresent:l.a.bool.isRequired,conditionGroup:l.a.instanceOf(p.a).isRequired,conditionGroupDidMutate:l.a.func.isRequired,getHelpLinkProps:l.a.func},y.defaultProps={getHelpLinkProps:function getHelpLinkProps(){}},r.a=y},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(40),d=function AdvancedFeaturesDeactivationTitle(t){var r=(0,t.getHelpLinkProps)();return r&&r.linkURL&&r.linkText?o.a.createElement("div",{className:"micro"},o.a.createElement(u.a,{testSection:"sfdw-help-text",href:r.linkURL},r.linkText)):null};d.propTypes={getHelpLinkProps:l.a.func},d.defaultProps={getHelpLinkProps:function getHelpLinkProps(){}},r.a=d},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(295),d=a(40),p=a(227),m=function AdvancedFeaturesDeactivationAndUndo(t){var r=t.deactivationDescription,a=t.deactivationEnabled,i=t.deactivationLabel,c=t.onUpdate,l=t.undoDescription,m=t.undoLabel,g=t.undoOnDeactivation,h=p.a.getHelpCopy("full_stack_targeting_deactivate_page"),y=p.a.getHelpCopy("full_stack_targeting_undo_changes");return o.a.createElement("ul",{className:"push-half oui-input-list"},o.a.createElement("li",null,o.a.createElement(u.a,{checked:a,"data-test-section":"configure-view-smart-deactivation_enabled",description:r,label:i,onChange:function onChangeDeactivationEnabled(){c("deactivation_enabled",!a)}}),o.a.createElement(d.a,{className:"push-triple--left",href:h,newWindow:!0},"Learn more")),o.a.createElement("li",{className:"push-double--left"},o.a.createElement(u.a,{checked:g,"data-test-section":"configure-view-smart-undo_on_deactivation",description:l,isDisabled:!a,label:m,onChange:function onChangeUndoOnDeactivation(){c("undo_on_deactivation",!g)}}),o.a.createElement(d.a,{className:"push-triple--left",href:y,newWindow:!0},"Learn more")))};m.defaultProps={deactivationEnabled:!1,undoOnDeactivation:!1},m.propTypes={deactivationDescription:l.a.string.isRequired,deactivationEnabled:l.a.bool,deactivationLabel:l.a.string.isRequired,onUpdate:l.a.func.isRequired,undoDescription:l.a.string.isRequired,undoLabel:l.a.string.isRequired,undoOnDeactivation:l.a.bool},r.a=m},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(295),d=a(40),p=a(227),m=function AdvancedFeaturesTrimming(t){var r=t.label,a=t.description,i=t.overridePageTrimming,c=t.onUpdate,l=p.a.getHelpCopy("full_stack_targeting_automatic_page_trimming");return o.a.createElement("ul",{className:"push-half oui-input-list"},o.a.createElement("li",null,o.a.createElement(u.a,{description:a,onChange:function onChangeOverridePageTrimming(){c("override_page_trimming",!i)},checked:i,label:r,"data-test-section":"configure-view-smart-override_page_trimming"}),o.a.createElement(d.a,{className:"push-triple--left",href:l,newWindow:!0},"Learn more")))};m.defaultProps={overridePageTrimming:!1},m.propTypes={description:l.a.string.isRequired,label:l.a.string.isRequired,onUpdate:l.a.func.isRequired,overridePageTrimming:l.a.bool},r.a=m},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(9),l=a.n(c),u=a(1),d=a.n(u),p=a(4),m=a(79),g=a(32),h=a(19),y=a(26),v=a(135),_=a(15),E=a(34),b=a(170),T=a.n(b),S=a(2652),C=a(627),I=a(1370),A=a(2653);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var O=["url_changed","dom_changed"],P=function TriggerSettings(t){var r=t.activationCode,a=t.canUseViewActivationModeManual,c=(t.canUseViewActivationModePolling,t.canUseViewActivationModeCallback,t.canUseViewActivationModeUrlChanged),u=t.canUseViewActivationModeDomChanged,d=t.conditionGroup,b=t.conditionGroupDidMutate,T=t.currentProjectId,P=t.onUpdate,R=t.isWebEdgeProject,w=(t.isSupportForDynamicWebsitesEnabled,t.getHelpLinkProps),N=(t.snippetGlobalName,t.activationType),L=_slicedToArray(Object(i.useState)(!1),2),x=L[0],D=L[1],k=N,j=Object(p.cloneDeep)(r),M=function togglePageTriggersDialog(){D(!x)},U=function onChangeActivationType(t){var r=C.b.DEFAULT_CODE[t];O.includes(t)&&M(),k===t&&(r=j),P("activation_code",r,(function(){P("activation_type",t)}))};N=N||E.enums.activationModes.IMMEDIATE;var V=C.b.ORDERED_DEFAULT_ACTIVATION_TYPE_OPTIONS;R&&(V=I.a.getAvailableActivationModesForEdgeProject(a,c,u),V=I.a.addHelpTextToActivationModesForEdgeProject(V,w));var B=function isTriggersItemSelected(t){return t.value===N};return o.a.createElement(o.a.Fragment,null,x&&o.a.createElement(S.a,{closeDialog:M,currentProjectId:T}),o.a.createElement("div",{"data-test-section":"configure-view-smart-trigger-settings"},V.length>1&&o.a.createElement(m.a,null,"Triggers"),o.a.createElement("div",{className:"flex flex-align--center"},V.length>1&&o.a.createElement(g.a,{activator:o.a.createElement(h.a,{style:"outline",testSection:"activation-type",className:"flex flex-align--center flex-justified--between width--300"},o.a.createElement("span",null,function getTriggersButtonText(){return C.b.DEFAULT_ACTIVATION_TYPE_OPTIONS[N].label}()),o.a.createElement(y.a,{name:"angle-down",size:"small"}))},o.a.createElement(g.a.Contents,{minWidth:300,direction:"right"},V&&V.map((function(t){return o.a.createElement(g.a.ListItem,{key:t.value,className:l()({"is-selected":B(t)})},o.a.createElement(g.a.BlockLink,{onClick:U,value:t.value,testSection:"dropdown-block-link-".concat(t.value)},o.a.createElement(g.a.BlockLinkText,{text:t.label,isItemSelected:B(t)}),o.a.createElement(g.a.BlockLinkSecondaryText,{secondaryText:t.description}),t.linkText&&o.a.createElement("div",{className:"flex flex-align--center","data-test-section":"activation-type-help-text"},o.a.createElement(y.a,{name:"circle-exclamation",size:"small"}),o.a.createElement("span",{className:"push-half--left micro color--base muted",style:{marginTop:"".concat(1,"px")}},t.linkText))))})))),1===V.length&&o.a.createElement("span",null,V[0].label),o.a.createElement("span",{className:"push--sides"},"check if"),o.a.createElement(v.a,{items:C.b.ROOT_TYPE_OPTIONS,value:d.type,onChange:function onChangeRootConditionType(t){d.type=t,b()},width:"100px",minDropdownWidth:"300px",zIndex:_.ZIndex.ACTIVATION_MODE_DROPDOWN,testSection:"root-type"}),d.type===E.enums.conditionGroupTypes.OR?o.a.createElement("span",{className:"push--sides"},"condition is valid."):o.a.createElement("span",{className:"push--sides"},"conditions are valid.")),o.a.createElement(A.a,t)))};P.propTypes={activationCode:d.a.string,activationType:d.a.string,canUseViewActivationModeCallback:d.a.bool.isRequired,canUseViewActivationModeDomChanged:d.a.bool.isRequired,canUseViewActivationModeManual:d.a.bool.isRequired,canUseViewActivationModePolling:d.a.bool.isRequired,canUseViewActivationModeUrlChanged:d.a.bool.isRequired,conditionGroup:d.a.instanceOf(T.a).isRequired,conditionGroupDidMutate:d.a.func.isRequired,error:d.a.string,onUpdate:d.a.func.isRequired,isWebEdgeProject:d.a.bool,isSupportForDynamicWebsitesEnabled:d.a.bool,currentProjectId:d.a.number.isRequired,getHelpLinkProps:d.a.func,snippetGlobalName:d.a.string.isRequired},P.defaultProps={activationCode:"",activationType:"",isWebEdgeProject:!1,isSupportForDynamicWebsitesEnabled:!1,getHelpLinkProps:function getHelpLinkProps(){}},r.a=P},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(107),l=a(19),u=a(40),d=a(24);r.a=function PageTriggersDialog(t){var r=t.closeDialog,a=t.currentProjectId,i=d.default.projectSettingsImplementation(a);return o.a.createElement(c.a,{footerButtonList:[o.a.createElement(l.a,{style:"highlight",key:"close",onClick:r,testSection:"dynamic-websites-support-dialog-close"},"Close")],hasCloseButton:!0,hasOverlay:!0,onClose:r,testSection:"dynamic-websites-support-dialog",title:"Dynamic Websites Support"},o.a.createElement("p",null,"You have selected an option under “Triggers” which requires that this project have ",o.a.createElement("strong",null,"support for dynamic websites")," enabled. A project admin can enable this setting on your project’s"," ",o.a.createElement(u.a,{href:i},"Settings page"),". Your changes have been saved, but this experiment will not work properly until this setting is enabled."))}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(26),d=a(40),p=a(79),m=a(65),g=a(34),h=a(373),y=function TriggerSettingsCard(t){var r=t.activationType,a=t.activationCode,i=t.apiName,c=t.onUpdate,l=t.error,y=t.snippetGlobalName,v=function onChangeActivationCode(t){c("activation_code",t)},_={esversion:6};return o.a.createElement("div",null,r===g.enums.activationModes.POLLING&&o.a.createElement("div",{className:"push-double--top","data-test-section":"polling-activation"},o.a.createElement("p",{className:"weight--bold push-half--bottom"},"Polling JavaScript"),o.a.createElement("div",{className:"soft-half--bottom"},"Supply an expression to return a boolean inside a function."),o.a.createElement(h.a,{onChange:v,testSection:"codemirror-polling",value:a||"",options:{lint:_}}),o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement("span",{className:"flex push-half--right"},o.a.createElement(u.a,{color:m.brandBlueDark,name:"circle-exclamation",size:"small"})),"Note: This expression will be executed every time the snippet loads. ",o.a.createElement(d.a,{href:"https://docs.developers.optimizely.com/web/docs/dynamic-websites#section-polling",newWindow:!0},"Learn more."))),r===g.enums.activationModes.CALLBACK&&o.a.createElement("div",{className:"push-double--top","data-test-section":"callback-activation"},o.a.createElement(p.a,null,"Callback JavaScript"),o.a.createElement(h.a,{onChange:v,testSection:"codemirror-callback",value:a||"",options:{lint:_}})),r===g.enums.activationModes.MANUAL&&o.a.createElement("div",{className:"push-double--top","data-test-section":"manual-activation"},o.a.createElement("div",{className:"push--top push-half--bottom"},"Embed the code below into your page at the time you want the page to activate. ",o.a.createElement("a",{href:"https://help.optimizely.com/Build_Experiments/Activation_Mode%3A_Activating_an_experiment_dynamically_after_a_page_has_loaded",target:"_blank",rel:"noopener noreferrer"},"Learn more.")),o.a.createElement("pre",{className:"lego-attention lego-attention--brand monospace milli"},"window['".concat(y,"'] = window['").concat(y,"'] || [];\nwindow['").concat(y,'\'].push({\n  type: "page",\n  pageName: "').concat(i,'"\n});'))),l&&o.a.createElement("div",{className:"color--bad-news micro push-half--top","data-test-section":"trigger-settings-error"},l))};y.propTypes={activationType:l.a.string,activationCode:l.a.string,apiName:l.a.string,onUpdate:l.a.func.isRequired,error:l.a.string,snippetGlobalName:l.a.string.isRequired},r.a=y},function(t,r,a){"use strict";var i=a(9),o=a.n(i),c=a(848),l=a(40),u=a(1),d=a.n(u),p=a(0),m=a.n(p),g=a(2),h=a(34),y=a(1021),v=a.n(y),_=a(170),E=a.n(_);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b={value:""},T=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(URLValidator,t);var r=_createSuper(URLValidator);function URLValidator(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,URLValidator),(a=r.call(this,t)).testUrlHasMatch=function(t){var r=t;return a.props.isWebEdgeProject&&(r=t.split("#")[0]),!!t&&h.fns.smartValidateUrlForConditions(r,a.props.conditionGroup)},a.testUrlHasHash=function(t){return t.includes("#")},a.updateTestUrl=function(t,r){var i=r.target.value;a.setState((function(r){return r.testUrls[t]={value:i},{testUrls:r.testUrls}}))},a.addTestUrlRow=function(t){a.setState((function(r){return r.testUrls.splice(t+1,0,b),{testUrls:r.testUrls}}))},a.removeTestUrlRow=function(t){a.setState((function(r){return r.testUrls.splice(t,1),{testUrls:r.testUrls}}))},a.state={testUrls:[b]},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(URLValidator,[{key:"render",value:function render(){var t=this,r=this.props,a=r.edgeLearnMoreLinks,i=r.isWebEdgeProject;return m.a.createElement("div",null,m.a.createElement(c.a,{title:"Test URL(s)",testSection:"test-urls-toggle"},m.a.createElement("div",{"data-test-section":"test-url-container"},m.a.createElement("p",null,"Check sample URLs to make sure they match the URL pattern(s) you specified."),m.a.createElement("table",{className:"oui-table oui-table--add-row","data-test-section":"test-urls-table"},m.a.createElement("tbody",null,this.state.testUrls.map((function(r,c){var u=t.testUrlHasMatch(r.value),d=t.testUrlHasHash(r.value);return m.a.createElement(v.a,{condition:Object(g.toImmutable)(r),index:c,length:t.state.testUrls.length,addConditionRow:t.addTestUrlRow,removeConditionRow:t.removeTestUrlRow,onChangeCondition:t.updateTestUrl,key:c,showMatchType:!1,classes:o()({"lego-form-good-news":u,"lego-form-bad-news":!!r.value&&!u})},m.a.createElement("div",null,u&&m.a.createElement("p",{className:"lego-form-note flush--bottom lego-form-note--good-news","data-test-section":"test-url-valid-row-".concat(c)},"This page will activate on this URL."),!!r.value&&!u&&m.a.createElement("p",{className:"lego-form-note flush--bottom lego-form-note--bad-news","data-test-section":"test-url-invalid-row-".concat(c)},"This page will not activate on this URL."),i&&d&&m.a.createElement("div",{className:"color--bad-news micro push-half--top","data-test-section":"url-validator-edge-hash-warning-row-".concat(c)},'Note that browsers do not send characters after the "#" to the Edge Decider. ',m.a.createElement(l.a,{href:a.hashWarningLink,newWindow:!0,style:"bad-news",testSection:"edge-hash-warning-learn-more-link-row-".concat(c)},"Learn more"),".")))})))))))}}]),URLValidator}(m.a.Component);T.propTypes={conditionGroup:d.a.instanceOf(E.a).isRequired,edgeLearnMoreLinks:d.a.object,isWebEdgeProject:d.a.bool},T.defaultProps={edgeLearnMoreLinks:{},isWebEdgeProject:!1},r.a=T},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(79),m=a(98),g=a(19),h=a(5),y=a(2),v=a(28),_=a(35),E=a(182),b=a.n(E),T=a(14),S=a(873);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var C=Object(v.a)({currentProjectId:T.getters.id,activeViews:S.getters.activeViews})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(CreateClickEvent,t);var r=_createSuper(CreateClickEvent);function CreateClickEvent(){var t;_classCallCheck(this,CreateClickEvent);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={errors:{},selectedViewId:null},t.save=function(){var r=t.props.currentProjectId,a=t.state.selectedViewId;t.setState({errors:{}},(function(){if(!a)return this.setState({errors:{pageSelection:tr("Please choose a page")}});_.default.go(b.a.createClickEvent(r,a)),window.setTimeout((function(){h.default.hideDialog()}),500)}))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(CreateClickEvent,[{key:"renderViews",value:function renderViews(){return this.props.activeViews.map((function(t){return l.a.createElement("option",{key:t,value:t.get("id")},t.get("name"))}))}},{key:"render",value:function render(){var t=this,r=this.state.errors;return l.a.createElement("div",null,l.a.createElement("div",{"data-test-section":"create-click-event-component"},l.a.createElement("div",{className:"beta push-quad--bottom"},"New Click Event"),l.a.createElement(p.a,{isRequired:!0},"Page"),l.a.createElement("p",{className:"muted milli"},"Choose the page where you want to add this click event"),l.a.createElement("select",{className:"oui-select",onChange:function onChange(r){t.setState({selectedViewId:r.target.value})},"data-test-section":"create-click-event-page-select"},l.a.createElement("option",{selected:!0,disabled:!0},"Select page..."),this.renderViews())),r&&l.a.createElement("div",{className:"oui-form-note lego-form-note--bad-news","data-test-section":"error-page-selection"},r.pageSelection),l.a.createElement("div",{className:"flex flex-align--center push-double--top"},l.a.createElement("div",{className:"oui-sheet__required-indicator cursor--default color--red"},l.a.createElement("span",null,"* Required field")),l.a.createElement("div",{className:"flex--1"},l.a.createElement(m.a,{rightGroup:[l.a.createElement(g.a,{style:"plain",testSection:"create-click-event-cancel",key:"cancel",onClick:h.default.hideDialog},"Cancel"),l.a.createElement(g.a,{style:"highlight",testSection:"create-click-event-save-button",key:"create",onClick:this.save},"Create Event")]}))))}}]),CreateClickEvent}(l.a.Component)).propTypes={activeViews:d.a.instanceOf(y.default.List).isRequired,currentProjectId:d.a.number.isRequired},i=o))||i;r.a=C},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(295),d=a(2),p=a(5),m=a(957),g=a(215);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(OutlierFilter,t);var r=_createSuper(OutlierFilter);function OutlierFilter(){var t;_classCallCheck(this,OutlierFilter);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).updateOutlierFilterEnabledState=function(){var r=t.props.outlierFilter,a=r.get("enabled"),i=r.set("enabled",!a);g.a.updateOutlierFilter(i)},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(OutlierFilter,[{key:"UNSAFE_componentWillMount",value:function UNSAFE_componentWillMount(){var t=this.props.layer;t.get("id")?g.a.setOriginalOutlierFilter(t):g.a.setDefaultOutlierFilter(t)}},{key:"componentWillUnmount",value:function componentWillUnmount(){g.a.setOriginalOutlierFilter()}},{key:"render",value:function render(){var t=this.props.outlierFilter.get("enabled");return o.a.createElement("div",{className:"flex"},o.a.createElement(u.a,{checked:t,label:"Enable outlier smoothing for revenue",onChange:this.updateOutlierFilterEnabledState,"data-test-section":"outlier-filter-checkbox"}),o.a.createElement(m.a,null))}}]),OutlierFilter}(o.a.Component);h.propTypes={layer:l.a.instanceOf(d.default.Map).isRequired,outlierFilter:l.a.instanceOf(d.default.Map).isRequired},r.a=p.default.connectGetters(h,{outlierFilter:g.c.outlierFilter})},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(19),d=a(26),p=a(11),m=a(2),g=a(99),h=a.n(g),y=a(44),v=a(197),_=a(160),E=a(64),b=function EventsTable(t){var r=t.events,a=t.handleCreateEvent,i=t.handleSelectEvent,c=t.tableId;return o.a.createElement("div",{className:"flex flex--column flex--1"},o.a.createElement("div",{className:"flex flex--none push-quad--sides push-double--ends"},function renderCreateEventButton(){return o.a.createElement("div",{className:"link"},o.a.createElement(u.a,{style:"unstyled","data-test-section":"metric-filterbar-create-event-button",onClick:a},o.a.createElement(d.a,{name:"add",size:"small"}),o.a.createElement("span",{className:"push-double--left"},"Create New Event")))}()),o.a.createElement(_.default,{tableId:c,data:r,entityPlural:"events",filterItemByString:function filterItemByString(t,r){return y.d.matchesFields(t,["name","description"],r)},filterItemByStatus:function filterItemByStatus(){return!0},renderTableRow:function renderTableRow(t){return o.a.createElement(p.a.TR,{"data-test-section":"metric-filterbar-event-row",key:t.get("id")},o.a.createElement(p.a.TD,null,o.a.createElement("div",{className:"color--brand"},o.a.createElement(u.a,{style:"unstyled",onClick:function onClick(){return i(t)}},o.a.createElement(d.a,{name:"add",size:"small"})))),o.a.createElement(p.a.TD,{width:"300px"},function renderSelectEventButton(t){return o.a.createElement("div",{className:"link",style:{"min-width":"300px"}},o.a.createElement(u.a,{"data-test-section":"metric-filterbar-select-event-button",style:"unstyled",onClick:function onClick(){return i(t)}},t.get("name")))}(t),o.a.createElement("div",{className:"micro muted",style:{"min-width":"300px"}},Object(v.strLimiter)(t.get("description"),300))),o.a.createElement(p.a.TD,null,h()(t.get("type"))),o.a.createElement(p.a.TD,null,t.get("site")))},renderTableHeader:function renderTableHeader(){return o.a.createElement("tr",null,o.a.createElement(p.a.TH,null," "),o.a.createElement(E.SortableTableHeader,{field:"name",type:"string",width:"300px"},"Event Name"),o.a.createElement(E.SortableTableHeader,{field:"type",type:"string"},"Event Type"),o.a.createElement(E.SortableTableHeader,{field:"site",type:"string"},"Site"))},defaultSortBy:{field:"name",type:"string"},defaultFilters:{status:y.c.status.ACTIVE}}))};b.propTypes={events:l.a.instanceOf(m.default.List).isRequired,handleCreateEvent:l.a.instanceOf(Function).isRequired,handleSelectEvent:l.a.instanceOf(Function).isRequired,tableId:l.a.string.isRequired},r.a=b},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(19),d=a(26),p=a(11),m=a(99),g=a.n(m),h=a(2),y=a(44),v=a(197),_=a(160),E=a(64),b=a(504),T=a(228),S=a.n(T),C=function MetricsTable(t){var r=t.handleCreateMetric,a=t.metrics,i=t.handleSelectMetric,c=t.tableId,l=function createMetricClick(){b.a.showEditMetricDialog({onSave:r,config:{isLayerMetric:!0}})};return o.a.createElement("div",{className:"flex flex--column flex--1"},o.a.createElement("div",{className:"flex flex--none push-quad--sides push-double--ends"},function renderCreateMetricButton(){return o.a.createElement("div",{className:"link"},o.a.createElement(u.a,{style:"unstyled","data-test-section":"metric-filterbar-create-metric-button",onClick:l},o.a.createElement(d.a,{name:"add",size:"small"}),o.a.createElement("span",{className:"push-double--left"},"Create New Metric")))}()),o.a.createElement(_.default,{tableId:c,data:a,entityPlural:"metrics",filterItemByString:function filterItemByString(t,r){return y.d.matchesFields(t,["name","description"],r)},filterItemByStatus:function filterItemByStatus(){return!0},renderTableRow:function renderTableRow(t){return o.a.createElement(p.a.TR,{"data-test-section":"metric-filterbar-metric-row",key:t.get("id")},o.a.createElement(p.a.TD,null,o.a.createElement("div",{className:"color--brand"},o.a.createElement(u.a,{style:"unstyled",onClick:function onClick(){return i(t)}},o.a.createElement(d.a,{name:"add",size:"small"})))),o.a.createElement(p.a.TD,null,function renderSelectMetricButton(t){return o.a.createElement("div",{className:"link"},o.a.createElement(u.a,{style:"unstyled","data-test-section":"metric-filterbar-select-metric-button",onClick:function onClick(){return i(t)}},t.get("name")))}(t),o.a.createElement("div",{className:"micro muted"},Object(v.strLimiter)(t.get("description"),300))),o.a.createElement(p.a.TD,null,g()(t.get("event_type"))),o.a.createElement(p.a.TD,null,S()(t.get("created"))))},renderTableHeader:function renderTableHeader(){return o.a.createElement("tr",null,o.a.createElement(p.a.TH,{width:"50px"}," "),o.a.createElement(E.SortableTableHeader,{field:"name",type:"string"},"Metric Name"),o.a.createElement(E.SortableTableHeader,{field:"type",type:"string"},"Event Type"),o.a.createElement(E.SortableTableHeader,{field:"created",type:"date"},"Created"))},defaultSortBy:{field:"name",type:"string"},defaultFilters:{status:y.c.status.ACTIVE}}))};C.propTypes={handleCreateMetric:l.a.instanceOf(Function).isRequired,handleSelectMetric:l.a.instanceOf(Function).isRequired,metrics:l.a.instanceOf(h.default.List).isRequired,tableId:l.a.string.isRequired},r.a=C},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(19),m=a(98),g=a(11),h=a(52),y=a(2),v=a(5),_=a(29),E=function VariationRow(t){var r=t.variation.get("status")===_.default.VariationStatus.PAUSED,a=t.variation.get("weight")/100,i=function handleInputChange(r,a){var i=r.target.value,o=t.variation.set(a,i);t.updateVariation(t.rowIndex,o)},c=function deleteVariation(){t.onDeleteVariation(t.rowIndex)},l=function pauseVariation(){v.default.confirm({title:tr("Pause variation"),message:tr("Pausing this variation means that users who have previously seen it will be re-allocated between the remaining unpaused variations."),isWarning:!0}).then((function(){t.pauseVariation(t.rowIndex,t.variation)}))},u=function resumeVariation(){t.resumeVariation(t.rowIndex,t.variation)};return d.a.createElement(g.a.TR,{className:"experiment-variation-row-".concat(t.rowIndex)},d.a.createElement(g.a.TD,null,d.a.createElement(h.a,{name:"variation_key",onChange:o.a.partialRight(i,"api_name"),testSection:"experiment-variation-key-".concat(t.rowIndex),type:"text",value:t.variation.get("api_name")}),function renderErrorBlock(){if(t.variation.get("api_name")&&t.showInvalidKeyError)return d.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"variation-key-invalid-error"},"Please enter a valid key. Valid keys contain alphanumeric characters, hyphens, and underscores, and are limited to 64 characters.")}()),d.a.createElement(g.a.TD,null,!t.hideDescription&&d.a.createElement(h.a,{type:"text",name:"variation_description",onChange:o.a.partialRight(i,"description"),placeholder:"(optional)",testSection:"experiment-variation-desc-".concat(t.rowIndex),value:t.variation.get("description")})),d.a.createElement(g.a.TD,null,d.a.createElement("div",{className:"flex"},d.a.createElement(h.a,{isDisabled:r,min:0,max:100,name:"variation_percentage",onChange:function updateVariationPercentage(r){var a=r.target.value,i=t.variation.set("weight",Math.round(100*a));t.updateVariation(t.rowIndex,i)},testSection:"experiment-variation-percentage-".concat(t.rowIndex),type:"number",value:a.toString()}),d.a.createElement("span",{className:"flex--1 push-half--left push--right push-half--top"},"%"))),d.a.createElement(g.a.TD,null,!t.hideActionButtons&&function renderActionButtons(){var a;return a=t.canDelete?d.a.createElement(p.a,{onClick:c,style:"plain",testSection:"delete-experiment-variation-".concat(t.rowIndex)},"Delete"):r?d.a.createElement(p.a,{onClick:u,style:"plain",testSection:"resume-experiment-variation-".concat(t.rowIndex)},"Resume"):d.a.createElement(p.a,{onClick:l,style:"plain",testSection:"pause-experiment-variation-".concat(t.rowIndex)},"Pause"),d.a.createElement(m.a,{rightGroup:[a]})}()))};E.propTypes={canDelete:l.a.bool.isRequired,onDeleteVariation:l.a.func.isRequired,pauseVariation:l.a.func.isRequired,resumeVariation:l.a.func.isRequired,rowIndex:l.a.number.isRequired,showInvalidKeyError:l.a.bool,showUniqueKeyError:l.a.bool,updateVariation:l.a.func.isRequired,variation:l.a.instanceOf(y.default.Map),hideDescription:l.a.bool,hideActionButtons:l.a.bool},E.defaultProps={hideDescription:!1,hideActionButtons:!1},r.a=E},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(2),l=a(1),u=a.n(l),d=a(0),p=a.n(d),m=a(11),g=a(52),h=a(79),y=a(218),v=a(217),_=a(2661),E=function ExperimentDetails(t){var r=function handleInputChange(r,a){var i=r.target.value;t.updateExperimentProperty(a,i)};return p.a.createElement("div",null,p.a.createElement("form",null,p.a.createElement("fieldset",null,p.a.createElement("ol",{className:"lego-form-fields"},p.a.createElement("li",{className:"push-quad--bottom lego-form-field__item"},p.a.createElement(m.a,{tableLayoutAlgorithm:"fixed"},p.a.createElement(m.a.TBody,null,p.a.createElement(m.a.TR,null,p.a.createElement(m.a.TD,null,p.a.createElement(_.a,{experiment:t.experiment,handleFeatureSelected:t.handleFeatureSelected,handleFeatureUnselected:function handleFeatureUnselected(){t.updateExperimentProperty("feature_flag_id",null)},showFeatureValidationError:t.showFeatureValidationError})),p.a.createElement(m.a.TD,null,p.a.createElement("h3",null,"Experiment Key"),p.a.createElement(g.a,{type:"text",testSection:"feature-experiment-key",placeholder:"experiment_key",value:t.experiment.get("key"),onChange:o.a.partialRight(r,"key")}),function renderErrorBlock(){var r=t.experiment.get("key");return r&&!v.a.ensureExperimentKeyValid(r)?p.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"feature-experiment-key-invalid-error"},"Please enter a valid key. Valid keys contain alphanumeric characters, hyphens, and underscores, and are limited to 64 characters."):t.showUniqueKeyError?p.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"feature-experiment-key-blank-error"},"Key is already in use by another experiment in this project. Please choose a unique key."):void 0}()))))),p.a.createElement("li",{className:"lego-form-fields__item"},p.a.createElement("h3",null,p.a.createElement(h.a,{isOptional:!0},p.a.createElement("span",null,"Description"))),p.a.createElement("p",null,"What is your experiment? State your hypothesis and notes here."),p.a.createElement(y.a,{testSection:"feature-experiment-description",defaultValue:t.experiment.get("description"),onChange:o.a.partialRight(r,"description")}))))))};E.propTypes={experiment:u.a.instanceOf(c.default.Map).isRequired,handleFeatureSelected:u.a.func,handleFeatureUnselected:u.a.func,showFeatureValidationError:u.a.bool,showUniqueKeyError:u.a.bool,updateExperimentProperty:u.a.func.isRequired},r.a=E},function(t,r,a){"use strict";var i=a(2),o=a(4),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(5),m=a(13),g=a(79),h=a(1019),y=function FeatureSelector(t){var r=t.experiment,a=t.features,i=t.handleFeatureSelected,c=t.handleFeatureUnselected,l=t.showFeatureValidationError,u=t.showNoFeatureSelectedError,p=r.get("feature_flag_id"),m=a.filter((function(t){return!t.get("archived")||Object(o.isNumber)(p)&&t.get("id")===p}));return d.a.createElement("div",{"data-test-section":"feature-experiment-dialog-feature-flag-selector"},d.a.createElement("h3",null,d.a.createElement(g.a,null,d.a.createElement("span",null,"Feature"))),d.a.createElement("div",{className:"flex"},d.a.createElement(h.a,{features:m,onSelectFeature:function onHandleSelectFeature(t){r.get("feature_flag_id")!==t.get("id")&&i(t)},onUnselectFeature:function onHandleUnselectFeature(){c()},selectedFeatureId:r.get("feature_flag_id")})),l&&d.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"feature-selector-invalid-error"},"Feature is already in use by another running experiment in this project."),u&&d.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"no-feature-selected-error"},"Must select a feature for this experiment."),d.a.createElement("p",{className:"push--top"},"By selecting a feature, this experiment will be activated when the feature is accessed in the SDK."))};y.propTypes={experiment:l.a.instanceOf(i.default.Map),features:l.a.instanceOf(i.default.List).isRequired,handleFeatureSelected:l.a.func.isRequired,handleFeatureUnselected:l.a.func.isRequired,showFeatureValidationError:l.a.bool,showNoFeatureSelectedError:l.a.bool},r.a=p.default.connectGetters(y,{features:m.default.features})},function(t,r,a){"use strict";a.d(r,"a",(function(){return T}));var i=a(0),o=a.n(i),c=a(5),l=a(2),u=a(1),d=a.n(u),p=a(200),m=a(29),g=a(54),h=a(134),y=a(98),v=a(19),_=a(131),E=a(2132);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function getNewForcedVariationRow(t){return{user_id:null,variation_id:t.get("variations").filter((function(t){return t.get("status")===m.default.VariationStatus.ACTIVE})).first().get("variation_id"),match_type:p.a.FORCED_VARIATION_MATCH_TYPES.EXACT}},T=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(WhitelistDialog,t);var r=_createSuper(WhitelistDialog);function WhitelistDialog(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,WhitelistDialog),(a=r.call(this,t)).addForcedVariationRow=function(){var t=a.props.experiment;a.setState((function(r){return{currentForcedVariations:r.currentForcedVariations.push(Object(l.toImmutable)(b(t)))}}))},a.handleUserIdChange=function(t,r){a.setState((function(a){return{currentForcedVariations:a.currentForcedVariations.update(t,(function(t){return t.set("user_id",r)}))}}))},a.handleVariationIdChange=function(t,r){a.setState((function(a){return{currentForcedVariations:a.currentForcedVariations.update(t,(function(t){return t.set("variation_id",r)}))}}))},a.onSave=function(){if(a.validate()){a.setState({isSaving:!0});var t=a.state.currentForcedVariations,r=a.props,i=r.experiment;(0,r.onSave)({forced_variations:t.toJS(),id:i.get("id")}).then((function(){c.default.hideDialog()})).always((function(){a.setState({isSaving:!1})}))}},a.removeForcedVariationRow=function(t){a.setState((function(r){return{currentForcedVariations:r.currentForcedVariations.delete(t)}}))},a.validate=function(){var t=a.state.currentForcedVariations,r=Object(l.toImmutable)([]);return t.find((function(t){return!t.get("user_id")}))&&(r=r.push("Missing user ID for one or more entries.")),a.setState({errors:r}),0===r.size};var i=t.experiment.get("forced_variations"),o=i&&0===i.size?Object(l.toImmutable)([b(t.experiment)]):i;return a.state={isSaving:!1,errors:Object(l.toImmutable)([]),savedForcedVariations:i,currentForcedVariations:o},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(WhitelistDialog,[{key:"render",value:function render(){var t=this.props.experiment,r=this.state,a=r.savedForcedVariations,i=r.currentForcedVariations,l=r.errors,u=r.isSaving,d=t.get("variations");return o.a.createElement(g.default,{className:"overflow-y--auto flex flex--1",isLoading:u},o.a.createElement(_.d,{testSection:"oasis-whitelist-dialog"},o.a.createElement(_.c,null,"Whitelist for ",t.get("key")),o.a.createElement("p",null,"Force users into running variations using the whitelist below."),o.a.createElement(_.a,null,o.a.createElement(E.a,{savedForcedVariations:a,addForcedVariationRow:this.addForcedVariationRow,currentForcedVariations:i,handleUserIdChange:this.handleUserIdChange,handleVariationIdChange:this.handleVariationIdChange,removeForcedVariationRow:this.removeForcedVariationRow,variations:d}),l.map((function(t){return o.a.createElement(h.a,{alignment:"left",testSection:"oasis-whitelisting-dialog-error",type:"bad-news"},t)}))),o.a.createElement(_.b,null,o.a.createElement(y.a,{rightGroup:[o.a.createElement(v.a,{key:"btn-cancel",style:"plain",testSection:"oasis-config-whitelist-cancel",onClick:c.default.hideDialog},"Cancel"),o.a.createElement(v.a,{key:"btn-save",style:"highlight",testSection:"oasis-config-whitelist-save",onClick:this.onSave},"Save")]}))))}}]),WhitelistDialog}(o.a.Component);T.componentId="oasis-experiment-whitelist-dialog",T.propTypes={experiment:d.a.instanceOf(l.default.Map).isRequired,onSave:d.a.func.isRequired}},function(t,r,a){"use strict";var i=a(2),o=a(1),c=a.n(o),l=a(0),u=a.n(l),d=a(29);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(VariationDropdown,t);var r=_createSuper(VariationDropdown);function VariationDropdown(){var t;_classCallCheck(this,VariationDropdown);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).handleVariationIdChange=function(r){var a=parseInt(r.target.value,10);t.props.onVariationIdChange(t.props.index,a)},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(VariationDropdown,[{key:"render",value:function render(){var t=this.props.forcedVariation.get("variation_id"),r=this.props.forcedVariation.get("user_id");return u.a.createElement("select",{value:t,onChange:this.handleVariationIdChange,className:"lego-select width--1-1","data-test-section":"oasis-forced-variation-dropdown"},this.props.variations.filter((function(a){return null!=r&&t===a.get("variation_id")||a.get("status")===d.default.VariationStatus.ACTIVE})).map((function(t){return u.a.createElement("option",{key:"option-".concat(t.get("variation_id")),value:t.get("variation_id")},t.get("api_name"))})))}}]),VariationDropdown}(u.a.Component);p.propTypes={forcedVariation:c.a.instanceOf(i.default.Map),index:c.a.number,onVariationIdChange:c.a.func,variations:c.a.instanceOf(i.default.List)},r.a=p},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(3),d=a(142),p=a.n(d),m=a(13),g=a(10),h=a(86),y=a(29),v=a(6);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var _=function EnsureOasisBundle(t,r){h.default.getOasisBundleModules().then((function(t){i=t.OasisExperimentManagerSection,o=t.OasisExperimentManagerModule})).then(r)},E=[{match:"/v2/projects/:proj_id/experiments",handle:[[].concat(_toConsumableArray(v.a.standardNavHandlers(g.default.NavWidth.OPEN,g.default.NavItems.OASIS,g.default.OasisTabs.EXPERIMENTS)),[v.a.parseProjectId,_]),function(t,r){v.a.parseQueryFilters(o.constants.tableIds.EXPERIMENTS,y.default.status.ACTIVE,Object.values(y.default.status))(t,r)},function(t,r){return i.pages.experimentsDashboard.routingSetup(t,r)},function(t,r){return v.a.setPageTitle({next:r,name:"Experiments"})},function(t){var r,a=p()(t.canonicalPath);a.experiment_id&&!Number.isNaN(Number(a.experiment_id))&&(r=Number(a.experiment_id)),v.a.renderMainRegion(l.a.createElement(i.pages.experimentsDashboard.component,{experimentId:r}))}]},{match:"/v2/projects/:proj_id/groups",shouldHandle:function shouldHandleCustomProjects(){return Promise.resolve(u.default.evaluate(m.default.isCustomProject))},handle:[[].concat(_toConsumableArray(v.a.standardNavHandlers(g.default.NavWidth.OPEN,g.default.NavItems.OASIS,g.default.OasisTabs.GROUPS)),[v.a.parseProjectId,_]),function(t,r){return i.pages.groupsDashboard.routingSetup(t,r)},function(t,r){return v.a.setPageTitle({next:r,name:"Groups"})},function(){return v.a.renderMainRegion(l.a.createElement(i.pages.groupsDashboard.component,null))}]}];r.a=E},function(t,r,a){"use strict";var i,o=a(0),c=a.n(o),l=a(3),u=a(14),d=a(10),p=a(97),m=a(86),g=a(6);function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var h=[{match:"/v2/projects/:proj_id/implementation/events",shouldHandle:function shouldHandleFullstack(){return Promise.resolve(!l.default.evaluate(u.getters.isWebProject))},handle:[[function EnsureOasisBundle(t,r){m.default.getOasisBundleModules().then((function(t){i=t.OasisImplementationSection})).then(r)}].concat(function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(g.a.standardNavHandlers(d.default.NavWidth.OPEN,d.default.NavItems.PAGES)),[g.a.parseProjectId,g.a.parseQueryFilters(p.default.tableIds.P13N_DATA_LAYER_EVENTS),g.a.fetchEventImplementationData]),function(t,r){i.pages.EventsDashboard.routingSetup(t,r)},function(t,r){return g.a.setPageTitle({next:r,name:"Events"})},function(){g.a.renderMainRegion(c.a.createElement(i.pages.EventsDashboard.pageComponent,null))}]}];r.a=h},function(t,r,a){"use strict";var i,o=a(3),c=a(14),l=a(86),u=a(43),d=a(49),p=a(6),m=[{match:"/v2/projects/:proj_id/rollouts",handle:[[function EnsureOasisBundle(t,r){l.default.getOasisBundleModules().then((function(t){i=t.RolloutsSection})).then(r)},p.a.loadingMainStart,p.a.parseProjectId],function(t,r){return i.pages.rolloutsDashboard.routingSetup(t,r)},function(){o.default.evaluate(c.default.getters.isCustomProject)||p.a.redirectToCurrentProjectLayers(),o.default.evaluateToJS([u.default.getters.accountPermissions,d.default.fns.canUseFeatureRollouts])||p.a.redirectToCustomProjectHome(),p.a.renderMainRegion(i.pages.rolloutsDashboard.component)}]}];r.a=m},function(t,r,a){"use strict";var i,o=a(3),c=a(86),l=a(14),u=a(6),d=[{match:"/v2/projects/:proj_id/live_variables",handle:[[function EnsureOasisBundle(t,r){c.default.getOasisBundleModules().then((function(t){i=t.LiveVariablesSection})).then(r)},u.a.loadingMainStart,u.a.parseProjectId],function(t,r){return i.pages.variablesDashboard.routingSetup(t,r)},function(t){var r=o.default.evaluate(l.default.getters.isCustomProject),a=o.default.evaluate(l.default.getters.isOTTProject);o.default.evaluate(l.default.getters.isCustomProject)||a?u.a.renderMainRegion(i.pages.variablesDashboard.component):r?u.a.redirectToCustomProjectHome(t):u.a.redirectToCurrentProjectLayers(t)}]}];r.a=d},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(31),l=a(86),u=a(10),d=a(44),p=a(383),m=a(95),g=a(121),h=a(35),y=a(6);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var v="Implementation";function ViewsSection(t,r){Promise.all([a.e(0),a.e(2)]).then(a.bind(null,3643)).then((function(t){Object.assign(ViewsSection,t)})).then(r)}var _=[{match:"/v2/projects/implementation",handle:[function(){return h.default.redirect("/p13n/implementation/pages")}]},{match:"/v2/projects/:proj_id/implementation/pages",metadata:{name:"Pages",category:v},handle:[[ViewsSection].concat(_toConsumableArray(y.a.standardNavHandlers(u.default.NavWidth.OPEN,u.default.NavItems.PAGES)),[y.a.parseProjectId,y.a.parseQueryFilters(d.c.tableIds.P13N_DATA_LAYER_VIEWS),function(t,r){return l.default.getCodeLintingBundleModules().then(r)}]),function(t,r){Object(c.isFeatureEnabled)(m.b.FEATURES.use_search_api_for_pages.FEATURE_KEY)?r():Promise.all([new Promise((function(r){return y.a.fetchCategories(t,r)})),new Promise((function(r){return y.a.fetchViewsForCurrentProject(t,r)})),new Promise((function(r){return y.a.fetchEventsForCurrentProject(t,r)})),new Promise((function(r){return y.a.fetchTagsForCurrentProject(t,r)}))]).then(r)},function(t,r){return y.a.setPageTitle({next:r,name:"Pages",category:v})},function(){p.a.setFrontendRenderStartTime(),y.a.renderMainRegion(o.a.createElement(ViewsSection.pages.dashboard.component,null))}]},{match:"/v2/projects/:proj_id/implementation/pages/:view_id",metadata:{name:"Page Builder",category:v},handle:[[ViewsSection].concat(_toConsumableArray(y.a.standardNavHandlers(u.default.NavWidth.COLLAPSED,u.default.NavItems.PAGES)),[function EnsureCodeLintingBundle(t,r){l.default.getCodeLintingBundleModules().then(r)},y.a.parseProjectId]),[y.a.fetchCategories,y.a.fetchEventsForCurrentProject],function(t,r){return ViewsSection.pages.editor.routingSetup(t,r)},function(t,r){return y.a.setPageTitle({next:r,name:"Page Builder",category:v})},function(){return y.a.renderMainRegion(o.a.createElement(ViewsSection.pages.editor.PageComponent,null))}]},{match:"/v2/projects/:proj_id/implementation/pages/:view_id/events/create",metadata:{name:"Event Builder",category:v},handle:[[ViewsSection].concat(_toConsumableArray(y.a.standardNavHandlers(u.default.NavWidth.COLLAPSED,u.default.NavItems.PAGES)),[y.a.parseProjectId]),y.a.fetchCategories,function(t,r){return ViewsSection.pages.editor.routingSetup(t,r)},function(t,r){return y.a.setPageTitle({next:r,name:"Event Builder",category:v})},function(t){var r=t.queryParams,a=r.event_type?r.event_type:g.a.eventTypes.CLICK;y.a.renderMainRegion(o.a.createElement(ViewsSection.pages.editor.PageComponent,{createEventType:a}))}]},{match:"/v2/projects/:proj_id/implementation/pages/:view_id/events/:event_id",metadata:{name:"Event Builder",category:v},handle:[[ViewsSection].concat(_toConsumableArray(y.a.standardNavHandlers(u.default.NavWidth.COLLAPSED,u.default.NavItems.PAGES)),[y.a.parseProjectId]),y.a.fetchCategories,y.a.fetchEventsForCurrentProject,y.a.setCurrentEvent,function(t,r){return ViewsSection.pages.editor.routingSetup(t,r)},function(t,r){return y.a.setPageTitle({next:r,name:"Event Builder",category:v})},function(t){y.a.renderMainRegion(o.a.createElement(ViewsSection.pages.editor.PageComponent,{editingEventId:Number(t.params.event_id)}))}]}];r.a=_},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(142),l=a.n(c),u=a(10),d=a(6),p=a(2670);function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}r.a=[{match:"/v2/welcome",handle:[[].concat(function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(d.a.standardNavHandlers(u.default.NavWidth.HIDDEN)),[d.a.parseProjectId]),function(t){var r=l()(t.canonicalPath||"");d.a.renderMainRegion(o.a.createElement(p.a.pages.createProject.component,{projectType:r.project_type}))}]}]},function(t,r,a){"use strict";var i={createProject:a(2671).a};r.a={pages:i}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(1023),d=a(2685);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(CreateProjectWelcome,t);var r=_createSuper(CreateProjectWelcome);function CreateProjectWelcome(){var t;_classCallCheck(this,CreateProjectWelcome);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).handleCreateProject=function(t){return u.b.saveProject(t).then((function(t){return u.b.routeToProject(t)}))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(CreateProjectWelcome,[{key:"render",value:function render(){var t=this.props.projectType;return o.a.createElement(d.a,null,o.a.createElement("div",{className:"soft--bottom"},o.a.createElement(u.a,{onCreate:this.handleCreateProject,projectType:t})))}}]),CreateProjectWelcome}(o.a.Component);p.componentId="p13n-welcome-create-project-page",p.propTypes={projectType:l.a.string};var m=p;r.a={component:m}},function(t,r){t.exports="/dist/static/img/x/logos/csharp-d508cb79f10791622fb504c053e9b866.svg"},function(t,r){t.exports="/dist/static/img/x/logos/go-cef202c879c9f8066a278324c6d38ef6.svg"},function(t,r){t.exports="/dist/static/img/x/logos/node-f9c00c84f220e551933b9ec531e8d8b8.svg"},function(t,r){t.exports="/dist/static/img/x/logos/javascript-1a462cb40b7f2ece68f0a2ea4ddf7128.svg"},function(t,r){t.exports="/dist/static/img/x/logos/java-56bda7d4602e6daaf23419a6476f0823.svg"},function(t,r){t.exports="/dist/static/img/x/logos/php-2b018ef335f9c8dc6680329c154b6b9a.svg"},function(t,r){t.exports="/dist/static/img/x/logos/react-7cfd107ac4b0ab8431706fdf61c3abd3.svg"},function(t,r){t.exports="/dist/static/img/x/logos/ruby-c890b19a301182e23e75f3ff41c88e98.svg"},function(t,r){t.exports="/dist/static/img/x/logos/python-93d4f380081d301d7303869098381d01.svg"},function(t,r){t.exports="/dist/static/img/x/logos/apple-c44c99b39917a2197b6d4c9d184530ee.svg"},function(t,r){t.exports="/dist/static/img/x/logos/android-0413393c524cc9b3eef826a5e1a4128b.svg"},function(t,r){t.exports="/dist/static/img/x/x-edge-create-project-629399aaa18ef4ea5446dd9c22df0e40.svg"},function(t,r){t.exports="/dist/static/img/x/x-web-create-project-0660f4367933167f5952040aaa9e562e.svg"},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(5),d=a(43),p=a(49),m=a(2686),g=a(2687),h=function WelcomeWrapper(t){var r=t.children,a=t.shouldShowDeveloperSupportFooter;return l.a.createElement("div",{className:"overflow-y--auto flex--1","data-test-section":"welcome-section-wrapper"},l.a.createElement(m.a,null),r,a&&l.a.createElement(g.a,null))};h.propTypes={children:o.a.node.isRequired,shouldShowDeveloperSupportFooter:o.a.bool.isRequired},r.a=Object(u.connectGetters)(h,{shouldShowDeveloperSupportFooter:[d.getters.accountPermissions,function(t){return p.fns.canUseFullStackSDKs(t)||p.fns.canUseMobileSDKs(t)||p.fns.canUseOverTheTopSDKs(t)}]})},function(t,r,a){"use strict";var i=a(0),o=a.n(i);r.a=function WelcomeSectionHeader(){return o.a.createElement("div",{className:"welcome-header soft-quad--top reverse background--white width--1-1","data-test-section":"welcome-section-header"},o.a.createElement("div",{className:"max-width--large text--left height--1-1 anchor--middle"},o.a.createElement("h1",{className:"flush--bottom kilo weight--light color--brand push-triple--left"},"Welcome to Optimizely.")))}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(40);r.a=function WelcomeSectionFooter(){return o.a.createElement("div",{className:"background--white border--top","data-test-section":"welcome-section-footer"},o.a.createElement("div",{className:"max-width--large soft-quad--ends anchor--middle"},o.a.createElement("div",{className:"push-double--sides"},o.a.createElement("h2",{className:"push--bottom"},"Developer Support"),o.a.createElement("p",null,"If you have any questions or need help, be sure to visit"," ",o.a.createElement(c.a,{href:"https://developers.optimizely.com/",newWindow:!0},"developers.optimizely.com")," ","or contact Optimizely's developer support team using the help menu in any project you create. You can also post in our Optiverse"," ",o.a.createElement(c.a,{href:"https://community.optimizely.com/",newWindow:!0},"developer discussion group"),". We're always happy and eager to hear your feedback."))))}},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(0),l=a.n(c),u=(a(31),a(3)),d=a(35),p=a(24),m=a(13),g=a(261),h=a.n(g),y=a(97),v=a(21),_=a(145),E=a(740),b=a.n(E),T=a(10),S=a(39),C=a(6),I=a(870);function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var A=[{match:"/v2/projects/:proj_id",metadata:{category:"Experiments"},handle:[[].concat(_toConsumableArray(C.a.standardNavHandlers(T.default.NavWidth.OPEN,T.default.NavItems.PERSONALIZATION,T.default.LayersTabs.LAYERS)),[C.a.parseProjectId]),C.a.disallowCustomProjects,I.a.pages.layersDashboard.routingSetup,C.a.parseQueryFilters(y.default.tableIds.P13N_LAYERS,v.default.status.ACTIVE,o.a.values(v.default.status)),C.a.resetPageable(b.a.CAMPAIGN_OVERVIEW_PAGEABLE_ID),function(t,r){return C.a.setPageTitle({category:"Experiments",next:r})},function(){_.a.setFrontendRenderStartTime(),C.a.renderMainRegion(l.a.createElement(I.a.pages.layersDashboard.component,null)),h.a.setCurrentLayerId(null)}]},{match:"/v2/projects/:proj_id/campaigns",handle:[function(t){var r=Number(t.params.proj_id);d.default.redirect(p.default.xWebHome(r))}]},{match:"/v2/projects/:proj_id/groups",metadata:{name:"Exclusion Groups",category:"Experiments"},shouldHandle:function shouldHandleWebGroups(){return Promise.resolve(u.default.evaluate(m.default.isWebProject)&&u.default.evaluate(S.default.canUseMutex))},handle:[[].concat(_toConsumableArray(C.a.standardNavHandlers()),[C.a.parseProjectId]),I.a.pages.groupsDashboard.routingSetup,function(t,r){return C.a.setPageTitle({name:"Exclusion Groups",next:r})},function(){return C.a.renderMainRegion(l.a.createElement(I.a.pages.groupsDashboard.component,null))}]}];r.a=A},function(t,r,a){"use strict";var i=a(31),o=a(3),c=a(126),l=a(13),u=a(97),d=a(117),p=a(460),m=a(262),g=a(826),h=a(340),y=a(236),v=a(807),_=a(457),E=a(95),b=a(407),T=a(808),S=a.n(T),C=a(559),I=a.n(C),A=a(6),O=a(191),P=a(1318);r.a={component:P.a,routingSetup:function routingSetup(t,r){var a=o.default.evaluate(l.default.id),T={skipEvaluatingCachedData:!0},C=!Object(i.isFeatureEnabled)(E.b.FEATURES.use_search_api_for_sonic_search_boxes.FEATURE_KEY),P=!Object(i.isFeatureEnabled)(E.b.FEATURES.audience_combo_reskin.FEATURE_KEY);g.a.fetchNonArchivedLayerSummaries(a,T);var R=h.default.fetchAll({project_id:a},T);Object(A.b)();var w=Promise.resolve();if(C){var N=d.default.fetchAllByStatus({projectId:a,byPage:!0,archived:!1});Object(c.g)(u.default.tableIds.P13N_LAYERS,N),w=Promise.all([N.firstPage,R,S.a.fetchAll({},T),v.a.fetchAll({},T)])}return w.then((function(){b.a.trackCachedBlockingApiCallsForRoute([p.a.entity,y.a.entity,I.a.entity,_.a.entity]),r();var t={project_id:a};P&&m.a.fetchAll(t,{skipEvaluatingCachedData:!0}),O.a.fetchCreateLayerData()}))}}},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(28),m=a(167),g=a(2),h=a(136),y=a(21),v=a(83),_=a(117),E=a(129),b=a(312),T=a(13),S=a(97),C=a(185),I=a(1085),A=a(94),O=a(2691),P=a(2714);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var R=S.default.tableIds.P13N_LAYERS,w=Object(p.a)({isLegacyDashboardLoading:Object(m.c)(R,1),currentProject:T.default.project,layers:h.default.entityCache,liveCommitTagsByLayerId:[b.default.entityCache,function(t){return t.reduce((function(t,r){return t.set(r.get("layer_id"),r)}),g.default.Map({}))}]})(i=Object(I.a)({expand:[A.a.searchExpandFields.EXPERIMENT_TYPE],query:"",page:1,type:[A.a.searchEntityTypes.CAMPAIGN,A.a.searchEntityTypes.EXPERIMENT],archived:!1,order:A.a.searchSortOrders.DESC,sort:A.a.searchSortableKeys.LAST_MODIFIED})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(LayerTableDataWrapper,t);var r=_createSuper(LayerTableDataWrapper);function LayerTableDataWrapper(){var t;_classCallCheck(this,LayerTableDataWrapper);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={hydratedSearchResultIdsToLayerIds:{},isReloadingSearchResults:!1},t.shouldRenderLegacyTable=function(){return!t.props.searchApiStatus.canQueryEntities},t.hydrateSearchResults=function(r){var a=t.props.currentProject.get("id"),i=Date.now(),o=r.filter((function(t){return t.type===A.a.searchEntityTypes.EXPERIMENT})),c=r.filter((function(t){return t.type===A.a.searchEntityTypes.CAMPAIGN})),l=Promise.resolve({});o.length>0&&(l=E.default.fetchAll({id:o.map((function(t){return t.id})),project_id:a}).then((function(t){return t.reduce((function(t,r){return _extends({},t,_defineProperty({},r.id,r.layer_id))}),{})}))),l.then((function(r){var o=c.reduce((function(t,r){return _extends({},t,_defineProperty({},r.id,r.id))}),{}),l=[].concat(_toConsumableArray(Object.values(r)),_toConsumableArray(c.map((function(t){return t.id})))),u=Promise.resolve([]);return l.length>0&&(u=_.default.fetchAll({project_id:a,id:l}).then((function(){var a=Date.now()-i;C.default.trackSearchHydrationRequestCompleted({requestDuration:a,dashboardName:"web_experiments"}),t.setState((function(t){return{hydratedSearchResultIdsToLayerIds:_extends({},t.hydratedSearchResultIdsToLayerIds,o,r)}}))}))),u}))},t.onEntityUpdate=function(){var r=t.props,a=r.waitForReindex,i=r.reloadSearchPage;return a().then((function(){return t.setState({isReloadingSearchResults:!0}),i().then((function(r){t.hydrateSearchResults(r),t.setState({isReloadingSearchResults:!1})}))}))},t.getDashboardLayerForSearchResult=function(r){var a,i,o,c=t.props,l=c.layers,u=c.liveCommitTagsByLayerId,d=t.state.hydratedSearchResultIdsToLayerIds;d[r.id]&&(i=l.get(d[r.id]),o=u.get(d[r.id],null));var p=(a={},_defineProperty(a,y.default.entityStatus.NOT_STARTED,y.default.status.DRAFT),_defineProperty(a,y.default.entityStatus.RUNNING,y.default.status.RUNNING),_defineProperty(a,y.default.entityStatus.PAUSED,y.default.status.PAUSED),_defineProperty(a,y.default.entityStatus.ARCHIVED,y.default.status.ARCHIVED),a)[r.status]||y.default.status.DRAFT;return g.default.Map({layer:i,liveTag:o,name:r.name,description:r.description,type:r.experiment_type||y.default.type.PERSONALIZATION,last_modified:r.last_modified,status:p,unique_id:r.id})},t.getDashboardLayerForLayer=function(r){var a=t.props.liveCommitTagsByLayerId.get(r.get("id"),null),i=v.default.getStatus(r,a);return g.default.Map({layer:r,liveTag:a,name:r.get("name"),description:r.get("description"),type:r.get("type"),last_modified:r.get("last_modified"),status:i,unique_id:r.get("id")})},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(LayerTableDataWrapper,[{key:"render",value:function render(){var t=this,r=this.props,a=r.isSearchLoading,i=r.isLegacyDashboardLoading,o=r.layers,c=r.currentProject,u=r.currentSearchResults,d=r.changeSearchPage,p=r.currentSearchOptions,m=r.changeSearchFilters,h=r.changeSearchSort,y=r.changeSearchQuery,v=r.submitSearchQuery,_=r.totalSearchPages,E=r.searchApiStatus,b=this.state.isReloadingSearchResults;if(this.shouldRenderLegacyTable()){var T=o.filter((function(t){return t.get("project_id")===c.get("id")})).toList().map(this.getDashboardLayerForLayer);return l.a.createElement(O.a,{dashboardLayers:T,isTableLoading:i,searchApiStatus:E})}return l.a.createElement(P.a,{dashboardLayers:Object(g.toImmutable)(u.map(this.getDashboardLayerForSearchResult)),isTableLoading:a&&!b,currentSearchOptions:p,totalPages:_,changePage:function changePage(){return d.apply(void 0,arguments).then(t.hydrateSearchResults)},changeFilters:function changeFilters(){return m.apply(void 0,arguments).then(t.hydrateSearchResults)},changeSort:function changeSort(){return h.apply(void 0,arguments).then(t.hydrateSearchResults)},changeQuery:function changeQuery(){return y.apply(void 0,arguments).then(t.hydrateSearchResults)},handleEntityUpdate:this.onEntityUpdate,submitQuery:function submitQuery(){return v.apply(void 0,arguments).then(t.hydrateSearchResults)},searchApiStatus:E})}}]),LayerTableDataWrapper}(l.a.Component)).propTypes=_extends({currentProject:d.a.instanceOf(g.default.Map).isRequired,isLegacyDashboardLoading:d.a.bool.isRequired,layers:d.a.instanceOf(g.default.Map).isRequired,liveCommitTagsByLayerId:d.a.instanceOf(g.default.Map).isRequired},I.b),i=o))||i)||i;r.a=w},function(t,r,a){"use strict";var i,o,c=a(11),l=a(204),u=a(535),d=a(1),p=a.n(d),m=a(0),g=a.n(m),h=a(64),y=a(28),v=a(417),_=a(126),E=a(2),b=a(8),T=a.n(b),S=a(14),C=a(44),I=a(21),A=a(83),O=a(117),P=a(129),R=a(263),w=a(378),N=a(39),L=a(160),x=a(325),D=a(661),k=a(659),j=a(660),M=a(1025),U=a(720);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function asyncGeneratorStep(t,r,a,i,o,c,l){try{var u=t[c](l),d=u.value}catch(t){return void a(t)}u.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var c=t.apply(r,a);function _next(t){asyncGeneratorStep(c,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var V=C.c.tableIds.P13N_LAYERS,B=Object(L.pageableEntityTable)(V),G=[{label:T()("Active"),value:I.default.status.ACTIVE},{label:T()("Running"),value:I.default.status.RUNNING},{label:T()("Paused"),value:I.default.status.PAUSED},{label:T()("Draft"),value:I.default.status.DRAFT},{label:T()("Archived"),value:I.default.status.ARCHIVED}],H=Object(y.a)({currentProject:S.getters.project,shouldShowRowActions:N.default.canUseLayerTableRowActions,v2FirstRunText:w.a.v2FirstRunText,v2FirstRunImage:w.a.v2FirstRunImage})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(LayersTable,t);var r=_createSuper(LayersTable);function LayersTable(){var t;_classCallCheck(this,LayersTable);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={isArchiveModalOpen:!1,isUnarchiveModalOpen:!1,onArchiveCbk:null},t.shouldComponentUpdate=Object(v.a)(),t.filterItemByString=function(t,r){return C.d.matchesFields(t,["name","description","unique_id"],r)},t.filterItemByStatus=function(t,r){var a=A.default.getStatus(t.get("layer"),t.get("liveTag"));return r===I.default.status.ACTIVE?a!==I.default.status.ARCHIVED:r===a},t.shouldShowJiraContent=function(){var r=t.props.currentProject;return r.getIn(["jira_integration","enabled"])&&!!r.getIn(["jira_integration","resource_id"])},t.onArchiveExperiment=function(r){t.setState({isArchiveModalOpen:!0,onArchiveCbk:r})},t.onUnarchiveExperiment=function(){t.setState({isUnarchiveModalOpen:!0})},t.renderTableRow=function(r){var a=t.props,i=a.currentProject,o=a.shouldShowRowActions,c=r.getIn(["layer","id"]);return g.a.createElement(M.a,{key:c,currentProject:i,jiraIntegrationEnabled:!0,jiraIntegrationSettings:i.get("jira_integration"),dashboardLayer:r,onArchive:t.onArchiveExperiment,onUnarchive:t.onUnarchiveExperiment,shouldShowRowActions:o})},t.renderTableHeader=function(){var r=t.props.shouldShowRowActions;return g.a.createElement(c.a.TR,null,g.a.createElement(h.SortableTableHeader,{field:"name",type:"string"},"Name"),g.a.createElement(h.SortableTableHeader,{field:"type",type:"string"},"Type"),t.shouldShowJiraContent()&&g.a.createElement(c.a.TH,null,"Jira"),g.a.createElement(c.a.TH,null),g.a.createElement(h.SortableTableHeader,{field:"status",type:"string"},"Status"),g.a.createElement(h.SortableTableHeader,{field:"last_modified",type:"date"},"Modified"),g.a.createElement(c.a.TH,null,"Results"),r&&g.a.createElement(c.a.TH,{isNumerical:!0}))},t.fetchDataForStatus=function(r){var a=t.props.currentProject;Object(_.g)(V,O.default.fetchAllByStatus({projectId:a.get("id"),byPage:!0,archived:r===I.default.status.ARCHIVED}))},t.renderEmptyState=function(){var r=t.props,a=r.currentProject,i=r.isTableLoading,o=r.v2FirstRunText,c=r.v2FirstRunImage;return i?g.a.createElement(l.a,{hasOverlay:!0}):g.a.createElement(u.a,{button:g.a.createElement(U.a,{addDataTrackId:!0}),description:g.a.createElement(g.a.Fragment,null,o.subtitle,g.a.createElement(D.a,{fetchAnyProjectEntityAndReturnTrueIfPresent:function fetchAnyProjectEntityAndReturnTrueIfPresent(){return new Promise(function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee(t){var r;return regeneratorRuntime.wrap((function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,P.default.fetchPage({project_id:a.get("id"),$limit:1,$idsOnly:!0});case 2:r=i.sent,t(!(!r||!r.length));case 4:case"end":return i.stop()}}),_callee)})));return function(r){return t.apply(this,arguments)}}())},handleFetchArchivedItems:function handleFetchArchivedItems(){t.fetchDataForStatus(I.default.status.ARCHIVED),C.a.setFilter(V,{status:I.default.status.ARCHIVED})}})),headline:o.title,imagePath:c})},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(LayersTable,[{key:"componentDidMount",value:function componentDidMount(){var t=this.props.searchApiStatus,r={use_search_api_for_sonic_search_boxes:t.canQueryEntities,use_search_api_for_sonic_tables:t.canListEntities};R.b.actions.trackHeroElement("layers_dashboard_table",r),R.b.actions.trackDashboardPageReady(R.b.p13nPages.LAYERS_DASHBOARD,r)}},{key:"render",value:function render(){var t=this,r=this.props,a=r.isTableLoading,i=r.dashboardLayers,o=this.state,c=o.isArchiveModalOpen,l=o.isUnarchiveModalOpen,u=o.onArchiveCbk;return 0===i.size?this.renderEmptyState():g.a.createElement("div",{className:"flex flex--1 flex--column"},g.a.createElement("div",{className:"flex push-double--ends push-quad--sides"},g.a.createElement(x.default,{tableId:V,statusOptions:G,onStatusChange:this.fetchDataForStatus,inputPlaceholder:"Filter by name or description",inputWidth:"width--300"}),g.a.createElement(U.a,{addDataTrackId:!0})),c&&g.a.createElement(k.a,{onArchiveClick:u,closeArchiveModal:function closeArchiveModal(){t.setState({isArchiveModalOpen:!1,onArchiveCbk:null})}}),l&&g.a.createElement(j.a,{closeArchiveModal:function closeArchiveModal(){t.setState({isUnarchiveModalOpen:!1})}}),g.a.createElement(B,{tableId:V,isLoading:a,data:i,entityPlural:"experiments or campaigns",filterItemByString:this.filterItemByString,filterItemByStatus:this.filterItemByStatus,renderTableRow:this.renderTableRow,renderTableHeader:this.renderTableHeader,defaultSortBy:{field:"last_modified",type:"date",dir:"desc"},defaultFilters:{status:I.default.status.ACTIVE}}))}}]),LayersTable}(g.a.Component)).displayName="LayersTable",o.propTypes={currentProject:p.a.instanceOf(E.default.Map).isRequired,dashboardLayers:p.a.instanceOf(E.default.List).isRequired,isTableLoading:p.a.bool.isRequired,searchApiStatus:p.a.shape({canListEntities:p.a.bool.isRequired,canQueryEntities:p.a.bool.isRequired}).isRequired,shouldShowRowActions:p.a.bool.isRequired,v2FirstRunImage:p.a.string.isRequired,v2FirstRunText:p.a.object.isRequired},i=o))||i;r.a=H},function(t,r,a){"use strict";a.d(r,"a",(function(){return y}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(190),d=a(26),p=a(65),m=a(2),g=a(20);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function getFormattedDate(t){return tr.date.utc(t).format("MMM D, LT")},y=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(SchedulePoptip,t);var r=_createSuper(SchedulePoptip);function SchedulePoptip(){var t;_classCallCheck(this,SchedulePoptip);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).getStartScheduleString=function(t){var r="";if(t&&g.fns.determineIfStartScheduled(t)){var a=g.fns.getTimeZoneString(t),i=t.get("schedule").get("start_time");r="Scheduled to start on ".concat(h(i)," ").concat(a,".")}return r},t.getStopScheduleString=function(t){var r="";if(t&&g.fns.determineIfStopScheduled(t)){var a=g.fns.getTimeZoneString(t),i=t.get("schedule").get("stop_time");r="Scheduled to stop on ".concat(h(i)," ").concat(a,".")}return r},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(SchedulePoptip,[{key:"render",value:function render(){var t=this.props.experiment,r=this.getStartScheduleString(t),a=this.getStopScheduleString(t),i="".concat(r," ").concat(a).trim();return o.a.createElement("span",null,i&&o.a.createElement(u.a,{testSection:"schedule-poptip",content:i,position:"bottom",isInline:!0},o.a.createElement(d.a,{color:p.brandBlueDark,name:"",size:"medium"})))}}]),SchedulePoptip}(o.a.Component);y.propTypes={experiment:l.a.instanceOf(m.default.Map).isRequired}},function(t,r,a){"use strict";var i,o,c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(32),m=a(478),g=a(109),h=a(31),y=a(5),v=a(2),_=a(28),E=a(61),b=a.n(E),T=a(23),S=a(22),C=a(315),I=a.n(C),A=a(38),O=a(14),P=a(359),R=a(1372),w=a(202),N=a(168),L=a(49),x=a(564),D=a(2694),k=a(956);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j=Object(_.a)({canUpdateJiraLinks:[O.getters.project,L.fns.canUpdateJiraLinks],layerSummaries:R.b.entityCache,isLoadingLinks:N.a.isLoading("jira-links"),jiraIntegrationSettings:O.getters.projectIntegrationById("jira")})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(LayerTableRowActions,t);var r=_createSuper(LayerTableRowActions);function LayerTableRowActions(){var t;_classCallCheck(this,LayerTableRowActions);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).isArchived=function(){return t.props.dashboardLayer.get("status")===T.default.enums.status.ARCHIVED},t.isPaused=function(){return t.props.dashboardLayer.get("status")===T.default.enums.status.PAUSED},t.isRunning=function(){return t.props.dashboardLayer.get("status")===T.default.enums.status.RUNNING},t.shouldShowStartOption=function(){return t.isPaused()&&S.default.canPublishLayer(t.props.currentProject)},t.shouldShowPauseOption=function(){return t.isRunning()&&S.default.canDeactivateLayer(t.props.currentProject)},t.shouldShowArchiveOption=function(){return!t.isArchived()&&S.default.canDeleteLayer(t.props.currentProject)},t.shouldShowUnarchiveOption=function(){return t.isArchived()&&S.default.canDeleteLayer(t.props.currentProject)},t.hasAnyProcessingAdaptiveAudienceConditions=function(){var r=t.props,a=r.dashboardLayer,i=r.layerSummaries;return a.get("layer")?R.a.summaryHasAnyProcessingAdaptiveAudienceConditions(i.get(a.getIn(["layer","id"]))):null},t.duplicate=function(){var r=t.props.dashboardLayer;y.default.showReactDialog(D.a,{props:{layer:r.get("layer")}},{fullScreen:!0,dismissOnBack:!0,isOuiDialog:!0})},t.start=function(){var r=t.props,a=r.dashboardLayer,i=r.handleEntityUpdate,o=a.get("layer"),c=a.get("liveTag"),l=I.a.getText(T.default.fns.getCampaignTypeOfLayer(o),o.get("name")),u=t.hasAnyProcessingAdaptiveAudienceConditions();c&&y.default.confirm({title:u?l.adaptive.title:l.start.title,message:u?l.adaptive.message:l.start.message,confirmText:l.start.confirmText,doSanitizeHTML:!u}).then((function(){A.actions.startCampaign(Object(v.toJS)(o)).then((function(){i().then((function(){y.default.showNotification({message:l.start.confirmationText}),b.a.trackMarketoEvent("x_experiment_list","start","experiment_for_layer",o.get("id"))}))}))}))},t.pause=function(){var r=t.props,a=r.dashboardLayer,i=r.handleEntityUpdate,o=a.get("layer"),c=a.get("liveTag"),l=I.a.getText(T.default.fns.getCampaignTypeOfLayer(o),o.get("name"));c&&y.default.confirm({title:l.pause.title,message:l.pause.message,isWarning:!0,confirmText:l.pause.confirmText}).then((function(){A.actions.pauseCampaign(Object(v.toJS)(o)).then((function(){i().then((function(){y.default.showNotification({message:l.pause.confirmationText})}))}))}))},t.archive=function(){var r=t.props,a=r.dashboardLayer,i=r.currentProject,o=r.handleEntityUpdate,c=a.get("layer"),l=a.get("liveTag"),u=I.a.getText(T.default.fns.getCampaignTypeOfLayer(c),c.get("name")),d=Object(v.toJS)(c),p=Object(v.toJS)(l);p&&t.isRunning()?y.default.confirm({title:u.archiveAndPause.title,message:u.archiveAndPause.message,isWarning:!0,confirmText:u.archiveAndPause.confirmText}).then((function(){return T.default.actions.archive(d).then((function(){return w.a.deactivateTag(p).then((function(t){P.actions.verify({projectId:i.get("id"),revisionToVerify:t.project_code_revision}).catch((function(){}))})).then((function(){o().then((function(){y.default.showNotification({message:u.archiveAndPause.confirmationText})}))}))}))})):y.default.confirm({title:u.archive.title,message:u.archive.message,isWarning:!0,confirmText:u.archive.confirmText}).then((function(){return T.default.actions.archive(d).then((function(){o().then((function(){y.default.showNotification({message:u.archive.confirmationText})}))}))}))},t.onArchiveClick=function(){var r=t.props,a=r.dashboardLayer,i=r.currentProject,o=r.handleEntityUpdate,c=a.get("layer"),l=a.get("liveTag"),u=I.a.getText(T.default.fns.getCampaignTypeOfLayer(c),c.get("name")),d=Object(v.toJS)(c),p=Object(v.toJS)(l);return new Promise((function(r){p&&t.isRunning()?T.default.actions.archive(d).then((function(){return w.a.deactivateTag(p).then((function(t){P.actions.verify({projectId:i.get("id"),revisionToVerify:t.project_code_revision}).catch((function(){}))})).then((function(){o().then((function(){y.default.showNotification({message:u.archiveAndPause.confirmationText})})),r()}))})):T.default.actions.archive(d).then((function(){o().then((function(){y.default.showNotification({message:u.archive.confirmationText})})),r()}))}))},t.unarchive=function(){var r=t.props,a=r.dashboardLayer,i=r.handleEntityUpdate,o=a.get("layer"),c=I.a.getText(T.default.fns.getCampaignTypeOfLayer(o),o.get("name"));T.default.actions.unarchive(Object(v.toJS)(o)).then((function(){i().then((function(){y.default.showNotification({message:c.unarchive.message})}))}))},t.getDropdownContents=function(){var r,a=t.props,i=a.isLoadingLinks,o=a.canUpdateJiraLinks,c=a.dashboardLayer,l=a.currentProject,u=a.jiraIntegrationEnabled,g=a.onArchive,y=a.onUnarchive,v=c.get("layer"),_=u&&l.getIn(["jira_integration","enabled"]),E=T.default.fns.isPersonalizationLayer(v),b=Object(h.isFeatureEnabled)("disable_unarchive_experiment");r=T.default.fns.isMultivariateTestLayer(v)?d.a.createElement(p.a.ListItem,{hideOnClick:!0},d.a.createElement(p.a.BlockLink,{onClick:function onClick(){},testSection:"layer-table-row-dropdown-duplicate-disabled",isLink:!1,minWidth:"150"},d.a.createElement(p.a.BlockLinkText,{text:"Duplicate"}),d.a.createElement(p.a.BlockLinkSecondaryText,{isWarning:!0,secondaryText:tr("We do not support duplication of multivariate tests at this time.")}))):d.a.createElement(p.a.ListItem,{hideOnClick:!0},d.a.createElement(p.a.BlockLink,{onClick:t.duplicate,testSection:"layer-table-row-dropdown-duplicate"},d.a.createElement(p.a.BlockLinkText,{text:"Duplicate"})));var S=d.a.createElement(p.a.ListItem,{hideOnClick:!0},d.a.createElement(p.a.BlockLink,{onClick:t.start,testSection:"layer-table-row-dropdown-start"},d.a.createElement(p.a.BlockLinkText,{text:"Start"})));return null===t.hasAnyProcessingAdaptiveAudienceConditions()&&(S=d.a.createElement(p.a.ListItem,null,d.a.createElement(p.a.BlockLink,{isLink:!1,onClick:function onClick(){},testSection:"layer-table-row-dropdown-start"},d.a.createElement("div",{className:"flex flex-align--center"},d.a.createElement("div",{className:"muted flex--1"},d.a.createElement(p.a.BlockLinkText,{text:"Start"})),d.a.createElement(m.a,{testSection:"layer-summary-progressing-dot"}))))),d.a.createElement(d.a.Fragment,null,r,t.shouldShowStartOption()&&S,t.shouldShowPauseOption()&&d.a.createElement(p.a.ListItem,{hideOnClick:!0},d.a.createElement(p.a.BlockLink,{onClick:t.pause,testSection:"layer-table-row-dropdown-pause"},d.a.createElement(p.a.BlockLinkText,{text:"Pause"}))),t.shouldShowArchiveOption()&&d.a.createElement(p.a.ListItem,{hideOnClick:!0},d.a.createElement(p.a.BlockLink,{onClick:b?function(){return g(t.onArchiveClick)}:t.archive,testSection:"layer-table-row-dropdown-archive"},d.a.createElement(p.a.BlockLinkText,{text:"Archive"}))),t.shouldShowUnarchiveOption()&&d.a.createElement(p.a.ListItem,{hideOnClick:!0},d.a.createElement(p.a.BlockLink,{onClick:b?y:t.unarchive,testSection:"layer-table-row-dropdown-unarchive"},d.a.createElement(p.a.BlockLinkText,{text:"Unarchive"}))),_&&!i&&o&&d.a.createElement(p.a.ListItem,{hideOnClick:!0,key:"jira-options"},d.a.createElement(k.a,{newWindow:x.a.isDesktopApp(),source:v,sourceType:E?"campaign":"experiment"})))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(LayerTableRowActions,[{key:"render",value:function render(){var t=this.props,r=t.currentProject,a=t.dashboardLayer,i=a.get("layer")?this.getDropdownContents():d.a.createElement(p.a.ListItem,{key:"progress-dots"},d.a.createElement("div",{className:"center--child push--ends"},d.a.createElement(m.a,null)));return d.a.createElement(p.a,{activator:d.a.createElement(g.a,{iconFill:"default",iconName:"ellipsis-solid",size:"small",style:"plain",testSection:"view-actions"}),isDisabled:!S.default.canUpdateLayer(r),width:"200px",size:"small",style:"plain",placement:"bottom-end",testSection:"layer-table-row-dropdown-".concat(a.get("unique_id"))},d.a.createElement(p.a.Contents,null,i))}}]),LayerTableRowActions}(d.a.Component)).propTypes={canUpdateJiraLinks:l.a.bool,currentProject:l.a.instanceOf(v.default.Map).isRequired,dashboardLayer:l.a.instanceOf(v.default.Map).isRequired,handleEntityUpdate:l.a.func.isRequired,isLoadingLinks:l.a.bool,jiraIntegrationEnabled:l.a.bool.isRequired,layerSummaries:l.a.instanceOf(v.default.Map).isRequired,onArchive:l.a.func.isRequired,onUnarchive:l.a.func.isRequired},o.defaultProps={canUpdateJiraLinks:!1,isLoadingLinks:!1},i=o))||i;r.a=j},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(9),m=a.n(p),g=a(25),h=a(107),y=a(19),v=a(154),_=a(5),E=a(28),b=a(83),T=a(117),S=a(22),C=a(37),I=a(13),A=a(2695),O=a(54),P=a(155);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var R=Object(E.a)({currentProject:I.default.project,projects:C.default.activeWebProjects,canDuplicateAcrossProjects:[C.default.accountPermissions,S.default.canDuplicateAcrossProjects]})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(DuplicateLayerDialog,t);var r=_createSuper(DuplicateLayerDialog);function DuplicateLayerDialog(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,DuplicateLayerDialog),(a=r.call(this,t)).handleDuplicateClick=function(){var t,r,i=a.props,o=i.canDuplicateAcrossProjects,c=i.currentProject,l=i.layer,u=i.projects,d=a.state,p=d.selectedProject,m=d.text;o&&"NO_PROJECT_SELECTED"===p.get("project_name")?a.setState({error:tr("Please select a project")}):(r="NO_PROJECT_SELECTED"===p.get("project_name")?c:u.filter((function(t){return t.get("project_name")===p.get("project_name")})).get(0),_.default.loadingWhen("duplicateExperiment",T.default.duplicateToProject(l.get("id"),r.get("id")).done((function(t){a.setState({error:null,response:t,selectedProject:r},(function(){return _.default.hideDialog()}))})).fail((function(i){t=403===i.status?m.permissionsError:tr("Something went wrong"),a.setState({error:t,selectedProject:r})}))))},a.handleProjectSelectDropdown=function(t){"NO_PROJECT_SELECTED"!==t&&a.setState((function(r){return{selectedProject:r.selectedProject.set("project_name",t),error:null}}))},a.getDialogBody=function(){var t=a.state,r=t.error,i=t.text,o=t.selectedProject,c=a.props,u=c.canDuplicateAcrossProjects,d=c.projects,p=[{label:"Select a Project",value:"NO_PROJECT_SELECTED"}];return d.map((function(t){p.push({id:t.get("id"),label:t.get("project_name"),value:t.get("project_name")})})),l.a.createElement(O.default,{className:"position--relative",loadingId:"duplicateExperiment"},l.a.createElement(h.b.Fieldset,null,l.a.createElement("ol",{className:"oui-form-fields"},l.a.createElement("li",{className:m()({"oui-form-field__item":!0,"oui-form-bad-news":r})},l.a.createElement("p",{"data-test-section":"duplicate-layer-paragraph-text"},a.duplicateInstructions()),l.a.createElement("div",{"data-test-section":"duplicate-layer-paragraph-note"},i.note),u&&l.a.createElement("div",{className:"push-double--top"},l.a.createElement(P.default,{width:300,items:p,isFilterable:!0,inputPlaceholder:"Select a Project",testSection:"duplicate-layer-select-project",value:o.get("project_name"),onChange:a.handleProjectSelectDropdown})),r&&l.a.createElement("div",{className:"oui-form-note oui-form-bad-news","data-test-section":"error-selected-project"},r)))))},a.renderDialogNew=function(){var t=a.state.text;return l.a.createElement(h.a,{footerButtonList:[l.a.createElement(y.a,{key:"Cancel",style:"plain",onClick:_.default.hideDialog,testSection:"duplicate-cancel"},"Cancel"),l.a.createElement(y.a,{key:"Duplicate",style:"highlight",onClick:a.handleDuplicateClick,testSection:"duplicate-layer-button"},"Duplicate")],title:t.title,onClose:_.default.hideDialog,testSection:"layer-duplicate"},a.getDialogBody())},a.renderSheet=function(){var t=a.state.text;return l.a.createElement(v.a,{footerButtonList:[l.a.createElement(y.a,{key:"Cancel",style:"plain",onClick:_.default.hideDialog,testSection:"duplicate-cancel"},"Cancel"),l.a.createElement(y.a,{key:"Duplicate",style:"highlight",onClick:a.handleDuplicateClick,testSection:"duplicate-layer-button"},"Duplicate")],title:t.title,onClose:_.default.hideDialog,testSection:"layer-duplicate"},a.getDialogBody())},a.state={error:null,response:null,text:b.default.getText(Object(g.toJS)(t.layer)).duplicate,selectedProject:Object(g.toImmutable)({project_name:"NO_PROJECT_SELECTED"})},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(DuplicateLayerDialog,[{key:"duplicateInstructions",value:function duplicateInstructions(){var t=this.state.text;return this.props.canDuplicateAcrossProjects?t.selectProject:t.selectSameProject}},{key:"componentWillUnmount",value:function componentWillUnmount(){var t=this.props.currentProject,r=this.state,a=r.response,i=r.selectedProject,o=r.text;a&&_.default.showReactDialog(A.a,{props:{settings:a,selectedProjectName:i.get("project_name"),title:o.successTitle,successMessage:o.successMessage,wasDuplicationCrossProject:i.get("id")===t.get("id")}},{fullScreen:!0,dismissOnBack:!0})}},{key:"render",value:function render(){return this.props.canDuplicateAcrossProjects?this.renderSheet():this.renderDialogNew()}}]),DuplicateLayerDialog}(l.a.Component)).propTypes={canDuplicateAcrossProjects:d.a.bool.isRequired,currentProject:d.a.instanceOf(g.Immutable.Map).isRequired,layer:d.a.instanceOf(g.Immutable.Map).isRequired,projects:d.a.instanceOf(g.Immutable.List).isRequired},i=o))||i;r.a=R},function(t,r,a){"use strict";a.d(r,"a",(function(){return P}));var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(11),d=a(107),p=a(26),m=a(98),g=a(19),h=a(65),y=a(5),v=a(35);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=u.a.TH,E=u.a.TD,b=u.a.TR,T=u.a.THead,S=u.a.TBody,C=d.b.Footer,I=d.b.Fieldset,A=d.b.Title,O=d.b.Wrapper,P=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(DuplicateLayerSuccess,t);var r=_createSuper(DuplicateLayerSuccess);function DuplicateLayerSuccess(){return _classCallCheck(this,DuplicateLayerSuccess),r.apply(this,arguments)}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(DuplicateLayerSuccess,[{key:"hasExistingEntities",value:function hasExistingEntities(){var t=this.props.settings;return!(!t.audience_maps||!t.audience_maps.find((function(t){return!t.is_new})))||!(!t.event_maps||!t.event_maps.find((function(t){return!t.is_new})))||!(!t.view_maps||!t.view_maps.find((function(t){return!t.is_new})))}},{key:"hasNewEntities",value:function hasNewEntities(){var t=this.props.settings;return!(!t.audience_maps||!t.audience_maps.find((function(t){return t.is_new})))||!(!t.event_maps||!t.event_maps.find((function(t){return t.is_new})))||!(!t.view_maps||!t.view_maps.find((function(t){return t.is_new})))}},{key:"componentWillUnmount",value:function componentWillUnmount(){v.default.windowLocationReload()}},{key:"getNewSettings",value:function getNewSettings(){var t=this.props.settings;return o.a.createElement(o.a.Fragment,null,t.audience_maps&&t.audience_maps.map((function(t){if(t.is_new)return o.a.createElement(b,{testSection:"duplicate-layer-new-audience"},o.a.createElement(E,null,o.a.createElement("div",{className:"text--right width--50"},o.a.createElement(p.a,{color:h.greenBase,name:"check",size:"small"}))),o.a.createElement(E,{width:"80%"},t.new_name),o.a.createElement(E,null,o.a.createElement("div",{className:"text--right micro muted"},"Audience")))})),t.event_maps&&t.event_maps.map((function(t){if(t.is_new)return o.a.createElement(b,{testSection:"duplicate-layer-new-event"},o.a.createElement(E,null,o.a.createElement("div",{className:"text--right width--50"},o.a.createElement(p.a,{color:h.greenBase,name:"check",size:"small"}))),o.a.createElement(E,{width:"80%"},t.new_name),o.a.createElement(E,null,o.a.createElement("div",{className:"text--right micro muted"},"Event")))})),t.view_maps&&t.view_maps.map((function(t){if(t.is_new)return o.a.createElement(b,{testSection:"duplicate-layer-new-view"},o.a.createElement(E,null,o.a.createElement("div",{className:"text--right width--50"},o.a.createElement(p.a,{color:h.greenBase,name:"check",size:"small"}))),o.a.createElement(E,{width:"80%"},t.new_name),o.a.createElement(E,null,o.a.createElement("div",{className:"text--right micro muted"},"Page")))})))}},{key:"getOldSettings",value:function getOldSettings(){var t=this.props,r=t.settings,a=t.selectedProjectName;return o.a.createElement(o.a.Fragment,null,r.audience_maps&&r.audience_maps.map((function(t){if(!t.is_new)return o.a.createElement(b,{testSection:"duplicate-layer-old-audience"},o.a.createElement(E,null,o.a.createElement("div",{className:"text--right width--50"},o.a.createElement(p.a,{color:h.redBase,name:"xmark",size:"small"}))),o.a.createElement(E,{width:"80%"},t.old_name,o.a.createElement("p",{className:"micro"},t.old_name," matches ",t.new_name,", an audience in ",a)),o.a.createElement(E,null,o.a.createElement("div",{className:"text--right micro muted"},"Audience")))})),r.event_maps&&r.event_maps.map((function(t){if(!t.is_new)return o.a.createElement(b,{testSection:"duplicate-layer-old-event"},o.a.createElement(E,null,o.a.createElement("div",{className:"text--right width--50"},o.a.createElement(p.a,{color:h.redBase,name:"xmark",size:"small"}))),o.a.createElement(E,{width:"80%"},t.old_name,o.a.createElement("p",{className:"micro"},t.old_name," matches ",t.new_name,", an event in ",a)),o.a.createElement(E,null,o.a.createElement("div",{className:"text--right micro muted"},"Event")))})),r.view_maps&&r.view_maps.map((function(t){if(!t.is_new)return o.a.createElement(b,{testSection:"duplicate-layer-old-view"},o.a.createElement(E,null,o.a.createElement("div",{className:"text--right width--50"},o.a.createElement(p.a,{color:h.redBase,name:"xmark",size:"small"}))),o.a.createElement(E,{width:"80%"},t.old_name,o.a.createElement("p",{className:"micro"},t.old_name," matches ",t.new_name,", a page in"," ",a)),o.a.createElement(E,null,o.a.createElement("div",{className:"text--right micro muted"},"Page")))})))}},{key:"render",value:function render(){var t=this.props,r=t.title,a=t.successMessage,i=t.selectedProjectName,c=t.wasDuplicationCrossProject;return o.a.createElement("div",{className:"flex--1 position--relative"},o.a.createElement(O,{testSection:"layer-duplicate-success"},o.a.createElement(A,null,r),o.a.createElement(I,{testSection:"duplicate-layer-data-container"},o.a.createElement("div",{className:"delta push--bottom"},"Summary"),this.hasNewEntities()&&o.a.createElement("div",{className:"push-double--bottom"},o.a.createElement(u.a,{style:"rule-no-bottom-border",tableLayoutAlgorithm:"auto"},o.a.createElement(T,null,o.a.createElement(b,{borderStyle:"top"},o.a.createElement(_,{colSpan:2,testSection:"duplicate-layer-destination-project"},"Duplicated to ",i),o.a.createElement(_,null))),o.a.createElement(S,null,this.getNewSettings()))),c&&this.hasExistingEntities()&&o.a.createElement("div",{className:"push-double--bottom"},o.a.createElement(u.a,{style:"rule-no-bottom-border",tableLayoutAlgorithm:"auto"},o.a.createElement(T,null,o.a.createElement(b,{borderStyle:"top"},o.a.createElement(_,{colSpan:2,testSection:"duplicate-layer-already-exists-destination-project"},"Already existed in ",i),o.a.createElement(_,null))),o.a.createElement(S,null,this.getOldSettings()))),o.a.createElement("p",null,a)),o.a.createElement(C,null,o.a.createElement(m.a,{rightGroup:[o.a.createElement(g.a,{key:"success",style:"highlight",onClick:y.default.hideDialog,testSection:"duplicate-layer-success-done-button"},"Done")]}))))}}]),DuplicateLayerSuccess}(o.a.Component);P.propTypes={selectedProjectName:l.a.string.isRequired,settings:l.a.object.isRequired,successMessage:l.a.string.isRequired,title:l.a.string.isRequired,wasDuplicationCrossProject:l.a.bool.isRequired}},function(t,r,a){"use strict";var i,o,c,l=a(1),u=a.n(l),d=a(0),p=a.n(d),m=a(154),g=a(19),h=a(71),y=a(2),v=a(28),_=a(35),E=a(5),b=a(61),T=a.n(b),S=a(362),C=a(24),I=a(54),A=a(496),O=a(82),P=a(14),R=a(23),w=a(289),N=a(49),L=a(34),x=a(705);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var D=(i=Object(v.a)({canUpdateLayer:[P.getters.project,N.fns.canUpdateLayer],currentProjectId:P.getters.id,errors:O.getters.errors,experimentToSave:O.getters.experimentToSave,layerDataToSave:O.getters.layerDataToSave(R.enums.policy.SINGLE_EXPERIMENT),name:w.b.name,targetingType:O.getters.targetingType(R.enums.policy.SINGLE_EXPERIMENT)}),Object(h.withTrack)(o=i(((c=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ABExperimentDialogReact,t);var r=_createSuper(ABExperimentDialogReact);function ABExperimentDialogReact(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ABExperimentDialogReact),(a=r.call(this,t)).clearNameError=function(){O.actions.setErrors({name:""})},a.fetchNewlyCreatedViewIfNecessaryAndCompleteSave=function(t,r){var i=a.props,o=i.currentProjectId;(i.targetingType===R.constants.TargetingTypes.URL?L.actions.fetch(r.url_targeting.view_id):$.Deferred().resolve()).then((function(){var t=C.default.campaignHome(o,r.id);E.default.hideDialog().then((function(){_.default.go(t)}))}))},a.saveABExperiment=function(){var t=a.props,r=t.experimentToSave,i=t.layerDataToSave,o=t.name,c=O.actions.validateFormDataOnSave(R.enums.policy.SINGLE_EXPERIMENT);if(Object.values(c).some((function(t){return!!t})))Object.values(c).forEach((function(t){t&&E.default.showNotification({message:t,type:"error"})}));else try{var l=R.actions.createSingleABTestLayer(i,r);l.then((function(t){var r=a.props.track,i={type:t.type,experimentId:t.id,experimentName:t.name};E.default.showNotification({message:tr("The experiment {0} has been created.",o)}),T.a.trackMarketoEvent("x_web","create","experiment",null),r("Experiment Created",i),a.fetchNewlyCreatedViewIfNecessaryAndCompleteSave(R.enums.policy.SINGLE_EXPERIMENT,t)})),E.default.loadingWhen("ab-layer-detail",l)}catch(t){E.default.showNotification({type:"error",message:"There was an error creating a new A/B Test. Please refresh the page and try again."}),S.a.withScope((function(r){r.setExtra("layerData",i),S.a.captureException(t)}))}},O.actions.init({mode:O.enums.modes.CREATE,isMultivariateTest:!1}),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ABExperimentDialogReact,[{key:"render",value:function render(){var t=this.props,r=t.canUpdateLayer,a=t.errors;return p.a.createElement(m.a,{testSection:"layer-detail",title:"New A/B Test",onClose:E.default.hideDialog,hasRequiredFieldsIndicator:!0,footerButtonList:[p.a.createElement(g.a,{key:"cancel",onClick:E.default.hideDialog,style:"plain",testSection:"cancel-button"},"Cancel"),p.a.createElement(g.a,{"data-track-id":"2.0-Campaign-CreateNewCampaign.CreateCampaign",isDisabled:!r,key:"create",onClick:this.saveABExperiment,style:"highlight",testSection:"save-experiment-button"},"Create Experiment")]},p.a.createElement(I.default,{loadingId:"ab-layer-detail"},p.a.createElement(A.a,{nameError:a.get("name"),onNameChange:this.clearNameError}),p.a.createElement(x.a,null)))}}]),ABExperimentDialogReact}(p.a.Component)).propTypes={canUpdateLayer:u.a.bool.isRequired,currentProjectId:u.a.number.isRequired,errors:u.a.instanceOf(y.default.Map).isRequired,experimentToSave:u.a.object.isRequired,layerDataToSave:u.a.object.isRequired,name:u.a.string,targetingType:u.a.string.isRequired,track:u.a.func.isRequired},c.defaultProps={name:""},o=c))||o)||o);r.a=D},function(t,r,a){"use strict";var i=a(3),o=a(521);r.a={setLayerDescription:function setLayerDescription(t){i.default.dispatch(o.a.P13N_SET_LAYER_DESCRIPTION,{description:t})},setLayerName:function setLayerName(t){i.default.dispatch(o.a.P13N_SET_LAYER_NAME,{name:t})}}},function(t,r,a){"use strict";var i,o=a(12),c=a.n(o),l=a(1),u=a.n(l),d=a(0),p=a.n(d),m=a(4),g=a(79),h=a(19),y=a(98),v=a(5),_=a(2),E=a(871),b=a(66),T=a.n(b),S=a(85),C=a(39),I=a(23),A=a(501),O=a(1026),P=a.n(O),R=a(155),w=a(446),N=a(54),L=a(391),x=a(2699),D=a(721);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var k=Object(E.b)(i=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(TargetingFull,t);var r=_createSuper(TargetingFull);function TargetingFull(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,TargetingFull),(a=r.call(this,t)).beforeLeave=function(){return S.default.confirmNavigation(a.hasUnsavedChanges(),"experiment")},a.handleTargetingChange=function(t){a.setState({targetingType:t})},a.reset=function(){var t=a.props,r=t.savedViewIds,i=t.urlTargetingConfig;a.setState({selectedViewIds:r,addedViews:_.default.Set(),urlTargetingConfig:i},(function(){Object(m.isFunction)(this.resetChildConfig)&&this.resetChildConfig()}))},a.hideDialog=function(){a.reset(),v.default.hideDialog()},a.onSave=function(){var t=a.state.targetingType;a.setState({isSaving:!0}),(t===I.default.constants.TargetingTypes.URL?a.saveWithUrlTargeting():a.saveWithSelectedViews()).then((function(){a.setState({isSaving:!1})}))},a.saveWithSelectedViews=function(){var t=a.props,r=t.onSave,i=t.targetingType,o=t.urlTargetingConfig,l=a.state,u=l.addedViews,d=l.selectedViewIds,p=c.a.Deferred();return 0===d.size?(v.default.showNotification({message:tr("Please choose at least one page."),type:"error"}),p.resolve()):(L.a.actions.confirmSwitchFromURLTargetingToSavedViews(i,o.get("view_id")).then((function(){var t=a.props.currentLayerId;I.default.actions.updateLayerViews(t,d.toJS()).then((function(){if(v.default.showNotification({message:tr("Your changes have been saved.")}),r){var t=u.last()?u.last().toJS():null;r(t)}a.reset(),p.resolve()}))})).fail((function(){return p.resolve()})),p)},a.saveWithUrlTargeting=function(){var t=a.props,r=t.onSave,i=t.savedViewIds,o=t.targetingType,l=t.views,u=a.state.urlTargetingConfig,d=A.default.validateSmartView(u,!1),p=c.a.Deferred(),g=Object(m.cloneDeep)(d);return g.conditions=Object(m.flatten)(g.conditions).join(""),Object(m.some)(g)?(a.setState({urlTargetingErrors:d}),p.resolve()):(L.a.actions.confirmSwitchFromSavedViewsToURLTargeting(o,i,l).then((function(){var t=a.props.currentLayerId;I.default.actions.saveOrUpdateLayerWithUrlTargeting(t,u.toJS()).then((function(t){v.default.showNotification({message:tr("Your changes have been saved.")}),r&&r(t),a.reset(),p.resolve()}))})).fail((function(){return p.resolve()})),p)},a.saveUrlTargetingAsView=function(){var t=a.state.urlTargetingConfig,r=L.a.actions.convertURLTargetingConfigToSmartView(t);v.default.showReactDialog(w.ConfigureViewSmart,{props:{onSave:function onSave(r){if(t.get("view_id")){var i=a.props.currentLayerId;i&&I.default.actions.fetch(i,!0)}a.setState((function(t){return{selectedViewIds:t.selectedViewIds.add(r.id),addedViews:t.addedViews.add(Object(_.toImmutable)(r)),urlTargetingConfig:L.a.constants.DEFAULT_URL_TARGETING_CONFIG_SMART}}))},isInDialog:!0,isStandAlone:!0,viewConfiguration:Object(_.toImmutable)(r)}},{fullScreen:!0,dismissOnBack:!0,isOuiDialog:!0})},a.updateSelectedViews=function(t,r){a.setState({selectedViewIds:t,addedViews:r})},a.updateUrlTargetingConfig=function(t,r){a.setState((function(r){var a=_.default.Map();return r.errors&&(a=L.a.fns.validateUrlTargetingConfig(t)),{urlTargetingConfig:r.urlTargetingConfig.merge(t),urlTargetingErrors:a}}),r)},a.updateConditionErrors=function(t){a.setState({urlTargetingErrors:{conditions:t}})},a.usePageAsUrlTarget=function(t){var r=t.filter((function(t,r){return _.default.Set(I.default.enums.URL_TARGETING_FIELDS).has(r)})).delete("api_name");a.setState({urlTargetingConfig:r,targetingType:I.default.constants.TargetingTypes.URL})},a.renderWithoutUrlTargeting=function(){var t=a.props,r=t.canUseUrlTargeting,i=t.views,o=a.state,c=o.addedViews,l=o.selectedViewIds;return p.a.createElement("form",null,p.a.createElement("fieldset",null,p.a.createElement("ol",{className:"lego-form-fields"},p.a.createElement("li",{className:"lego-form-field__item"},p.a.createElement("h3",null,"Pages",p.a.createElement(P.a,null)),p.a.createElement("p",{className:"push-double--bottom"},"You can choose a single page, or more than one if youre testing a funnel or cross-site experience."),p.a.createElement(D.a,{onChange:a.updateSelectedViews,selectedViewIds:l,addedViews:c,views:i,canUseUrlTargeting:r})))))},a.renderWithUrlTargeting=function(){var t=a.props,r=t.canUseUrlTargeting,i=t.campaignType,o=(t.isABExperiment,t.views),c=a.state,l=c.addedViews,u=c.isSaving,d=c.selectedViewIds,m=c.targetingType,h=c.urlTargetingErrors,y=c.urlTargetingConfig,v="test";return i===I.default.enums.campaignTypes.MULTIARMED_BANDIT&&("optimization",v="optimize"),p.a.createElement(N.default,{isLoading:u},p.a.createElement("div",{className:"height--1-1"},p.a.createElement("h1",null,"Targeting"),p.a.createElement("p",{className:"push-double--bottom"},"Define where you’d like this to run. Choose to either target by URL or select saved pages to ",v," a funnel or cross-site experience."),p.a.createElement(g.a,null,"Target By"),p.a.createElement(R.default,{items:L.a.constants.targetingTypeItems,value:m,onChange:a.handleTargetingChange,width:"20%",testSection:"select-targeting-type",trackId:"2.0-Campaign-Overview-Targeting.Toggle"}),p.a.createElement("div",{className:"soft-double--top"},m===I.default.constants.TargetingTypes.URL&&p.a.createElement(x.a,{config:y,onChange:a.updateUrlTargetingConfig,saveUrlTargetingAsView:a.saveUrlTargetingAsView,errors:h,updateConditionErrors:a.updateConditionErrors,setRevertHandler:function setRevertHandler(t){a.resetChildConfig=t}}),m===I.default.constants.TargetingTypes.SAVED_PAGES&&p.a.createElement(D.a,{onChange:a.updateSelectedViews,selectedViewIds:d,addedViews:l,views:o,usePageAsUrlTarget:a.usePageAsUrlTarget,canUseUrlTargeting:r}))))},a.hasUnsavedChanges=function(){var t=a.props,r=t.savedViewIds,i=t.urlTargetingConfig,o=a.state,c=o.selectedViewIds,l=o.targetingType,u=o.urlTargetingConfig,d=!i.equals(u),p=!r.equals(c);return l===I.default.constants.TargetingTypes.URL?d:p},a.renderRequiredIndicatorForUrlTargeting=function(){return a.state.targetingType===I.default.constants.TargetingTypes.URL&&p.a.createElement("div",{className:"oui-sheet__required-indicator cursor--default color--red"},p.a.createElement("span",null,"* Required field"))},t.setBeforeLeave(a.beforeLeave),a.state={selectedViewIds:t.savedViewIds,addedViews:_.default.Set(),targetingType:t.targetingType,urlTargetingConfig:t.urlTargetingConfig,urlTargetingErrors:{},isSaving:!1},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(TargetingFull,[{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(t){this.state.targetingType!==t.targetingType&&this.setState({targetingType:t.targetingType})}},{key:"render",value:function render(){var t=this.props,r=t.canUseUrlTargeting,a=t.isInDialog,i=this.state.isSaving,o=[a?p.a.createElement(h.a,{key:"revert",style:"plain",onClick:this.hideDialog,testSection:"pages-revert"},"Cancel"):p.a.createElement(h.a,{key:"revert",style:"plain",isDisabled:!this.hasUnsavedChanges()||i,onClick:this.reset,testSection:"pages-revert"},"Revert"),p.a.createElement(h.a,{key:"save",style:"highlight",isDisabled:!this.hasUnsavedChanges()||i,onClick:this.onSave,testSection:"pages-save"},"Save")];return p.a.createElement("div",{className:"reading-column","data-test-section":"p13n-editor-pages"},r?this.renderWithUrlTargeting():this.renderWithoutUrlTargeting(),p.a.createElement("div",{className:"lego-form__footer"},p.a.createElement("div",{className:"flex flex-align--center"},this.renderRequiredIndicatorForUrlTargeting(),p.a.createElement("div",{className:"flex--1"},p.a.createElement(y.a,{rightGroup:o})))))}}]),TargetingFull}(p.a.Component))||i;k.propTypes={campaignType:u.a.string,isInDialog:u.a.bool,isABExperiment:u.a.bool.isRequired,onSave:u.a.instanceOf(Function),savedViewIds:u.a.instanceOf(_.default.Set),views:u.a.instanceOf(_.default.List),urlTargetingConfig:u.a.instanceOf(_.default.Map),canUseUrlTargeting:u.a.bool,targetingType:u.a.string},k.defaultProps={campaignType:I.default.enums.campaignTypes.SINGLE_EXPERIMENT,isInDialog:!1};var j=v.default.connectGetters(k,{savedViewIds:L.a.getters.savedViewIds,views:L.a.getters.allSavedViews,urlTargetingConfig:L.a.getters.urlTargetingConfigSmart,targetingType:L.a.getters.targetingType,canUseUrlTargeting:C.default.canUseUrlTargeting,currentLayerId:T.a.id});r.a=j},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(2),d=a(856);var p=function UrlTargeting(t){var r=t.config,a=t.saveUrlTargetingAsView,i=t.errors,o=t.updateConditionErrors,c=t.setRevertHandler,p=r.set("id",r.get("view_id")).delete("view_id");return l.a.createElement("div",{className:"border--all"},l.a.createElement("div",{className:"background--faint border--bottom flex flex-justified--end  soft-half--ends soft-double--right"},l.a.createElement("a",{onClick:a,"data-test-section":"save-as-page","data-track-id":"2.0-Campaign-Targeting.UrlTargeting.UseAsUrlTarget"},"Save as Page...")),l.a.createElement("div",{className:"soft-double"},l.a.createElement(d.a,{viewConfiguration:p,onUpdate:function onUpdate(r,a,i){t.onChange(Object(u.toImmutable)(function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}({},r,a)),i)},updateConditionErrors:o,errors:i,setRevertHandler:c})))};p.propTypes={config:o.a.instanceOf(u.default.Map).isRequired,errors:o.a.object,onChange:o.a.func.isRequired,saveUrlTargetingAsView:o.a.func.isRequired,updateConditionErrors:o.a.func.isRequired,setRevertHandler:o.a.func.isRequired},r.a=p},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(2),d=a(23),p=a(79),m=a(1026),g=a.n(m),h=a(155),y=a(34),v=a(152),_=a(384),E=a(2701),b=a(721);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(TargetingCreation,t);var r=_createSuper(TargetingCreation);function TargetingCreation(t){var a;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,TargetingCreation),(a=r.call(this,t)).handleTargetingChange=function(t){a.props.setTargetingType(t)},a.usePageAsUrlTarget=function(t){var r=t.get("edit_url"),i=Object(u.toImmutable)(y.constants.DEFAULT_URL_CONDITION).set("value",r),o=y.fns.serializeConditions(Object(u.toImmutable)([i]),Object(u.toImmutable)([Object(u.toImmutable)(y.constants.DEFAULT_URL_CONDITION)])),c=d.default.constants.DEFAULT_URL_TARGETING_CONFIG.set("conditions",o).set("edit_url",r);a.props.onChangeUrlTargeting(c),a.handleTargetingChange(d.default.constants.TargetingTypes.URL)},a.renderWithoutUrlTargeting=function(){var t=a.props,r=t.addedViews,i=t.selectedViewIds,o=t.onChangeSelectedViewIds,c=t.views,u=t.viewsError,d=t.canUseUrlTargeting;return l.a.createElement("form",null,l.a.createElement("fieldset",null,l.a.createElement("ol",{className:"lego-form-fields"},l.a.createElement("li",{className:"lego-form-field__item"},l.a.createElement("h3",null,"Pages",l.a.createElement(g.a,null)),l.a.createElement("p",{className:"push-double--bottom"},"You can choose a single page, or more than one if you're testing a funnel or cross-site experience."),l.a.createElement(b.a,{onChange:o,addedViews:r,selectedViewIds:i,views:c,error:u,canUseUrlTargeting:d,shouldUseEditorPageAsUrlTarget:!0})))))},a.renderWithUrlTargeting=function(){var t=a.props,r=t.onChangeUrlTargeting,i=t.addedViews,o=t.selectedViewIds,c=t.onChangeSelectedViewIds,u=t.urlTargetingConfig,m=t.views,g=t.urlTargetingConditionsError,y=t.urlTargetingApiNameError,v=t.urlTargetingUrlError,T=t.viewsError,S=t.canUseUrlTargeting,C=t.targetingType,I="test";switch(t.campaignType){case d.default.enums.campaignTypes.MULTIARMED_BANDIT:d.default.humanReadable.TEXT_BY_CAMPAIGN_TYPE.MULTIARMED_BANDIT.name.toLowerCase(),I="optimize";break;case d.default.enums.campaignTypes.MULTIVARIATE:d.default.humanReadable.TEXT_BY_CAMPAIGN_TYPE.MULTIVARIATE.name.toLowerCase();break;case d.default.enums.campaignTypes.P13N_CAMPAIGN:d.default.humanReadable.TEXT_BY_CAMPAIGN_TYPE.P13N_CAMPAIGN.name.toLowerCase();break;default:d.default.humanReadable.TEXT_BY_CAMPAIGN_TYPE.SINGLE_EXPERIMENT.name.toLowerCase()}return l.a.createElement("div",null,l.a.createElement("h3",null,"Targeting"),l.a.createElement("p",{className:"push-double--bottom"},"Define where you’d like this to run. Choose to either target by URL or select saved pages to ",I," a funnel or cross-site experience."),l.a.createElement(p.a,null,"Target By"),l.a.createElement(h.default,{items:_.a.targetingTypeItems,value:C,onChange:a.handleTargetingChange,width:"20%",testSection:"targeting-creation-select",trackId:"2.0-Campaign-CreateNewCampaign-Targeting.Creation.Toggle"}),l.a.createElement("div",{className:"soft-double--top"},C===d.default.constants.TargetingTypes.URL&&l.a.createElement(E.a,{config:u,onChange:r,conditionsError:g,apiNameError:y,urlError:v}),C===d.default.constants.TargetingTypes.SAVED_PAGES&&l.a.createElement(b.a,{onChange:c,addedViews:i,selectedViewIds:o,views:m,error:T,canUseUrlTargeting:S,usePageAsUrlTarget:a.usePageAsUrlTarget,shouldUseEditorPageAsUrlTarget:!0})))};var i=v.actions.activate(v.enums.TestUrlTargetingSetup.EXPERIMENT_KEY);return a.shouldRenderWithUrlTargeting=t.canUseUrlTargeting,t.isABExperiment&&t.canUseUrlTargeting&&i&&(a.shouldRenderWithUrlTargeting=i===v.enums.TestUrlTargetingSetup.Variations.SIMPLIFIED_CREATION_FLOW),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(TargetingCreation,[{key:"render",value:function render(){return l.a.createElement("div",{"data-test-section":"targeting-creation"},this.shouldRenderWithUrlTargeting?this.renderWithUrlTargeting():this.renderWithoutUrlTargeting())}}]),TargetingCreation}(l.a.Component);T.propTypes={campaignType:o.a.oneOf(Object.values(d.default.enums.campaignTypes)),canUseUrlTargeting:o.a.bool,isABExperiment:o.a.bool.isRequired,onChangeSelectedViewIds:o.a.instanceOf(Function).isRequired,onChangeUrlTargeting:o.a.instanceOf(Function).isRequired,setTargetingType:o.a.instanceOf(Function).isRequired,views:o.a.instanceOf(u.default.List),selectedViewIds:o.a.instanceOf(u.default.Set),addedViews:o.a.instanceOf(u.default.Set),urlTargetingConfig:o.a.instanceOf(u.default.Map),targetingType:o.a.string.isRequired,urlTargetingConditionsError:o.a.string,urlTargetingApiNameError:o.a.string,urlTargetingUrlError:o.a.string,viewsError:o.a.string},T.defaultProps={addedViews:u.default.Set(),campaignType:d.default.enums.campaignTypes.SINGLE_EXPERIMENT,selectedViewIds:u.default.Set(),urlTargetingConfig:_.a.DEFAULT_URL_TARGETING_CONFIG},r.a=T},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(2),d=a(34),p=a(2702),m=a.n(p),g=a(1020),h=a(384);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(UrlTargetingCreation,t);var r=_createSuper(UrlTargetingCreation);function UrlTargetingCreation(){var t;_classCallCheck(this,UrlTargetingCreation);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).onChangeConditions=function(r){var a=r.getIn([0,"value"]),i=d.fns.serializeConditions(r,u.default.List()),o=t.props.config.merge({edit_url:a,conditions:i});t.props.onChange(o)},t.updateAPIName=function(r){var a=t.props.config.merge({api_name:r.target.value});t.props.onChange(a)},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(UrlTargetingCreation,[{key:"render",value:function render(){var t=this.props,r=t.config,a=t.conditionsError,i=t.apiNameError,o=t.urlError,c=d.fns.deserializeConditions(r.get("conditions")).includeConditions;return l.a.createElement("div",{"data-test-section":"url-targeting-creation"},l.a.createElement(m.a,{includeUrlConditions:Object(u.toImmutable)(c),onChange:this.onChangeConditions,showMatchType:!1,error:o||a}),r.get("activation_type")===d.enums.activationModes.MANUAL&&l.a.createElement(g.a,{error:i,apiName:r.get("api_name"),onChange:this.updateAPIName}))}}]),UrlTargetingCreation}(l.a.Component);y.propTypes={config:o.a.instanceOf(u.default.Map),onChange:o.a.func.isRequired,conditionsError:o.a.string,apiNameError:o.a.string,urlError:o.a.string},y.defaultProps={config:h.a.DEFAULT_URL_TARGETING_CONFIG},r.a=y},function(t,r,a){function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=a(4),o=a(9),c=a(1),l=a(0),u=a(2).default,d=a(16).Input,p=a(155).default,m=a(500),g=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(SingleUrl,t);var r=_createSuper(SingleUrl);function SingleUrl(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,SingleUrl),(a=r.call(this,t)).onChangeCondition=a.onChangeCondition.bind(_assertThisInitialized(a)),a.onChangeMatchType=a.onChangeMatchType.bind(_assertThisInitialized(a)),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(SingleUrl,[{key:"onChangeCondition",value:function onChangeCondition(t){var r=t.target.value,a=this.props.includeUrlConditions.setIn([0,"value"],r);this.props.onChange(a)}},{key:"onChangeMatchType",value:function onChangeMatchType(t){var r=this.props.includeUrlConditions.setIn([0,"match_type"],t);this.props.onChange(r)}},{key:"render",value:function render(){var t=this.props,r=t.error,a=t.includeUrlConditions,c=t.showMatchType,u=a.get(0);return l.createElement("table",{className:"lego-table push--bottom"},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,"URL",l.createElement("span",{className:"oui-label display--inline oui-label--required"})),c&&l.createElement("th",null,"Match Type"))),l.createElement("tbody",null,l.createElement("tr",null,l.createElement("td",{className:o({"lego-form-bad-news":r,"width--1-1":!0})},l.createElement(d,{value:u.get("value"),onChange:this.onChangeCondition,type:"text",placeholder:"Enter a URL",testSection:"condition-url-input-row-0"}),r&&l.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"error-url-condition"},r)),c&&l.createElement("td",null,i.some(m.SINGLE_URL_MATCH_TYPES,(function(t){return u.get("match_type")===t.value}))&&l.createElement(p,{items:m.SINGLE_URL_MATCH_TYPES,value:u.get("match_type"),onChange:this.onChangeMatchType,width:"200px"})))))}}]),SingleUrl}(l.Component);g.propTypes={error:c.string,includeUrlConditions:c.instanceOf(u.List).isRequired,onChange:c.func.isRequired,showMatchType:c.bool},g.defaultProps={showMatchType:!0},t.exports=g},function(t,r,a){"use strict";var i,o,c,l=a(0),u=a.n(l),d=a(1),p=a.n(d),m=a(154),g=a(19),h=a(62),y=a(71),v=a(2),_=a(28),E=a(35),b=a(5),T=a(444),S=a.n(T),C=a(24),I=a(54),A=a(66),O=a.n(A),P=a(13),R=a(828),w=a(829),N=a(117),L=a(144),x=a(21),D=a(525),k=a(22),j=a(39),M=a(249),U=a(212),V=a(451),B=a(2704),G=a(2706),H=a(1448),z=a(496),W=a(884),q=a(2708),Y=a(165);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var K=(i=Object(_.a)({canUpdateLayer:[P.default.project,k.default.canUpdateLayer],canUseUrlTargeting:j.default.canUseUrlTargeting,currentLayer:O.a.layer,currentlyEditingMetricWrapper:M.a.currentlyEditingMetricWrapper,currentProjectId:P.default.id,description:D.a.description,errorsByField:Y.b.errors,holdback:w.a.holdback,name:D.a.name,orderedAudienceIds:R.a.orderedAudienceIds,selectedViewIds:Y.b.selectedViewIds,targetingType:Y.b.targetingType,urlTargetingApiNameError:Y.b.urlTargetingApiNameError,urlTargetingConditionsError:Y.b.urlTargetingConditionsError,urlTargetingConfig:Y.b.urlTargetingConfig,urlTargetingUrlError:Y.b.urlTargetingUrlError,views:Y.b.allSavedViewsWithoutSingleUse,viewsError:Y.b.viewsError,workingMetrics:M.a.workingMetrics}),Object(y.withTrack)(o=i(((c=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(LayerDialog,t);var r=_createSuper(LayerDialog);function LayerDialog(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,LayerDialog),(a=r.call(this,t)).clearNameError=function(){Y.a.setErrors({name:""})},a.createLayer=function(){var t=a.props,r=t.currentProjectId,i=t.description,o=t.holdback,c=t.name,l=t.orderedAudienceIds,u=t.selectedViewIds,d=t.targetingType,p=t.urlTargetingConfig,m=t.workingMetrics,g=Object.values(Y.a.validate());if(g.filter((function(t){return t})).length)g.forEach((function(t){t&&b.default.showNotification({message:t,type:"error"})}));else{var h={description:i,holdback:o,metrics:m.toJS(),name:c,policy:x.default.policy.ORDERED,project_id:r,type:x.default.type.PERSONALIZATION};d===L.default.TargetingTypes.URL?h.url_targeting=p.toJS():h.view_ids=u.toJS();try{var y=N.default.createPersonalizationLayer(h,l.toJS()).then((function(t){var i=a.props.track,o={p13nCampaignId:t.id,p13nCampaignName:t.name,type:t.type};(d===L.default.TargetingTypes.URL?V.default.fetch(t.url_targeting.view_id):$.Deferred().resolve()).then((function(){!function onLayerSave(t){b.default.showNotification({message:"The campaign <b>".concat(S()(c,!0),"</b> has been saved.")});var a=C.default.campaignHome(r,t);b.default.hideDialog().then((function(){E.default.go(a)}))}(t.id)})),i("Personalization Campaign Created",o)}));b.default.loadingWhen("layer-detail",y)}catch(t){b.default.showNotification({type:"error",message:"There was an error creating a new Personalization Campaign. Please refresh the page and try again."}),U.a.withScope((function(r){r.setExtra("layerData",h),U.a.captureException(t)}))}}},a.policy=x.default.policy.ORDERED,a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(LayerDialog,[{key:"componentWillUnmount",value:function componentWillUnmount(){Y.a.reset()}},{key:"render",value:function render(){var t=this.props,r=t.canUpdateLayer,a=t.currentlyEditingMetricWrapper,i=t.errorsByField;return u.a.createElement(m.a,{testSection:"layer-detail",title:"New Campaign",hasRequiredFieldsIndicator:!0,onClose:b.default.hideDialog,footerButtonList:[u.a.createElement(g.a,{"data-test-section":"cancel-button",key:"cancel",onClick:b.default.hideDialog,style:"plain"},"Cancel"),u.a.createElement(g.a,{"data-track-id":"2.0-Campaign-CreateNewCampaign.CreateCampaign",isDisabled:!r||a,key:"create",onClick:this.createLayer,style:"highlight",testSection:"save-button"},"Create Campaign")]},u.a.createElement(I.default,{loadingId:"layer-detail"},u.a.createElement(z.a,{campaignType:x.default.campaignTypes.P13N_CAMPAIGN,nameError:i.get("name"),onNameChange:this.clearNameError}),u.a.createElement("div",{className:"push-quad--bottom"},u.a.createElement(q.a,null)),u.a.createElement("div",{className:"push-quad--bottom"},u.a.createElement(h.OptimizelyFeature,{feature:"audience_combo_reskin"},(function(t){return t?u.a.createElement(B.a,null):u.a.createElement(G.a,null)}))),u.a.createElement("div",{className:"push-quad--bottom"},u.a.createElement("h3",null,"Metrics"),u.a.createElement("p",{"data-test-section":"metrics-picker-title"},"Create one or more metrics for this campaign. Choose a primary metric that best determines your campaign’s success. Secondary metrics help gather additional insights but may take longer to achieve statistical significance.",u.a.createElement("span",null),u.a.createElement("a",{href:"https://help.optimizely.com/Ideate_and_Hypothesize/Set_primary%2C_secondary%2C_and_monitoring_metrics",target:"_blank",rel:"noopener noreferrer"},"Learn More")),u.a.createElement(W.a,{layer:Object(v.toImmutable)({policy:this.policy}),metricWrappers:v.default.List()})),u.a.createElement("div",{className:"push-quad--bottom"},u.a.createElement(H.a,null))))}}]),LayerDialog}(u.a.Component)).propTypes={canUpdateLayer:p.a.bool.isRequired,currentlyEditingMetricWrapper:p.a.instanceOf(v.default.Map).isRequired,currentProjectId:p.a.number.isRequired,description:p.a.string,errorsByField:p.a.instanceOf(v.default.Map).isRequired,holdback:p.a.number.isRequired,name:p.a.string,orderedAudienceIds:p.a.instanceOf(v.default.List).isRequired,selectedViewIds:p.a.instanceOf(v.default.List).isRequired,targetingType:p.a.string.isRequired,track:p.a.func.isRequired,urlTargetingConfig:p.a.instanceOf(v.default.Map).isRequired,workingMetrics:p.a.instanceOf(v.default.List).isRequired},c.defaultProps={description:"",name:""},o=c))||o)||o);r.a=K},function(t,r,a){"use strict";var i,o,c=a(12),l=a.n(c),u=a(0),d=a.n(u),p=a(1),m=a.n(p),g=a(2),h=a(28),y=a(417),v=a(764),_=a.n(v),E=a(85),b=a(13),T=a(673),S=a(2705),C=a(180);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I=Object(h.a)({orderedAudienceIds:C.b.orderedAudienceIds,projectId:b.default.id})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ExperienceManager,t);var r=_createSuper(ExperienceManager);function ExperienceManager(){var t;_classCallCheck(this,ExperienceManager);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).shouldComponentUpdate=Object(y.a)(),t.createAudience=function(t){var r=l.a.Deferred();r.then((function(t){C.a.addAudienceId(t.id)})),_.a.fetchOrCreateAudience(null,t).then((function(t){E.default.showAudienceEditorDialog(t,r)}))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ExperienceManager,[{key:"componentWillUnmount",value:function componentWillUnmount(){C.a.clearOrderedAudienceIds()}},{key:"render",value:function render(){var t=this,r=this.props,a=r.orderedAudienceIds,i=r.projectId;return d.a.createElement("div",null,d.a.createElement("h3",null,"Experiences"),d.a.createElement("p",{className:"push-double--bottom"},"Choose which audiences to personalize for. Each audience will see a separate experience. To create experiences with more complex conditions or variations, you can skip this step and add them later."),d.a.createElement(T.a,{addAudience:function addAudience(t){C.a.addAudienceId(t.id)},openCreateAudienceDialog:function openCreateAudienceDialog(r){return t.createAudience(r)},openEditAudienceDialog:function openEditAudienceDialog(t){return C.a.editAudience(t.id)},placeholder:"Search for Audiences",projectId:i,selectedEntityIds:a}),d.a.createElement(S.a,null))}}]),ExperienceManager}(d.a.Component)).propTypes={orderedAudienceIds:m.a.instanceOf(g.default.List).isRequired,projectId:m.a.number.isRequired},i=o))||i;r.a=I},function(t,r,a){"use strict";var i,o,c=a(674),l=a.n(c),u=a(2),d=a(1),p=a.n(d),m=a(0),g=a.n(m),h=a(206),y=a(19),v=a(28),_=a(180);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=function(t){_inherits(TokenTemplate,t);var r=_createSuper(TokenTemplate);function TokenTemplate(){var t;_classCallCheck(this,TokenTemplate);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).editAudience=function(){var r=t.props.item;_.a.editAudience(r.id)},t.removeAudience=function(){var r=t.props.item;_.a.removeAudienceId(r.id)},t}return _createClass(TokenTemplate,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(t){return!this.props.anySelected||!t.anySelected}},{key:"render",value:function render(){var t=this.props,r=t.dragHandle,a=t.item,i=r(g.a.createElement(h.a,{isDraggable:!0,isDismissible:!0,isFullWidth:!0,name:g.a.createElement("span",null,"Experience for ",g.a.createElement("span",{className:"weight--bold"},a.name)),onDismiss:this.removeAudience,order:a.index+1,showWell:!1,usesDragHandle:!0}));return g.a.createElement("div",{className:"flex"},g.a.createElement("div",{className:"flex flex--1 push--right"},i),g.a.createElement("div",{className:"flex flex-justified--end flex-align--center"},g.a.createElement(y.a,{onClick:this.editAudience,size:"tiny",style:"outline"},"View")))}}]),TokenTemplate}(g.a.Component);E.propTypes={anySelected:p.a.number.isRequired,dragHandle:p.a.func.isRequired,item:p.a.instanceOf(Object).isRequired};var b=Object(v.a)({orderedAudiences:_.b.orderedAudiences})(((o=function(t){_inherits(ExperienceOrderManager,t);var r=_createSuper(ExperienceOrderManager);function ExperienceOrderManager(){var t;_classCallCheck(this,ExperienceOrderManager);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).handleAudienceRearrange=function(t){_.a.setOrderedAudienceIds(Object(u.toImmutable)(t.map((function(t){return t.id}))))},t}return _createClass(ExperienceOrderManager,[{key:"render",value:function render(){var t=this.props.orderedAudiences;return g.a.createElement("div",{className:"push--top","data-test-section":"selected-audience-list"},g.a.createElement(l.a,{itemKey:"id",list:Object(u.toJS)(t),onMoveEnd:this.handleAudienceRearrange,padding:0,template:E}))}}]),ExperienceOrderManager}(g.a.Component)).propTypes={orderedAudiences:p.a.instanceOf(u.default.List).isRequired},i=o))||i;r.a=b},function(t,r,a){"use strict";var i,o,c=a(12),l=a.n(c),u=a(1),d=a.n(u),p=a(0),m=a.n(p),g=a(437),h=a(52),y=a(88),v=a(222),_=a(223),E=a(26),b=a(2),T=a(28),S=a(417),C=a(161),I=a(242),A=a(128),O=a(2707),P=a(180);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var R=Object(T.a)({orderedAudienceIds:P.b.orderedAudienceIds,validAudiences:P.b.validAudiences})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ExperienceManager,t);var r=_createSuper(ExperienceManager);function ExperienceManager(){var t;_classCallCheck(this,ExperienceManager);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).shouldComponentUpdate=Object(S.a)(),t.createAudience=function(){var t=l.a.Deferred();t.then((function(t){P.a.addAudienceId(t.id)})),I.actions.fetchOrCreateAudience(null).then((function(r){A.actions.showAudienceEditorDialog(r,t)}))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ExperienceManager,[{key:"componentWillUnmount",value:function componentWillUnmount(){P.a.clearOrderedAudienceIds()}},{key:"render",value:function render(){var t=this,r=this.props,a=r.orderedAudienceIds,i=r.validAudiences;return m.a.createElement(g.a,{allEntities:i,keysToSearch:["name","description"],selectedEntityIds:a},(function(r){var a=r.availableEntities,i=r.handleFilterInput;return m.a.createElement("div",null,m.a.createElement("h3",null,"Experiences"),m.a.createElement("p",{className:"push-double--bottom"},"Choose which audiences to personalize for. Each audience will see a separate experience. To create experiences with more complex conditions or variations, you can skip this step and add them later."),m.a.createElement(O.a,null),m.a.createElement("div",{className:"oui-filter-picker-list"},m.a.createElement(h.a,{isFilter:!0,onInput:i,placeholder:"Browse for Audiences",type:"search"}),m.a.createElement("div",{className:"border--bottom",style:{maxHeight:350,overflowY:"scroll"}},m.a.createElement(y.a,{hasBorder:!0},m.a.createElement(y.a.Category,null,m.a.createElement(g.a.ListItem,{name:"Create New Audience",onClick:t.createAudience,testSection:"create-audience-link"})),m.a.createElement(y.a.Category,{header:"Audiences"},a.map((function(t){return C.fns.compatibleWithOptimizelyX(t)?m.a.createElement(g.a.ListItem,{key:t.get("id"),id:t.get("id"),name:t.get("name"),description:t.get("description"),onClick:function addAudienceFn(){P.a.addAudienceId(t.get("id"))},buttonText:"View",onButtonClick:function editAudienceFn(){P.a.editAudience(t.get("id"))},testSection:"selectable-audience-row"}):m.a.createElement(y.a.Item,{key:t.get("id")},m.a.createElement("div",{className:"muted","data-test-section":"read-only-audience-row"},m.a.createElement(v.a,{overlay:m.a.createElement(_.a,null,"This audience is not compatible with Optimizely X. You can edit this audience or target with it only in Optimizely Classic.")},m.a.createElement("div",{className:"push--right"},m.a.createElement(E.a,{name:"circle-exclamation",size:"small"}))),m.a.createElement("div",{className:"drop-filter-list__text display--inline","data-test-section":"unselected-audience-title"},t.get("name"),m.a.createElement("div",{className:"drop-filter-list__description"},t.get("description")))))})))))))}))}}]),ExperienceManager}(m.a.Component)).propTypes={orderedAudienceIds:d.a.instanceOf(b.default.List).isRequired,validAudiences:d.a.instanceOf(b.default.List).isRequired},i=o))||i;r.a=R},function(t,r,a){"use strict";var i,o,c=a(674),l=a.n(c),u=a(2),d=a(1),p=a.n(d),m=a(0),g=a.n(m),h=a(206),y=a(19),v=a(28),_=a(180);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=function(t){_inherits(TokenTemplate,t);var r=_createSuper(TokenTemplate);function TokenTemplate(){var t;_classCallCheck(this,TokenTemplate);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).editAudience=function(){var r=t.props.item;_.a.editAudience(r.id)},t.removeAudience=function(){var r=t.props.item;_.a.removeAudienceId(r.id)},t}return _createClass(TokenTemplate,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(t){return!this.props.anySelected||!t.anySelected}},{key:"render",value:function render(){var t=this.props,r=t.dragHandle,a=t.item,i=r(g.a.createElement(h.a,{isDraggable:!0,isDismissible:!0,name:g.a.createElement("span",null,"Experience for ",g.a.createElement("span",{className:"weight--bold"},a.name)),onDismiss:this.removeAudience,order:a.index+1}));return g.a.createElement("div",{className:"flex border--top soft-half--top"},i,g.a.createElement("div",{className:"flex flex--1 flex-justified--end flex-align--center"},g.a.createElement(y.a,{onClick:this.editAudience,size:"tiny",style:"outline"},"View")))}}]),TokenTemplate}(g.a.Component);E.propTypes={anySelected:p.a.number.isRequired,dragHandle:p.a.func.isRequired,item:p.a.instanceOf(Object).isRequired};var b=Object(v.a)({orderedAudiences:_.b.orderedAudiences})(((o=function(t){_inherits(ExperienceOrderManager,t);var r=_createSuper(ExperienceOrderManager);function ExperienceOrderManager(){var t;_classCallCheck(this,ExperienceOrderManager);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).handleAudienceRearrange=function(t){_.a.setOrderedAudienceIds(Object(u.toImmutable)(t.map((function(t){return t.id}))))},t}return _createClass(ExperienceOrderManager,[{key:"render",value:function render(){var t=this.props.orderedAudiences;return g.a.createElement("div",{"data-test-section":"selected-audience-list"},g.a.createElement(l.a,{itemKey:"id",list:Object(u.toJS)(t),onMoveEnd:this.handleAudienceRearrange,template:E}))}}]),ExperienceOrderManager}(g.a.Component)).propTypes={orderedAudiences:p.a.instanceOf(u.default.List).isRequired},i=o))||i;r.a=b},function(t,r,a){"use strict";var i,o=a(0),c=a.n(o),l=a(28),u=a(39),d=a(877),p=a(165);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=Object(l.a)({canUseUrlTargeting:u.default.canUseUrlTargeting,selectedViewIds:p.b.selectedViewIds,targetingType:p.b.targetingType,urlTargetingApiNameError:p.b.urlTargetingApiNameError,urlTargetingConditionsError:p.b.urlTargetingConditionsError,urlTargetingConfig:p.b.urlTargetingConfig,urlTargetingUrlError:p.b.urlTargetingUrlError,views:p.b.allSavedViewsWithoutSingleUse,viewsError:p.b.viewsError})(i=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(BoundTargetingComponent,t);var r=_createSuper(BoundTargetingComponent);function BoundTargetingComponent(){return _classCallCheck(this,BoundTargetingComponent),r.apply(this,arguments)}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(BoundTargetingComponent,[{key:"render",value:function render(){return c.a.createElement(d.default,_extends({isABExperiment:!1,isCreating:!0,onChangeSelectedViewIds:p.a.setSelectedViewIds,onChangeUrlTargeting:p.a.setUrlTargetingConfig,setTargetingType:p.a.setTargetingType},this.props))}}]),BoundTargetingComponent}(c.a.Component))||i;r.a=m},function(t,r,a){"use strict";var i,o,c,l=a(1),u=a.n(l),d=a(0),p=a.n(d),m=a(71),g=a(154),h=a(19),y=a(40),v=a(134),_=a(2),E=a(28),b=a(35),T=a(5),S=a(362),C=a(24),I=a(82),A=a(14),O=a(23),P=a(289),R=a(49),w=a(209),N=a(34),L=a(54),x=a(496),D=a(705);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var k=(i=Object(E.a)({canUpdateLayer:[A.getters.project,R.fns.canUpdateLayer],currentProjectId:A.getters.id,errors:I.getters.errors,experimentToSave:I.getters.experimentToSave,layerDataToSave:I.getters.layerDataToSave(O.enums.policy.SINGLE_EXPERIMENT),name:P.b.name,targetingType:I.getters.targetingType(O.enums.policy.SINGLE_EXPERIMENT)}),Object(m.withTrack)(o=i(((c=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(MultiArmedBanditDialog,t);var r=_createSuper(MultiArmedBanditDialog);function MultiArmedBanditDialog(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,MultiArmedBanditDialog),(a=r.call(this,t)).state={isSaving:!1},a.clearNameError=function(){I.actions.setErrors({name:""})},a.fetchNewlyCreatedViewIfNecessaryAndCompleteSave=function(t,r){var i=a.props,o=i.currentProjectId,c=i.targetingType,l=i.track;(c===O.constants.TargetingTypes.URL?N.actions.fetch(r.url_targeting.view_id):$.Deferred().resolve()).then((function(){var t=C.default.campaignHome(o,r.id);T.default.hideDialog().then((function(){b.default.go(t)}))})),l("MAB Creation Dialogue Create Clicked")},a.onCancelClick=function(){var t=a.props.track;T.default.hideDialog(),t("MAB Creation Dialogue Cancel Clicked")},a.saveMAB=function(){var t=a.props,r=t.experimentToSave,i=t.layerDataToSave,o=t.name,c=I.actions.validateFormDataOnSave(O.enums.policy.SINGLE_EXPERIMENT),l=Object.values(c);if(l.some((function(t){return!!t})))l.forEach((function(t){t&&T.default.showNotification({message:t,type:"error"})}));else{a.setState({isSaving:!0});try{var u=O.actions.createSingleABTestLayer(i,r);u.then((function(t){var r=a.props.track,i={type:t.type,experimentId:t.id,experimentName:t.name};T.default.showNotification({message:tr("The multi-armed bandit {0} has been created.",o)}),a.fetchNewlyCreatedViewIfNecessaryAndCompleteSave(O.enums.policy.SINGLE_EXPERIMENT,t),a.setState({isSaving:!1}),r("Experiment Created",i)})),T.default.loadingWhen("mab-layer-detail",u)}catch(t){T.default.showNotification({type:"error",message:"There was an error creating a new Multi-Armed Bandit. Please refresh the page and try again."}),S.a.withScope((function(r){r.setExtra("layerData",i),S.a.captureException(t)})),a.setState({isSaving:!1})}}},I.actions.init({mode:I.enums.modes.CREATE,isMultivariateTest:!1}),I.actions.updateCurrentlySelectedTrafficAllocationPolicy(w.default.TrafficAllocationPolicyTypes.MAXIMIZE_CONVERSIONS),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(MultiArmedBanditDialog,[{key:"componentWillUnmount",value:function componentWillUnmount(){I.actions.updateCurrentlySelectedTrafficAllocationPolicy({policy:w.default.TrafficAllocationPolicyTypes.MANUAL})}},{key:"render",value:function render(){var t=this.props,r=t.canUpdateLayer,a=t.errors,i=this.state.isSaving;return p.a.createElement(g.a,{hasRequiredFieldsIndicator:!0,footerButtonList:[p.a.createElement(h.a,{key:"cancel",onClick:this.onCancelClick,style:"plain",testSection:"cancel-button"},"Cancel"),p.a.createElement(h.a,{isDisabled:!r||i,key:"create",onClick:this.saveMAB,style:"highlight",testSection:"save-bandit-button"},"Create Bandit")],onClose:T.default.hideDialog,subtitle:p.a.createElement(p.a.Fragment,null,p.a.createElement("span",null,p.a.createElement("span",null,"Create a multi-armed bandit optimization to maximize your conversions or revenue."," "),p.a.createElement(y.a,{href:"https://help.optimizely.com/Build_Campaigns_and_Experiments/When_to_experiment_and_when_to_optimize",newWindow:!0},"Learn More")),p.a.createElement("div",{className:"push--top width--1-1"},p.a.createElement(v.a,{alignment:"left",type:"brand"},"This type of optimization will not include statistical significance calculations."))),title:"New Multi-Armed Bandit"},p.a.createElement(L.default,{loadingId:"mab-layer-detail"},p.a.createElement("div",{className:"push-quad--bottom"},p.a.createElement(x.a,{campaignType:O.enums.campaignTypes.MULTIARMED_BANDIT,nameError:a.get("name"),onNameChange:this.clearNameError}),p.a.createElement(D.a,{campaignType:O.enums.campaignTypes.MULTIARMED_BANDIT}))))}}]),MultiArmedBanditDialog}(p.a.Component)).propTypes={canUpdateLayer:u.a.bool.isRequired,currentProjectId:u.a.number.isRequired,errors:u.a.instanceOf(_.default.Map).isRequired,experimentToSave:u.a.object.isRequired,layerDataToSave:u.a.object.isRequired,name:u.a.string,targetingType:u.a.string.isRequired,track:u.a.func.isRequired},c.defaultProps={name:""},o=c))||o)||o);r.a=k},function(t,r,a){"use strict";var i,o,c,l=a(1),u=a.n(l),d=a(0),p=a.n(d),m=a(154),g=a(19),h=a(71),y=a(2),v=a(35),_=a(5),E=a(24),b=a(362),T=a(28),S=a(54),C=a(496),I=a(2711),A=a(82),O=a(14),P=a(23),R=a(49),w=a(34),N=a(705);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L=(i=Object(T.a)({canUpdateLayer:[O.getters.project,R.fns.canUpdateLayer],currentProjectId:O.getters.id,errors:A.getters.errors,experimentSectionsToCreateForMVT:A.getters.experimentSectionsToCreateForMVT,layerDataToSave:A.getters.layerDataToSave(P.enums.policy.MULTIVARIATE),layerExperimentToCreateForMVT:A.getters.layerExperimentToCreateForMVT,name:A.getters.name,targetingType:A.getters.targetingType(P.enums.policy.MULTIVARIATE)}),Object(h.withTrack)(o=i(((c=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(MVTExperimentDialog,t);var r=_createSuper(MVTExperimentDialog);function MVTExperimentDialog(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,MVTExperimentDialog),(a=r.call(this,t)).clearNameError=function(){A.actions.setErrors({name:""})},a.fetchNewlyCreatedViewIfNecessaryAndCompleteSave=function(t,r){var i=a.props,o=i.currentProjectId;(i.targetingType===P.constants.TargetingTypes.URL?w.actions.fetch(r.url_targeting.view_id):$.Deferred().resolve()).then((function(){var t=E.default.campaignHome(o,r.id);_.default.hideDialog().then((function(){v.default.go(t)}))}))},a.saveMultivariateTest=function(){var t=a.props,r=t.experimentSectionsToCreateForMVT,i=t.layerDataToSave,o=t.layerExperimentToCreateForMVT,c=t.name,l=A.actions.validateFormDataOnSave(P.enums.policy.MULTIVARIATE);if(Object.values(l).some((function(t){return!!t})))Object.values(l).forEach((function(t){t&&_.default.showNotification({message:t,type:"error"})}));else try{var u=P.actions.createMultivariateTestLayer(i,o,r).then((function(t){var r=a.props.track,i={type:t.type,experimentId:t.id,experimentName:t.name};_.default.showNotification({message:tr("The multivariate test {0} has been created.",c)}),a.fetchNewlyCreatedViewIfNecessaryAndCompleteSave(P.enums.policy.MULTIVARIATE,t),r("Experiment Created",i)}));_.default.loadingWhen("mvt-layer-detail",u)}catch(t){_.default.showNotification({type:"error",message:"There was an error creating a new Multivariate Test. Please refresh the page and try again."}),b.a.withScope((function(r){r.setExtra("layerData",i),b.a.captureException(t)}))}},A.actions.init({mode:A.enums.modes.CREATE,isMultivariateTest:!0}),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(MVTExperimentDialog,[{key:"render",value:function render(){var t=this.props,r=t.canUpdateLayer,a=t.errors;return p.a.createElement(m.a,{testSection:"layer-detail",title:"New Multivariate Test",hasRequiredFieldsIndicator:!0,onClose:_.default.hideDialog,footerButtonList:[p.a.createElement(g.a,{key:"cancel",onClick:_.default.hideDialog,style:"plain",testSection:"cancel-button"},"Cancel"),p.a.createElement(g.a,{"data-track-id":"2.0-Campaign-CreateNewCampaign.CreateCampaign",isDisabled:!r,key:"create",onClick:this.saveMultivariateTest,style:"highlight",testSection:"save-experiment-button"},"Create Experiment")]},p.a.createElement(S.default,{loadingId:"mvt-layer-detail"},p.a.createElement(C.a,{nameError:a.get("name"),onNameChange:this.clearNameError}),p.a.createElement("div",{className:"push-quad--bottom"},p.a.createElement(N.a,null)),p.a.createElement(I.a,{onAddSection:A.actions.addSection,onRemoveSection:A.actions.removeSection,onUpdateSectionName:A.actions.updateSectionName,onAddVariationToSection:A.actions.addVariationToSection,onRemoveVariationFromSection:A.actions.removeVariationFromSection,onUpdateVariationInSection:A.actions.updateVariationInSection})))}}]),MVTExperimentDialog}(p.a.Component)).propTypes={canUpdateLayer:u.a.bool.isRequired,currentProjectId:u.a.number.isRequired,errors:u.a.instanceOf(y.default.Map).isRequired,experimentSectionsToCreateForMVT:u.a.object.isRequired,layerDataToSave:u.a.object.isRequired,layerExperimentToCreateForMVT:u.a.object.isRequired,name:u.a.string,targetingType:u.a.string.isRequired,track:u.a.func.isRequired},c.defaultProps={name:""},o=c))||o)||o);r.a=L},function(t,r,a){"use strict";var i,o,c=a(19),l=a(134),u=a(1),d=a.n(u),p=a(0),m=a.n(p),g=a(28),h=a(2),y=a(82),v=a(291),_=a(2712);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=v.a.MAX_COMBINATION_COUNT,b=Object(g.a)((function(){return{sections:y.getters.sections,errors:y.getters.errors,combinationCount:y.getters.combinationCount}}))(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(MVTSectionContainer,t);var r=_createSuper(MVTSectionContainer);function MVTSectionContainer(){return _classCallCheck(this,MVTSectionContainer),r.apply(this,arguments)}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(MVTSectionContainer,[{key:"render",value:function render(){var t=this,r=this.props,a=r.sections,i=r.combinationCount,o=r.errors,u=r.onAddSection,d=r.onUpdateSectionName,p=r.onRemoveSection,g=r.onAddVariationToSection,h=r.onRemoveVariationFromSection,y=function onUpdateVariationInSection(r,a){t.props.onUpdateVariationInSection(r,a)},v=a.size,b=["mvtCombinationLimit","mvtSectionNames","mvtVariationNames","mvtVariationAllocation"],T=b.some((function(t){return!!o.get(t)}));return m.a.createElement("ol",{className:"lego-form-fields"},m.a.createElement("li",{className:"lego-form-field__item"},m.a.createElement("h3",null,"Sections"),m.a.createElement("p",{className:"push-double--bottom","data-test-section":"variations-explanation-text"},"Multivariate testing is a technique for testing a hypothesis in which multiple sections are modified. The goal of multivariate testing is to determine which combination of variations performs the best out of all the possible combinations."),m.a.createElement("p",{"data-test-section":"section-combination-metadata"},"Total Combinations: ",i,m.a.createElement("span",{className:"muted push--left"},"Max: ",E)),a.map((function(t,r){return m.a.createElement(_.a,{key:t.get("guid"),sectionIndex:r,section:t,sectionCount:v,onRemoveSection:p,onUpdateSectionName:d,onAddVariationToSection:g,onRemoveVariationFromSection:h,onUpdateVariationInSection:y})})),m.a.createElement("div",{className:"push-double--top"},m.a.createElement(c.a,{onClick:u,testSection:"mvt-sections-add-section",width:"full"},"Add Section")),i>E&&m.a.createElement("div",{className:"push-double--top","data-test-section":"mvt-sections-creation-warning-combination-limit"},m.a.createElement(l.a,{alignment:"left",type:"warning"},m.a.createElement("strong",null,"You've exceeded the maximum number of combinations.")," ","Multivariate tests support a maximum of"," ",m.a.createElement("strong",null,E," combinations"),". Either remove sections or variations to save this experiment. Current combination count is ",i,".")),T&&m.a.createElement("div",{className:"lego-form-note lego-form-note--bad-news push-double--top","data-test-section":"mvt-sections-creation-error"},b.map((function(t){if(o.get(t))return m.a.createElement("p",{"data-test-section":"mvt-sections-creation-error-".concat(t),key:t},o.get(t))})))))}}]),MVTSectionContainer}(m.a.Component)).propTypes={sections:d.a.instanceOf(h.default.List).isRequired,errors:d.a.instanceOf(h.default.Map).isRequired,combinationCount:d.a.number.isRequired,onAddSection:d.a.func.isRequired,onRemoveSection:d.a.func.isRequired,onUpdateSectionName:d.a.func.isRequired,onAddVariationToSection:d.a.func.isRequired,onRemoveVariationFromSection:d.a.func.isRequired,onUpdateVariationInSection:d.a.func.isRequired},i=o))||i;r.a=b},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(52),m=a(26),g=a(11),h=a(134),y=a(2),v=a(244),_=a(2713);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(MVTSectionRow,t);var r=_createSuper(MVTSectionRow);function MVTSectionRow(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,MVTSectionRow),(a=r.call(this,t)).onUpdateSectionName=a.onUpdateSectionName.bind(_assertThisInitialized(a)),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(MVTSectionRow,[{key:"onUpdateSectionName",value:function onUpdateSectionName(t,r){var a=r.target.value;this.props.onUpdateSectionName(t,a)}},{key:"render",value:function render(){var t=this.props,r=t.section,a=t.sectionIndex,i=t.sectionCount,c=t.onRemoveSection,l=t.onAddVariationToSection,u=t.onRemoveVariationFromSection,y=t.onUpdateVariationInSection,E=v.c.getTotalPercentageForSection(r),b=!!r.get("variations").find((function(t){return Number(t.get("weight"))<0})),T=r.get("variations").size;return d.a.createElement("div",{className:"border--all soft-double push-double--top","data-test-section":"mvt-section-row-".concat(a)},d.a.createElement("div",{className:"section-header flex flex-justified--between flex-align--center push-double--bottom"},d.a.createElement(p.a,{testSection:"mvt-section-name-input-".concat(a),type:"text",label:"Section Name",isRequired:!0,value:r.get("name"),onChange:o.a.partial(this.onUpdateSectionName,r.get("guid"))}),i>1&&d.a.createElement("div",{onClick:o.a.partial(c,r.get("guid")),"data-test-section":"mvt-section-remove-section",className:"flex soft--left"},d.a.createElement(m.a,{name:"xmark",size:"small",className:"oui-icon icon-target"}))),d.a.createElement(g.a,{tableLayoutAlgorithm:"fixed"},d.a.createElement(g.a.THead,null,d.a.createElement(g.a.TR,null,d.a.createElement(g.a.TH,null,"Variation Name",d.a.createElement("span",{className:"oui-label display--inline oui-label--required"})),d.a.createElement(g.a.TH,{width:"30%"},"Traffic Allocation"))),d.a.createElement(g.a.TBody,null,r.get("variations").map((function(t,i){return d.a.createElement(_.a,{sectionIndex:a,variationIndex:i,key:t.get("guid"),variationCount:T,name:t.get("name"),percentage:t.get("weight")/100,guid:t.get("guid"),onRemoveVariationFromSection:o.a.partial(u,r.get("guid")),onUpdateVariationInSection:o.a.partial(y,r.get("guid"))})})),d.a.createElement(g.a.TR,null,d.a.createElement(g.a.TD,{colSpan:2},d.a.createElement("a",{onClick:o.a.partial(l,r.get("guid")),"data-test-section":"mvt-section-add-variation"},"Add Variation..."),(100!==E||b)&&d.a.createElement("div",{className:"push-double--top"},d.a.createElement(h.a,{alignment:"left",type:"bad-news"},100!==E&&d.a.createElement("div",{"data-test-section":"mvt-section-error-not-100"},"The traffic distribution total must equal 100%. Current total is ",E,"%."),b&&d.a.createElement("div",{"data-test-section":"mvt-section-error-negative-value"},"Traffic distribution values cannot be negative."))))))))}}]),MVTSectionRow}(d.a.Component);E.propTypes={section:l.a.instanceOf(y.default.Map).isRequired,sectionCount:l.a.number,sectionIndex:l.a.number.isRequired,onRemoveSection:l.a.func.isRequired,onUpdateSectionName:l.a.func.isRequired,onAddVariationToSection:l.a.func.isRequired,onRemoveVariationFromSection:l.a.func.isRequired,onUpdateVariationInSection:l.a.func.isRequired},r.a=E},function(t,r,a){"use strict";var i=a(4),o=a.n(i),c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(11),m=a(52);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(MVTSectionVariationRow,t);var r=_createSuper(MVTSectionVariationRow);function MVTSectionVariationRow(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,MVTSectionVariationRow),(a=r.call(this,t)).onUpdateVariationPercentage=a.onUpdateVariationPercentage.bind(_assertThisInitialized(a)),a.onUpdateVariationName=a.onUpdateVariationName.bind(_assertThisInitialized(a)),a.onRemoveVariationFromSection=a.onRemoveVariationFromSection.bind(_assertThisInitialized(a)),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(MVTSectionVariationRow,[{key:"onUpdateVariationPercentage",value:function onUpdateVariationPercentage(t,r){var a={guid:t,weight:100*r.target.value};this.props.onUpdateVariationInSection(a)}},{key:"onUpdateVariationName",value:function onUpdateVariationName(t,r){var a={guid:t,name:r.target.value};this.props.onUpdateVariationInSection(a)}},{key:"onRemoveVariationFromSection",value:function onRemoveVariationFromSection(t){this.props.onRemoveVariationFromSection(t)}},{key:"render",value:function render(){var t=this.props,r=t.name,a=t.sectionIndex,i=t.variationIndex,c=t.percentage,l=t.guid,u=t.variationCount;return d.a.createElement(p.a.TR,null,d.a.createElement(p.a.TD,null,d.a.createElement(m.a,{testSection:"mvt-section-".concat(a,"-variation-name-").concat(i),isRequired:!0,type:"text",value:r,onChange:o.a.partial(this.onUpdateVariationName,l)})),d.a.createElement(p.a.TD,null,d.a.createElement("span",{className:"display--inline-block width--75"},d.a.createElement(m.a,{testSection:"mvt-section-".concat(a,"-variation-percentage-").concat(i),isRequired:!0,type:"number",max:100,min:0,value:Number(c),onChange:o.a.partial(this.onUpdateVariationPercentage,l)}))," ","%",1!==u&&d.a.createElement("a",{className:"push--left",onClick:o.a.partial(this.onRemoveVariationFromSection,l),"data-test-section":"mvt-section-".concat(a,"-delete-variation-").concat(i)},"Delete")))}}]),MVTSectionVariationRow}(d.a.Component);g.propTypes={guid:l.a.string.isRequired,name:l.a.string.isRequired,sectionIndex:l.a.number.isRequired,variationIndex:l.a.number.isRequired,percentage:l.a.number.isRequired,onRemoveVariationFromSection:l.a.func.isRequired,onUpdateVariationInSection:l.a.func.isRequired,variationCount:l.a.number.isRequired},r.a=g},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(9),m=a.n(p),g=a(26),h=a(11),y=a(535),v=a(28),_=a(2),E=a(13),b=a(667),T=a(263),S=a(129),C=a(21),I=a(39),A=a(94),O=a(1413),P=a(661),R=a(659),w=a(660),N=a(1025),L=a(720),x=a(1373);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function asyncGeneratorStep(t,r,a,i,o,c,l){try{var u=t[c](l),d=u.value}catch(t){return void a(t)}u.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var c=t.apply(r,a);function _next(t){asyncGeneratorStep(c,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var D=[{label:"Active",value:C.default.status.ACTIVE},{label:"Running",value:C.default.status.RUNNING},{label:"Paused",value:C.default.status.PAUSED},{label:"Draft",value:C.default.status.DRAFT},{label:"Archived",value:C.default.status.ARCHIVED}],k=Object(v.a)({currentProject:E.default.project,shouldShowRowActions:I.default.canUseLayerTableRowActions,v2FirstRunText:b.a.v2FirstRunText,v2FirstRunImage:b.a.v2FirstRunImage})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(SearchExperimentTable,t);var r=_createSuper(SearchExperimentTable);function SearchExperimentTable(){var t;_classCallCheck(this,SearchExperimentTable);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={focusKey:"",isArchiveModalOpen:!1,isUnarchiveModalOpen:!1,onArchiveCbk:null},t.shouldShowJiraContent=function(){var r=t.props.currentProject;return r.get("jira_integration")&&r.getIn(["jira_integration","enabled"])&&!!r.getIn(["jira_integration","resource_id"])},t.renderSortableHeader=function(r,a,i,o,c,u){var d=t.state.focusKey,p=m()({flex:!0,"flex--row":!0,"flex-align--center":!0,"flex-justified--end":!1}),y=A.a.searchDefaultSortOrder[i]||A.a.searchSortOrders.ASC,v=i!==o&&i===d?y:c,_=l.a.createElement(g.a,{name:v===A.a.searchSortOrders.ASC?"caret-up-solid":"caret-down-solid",size:"small"});return l.a.createElement(h.a.TH,{field:i,type:a},l.a.createElement("span",{className:p},l.a.createElement("span",{onClick:function onClick(){return u(i)},onKeyDown:function onKeyDown(){return u(i)},role:"button",tabIndex:"0",onMouseEnter:function onMouseEnter(){t.setState({focusKey:i})},onMouseLeave:function onMouseLeave(){t.setState({focusKey:""})},className:"flex flex-align--center cursor--pointer","data-test-section":"".concat(i,"-sort-toggle")},r," ",[o,d].includes(i)&&_)))},t.renderTableHeader=function(r,a,i){var o=t.props.shouldShowRowActions;return l.a.createElement(h.a.TR,null,t.renderSortableHeader("Name","string",A.a.searchSortableKeys.NAME,r,a,i),l.a.createElement(h.a.TH,null,"Type"),t.shouldShowJiraContent()&&l.a.createElement(h.a.TH,null,"Jira"),l.a.createElement(h.a.TH,null),t.renderSortableHeader("Status","string",A.a.searchSortableKeys.STATUS,r,a,i),t.renderSortableHeader("Modified","date",A.a.searchSortableKeys.LAST_MODIFIED,r,a,i),l.a.createElement(h.a.TH,null,"Results"),o&&l.a.createElement(h.a.TH,{isNumerical:!0}))},t.onArchiveExperiment=function(r){t.setState({isArchiveModalOpen:!0,onArchiveCbk:r})},t.onUnarchiveExperiment=function(){t.setState({isUnarchiveModalOpen:!0})},t.renderTableRow=function(r){var a=t.props,i=a.currentProject,o=a.handleEntityUpdate,c=a.shouldShowRowActions;return l.a.createElement(N.a,{key:r.get("unique_id"),currentProject:i,jiraIntegrationEnabled:!0,jiraIntegrationSettings:i.get("jira_integration"),dashboardLayer:r,handleEntityUpdate:o,onArchive:t.onArchiveExperiment,onUnarchive:t.onUnarchiveExperiment,shouldShowJiraContent:t.shouldShowJiraContent(),shouldShowRowActions:c})},t.trackFirstPageLoad=function(){var r=t.props.searchApiStatus,a={use_search_api_for_sonic_search_boxes:r.canQueryEntities,use_search_api_for_sonic_tables:r.canListEntities};T.b.actions.trackHeroElement("layers_dashboard_table",a),T.b.actions.trackDashboardPageReady(T.b.p13nPages.LAYERS_DASHBOARD,a)},t.fetchAnyProjectEntityAndReturnTrueIfPresent=function(){return new Promise(function(){var r=_asyncToGenerator(regeneratorRuntime.mark((function _callee(r){var a,i;return regeneratorRuntime.wrap((function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return a=t.props.currentProject,o.next=3,S.default.fetchPage({project_id:a.get("id"),$limit:1,$idsOnly:!0},{force:!0});case 3:i=o.sent,r(!(!i||!i.length));case 5:case"end":return o.stop()}}),_callee)})));return function(t){return r.apply(this,arguments)}}())},t.renderEmptyDashboard=function(r){var a=r.onStatusFilterChange,i=t.props,o=i.v2FirstRunText,c=i.v2FirstRunImage;return l.a.createElement(y.a,{button:l.a.createElement(L.a,{addDataTrackId:!0}),description:l.a.createElement(l.a.Fragment,null,o.subtitle,l.a.createElement(P.a,{fetchAnyProjectEntityAndReturnTrueIfPresent:t.fetchAnyProjectEntityAndReturnTrueIfPresent,handleFetchArchivedItems:function handleFetchArchivedItems(){return a(C.default.status.ARCHIVED)}})),headline:o.title,imagePath:c})},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(SearchExperimentTable,[{key:"render",value:function render(){var t=this,r=this.props,a=r.dashboardLayers,i=r.currentSearchOptions,o=r.isTableLoading,c=r.changeFilters,u=r.changePage,d=r.changeQuery,p=r.changeSort,m=r.currentProject,g=r.submitQuery,h=r.totalPages,y=this.state,v=y.isArchiveModalOpen,_=y.isUnarchiveModalOpen,E=y.onArchiveCbk;return l.a.createElement(l.a.Fragment,null,v&&l.a.createElement(R.a,{onArchiveClick:E,closeArchiveModal:function closeArchiveModal(){t.setState({isArchiveModalOpen:!1,onArchiveCbk:null})}}),_&&l.a.createElement(w.a,{closeArchiveModal:function closeArchiveModal(){t.setState({isUnarchiveModalOpen:!1})}}),l.a.createElement(O.a,{changeFilters:c,changePage:u,changeQuery:d,changeSort:p,currentProject:m,currentSearchOptions:i,data:a,defaultFilterValue:C.default.status.ACTIVE,entityPlural:"experiments or campaigns",filterOptions:D,filterToStatuses:x.a.filterToStatuses,filterToArchivedState:x.a.filterToArchivedState,isTableLoading:o,onFirstPageLoad:this.trackFirstPageLoad,renderCreateDropdown:function renderCreateDropdown(){return l.a.createElement(L.a,{addDataTrackId:!0})},renderEmptyDashboard:this.renderEmptyDashboard,renderTableHeader:this.renderTableHeader,renderTableRow:this.renderTableRow,submitQuery:g,totalPages:h}))}}]),SearchExperimentTable}(l.a.Component)).displayName="SearchExperimentTable",o.propTypes={changeFilters:d.a.func.isRequired,changePage:d.a.func.isRequired,changeQuery:d.a.func.isRequired,changeSort:d.a.func.isRequired,currentProject:d.a.instanceOf(_.default.Map).isRequired,currentSearchOptions:d.a.shape({}).isRequired,dashboardLayers:d.a.instanceOf(_.default.List).isRequired,handleEntityUpdate:d.a.func.isRequired,isTableLoading:d.a.bool.isRequired,searchApiStatus:d.a.shape({canListEntities:d.a.bool.isRequired,canQueryEntities:d.a.bool.isRequired}).isRequired,shouldShowRowActions:d.a.bool.isRequired,submitQuery:d.a.func.isRequired,totalPages:d.a.number.isRequired,v2FirstRunImage:d.a.string.isRequired,v2FirstRunText:d.a.object.isRequired},i=o))||i;r.a=k},function(t,r,a){"use strict";var i=a(270),o=a(3),c=a(14),l=a(125),u=a(44),d=a(202),p=a(10),m=a(858),g=a(1328);r.a={component:g.a,routingSetup:function routingSetup(t,r){var a={project_id:o.default.evaluate(c.getters.id)};c.actions.fetchCurrentProjectLayers(),Promise.all([d.a.fetchAll(a),l.a.fetchAll(a)]).then((function(){i.actions.setActiveNavItem(p.default.NavItems.PERSONALIZATION),i.actions.setActiveTab(p.default.NavItems.PERSONALIZATION,p.default.LayersTabs.GROUPS),u.a.setFilterDefault(m.a.TABLE_IDS.GROUPS,{status:u.c.status.ACTIVE,string:""}),r()}))}}},function(t,r,a){"use strict";var i=a(3),o=a(530);r.a={flagError:function flagError(t,r){i.default.dispatch(o.a.FLAG_ERROR,{type:t,error:r})},resetErrorFlags:function resetErrorFlags(){i.default.dispatch(o.a.RESET_ERROR_FLAGS)},setGroup:function setGroup(t){i.default.dispatch(o.a.SET_GROUP,{group:t})}}},function(t,r,a){"use strict";var i=a(14),o=a(1027),c=["configureGroup","currentlyEditingGroup"],l=[c,i.default.getters.experimentationGroups,i.default.getters.layers,i.default.getters.layerExperiments,i.default.getters.isCustomProject,o.a.filterForAvailableEntities];r.a={availableEntities:l,currentlyEditingGroup:c,errorFlags:["configureGroup","errorFlags"]}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(2),d=a(112),p=a(11),m=a(1281),g=a(2719),h=a(2720),y=function ExclusionGroupSettings(t){var r=!!t.group.get("entities").size;return o.a.createElement("fieldset",{"data-test-section":"exclusion-group-settings"},o.a.createElement("ol",{className:"lego-form-fields"},r&&o.a.createElement("li",{className:"lego-form-field__item"},o.a.createElement(p.a,{testSection:"mutex-entity-table",density:"tight",style:"rule",tableLayoutAlgorithm:"auto"},o.a.createElement(p.a.THead,null,o.a.createElement(p.a.TR,null,o.a.createElement(p.a.TH,null,tr("Name")),o.a.createElement(p.a.TH,{isNumerical:!0},tr("Traffic Allocation")),o.a.createElement(p.a.TH,null,tr("Status")))),t.group.get("entities").map((function(r,a){return o.a.createElement(g.a,{canEditGroup:t.canEditGroup,entity:r,group:t.group,handleRemovedExperiment:t.handleRemovedExperiment,isCustomProject:t.isCustomProject,key:"group-dialog-entity-row-".concat(a)})})))),o.a.createElement(h.a,{canEditGroup:t.canEditGroup,group:t.group,isCustomProject:t.isCustomProject}),o.a.createElement("li",{className:"lego-form-field__item"},r&&o.a.createElement(m.a,{topLabel:tr("Group Traffic Allocation"),leftLabel:tr("Allocated traffic"),min:d.b.ZERO_TRAFFIC_ALLOCATION,max:d.b.MAX_TRAFFIC_ALLOCATION,progress:d.b.MAX_TRAFFIC_ALLOCATION-t.group.get("available_traffic",d.b.MAX_TRAFFIC_ALLOCATION),rightLabel:tr("Available traffic")}))))};y.propTypes={canEditGroup:l.a.bool.isRequired,group:l.a.instanceOf(u.default.Map).isRequired,isCustomProject:l.a.bool.isRequired},r.a=y},function(t,r,a){"use strict";var i=a(2),o=a(0),c=a.n(o),l=a(1),u=a.n(l),d=a(192),p=a.n(d),m=a(5),g=a(62),h=a(14),y=a(125),v=a(614),_=a(931),E=a(206),b=a(190),T=a(11),S=a(52),C=a(173);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var I=function EntityRow(t){var r=_slicedToArray(Object(g.useFeature)("user_friendly_names"),1)[0],a=t.canEditGroup,i=t.currentProjectFullStackExperiments,o=t.entity,l=t.environmentsAuthorizedAndSupported,u=t.group,d=t.handleRemovedExperiment,m=t.isCustomProject,h=String(o.get("weight")/y.b.TRAFFIC_ALLOCATION_DENOMINATOR),I=o.get("status"),A=y.e.getStatusDetails(I,m),O=C.c.fns.shouldFlagForWarningOnTrafficChange(o,m),P=function updateCurrentlyEditingGroup(t){var r=u.get("entities").findIndex((function(t){return t.get("id")===o.get("id")}));if(r>-1){var a=t(r),i=C.c.fns.calculateAvailableTraffic(a);C.c.actions.setGroup(u.set("entities",a).set("available_traffic",i))}},R=function handleEntityRemove(){d(o),P((function(t){return u.get("entities").delete(t)})),O&&C.c.actions.flagError(C.c.constants.ErrorFlag.FULL_STACK_RUNNING_EXPERIMENT_UPDATE,!0)};return c.a.createElement(T.a.TBody,null,c.a.createElement(T.a.TR,null,c.a.createElement(T.a.TD,{verticalAlign:"middle"},c.a.createElement("div",{className:"display--inline-block",title:o.get("name")},function renderToken(){var t;if(m){var u=o.set("group_id",y.b.NONE_GROUP_ID);t=!v.b.isFeatureAssignmentValid(u,i,l)}var d=a&&!t,g=c.a.createElement(E.a,{description:r&&o.get("api_name")||"",name:p()(o.get("name"),48),isDismissible:d,onDismiss:R,style:"primary",testSection:"group-dialog-entity-".concat(o.get("id"),"-name")});return t?c.a.createElement("div",{"data-test-section":"group-dialog-entity-".concat(o.get("id"),"-poptip")},c.a.createElement(b.a,{content:C.c.constants.MAX_RUNNING_FEATURES_POPTIP_TEXT},g)):g}())),c.a.createElement(T.a.TD,{isNumerical:!0,verticalAlign:"middle"},c.a.createElement("div",{className:"flex flex-align--center flex-justified--end"},c.a.createElement("div",{className:"width--75"},c.a.createElement(S.a,{isReadOnly:!a,min:0,max:u.get("available_traffic")<=0?parseInt(h,10):y.b.MAX_TRAFFIC_ALLOCATION,value:h,type:"number",onChange:function handleEntityTrafficAllocationChange(t){O&&C.c.actions.flagError(C.c.constants.ErrorFlag.FULL_STACK_RUNNING_EXPERIMENT_UPDATE,!0),P((function(r){var a=(parseInt(t.target.value,10)||0)*y.b.TRAFFIC_ALLOCATION_DENOMINATOR;return u.get("entities").update(r,(function(t){return t.set("weight",a)}))}))},testSection:"group-dialog-entity-".concat(o.get("id"),"-traffic-allocation")})),c.a.createElement("span",{className:"push-half--left push--right"},"%"))),c.a.createElement(T.a.TD,{verticalAlign:"middle",width:"100px"},function renderStatus(){if(m){var t=o.set("actual_status",o.get("status"));return c.a.createElement("div",{"data-test-section":"group-dialog-entity-".concat(o.get("id"),"-environment-statuses")},c.a.createElement(_.a,{experiment:t}))}return c.a.createElement("div",{"data-test-section":"group-dialog-entity-".concat(o.get("id"),"-readable-status"),className:A.get("class")},A.get("readable"))}())))};I.propTypes={canEditGroup:u.a.bool.isRequired,currentProjectFullStackExperiments:u.a.instanceOf(i.default.List).isRequired,entity:u.a.instanceOf(i.default.Map).isRequired,environmentsAuthorizedAndSupported:u.a.bool.isRequired,group:u.a.instanceOf(i.default.Map).isRequired,isCustomProject:u.a.bool.isRequired},r.a=m.default.connectGetters(I,{currentProjectFullStackExperiments:h.getters.fullStackLayerExperimentsWrapper,environmentsAuthorizedAndSupported:h.getters.environmentsAuthorizedAndSupported})},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(5),d=a(8),p=a.n(d),m=a(2),g=a(62),h=a(112),y=a(284),v=a(663),_=a(173);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var E=function ExperimentPicker(t){var r=_slicedToArray(Object(g.useFeature)("user_friendly_names"),1)[0],a=t.canEditGroup,i=t.availableEntities,c=Object(m.toImmutable)([{key:"recently_created",label:p()("Recently Created Experiments"),items:i}]),l=p()("Browse for Experiments");return i.size||(l=p()("There are no experiments available to be added.")),a||(l=p()("You do not have the necessary permissions to edit this group.")),o.a.createElement("li",{className:"lego-form-field__item"},o.a.createElement(v.a,{key:"groupsEntityPicker",isDisabled:!a||!i.size,entityName:"groups-experiment-picker",itemOnClick:function handleAddEntity(a,i){var o=y.a.LAYER,c=y.a.LAYER_EXPERIMENT,l=t.group.get("entities").push(Object(m.toImmutable)(_extends({name:i.get("name"),status:i.get("status")},r&&{api_name:i.get("key")},{id:i.get("id"),kind:t.isCustomProject?c:o,weight:h.a})));_.a.setGroup(t.group.set("entities",l)),_.d.shouldFlagForWarningOnTrafficChange(i,t.isCustomProject)&&_.a.flagError(_.b.ErrorFlag.FULL_STACK_RUNNING_EXPERIMENT_UPDATE,!0)},inputPlaceholder:l,lists:c,showNameAndKey:r}))};E.propTypes={availableEntities:l.a.instanceOf(m.default.List).isRequired,canEditGroup:l.a.bool.isRequired,group:l.a.instanceOf(m.default.Map).isRequired,isCustomProject:l.a.bool.isRequired},r.a=u.default.connectGetters(E,{availableEntities:_.e.availableEntities})},function(t,r,a){"use strict";var i=a(306),o=a.n(i),c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(109),m=a(11),g=a(351),h=a(2),y=a(935),v=a(125),_=a(228),E=a.n(_),b=a(5);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(GroupTableRow,t);var r=_createSuper(GroupTableRow);function GroupTableRow(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,GroupTableRow),(a=r.call(this,t)).edit=a.edit.bind(_assertThisInitialized(a)),a.handleArchiveClick=a.handleArchiveClick.bind(_assertThisInitialized(a)),a.archive=a.archive.bind(_assertThisInitialized(a)),a.unarchive=a.unarchive.bind(_assertThisInitialized(a)),a.renderActionsDropdown=a.renderActionsDropdown.bind(_assertThisInitialized(a)),a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(GroupTableRow,[{key:"edit",value:function edit(){var t={group:Object(h.toJS)(this.props.group)};y.a.show(v.a.save,t)}},{key:"handleArchiveClick",value:function handleArchiveClick(){var t=this.props.group.get("entities").size>0;this.props.canArchiveGroup&&!t&&this.archive()}},{key:"archive",value:function archive(){var t=this,r=o.a;v.a.archive(this.props.group).then((function(){b.default.showNotification({message:tr("The group <b>{0}</b> has been archived.",r.sanitize(t.props.group.get("name"),!0))})}))}},{key:"unarchive",value:function unarchive(){var t=this,r=o.a;v.a.unarchive(this.props.group).then((function(){b.default.showNotification({message:tr("The group <b>{0}</b> has been unarchived.",r.sanitize(t.props.group.get("name"),!0))})}))}},{key:"renderActionsDropdown",value:function renderActionsDropdown(){if(this.props.canArchiveGroup){var t,r=this.props.group;t=r.get("entities").size>0?[{isLink:!1,text:"Archive",secondaryText:"Only empty exclusion groups can be archived.",isWarning:!0,minWidth:150,onClick:function onClick(){},testSection:"group-archive-button-disabled-".concat(r.get("id"))}]:[{text:"Archive",onClick:this.handleArchiveClick,testSection:"group-archive-button-".concat(r.get("id"))}];var a=r.get("archived")?[{text:"Unarchive",onClick:this.unarchive,testSection:"group-unarchive-button-".concat(r.get("id"))}]:t;return l.a.createElement(g.a,{key:r.get("id"),activator:l.a.createElement(p.a,{iconFill:"default",iconName:"ellipsis-solid",size:"small",style:"plain",testSection:"group-table-row-controls-toggle"}),items:a,testSection:"group-table-row-actions-dropdown"})}}},{key:"render",value:function render(){return l.a.createElement(m.a.TR,{key:this.props.group.get("id")},l.a.createElement(m.a.TD,{testSection:"group-table-row"},l.a.createElement("a",{className:"cursor--pointer","data-test-section":"group-edit-button",onClick:this.edit},l.a.createElement("span",{"data-test-section":"group-table-row-name"},this.props.group.get("name"))),l.a.createElement("div",{className:"muted micro"},this.props.group.get("description"))),l.a.createElement(m.a.TD,null,this.props.group.get("entities").size),l.a.createElement(m.a.TD,null,"".concat(tr.number(this.props.group.get("available_traffic")/100),"%")),l.a.createElement(m.a.TD,null,l.a.createElement("span",{className:"nowrap"},E()(this.props.group.get("created")))),l.a.createElement(m.a.TD,null,l.a.createElement("span",{className:"nowrap"},E()(this.props.group.get("last_modified")))),l.a.createElement(m.a.TD,{isNumerical:!0},this.renderActionsDropdown()))}}]),GroupTableRow}(l.a.Component);T.propTypes={canArchiveGroup:d.a.bool.isRequired,group:d.a.instanceOf(h.default.Map).isRequired},r.a=T},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(10),l=a(6),u=a(2723);function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var d=[{match:"/v2/try-rollouts",handle:[].concat(function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(l.a.standardNavHandlers(c.default.NavWidth.HIDDEN)),[l.a.parseProjectId,function(t,r){return l.a.setPageTitle({next:r,name:"Try Rollouts",showProjectName:!1})},function(){l.a.renderMainRegion(o.a.createElement(u.a,null))}])}];r.a=d},function(t,r,a){"use strict";var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(107),m=a(19),g=a(40),h=a(31),y=a(375),v=a(35),_=a(24),E=a(28),b=a(5),T=a(37),S=a(7),C=a(279),I=a(22);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var A=Object(E.a)({accountId:T.default.id,canUseFullStackSDKs:[T.default.accountPermissions,I.default.canUseFullStackSDKs],isUserAdmin:T.default.isUserAdmin})(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(TryRollouts,t);var r=_createSuper(TryRollouts);function TryRollouts(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,TryRollouts),(a=r.call(this,t)).whiteListAccount=function(){var t=a.props.accountId,r=Object(h.isFeatureEnabled)("enable-product-trial")?"create_rollouts_product_trial":"create_rollouts_project";a.setState({isAgreeing:!0},(function(){y.a.makeOptlyFetchRequest({url:"api/v1/".concat(r,"/").concat(t),method:"POST"}).then((function(t){var r=t.id;C.default.fetch(r,!0).then((function(){v.default.windowNavigate(_.default.xProjectHome(r,S.default.project_platforms.CUSTOM))}))})).catch((function(){b.default.error({message:"Rollouts could not be added to your account.",logToServer:!0}),a.setState({isAgreeing:!1})}))}))},a.navigateToProjects=function(){v.default.windowNavigate("/v2/projects")},a.navigateToAdminAccountCollaborators=function(){var t=a.props.accountId,r=_.default.projectSettingsCollaborators(t);v.default.windowNavigate(r)},a.renderAlreadyHasFSDialog=function(){return l.a.createElement(p.a,{hasOverlay:!1,hasCloseButton:!1,title:"You have access to Rollouts",footerButtonList:[l.a.createElement(m.a,{style:"highlight",key:"agree",testSection:"navigate-to-projects",onClick:a.navigateToProjects},"OK")]},l.a.createElement("p",null,"Your account already has access to all the functionality of Rollouts! Navigate to any Full Stack project to create a feature."))},a.renderNonAdminDialog=function(){return l.a.createElement(p.a,{hasOverlay:!1,hasCloseButton:!1,title:"Contact your account Administrator",footerButtonList:[l.a.createElement(m.a,{style:"highlight",key:"agree",testSection:"navigate-to-collaborators",onClick:a.navigateToAdminAccountCollaborators},"Find an Administrator")]},l.a.createElement("p",null,"In order to add Rollouts, you must be an Administrator on this account. Find an Administrator or"," ",l.a.createElement(g.a,{href:"https://www.optimizely.com/rollouts-signup",newWindow:!0},"create a fresh Rollouts account")," ","with a different email."))},a.renderFreeRolloutsDialog=function(){var t=a.state.isAgreeing;return l.a.createElement(p.a,{hasOverlay:!1,hasCloseButton:!1,title:"Get Optimizely Rollouts for Free",footerButtonList:[l.a.createElement(m.a,{style:"plain",key:"no-thanks",testSection:"try-rollouts-cancel",onClick:a.navigateToProjects,isDisabled:t},"No, Thanks"),l.a.createElement(m.a,{style:"highlight",key:"agree",testSection:"try-rollouts-agree",onClick:a.whiteListAccount,isDisabled:t},"Agree")]},l.a.createElement("div",{"data-test-section":"try-rollouts-with-experimentation-copy"},l.a.createElement("p",null,l.a.createElement(g.a,{href:"http://optimizely.com/rollouts",newWindow:!0},"Optimizely Rollouts")," ","is a safer, faster way to release new features. Implement feature flags, gradual rollouts, and safe rollbacks in your development process using our SDKs. Run an experiment on top of your flag to learn if you’re building the right feature."),l.a.createElement("p",{className:"micro push-triple--top"},"We’re providing this product completely free. In this free product, you’ll also be able to run one experiment at a time to measure and prove the value of features."," ",l.a.createElement("strong",null," ","If you have an existing, active impressions or monthly active user (MAU) package, your experiment usage in Rollouts will be billed to it."),"By proceeding, you agree that your company’s use of Rollouts is powered by our online"," ",l.a.createElement(g.a,{href:"https://www.optimizely.com/terms/",newWindow:!0},"Terms of Service")," ","as a Free Access Subscription."),l.a.createElement("p",{className:"micro"},"Read our"," ",l.a.createElement(g.a,{href:"https://www.optimizely.com/privacy/",newWindow:!0},"privacy policy"),".")))},a.renderDialog=function(){var t=a.props,r=t.canUseFullStackSDKs,i=t.isUserAdmin;return r?a.renderAlreadyHasFSDialog():i?a.renderFreeRolloutsDialog():a.renderNonAdminDialog()},a.state={isAgreeing:!1},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(TryRollouts,[{key:"render",value:function render(){return l.a.createElement("div",{className:"marketing-landing","data-test-section":"try-rollouts"},l.a.createElement("div",{className:"marketing-landing__nav"},l.a.createElement("div",{className:"flex--1 marketing-landing__column"},l.a.createElement("div",{className:"marketing-landing__logo"},l.a.createElement("a",{href:"/v2/projects"},l.a.createElement("div",{className:"marketing-landing__logo-image"}))))),this.renderDialog())}}]),TryRollouts}(l.a.Component)).componentId="try-rollouts",o.propTypes={accountId:d.a.number.isRequired,canUseFullStackSDKs:d.a.bool.isRequired,isUserAdmin:d.a.bool.isRequired},i=o))||i;r.a=A},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(3),l=a(14),u=a(10),d=a(97),p=a(6),m=a(2725);function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var g=[{match:"/v2/projects/:proj_id/implementation/events/:event_id?/:event_type?",shouldHandle:function shouldHandleWeb(){return Promise.resolve(c.default.evaluate(l.getters.isWebProject))},metadata:{name:"Events",category:"Implementation"},handle:[[].concat(function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(p.a.standardNavHandlers(u.default.NavWidth.OPEN,u.default.NavItems.PAGES)),[p.a.parseProjectId,p.a.parseQueryFilters(d.default.tableIds.P13N_DATA_LAYER_EVENTS),p.a.fetchEventImplementationData]),function(t,r){return p.a.setPageTitle({next:r,name:"Events",category:"Implementation"})},function(t,r){var a=Number(t.params.event_id),i=t.params.event_type;p.a.renderMainRegion(o.a.createElement(m.a,{eventId:a,eventType:i}))}]}];r.a=g},function(t,r,a){"use strict";var i,o,c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(87),m=a(19),g=a(3),h=a(5),y=a(28),v=a(2),_=a(325),E=a(556),b=a(44),T=a(14),S=a(50),C=a(23),I=a(34),A=a(10),O=a(24),P=a(49),R=a(101),w=a(561),N=a(484),L=a(446),x=a(1022),D=a(403),k=a(728),j=a(2726),M=a(2729);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var U=b.c.tableIds.P13N_DATA_LAYER_EVENTS,V=Object(y.a)({pageEvents:k.b.pageEventsForDashboard,hasFilteredPageEvents:k.b.hasFilteredPageEvents(U),customEvents:k.b.filteredAndSortedCustomEvents(U),canArchiveUserEvent:[T.getters.project,P.fns.canUpdateUserEvent],canArchiveView:[T.getters.project,P.fns.canDeleteView],canCreateUserEvent:[T.getters.project,function(t){return P.fns.canCreateUserEvent(t)}],currentProjectId:T.getters.id,currentProject:T.getters.project,layers:C.getters.entityCache,pluginEventTypeToName:k.b.pluginEventTypeToName})(i=Object(p.b)("usage_inspector_events")(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(EventsDashboardComponent,t);var r=_createSuper(EventsDashboardComponent);function EventsDashboardComponent(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,EventsDashboardComponent),(a=r.call(this,t)).createEvent=function(){a.setState({isCreateEventDialogLoading:!0}),h.default.showReactDialog(E.a,{props:{clickEventsDisabled:!1}},{fullScreen:!0,dismissOnBack:!0}),setTimeout((function(){return a.setState({isCreateEventDialogLoading:!1})}),500)},a.editEvent=function(t){var r=a.props.currentProjectId;if(D.actions.setCurrentEventId(t),g.default.evaluate(D.getters.event).get("archived"))R.default.replaceState(O.default.eventsHome(r));else{var i=O.default.eventsEdit(r,t,S.enums.eventTypes.CUSTOM);R.default.replaceState(i),h.default.showReactDialog(x.a,{props:{onSave:function onSave(){return R.default.replaceState(O.default.eventsHome(r))},noRedirectOnCancel:!0}},{dismissOnBack:!0,fullScreen:!0,noPadding:!0,onHideDialog:function onHideDialog(){return R.default.replaceState(O.default.eventsHome(r))}})}},a.configureView=function(t){var r=a.props.currentProjectId;I.actions.fetch(t).then((function(a){if(a.archived)R.default.replaceState(O.default.eventsHome(r));else{var i=O.default.eventsEdit(r,t,S.enums.eventTypes.PAGE_VIEW);R.default.replaceState(i),h.default.showReactDialog(L.ConfigureViewSmart,{props:{isInDialog:!0,isStandAlone:!0,viewConfiguration:Object(v.toImmutable)(a),onSave:function onSave(){return R.default.replaceState(O.default.eventsHome(r))}}},{fullScreen:!0,dismissOnBack:!0,isOuiDialog:!0,onHideDialog:function onHideDialog(){return R.default.replaceState(O.default.eventsHome(r))}})}}))},a.state={isCreateEventDialogLoading:!1},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(EventsDashboardComponent,[{key:"componentDidMount",value:function componentDidMount(){var t=this.props,r=t.eventId,a=t.eventType;r&&(a===S.enums.eventTypes.CUSTOM?this.editEvent(r):a===S.enums.eventTypes.PAGE_VIEW&&this.configureView(r)),this.usage_inspector_events&&k.a.fetchProjectsAndLayers()}},{key:"render",value:function render(){var t=this,r=this.state.isCreateEventDialogLoading,a=this.props,i=a.pageEvents,o=a.hasFilteredPageEvents,c=a.customEvents,l=a.canArchiveUserEvent,u=a.canArchiveView,p=a.canCreateUserEvent,g=a.currentProjectId,h=a.pluginEventTypeToName,y=a.resetFilters;return d.a.createElement("div",{className:"stage__item__content--column","data-test-section":"data-layer-root"},d.a.createElement(N.a,{activeTab:A.default.DataLayerTabs.EVENT_TAB}),d.a.createElement("div",{className:"flex flex--1 flex--column"},d.a.createElement("div",{className:"flex soft-quad--sides soft-double--ends flex--none background--faint","data-test-section":"events-filter-dropdown"},d.a.createElement(_.default,{tableId:U,inputPlaceholder:"Filter by name, API name or ID",inputWidth:"width--300",statusOptions:[{label:"Active",value:b.c.status.ACTIVE},{label:"Archived",value:b.c.status.ARCHIVED}]}),d.a.createElement("div",{className:"anchor--right"},d.a.createElement(m.a,{style:"highlight",onClick:this.createEvent,isDisabled:!p||r,testSection:"create-event-button"},"Create New Event..."))),!o&&0===c.size&&d.a.createElement("div",{className:"soft-quad--sides background--faint","data-test-section":"events-dashboard-empty-results"},"No events match your search. Try"," ",d.a.createElement("a",{onClick:y,"data-test-section":"events-dashboard-clear-filters-button"},"clearing your filters")," ","to see all the events available for this project."),d.a.createElement("div",{className:"l-flexer l-scroll--y background--faint"},d.a.createElement("div",{className:"soft-double--sides"},c.size>0&&d.a.createElement(j.a,{canArchiveUserEvent:l,editEvent:this.editEvent,events:c,tableId:U}),d.a.createElement("div",{"data-test-section":"page-events-section"},i.map((function(r){return d.a.createElement(M.a,{canArchiveUserEvent:l,canArchiveView:u,currentProjectId:g,configureView:t.configureView,events:r.get("events"),key:r.get("view").get("id"),pluginEventTypeToName:h,view:r.get("view")})})))))))}}]),EventsDashboardComponent}(d.a.Component)).propTypes={canArchiveUserEvent:l.a.bool.isRequired,canArchiveView:l.a.bool.isRequired,canCreateUserEvent:l.a.bool.isRequired,currentProjectId:l.a.number.isRequired,customEvents:l.a.instanceOf(v.default.List).isRequired,eventId:l.a.number,eventType:l.a.string,hasFilteredPageEvents:l.a.bool.isRequired,layers:l.a.instanceOf(v.default.Map).isRequired,pageEvents:l.a.instanceOf(v.default.List).isRequired,pluginEventTypeToName:l.a.instanceOf(v.default.Map).isRequired,resetFilters:l.a.func.isRequired},i=o))||i)||i,B=Object(w.default)(V);B.componentId="p13n-data-layer",r.a=B},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(2),d=a(269),p=a(2727);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(CustomEventsCard,t);var r=_createSuper(CustomEventsCard);function CustomEventsCard(){var t;_classCallCheck(this,CustomEventsCard);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={shouldShowAllEvents:!1},t.toggleShowingAllEvents=function(){t.setState((function(t){return{shouldShowAllEvents:!t.shouldShowAllEvents}}))},t.shouldShowEvent=function(r,a){return t.state.shouldShowAllEvents||a<3},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(CustomEventsCard,[{key:"render",value:function render(){var t,r=this.props,a=r.canArchiveUserEvent,i=r.editEvent,o=r.events,c=r.experimentsUsageAvailable,u=r.tableId,m=this.state.shouldShowAllEvents;return o.size>3&&(t=m?l.a.createElement("a",{onClick:this.toggleShowingAllEvents,"data-test-section":"custom-events-toggle-closed"},l.a.createElement("span",null,"Show fewer events ",l.a.createElement("span",{className:"lego-arrow-inline--up"}))):l.a.createElement("a",{onClick:this.toggleShowingAllEvents,"data-test-section":"custom-events-toggle-open"},l.a.createElement("span",null,"Show all events ",l.a.createElement("span",{className:"lego-arrow-inline--down"})))),l.a.createElement("div",{className:"push-double position--relative","data-test-section":"custom-events-section"},l.a.createElement(d.a,null,l.a.createElement(d.a.Row,null,l.a.createElement(d.a.Label,{supertitle:"Custom",subtitle:"Events: ".concat(o.size),title:"Custom Events"},t),l.a.createElement(d.a.Body,null,l.a.createElement(p.a,{canArchiveUserEvent:a,editEvent:i,events:o,experimentsUsageAvailable:c,shouldShowAllEvents:m,shouldShowEvent:this.shouldShowEvent,tableId:u})))))}}]),CustomEventsCard}(l.a.Component);m.propTypes={canArchiveUserEvent:o.a.bool.isRequired,editEvent:o.a.func.isRequired,events:o.a.instanceOf(u.default.List).isRequired,experimentsUsageAvailable:o.a.bool.isRequired,tableId:o.a.string.isRequired},r.a=m},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(2),d=a(160),p=a(1028),m=a(2728);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(CustomEventsTable,t);var r=_createSuper(CustomEventsTable);function CustomEventsTable(){var t;_classCallCheck(this,CustomEventsTable);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).renderTableRow=function(r,a){var i=t.props,o=i.canArchiveUserEvent,c=i.editEvent,u=i.experimentsUsageAvailable;if((0,i.shouldShowEvent)(r,a))return l.a.createElement(m.a,{canArchiveUserEvent:o,editEvent:c,event:r,experimentsUsageAvailable:u,key:r.get("id")})},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(CustomEventsTable,[{key:"render",value:function render(){var t=this.props,r=t.events,a=t.tableId;return l.a.createElement(d.default,{tableId:a,data:r,disableScrolling:!0,entityPlural:"events",renderTableRow:this.renderTableRow,renderTableHeader:p.a,defaultSortBy:{field:"name",type:"string"},testSection:"custom-events-table"})}}]),CustomEventsTable}(l.a.Component);g.propTypes={canArchiveUserEvent:o.a.bool.isRequired,editEvent:o.a.func.isRequired,events:o.a.instanceOf(u.default.List).isRequired,experimentsUsageAvailable:o.a.bool.isRequired,shouldShowEvent:o.a.func,tableId:o.a.string.isRequired},g.defaultProps={shouldShowEvent:!0},r.a=g},function(t,r,a){"use strict";var i,o,c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(87),m=a(62),g=a(11),h=a(109),y=a(2),v=a(5),_=(a(28),a(50)),E=(a(121),a(23),a(351)),b=a(1029);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=Object(p.b)("usage_inspector_events")(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(CustomEventTableRow,t);var r=_createSuper(CustomEventTableRow);function CustomEventTableRow(){var t;_classCallCheck(this,CustomEventTableRow);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).archiveEvent=function(){var r=t.props.event;_.actions.archive(r.toJS()).then((function(){v.default.showNotification({message:tr("The event <b>{0}</b> has been archived",r.get("name"))})}))},t.unarchiveEvent=function(){var r=t.props.event;_.actions.unarchive(r.toJS()).then((function(){v.default.showNotification({message:tr("The event <b>{0}</b> has been unarchived",r.get("name"))})}))},t.onExperimentUsageView=function(){var r=t.props.event;v.default.showReactDialog(b.a,{props:{selectedEventId:r.get("id")}},{isOuiDialog:!0,fullScreen:!1,dismissOnBack:!0})},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(CustomEventTableRow,[{key:"render",value:function render(){var t,r=this.props,a=r.editEvent,i=r.event,o=r.canArchiveUserEvent,c=i.get("id");t=i.get("archived")?d.a.createElement("span",{className:"link--disabled","data-test-section":"events-dashboard-custom-edit-button"},i.get("name")):d.a.createElement("a",{className:"cursor--pointer","data-test-section":"events-dashboard-custom-edit-button",onClick:function onClick(){return a(c)}},i.get("name"));var l=[{text:tr("Settings"),testSection:"events-dashboard-custom-settings-button",onClick:function onClick(){return a(c)},isVisible:!i.get("archived")},{text:tr("Archive"),testSection:"events-dashboard-custom-archive-button",onClick:this.archiveEvent,isVisible:o&&!i.get("archived")},{text:tr("Unarchive"),testSection:"events-dashboard-custom-unarchive-button",onClick:this.unarchiveEvent,isVisible:o&&i.get("archived")}];return this.usage_inspector_events&&l.splice(1,0,{text:tr("View Experiment Usage"),testSection:"events-dashboard-custom-experiments-button",onClick:this.onExperimentUsageView}),d.a.createElement(g.a.TR,{testSection:"custom-event-table-row"},d.a.createElement(g.a.TD,null,d.a.createElement("div",null,t,d.a.createElement("div",{className:"muted micro"},i.get("description")))),d.a.createElement(g.a.TD,null,d.a.createElement("span",{className:"nowrap","data-test-section":"custom-event-api-name"},i.get("api_name"))),d.a.createElement(m.OptimizelyFeature,{feature:"usage_inspector_events"},(function(t){return t&&d.a.createElement(g.a.TD,{isNumerical:!0},d.a.createElement("span",{className:"nowrap","data-test-section":"custom-event-experiment-count"},i.get("experiment_count",0)))})),d.a.createElement(g.a.TD,null,d.a.createElement("span",{className:"nowrap","data-test-section":"custom-event-id"},i.get("id"))),d.a.createElement(g.a.TD,null,d.a.createElement("span",{className:"nowrap","data-test-section":"custom-event-type"},"Custom")),d.a.createElement(g.a.TD,{isNumerical:!0},d.a.createElement(E.a,{minWidth:"200px",activator:d.a.createElement(h.a,{iconFill:"default",iconName:"ellipsis-solid",size:"small",style:"plain",testSection:"custom-event-dropdown-button"}),items:l})))}}]),CustomEventTableRow}(d.a.Component)).propTypes={canArchiveUserEvent:l.a.bool.isRequired,editEvent:l.a.func.isRequired,event:l.a.instanceOf(y.default.Map).isRequired,experimentsUsageAvailable:l.a.bool.isRequired},i=o))||i;r.a=T},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(2),d=a(197),p=a(269),m=a(2730);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(PageEventsCard,t);var r=_createSuper(PageEventsCard);function PageEventsCard(){var t;_classCallCheck(this,PageEventsCard);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={shouldShowAllEvents:!1},t.toggleShowingAllEvents=function(){t.setState((function(t){return{shouldShowAllEvents:!t.shouldShowAllEvents}}))},t.shouldShowEvent=function(r,a){return t.state.shouldShowAllEvents||a<3},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(PageEventsCard,[{key:"render",value:function render(){var t,r=this.props,a=r.canArchiveUserEvent,i=r.canArchiveView,o=r.configureView,c=r.currentProjectId,u=r.events,g=r.experimentsUsageAvailable,h=r.pluginEventTypeToName,y=r.view,v=this.state.shouldShowAllEvents;return u.size>3&&(t=v?l.a.createElement("a",{onClick:this.toggleShowingAllEvents},l.a.createElement("span",null,"Show fewer events ",l.a.createElement("span",{className:"lego-arrow-inline--up"}))):l.a.createElement("a",{onClick:this.toggleShowingAllEvents},l.a.createElement("span",null,"Show all events ",l.a.createElement("span",{className:"lego-arrow-inline--down"})))),l.a.createElement("div",{className:"push-double position--relative","data-test-section":"page-events-card"},l.a.createElement(p.a,null,l.a.createElement(p.a.Row,null,l.a.createElement(p.a.Label,{supertitle:"Page",subtitle:"Events: ".concat(u.size),title:y.get("name")},t,l.a.createElement("div",{className:"muted micro"},Object(d.strLimiter)(y.get("description"),300))),l.a.createElement(p.a.Body,null,l.a.createElement(m.a,{canArchiveUserEvent:a,canArchiveView:i,configureView:o,currentProjectId:c,events:u,experimentsUsageAvailable:g,pluginEventTypeToName:h,shouldShowAllEvents:v,shouldShowEvent:this.shouldShowEvent,view:y})))))}}]),PageEventsCard}(l.a.Component);g.propTypes={canArchiveUserEvent:o.a.bool.isRequired,canArchiveView:o.a.bool.isRequired,currentProjectId:o.a.number.isRequired,configureView:o.a.func.isRequired,events:o.a.instanceOf(u.default.List).isRequired,experimentsUsageAvailable:o.a.bool.isRequired,pluginEventTypeToName:o.a.instanceOf(u.default.Map).isRequired,view:o.a.instanceOf(u.default.Map).isRequired},r.a=g},function(t,r,a){"use strict";var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(2),d=a(160),p=a(97),m=a(1028),g=a(2731);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=p.default.tableIds.P13N_DATA_LAYER_PAGE_EVENTS,y=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(PageEventsTable,t);var r=_createSuper(PageEventsTable);function PageEventsTable(){var t;_classCallCheck(this,PageEventsTable);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).renderTableRow=function(r,a){var i=t.props,o=i.canArchiveUserEvent,c=i.canArchiveView,u=i.configureView,d=i.currentProjectId,p=i.experimentsUsageAvailable,m=i.layers,h=i.pluginEventTypeToName,y=i.shouldShowEvent,v=i.view;if(y(r,a))return l.a.createElement(g.a,{canArchiveUserEvent:o,canArchiveView:c,currentProjectId:d,configureView:u,event:r,experimentsUsageAvailable:p,key:r.get("id"),layers:m,pluginEventTypeToName:h,view:v})},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(PageEventsTable,[{key:"render",value:function render(){var t=this.props.events;return l.a.createElement(d.default,{tableId:h,data:t,disableScrolling:!0,entityPlural:"events",renderTableRow:this.renderTableRow,renderTableHeader:m.a,defaultSortBy:{field:"name",type:"string"}})}}]),PageEventsTable}(l.a.Component);y.propTypes={canArchiveUserEvent:o.a.bool.isRequired,canArchiveView:o.a.bool.isRequired,currentProjectId:o.a.number.isRequired,configureView:o.a.func.isRequired,events:o.a.instanceOf(u.default.List).isRequired,experimentsUsageAvailable:o.a.bool.isRequired,layers:o.a.instanceOf(u.default.Map).isRequired,pluginEventTypeToName:o.a.instanceOf(u.default.Map).isRequired,shouldShowEvent:o.a.func,view:o.a.instanceOf(u.default.Map).isRequired},y.defaultProps={shouldShowEvent:!0},r.a=y},function(t,r,a){"use strict";var i,o,c=a(1),l=a.n(c),u=a(0),d=a.n(u),p=a(87),m=a(62),g=a(11),h=a(109),y=a(5),v=a(2),_=a(197),E=a(35),b=a(182),T=a.n(b),S=a(351),C=a(213),I=a(121),A=a(85),O=a(34),P=a(1029);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var R=Object(p.b)("usage_inspector_events")(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(PageEventTableRow,t);var r=_createSuper(PageEventTableRow);function PageEventTableRow(){var t;_classCallCheck(this,PageEventTableRow);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).isPageViewEventType=function(){return t.props.event.get("event_type")===I.a.eventTypes.PAGE_VIEW},t.humanReadableEventType=function(){var r=t.props,a=r.event,i=r.pluginEventTypeToName,o=a.get("event_type"),c=i,l=O.default.humanReadable.EVENT_TYPES[o];return l||c[o]},t.archiveView=function(){var r=t.props.view,a=r.get("name");A.default.confirmArchiveEntity({archiveAction:O.default.actions.archive.bind(O.default.actions),entityInstance:Object(v.toJS)(r),entityName:"Page",instanceName:a}).then((function(){y.default.showNotification({message:tr("The page <b>{0}</b> has been archived.",a)})}))},t.archiveEvent=function(){var r=t.props.event;!t.isPageViewEventType()&&r&&A.default.confirmArchiveEvent(r.toJS()).then((function(){y.default.showNotification({message:tr("The event <b>{0}</b> has been archived.",r.name)})}))},t.handleArchiveEventClick=function(){t.isPageViewEventType()?t.archiveView():t.archiveEvent()},t.editEvent=function(){var r=t.props,a=r.view,i=r.event,o=r.currentProjectId;t.isPageViewEventType()||E.default.go(T.a.eventsEdit(o,i.get("id"),a.get("id")))},t.handleEditEventClick=function(){var r=t.props,a=r.configureView,i=r.view;t.isPageViewEventType()?a(i.get("id")):t.editEvent()},t.unarchiveEvent=function(){var r=t.props,a=r.event,i=r.view;t.isPageViewEventType()||(i.archived?y.default.confirm({title:tr("Unarchive Event and Page"),message:tr("To unarchive the event <b>{0}</b>, the page <b>{1}</b> must also be unarchived. Would you like to unarchive this event and page?",a.get("name"),i.get("name")),confirmText:tr("Unarchive Event and Page")}).then((function(){var t=[];t.push(C.a.unarchive(a.toJS())),t.push(O.default.actions.unarchive(i.toJS())),Promise.all(t).then((function(){y.default.showNotification({message:tr("The event <b>{0}</b> and the page <b>{1}</b> have been unarchived.",a.get("name"),i.get("name"))})}))})):C.a.unarchive(a.toJS()).then((function(){y.default.showNotification({message:tr("The event <b>{0}</b> has been unarchived.",a.get("name"))})})))},t.unarchiveView=function(){var r=t.props.view;t.isPageViewEventType()&&O.default.actions.unarchive(r.toJS()).then((function(){y.default.showNotification({message:tr("The page <b>{0}</b> has been unarchived.",r.get("name"))})}))},t.handleUnarchiveEventClick=function(){t.isPageViewEventType()?t.unarchiveView():t.unarchiveEvent()},t.shouldShowEditButton=function(){var r=t.props,a=r.event,i=r.view.get("archived"),o=a.get("archived");return t.isPageViewEventType()?!i:!o},t.shouldShowArchiveButton=function(){var r=t.props,a=r.event,i=r.view,o=r.canArchiveView,c=r.canArchiveUserEvent,l=i.get("archived"),u=a.get("archived");return t.isPageViewEventType()?o&&!l:c&&!u},t.shouldShowUnarchiveButton=function(){var r=t.props,a=r.event,i=r.view,o=r.canArchiveView,c=r.canArchiveUserEvent,l=i.get("archived"),u=a.get("archived");return t.isPageViewEventType()?o&&l:c&&u},t.onExperimentUsageView=function(){var r=t.props.event;y.default.showReactDialog(P.a,{props:{selectedEventId:r.get("id")}},{isOuiDialog:!0,fullScreen:!1,dismissOnBack:!0})},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(PageEventTableRow,[{key:"render",value:function render(){var t,r=this.props,a=r.event,i=r.view,o=a.get("api_name",null),c=a.get("id",null);this.isPageViewEventType()&&(o=o||i.get("api_name",null),c=c||i.get("id",null)),t=this.shouldShowEditButton()?d.a.createElement("a",{tabIndex:c,className:"cursor--pointer",onClick:this.handleEditEventClick,"data-test-section":"page-event-edit-button"},a.get("name")):d.a.createElement("span",{className:"link--disabled","data-test-section":"page-event-edit-button"},a.get("name"));var l=[{text:tr("Settings"),testSection:"events-dashboard-page-settings-button",onClick:this.handleEditEventClick,isVisible:this.shouldShowEditButton()},{text:tr("Archive"),testSection:"events-dashboard-page-archive-button",onClick:this.handleArchiveEventClick,isVisible:this.shouldShowArchiveButton()},{text:tr("Unarchive"),testSection:"events-dashboard-page-unarchive-button",onClick:this.handleUnarchiveEventClick,isVisible:this.shouldShowUnarchiveButton()}];return this.usage_inspector_events&&l.splice(1,0,{text:tr("View Experiment Usage"),testSection:"events-dashboard-page-experiments-button",onClick:this.onExperimentUsageView}),d.a.createElement(g.a.TR,{testSection:"page-event-table-row"},d.a.createElement(g.a.TD,null,d.a.createElement("div",null,d.a.createElement("span",{"data-test-section":"page-event-name"},t),d.a.createElement("div",{className:"muted micro","data-test-section":"page-event-description"},Object(_.strLimiter)(a.get("description"),300)))),d.a.createElement(g.a.TD,null,d.a.createElement("span",{className:"word-break--all","data-test-section":"page-event-api-name"},o||d.a.createElement("span",{className:"style--italic muted"},"None"))),d.a.createElement(m.OptimizelyFeature,{feature:"usage_inspector_events"},(function(t){return t&&d.a.createElement(g.a.TD,{isNumerical:!0},d.a.createElement("span",{className:"nowrap"},d.a.createElement("span",{className:"muted","data-test-section":"page-event-experiment-count"},a.get("experiment_count",0))))})),d.a.createElement(g.a.TD,null,d.a.createElement("span",{className:"nowrap","data-test-section":"page-event-id"},c||d.a.createElement("span",{className:"style--italic muted"},"None"))),d.a.createElement(g.a.TD,null,d.a.createElement("span",{className:"nowrap","data-test-section":"page-event-type"},this.humanReadableEventType())),d.a.createElement(g.a.TD,{isNumerical:!0},d.a.createElement(S.a,{minWidth:"200px",activator:d.a.createElement(h.a,{iconFill:"default",iconName:"ellipsis-solid",size:"small",style:"plain",testSection:"custom-event-dropdown-button"}),items:l})))}}]),PageEventTableRow}(d.a.Component)).propTypes={canArchiveUserEvent:l.a.bool.isRequired,canArchiveView:l.a.bool.isRequired,currentProjectId:l.a.number.isRequired,configureView:l.a.func.isRequired,event:l.a.instanceOf(v.default.Map).isRequired,layers:l.a.instanceOf(v.default.Map).isRequired,pluginEventTypeToName:l.a.instanceOf(v.default.Map).isRequired,view:l.a.instanceOf(v.default.Map).isRequired},i=o))||i;r.a=R},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(31),l=a(35),u=a(86),d=a(10),p=a(44),m=a(383),g=a(6),h=a(56);function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function MetricsSection(t,r){a.e(24).then(a.bind(null,3667)).then((function(t){Object.assign(MetricsSection,t)})).then(r)}var y=[{match:"/v2/projects/:proj_id/implementation/metrics",metadata:{name:"Metrics",category:"Implementation"},handle:[[MetricsSection].concat(function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(g.a.standardNavHandlers(d.default.NavWidth.OPEN,d.default.NavItems.PAGES)),[g.a.parseProjectId,function(t,r){return Object(c.isFeatureEnabled)("metrics_usability")&&!Object(h.isFullStackProject)(t.currentProject)?r():l.default.redirect("/v2/")},g.a.parseQueryFilters(p.c.tableIds.P13N_DATA_LAYER_METRICS),function(t,r){return u.default.getCodeLintingBundleModules().then(r)}]),[g.a.fetchMetricsForAccount],function(t,r){return g.a.setPageTitle({next:r,name:"Metrics",category:"Implementation"})},function(){m.a.setFrontendRenderStartTime(),g.a.renderMainRegion(o.a.createElement(MetricsSection.pages.dashboard.component,null))}]}];r.a=y},function(t,r,a){var i=a(3634),o=a(5).default,c=a(3635).default,l=a(14);t.exports={componentId:"feature-dialog",replace:!0,template:i,ready:function ready(){o.renderReactComponent(this,{component:c,el:this.$$.reactContainer,dataBindings:{language:l.getters.primarySDKLanguage},props:{canCreateFeature:!0,currentProjectFeatures:this.$options.currentProjectFeatures,feature:this.$options.feature,save:this.$options.save}})}}},function(t,r,a){var i=a(4),o=a(2).default,c=a(1),l=a(0),u=a(16),d=u.Input,p=u.Textarea,m=u.Label,g=function FeatureDetails(t){var r=function handleInputChange(r,a){var i=r.target.value;t.updateFeatureProperty(a,i)};return l.createElement("div",null,l.createElement("div",{className:"push-quad--bottom"},l.createElement("div",{className:"beta push--bottom"},t.isEditing?"Edit Feature Flag":"New Feature Flag"),l.createElement("p",null,"Create a feature flag you'd like to experiment on.")),l.createElement("form",null,l.createElement("fieldset",null,l.createElement("ol",{className:"lego-form-fields"},l.createElement("li",{className:"lego-form-field__item"},l.createElement("h3",null,"Feature Flag Key"),l.createElement("p",null,"A unique identifier for your feature flag that can be referenced in your code."),l.createElement(d,{type:"text",testSection:"feature-dialog-key",value:t.feature.get("api_name"),onBlur:function onBlur(){return t.onBlurTrigger(t.feature.get("api_name"))},onChange:i.partialRight(r,"api_name")}),function renderErrorBlock(){if(t.feature.get("api_name")){if(!t.isFeatureKeyUnique)return l.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"feature-dialog-unique-key-error"},"Key is already in use by another feature in this project. Please choose a unique key.");if(!t.isFeatureKeyValid(t.feature))return l.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"feature-dialog-invalid-key-error"},"Please enter a valid key.")}return""}()),l.createElement("li",{className:"lego-form-fields__item"},l.createElement("h3",null,l.createElement(m,{isOptional:!0},l.createElement("span",null,"Description"))),l.createElement(p,{testSection:"feature-dialog-description",defaultValue:t.feature.get("description"),onChange:i.partialRight(r,"description")}))))))};g.propTypes={feature:c.instanceOf(o.Map).isRequired,isEditing:c.bool.isRequired,isFeatureKeyUnique:c.bool.isRequired,isFeatureKeyValid:c.func.isRequired,onBlurTrigger:c.func.isRequired,updateFeatureProperty:c.func.isRequired},t.exports=g},function(t,r,a){var i=a(4),o=a(2).default,c=a(1),l=a(0),u=a(3636),d=a(16),p=d.Button,m=d.Label,g=d.Table,h=function FeatureVariables(t){var r=t.variables.size>0;return l.createElement("div",null,l.createElement("div",{className:"push-quad--bottom"},l.createElement("div",{className:"push--bottom"},l.createElement("h3",null,l.createElement(m,{isOptional:!0},l.createElement("span",null,"Feature Configuration")))),l.createElement("p",null,"A list of variables that can be used to test or roll out different configurations of your feature.")),l.createElement("form",null,l.createElement("fieldset",null,r&&l.createElement(g,null,l.createElement(g.THead,null,l.createElement(g.TR,null,l.createElement(g.TH,null,"Variable Key"),l.createElement(g.TH,null,"Type"),l.createElement(g.TH,null,"Default Value"),l.createElement(g.TH,null))),l.createElement(g.TBody,null,t.variables.map((function(r,a){if(!r.get("archived"))return l.createElement(u,{key:a,index:a,isVariableKeyValid:t.isVariableKeyValid,isVariableUnique:t.isVariableUnique,isVariableValueValid:t.isVariableValueValid,removeVariableAtIndex:i.partialRight(t.removeVariableAtIndex,a),updateVariable:t.updateVariable,variable:r,handleVariableValueClick:t.handleVariableValueClick,hasVariableValueBeenClicked:t.hasVariableValueBeenClicked})})))),l.createElement(p,{onClick:t.addVariable,testSection:"feature-dialog-add-variable",width:"full"},"Add Variable"))))};h.propTypes={addVariable:c.func.isRequired,hasVariableValueBeenClicked:c.bool,handleVariableValueClick:c.func,isVariableKeyValid:c.func.isRequired,isVariableUnique:c.func.isRequired,isVariableValueValid:c.func.isRequired,removeVariableAtIndex:c.func.isRequired,updateVariable:c.func.isRequired,variables:c.instanceOf(o.List).isRequired},t.exports=h},function(t,r,a){"use strict";var i=a(2),o=a(1),c=a.n(o),l=a(0),u=a.n(l),d=a(72),p=a.n(d),m=a(505),g=a(70),h=a(435),y=function FeatureCodeBlock(t){var r=g.fns.getSyntaxHighlightingLanguage(t.language);return u.a.createElement("div",null,u.a.createElement("div",{className:"push-quad--bottom"},u.a.createElement("div",{className:"push--bottom"},u.a.createElement("h3",null,"Feature Flag Code")),u.a.createElement("p",null,"Use the code below to determine whether this feature flag is enabled and access variables in the SDK.")),u.a.createElement("div",null,u.a.createElement(h.a,{isHighlighted:!0,hasCopyButton:!0,language:r,type:"block",testSection:"feature-code-block"},function renderCodeBlock(){var r=t.feature.get("api_name"),a=t.feature.get("variables"),i=p()(m.default.FEATURE_CODE_BLOCKS[t.language],r);return a.size&&a.forEach((function(a,o){var c=a.get("api_name"),l=a.get("type");i+="\n".concat(p()(m.default.VARIABLE_CODE_BLOCKS[t.language][l],c,r,c))})),i}())))};y.propTypes={feature:c.a.instanceOf(i.default.Map).isRequired,language:c.a.string.isRequired},r.a=y},function(t,r,a){"use strict";var i=a(306),o=a.n(i),c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(109),m=a(2),g=a(351),h=a(5);function FeatureTableRowActions(t){var r,a=t.archive,i=t.canManageFeatureFlags,c=t.currentProjectRunningExperiments,u=t.feature,d=t.rowIndex,m=t.unarchive,y=o.a.sanitize(u.get("api_name"));r=c.some((function(t){return t.get("feature_flag_id")===u.get("id")}))?{isLink:!1,text:"Archive",secondaryText:tr("The feature flag {0} is currently used in running experiments. To archive, please pause any running experiments currently using this feature flag.",y),isWarning:!0,minWidth:150,onClick:function onClick(){},testSection:"feature-flag-archive-button-disabled-".concat(u.get("id"))}:{text:"Archive",onClick:function onArchive(){if(i){var t=tr("The feature flag <b>{0}</b> has been archived.",y);a(u).then((function(){h.default.showNotification({message:t})}))}else h.default.showNotification({message:tr("You do not have permission to perform this action.")})},testSection:"feature-flag-archive-button-".concat(u.get("id"))};var v=u.get("archived")?[{text:"Unarchive",isHidden:!1,onClick:function onUnarchive(){if(i){var t=o.a.sanitize(u.get("api_name"),!0),r="The feature flag <b>".concat(t,"</b> has been unarchived.");m(u).then((function(){h.default.showNotification({message:r})}))}else h.default.showNotification({message:tr("You do not have permission to perform this action.")})},testSection:"feature-flag-unarchive-button-".concat(u.get("id"))}]:[r];return l.a.createElement(g.a,{key:u.get("id"),activator:l.a.createElement(p.a,{iconFill:"default",iconName:"ellipsis-solid",size:"small",style:"plain",testSection:"feature-table-row-actions-".concat(d)}),items:v})}FeatureTableRowActions.propTypes={archive:d.a.func.isRequired,canManageFeatureFlags:d.a.bool.isRequired,currentProjectRunningExperiments:d.a.instanceOf(m.default.List).isRequired,feature:d.a.instanceOf(m.default.Map).isRequired,rowIndex:d.a.number.isRequired,unarchive:d.a.func.isRequired},r.a=FeatureTableRowActions},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(150),l=a(311),u=a(237),d=a(2742);r.a=function ConfigureMetricsWithData(t){var r=t.currentProjectId,a=t.disablePrimaryMetricEdit,p=t.isDisabled,m=t.onChange,g=t.selectedMetrics,h=Object(c.b)({eventEntityCache:l.default.entityCache}).eventEntityCache;return Object(i.useEffect)((function(){return Object(u.b)(g)}),[g.map((function(t){return t.event_id})).join()]),o.a.createElement("div",{className:"soft-half--top"},o.a.createElement(d.a,{currentProjectId:r,disablePrimaryMetricEdit:a,eventEntityCache:h,isDisabled:p,onChange:m,selectedMetrics:g}))}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(62),l=a(100),u=a(154),d=a(19),p=a(40),m=a(204),g=a(52),h=a(218),y=a(435),v=a(5),_=a(63),E=a(2),b=a(213),T=a(7),S=a(405),C=a(252),I=a(120);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}r.a=Object(_.a)({mapPropsToFormData:function mapPropsToFormData(t){var r=t.id,a=t.name,i=void 0===a?"":a;return Object(E.toImmutable)({_savedKey:null,api_name:r?"":i,description:"",id:r})},debounceTimeout:300,validateOnChange:!1})((function CreateOrEditEventSheet(t){var r=t.currentProjectId,a=t.form,_=t.id,A=void 0===_?NaN:_,O=t.onCancel,P=t.onSave,R=(Object(c.useFeature)("help_copy")[1]||{}).full_stack_events_overview_link,w=_slicedToArray(Object(i.useState)(!0),2),N=w[0],L=w[1],x=_slicedToArray(Object(i.useState)(!1),2),D=x[0],k=x[1],j=_slicedToArray(Object(i.useState)(!1),2),M=j[0],U=j[1],V=a.field("api_name"),B=V.getValue(),G=a.field("description"),H=G.getValue(),z=!A;Object(i.useEffect)((function(){A?b.a.fetch(A).then((function(t){var r=t.api_name,i=t.description;a.setValue(Object(E.toImmutable)({_savedKey:r,description:i||"",api_name:r,id:A}))})).always((function(){return L(!1)})):L(!1)}),[]),Object(i.useEffect)((function(){a.field("api_name").validators({isValid:function isValid(t){return t&&l.default.eventAPIName.test(t)?"":"Please enter a valid key. Valid keys can contain spaces, alphanumeric characters, hyphens, and underscores, and are limited to 64 characters."},isUnique:function isUnique(t){var i=l.default.eventAPIName.test(t),o=!t,c=!z&&a.field("_savedKey").getValue()===t;return o||c||!i?Promise.resolve(null):(U(!0),b.a.fetchByName(r,t).then((function(t){return t&&t.length>0?"Key is already in use by another event in this project. Please choose a unique key.":""})).always((function(){return U(!1)})))}})}),[]);return o.a.createElement(u.a,{hasRequiredFieldsIndicator:!0,footerButtonList:[o.a.createElement(d.a,{key:"cancel",style:"plain",onClick:O,testSection:"create-new-event-modal-cancel-button"},"Cancel"),o.a.createElement(d.a,{key:"submit",style:"highlight",loadingText:"".concat(z?"Creating":"Saving"," Event"),onClick:function createOrSaveEvent(){k(!0),a.validate().then((function(){return new Promise((function(t,a){return b.a.save(_extends({api_name:B,category:I.a.Other,description:H,event_type:I.c.Custom,name:B,project_id:r},!!A&&{id:A})).then((function(r){t(r)})).fail((function(){return a()}))}))})).then(P).then((function(){v.default.showNotification({message:"This event has been ".concat(A?"saved":"created")})})).catch((function(){a.isFormValid()?v.default.showNotification({message:"There was a problem ".concat(A?"saving":"creating"," this event"),type:"error"}):a.setOptions({validateOnChange:!0})})).finally((function(){k(!1)}))},isLoading:D,testSection:"create-new-event-modal-save-button"},z?"Create":"Save"," Event")],onClose:O,title:"".concat(z?"Create":"Edit"," Event"),subtitle:o.a.createElement("span",null,"Custom tracking events allow you to capture and report on visitor actions or events."," ",o.a.createElement(p.a,{href:String(R)||"https://docs.developers.optimizely.com/full-stack/docs/track-events",newWindow:!0},"Learn more"))},N?o.a.createElement("div",{className:"height--300"},o.a.createElement(m.a,{hasOverlay:!0})):o.a.createElement(o.a.Fragment,null,o.a.createElement("fieldset",null,o.a.createElement(g.a,{displayError:a.field("api_name").getErrors().hasError,id:"event-key",isRequired:!0,label:"Event Key",note:function getKeyValidationNote(){return M?"Validating...":a.field("api_name").getErrors().message}(),onChange:function onChange(t){var r=t.target;return V.setValue(r.value)},placeholder:"Add a unique key for this event.",testSection:"event-key",type:"text",value:B})),o.a.createElement("fieldset",null,o.a.createElement(h.a,{id:"event-description",label:"Description",onChange:function onChange(t){var r=t.target;return G.setValue(r.value)},placeholder:"Describe this event.",testSection:"event-description",value:H})),o.a.createElement("fieldset",null,o.a.createElement(S.a,{description:"Choose your preferred SDK to view sample code. Copy and paste the code to track the event in your application.",getCodeSample:function getCodeSample(t){var r=t||T.default.sdkLanguages.PYTHON;return o.a.createElement(y.a,{isHighlighted:!0,hasCopyButton:!0,language:T.default.sdkSyntaxLanguage[r]||r,type:"block",testSection:"event-code-sample"},C.c.getCodeBlock(r,B))},showMobileOnly:!1,title:"Event Tracking Code"}))))}))},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(4),l=a(62),u=a(150),d=a(40),p=a(154),m=a(19),g=a(204),h=a(79),y=a(625),v=a(52),_=a(435),E=a(63),b=a(2),T=a(213),S=a(311),C=a(7),I=a(405),A=a(237),O=a(252),P=a(103),R=a(120),w=a(2741);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var N=Object(E.a)({mapPropsToFormData:function mapPropsToFormData(t){var r=t.metric,a=r.aggregator,i=r.display_title,o=r.event_id,c=r.event_type,l=r.field,u=r.scope,d=r.winning_direction;return Object(b.toImmutable)({aggregator:a,display_title:i,event_id:o,event_type:c,field:l,scope:u,winning_direction:d})},debounceTimeout:300,validateOnChange:!1})((function EditMetricSheet(t){var r=t.currentProjectId,a=t.event,u=t.form,T=t.isLoading,S=t.isNewMetric,N=void 0!==S&&S,L=t.metricType,x=t.selectedMetrics,D=t.onCancel,k=t.onSave,j=Object(l.useFeature)("help_copy")[1]||{},M=j.full_stack_advanced_metric_link,U=j.full_stack_edit_metric_link,V=j.full_stack_metric_tags_link,B=_slicedToArray(Object(i.useState)(!1),2),G=B[0],H=B[1],z=_slicedToArray(Object(i.useState)(0),2),W=z[0],q=z[1],Y=u.field("aggregator"),K=u.field("display_title"),J=u.field("field"),X=u.field("scope"),$=u.field("winning_direction"),Q={eventName:"",description:"",id:NaN,readableApiName:""};switch(L){case R.h.Custom:Q={eventName:a.get("api_name"),description:"ID: ".concat(a.get("id")),id:a.get("id"),readableApiName:a.get("api_name")};break;case R.h.Revenue:Q={eventName:P.a.OVERALL_REVENUE.display_title,description:"Global Metric",id:NaN,readableApiName:"revenue"}}Object(i.useEffect)((function(){u.validators({isUniquelyConfiguredMetric:function isUniquelyConfiguredMetric(t){var r=x.filter((function(r){return Object(c.isMatch)(Object(c.omit)(r,"display_title"),Object(c.omit)(Object(b.toJS)(t),"display_title"))}));if(N&&1===r.length||!N&&r.length>1)return"A metric like this already exists. Please choose a unique configuration."}},{validateOnChange:!!W})}),[W]);var Z=o.a.createElement(o.a.Fragment,null,"For more info on sending a metric with revenue or value tags,"," ",o.a.createElement(d.a,{href:String(V)||"https://docs.developers.optimizely.com/full-stack/docs/include-event-tags",newWindow:!0},"check out our developer documentation"),"."),ee=L===R.h.Revenue||J.getValue();return o.a.createElement(p.a,{footerButtonList:[o.a.createElement(m.a,{key:"cancel",style:"plain",onClick:D,testSection:"edit-metric-modal-cancel-button"},"Cancel"),o.a.createElement(m.a,{key:"submit",style:"highlight",onClick:function onClick(){H(!0),q((function(t){return t+1})),u.validate().then((function(t){var r=Object(b.toJS)(t),a=Object.entries(r).reduce((function(t,r){var a=_slicedToArray(r,2),i=a[0],o=a[1];return null===o?_extends({},t):_extends({},t,function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}({},i,o))}),{});k(a)})).catch(E.d).finally((function(){return H(!1)}))},isLoading:G,testSection:"edit-metric-modal-save-button"},N?"Add Metric":"Done")],onClose:D,title:"".concat(N?"Add":"Edit"," Metric"),subtitle:o.a.createElement("span",null,"Custom tracking events allow you to capture and report on visitor actions or events."," ",o.a.createElement(d.a,{href:String(U)||"https://docs.developers.optimizely.com/full-stack/docs/choose-metrics",newWindow:!0},"Learn more"))},T?o.a.createElement("div",{className:"height--300"},o.a.createElement(g.a,{hasOverlay:!0})):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"push-double--bottom"},o.a.createElement(h.a,null,"Event"),o.a.createElement(y.a,_extends({description:Q.description,name:Q.eventName||"Loading...",testSection:"event-tile-".concat(Q.readableApiName)},Q.id&&{onEdit:function onEdit(){A.a.showCreateOrEditEventSheet({currentProjectId:r,id:Q.id})}}))),o.a.createElement("div",{className:"push-double--bottom"},o.a.createElement(v.a,{displayError:K.getErrors().hasError,id:"metric-name",label:"Name",note:K.getErrors().message,onChange:function onChange(t){var r=t.target;return K.setValue(r.value)},placeholder:Q.eventName,testSection:"metric-display-title",type:"text",value:K.getValue()})),o.a.createElement("div",{className:"push-double--bottom"},o.a.createElement(w.a,{advancedMetricLink:String(M)||"https://docs.developers.optimizely.com/full-stack/docs/choose-metrics",aggregatorFormField:Y,displayError:u.getErrors().hasError,fieldFormField:J,metricType:L,note:u.getErrors().details.isUniquelyConfiguredMetric,scopeFormField:X,winningDirectionFormField:$})),o.a.createElement("fieldset",null,ee?Z:o.a.createElement(I.a,{description:o.a.createElement("span",null,"Choose your preferred SDK to view sample code. Copy and paste the code to track the event in your application."," ",Z),getCodeSample:function getCodeSample(t){var r=t||C.default.sdkLanguages.PYTHON;return o.a.createElement(_.a,{isHighlighted:!0,hasCopyButton:!0,language:C.sdkSyntaxLanguage[r]||r,type:"block",testSection:"metric-code-sample"},Object(O.d)(r,Q.readableApiName))},showMobileOnly:!1,title:"Metric Tracking Code"}))))}));r.a=function EditMetricSheetWithData(t){var r,a=_slicedToArray(Object(i.useState)(!1),2),c=a[0],l=a[1],d=t.metric,p=d.event_id,m=Object(u.b)({event:S.default.byId(p)},[p]).event;return r=void 0===d.event_type&&d.field===R.e.Revenue?R.h.Revenue:R.h.Custom,Object(i.useEffect)((function(){m||r!==R.h.Custom||(l(!0),T.a.fetch(p).always((function(){return l(!1)})))}),[p]),o.a.createElement(N,_extends({},t,{event:m||b.default.Map(),isLoading:c&&r===R.h.Custom,metricType:r}))}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(9),l=a.n(c),u=a(79),d=a(134),p=a(40),m=a(135),g=a(252),h=a(103),y=a(120);r.a=function MetricMeasureConfig(t){var r=t.advancedMetricLink,a=t.aggregatorFormField,i=t.displayError,c=t.fieldFormField,v=t.metricType,_=t.note,E=t.scopeFormField,b=t.winningDirectionFormField,T=g.c.getMetricDescription(b.getValue(),a.getValue(),c.getValue(),E.getValue()),S=T.description,C=T.isAdvancedConfigFromApi;return o.a.createElement("div",{className:l()({"oui-form-bad-news":i}),"data-test-section":"metric-measure-config"},o.a.createElement(u.a,null,"Measure"),C?o.a.createElement("div",{"data-test-section":"metric-measure-config-api-configurable"},S,o.a.createElement("div",{className:"push--top"},o.a.createElement(d.a,{alignment:"center",type:"brand"},"This metric has an advanced configuration. Please use the API to update or remove and create again."," ",o.a.createElement(p.a,{href:r,newWindow:!0},"View developer documentation"),"."))):o.a.createElement("div",{className:"flex flex-align--center","data-test-section":"metric-measure-config-ui-configurable"},o.a.createElement(m.a,{items:[{label:h.b.winningDirection.increasing,value:y.g.Increasing},{label:h.b.winningDirection.decreasing,value:y.g.Decreasing}],onChange:function onChange(t){return b.setValue(t)},testSection:"metric-winning-direction-dropdown",value:b.getValue()}),o.a.createElement("div",{className:"push-half--sides"},"in"),o.a.createElement("div",{"data-test-section":"aggregator-and-field"},v===y.h.Revenue?h.b.aggregatorAndField.sum.revenue:o.a.createElement(m.a,{items:[{label:h.b.aggregatorAndField.unique[h.c],value:h.b.aggregatorAndField.unique[h.c]},{label:h.b.aggregatorAndField.count[h.c],value:h.b.aggregatorAndField.count[h.c]},{label:h.b.aggregatorAndField.sum.revenue,value:h.b.aggregatorAndField.sum.revenue},{label:h.b.aggregatorAndField.sum.value,value:h.b.aggregatorAndField.sum.value}],onChange:function onChange(t){switch(t){case h.b.aggregatorAndField.unique[h.c]:return a.setValue(y.d.Unique),void c.setValue(null);case h.b.aggregatorAndField.count[h.c]:return a.setValue(y.d.Count),void c.setValue(null);case h.b.aggregatorAndField.sum.revenue:return a.setValue(y.d.Sum),void c.setValue(y.e.Revenue);case h.b.aggregatorAndField.sum.value:return a.setValue(y.d.Sum),void c.setValue(y.e.Value)}},testSection:"metric-aggregator-and-field-dropdown",value:g.c.getAggregatorAndFieldDescription(a.getValue(),c.getValue())})),o.a.createElement("div",{className:"push-half--sides"},"per"),c.getValue()?o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,{items:[{label:h.b.scope.visitor,value:y.f.Visitor},{label:h.b.scope.event,value:y.f.Event}],onChange:function onChange(t){return E.setValue(t)},testSection:"metric-scope-dropdown",value:E.getValue()})," "):"visitor"),_&&o.a.createElement("div",{className:"oui-form-note","data-test-section":"metric-measure-config-note"},_))}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(32),l=a(1278),u=a(625),d=a(134),p=a(192),m=a.n(p),g=a(103),h=a(252),y=a(237);function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}r.a=function ConfigureMetrics(t){var r=t.currentProjectId,a=t.disablePrimaryMetricEdit,i=t.eventEntityCache,p=t.isDisabled,v=t.onChange,_=t.selectedMetrics,E=_.map((function(t,r){var a=t.aggregator,o=t.event_id,c=t.field,l=t.scope,u=t.winning_direction,d=o?i.getIn([o,"api_name"]):g.a.OVERALL_REVENUE.display_title;return{description:Object(h.e)(u,a,c,l,d).description,id:"".concat(t.display_title,":").concat(t.event_id,":").concat(r),metric:t}})),b=function getActionsDropdownItems(t,a,i){return[o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a.ListItem,{key:"".concat(t,"-edit-action")},o.a.createElement(c.a.BlockLink,{onClick:function onClick(){y.a.showEditMetricSheet({currentProjectId:r,metric:i,selectedMetrics:a}).then((function(r){var i=_toConsumableArray(a);i.splice(t,1,r),v(i)}))},testSection:"tile-edit"},o.a.createElement(c.a.BlockLinkText,{text:"Edit"}))),o.a.createElement(c.a.ListItem,{key:"".concat(t,"-delete-action")},o.a.createElement(c.a.BlockLink,{onClick:function onClick(){var r=_toConsumableArray(a);r.splice(t,1),v(r)},testSection:"tile-delete"},o.a.createElement(c.a.BlockLinkText,{isDestructive:!0,text:"Delete"}))))]};return o.a.createElement(l.a,{idForDroppableRegion:"metrics-drag-and-drop",items:E,onDragEnd:function onDragEnd(t){return v(t.map((function(t){return t.metric})))},renderItem:function renderItem(t){var r=t.index,c=t.item,l=c.description,h=c.metric,y=h.display_title,v=h.event_id,E=v?i.getIn([v,"api_name"]):g.a.OVERALL_REVENUE.display_title,T=!!a&&_.length>0&&0===r,S=!T&&!p;return o.a.createElement("div",{className:"width--1-1"},o.a.createElement(u.a,_extends({description:l},S?{dropdownItems:b(r,_,h)}:{},{isDraggable:!p&&_.length>1&&!a,key:v,name:function renderName(){return o.a.createElement("span",{style:{display:"inline-grid"}},o.a.createElement("span",{className:"truncate","data-test-section":"tile-name",title:y||E},m()(y||E,64)))}(),status:_.length>1&&0===r?"Primary":"",onTileClick:function onTileClick(){},testSection:"metric-tile-".concat(v||"overall-revenue")})),T&&o.a.createElement("div",{className:"push--top"},o.a.createElement(d.a,{alignment:"left",testSection:"attention-metrics",type:"brand"},o.a.createElement("p",null,"Multi-armed bandits only use the primary metric to determine traffic allocation. You can’t edit or remove the primary metric after the optimization has started."))))}})}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1e3),l=a(32),u=a(320),d=a(153),p=a(108),m=a(26),g=a(19),h=a(40),y=a(204),v=a(65),_=a(31),E=a(5),b=a(192),T=a.n(b),S=a(138),C=a(401),I=a(7),A=a(237),O=a(252),P=a(103);function asyncGeneratorStep(t,r,a,i,o,c,l){try{var u=t[c](l),d=u.value}catch(t){return void a(t)}u.done?r(d):Promise.resolve(d).then(i,o)}function _asyncToGenerator(t){return function(){var r=this,a=arguments;return new Promise((function(i,o){var c=t.apply(r,a);function _next(t){asyncGeneratorStep(c,i,o,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,i,o,_next,_throw,"throw",t)}_next(void 0)}))}}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}function _extends(){return(_extends=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t}).apply(this,arguments)}var R=function searchByProjectIds(t){return function(r){var a=r.query;return C.a.fetchPage("search",{queryParams:_extends({type:"event",page:1,per_page:25,archived:!1,projectId:t,query:a},""===a?{sort:"created"}:{})}).then((function(t){return t.ok?t.json():(E.default.showNotification({message:"There was an error loading Events. Please refresh the page or visit our Help Center if the issue persists.",type:"error"}),[])})).catch((function(t){return E.default.showNotification({message:t.message,type:"error"}),[]}))}};r.a=function MetricsSearchPicker(t){var r=t.canUseCrossProjectMetrics,a=void 0!==r&&r,E=t.currentProjectId,b=t.currentProjectStatus,C=t.onChange,w=t.projectIds,N=void 0===w?[]:w,L=t.projects,x=void 0===L?[]:L,D=t.selectedMetrics,k=_slicedToArray(Object(i.useState)(!1),2),j=k[0],M=k[1],U=_slicedToArray(Object(i.useState)([E]),2),V=U[0],B=U[1],G=_slicedToArray(Object(i.useState)(!1),2),H=G[0],z=G[1],W=_slicedToArray(Object(i.useState)(!1),2),q=W[0],Y=W[1],K=_slicedToArray(Object(i.useState)(!1),2),J=K[0],X=K[1];Object(i.useEffect)((function(){B(H?_toConsumableArray(N):[E]),M(!0)}),[H]);var $=function refreshOnCreate(){q&&X(!J),Y(!1)},Q=Object(_.getFeatureVariableInteger)("fetch_all_paginated","initial_page_size")||S.a.INITIAL_PAGE_SIZE,Z=x.length&&x.length<Q;return o.a.createElement(c.a,{additionalItems:2,key:"shouldQueryAllProjects=".concat(V.join(),"-").concat(J),onItemSelected:function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function _callee(t,r,a){var i,o,c,l,u,d,p;return regeneratorRuntime.wrap((function _callee$(m){for(;;)switch(m.prev=m.next){case 0:if(0!==t){m.next=6;break}return m.next=3,A.a.addEventFromSearchApiViaEditMetricSheet({currentProjectId:E,metric:P.a.OVERALL_REVENUE,selectedMetrics:D});case 3:return i=m.sent,C(i),m.abrupt("return");case 6:if(1!==t){m.next=16;break}return m.next=9,A.a.showCreateOrEditEventSheet({currentProjectId:E,name:a});case 9:return o=m.sent,c=Object(O.b)(o),m.next=13,A.a.addEventFromSearchApiViaEditMetricSheet({currentProjectId:E,metric:Object(O.a)(c),selectedMetrics:D});case 13:return l=m.sent,C(l),m.abrupt("return");case 16:return u=r[t-2],d=Object(O.b)(u),m.next=20,A.a.addEventFromSearchApiViaEditMetricSheet({currentProjectId:E,metric:Object(O.a)(d),selectedMetrics:D});case 20:p=m.sent,C(p);case 22:case"end":return m.stop()}}),_callee)})));return function(r,a,i){return t.apply(this,arguments)}}(),searchFunction:R(V),supportedTypes:["event"]},(function(t){var r=t.availableEntities,i=t.currentFauxFocusIndex,c=t.isLoading,_=t.renderInput,S=t.searchQuery;return o.a.createElement(l.a,{fullWidth:!0,isLoading:c,isOpen:j,onClick:$,renderActivator:function renderActivator(t){return _(_extends({},t,{focus:j,placeholder:"Search to add metrics",testSection:"metric-search-picker-input"}))},testSection:"metric-search-picker-dropdown"},o.a.createElement(l.a.Contents,{direction:"right"},o.a.createElement(l.a.ListItem,{role:"separator",ignoreToggle:!0},o.a.createElement("div",{className:"zeta"},"Global Metrics"),o.a.createElement("div",{className:"micro hard weight--normal"},"These metrics are tracked across all your events.")),o.a.createElement(l.a.ListItem,null,o.a.createElement(u.a,{pullRowPadding:!0},o.a.createElement(d.a,{verticalAlignment:"center"},o.a.createElement(p.a,{small:"fillSpace"},o.a.createElement(l.a.BlockLink,{hasFauxFocus:0===i,onClick:_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var t;return regeneratorRuntime.wrap((function _callee2$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,A.a.addEventFromSearchApiViaEditMetricSheet({currentProjectId:E,metric:P.a.OVERALL_REVENUE,selectedMetrics:D});case 2:t=r.sent,C(t);case 4:case"end":return r.stop()}}),_callee2)}))),testSection:"metric-search-picker-overall-revenue-add-button"},o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement(m.a,{color:v.brandBlueDark,name:"plus",size:"small"}),o.a.createElement("span",{className:"push--left"},T()(P.a.OVERALL_REVENUE.display_title,68)))))))),o.a.createElement(l.a.ListItem,{role:"separator",ignoreToggle:!0},o.a.createElement("div",{className:"flex"},o.a.createElement("div",{className:"flex--1 zeta"},"Events"),a&&N.length>1&&o.a.createElement("div",{className:"flex flex--dead-center ","data-test-section":"projects-filter-options"},o.a.createElement(g.a,{onClick:function onClick(){return z(!1)},style:"unstyled",testSection:"current-project-button"},o.a.createElement(h.a,{href:"#current",isDisabled:!H},"Current project only")),o.a.createElement("span",{className:"push-half--sides"},"|"),o.a.createElement(g.a,{onClick:function onClick(){return z(!0)},style:"unstyled",testSection:"all-projects-button"},o.a.createElement(h.a,{href:"#all",isDisabled:H},"All projects")))),o.a.createElement("div",{className:"micro hard weight--normal","data-test-section":"metric-search-picker-list-divider"},"To create an event specific metric, pick"," ",a&&N.length>1&&H?"an account":"a project"," ","event.")),o.a.createElement(l.a.ListItem,null,o.a.createElement(l.a.BlockLink,{hasFauxFocus:1===i,onClick:_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var t,r,a;return regeneratorRuntime.wrap((function _callee3$(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,A.a.showCreateOrEditEventSheet({currentProjectId:E,name:S});case 2:return t=i.sent,r=Object(O.b)(t),i.next=6,A.a.addEventFromSearchApiViaEditMetricSheet({currentProjectId:E,metric:Object(O.a)(r),selectedMetrics:D});case 6:a=i.sent,C(a),Y(!0);case 9:case"end":return i.stop()}}),_callee3)}))),testSection:"metric-search-picker-create-event-button"},o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement(m.a,{color:v.brandBlueDark,name:"plus",size:"small"}),o.a.createElement("span",{className:"push--left weight--bold"},"Create new event")))),r.length?r.map((function(t,r){return o.a.createElement(l.a.ListItem,{key:t.id},o.a.createElement(u.a,{pullRowPadding:!0},o.a.createElement(d.a,{verticalAlignment:"center"},o.a.createElement(p.a,{small:"fillSpace"},o.a.createElement(l.a.BlockLink,{hasFauxFocus:i===r+2,onClick:_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var r;return regeneratorRuntime.wrap((function _callee4$(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A.a.addEventFromSearchApiViaEditMetricSheet({currentProjectId:E,metric:Object(O.a)(t),selectedMetrics:D});case 2:r=a.sent,C(r);case 4:case"end":return a.stop()}}),_callee4)}))),testSection:"metric-search-picker-event-add-button-".concat(r)},o.a.createElement("div",{className:"flex flex-align--center"},o.a.createElement(m.a,{color:v.brandBlueDark,name:"plus",size:"small"}),o.a.createElement("div",{className:"push--left"},o.a.createElement("div",null,T()(t.name,68)),o.a.createElement("div",{className:"micro muted"},Z&&b===I.default.project_status.ACTIVE&&x.length>0?x.find((function(r){return r.id==t.project_id})).project_name:t.description))))),o.a.createElement(p.a,{small:"fitContent"},o.a.createElement(g.a,{style:"outline",size:"small",onClick:function onClick(){return A.a.showCreateOrEditEventSheet({currentProjectId:E,id:t.id})},testSection:"metric-search-pick-event-view-button-".concat(r)},"View")))))})):o.a.createElement(l.a.ListItem,null,o.a.createElement("span",{className:"style--italic muted","data-test-section":"no-created-events"},"No recently created events in the current project.")),c&&o.a.createElement(y.a,{hasOverlay:!0})))}))}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(2),l=a(323),u=a(1009);r.a=function FlagsAudienceCombinationsBuilder(t){var r=t.audiences,a=t.audienceConditions,d=void 0===a?[]:a,p=t.canEditAudience,m=void 0===p||p,g=t.onChange,h=t.projectId,y=Object(i.useRef)(null);Object(i.useEffect)((function(){y.current&&y.current.reinitializeComponent()}),[r]);var v=l.a.computeSelectedAudienceNamesMapPOJO(d,r);return o.a.createElement(u.a,{audienceNamesMap:v,audiences:Object(c.toImmutable)(r),isFlagProject:!0,isWebProject:!1,isFullStackProject:!1,inForm:!1,projectId:h,ref:y,shouldShowAudienceCombinationOptions:!0,shouldShowCodeModeButton:!1,audienceConditions:Object(c.toImmutable)(d),canEditAudience:m,shouldShowAudienceWithHelper:!1,onSelectionChange:function onSelectionChange(t){var r=t.audienceConditions;t.isValidAudienceConfig;1===r.size&&(r=Object(c.toImmutable)([])),g({audienceConditions:Object.freeze(r.toJS())})}})}},function(t,r,a){"use strict";var i=a(2746);r.a=i.a},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(599),l=a(150),u=a(2),d=a(14),p=a(20),m=a(262),g=a(352);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==a)return;var i,o,c=[],l=!0,u=!1;try{for(a=a.call(t);!(l=(i=a.next()).done)&&(c.push(i.value),!r||c.length!==r);l=!0);}catch(t){u=!0,o=t}finally{try{l||null==a.return||a.return()}finally{if(u)throw o}}return c}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}var h=function AudienceCombinationNames(t){var r=t.audienceConditions,a=t.audiences,l=t.projectId,d=_slicedToArray(Object(i.useState)(!0),2),h=d[0],y=d[1];if(Object(i.useEffect)((function(){y(!0);var t=p.fns.deriveAudienceIdsFromAudienceConditionsPOJO(r),i=Object(c.a)(r,a.toJS()),o=t.filter((function(t){return!!i[t]})),u={project_id:l,id:o};m.a.fetchAll(u).always((function(){y(!1)}))}),[]),h)return o.a.createElement("span",{className:"style--italic"},"Loading audiences...");var v=g.default.getPlaceHolderNameFromAudiences(Object(u.toImmutable)(r),a);return o.a.createElement("span",null,v)};r.a=function AudienceCombinationNamesWithData(t){var r=t.audienceConditions,a=Object(l.b)({audiences:d.getters.audiences,projectId:d.getters.id}),i=a.audiences,c=a.projectId;return o.a.createElement(h,{audienceConditions:r,audiences:i,projectId:c})}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(673),d=a(5),p=a(242),m=a(128);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(FlagsAudienceSearchPicker,t);var r=_createSuper(FlagsAudienceSearchPicker);function FlagsAudienceSearchPicker(){var t;_classCallCheck(this,FlagsAudienceSearchPicker);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).handleCreateOrEditAudience=function(r){var a=r.id,i=void 0===a?null:a,o=r.name,c=void 0===o?"":o,l=t.props.handleAddAudience;d.default.loadingStart("main"),p.actions.fetchOrCreateAudience(i,c).then((function(t){var r=$.Deferred();i||r.then((function(t){l(t.id,t.name)})),m.actions.showAudienceEditorDialog(t,r).finally((function(){d.default.loadingStop("main")}))}))},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(FlagsAudienceSearchPicker,[{key:"render",value:function render(){var t=this,r=this.props,a=r.addAudience,i=r.projectId,c=r.selectedEntityIds;return o.a.createElement(u.a,{addAudience:a,projectId:i,selectedEntityIds:c,openEditAudienceDialog:function openEditAudienceDialog(r){t.handleCreateOrEditAudience({id:r.id})},openCreateAudienceDialog:function openCreateAudienceDialog(r){t.handleCreateOrEditAudience({name:r})}})}}]),FlagsAudienceSearchPicker}(i.Component);g.propTypes={addAudience:l.a.func.isRequired,handleAddAudience:l.a.func.isRequired,projectId:l.a.number.isRequired,selectedEntityIds:l.a.array.isRequired},r.a=g},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(150),l=a(231);function ProjectName(t){var r=t.projectId,a=Object(c.b)({project:l.a.byId(r)},[r]).project;return o.a.createElement("span",null,a?a.get("project_name"):"")}r.a=o.a.memo(ProjectName)},,function(t,r,a){"use strict";a.r(r),a.d(r,"currentBillingInfo",(function(){return l}));var i=a(41),o=a(1388),c=Object(i.default)(o.a),l=[c.entityCache,function(t){if(t.count()>1)throw new Error("There should be at most one billing info in store.");return t.first()}];r.default=Object.assign(c,{currentBillingInfo:l})},,function(t,r,a){var i=a(65).brandBlueDark,o=a(3),c=a(731).default,l=a(29).default,u=a(3488),d=a(394).default,p=u.getFieldTypeToComponents(),m=a(3521);t.exports={componentId:"plugin-config-form",replace:!0,template:m,components:p,data:{allowSchemaEdit:!1,inVariationEditor:!1,ChangeStatuses:l.ChangeStatuses,brandBlueDark:i},methods:{getStatusClassForField:function getStatusClassForField(t){return this.dirtyStatuses?d.coalesceStatusesIntoClass(this.dirtyStatuses[t]):""},getFieldComponent:function getFieldComponent(t){if(!p[t])throw new Error('Invalid fieldType="'.concat(t,'"'));return t},getValue:function getValue(t){return this.formValues[t.name]},addField:function addField(){this.$options.addSchemaField()},editSchemaField:function editSchemaField(t){this.$options.editSchemaField(t)},onResetFormValue:function onResetFormValue(t){this.$options.onRevert(t)}},created:function created(){if(this.activeFrameId||(this.activeFrameId=null),!this.$options.onUpdateFormValue)throw new Error("Must provide onUpdateFormValue");if(!this.$options.formValuesGetter)throw new Error("Must provide formValuesGetter");if(this.allowSchemaEdit&&!this.$options.editSchemaField)throw new Error("Must provide editSchemaField");if(this.allowSchemaEdit&&!this.$options.addSchemaField)throw new Error("Must provide addSchemaField");o.bindVueValues(this,{formSchema:c.pluginConfigFormSchema,formValues:this.$options.formValuesGetter}),this.$options.formValuesDirtyStatusGetter&&o.bindVueValues(this,{dirtyStatuses:this.$options.formValuesDirtyStatusGetter}),this.$on("pluginUpdateFormValue",this.$options.onUpdateFormValue)}}},function(t,r,a){"use strict";a.r(r);var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(40),d=a(26),p=a(98),m=a(19),g=a(5),h=a(2),y=a(20),v=a(54),_=function StopVariationDialog(t){var r=t.saveAsPartialFactorial||!1,a=!t.isP13NCampaign&&t.experiment.getIn(["variations",0,"variation_id"])===t.variation.get("variation_id");return l.a.createElement(v.default,{loadingId:"stop-variation-dialog"},l.a.createElement("div",{className:"lego-dialog--narrow","data-test-section":"stop-variation-dialog"},l.a.createElement("div",{className:"lego-dialog__header"},l.a.createElement("div",{className:"lego-dialog__title","data-test-section":"dialog-title-stop-variation"},"Stop ",t.variation.get("name"))),l.a.createElement("div",{className:"lego-dialog__body"},function computeDialogBodyMessage(t,r){return a?l.a.createElement("p",{"data-test-section":"original-message"},"Stopping the Original variation will prevent users from seeing it as well as change the baseline against which your results are calculated. Visitors previously allocated to the Original variation will be reallocated to a different variation the next time they see experiment. If the intent is to send all traffic to a winning variation, please see this"," ",l.a.createElement(u.a,{newWindow:!0,href:"https://help.optimizely.com/Analyze_Results/Send_all_traffic_to_a_winning_variation#Show_a_winning_variation_to_all_visitors"},"article")," ","so that the integrity of this this experiment’s results can be preserved."):r?l.a.createElement("p",{"data-test-section":"sticky-not-original-message"},"Stopping ",t," will exclude returning visitors from the experiment. Visitors already allocated to ",t," will not see this experiment when they return. They will no longer be measured in the Results page."):l.a.createElement("p",{"data-test-section":"not-original-message"},"Stopping ",t," will reallocate returning visitors to the remaining variation(s), and may affect your results.")}(t.variation.get("name"),t.canUseWebStickyBucketing),l.a.createElement("div",{className:"lego-media color--bad-news"},l.a.createElement(d.a,{name:"circle-exclamation",size:"small",className:"lego-icon lego-media__img",color:"color--bad-news"}),l.a.createElement("div",{className:"lego-media__body"},l.a.createElement("p",null,"You cannot undo this action once you publish the experiment."))))),l.a.createElement("div",{className:"lego-dialog__footer"},l.a.createElement(p.a,{rightGroup:[l.a.createElement(m.a,{testSection:"cancel-button",style:"plain",onClick:g.default.hideDialog,key:0},"Cancel"),l.a.createElement(m.a,{testSection:"stop-variation-button",className:"lego-button lego-button--danger",style:"danger",onClick:function onConfirm(){var a=y.actions.stopVariation(t.variation.get("variation_id"),t.experiment.toJS(),t.experiment.get("variations").toJS(),r).then((function(){t.onSave&&t.onSave(),g.default.hideDialog()}));g.default.loadingWhen("stop-variation-dialog",a),t.onSaving&&t.onSaving(a)},key:1},"Stop Variation")]})))};_.propTypes={variation:o.a.instanceOf(h.default.Map).isRequired,experiment:o.a.instanceOf(h.default.Map).isRequired,onSave:o.a.func,onSaving:o.a.func,canUseWebStickyBucketing:o.a.bool,isP13NCampaign:o.a.bool.isRequired,saveAsPartialFactorial:o.a.bool},_.defaultProps={canUseWebStickyBucketing:!0},r.default=_},function(t,r,a){var i,o,c,l,u;function _defineProperty(t,r,a){return r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t}var d=a(69),p=a(7),m=a(17);r.TABLE_ID="VariablesDashboard",r.NAV_TABS=m({VARIABLES:null}),r.LIVE_VARIABLE_VALUE_DEFAULTS=(_defineProperty(i={},d.LIVE_VARIABLE_TYPES.boolean,"true"),_defineProperty(i,d.LIVE_VARIABLE_TYPES.float,0),_defineProperty(i,d.LIVE_VARIABLE_TYPES.integer,0),_defineProperty(i,d.LIVE_VARIABLE_TYPES.string,""),i),r.LIVE_VARIABLE_CODE_BLOCKS_BY_LANG=(_defineProperty(l={},p.sdkLanguages.JAVA,(_defineProperty(o={},d.LIVE_VARIABLE_TYPES.boolean,'Boolean %s = getVariableBoolean("%s", userId, true);'),_defineProperty(o,d.LIVE_VARIABLE_TYPES.double,'Double %s = getVariableDouble("%s", userId, true);'),_defineProperty(o,d.LIVE_VARIABLE_TYPES.integer,'Integer %s = getVariableInteger("%s", userId, true);'),_defineProperty(o,d.LIVE_VARIABLE_TYPES.string,'String %s = getVariableString("%s", userId, true);'),o)),_defineProperty(l,p.sdkLanguages.OBJECTIVE_C,(_defineProperty(c={},d.LIVE_VARIABLE_TYPES.boolean,'BOOL %s = [optimizely variableBoolean:@"%s" userId:userId activateExperiment:TRUE];'),_defineProperty(c,d.LIVE_VARIABLE_TYPES.double,'double %s = [optimizely variableDouble:@"%s" userId:userId activateExperiment:TRUE];'),_defineProperty(c,d.LIVE_VARIABLE_TYPES.integer,'NSInteger %s = [optimizely variableInteger:@"%s" userId:userId activateExperiment:TRUE];'),_defineProperty(c,d.LIVE_VARIABLE_TYPES.string,'NSString *%s = [optimizely variableString:@"%s" userId:userId activateExperiment:TRUE];'),c)),l),r.LIVE_VARIABLE_CODE_BLOCKS=(_defineProperty(u={},p.sdks.ANDROID,r.LIVE_VARIABLE_CODE_BLOCKS_BY_LANG[p.sdkLanguages.JAVA]),_defineProperty(u,p.sdks.ANDROID_TV,r.LIVE_VARIABLE_CODE_BLOCKS_BY_LANG[p.sdkLanguages.JAVA]),_defineProperty(u,p.sdks.IOS,r.LIVE_VARIABLE_CODE_BLOCKS_BY_LANG[p.sdkLanguages.OBJECTIVE_C]),_defineProperty(u,p.sdks.TV_OS,r.LIVE_VARIABLE_CODE_BLOCKS_BY_LANG[p.sdkLanguages.OBJECTIVE_C]),u)},function(t,r){t.exports={entity:"dcp_datasource_attributes",parent:{entity:"dcp_datasources",key:"dcp_datasource_id"}}},function(t,r,a){var i=a(12),o=function TimeInput(t,r,a){var o=this,c=(r=r||{}).forceValue||!1;this.input=i(t),this.input.on("blur",this.parseTime.bind(this,c,a)),this.input.on("keypress",(function(t){13===t.keyCode&&o.parseTime(c,a)}))};o.prototype.parseTime=function(t,r){var a,i=this.input.val()&&this.input.val().trim(),o=tr.date(i,"LT");a=t&&!o.isValid()?"":o.format("LT"),this.input.val(a),r&&r(a)},t.exports=o},function(t,r,a){var i=a(17);t.exports=i({P13N_EDITOR_IFRAME_MOCKS_SET_VIEW_ELEMENT_INFO:null,P13N_EDITOR_IFRAME_MOCKS_ADD:null,P13N_EDITOR_IFRAME_MOCKS_LOG_ACTION:null,P13N_EDITOR_IFRAME_MOCKS_APPLY_CHANGES:null})},,,,,function(t,r,a){var i=a(17);t.exports=i({PLUGINS_UI_SET_IDE_ACTIVE_TAB:null,PLUGINS_UI_SET_PREVIOUS_VIEW:null,PLUGINS_UI_SET_IFRAME_LOAD_COMPLETE:null,PLUGINS_UI_SHOW_CODE_ASSISTANT:null})},function(t,r,a){var i=a(1515),o=a(4),c=a(170),l=a(2777);function isUIDisplayableCondition(t){if(!t.IS_GROUP)return!1;if(t.negate)return!1;if("or"===t.type)return!1;if(0===t.conditions.length)return!0;if(3!==conditionGroupDepth(t))return!1;if(!t.conditions.every((function(t){return t.IS_GROUP&&!t.negate&&"or"===t.type})))return!1;var r=!0;return t.conditions.forEach((function(t){t.conditions.forEach((function(t){t.IS_GROUP&&"or"===t.type&&getConditionType(t)||(r=!1)}))})),!!r}function getConditionType(t){if(0===t.conditions.length)return null;if(!t.conditions.every((function(t){return!t.IS_GROUP})))return null;var r=t.conditions[0].type;return t.conditions.every((function(t){return t.type===r}))?r:null}function wrapGroup(t,r){var a=new c(r);return a.conditions=[t],a}function traverseProperLeafGroups(t,r,a){a?a+=1:a=1,isProperLeafConditionGroup(t)?r(t,a):t.conditions.forEach((function(t){t.IS_GROUP&&traverseProperLeafGroups(t,r,a)}))}function isProperLeafConditionGroup(t){return t.conditions.length>0&&t.conditions.every((function(t){return!t.IS_GROUP}))}function conditionGroupDepth(t,r){return r?r+=1:r=1,0===t.conditions.length||i(t.conditions[0])?r:conditionGroupDepth(t.conditions[0],r)}t.exports={getConditionType:getConditionType,cleanInvalidConditionFields:function cleanInvalidConditionFields(t){traverseProperLeafGroups(t,(function(t){t.conditions.forEach((function(t){o.each(t,(function(r,a){"type"!==a&&(l.isValidFieldValue(t.type,a,r)||delete t[a])}))}))}))},transformToUIValidConditionGroup:function transformToUIValidConditionGroup(t){var r=new c;try{r.load(t)}catch(t){return null}if(isUIDisplayableCondition(r))return r;var a=r.serialize();if((r=new c).load(a),isUIDisplayableCondition(r=function handleSingleProperLeafConditionGroup(t){if("or"!==t.type)return t;if(!isProperLeafConditionGroup(t))return t;var r=t.conditions[0].type;if(!t.conditions.every((function(t){return t.type===r})))return t;var a=new c("and");return a.conditions=[wrapGroup(t,"or")],a}(r)))return r;if(function traverseLeafGroups(t,r,a){a?a+=1:a=1;(function isImproperLeafConditionGroup(t){if(isProperLeafConditionGroup(t))return!1;var r=t.conditions.some((function(t){return!t.IS_GROUP})),a=t.conditions.some((function(t){return t.IS_GROUP}));return r&&a})(t)||isProperLeafConditionGroup(t)?r(t,a):t.conditions.forEach((function(t){t.IS_GROUP&&traverseLeafGroups(t,r,a)}))}(r=function handleNegateOrConditionGroup(t){if("or"!==t.type||!t.negate)return t;var r=new c("and");return t.conditions.forEach((function(t){var a=new c("or");a.negate=!0,a.conditions=[t],r.conditions.push(wrapGroup(a,"or"))})),r}(r),(function(t,r){r<3&&function wrapConditionsInGroup(t,r){var a=!1;t.conditions.forEach((function(i,o){if(!i.IS_GROUP){a=!0;var l=new c(r);l.conditions=[i],l.negate=t.negate,t.conditions.splice(o,1,l)}})),a&&(t.negate=!1)}(t,"or")})),isUIDisplayableCondition(r))return r;if("or"===r.type&&(r=wrapGroup(r,"and")),conditionGroupDepth(r)>3)return null;var i=!0;try{traverseProperLeafGroups(r,(function(t,a){if(2===a){var i=r.conditions.indexOf(t);if(-1===i)throw new Error("Could find index of ".concat(t.serialize()," in ").concat(r.serialize()));var o=new c("or");o.conditions=[t],r.conditions.splice(i,1,o)}}))}catch(t){i=!1}return i&&isUIDisplayableCondition(r)?r:null},traverseProperLeafGroups:traverseProperLeafGroups,isUIDisplayableCondition:isUIDisplayableCondition,isEmpty:function isEmpty(t){var r=!0,a=new c;return a.load(t),traverseProperLeafGroups(a,(function(){r=!1})),r}}},function(t,r,a){"use strict";var i=a(1298);a.d(r,"a",(function(){return i.a}));var o=a(568),c=a(1299),l=a(791);i.a,o.a,c.a,l.a},,,,,,,,,function(t,r,a){var i=a(17);t.exports=i({P13N_EVENT_EDITOR_SET_CURRENT_SELECTOR:null,P13N_EVENT_EDITOR_SET_ELEMENT_SELECTOR_ENABLED:null,P13N_EVENT_EDITOR_SET_IS_EDITING_SELECTOR:null})},function(t,r,a){var i=a(17);t.exports=i({P13N_TAG_EDITOR_SET_CURRENT_SELECTOR:null,P13N_TAG_EDITOR_SET_CURRENT_SELECTOR_INFO:null,P13N_TAG_EDITOR_SET_IS_EDITING_SELECTOR:null})},function(t,r,a){var i=a(17);t.exports=i({P13N_SET_CURRENT_DATASOURCE_ID:null})},function(t,r,a){var i=a(17);t.exports=i({P13N_SET_CURRENT_TAG_ID:null})},function(t,r,a){var i=a(93),o=a(4),c=a(12),l=a(3),u=a(658),d=a(3184).default,p=a(3188),m=a(3192),g=a(1951),h={location:p,third_party_dimension:m,predicted_intent:d},y={},v={},_={};function buildComponentMap(){var t=l.evaluateToJS(u.getters.entityCache);o.forEach(t,(function(t,r){if(o.includes(t.used_by,"audiences")){var l="conditions/".concat(r),u=h[r]?h[r]:g,d=_[r]||r;y[l]=i.component(l,c.extend(!0,{},u,{template:a(3215)("./".concat(d,".html")),data:{conditionType:r,dimension:t}})),v[r]=l}}))}t.exports={getComponentId:function getComponentId(t){return v[t]||buildComponentMap(),v[t]},initializeComponentMap:function initializeComponentMap(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_=t,buildComponentMap()},isValidFieldValue:function isValidFieldValue(t,r,a){var i;try{i=function getFieldDefinition(t,r){var a=l.evaluateToJS(u.getters.entityCache);if(!a[t])throw new Error("Invalid dimension type: ".concat(t));if(!a[t].fields[r])throw new Error("Invalid field: ".concat(r));return a[t].fields[r]}(t,r)}catch(t){return!1}return!(i.required&&!a)&&(!i.required||(!i.values||-1!==i.values.map((function(t){return t.value})).indexOf(a)))}}},function(t,r,a){var i=a(4),o=a(3),c=a(498).default,l=a(13),u=a(8),d=a(197),p=a(39),m=a(3193),g=a(1952);t.exports={template:g,components:{"time-and-day-picker":m},computed:{weekdaysMin:function weekdaysMin(){var t=u.date(),r=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];return i.times(7,(function(a){return{label:t.weekday(a).format("dd"),name:r[t.isoWeekday()-1]}}))}},methods:{getDimensionTitle:function getDimensionTitle(t,r){return Object.prototype.hasOwnProperty.call(r,"integration_master_label")?"".concat(r.integration_master_label," - ").concat(u(r.display_name)):"custom_dimension"===t.id?i.map(this.dimensionText.split(" "),(function(t){return d.capitalize(t)})).join(" "):this.canUseListAttributes&&"list"===t.id?u("List Attribute"):u(t.title)}},created:function created(){o.bindVueValues(this,{dimensions:c.defaultDimensions,dimensionText:l.dimensionText,canUseListAttributes:p.canUseListAttributes})}}},function(t,r){t.exports='<div class="flex flex--1">\n  <strong class="push--right push-half--top" title="[[ customAttributeName ]]">\n    [[ customAttributeName | truncate 25 ]]\n  </strong>\n  <div>\n    <span>\n      <select\n        class="lego-select push--right"\n        data-test-section="condition-type-select"\n        v-model="selectType"\n      >\n        <option\n          v-repeat="option: selectOptionGroupList"\n          v-attr="value: option.label"\n        >\n          [[ option.label ]]\n        </option>\n      </select>\n    </span>\n    <div class="lego-form-note lego-form-note--bad-news" v-if="type_error">\n      Select a type for attribute.\n    </div>\n  </div>\n  <span>\n    <select\n      class="lego-select push--right"\n      data-test-section="condition-select"\n      style="width: 210px"\n      v-model="selectValue"\n      v-class="visibility--hidden: isMatchTypeHidden"\n    >\n      <option\n        v-repeat="option: selectedTypeValues"\n        v-attr="value: option.uiMatchTypeValue"\n      >\n        [[ option.uiMatchTypeText ]]\n      </option>\n    </select>\n  </span>\n  <span>\n    \x3c!-- Added step to allow for decimals per https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/number#Using_number_inputs. This won\'t affect text input --\x3e\n    <input\n      class="lego-text-input text--left"\n      data-test-section="condition-input"\n      step="any"\n      v-on="change: handleInputValueChange"\n      v-value="condition.value"\n      v-attr="type: valueInputType, placeholder: currentlySelectedMatchType.uiInputPlaceholder"\n      v-class="visibility--hidden: isValueInputHidden"\n    />\n    <div\n      class="lego-form-note lego-form-note--bad-news"\n      v-if="semver_error"\n      v-text="semver_error"\n    >\n      Must be valid semantic version.\n    </div>\n  </span>\n</div>\n'},function(t,r){t.exports='<div class="condition">\n  \x3c!-- TODO(OASIS-3386) This template is currently behind a feature flag, is a WIP, and will NOT be active for customers. Bring this template in line with the design  --\x3e\n  <div class="condition__title background--faint">\n    <span v-text="dimension.title | translate"></span>\n  </div>\n\n  <div class="condition__close">\n    <svg class="lego-icon link--bad-news float--right remove-condition-group"\n      v-on="click: removeConditionGroup()"\n      data-test-section="remove-condition-group">\n      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#xmark-16"></use>\n    </svg>\n  </div>\n\n  \x3c!-- 3.0 SDK Version Attention bar shown if a condition other than exact string is used --\x3e\n  <div\n    v-if="shouldShowSdkVersionWarning"\n    class="oui-attention oui-attention--brand audience-editor__used-in-experiments-warning push--sides push-half--bottom">\n    <span v-text="customAttributeBarText"></span>\n    <a v-attr="href: customAttributeBarLink" target="_blank" rel="noopener noreferrer" v-text="customAttributeBarLinkText"></a>.\n  </div>\n  <div class="condition__body push--bottom">\n    <div class="push-half--bottom flex">\n      <content select="[data-content-block=\'title\']">\n        \x3c!-- title block --\x3e\n      </content>\n      \x3c!-- Warning Popover shown if Custom Attribute is used --\x3e\n      <div class="flex--dead-center push--left" v-if="hasFullStackCustomAttribute">\n        <svg class="lego-icon drop-filter-list__icon cursor--pointer"\n             v-popover\n             data-behavior="show"\n             data-dir="left-center"\n             data-content-selector="*[data-popover-name=\'condition-value-warning\']">\n          <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#circle-exclamation"></use>\n        </svg>\n        <div class="oui-pop--over"\n             data-popover-name="condition-value-warning">\n          <div class="oui-pop--over__content">\n            Custom Attribute match conditions require that an attribute has a value of a particular type. If the attribute value and match condition are incompatible, a failure mode will trigger. (For example, if a string Custom Attribute value is sent to the SDK and the "Number is greater than condition" match type is applied to the value, the condition fails.) The behavior of this failure mode varies depending on your SDK version. <a v-attr="href: customAttributeMatchConditionLink" target="_blank" rel="noopener noreferrer">Learn More</a>.\n          </div>\n        </div>\n      </div>\n    </div>\n    <div data-test-section="condition-one-line" v-repeat="condition: conditionGroup.conditions">\n      <div class="condition-value-row">\n        <div class="name-col">\n            <table class="lego-table">\n              <tr class="push--ends">\n                <td class="hard--ends flex push--ends">\n                  <div class="or-col push--right push-half--top" v-class="visibility--hidden: conditionIndex(condition) === 0">\n                    [[ conditionGroup.type ]]\n                  </div>\n                  <content select="[data-content-block=\'name-and-value\']">\n                    \x3c!-- name block --\x3e\n                  </content>\n                </td>\n                \x3c!-- conditionConfig is only defined in third_party_targeting_condition_group --\x3e\n                <td class="lego-table--add-row__controls hard--ends">\n                  <div class="push--ends">\n                    <button\n                      class="lego-button lego-button--form lego-button--narrow push--right"\n                      type="button"\n                      v-class="visibility--hidden: !isLastSubCondition(condition)"\n                      v-on="click: addEmptyCondition"\n                      data-test-section="add-condition">\n                      <svg class="lego-icon push--top">\n                        <use xlink:href="#plus"></use>\n                      </svg>\n                    </button>\n                    <button\n                      class="lego-button lego-button--form lego-button--narrow"\n                      type="button"\n                      v-class="visibility--hidden: conditionGroup.conditions.length <= 1"\n                      v-on="click: removeCondition(condition)"\n                      data-test-section="remove-condition">\n                      <svg class="lego-icon push--top">\n                        <use xlink:href="#xmark-16"></use>\n                      </svg>\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(t,r){t.exports='<select class="lego-select" v-model="condition.value" name="[[ conditionType ]]">\n  <option value="" v-text="placeholder[conditionType]"></option>\n  <optgroup v-repeat="optionGroup: options | orderBy \'seq\'" v-attr="label: translatedLabel(optionGroup.label)">\n    <option v-repeat="option: optionGroup.values | orderBy \'seq\'"\n      v-attr="value: option.value, disabled: option.deprecated === true, selected: condition.value === option.value">\n      [[ option.text | translate ]]\n    </option>\n  </optgroup>\n  <option v-repeat="option: ungroupedOptions | orderBy \'seq\'"\n    v-attr="value: option.value, disabled: option.deprecated === true, selected: condition.value === option.value">\n    [[ option.text | translate ]]\n  </option>\n</select>\n'},function(t,r){t.exports='<div class="condition">\n  <div class="condition__title background--faint">\n    <span v-text="dimension.title | translate"></span>\n  </div>\n\n  <div class="condition__close">\n    <svg\n      class="lego-icon link--bad-news float--right remove-condition-group"\n      v-on="click: removeConditionGroup()"\n      data-test-section="remove-condition-group"\n    >\n      <use\n        xmlns:xlink="http://www.w3.org/1999/xlink"\n        xlink:href="#xmark-16"\n      ></use>\n    </svg>\n  </div>\n\n  <div class="condition__body push--bottom">\n    <div class="push-half--bottom">\n      <content select="[data-content-block=\'title\']">\n        \x3c!-- title block --\x3e\n      </content>\n    </div>\n    <div v-repeat="condition: conditionGroup.conditions">\n      <div class="condition-value-row">\n        <div class="or-col">\n          <span v-if="conditionIndex(condition) !== 0"\n            >[[ conditionGroup.type ]]</span\n          >\n        </div>\n        <div class="name-col">\n          <table class="lego-table">\n            <tr class="no-border--top">\n              <td class="hard--ends">\n                <content select="[data-content-block=\'name\']">\n                  \x3c!-- name block --\x3e\n                </content>\n              </td>\n              \x3c!-- conditionConfig is only defined in third_party_targeting_condition_group --\x3e\n              <td class="lego-table--add-row__controls hard--ends">\n                <button\n                  class="lego-button lego-button--form lego-button--narrow push--right"\n                  type="button"\n                  v-class="visibility--hidden: !isLastSubCondition(condition)"\n                  v-on="click: addEmptyCondition"\n                >\n                  <svg class="lego-icon push--top">\n                    <use xlink:href="#plus"></use>\n                  </svg>\n                </button>\n                <button\n                  class="lego-button lego-button--form lego-button--narrow"\n                  type="button"\n                  v-class="visibility--hidden: conditionGroup.conditions.length <= 1"\n                  v-on="click: removeCondition(condition)"\n                  data-test-section="remove-condition"\n                >\n                  <svg class="lego-icon push--top">\n                    <use xlink:href="#xmark-16"></use>\n                  </svg>\n                </button>\n              </td>\n            </tr>\n            <tr class="no-border--top">\n              <td class="hard--bottom">\n                <div class="lego-grid">\n                  <div class="push-double--left">\n                    <select\n                      class="lego-select"\n                      v-model="condition.match_type"\n                      v-on="change: clearValueForMatchTypes(condition, [\'exists\'])"\n                    >\n                      <option value="exact">equals</option>\n                      <option value="substring">contains</option>\n                      <option value="regex">matches</option>\n                      <option value="exists">has any value</option>\n                    </select>\n                  </div>\n                  <div class="lego-grid__cell">\n                    <content select="[data-content-block=\'value\']">\n                      \x3c!-- value block --\x3e\n                    </content>\n                  </div>\n                </div>\n              </td>\n            </tr>\n          </table>\n        </div>\n      </div>\n    </div>\n    <div>\n      <content select="[data-content-block=\'footer\']">\n        \x3c!-- footer block --\x3e\n      </content>\n    </div>\n  </div>\n</div>\n'},,,,,,,,,,,,function(t,r,a){a(2795),a(2930),t.exports=a(2932)},function(t,r,a){"use strict";a.r(r);a(2796),a(2822),a(2827),a(2829),a(2848),a(2863),a(554),a(2887),a(2890),a(2892),a(2914),a(2918),a(2927),a(1481)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,r,a){"use strict";a.r(r),a.d(r,"AudienceCombinationsBuilderWithData",(function(){return y})),a.d(r,"AudienceCombinationsName",(function(){return v})),a.d(r,"AudienceSearchPicker",(function(){return _})),a.d(r,"ChangeHistory",(function(){return E})),a.d(r,"EventsAndMetricsBuilderWithData",(function(){return b})),a.d(r,"FeaturesQuickstartDialog",(function(){return T})),a.d(r,"FeaturesQuickstartEmptyState",(function(){return S})),a.d(r,"ProjectName",(function(){return C}));a(2933);var i=a(454);a.d(r,"bootstrap",(function(){return i.a})),a.d(r,"mount",(function(){return i.c})),a.d(r,"unmount",(function(){return i.d}));var o=a(481),c=a(113),l=a(1375),u=a(1015),d=a(1016),p=a(1376),m=a(2745),g=a(2747),h=a(2748),y=Object(o.a)(p.b),v=Object(o.a)(m.a),_=Object(o.a)(g.a),E=Object(o.a)(c.c),b=Object(o.a)(l.a),T=Object(o.a)(d.a),S=Object(o.a)(u.a),C=Object(o.a)(h.a);r.default={bootstrap:i.a,mount:i.c,unmount:i.d,AudienceCombinationsBuilderWithData:y,AudienceCombinationsBuilderWithDataProps:p.FlagsAudienceCombinationsBuilderProps,AudienceCombinationsName:v,AudienceSearchPicker:_,ChangeHistory:E,EventsAndMetricsBuilderWithData:b,EventsAndMetricsBuilderWithDataProps:l.b,FeaturesQuickstartDialog:T,FeaturesQuickstartEmptyState:S,ProjectName:C}},function(t,r,a){"use strict";var i=a(42),o=a.n(i);window.optlyConfig&&o.a.set(window.optlyConfig);var c=o.a.get("env.WEBPACK_PUBLIC_PATH");c&&(a.p=c)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,r){function webpackEmptyContext(t){var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,t.exports=webpackEmptyContext,webpackEmptyContext.id=2974},,,,,,,,,,,,,,,,,,,,,,function(t,r){},,,,,,,,,,,,,,,,,,,,,,function(t,r){var a=function Ratio(t,r){this.numerator=t,this.denominator=r},i=function gcd(t,r){return 0===r?t:gcd(r,t%r)};a.prototype.add=function(t){var r=this.clone(),a=r.denominator/i(r.denominator,t.denominator)*t.denominator;return r.numerator=r.numerator*(a/r.denominator)+t.numerator*(a/t.denominator),r.denominator=a,r.simplify()},a.prototype.clone=function(){return new a(this.numerator,this.denominator)},a.prototype.equal=function(t){var r=this.simplify(),a=t.simplify();return r.numerator===a.numerator&&r.denominator===a.denominator},a.prototype.invert=function(){var t=this.clone();return t.numerator=this.denominator,t.denominator=this.numerator,t},a.prototype.mult=function(t){var r=this.clone();return r.numerator*=t.numerator,r.denominator*=t.denominator,r.simplify()},a.prototype.simplify=function(){var t=this.clone();if(0===t.numerator||0===t.denominator)return t;var r=i(t.denominator,t.numerator);return t.numerator/=r,t.denominator/=r,t},t.exports=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,r,a){var i={"./_placeholder.png":3059,"./addshoppers.png":3060,"./adobe_analytics.png":3061,"./adobe_audience_manager.png":3062,"./ambassador.png":3063,"./amplitude_ios.png":3064,"./amplitude_mobile.png":3065,"./at_internet.png":3066,"./avanser.png":3067,"./batphone.png":3068,"./bizible.png":3069,"./blueconic.png":3070,"./bluekai.png":3071,"./btn_google_signin.png":3072,"./calldynamics.png":3073,"./callrail.png":3074,"./calltrackingmetrics.png":3075,"./canvas_demo.png":3076,"./clicktale.png":3077,"./comscore.png":3078,"./contentsquare.png":3079,"./conversion_com.png":3080,"./crazyegg.png":3081,"./decibel_insight.png":3082,"./delacon.png":3083,"./demandbase.png":3084,"./demandware.png":3085,"./dialogtech.png":3086,"./econda.png":3087,"./effectiveexperiments.png":3088,"./episerver.png":3089,"./experiment_engine.png":3090,"./experiment_engine_app.png":3091,"./extole.png":3092,"./eyequant.png":3093,"./facebook.png":3094,"./facebook_ads.png":3095,"./freespee.png":3096,"./funnelenvy_test_factory.png":3097,"./funnelenvy_test_factory_dev.png":3098,"./gigya.png":3099,"./google_ads.png":3100,"./google_adwords.png":3101,"./google_analytics.png":3102,"./google_analytics_4.png":3103,"./google_classic_analytics.png":3104,"./google_universal_analytics.png":3105,"./google_universal_analytics_ios.png":3106,"./google_universal_analytics_mobile.png":3107,"./headline_testing.png":3108,"./ifbyphone.png":3109,"./infinity.png":3110,"./inspectlet.png":3111,"./invoca.png":3112,"./jaco.png":3113,"./jira-software_logo.png":3114,"./justuno.png":3115,"./kissmetrics.png":3116,"./krux.png":3117,"./leadsrx.png":3118,"./liveramp.png":3119,"./localytics_ios.png":3120,"./localytics_mobile.png":3121,"./lotame.png":3122,"./lytics.png":3123,"./marketo.png":3124,"./mediahawk.png":3125,"./microsoft.png":3126,"./mixpanel.png":3127,"./mixpanel_ios.png":3128,"./mixpanel_mobile.png":3129,"./moat.png":3130,"./monkeyworks-monitor.png":3131,"./mouseflow.png":3132,"./odp.png":3133,"./outbrain.png":3134,"./parsely.png":3135,"./perfectprice.png":3136,"./ptengine.png":3137,"./qualaroo.png":3138,"./redeye.png":3139,"./salesforce.png":3140,"./sauce.png":3141,"./segment.png":3142,"./sessioncam.png":3143,"./sheetsembed.png":3144,"./signal.png":3145,"./skymosity.png":3146,"./snippet_inspector.png":3147,"./soclever.png":3148,"./tealium.png":3149,"./test_duration_calculator.png":3150,"./triggr_mvt_combination_exporter.png":3151,"./webtrends.png":3152,"./woopra.png":3153,"./wordpress.png":3154,"./wywy.png":3155};function webpackContext(t){var r=webpackContextResolve(t);return a(r)}function webpackContextResolve(t){if(!a.o(i,t)){var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}return i[t]}webpackContext.keys=function webpackContextKeys(){return Object.keys(i)},webpackContext.resolve=webpackContextResolve,t.exports=webpackContext,webpackContext.id=3058},function(t,r){t.exports="/dist/static/img/integrations/_placeholder-f7342ba40ab6743f4dfb38ba616ec215.png"},function(t,r){t.exports="/dist/static/img/integrations/addshoppers-00ce5674a5c41c535288b485bcae5121.png"},function(t,r){t.exports="/dist/static/img/integrations/adobe_analytics-268d18c714883e7e057a6e32b7534b89.png"},function(t,r){t.exports="/dist/static/img/integrations/adobe_audience_manager-7a25367dad9f1881bdbe954574cc4ff1.png"},function(t,r){t.exports="/dist/static/img/integrations/ambassador-d8a96742d7ec2baa060709eed6d50219.png"},function(t,r){t.exports="/dist/static/img/integrations/amplitude_ios-31da519a6c6f5eec72b1e3f1975df42c.png"},function(t,r){t.exports="/dist/static/img/integrations/amplitude_mobile-31da519a6c6f5eec72b1e3f1975df42c.png"},function(t,r){t.exports="/dist/static/img/integrations/at_internet-863521585d5d1a83f41d0fa27cd82c6f.png"},function(t,r){t.exports="/dist/static/img/integrations/avanser-6ca537ec0a17201b057fa2e07090c270.png"},function(t,r){t.exports="/dist/static/img/integrations/batphone-eaf3e42b2be35cec787e476e1937517b.png"},function(t,r){t.exports="/dist/static/img/integrations/bizible-0943e1016dcefcc8dd760eefcfa6c62e.png"},function(t,r){t.exports="/dist/static/img/integrations/blueconic-54a95ce2a5886d8517f7c4ff73581da1.png"},function(t,r){t.exports="/dist/static/img/integrations/bluekai-14cfb6fab8414790488fbc9b3943d96c.png"},function(t,r){t.exports="/dist/static/img/integrations/btn_google_signin-d88019ea8d2eae876150d6ece7eb7082.png"},function(t,r){t.exports="/dist/static/img/integrations/calldynamics-5acd0ef82464d48c1d939576b868665b.png"},function(t,r){t.exports="/dist/static/img/integrations/callrail-66a69994337ed58a10167202e4b89e59.png"},function(t,r){t.exports="/dist/static/img/integrations/calltrackingmetrics-51feb1eaf98c3f21685cb56524088ddc.png"},function(t,r){t.exports="/dist/static/img/integrations/canvas_demo-05e2cb7c06048124b33b765053b3db69.png"},function(t,r){t.exports="/dist/static/img/integrations/clicktale-09755b3675219b9bb60f12cf43f1ba85.png"},function(t,r){t.exports="/dist/static/img/integrations/comscore-a83ebb0e5fcf645604928e73962548a3.png"},function(t,r){t.exports="/dist/static/img/integrations/contentsquare-db2b9b1692220c930ddb9b730cb1be20.png"},function(t,r){t.exports="/dist/static/img/integrations/conversion_com-d30c39bccccb4ac3d04b5d061fb5e1f1.png"},function(t,r){t.exports="/dist/static/img/integrations/crazyegg-8739be52fcb46932000864dd67ca376c.png"},function(t,r){t.exports="/dist/static/img/integrations/decibel_insight-f8e23d2c77bd5639d1aa1af0de0a32e5.png"},function(t,r){t.exports="/dist/static/img/integrations/delacon-2d5d1c667d9f78c80214f7ae070106e7.png"},function(t,r){t.exports="/dist/static/img/integrations/demandbase-e8acc4c58793c16673b6deecaa775ef2.png"},function(t,r){t.exports="/dist/static/img/integrations/demandware-3827d236948cdce24fc3185c260748f9.png"},function(t,r){t.exports="/dist/static/img/integrations/dialogtech-a23f5a5906b4d8ad72b3ab71967c322d.png"},function(t,r){t.exports="/dist/static/img/integrations/econda-39dd1c145794378f9aa3a487ae17ead3.png"},function(t,r){t.exports="/dist/static/img/integrations/effectiveexperiments-788accc316fecf1fac096be46df6cca6.png"},function(t,r){t.exports="/dist/static/img/integrations/episerver-7c63d1d857e4eed20c20dba1d4202476.png"},function(t,r){t.exports="/dist/static/img/integrations/experiment_engine-60a7c9a3e625e0a4c39090e50fbf444b.png"},function(t,r){t.exports="/dist/static/img/integrations/experiment_engine_app-6f84f8dfbfe3d1613628b835b83ada0b.png"},function(t,r){t.exports="/dist/static/img/integrations/extole-16e1ea63bea54694d3d3f06eb3b63f94.png"},function(t,r){t.exports="/dist/static/img/integrations/eyequant-c2c1fbdf872574dcfce3d14e72cce906.png"},function(t,r){t.exports="/dist/static/img/integrations/facebook-cd8af56c4d838b10f074ef061bc4372c.png"},function(t,r){t.exports="/dist/static/img/integrations/facebook_ads-351652e48c1657889eeb121335d3f3d1.png"},function(t,r){t.exports="/dist/static/img/integrations/freespee-a36739ebd207825665c2748fe999f1e6.png"},function(t,r){t.exports="/dist/static/img/integrations/funnelenvy_test_factory-bddad0e83645d0f47d56f5b1baf79492.png"},function(t,r){t.exports="/dist/static/img/integrations/funnelenvy_test_factory_dev-bddad0e83645d0f47d56f5b1baf79492.png"},function(t,r){t.exports="/dist/static/img/integrations/gigya-0c8be7b62ecfe7bbdd1779b26b03b891.png"},function(t,r){t.exports="/dist/static/img/integrations/google_ads-1ae741741f45008dcb3a4148c2010148.png"},function(t,r){t.exports="/dist/static/img/integrations/google_adwords-db558218dbeb56bcc32c6907654733af.png"},function(t,r){t.exports="/dist/static/img/integrations/google_analytics-3754c31957a9583998e80cfb4e870401.png"},function(t,r){t.exports="/dist/static/img/integrations/google_analytics_4-4a66fef8d271677a34c74c4ba8b83570.png"},function(t,r){t.exports="/dist/static/img/integrations/google_classic_analytics-059c096a4be314ece0e53876564e2e87.png"},function(t,r){t.exports="/dist/static/img/integrations/google_universal_analytics-059c096a4be314ece0e53876564e2e87.png"},function(t,r){t.exports="/dist/static/img/integrations/google_universal_analytics_ios-059c096a4be314ece0e53876564e2e87.png"},function(t,r){t.exports="/dist/static/img/integrations/google_universal_analytics_mobile-059c096a4be314ece0e53876564e2e87.png"},function(t,r){t.exports="/dist/static/img/integrations/headline_testing-3ad4b79705d72e10fdb506743a8dfecb.png"},function(t,r){t.exports="/dist/static/img/integrations/ifbyphone-dcf678718db80896d47cc251d2187c62.png"},function(t,r){t.exports="/dist/static/img/integrations/infinity-6fd1ef81579389945c4f4172b847aea2.png"},function(t,r){t.exports="/dist/static/img/integrations/inspectlet-32cd9c68d3a06815483cb4d3101ef835.png"},function(t,r){t.exports="/dist/static/img/integrations/invoca-1b7d9c36db93a6db7b249dd48da0cb63.png"},function(t,r){t.exports="/dist/static/img/integrations/jaco-786193e4f73ede38e58e804b9e186508.png"},function(t,r){t.exports="/dist/static/img/integrations/jira-software_logo-e958fe56b1f08071e3f7549da09144e1.png"},function(t,r){t.exports="/dist/static/img/integrations/justuno-4fe45c969c5a3fcf6bb0ecc4457a0b26.png"},function(t,r){t.exports="/dist/static/img/integrations/kissmetrics-38515509c711c366a7b35a259d27a50e.png"},function(t,r){t.exports="/dist/static/img/integrations/krux-c98b0871a4652391e69b29e04abd820c.png"},function(t,r){t.exports="/dist/static/img/integrations/leadsrx-311490732fa080581f0933a6cb51dbee.png"},function(t,r){t.exports="/dist/static/img/integrations/liveramp-8fbd1dcd86ce06641e1661863578c9b1.png"},function(t,r){t.exports="/dist/static/img/integrations/localytics_ios-125474c81841767e07bc2d356563d49b.png"},function(t,r){t.exports="/dist/static/img/integrations/localytics_mobile-63654bac6e22c71e75bcd7eeeada3de5.png"},function(t,r){t.exports="/dist/static/img/integrations/lotame-dae48eda5c0416d4aea7f78e9277d57b.png"},function(t,r){t.exports="/dist/static/img/integrations/lytics-81c7cdd64401bf3a57a25c1eb93174f6.png"},function(t,r){t.exports="/dist/static/img/integrations/marketo-5d2f2d0916abe6c0f50b76e06bc2009b.png"},function(t,r){t.exports="/dist/static/img/integrations/mediahawk-ca922b648a8f24ae3e5449bea95a79f9.png"},function(t,r){t.exports="/dist/static/img/integrations/microsoft-253a390b9a2e70dea5808e8e36254a92.png"},function(t,r){t.exports="/dist/static/img/integrations/mixpanel-69e0c854b9a1913011c33167aa5a580c.png"},function(t,r){t.exports="/dist/static/img/integrations/mixpanel_ios-69e0c854b9a1913011c33167aa5a580c.png"},function(t,r){t.exports="/dist/static/img/integrations/mixpanel_mobile-69e0c854b9a1913011c33167aa5a580c.png"},function(t,r){t.exports="/dist/static/img/integrations/moat-817f8ecb93358cd22d2628acae3b71c4.png"},function(t,r){t.exports="/dist/static/img/integrations/monkeyworks-monitor-c89e9cde344fe6cfc22a1c003bc73e68.png"},function(t,r){t.exports="/dist/static/img/integrations/mouseflow-5c9f337bc17b836adc6e623e6880248e.png"},function(t,r){t.exports="/dist/static/img/integrations/odp-dcfa2f98cb08c67e9cc96c962be4828d.png"},function(t,r){t.exports="/dist/static/img/integrations/outbrain-7adf635e4071506bf918f26c12dc6a27.png"},function(t,r){t.exports="/dist/static/img/integrations/parsely-0d014b604c7660bf7d3d2dbea7e6cfde.png"},function(t,r){t.exports="/dist/static/img/integrations/perfectprice-e0ae2a177a5f63f663691a601ce27298.png"},function(t,r){t.exports="/dist/static/img/integrations/ptengine-498b9154eca3b2b3f00a1b2cfa2865a0.png"},function(t,r){t.exports="/dist/static/img/integrations/qualaroo-7e859bd3577c5e99ddb854e45ba4987d.png"},function(t,r){t.exports="/dist/static/img/integrations/redeye-58ed631719e5a7caf20628d1edcbeef8.png"},function(t,r){t.exports="/dist/static/img/integrations/salesforce-88a1edefdf9d60cbdf5b098edccfc932.png"},function(t,r){t.exports="/dist/static/img/integrations/sauce-6e12c30fbba3771db79883897e97a9ee.png"},function(t,r){t.exports="/dist/static/img/integrations/segment-48b5638a3755b86d7cf4dd5ba627b3ee.png"},function(t,r){t.exports="/dist/static/img/integrations/sessioncam-72c3c6bb7bfc54d5e66a73a721480c5b.png"},function(t,r){t.exports="/dist/static/img/integrations/sheetsembed-18edb6aa4107dfc49b45c256c79be389.png"},function(t,r){t.exports="/dist/static/img/integrations/signal-c7c5e91c5123ddcf350fafeef0500a46.png"},function(t,r){t.exports="/dist/static/img/integrations/skymosity-7d9102254fb194e5c513a6ccdf772cbc.png"},function(t,r){t.exports="/dist/static/img/integrations/snippet_inspector-b2262fd02859a97bef91f2734ec04119.png"},function(t,r){t.exports="/dist/static/img/integrations/soclever-2bcc3f6e371240255dd7930da4a320b3.png"},function(t,r){t.exports="/dist/static/img/integrations/tealium-f1f15b71f7c4c8b9a7c2b5583f3d88b0.png"},function(t,r){t.exports="/dist/static/img/integrations/test_duration_calculator-8d7286f6dc5408f9e7c827e62fc4f67c.png"},function(t,r){t.exports="/dist/static/img/integrations/triggr_mvt_combination_exporter-a7b35536485aa7300698a4e85d2f9f43.png"},function(t,r){t.exports="/dist/static/img/integrations/webtrends-f6c5d504adc01ce5347031a8fe80bb45.png"},function(t,r){t.exports="/dist/static/img/integrations/woopra-7cdea88dd8bcfcecf3b275fd2a0675fe.png"},function(t,r){t.exports="/dist/static/img/integrations/wordpress-006541ceeb28b9e8086e3fad069370c8.png"},function(t,r){t.exports="/dist/static/img/integrations/wywy-156ad2d1710910e9528867007ce316f6.png"},function(t,r,a){"use strict";var i=a(958),o=a.n(i),c=o.a.bind;o.a.bind=function(){var t=this;c.call(this),this.el.removeEventListener("compositionend",this.cUnlock);var r=this.cUnlock;this.cUnlock=function(){r.call(t);var a=new Event(t.event);t.el.dispatchEvent(a)},this.el.addEventListener("compositionend",this.cUnlock)}},,function(t,r,a){"use strict";a.r(r),a.d(r,"template",(function(){return u})),a.d(r,"replace",(function(){return d})),a.d(r,"data",(function(){return p})),a.d(r,"methods",(function(){return m})),a.d(r,"ready",(function(){return g}));var i=a(12),o=a.n(i),c=a(2191),l={template:a.n(c).a,replace:!0,data:{zIndex:0,noEscape:!1,noPadding:!1,fullHeight:!1,fullScreen:!1,shouldApplyNegativeLeftMargin:!1},methods:{_centerDialog:function _centerDialog(){var t=o()(this.$el),r=t.height(),a=o()(window).height()/2-r/2;t.css("top",a)}},ready:function ready(){this.$on("centerDialog",this._centerDialog.bind(this))}};r.default=l;var u=l.template,d=l.replace,p=l.data,m=l.methods,g=l.ready},,,,,,,,,,,,,,,,function(t,r,a){var i=a(17);t.exports=i({CAMPAIGN_OVERVIEW_LOAD_REACH_RESULTS:null})},,,,,,,,,,function(t,r,a){"use strict";a.r(r);var i=a(5),o=a(3),c=a(14),l=a(2323);r.default={data:{conditionGroup:null},methods:{removeConditionGroup:function removeConditionGroup(){this.conditionGroup.conditions=[],this.$dispatch("conditionRemoved")}},ready:function ready(){var t=o.default.evaluate(c.getters.id);i.default.renderReactComponent(this,{component:l.a,el:this.$$.predictedIntentReactComponent,props:{conditionGroup:this.conditionGroup,currentProjectId:t}})}}},function(t,r,a){var i=a(3186);"string"==typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a(1410)(i,o);i.locals&&(t.exports=i.locals)},function(t,r,a){(t.exports=a(1409)(!1)).push([t.i,"/* Based on stuff from https://css-tricks.com/styling-cross-browser-compatible-range-#graph-container inputs-css/  */\n\ninput[type=\"range\"].estimated-reach-slider {\n  -webkit-appearance: none;\n  width: 100%;\n  background: transparent;\n  cursor: col-resize;\n  position: absolute;\n  pointer-events: none;\n}\n\ninput[type=\"range\"].estimated-reach-slider:focus {\n  outline: none; /* Removes the blue border. You should probably do some kind of focus styling for accessibility reasons though. */\n}\n\ninput[type=\"range\"].estimated-reach-slider::-ms-track {\n  width: 100%;\n  cursor: col-resize;\n\n  /* Hides the slider so custom styles can be added */\n  background: transparent;\n  border-color: transparent;\n  color: transparent;\n}\n\ninput[type=\"range\"].estimated-reach-slider::-moz-range-thumb {\n  border: 0 none;\n}\n\n/* All the same stuff for IE */\ninput[type=\"range\"].estimated-reach-slider::-webkit-slider-thumb {\n  background: url(\"data:image/svg+xml,%3Csvg width='9px' height='800px' viewBox='0 0 9 800' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='Group' transform='translate(1.000000, 0.000000)'%3E%3Cpath d='M3.5,0 L3.5,800' id='Path' stroke='%230081BA' stroke-width='3'%3E%3C/path%3E%3Crect id='Rectangle' stroke='%23CACACA' stroke-width='2' fill='%23FFFFFF' x='0' y='379' width='7' height='56' rx='3'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")\n    no-repeat center center;\n\n  pointer-events: all;\n  -webkit-appearance: none;\n  height: 100%;\n  width: 10px;\n  cursor: col-resize;\n  top: 0;\n  margin-top: 0px;\n}\n\ninput[type=\"range\"].estimated-reach-slider::-moz-range-thumb {\n  background: url(\"data:image/svg+xml,%3Csvg width='9px' height='800px' viewBox='0 0 9 800' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='Group' transform='translate(1.000000, 0.000000)'%3E%3Cpath d='M3.5,0 L3.5,800' id='Path' stroke='%230081BA' stroke-width='3'%3E%3C/path%3E%3Crect id='Rectangle' stroke='%23CACACA' stroke-width='2' fill='%23FFFFFF' x='0' y='379' width='7' height='56' rx='3'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")\n    no-repeat center center;\n\n  pointer-events: all;\n  -webkit-appearance: none;\n  height: 100%;\n  width: 10px;\n  cursor: col-resize;\n  top: 0;\n  margin-top: 0px;\n}\n\ninput[type=\"range\"].estimated-reach-slider::-ms-thumb {\n  background: url(\"data:image/svg+xml,%3Csvg width='9px' height='800px' viewBox='0 0 9 800' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='Group' transform='translate(1.000000, 0.000000)'%3E%3Cpath d='M3.5,0 L3.5,800' id='Path' stroke='%230081BA' stroke-width='3'%3E%3C/path%3E%3Crect id='Rectangle' stroke='%23CACACA' stroke-width='2' fill='%23FFFFFF' x='0' y='379' width='7' height='56' rx='3'%3E%3C/rect%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")\n    no-repeat center center;\n\n  pointer-events: all;\n  -webkit-appearance: none;\n  height: 100%;\n  width: 10px;\n  cursor: col-resize;\n  top: 0;\n  margin-top: 0px;\n}\n\ninput[type=\"range\"].estimated-reach-slider::-webkit-slider-thumb:hover {\n  filter: brightness(1.075);\n}\n\n/** NEED TO DO ALL THIS STUFF FOR FIREFOX AND IE TOO!!!!! **/\n\ninput[type=\"range\"].estimated-reach-slider::-webkit-slider-runnable-track {\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n  background: transparent;\n}\n\ninput[type=\"range\"].estimated-reach-slider::-moz-range-track {\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n  background: transparent;\n}",""])},,function(t,r,a){var i=a(3189),o=a(3190);t.exports={replace:!0,directives:{"geotargeting-label":i},components:{"geotargeting-autocomplete":o},data:{conditionGroup:null},computed:{negate:{$get:function $get(){return this.conditionGroup.negate?"true":"false"},$set:function $set(t){this.conditionGroup.negate="false"!==t}},hasNoConditions:function hasNoConditions(){return 0===this.conditionGroup.conditions.length}},methods:{conditionIndex:function conditionIndex(t){return this.conditionGroup.conditions.indexOf(t)},removeCondition:function removeCondition(t){this.conditionGroup.removeCondition(t)},removeConditionGroup:function removeConditionGroup(){this.conditionGroup.conditions=[],this.$dispatch("conditionRemoved")}},ready:function ready(){var t=this;1!==this.conditionGroup.conditions.length||this.conditionGroup.conditions[0].value||(this.conditionGroup.conditions=[]),this.$on("geotargetingLocationSelected",(function(r){t.conditionGroup.conditions.push({type:t.conditionType,value:r.location}),t.$broadcast("geotargetingAutocompleteClear")}))}}},function(t,r,a){var i=a(12),o=a(1950);t.exports={update:function update(t){if(!t)return"";o.getLabel(t).then(this._updateText.bind(this))},_updateText:function _updateText(t){var r=i(this.el);r.is("input")?r.val(t):r.text(t)}}},function(t,r,a){var i=a(12);a(3191).default();var o=a(1950),c=a(123);t.exports={methods:{clear:function clear(){i(this.$el).typeahead("setQuery","")},_autocompleteFilter:function _autocompleteFilter(t){return t.succeeded?t.labels.map((function(r){return{value:r,location:t.labelsToLocations[r]}})):[]}},beforeDestroy:function beforeDestroy(){i(this.$el).typeahead("destroy")},ready:function ready(){var t=this,r={name:"Locations",limit:32,remote:{url:c.optimizelyHRDUrl("/api/locations.json?term=%QUERY"),filter:this._autocompleteFilter}};i(this.$el).typeahead(r).on("typeahead:selected",(function(r,a){var i={};i[a.location]=a.value,o.cacheLocationsToLabels(i),t.$dispatch("geotargetingLocationSelected",{location:a.location,label:a.value})})),this.$on("geotargetingAutocompleteClear",this.clear.bind(this))}}},,function(t,r,a){var i=a(12),o=a(3),c=a(1425),l=a(1951),u=a(3199),d=a(3200),p=a(3202),m=a(3204),g=a(3207).default,h=a(3208).default,y=a(3209),v=a(3211),_=a(3214);t.exports=i.extend(!0,{},l,{components:{boolean:u,keyvalue:d,range:p,"searchable-select":m,select:g,select_with_detail:h,select_ad_campaign:y,select_ad_group:v,text:_},data:{conditionConfig:{},conditionGroup:{},conditionName:""},computed:{showValueButtons:function showValueButtons(){return"boolean"!==this.conditionConfig.input_type}},methods:{addEmptyCondition:function addEmptyCondition(){this.conditionGroup.conditions.push({type:this.conditionType,name:this.conditionName})},getConditionFieldInputType:function getConditionFieldInputType(){return this.conditionConfig.input_type||null}},ready:function ready(){this.conditionName=c.fns.getThirdPartyIntegrationName(this.conditionGroup.conditions[0].name),o.bindVueValues(this,{conditionConfig:c.getters.thirdPartyConditionsByName(this.conditionName)})}})},function(t,r,a){t.exports=a(3194)},function(t,r,a){var i=a(12),o=a(3195);t.exports={data:{serialized:null},methods:{_handleChange:function _handleChange(t,r){this.serialized=r}},ready:function ready(){var t=this,r=new o(this.$el);this.serialized&&r.loadData(this.serialized),i(this.$el).on(o.CHANGE_EVENT,this._handleChange.bind(this)),this.$on("validateConditions",(function(){t.$dispatch("validateConditionsResponse",{valid:r.validate()})}));var a=i(this.$el).find('input[type="date"]');a.get(0)&&"text"===a.get(0).type&&a.datepicker()}}},function(t,r,a){t.exports=a(3196)},function(t,r,a){var i=a(12),o=a(3197),c=a(3198),l=a(2756),u=function TimeAndDay(t){var r=this,a=TimeAndDay.generateTimes(),c=tr.date().startOf("day").format("LT"),u=tr.date().endOf("day").format("LT");this.wrapper=i(t);var d=["monday","tuesday","wednesday","thursday","friday"],p=["saturday","sunday"],m=function wrapInputs(t){return t instanceof Array||(t=[t]),t.map((function(t){return'input[name="'.concat(t,'"]')})).join(",")};this.selectors={startTimeInput:m("start_time"),endTimeInput:m("end_time"),allDayCheckbox:m("all_day"),timeInputs:"input.timepicker",daysOfWeek:m(d.concat(p)),weekdays:m(d),weekends:m(p),weekdaysCheckbox:m("weekdays"),weekendsCheckbox:m("weekends"),timeOfDayError:".time-of-day-error",daysOfWeekError:".days-of-week-error"},this.startTimeInput=this.select("startTimeInput"),this.endTimeInput=this.select("endTimeInput"),this.allDayCheckbox=this.select("allDayCheckbox"),this.weekdays=this.select("weekdays"),this.weekends=this.select("weekends"),this.weekendsCheckbox=this.select("weekendsCheckbox"),this.weekdaysCheckbox=this.select("weekdaysCheckbox"),this.startTimeSuggestiveInput=new o(this.startTimeInput,a),this.endTimeSuggestiveInput=new o(this.endTimeInput,a),new l(this.startTimeInput,{forceValue:!0}),new l(this.endTimeInput,{forceValue:!0}),this.startTimeInput.on("change",(function(t){r.endTimeSuggestiveInput.setSuggestions(TimeAndDay.generateTimes(r.startTimeInput.val())),r.triggerChange()})),this.allDayCheckbox.on("change",(function(t){r.allDayCheckbox.prop("checked")&&(r.startTimeInput.val(c),r.endTimeInput.val(u),r.startTimeSuggestiveInput.setSuggestions(a),r.endTimeSuggestiveInput.setSuggestions(a)),r.triggerChange()})),this.select("timeInputs").on("change",(function(t){var a=r.startTimeInput.val()===c&&r.endTimeInput.val()===u;r.allDayCheckbox.prop("checked",a),r.triggerChange()})),this.weekdaysCheckbox.on("change",(function(t){r.select("weekdays").prop("checked",r.weekdaysCheckbox.prop("checked")),r.triggerChange()})),this.weekendsCheckbox.on("change",(function(t){r.select("weekends").prop("checked",r.weekendsCheckbox.prop("checked")),r.triggerChange()})),this.weekdays.on("change",(function(t){var a=r.weekdays.filter(":checked").length===r.weekdays.length;r.weekdaysCheckbox.prop("checked",a),r.triggerChange()})),this.weekends.on("change",(function(t){var a=r.weekends.filter(":checked").length===r.weekends.length;r.weekendsCheckbox.prop("checked",a),r.triggerChange()}))};u.MODULE_ID="optly.conditions.TimeAndDay",u.CHANGE_EVENT="optlyTimeAndDayChange",u.prototype.triggerChange=function(){this.wrapper.trigger(u.CHANGE_EVENT,[this.serialize()])},u.generateTimes=function(t){var r={},a=tr.date(t,"LT",!0);void 0!==t&&a.isValid()?a.add(30,"minutes"):a=tr.date().startOf("day");for(var i=tr.date();a.isSame(i,"day");){var o=a.format("LT");r[o]=o,a.add(30,"minutes")}return r},u.prototype.validate=function(){var t=tr("You must enter a valid time interval"),r=tr("You must select at least one day of the week");return this.select("timeOfDayError").text(""),this.select("daysOfWeekError").text(""),tr.date(this.startTimeInput.val(),"LT",!0).isValid()&&tr.date(this.endTimeInput.val(),"LT",!0).isValid()?0!==this.select("daysOfWeek").filter(":checked").length||(this.select("daysOfWeekError").text(r),!1):(this.select("timeOfDayError").text(t),!1)},u.prototype.serialize=function(){var t={start_time:tr.date(this.startTimeInput.val(),"LT",!0).format("HH:mm"),end_time:tr.date(this.endTimeInput.val(),"LT",!0).format("HH:mm"),days:[]};return this.select("daysOfWeek").each((function(r,a){var o=i(a);o.prop("checked")&&t.days.push(o.attr("name"))})),c.serialize(t)},u.prototype.loadData=function(t){var r=c.deserialize(t),a=tr.date(r.start_time,"HH:mm",!0),i=tr.date(r.end_time,"HH:mm",!0);this.startTimeInput.val(a.format("LT")).trigger("change"),this.endTimeInput.val(i.format("LT")).trigger("change");var o=this.select("daysOfWeek");r.days.forEach((function(t){o.filter('[name="'.concat(t,'"]')).prop("checked",!0).trigger("change")})),this.triggerChange()},u.prototype.select=function(t){var r=this.selectors[t];if(!r)throw new Error("Selector for key = ".concat(t," doesn't exist"));return this.wrapper.find(r)},t.exports=u},function(t,r,a){var i=a(12),o=a(606),c=function SuggestiveTextInput(t,r){var a=this;this.textInput=i(t),this.suggestions=r||{},this.suggestionsList=null,this.textInput.on("click",(function(t){a.showSuggestionsList()})),this.textInput.on("keyup",(function(t){t.keyCode===o.TAB?a.showSuggestionsList():t.keyCode===o.UP?a.moveSelectedItem("up"):t.keyCode===o.DOWN&&a.moveSelectedItem("down")})),this.textInput.on("keypress",(function(t){if(t.keyCode===o.ENTER){var r=!0;return a.suggestionsList&&(r=!1),a.chooseSelectedItem(),r}})),this.textInput.on("keydown",(function(t){t.keyCode===o.TAB&&a.hideSuggestionsList()})),i(document).on("click",(function(t){!a.isSuggestionsListShown()||a.suggestionsList.get(0).contains(t.target)||a.textInput.get(0).contains(t.target)||a.hideSuggestionsList()}))};c.prototype.setSuggestions=function(t){this.suggestions=t},c.prototype.showSuggestionsList=function(){var t=this;if(!this.isSuggestionsListShown()&&!i.isEmptyObject(this.suggestions)){var r=null,a=this.textInput.offset(),o=this.textInput.get(0).offsetWidth,c=this.textInput.get(0).offsetHeight+a.top,l=i("<ul></ul>").addClass("suggestion-list").css("width",o).css("position","absolute").css("left",a.left).css("top",c).on("click",".".concat("suggestion-list-item"),(function(r){t.chooseItem(r.target)})).on("hover",".".concat("suggestion-list-item"),(function(r){t.addSelectedItemClass(i(r.target))})).appendTo(document.body);i.each(this.suggestions,(function(a,o){var c=i("<li>".concat(a,"</li>")).data("suggestion-list-value",o).addClass("suggestion-list-item").appendTo(l);o==t.textInput.val()&&(r=c)})),this.suggestionsList=l,r&&(this.addSelectedItemClass(r),this.scrollToSelectedItem(r))}},c.prototype.scrollToSelectedItem=function(t){if(this.isSuggestionsListShown()){var r=t.get(0).offsetHeight,a=this.suggestionsList.get(0).offsetHeight,i=t.position().top,o=t.position().top+r,c=t.get(0).offsetTop,l=.4*a;(o>a||i<0)&&this.suggestionsList.scrollTop(c-l)}},c.prototype.hideSuggestionsList=function(){this.isSuggestionsListShown()&&(this.suggestionsList.remove(),this.suggestionsList=null)},c.prototype.moveSelectedItem=function(t){if(this.isSuggestionsListShown()){var r,a=this.suggestionsList.find(".".concat("suggestion-list-item")),i=a.filter(".".concat("selected"));r=0===i.length?"down"===t?-1:a.length:a.index(i),r="down"===t?r===a.length-1?0:r+1:0===r?a.length-1:r-1;var o=a.eq(r);this.addSelectedItemClass(o),this.scrollToSelectedItem(o)}},c.prototype.addSelectedItemClass=function(t){this.suggestionsList.find(".".concat("suggestion-list-item")).removeClass("selected"),t.addClass("selected")},c.prototype.chooseSelectedItem=function(){if(this.suggestionsList){var t=this.suggestionsList.find(".".concat("selected"));t.length>0&&this.chooseItem(t)}},c.prototype.chooseItem=function(t){var r=i(t);0!==r.length&&(this.textInput.val(String(r.data("suggestion-list-value"))),this.textInput.trigger("change"),this.hideSuggestionsList())},c.prototype.isSuggestionsListShown=function(){return!!this.suggestionsList},t.exports=c},function(t,r){r.serialize=function(t){return t.start_time+"_"+t.end_time+"_"+t.days.join(",")},r.deserialize=function(t){var r=t.split("_");if(3!==r.length)throw new Error("Invalid time and day string ".concat(t));var a=r[2].split(",");return{start_time:r[0],end_time:r[1],days:a}},r.timeStringToMinutes=function(t){var r=t.split(":");if(2!==r.length)throw new Error("timeAndDayInterval.timeStringToMinutes: Invalid time string ".concat(t));return 60*parseInt(r[0],10)+parseInt(r[1],10)},r.test=function(t,a){var i=r.deserialize(t),o=r.timeStringToMinutes(i.start_time),c=r.timeStringToMinutes(i.end_time),l=60*a.getHours()+a.getMinutes(),u=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][a.getDay()];return l>=o&&l<=c&&i.days.includes(u)}},function(t,r,a){var i=a(4),o=a(357);t.exports=i.extend({},o,{template:'<input type="hidden" v-model="condition.value" class="lego-text-input" />',ready:function ready(){o.ready.call(this),this.condition.value="true"}})},function(t,r,a){var i=a(515),o=a(4),c=a(357),l=a(3201);t.exports=o.extend({},c,{template:l,data:{config:{},key:""},computed:{hasError:function hasError(){return!this.validateKey()},keyWrapper:{$get:function $get(){return this.key},$set:function $set(t){this.key=t,this.condition.name="".concat(this.config.name,".").concat(t)}}},methods:{validateKey:function validateKey(){return-1===this.key.indexOf(".")}},ready:function ready(){var t=this;c.ready.call(this),this.keyWrapper=i.getKeyFromConditionName(this.condition.name),this.$on("validateConditions",(function(){t.$dispatch("validateConditionsResponse",{valid:t.validateKey()})}))}})},function(t,r){t.exports='<label v-text="conditionConfig.input_labels[0]"></label>: <input type="text" v-model="keyWrapper" class="quarter lego-text-input" required />\n<label v-text="conditionConfig.input_labels[1]"></label>: <input type="text" v-model="condition.value" class="quarter lego-text-input" required />\n<div v-if="hasError" class="lego-form-note lego-form-note--bad-news"><span><label v-text="conditionConfig.input_labels[0]"></label> cannot contain \'.\'.</span></div>\n'},function(t,r,a){var i=a(4),o=a(357),c=a(3203),l=function _getRangeConditionValue(t,r){return t&&r?"".concat(t,":").concat(r):""};t.exports=i.extend({},o,{template:c,data:{config:{},rangeFrom:"",rangeTo:""},computed:{hasError:function hasError(){return!this.validateInputValues()},rangeFromWrapper:{$get:function $get(){return this.rangeFrom},$set:function $set(t){this.rangeFrom=t,this.condition.value=l(this.rangeFrom,this.rangeTo)}},rangeToWrapper:{$get:function $get(){return this.rangeTo},$set:function $set(t){this.rangeTo=t,this.condition.value=l(this.rangeFrom,this.rangeTo)}}},methods:{validateInputValues:function validateInputValues(){if(i.isEmpty(this.rangeFrom)&&i.isEmpty(this.rangeTo))return!0;var t=parseFloat(this.rangeFrom),r=parseFloat(this.rangeTo);return!isNaN(t)&&!isNaN(r)&&t<r}},ready:function ready(){var t=this;o.ready.call(this);var r=function _getRangeLimitsFromConditionValue(t){if(!t)return{};var r=t.split(":");return{from:r[0],to:r[1]}}(this.condition.value);this.rangeFromWrapper=r.from,this.rangeToWrapper=r.to,this.condition.match_type=this.config.match_type.values[0].value,this.$on("validateConditions",(function(){t.$dispatch("validateConditionsResponse",{valid:t.validateInputValues()})}))}})},function(t,r){t.exports='<input type="text" v-model="rangeFromWrapper" class="quarter lego-text-input" required />\n[[ config.unit ]] and \n<input type="text" v-model="rangeToWrapper" class="quarter lego-text-input" required />\n[[ config.unit ]]\n<div v-if="hasError" class="lego-form-note lego-form-note--bad-news">Must use numbers. The first number must be less than the second number.</div>'},function(t,r,a){var i=a(12);a(3205);var o=a(3206);t.exports={methods:{_bind:function _bind(){var t=i(this.$el);t.data("select2")&&t.select2("destroy"),t.empty().append(i("<option />"));var r={};this.values&&this.values.length>0&&(r.data=o.formatDataByIndex(this.values,"text")),r.templateResult=function formatState(t){return t.subtext?i("<span>".concat(t.text,"<br /><small>").concat(t.subtext,"</small></span>")):t.text},t.select2(r).on("select2:select",this._onSelect.bind(this)),this._set()},_onSelect:function _onSelect(t){this.onChange&&t.params&&t.params.data&&(this.selectedIndex=t.params.data.id,this.onChange.call(this.$parent))},_set:function _set(){i(this.$el).val(this.selectedIndex).trigger("change")}},beforeDestroy:function beforeDestroy(){i(this.$el).select2("destroy")},ready:function ready(){this.$watch("values",this._bind.bind(this)),this.$watch("selectedIndex",this._set.bind(this))}}},,function(t,r){t.exports={formatDataByIndex:function formatDataByIndex(t,r){return t.map((function(t,a){return{id:a,text:t[r],subtext:t.subtext?t.subtext:null,title:t.title?t.title:null}}))},formatDataByText:function formatDataByText(t,r){return t.map((function(t,a){return{id:t[r],text:t[r],subtext:t.subtext?t.subtext:null,title:t.title?t.title:null}}))}}},function(t,r,a){"use strict";a.r(r);var i=a(4),o=a.n(i),c=a(75),l=a(5),u=a(357),d=a.n(u),p=a(2332),m=a.n(p);r.default=o.a.extend({},d.a,{template:m.a,data:{conditionValues:null,selectedConditionIndex:null},methods:{restoreSelectedOptions:function restoreSelectedOptions(){var t=this.condition.value.toString();this.selectedConditionIndex=o.a.findIndex(this.conditionValues,(function(r){return r.value.toString()===t}))},setDefaultValue:function setDefaultValue(){this.condition.value?this.restoreSelectedOptions():(this.selectedConditionIndex=-1,this.updateConditionValue())},updateConditionValue:function updateConditionValue(){if(-1!==this.selectedConditionIndex){var t=this.conditionValues[this.selectedConditionIndex];this.condition.value=t.value.toString()}else this.condition.value=""}},created:function created(){this.conditionValues=[]},ready:function ready(){d.a.ready.call(this),this.conditionValues=Object(c.default)(this.config.values),this.setDefaultValue(),this.conditionValues&&this.conditionValues.length||l.default.showNotification({message:tr("Optimizely is still syncing with your account. Please try again in a few minutes.")})}})},function(t,r,a){"use strict";a.r(r);var i=a(4),o=a.n(i),c=a(75),l=a(5),u=a(357),d=a.n(u),p=a(2333),m=a.n(p);function _createForOfIteratorHelper(t,r){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){a&&(t=a);var i=0,o=function F(){};return{s:o,n:function n(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,u=!1;return{s:function s(){a=a.call(t)},n:function n(){var t=a.next();return l=t.done,t},e:function e(t){u=!0,c=t},f:function f(){try{l||null==a.return||a.return()}finally{if(u)throw c}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=t[a];return i}r.default=o.a.extend({},d.a,{template:m.a,data:{conditionValues:null,selectedConditionIndex:null,conditionValuesWithDescription:null,hasEmptyValueError:!1},methods:{setSegmentCountAndDescription:function setSegmentCountAndDescription(){if(this.conditionValues)for(var t=0;t<this.conditionValues.length;t++){var r=this.conditionValues[t];if(r.child_options){var a,i=_createForOfIteratorHelper(r.child_options);try{for(i.s();!(a=i.n()).done;){var o=a.value;"count"===o.value&&(this.conditionValues[t].text="".concat(r.text," | ≈").concat(o.text," users/month")),o.value===this.conditionValues[t].value&&o.text!==this.conditionValues[t].text&&(this.conditionValues[t].subtext=o.text)}}catch(t){i.e(t)}finally{i.f()}}}},restoreSelectedOptions:function restoreSelectedOptions(){var t=this.condition.value.toString();this.selectedConditionIndex=o.a.findIndex(this.conditionValues,(function(r){return r.value.toString()===t}))},setDefaultValue:function setDefaultValue(){this.condition.value?this.restoreSelectedOptions():(this.selectedConditionIndex=-1,this.updateConditionValue())},updateConditionValue:function updateConditionValue(){if(-1!==this.selectedConditionIndex){var t=this.conditionValues[this.selectedConditionIndex];this.condition.value=t.value.toString()}else this.condition.value=""},validateCondition:function validateCondition(){var t=this.condition.value;return this.hasEmptyValueError=""===t,!this.hasEmptyValueError}},created:function created(){this.conditionValues=[]},ready:function ready(){var t=this;d.a.ready.call(this),this.conditionValues=Object(c.default)(this.config.values),this.setDefaultValue(),this.conditionValues&&this.conditionValues.length?this.setSegmentCountAndDescription():l.default.showNotification({message:tr("Optimizely is still syncing with your account. Please try again in a few minutes.")});var r=this.validateCondition.bind(this);this.$on("validateConditions",(function(){t.$dispatch("validateConditionsResponse",{valid:r()})}))}})},function(t,r,a){var i=a(4),o=a(357),c=a(5).default,l=a(3210);t.exports=i.extend({},o,{template:l,data:{campaignValues:null,selectedCampaignIndex:null},methods:{onSelectedCampaignChange:function onSelectedCampaignChange(){this.updateConditionValue()},restoreSelectedOptions:function restoreSelectedOptions(){var t=this.condition.value.toString();this.selectedCampaignIndex=i.findIndex(this.config.values,(function(r){return r.value.toString()===t}))},setCampaignValues:function setCampaignValues(){this.campaignValues=this.config.values},setDefaultValue:function setDefaultValue(){this.condition.value?this.restoreSelectedOptions():(this.selectedCampaignIndex=-1,this.updateConditionValue())},updateConditionValue:function updateConditionValue(){if(-1!==this.selectedCampaignIndex){var t=this.config.values[this.selectedCampaignIndex];this.condition.value=t.value.toString()}else this.condition.value=""}},created:function created(){this.campaignValues=[]},ready:function ready(){o.ready.call(this),this.setCampaignValues(),this.setDefaultValue(),this.config.values&&this.config.values.length||c.showNotification({message:tr("Optimizely is still syncing with your AdWords account. Please try again in a few minutes.")})}})},function(t,r){t.exports='<ol class="lego-form-fields">\n  <li class="lego-form-field__item">\n    Visitor\n      <select class="lego-select"\n              l10n-join\n              v-model="negate">\n        <option value="false">clicked</option>\n        <option value="true">did not click</option>\n      </select>\n    on an ad in the following campaign:\n  </li>\n  <li class="lego-form-field__item">\n    <label class="lego-label">Campaign</label>\n    <select class="lego-select min-width--200"\n            v-component="searchable-select"\n            v-with="onChange: onSelectedCampaignChange,\n                    selectedIndex: selectedCampaignIndex,\n                    values: campaignValues"\n            data-placeholder="Select a campaign">\n      <option></option>\n    </select>\n  </li>\n</ol>\n'},function(t,r,a){var i=a(4),o=a(357),c=a(3212),l=a(5).default,u=a(3213);t.exports=i.extend({},o,{template:u,data:{adGroupValues:null,campaignValues:null,selectedAdGroupIndex:null,selectedCampaignIndex:null},methods:{getSelectedAdGroup:function getSelectedAdGroup(){var t=this.getSelectedCampaign();return t&&-1!==this.selectedAdGroupIndex?t.child_options[this.selectedAdGroupIndex]:null},getSelectedCampaign:function getSelectedCampaign(){return-1!==this.selectedCampaignIndex?this.config.values[this.selectedCampaignIndex]:null},onSelectedAdGroupChange:function onSelectedAdGroupChange(){this.updateConditionValue()},onSelectedCampaignChange:function onSelectedCampaignChange(){this.updateAdGroupOptions(),this.updateConditionValue()},restoreSelectedOptions:function restoreSelectedOptions(){this.selectedCampaignIndex=this.selectedAdGroupIndex=-1;var t=this.condition.value.toString().split(c.VALUE_DELIMITER);if(2===t.length){var r=t[0],a=t[1];this.selectedCampaignIndex=i.findIndex(this.config.values,(function(t){return t.value.toString()===r}));var o=this.getSelectedCampaign();o&&(this.updateAdGroupOptions(),this.selectedAdGroupIndex=i.findIndex(o.child_options,(function(t){return t.value.toString()===a})))}},setCampaignValues:function setCampaignValues(){this.campaignValues=this.config.values},setDefaultValue:function setDefaultValue(){this.condition.value?this.restoreSelectedOptions():(this.selectedCampaignIndex=this.selectedAdGroupIndex=-1,this.updateAdGroupOptions(),this.updateConditionValue())},updateAdGroupOptions:function updateAdGroupOptions(){this.selectedAdGroupIndex=-1;var t=this.getSelectedCampaign();this.adGroupValues=t?t.child_options:[]},updateConditionValue:function updateConditionValue(){var t=this.getSelectedCampaign(),r=this.getSelectedAdGroup();if(t&&r){var a=t.value.toString(),i=r.value.toString();this.condition.value=[a,i].join(c.VALUE_DELIMITER)}else this.condition.value=""}},created:function created(){this.adGroupValues=[],this.campaignValues=[]},ready:function ready(){o.ready.call(this),this.setCampaignValues(),this.setDefaultValue(),this.config.values&&this.config.values.length||l.showNotification({message:tr("Optimizely is still syncing with your AdWords account. Please try again in a few minutes.")})}})},function(t,r){t.exports={CLIENT_CAMPAIGN_ID_DELIMITER:"_",REWRITE_LEVEL_ADGROUP:"adgroup",REWRITE_LEVEL_CAMPAIGN:"campaign",VALUE_DELIMITER:":",VALUE_DELIMITER_REWRITE:","}},function(t,r){t.exports='<ol class="lego-form-fields">\n  <li class="lego-form-field__item">\n    Visitor\n      <select class="lego-select"\n              l10n-join\n              v-model="negate">\n        <option value="false">clicked</option>\n        <option value="true">did not click</option>\n      </select>\n    on an ad in the following ad group:\n  </li>\n  <li class="lego-form-field__item">\n    <label class="lego-label">Campaign</label>\n    <select class="lego-select min-width--200"\n            v-component="searchable-select"\n            v-with="onChange: onSelectedCampaignChange,\n                    selectedIndex: selectedCampaignIndex,\n                    values: campaignValues"\n            data-placeholder="Select a campaign">\n    </select>\n  </li>\n  <li class="lego-form-field__item">\n    <label class="lego-label">Ad Group</label>\n    <select class="lego-select min-width--200"\n            v-component="searchable-select"\n            v-with="onChange: onSelectedAdGroupChange,\n                    selectedIndex: selectedAdGroupIndex,\n                    values: adGroupValues"\n            data-placeholder="Select an ad group">\n      <option></option>\n    </select>\n  </li>\n</ol>\n'},function(t,r,a){var i=a(4),o=a(357);t.exports=i.extend({},o,{template:'<input type="text" v-model="condition.value" class="lego-text-input" required />'})},function(t,r,a){var i={"./android_app_version.html":3216,"./android_device_dpi.html":3217,"./android_device_model.html":3218,"./android_device_screen_size_dp.html":3219,"./android_device_screen_size_inches.html":3220,"./android_optimizely_sdk_version.html":3221,"./android_os_version.html":3222,"./behavior.html":3223,"./browser.html":3224,"./browser_version.html":3225,"./campaign.html":3226,"./code.html":3227,"./condition_name_and_value.html":2779,"./condition_one_line_template.html":2780,"./condition_options.html":2781,"./condition_template.html":1952,"./condition_two_line_template.html":2782,"./cookies.html":3228,"./custom_attribute.html":3229,"./custom_dimension.html":3230,"./custom_tag.html":3231,"./default_behavior.html":3232,"./device.html":3233,"./dynamic_customer_profile.html":3234,"./event.html":3235,"./first_session.html":3236,"./geofence.html":3237,"./has_ppid.html":3238,"./ios.html":3239,"./ios_app_version.html":3240,"./ios_device_model.html":3241,"./ios_optimizely_sdk_version.html":3242,"./ios_os_version.html":3243,"./ip.html":3244,"./language.html":3245,"./legacy_custom_attribute.html":3246,"./legacy_list.html":3247,"./list.html":3248,"./location.html":3249,"./platform.html":3250,"./predicted_intent.html":3251,"./query.html":3252,"./referrer.html":3253,"./source_type.html":3254,"./third_party_dimension.html":3255,"./time_and_day.html":3256,"./uploaded_data_dimension.html":3257,"./visitor.html":3258};function webpackContext(t){var r=webpackContextResolve(t);return a(r)}function webpackContextResolve(t){if(!a.o(i,t)){var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}return i[t]}webpackContext.keys=function webpackContextKeys(){return Object.keys(i)},webpackContext.resolve=webpackContextResolve,t.exports=webpackContext,webpackContext.id=3215},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">comes from</option>\n    <option value="true">does not come from</option>\n    </select>\n    any of these <strong>app versions</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div class="lego-grid">\n      <div class="push-double--left">\n        <select class="lego-select"\n          v-model="condition.match_type">\n          <option value="equals">=</option>\n          <option value="greater">&gt;</option>\n          <option value="greater_equals">&gt;=</option>\n          <option value="less">&lt;</option>\n          <option value="less_equals">&lt;=</option>\n        </select>\n      </div>\n      <div class="lego-grid__cell">\n        <input type="text"\n               class="lego-text-input"\n               placeholder="App Version e.g 1.0.2"\n               v-model="condition.value"\n               v-attr="required: isRequired(\'value\')">\n      </div>\n    </div>\n  </div>\n  <div data-content-block="footer" class="condition-block-help-text soft--top">\n    This will be compared to your <a href="http://developer.android.com/tools/publishing/versioning.html" target="_blank">App Version Name</a>.\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">comes from</option>\n    <option value="true">does not come from</option>\n    </select>\n    any of these <strong>Device DPI</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div class="lego-grid">\n      <div class="push-double--left">\n        <select class="lego-select"\n          v-model="condition.match_type">\n          <option value="equals">=</option>\n          <option value="greater">&gt;</option>\n          <option value="greater_equals">&gt;=</option>\n          <option value="less">&lt;</option>\n          <option value="less_equals">&lt;=</option>\n        </select>\n      </div>\n      <div class="lego-grid__cell">\n        <div v-component="condition-options" v-with="conditionType: conditionType"></div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">is</option>\n      <option value="true">is not</option>\n    </select>\n    using any of these <strong>devices</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div v-component="condition-options" v-with="conditionType: conditionType"></div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">comes from</option>\n    <option value="true">does not come from</option>\n    </select>\n    any of these <strong>Screen Size DP</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div class="lego-grid">\n      <div class="push-double--left">\n        <select class="lego-select"\n          v-model="condition.match_type">\n          <option value="equals">=</option>\n          <option value="greater">&gt;</option>\n          <option value="greater_equals">&gt;=</option>\n          <option value="less">&lt;</option>\n          <option value="less_equals">&lt;=</option>\n        </select>\n      </div>\n      <div class="lego-grid__cell">\n        <div v-component="condition-options" v-with="conditionType: conditionType"></div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">have</option>\n    <option value="true">does not have</option>\n    </select>\n    any of these <strong>Screen Size in Inches</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div class="lego-grid">\n      <div class="push-double--left">\n        <select class="lego-select"\n          v-model="condition.match_type">\n          <option value="equals">=</option>\n          <option value="greater">&gt;</option>\n          <option value="greater_equals">&gt;=</option>\n          <option value="less">&lt;</option>\n          <option value="less_equals">&lt;=</option>\n        </select>\n      </div>\n      <div class="lego-grid__cell">\n        <input type="text"\n               class="lego-text-input"\n               placeholder="Screen Size (inches)"\n               v-model="condition.value"\n               v-attr="required: isRequired(\'value\')">\n      </div>\n    </div>\n  </div>\n</div>'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">is</option>\n      <option value="true">is not</option>\n    </select>\n    using any of these <strong>Optimizely SDK versions</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div class="lego-grid">\n      <div class="push-double--left">\n        <select class="lego-select"\n                v-model="condition.match_type">\n          <option value="equals">=</option>\n          <option value="greater">&gt;</option>\n          <option value="greater_equals">&gt;=</option>\n          <option value="less">&lt;</option>\n          <option value="less_equals">&lt;=</option>\n        </select>\n      </div>\n      <div class="lego-grid__cell">\n        <div v-component="condition-options" v-with="conditionType: conditionType"></div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">comes from</option>\n    <option value="true">does not come from</option>\n    </select>\n    any of these <strong>OS versions</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div class="lego-grid">\n      <div class="push-double--left">\n        <select class="lego-select"\n          v-model="condition.match_type">\n          <option value="equals">=</option>\n          <option value="greater">&gt;</option>\n          <option value="greater_equals">&gt;=</option>\n          <option value="less">&lt;</option>\n          <option value="less_equals">&lt;=</option>\n        </select>\n      </div>\n      <div class="lego-grid__cell">\n        <div v-component="condition-options" v-with="conditionType: conditionType"></div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <span v-if="currentEvent.event_type !== \'pageview\'">\n      <select class="lego-select"\n        l10n-join\n        v-model="negate">\n        <option value="false">converted on</option>\n        <option value="true">didn\'t convert on</option>\n      </select>\n      the following <strong>event</strong>:\n    </span>\n    <span v-if="currentEvent.event_type === \'pageview\'">\n      <select class="lego-select"\n        l10n-join\n        v-model="negate">\n        <option value="false">viewed</option>\n        <option value="true">didn\'t view</option>\n      </select>\n      the following <strong>page</strong>:\n    </span>\n    \x3c!-- This hidden input helps with debugging and stores whether an event is \'pageview\', \'click\', or \'custom\'. --\x3e\n    <input class="event-type" type="hidden" v-attr="value: currentEvent.event_type"></span>\n  </div>\n\n  <div data-content-block="value">\n    \x3c!-- Make sure the condition name is \'event\', in the future this could be something else --\x3e\n    <input type="hidden" v-model="condition.name" value="event">\n\n    \x3c!-- top level behavioral conditions properties. --\x3e\n    <div v-component="targeting-behavior-condition"\n      v-with="condition: condition,\n              currentEvent: currentEvent">\n    </div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n             l10n-join\n             v-model="negate">\n    \t<option value="false">is</option>\n    \t<option value="true">is not</option>\n    </select>\n    using any of these <strong>browsers/platforms/devices</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div v-component="condition-options" v-with="conditionType: conditionType"></div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">is</option>\n      <option value="true">is not</option>\n    </select>\n    using any of these <strong>browsers</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div v-component="condition-options" v-with="conditionType: conditionType"></div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">comes from</option>\n    <option value="true">does not come from</option>\n    </select>\n    any of these <strong>ad campaigns</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div class="lego-grid">\n      <div class="push-double--left">\n        <select class="lego-select"\n                v-model="condition.match_type"\n                v-on="change: clearValueForMatchTypes(condition, [\'exists\'])">\n          <option value="exact">equals</option>\n          <option value="substring">contains</option>\n          <option value="regex">matches</option>\n          <option value="exists">has any value</option>\n        </select>\n      </div>\n      <div class="lego-grid__cell">\n        <input type="text"\n               class="lego-text-input"\n               data-test-section="audience-editor-form-ad-campaign-input"\n               v-model="condition.value"\n               v-show="condition.match_type !== \'exists\'"\n               v-attr="required: isRequired(\'value\'),\n                    placeholder: placeholderText(\'\', condition.match_type)">\n      </div>\n    </div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n\t<div data-content-block="title">\n\t\tVisitor satisfies this <strong>custom JavaScript</strong>:\n\t</div>\n\n\t<div data-content-block="value">\n\t\t<textarea v-model="condition.value" class="lego-textarea" v-attr="required: isRequired(\'value\')"></textarea>\n\t</div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-two-line-template">\n  <div data-content-block="title">\n    Visitor\n      <select class="lego-select"\n              l10n-join\n              v-model="negate">\n        <option value="false">has</option>\n        <option value="true">does not have</option>\n      </select>\n    any of these <strong>cookies</strong>:\n  </div>\n\n  <div data-content-block="name">\n    <input type="text" class="lego-text-input" placeholder="cookie name" v-model="condition.name" v-attr="required: isRequired(\'name\')" />\n  </div>\n\n  <div data-content-block="value">\n    <input type="text"\n           class="lego-text-input"\n           v-model="condition.value"\n           v-show="condition.match_type !== \'exists\'"\n           v-attr="required: isRequired(\'value\'),\n                   placeholder: placeholderText(\'value \', condition.match_type)">\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-one-line-template" v-with="conditionGroup: conditionGroup, conditionType: conditionType">\n  \x3c!-- Custom Attribute Audience Condition template for all match types (in Full Stack and when multiple match types feature is enabled) --\x3e\n  <div data-content-block="title" data-test-section="custom-attribute-template">\n    Visitor\n    <select class="lego-select"\n            data-test-section="condition-negate"\n            l10n-join\n            v-model="negate">\n      <option value="false">matches</option>\n      <option value="true">does not match</option>\n    </select>\n    the following condition(s):\n  </div>\n\n  <div data-content-block="name-and-value" v-component="condition-name-and-value" v-with="condition: condition, conditionType: conditionType, conditionGroup: conditionGroup"></div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n\t<div data-content-block="title">\n\t\tVisitor\n\t\t<select class="lego-select"\n            l10n-join\n\t          v-model="negate">\n\t  \t<option value="false">has</option>\n\t  \t<option value="true">does not have</option>\n\t\t</select>\n\t\tany of these values for <strong>[[ customDimensionName ]]</strong>:\n\t</div>\n\n\t<div data-content-block="value">\n\t  <input type="text" class="lego-text-input" v-model="condition.value" v-attr="required: isRequired(\'value\')" />\n\t</div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-two-line-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">matches</option>\n      <option value="true">does not match</option>\n    </select>\n    any of these <strong>custom tags</strong>:\n  </div>\n\n  <div data-content-block="name">\n    <input type="text" class="lego-text-input" placeholder="Tag" v-model="condition.name" v-attr="required: isRequired(\'name\')">\n  </div>\n\n  <div data-content-block="value">\n    <input type="text"\n           class="lego-text-input"\n           v-model="condition.value"\n           v-attr="required: isRequired(\'value\'),\n                   placeholder: placeholderText(\'Value \', condition.match_type)">\n  </div>\n\n  <div data-content-block="footer" class="condition-block-help-text soft--top">\n    Use <a href="https://help.optimizely.com/hc/en-us/articles/201876450#custom_tags" target="_blank">custom tags</a> to target based on information you have about your users.\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select" l10n-join v-model="negate">\n      <option value="false">has</option>\n      <option value="true">doesn\'t have</option>\n    </select>\n    the following <b>Optimizely default attribute</b>:\n  </div>\n\n  <div data-content-block="value">\n    <div v-component="targeting-customer-profile-condition"\n      v-with="condition: condition"></div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">is</option>\n      <option value="true">is not</option>\n    </select>\n    using any of these <strong>devices</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div v-component="condition-options" v-with="conditionType: conditionType"></div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select" l10n-join v-model="negate">\n      <option value="false">has</option>\n      <option value="true">doesn\'t have</option>\n    </select>\n    the following <b>visitor attribute</b>:\n  </div>\n\n  <div data-content-block="value">\n    <div v-component="targeting-customer-profile-condition"\n      v-with="condition: condition"></div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n  \tVisitor\n  \t<select class="lego-select"\n            l10n-join\n            v-model="negate">\n    \t<option value="false">triggers</option>\n    \t<option value="true">does not trigger</option>\n  \t</select>\n  \tany of these <strong>custom events</strong>:\n  </div>\n\n  <div data-content-block="value">\n  \t<input type="text" class="lego-text-input" v-model="condition.name" v-attr="required: isRequired(\'name\')" />\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">is new</option>\n      <option value="true">is returning</option>\n    </select>\n    to your site in this session.\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">is</option>\n      <option value="true">is not</option>\n    </select>\n    within any of these <strong>geofences</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <select class="lego-select width--150 push-half--bottom" v-model="condition.match_type">\n      <option value="">Select a shape</option>\n      <option value="circle">Circle</option>\n      <option value="polygon">Polygon</option>\n    </select>\n    <textarea class="lego-textarea" v-model="condition.value" v-attr="required: isRequired(\'value\')"></textarea>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    User\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      \x3c!-- Note: this is the "negate" block so false means "not negated" --\x3e\n      <option value="false">has</option>\n      <option value="true">does not have</option>\n    </select>\n    a Universal User ID\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n  \tVisitor\n  \t<select class="lego-select"\n            l10n-join\n            v-model="negate">\n    \t<option value="false">triggers</option>\n    \t<option value="true">does not trigger</option>\n  \t</select>\n  \tany of these <strong>custom events</strong>:\n  </div>\n\n  <div data-content-block="value">\n  \t<input type="text" class="lego-text-input" v-model="condition.name" v-attr="required: isRequired(\'name\')">\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">comes from</option>\n    <option value="true">does not come from</option>\n    </select>\n    any of these <strong>app versions</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div class="lego-grid">\n      <div class="push-double--left">\n        <select class="lego-select"\n          v-model="condition.match_type">\n          <option value="equals">=</option>\n          <option value="greater">&gt;</option>\n          <option value="greater_equals">&gt;=</option>\n          <option value="less">&lt;</option>\n          <option value="less_equals">&lt;=</option>\n        </select>\n      </div>\n      <div class="lego-grid__cell">\n        <input type="text"\n               class="lego-text-input"\n               placeholder="App Version e.g 1.0.2"\n               v-model="condition.value"\n               v-attr="required: isRequired(\'value\')">\n      </div>\n    </div>\n  </div>\n  <div data-content-block="footer" class="condition-block-help-text soft--top">\n    This will be compared to your <a href="http://apple.co/1HPyPPw" target="_blank">CFBundleShortVersionString</a>.\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">is</option>\n      <option value="true">is not</option>\n    </select>\n    using any of these <strong>devices</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div v-component="condition-options" v-with="conditionType: conditionType"></div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">is</option>\n      <option value="true">is not</option>\n    </select>\n    using any of these <strong>Optimizely SDK versions</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div class="lego-grid">\n      <div class="push-double--left">\n        <select class="lego-select"\n                v-model="condition.match_type">\n          <option value="equals">=</option>\n          <option value="greater">&gt;</option>\n          <option value="greater_equals">&gt;=</option>\n          <option value="less">&lt;</option>\n          <option value="less_equals">&lt;=</option>\n        </select>\n      </div>\n      <div class="lego-grid__cell">\n        <div v-component="condition-options" v-with="conditionType: conditionType"></div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">comes from</option>\n    <option value="true">does not come from</option>\n    </select>\n    any of these <strong>OS versions</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div class="lego-grid">\n      <div class="push-double--left">\n        <select class="lego-select"\n          v-model="condition.match_type">\n          <option value="equals">=</option>\n          <option value="greater">&gt;</option>\n          <option value="greater_equals">&gt;=</option>\n          <option value="less">&lt;</option>\n          <option value="less_equals">&lt;=</option>\n        </select>\n      </div>\n      <div class="lego-grid__cell">\n        <div v-component="condition-options" v-with="conditionType: conditionType"></div>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">matches</option>\n      <option value="true">does not match</option>\n    </select>\n    these <strong>IP address patterns</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div class="lego-grid">\n      <div class="push-double--left">\n        <input type="text"\n               class="lego-text-input"\n               data-test-section="ip-condition-value"\n               v-model="condition.value"\n               v-attr="required: isRequired(\'value\')">\n      </div>\n      <div class="lego-grid__cell">\n        <select class="lego-select"\n                data-test-section="ip-condition-match_type"\n                v-model="condition.match_type">\n          <option value="exact">Exact match</option>\n          <option value="regex">Regular expression match</option>\n          <option value="cidr">CIDR Notation</option>\n          <option value="prefix"\n                  data-test-section="ip-condition-prefix-match_type">\n            Prefix match\n          </option>\n        </select>\n      </div>\n    </div>\n  </div>\n\n  <div data-content-block="footer" class="condition-block-help-text soft--top" v-if="hasMatchType(\'cidr\')">\n    CIDR notation is an advanced feature. Use <a href="http://ip2cidr.com/" target="_blank">this tool</a> to verify your input\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n  \tVisitor\'s <b>language preference</b>\n  \t<select class="lego-select"\n            l10n-join\n            v-model="negate">\n    \t<option value="false">is set to</option>\n    \t<option value="true">is not set to</option>\n  \t</select>\n  </div>\n\n  <div data-content-block="value">\n    <div v-component="condition-options" v-with="conditionType: conditionType"></div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  \x3c!-- Custom Attribute Audience Condition template for string match types (in Web or when multiple match types feature is disabled) --\x3e\n  <div data-content-block="title" data-test-section="legacy-custom-attribute-template">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">has</option>\n      <option value="true">does not have</option>\n    </select>\n    any of these values for <strong>[[ customAttributeName ]]</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <input type="text" class="lego-text-input" v-model="condition.value" v-attr="required: isRequired(\'value\')" />\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">is in</option>\n      <option value="true">is not in</option>\n    </select>\n    any of these <strong>lists</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div v-component="targeting-list-condition">\n      <select class="lego-select"\n              v-model="condition.name"\n              v-attr="required: isRequired(\'name\')">\n        \x3c!--\n          The empty option exists because `condition.name` is initially\n          an empty string when adding "List Membership" as a condition.\n          This happens because the lists are fetched asynchronously so\n          `condition.name` doesn\'t initially know what the selected option\n          is. Setting the first selected item to the empty option fixes this\n          since `condition.name` gets a value when you select a list and\n          the client-side validation forces you to select one.\n\n          The empty option is ignored if the audience already has a list.\n        --\x3e\n        <option value="">Choose a list</option>\n        <option v-repeat="list: lists" v-text="list.name"\n          v-attr="selected: condition.name == list.name"></option>\n      </select>\n\n      <div class="lego-attention lego-attention--warning push-half--top"\n        v-if="condition.name && listNames.indexOf(condition.name) === -1">\n        The list for this condition doesn\'t appear to exist.\n      </div>\n    </div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <span data-content-block="extra" class="color--brand">\n      <svg class="lego-icon"\n        v-popover\n        data-behavior="show"\n        data-dir="left-center"\n        data-content-selector="*[data-popover-name=\'list-attribute-migration-audience-condition\']">\n        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#circle-exclamation"></use>\n      </svg>\n      <div class="lego-pop--over"\n        data-popover-name="list-attribute-migration-audience-condition">\n        <div class="lego-pop--over__content">\n          Optimizely has upgraded your Upload Audiences to List Attributes. They are available for targeting in both Optimizely X and Optimizely Classic. You can find Lists Attributes under <i>External Attributes</i> in the conditions list.\n          <a href="https://help.optimizely.com/Target_Your_Visitors/Migrating_from_Uploaded_Audiences_to_List_Attributes" target="_blank" rel="noopener noreferrer">\n            Learn more\n          </a> about the benefits of using List Attributes.\n        </div>\n      </div>\n  </span>\n\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">is in</option>\n      <option value="true">is not in</option>\n    </select>\n    the following <strong>list</strong>:\n    <div class="push--top">\n      <strong v-text="listAttributeName"></strong>\n    </div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div class="condition">\n  <div class="condition__title background--faint">\n    <span v-text="dimension.title | translate"></span>\n  </div>\n\n  <div class="condition__close">\n    <svg\n      class="lego-icon link--bad-news float--right remove-condition-group"\n      v-on="click: removeConditionGroup()"\n      data-test-section="remove-condition-group"\n    >\n      <use\n        xmlns:xlink="http://www.w3.org/1999/xlink"\n        xlink:href="#xmark-16"\n      ></use>\n    </svg>\n  </div>\n\n  <div class="condition__body push--bottom">\n    <div class="push--bottom">\n      Visitor\n      <select class="lego-select" l10n-join v-model="negate">\n        <option value="false">is in</option>\n        <option value="true">is not in</option>\n      </select>\n      any of these <strong>locations</strong>:\n    </div>\n\n    <div\n      class="condition-value-row"\n      v-repeat="condition: conditionGroup.conditions"\n    >\n      <div class="value-col">\n        <table class="lego-table">\n          <tr class="no-border--top">\n            <td class="hard--ends">\n              <input\n                type="text"\n                class="lego-text-input"\n                disabled\n                v-geotargeting-label="condition.value"\n              />\n            </td>\n            \x3c!-- conditionConfig is only defined in third_party_targeting_condition_group --\x3e\n            <td class="lego-table--add-row__controls hard--ends">\n              <button\n                class="lego-button lego-button--form lego-button--narrow"\n                v-on="click: removeCondition(condition)"\n                data-test-section="remove-condition"\n                type="button"\n              >\n                <svg class="lego-icon">\n                  <use xlink:href="#xmark-16"></use>\n                </svg>\n              </button>\n            </td>\n          </tr>\n        </table>\n      </div>\n\n      <div class="or-col">\n        <span>[[ conditionGroup.type ]]</span>\n      </div>\n    </div>\n\n    <div class="condition-value-row">\n      <div class="or-col"></div>\n      <div class="value-col">\n        <table class="lego-table">\n          <tr class="no-border--top">\n            <td class="hard--ends">\n              <input\n                type="text"\n                class="lego-text-input background--white"\n                v-component="geotargeting-autocomplete"\n              />\n            </td>\n            <td class="lego-table--add-row__controls hard--ends">\n              \x3c!-- This is a placeholder to make sure the input above aligns with all the inputs above it. --\x3e\n            </td>\n          </tr>\n        </table>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">is</option>\n      <option value="true">is not</option>\n    </select>\n    using any of these <strong>platforms</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div v-component="condition-options" v-with="conditionType: conditionType"></div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div class="condition">\n  <div class="condition__title background--faint">\n    <span v-text="dimension.title | translate"></span>\n  </div>\n\n  <div class="condition__close">\n    <svg class="lego-icon link--bad-news float--right remove-condition-group"\n      v-on="click: removeConditionGroup()"\n      data-test-section="remove-condition-group">\n      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#xmark-16"></use>\n    </svg>\n  </div>\n\n  <div v-el="predictedIntentReactComponent" />\n</div>\n'},function(t,r){t.exports='<div v-component="condition-two-line-template">\n  <div data-content-block="title">\n    Visitor\n      <select class="lego-select"\n              l10n-join\n              v-model="negate">\n        <option value="false">matches</option>\n        <option value="true">does not match</option>\n      </select>\n    any of these <strong>query parameters</strong>:\n  </div>\n\n  <div data-content-block="name">\n    <input type="text" class="lego-text-input" l10n-skip placeholder="name" v-model="condition.name" v-attr="required: isRequired(\'name\')"/>\n  </div>\n\n  <div data-content-block="value">\n    <input type="text"\n           class="lego-text-input"\n           v-model="condition.value"\n           v-show="condition.match_type !== \'exists\'"\n           v-attr="required: isRequired(\'value\'),\n                   placeholder: placeholderText(\'value \', condition.match_type)" />\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">comes from</option>\n      <option value="true">does not come from</option>\n    </select>\n    these <strong>URLs</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div class="lego-grid">\n      <div class="lego-grid__cell">\n        <input type="text"\n               class="lego-text-input"\n               placeholder="URL"\n               v-model="condition.value"\n               v-attr="required: isRequired(\'value\')"/>\n      </div>\n      <div class="lego-grid__cell">\n        <select class="lego-select"\n                v-model="condition.match_type">\n          <option value="simple">Simple match</option>\n          <option value="exact">Exact match</option>\n          <option value="substring">Substring match</option>\n          <option value="regex">Regular expression</option>\n        </select>\n      </div>\n    </div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n  \tVisitor\n  \t<select class="lego-select"\n            l10n-join\n            v-model="negate">\n    \t<option value="false">comes from</option>\n    \t<option value="true">does not come from</option>\n  \t</select>\n  \tany of these <strong>sources</strong>:\n  </div>\n\n\t<div data-content-block="value">\n    <div v-component="condition-options" v-with="conditionType: conditionType"></div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template" v-loading="audience-builder-integrations">\n  <div data-content-block="title">\n    <strong>[[ conditionConfig.display_name | translate ]]</strong>\n    <span v-show="conditionConfig.input_type === \'select\' || conditionConfig.input_type === \'text\' || conditionConfig.input_type === \'keyvalue\'">\n      <select class="lego-select"\n              l10n-join\n              v-model="negate">\n        <option value="false">matches</option>\n        <option value="true">does not match</option>\n      </select>\n      any of:\n    </span>\n\n    <span v-show="conditionConfig.input_type === \'boolean\'">\n      <select v-model="negate" l10n-join class="lego-select">\n        <option value="false">contains</option>\n        <option value="true">does not contain</option>\n      </select>\n      this visitor\n      <svg type="button" class="right lego-icon" v-on="click: removeConditionGroup">\n        <use xlink:href="#xmark-16"></use>\n      </svg>\n    </span>\n\n    <span v-show="conditionConfig.input_type === \'range\'">\n      <select v-model="negate" class="lego-select">\n        <option value="false">is between</option>\n        <option value="true">is not between</option>\n      </select>\n    </span>\n  </div>\n\n  <div data-content-block="value">\n    <div v-view="conditionConfig.input_type"\n         v-with="condition: condition"></div>\n    <input type="hidden" v-model="condition.name" value="[[ condition.name ]]" />\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visit is\n      <select class="lego-select"\n              l10n-join\n              v-model="negate">\n        <option value="false">during</option>\n        <option value="true">outside of</option>\n      </select>\n    this <strong>time period</strong>:\n  </div>\n\n  <div data-content-block="value">\n    \x3c!-- give the time-and-day-picker 2-way binding to the condition.value --\x3e\n    <div class="time-and-day-picker" v-component="time-and-day-picker" v-with="serialized: condition.value">\n      <div class="time-of-day-wrapper">\n        <input class="condition-inline-field timepicker" type="text" name="start_time" placeholder="9:00am" />\n        to\n        <input class="condition-inline-field timepicker" type="text" name="end_time" placeholder="5:00pm" />\n        <label class="checkbox">\n          <input type="checkbox" class="condition-inline-field" name="all_day"/>\n          All day\n        </label>\n      </div>\n      <div class="time-of-day-error error"></div>\n      <div class="days-of-week-wrapper">\n        <label class="checkbox" v-repeat="weekday : weekdaysMin">\n          <input type="checkbox" class="condition-inline-field" name="[[ weekday.name ]]"/>\n          [[ weekday.label ]]\n        </label>\n      </div>\n      <div class="days-of-week-error error"></div>\n      <div class="days-of-week-shortcut-wrapper">\n        <label class="checkbox">\n          <input type="checkbox" class="condition-inline-field" name="weekdays"/>\n          Weekdays\n        </label>\n        <label class="checkbox">\n          <input type="checkbox" class="condition-inline-field" name="weekends"/>\n          Weekends\n        </label>\n      </div>\n    </div>\n  </div>\n\n  <div data-content-block="footer" class="condition-block-help-text">\n    This condition is based on the visitor\'s local time.\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor\n    <select class="lego-select"\n            l10n-join\n            v-model="negate">\n      <option value="false">comes from</option>\n    <option value="true">does not come from</option>\n    </select>\n    any of these <strong>ad campaigns</strong>:\n  </div>\n\n  <div data-content-block="value">\n    <div class="lego-grid">\n      <div class="push-double--left">\n        <select class="lego-select"\n                v-model="condition.match_type"\n                v-on="change: clearValueForMatchTypes(condition, [\'exists\'])">\n          <option value="exact">equals</option>\n          <option value="substring">contains</option>\n          <option value="regex">matches</option>\n          <option value="exists">has any value</option>\n        </select>\n      </div>\n      <div class="lego-grid__cell">\n        <input type="text"\n               class="lego-text-input"\n               v-model="condition.value"\n               v-show="condition.match_type !== \'exists\'"\n               v-attr="required: isRequired(\'value\'),\n                    placeholder: placeholderText(\'\', condition.match_type)">\n      </div>\n    </div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div v-component="condition-template">\n  <div data-content-block="title">\n    Visitor is:\n  </div>\n\n  <div data-content-block="value">\n    <select v-model="condition.value" class="condition__value">\n      <option value="new">New</option>\n      <option value="returning">Returning</option>\n    </select>\n  </div>\n</div>\n'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,r){t.exports=function(t){var r=document.createElement("div");return r.innerHTML=t,r.textContent||r.innerText||""}},,function(t,r,a){"use strict";a.r(r),a.d(r,"ChangeListSidebar",(function(){return k}));var i=a(4),o=a.n(i),c=a(3),l=a(18),u=a(85),d=a(5),p=a(177),m=a.n(p),g=a(393),h=a.n(g),y=a(74),v=a(220),_=a(66),E=a.n(_),b=a(110),T=a(29),S=a(189),C=a(593),I=a(668),A=a.n(I),O=a(149),P=a.n(O),R=a(2476),w=a(2478),N=a(2511),L=a.n(N),x=a(1005),D=a.n(x),k={replace:!0,components:{"change-list-sidebar-table-row":R.a},componentId:"p13n-change-list-sidebar",template:L.a,data:{changeStatuses:T.default.ChangeStatuses,changeTypes:T.default.ChangeTypes,customCodeTypes:T.default.CustomCodeTypes,editorTypes:y.default.enums.EditorTypes,TrackClickChangeId:null},computed:{isEmpty:function isEmpty(){return 0===this.currentActionAttributeChangesWithStatus.length},linesAddedStatusText:function linesAddedStatusText(){var t=this.currentActionCustomCodeLinesChanged.added||0;return tr.pluralize("1 line added.","{0} lines added",t)},linesRemovedStatusText:function linesRemovedStatusText(){var t=this.currentActionCustomCodeLinesChanged.removed||0;return tr.pluralize("1 line removed","{0} lines removed",t)},cssLinesAddedStatusText:function cssLinesAddedStatusText(){var t=this.currentActionCustomCssLinesChanged.added||0;return tr.pluralize("1 line added.","{0} lines added",t)},cssLinesRemovedStatusText:function cssLinesRemovedStatusText(){var t=this.currentActionCustomCssLinesChanged.removed||0;return tr.pluralize("1 line removed","{0} lines removed",t)},isABTestLayer:A.a.isABTest,isPersonalizationLayer:A.a.isPersonalizationCampaign,isEditorLoadingFinal:function isEditorLoadingFinal(){return this.activeFrameLoadStatus===y.default.enums.IFrameLoadStatuses.READY||this.activeFrameLoadStatus===y.default.enums.IFrameLoadStatuses.CANCELED||this.activeFrameLoadStatus===y.default.enums.IFrameLoadStatuses.FAILED},isTrackClickPresent:function isTrackClickPresent(){var t=this;return!!this.campaignTrackClick&&-1===this.currentActionAttributeChangesWithStatus.findIndex((function(r){return r.selector===t.campaignTrackClick.event_filter.selector}))},canAddNewChange:function canAddNewChange(){return this.isEditorLoadingFinal&&!this.currentActionRedirectChange}},methods:{handleIframeClick:function handleIframeClick(t){var r=this;u.default.confirmNavigation(this.hasDirtyCustomCode,b.c.CHANGE_TYPES.custom_code,(function(){m.a.showCustomCodePanel(!1),l.default.actions.setChangeBasedOnSelector(t.selector,t.selectorInfo),r.showChangeEditorSidebar()}))},isLiveChange:function isLiveChange(t){return t.status===T.default.ChangeStatuses.LIVE},isDraftChange:function isDraftChange(t){return t.status===T.default.ChangeStatuses.MODIFIED||t.status===T.default.ChangeStatuses.NEW},isDraft:function isDraft(t){return!1},isLive:function isLive(t){return!1},isEventInChangeList:function isEventInChangeList(t){var r=t.event_filter.selector;return!r||this.currentActionAttributeChangesWithStatus.find((function(t){return t.selector===r}))},getTrackClickChangeText:function getTrackClickChangeText(t){var r=t.view_id,a=t.event_filter.selector;return a?C.a.getMatchingEventChangeText(a,r):""},openCustomCode:function openCustomCode(t){m.a.showCustomCodePanel(!0),m.a.setCustomCodePanelTab(t),d.default.$broadcast("editorShowCustomCodePanel")},createDefaultChangeForEvent:function createDefaultChangeForEvent(t){u.default.confirmNavigation(this.hasDirtyCustomCode,b.c.CHANGE_TYPES.custom_code,(function(){var r=t.event_filter.selector;m.a.showCustomCodePanel(!1),l.default.actions.createAndSelectNewChange(r),m.a.resetCustomCodeTabsDirty(),u.default.showChangeEditorSidebar(!0)}))},selectChange:function selectChange(t){var r=this;t.status!==this.changeStatuses.DELETED&&u.default.confirmNavigation(this.hasDirtyCustomCode,b.c.CHANGE_TYPES.custom_code,(function(){switch(m.a.showCustomCodePanel(!1),t.type){case r.changeTypes.INSERT_HTML:l.default.actions.setCurrentlyEditingInsertHTMLChange(t),r.showInsertHTMLSidebar();break;case r.changeTypes.INSERT_IMAGE:l.default.actions.setCurrentlyEditingInsertImageChange(t),r.showInsertImageSidebar();break;case r.changeTypes.REDIRECT:l.default.actions.setCurrentlyEditingRedirectChange(t),r.showRedirectEditorSidebar();break;default:l.default.actions.setChangeBasedOnExistingChange(t).then(r.showChangeEditorSidebar(!1))}}))},showChangeEditorSidebar:u.default.showChangeEditorSidebar,showInsertHTMLSidebar:u.default.showInsertHTMLSidebar,showInsertImageSidebar:u.default.showInsertImageSidebar,showRedirectEditorSidebar:u.default.showRedirectEditorSidebar,updateChangeHighlight:function updateChangeHighlight(t,r){if(r){var a=l.default.fns.getHighlighterOptionsForElementChange(t);y.default.actions.highlightElement({id:this.activeFrameId,dataOptlyId:a.dataOptlyId,selector:a.selector,type:v.default.IFrameHighlightTypes.HOVERED})}else y.default.actions.unhighlightElement({id:this.activeFrameId,dataOptlyId:t.id,selector:t.selector,type:v.default.IFrameHighlightTypes.HOVERED})},createChange:function createChange(){this.canAddNewChange&&d.default.renderRegion("p13n-editor-sidebar",{component:a(2095).default})},editWidgetChange:function editWidgetChange(t){var r=this.widgets[o.a.findKey(this.widgets,{plugin_id:t.widget_id})];r?d.default.renderRegion("p13n-editor-sidebar",{component:D.a,data:{_widget:r,_editorIframeId:this.activeFrameId,_change:t}}):d.default.showNotification({message:tr("Error loading extension with id '{0}'. It could not be found.",t.widget_id),type:"error"})},handleChangeClick:function handleChangeClick(t){if(this.canEditChange(t))switch(t.type){case this.changeTypes.ATTRIBUTE:case this.changeTypes.INSERT_HTML:case this.changeTypes.INSERT_IMAGE:case this.changeTypes.REDIRECT:this.selectChange(t);break;case this.changeTypes.WIDGET:this.editWidgetChange(t)}},handleMouseEnter:function handleMouseEnter(t){switch(t.type){case this.changeTypes.ATTRIBUTE:case this.changeTypes.INSERT_HTML:case this.changeTypes.INSERT_IMAGE:this.updateChangeHighlight(t,!0)}},handleMouseLeave:function handleMouseLeave(t){switch(t.type){case this.changeTypes.ATTRIBUTE:case this.changeTypes.INSERT_HTML:case this.changeTypes.INSERT_IMAGE:this.updateChangeHighlight(t,!1)}},handleMouseEnterForTrackClick:function handleMouseEnterForTrackClick(t){var r=t.event_filter.selector,a={id:P()(),selector:r};this.TrackClickChangeId=a.id,this.updateChangeHighlight(a,!0)},handleMouseLeaveForTrackClick:function handleMouseLeaveForTrackClick(t){var r=t.event_filter.selector,a={id:this.TrackClickChangeId,selector:r};this.updateChangeHighlight(a,!1)},initializeIframe:function initializeIframe(){this.$iframeComponent&&this.$iframeClickCallback&&this.$iframeComponent.$off(y.default.enums.IFrameMessageTypes.CLICK,this.$iframeClickCallback),this.$iframeComponent=c.default.evaluateToJS(y.default.getters.iframeComponent(this.activeFrameId)),this.$iframeClickCallback=this.handleIframeClick.bind(this),this.$iframeComponent&&this.$iframeComponent.$on(y.default.enums.IFrameMessageTypes.CLICK,this.$iframeClickCallback)},canEditChange:function canEditChange(t){return t.type===this.changeTypes.REDIRECT||this.isEditorLoadingFinal&&!this.currentActionRedirectChange}},created:function created(){c.default.bindVueValues(this,{activeFrameId:l.default.getters.activeFrameId,activeFrameLoadStatus:l.default.getters.activeFrameLoadStatus,currentViewHasClickEvents:S.a.viewHasClickEvents,currentViewClickEvents:S.a.campaignEventsForView,currentActionAttributeChangesWithStatus:l.default.getters.currentActionAttributeChangesWithStatus,currentActionCustomCode:l.default.getters.currentActionCustomCode,currentActionCustomCodeLinesChanged:l.default.getters.currentActionCustomCodeLinesChanged,currentActionCustomCss:l.default.getters.currentActionCustomCss,currentActionCustomCssLinesChanged:l.default.getters.currentActionCustomCssLinesChanged,currentActionWidgetChanges:l.default.getters.currentActionWidgetChanges,currentLayer:E.a.layer,currentLayerExperimentOrSection:l.default.getters.currentLayerExperimentOrSection,editorType:l.default.getters.activeFrameEditorType,currentActionRedirectChange:l.default.getters.currentActionRedirectChange,hasDirtyCustomCode:h.a.hasDirtyCustomCode,widgets:l.default.getters.availableWidgets})},ready:function ready(){this.initializeIframe(),this.$on(l.default.constants.EmittedEventTypes.INITIALIZE_CHANGE_LIST,this.initializeIframe.bind(this)),d.default.renderReactComponent(this,{component:w.a,el:this.$$.editorSidebarHeader,props:{onActionSelect:this.$data.onActionSelect||function noOpFunction(){}}})},beforeDestroy:function beforeDestroy(){this.$iframeComponent&&this.$iframeComponent.$off(y.default.enums.IFrameMessageTypes.CLICK,this.$iframeClickCallback)}};r.default=k},,,function(t,r,a){var i=a(3),o=a(642);r.setLoggingEnabled=function(t){i.dispatch(o.P13N_EDITOR_SET_LOGGING_ENABLED,{enabled:t})},r.logEmit=function(t,r){i.dispatch(o.P13N_EDITOR_IFRAME_LOG,{id:t,category:"emit",message:r})},r.logWrite=function(t,r){i.dispatch(o.P13N_EDITOR_IFRAME_LOG,{id:t,category:"write",message:r})},r.log=function(t,r,a){i.dispatch(o.P13N_EDITOR_IFRAME_LOG,{id:t,category:"log",message:r}),a&&window.console&&window.console.debug&&window.console.debug(r)}},function(t,r){t.exports={asi:!0,boss:!0,debug:!0,elision:!0,eqnull:!0,expr:!0,funcscope:!0,iterator:!0,laxbreak:!0,laxcomma:!0,loopfunc:!0,multistr:!0,proto:!0,scripturl:!0,shadow:!0,sub:!0,supernew:!0,withstmt:!0,"-W001":!0,"-W002":!0,"-W003":!0,"-W004":!0,"-W005":!0,"-W006":!0,"-W007":!0,"-W008":!0,"-W009":!0,"-W010":!0,"-W011":!0,"-W012":!0,"-W013":!0,"-W014":!0,"-W015":!0,"-W016":!0,"-W017":!0,"-W018":!0,"-W019":!0,"-W020":!0,"-W021":!0,"-W022":!0,"-W023":!0,"-W024":!0,"-W025":!0,"-W026":!0,"-W027":!0,"-W028":!0,"-W030":!0,"-W031":!0,"-W032":!0,"-W033":!0,"-W034":!0,"-W035":!0,"-W036":!0,"-W037":!0,"-W038":!0,"-W039":!0,"-W040":!0,"-W041":!0,"-W042":!0,"-W043":!0,"-W044":!0,"-W045":!0,"-W046":!0,"-W047":!0,"-W048":!0,"-W049":!0,"-W050":!0,"-W051":!0,"-W052":!0,"-W053":!0,"-W054":!0,"-W055":!0,"-W056":!0,"-W057":!0,"-W058":!0,"-W059":!0,"-W060":!0,"-W061":!0,"-W062":!0,"-W063":!0,"-W064":!0,"-W065":!0,"-W066":!0,"-W067":!0,"-W068":!0,"-W069":!0,"-W070":!0,"-W071":!0,"-W072":!0,"-W073":!0,"-W074":!0,"-W075":!0,"-W076":!0,"-W077":!0,"-W078":!0,"-W079":!0,"-W080":!0,"-W081":!0,"-W082":!0,"-W083":!0,"-W084":!0,"-W085":!0,"-W086":!0,"-W087":!0,"-W088":!0,"-W089":!0,"-W090":!0,"-W091":!0,"-W093":!0,"-W094":!0,"-W095":!0,"-W096":!0,"-W097":!0,"-W098":!0,"-W099":!0,"-W100":!0,"-W101":!0,"-W102":!0,"-W103":!0,"-W104":!0,"-W105":!0,"-W106":!0,"-W107":!0,"-W108":!0,"-W109":!0,"-W110":!0,"-W112":!0,"-W113":!0,"-W114":!0,"-W115":!0,"-W116":!0,"-W117":!0,"-W118":!0,"-W119":!0,"-W120":!0,"-W121":!0,"-W122":!0,"-W123":!0,"-W124":!0,"-W125":!0,"-W126":!0,"-W127":!0,"-W128":!0,"-W129":!0,"-W130":!0,"-W131":!0,"-W132":!0,"-W133":!0,"-W134":!0,"-W135":!0,"-W136":!0,"-W137":!0,"-W138":!0,"-W139":!0}},function(t,r,a){"use strict";var i=a(476),o=a.n(i),c=a(2475),l=a(29);o()({id:String,name:String,type:l.ChangeTypes.WIDGET,dependencies:Array,widget_id:String,config:Object}),o()({id:String,type:l.ChangeTypes.REDIRECT,dest:String,preserveParameters:Boolean,allowAdditionalRedirect:Boolean}),o()({id:Number,project_id:Number,archived:Boolean,description:[null,String],name:String,layer_id:Number,created:Date,variations:Array.of(c.a)})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,r,a){var i=a(16).DialogNew,o=a(16).Button,c=a(16).Typography,l=a(2).default,u=a(1),d=a(0),p="Multiple editors",m="Other users are currently editing this experiment and may overwrite each others change. The users currently editing are:";function ConcurrentEditingDialog(t){var r=t.onClose,a=t.users;return d.createElement(i,{title:p,subtitle:m,"data-test-section":"concurrent-editing-dialog",footerButtonList:[d.createElement(o,{style:"highlight",key:0,"data-test-section":"concurrent-editing-dialog__dismiss",onClick:r},"Close")],onClose:r},d.createElement("div",{className:"border--all border-radius soft max-h-10 overflow-y-auto"},d.createElement("ul",{className:"push--left list-disc"},a.map((function(t){return d.createElement("li",{key:t,"data-test-section":"concurrent-editing-dialog__user"},d.createElement(c,{type:"body"},t))})))))}ConcurrentEditingDialog.propTypes={onClose:u.func,users:u.instanceOf(l.List)},ConcurrentEditingDialog.defaultProps={onClose:void 0,users:l.List()},t.exports=ConcurrentEditingDialog},,function(t,r){},,function(t,r){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,r){t.exports="/dist/static/img/p13n/changes-empty-state-f642372865d6d989e508781aac8a4ba3.svg"},function(t,r){t.exports="/dist/static/img/p13n/empty-state-arrow-59232235fabb44e03145e23ca7e62738.svg"},function(t,r,a){"use strict";a.r(r),a.d(r,"Plugin",(function(){return p}));var i=a(476),o=a.n(i),c=a(96),l=Object.values(c.default.fieldType),u=Object.values(c.default.plugin_type),d=o()({name:String,label:String,field_type:l,default_value:[String,Array,Number]}),p=o()({id:Number,project_id:Number,plugin_type:u,is_enabled_in_client:Boolean,name:String,description:[null,String],"?edit_page_url":[null,String],form_schema:Array.of(d),options:Object,"?compiled_js":[null,String]});r.default={Plugin:p}},function(t,r,a){var i=a(96);r.getFieldTypeToComponents=function(){var t={};return t[i.fieldType.SELECTOR]=a(3489),t[i.fieldType.HTML]=a(3491),t[i.fieldType.CSS]=a(3502),t[i.fieldType.TEXT]=a(3503),t[i.fieldType.MULTI_TEXT]=a(3505),t[i.fieldType.RICH_TEXT]=a(3507),t[i.fieldType.NUMBER]=a(3509),t[i.fieldType.DROPDOWN]=a(3511),t[i.fieldType.MULTI_SELECT]=a(3513),t[i.fieldType.TOGGLE]=a(3515),t[i.fieldType.COLOR]=a(3517),t[i.fieldType.IMAGE]=a(3519),t}},function(t,r,a){var i=a(3),o=a(5).default,c=a(1052),l=a(74),u=a(448).default,d=a(355),p=a(3490);t.exports=d({template:p,methods:{onChange:function onChange(t){this.updateValue(t)},onEditStart:function onEditStart(){c.actions.startEditingSelector(this.inputConfig.name),this.iframe&&this.iframe.id&&!this.inVariationEditor&&l.actions.setMode(this.iframe.id,l.enums.IFrameModeTypes.STANDARD)},onEditStop:function onEditStop(){c.actions.stopEditingSelector(),this.iframe&&this.iframe.id&&!this.inVariationEditor&&l.actions.setMode(this.iframe.id,l.enums.IFrameModeTypes.NO_HOVER)}},ready:function ready(){i.bindVueValues(this,{iframe:l.getters.iframeComponent(this.activeFrameId)}),o.renderReactComponent(this,{component:u,el:this.$$.selectorInput,dataBindings:{iframe:l.getters.iframeComponent(this.activeFrameId),isDisabled:c.getters.isSelectorDisabled(this.inputConfig.name),value:c.getters.formInputValue(this.inputConfig.name)},props:{currentSelectorHighlightOptions:{selector:null,dataOptlyId:null},onChange:this.onChange.bind(this),onEditStart:this.onEditStart.bind(this),onEditStop:this.onEditStop.bind(this)}})}})},function(t,r){t.exports='<div v-plugin-validate>\n  <div v-el="selectorInput"></div>\n</div>\n'},function(t,r,a){var i=a(12),o=a(4),c=a(93),l=a(887),u=a(773).default,d=a(355),p=a(2093),m={fixedGutter:!1,lineNumbers:!1,lineWrapping:!0,matchBrackets:!0,mode:"htmlmixed",tabSize:2},g=d({template:p,data:{_codeMirrors:{html:null}},methods:{initializeCodeMirrorField:function initializeCodeMirrorField(t){var r=this;this._codeMirrors.html=l.fromTextArea(t,m);var a=this._codeMirrors.html;return c.nextTick((function(){a.setSize("auto",i(t.parentElement).height()),a.on("change",function(t,r,i){this.updateValue(a.getValue())}.bind(r))})),a}},ready:function ready(){var t=this;this.initializeCodeMirrorField(this.$$.input),this.$on("sidebarResizeEvent",(function(){t.refreshCodeMirror(t._codeMirrors.html)}))}});t.exports=o.merge({},u,g)},,,,,,,,,,,function(t,r,a){var i=a(12),o=a(4),c=a(93),l=a(887),u=a(773).default,d=a(355),p=a(2093),m={fixedGutter:!1,lineNumbers:!1,lineWrapping:!0,matchBrackets:!0,mode:"css",tabSize:2},g=d({template:p,data:{_codeMirrors:{style:null}},methods:{initializeCodeMirrorField:function initializeCodeMirrorField(t){var r=this;this._codeMirrors.style=l.fromTextArea(t,m);var a=this._codeMirrors.style;return c.nextTick((function(){a.setSize("auto",i(t.parentElement).height()),a.on("change",function(t,r,i){this.updateValue(a.getValue())}.bind(r))})),a}},ready:function ready(){var t=this;this.initializeCodeMirrorField(this.$$.input),this.$on("sidebarResizeEvent",(function(){t.refreshCodeMirror(t._codeMirrors.style)}))}});t.exports=o.merge({},u,g)},function(t,r,a){var i=a(355);t.exports=i({template:a(3504)})},function(t,r){t.exports='<div v-plugin-validate>\n  <input type="text" class="lego-text-input" v-value="value" v-on="input: onChange" placeholder="Default Value (optional)" data-test-section="plugins-field-type-input" />\n</div>\n'},function(t,r,a){var i=a(355);t.exports=i({template:a(3506)})},function(t,r){t.exports='<div v-plugin-validate>\n  <textarea class="lego-textarea" v-el="input" v-value="value" v-on="input: onChange" />\n</div>\n'},function(t,r,a){var i=a(12),o=a(355);t.exports=o({template:a(3508),methods:{onChange:function onChange(t){this.updateValue(i(t.target).html())}},ready:function ready(){i(this.$$.input).html(this.value)}})},function(t,r){t.exports='<div v-plugin-validate>\n  <div class="lego-textarea" v-el="input" v-on="input: onChange" contenteditable>\n  </div>\n</div>\n'},function(t,r,a){var i=a(355);t.exports=i({template:a(3510),methods:{onChange:function onChange(t){this.updateValue(parseInt(t.target.value,10))}}})},function(t,r){t.exports='<div v-plugin-validate>\n  <input type="number" class="lego-text-input" v-value="value" v-on="input: onChange"  data-test-section="plugins-field-type-number" />\n</div>\n'},function(t,r,a){var i=a(355);t.exports=i({template:a(3512),ready:function ready(){this.$$.input.value=this.value}})},function(t,r){t.exports='<div v-plugin-validate>\n  <select v-el="input" v-on="change: onChange" class="lego-select width--1-1" data-test-section="plugins-field-type-dropdown">\n    <option value="[[ choice.value ]]" v-repeat="choice: inputConfig.options.choices">[[ choice.label ]]</option>\n  </select>\n</div>\n'},function(t,r,a){var i=a(12),o=a(355);t.exports=o({template:a(3514),methods:{onChange:function onChange(t){this.updateValue(i(t.target).val())},updateSelection:function updateSelection(){i(this.$$.input).val(this.value)}},ready:function ready(){this.updateSelection(),this.$watch("value",this.updateSelection.bind(this))},beforeDestroy:function beforeDestroy(){this.$unwatch("value")}})},function(t,r){t.exports='<div v-plugin-validate>\n  <select v-el="input" v-on="change: onChange" multiple class="lego-text-input">\n    <option value="[[ choice.value ]]" v-repeat="choice: inputConfig.options.choices">[[ choice.label ]]</option>\n  </select>\n</div>\n'},function(t,r,a){var i=a(355);t.exports=i({template:a(3516),methods:{selectOption:function selectOption(t){this.updateValue(t)},getValue:function getValue(){return this.value}}})},function(t,r){t.exports='<div v-plugin-validate>\n  <div class="lego-button-group">\n      <button class="lego-button"\n              type="button"\n              v-on="click: selectOption(choice.value)"\n              v-class="is-active: value === choice.value"\n              v-repeat="choice: inputConfig.options.choices">\n        <svg v-if="choice.icon"\n             class="lego-icon"\n             v-poptip\n             data-dir="top-center"\n             data-content="[[ choice.label ]]">\n          <use xlink:href="#[[ choice.icon ]]-16"></use>\n        </svg>\n        <span v-if="!choice.icon">[[ choice.label ]]</span>\n      </button>\n  </div>\n</div>\n'},function(t,r,a){var i=a(2094),o=a(3518),c=a(355);t.exports=c({template:o,computed:{spectrumOptions:function spectrumOptions(){var t={showAlpha:"rgba"===this.inputConfig.options.mode};return JSON.stringify(t)}},methods:{getValue:function getValue(){return this.value},_handleSpectrumUpdate:function _handleSpectrumUpdate(t,r){if("rgba"===this.inputConfig.options.mode){var a="rgba(".concat(r.r,", ").concat(r.g,", ").concat(r.b,", ").concat(r.a,")");this.updateValue(a)}if("hex"===this.inputConfig.options.mode){var i=(r.r<<16)+(r.g<<8)+r.b,o="#".concat((16777216+i).toString(16).slice(1));this.updateValue(o)}}},directives:{spectrum:i},ready:function ready(){var t=this;this.$on("".concat("spectrum:","update"),this._handleSpectrumUpdate.bind(this)),this.$watch("value",(function(r){t.$emit("".concat("spectrum:","propertiesChanged"),{color:r})}))},beforeDestroy:function beforeDestroy(){this.$unwatch("value")}})},function(t,r){t.exports='<div v-plugin-validate>\n  <input v-spectrum="color: value" v-attr="data-options: spectrumOptions" />\n</div>\n'},function(t,r,a){var i=a(5),o=a(18).getters,c=a(671).default,l=a(346),u=a(3520),d=a(355);t.exports=d({template:u,data:{imageEditingEnabled:!0,isEditorReadOnly:!1,editingEnabled:!0},methods:{setupChange:function setupChange(){this.$emit(l.EventTypes.CALCULATE_IMAGE_PORPERTIES,this.value)},imageChanged:function imageChanged(t){this.$emit(l.EventTypes.CALCULATE_IMAGE_PORPERTIES,t),this.updateValue(t)}},ready:function ready(){var t=this;i.renderReactComponent(this,{component:c,el:this.$$.imageInputManager,dataBindings:{isEditorReadOnly:o.isEditorReadOnly,isEditingSelector:o.changeEditorIsEditingSelector},props:{setupChange:this.setupChange.bind(this),onImageChange:this.imageChanged.bind(this),imageEditingEnabled:!this.isEditingSelector}}),this.$watch("value",(function(r){t.$emit(l.EventTypes.CALCULATE_IMAGE_PORPERTIES,r)}))},beforeDestroy:function beforeDestroy(){this.$unwatch("value")}})},function(t,r){t.exports='<div v-plugin-validate>\n  <div v-el="imageInputManager"></div>\n</div>\n'},function(t,r){t.exports='<div class="flex--1">\n  <div data-test-section="plugin-config-form">\n    <div class="sidenav__section__title sidenav__section__title--bordered soft--bottom"\n         v-if="allowSchemaEdit">\n      <h5>Editable Fields</h5>\n      <button class="lego-button lego-button--outline anchor--right"\n         v-on="click: addField"\n         data-test-section="plugins-add">\n         Add\n         <span class="lego-arrow-inline--right"></span>\n      </button>\n    </div>\n    <ol class="lego-form-fields push-double--bottom"\n        v-repeat="inputConfig: formSchema">\n      <li class="code-mirror__full-height lego-form-field__item [[ getStatusClassForField(inputConfig.name) ]]"\n          data-test-section="plugins-defaults">\n        <div class="flex flex-align--center">\n          <label class="lego-label lego-label--optional flush"\n                 data-test-section="plugins-defaults-label">[[ inputConfig.label ]]</label>\n          <svg class="lego-icon anchor--right"\n               data-test-section="plugin-field-revert-value"\n               data-dir="top-center"\n               data-content="Revert to Saved"\n               v-show="dirtyStatuses && dirtyStatuses[inputConfig.name] === ChangeStatuses.DIRTY"\n               v-on="click: onResetFormValue(inputConfig)"\n               v-poptip>\n            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n          </svg>\n        </div>\n        <pre class="lego-label lego-label--optional"\n             v-if="allowSchemaEdit">[[ inputConfig.name ]]</pre>\n        <div v-component="[[ getFieldComponent(inputConfig.field_type) ]]"\n             v-with="inputConfig: inputConfig,\n                     value: getValue(inputConfig),\n                     activeFrameId: activeFrameId,\n                     inVariationEditor: inVariationEditor">\n\n        </div>\n      </li>\n      <li class="flex justify-content-end">\n        <span\n          class="text--right milli push-half--top cursor--pointer color--brand",\n          v-if="allowSchemaEdit"\n          v-on="click: editSchemaField($index)"\n          data-test-section="plugins-configure">\n          Configure\n          <svg\n            class="svg-inline--fa axiom-icon axiom-icon--tiny fa-fw"\n            fill="[[ brandBlueDark ]]"\n            viewBox="0 0 16 16"\n          >\n            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-right"></use>\n          </svg>\n        </span>\n      </li>\n    </ol>\n  </div>\n</div>\n'},function(t,r){t.exports='<div class="stage__item__content--column"\n     v-loading="widget-editor-sidebar"\n     data-test-section="widget-config-sidebar">\n  <div v-component="sidebar-header"\n       v-with="isNewChange: isNewChange, changeIsDirty: isDirty, editingChange: editingChange"></div>\n  <div class="sidenav__body">\n    <div class="sidenav__section">\n      <div v-el="form"></div>\n    </div>\n    <ol class="lego-form-fields">\n      <li class="lego-form-field__item">\n        <label class="lego-label lego-label--optional">Timing</label>\n        <div v-component="change-timing-dropdown"\n             v-ref="changeTimingDropdown"\n             v-with="change: editingChange,\n                     includeTimingLabel: includeTimingLabel,\n                     instanceIdentifier: timingDropdownTypes.ELEMENT_TIMING">\n        </div>\n      </li>\n    </ol>\n    <div class="sidenav__section soft-double--bottom"\n         v-if="isEditing">\n      <button class="lego-button lego-button--danger-outline"\n              v-on="click: deleteChange"\n              data-test-section="widget-config-delete-button">\n        Delete Extension\n      </button>\n    </div>\n  </div>\n</div>\n'},function(t,r){t.exports='<div class="lego-dropdown-group"\n     v-class="push-double--bottom: isSidebar,\n              display--block: isSidebar"\n     v-dropdown>\n  <button class="lego-button"\n          v-class="toolbar__button--border: !isSidebar,\n                   lego-button--toggle: !isSidebar"\n          data-toggle-dropdown>\n    <span className="push--bottom" v-text="displayText | capitalize | translate"\n          data-test-section="selected-timing-text"></span>\n    <span class="push-half--left anchor--right">\n    <svg height="14" width="14">\n      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#angle-down"></use>\n    </svg>\n  </span>\n  </button>\n  <ul class="lego-dropdown lego-dropdown--descriptive"\n      v-class="min-width--300: !isSidebar,\n               push-double--bottom: isSidebar,\n               lego-dropdown--up: shouldDropUp"\n      data-test-section="timing-dropdown">\n    <li class="lego-dropdown__item"\n        v-on="click: handleChange(false)"\n        data-hide-dropdown\n        data-test-section="timing-dropdown-synchronous">\n      <div class="lego-dropdown__block-link">\n        <div v-class="lego-dropdown--descriptive__header: async">\n          [[ types.SYNCHRONOUS | capitalize | translate ]]\n          <span v-if="includeTimingLabel">timing</span>\n        </div>\n        <div class="lego-dropdown--descriptive__content">\n          Include this change <b>inside</b> the snippet, applying the change before the page is visible. Use for lighter changes that need to run right away without flashing, like a headline swap.\n        </div>\n      </div>\n    </li>\n    <li class="lego-dropdown__item"\n        v-on="click: handleChange(true)"\n        data-hide-dropdown\n        data-test-section="timing-dropdown-asynchronous">\n      <div class="lego-dropdown__block-link">\n        <div v-class="lego-dropdown--descriptive__header: !async">\n          [[ types.ASYNCHRONOUS | capitalize | translate ]]\n          <span v-if="includeTimingLabel">timing</span>\n        </div>\n        <div class="lego-dropdown--descriptive__content">\n          Download this change <b>after</b> the snippet, applying the change while the page loads. Use for heavier changes where a delay won\'t be noticeable, like a popup or a section below the fold.\n        </div>\n      </div>\n    </li>\n  </ul>\n</div>\n'},function(t,r){t.exports={TimingTypes:{ASYNCHRONOUS:"asynchronous",SYNCHRONOUS:"synchronous"}}},function(t,r,a){"use strict";a.r(r);var i=a(4),o=a.n(i),c=a(3),l=a(5),u=a(13),d=a(247),p=a.n(d),m=a(330),g=a(90),h=a.n(g),y=a(74),v=a(29),_=a(22),E=a(39),b=a(415),T=a.n(b),S=a(449),C=a(189),I=a(1434),A=a.n(I),O=a(2520),P=a.n(O),R=a(2521),w=a(2525),N=a.n(w),L=a(2527),x=a.n(L),D=a(2528),k=a.n(D),j=a(2529),M=a(409),U=a(2532),V=a.n(U),B=a(2533),G=a(2535),H=a.n(G),z=a(2536),W={replace:!0,template:a.n(z).a,componentId:"p13n-change-editor-sidebar",components:{background:P.a,base:R.a,borders:N.a,"element-code":k.a,layout:j.a,"sidebar-header":M.default,timing:V.a,typography:H.a},directives:{disclose:A.a},data:{changeStatuses:v.default.ChangeStatuses,elementChangeSections:m.default.ElementChangeSections,revertDrawerShown:!1,shouldShowLayoutSectionExpanded:!1,expandedSectionsList:{}},computed:{revertButtonText:function revertButtonText(){return this.revertDrawerShown?tr("Cancel"):tr("Revert to...")}},methods:{blurInputFields:function blurInputFields(){this.$broadcast("blurInput")},discardChange:function discardChange(){0},displayCodeMirrorComponents:function displayCodeMirrorComponents(){this.$broadcast("displayCodeMirrorComponents"),this.setExpandedSection("STYLES")},handleIframeClick:function handleIframeClick(t){this.editingEnabled&&p.a.discardChangesAndSetChangeBasedOnSelector(t,this.handleSelectedChangeUpdate.bind(this))},handleSelectedChangeUpdate:function handleSelectedChangeUpdate(){this.blurInputFields()},setupChange:function setupChange(){this.currentlyEditingChange&&(this.shouldShowLayoutSectionExpanded=!this.selectedElementNodeNameMatches("IMG")&&!this.selectedElementNodeNameMatches("A"),this.expandedSectionsList={LAYOUT:this.shouldShowLayoutSectionExpanded})},shouldShowSection:function shouldShowSection(t){switch(t){case this.elementChangeSections.BACKGROUND:case this.elementChangeSections.TYPOGRAPHY:return!this.selectedElementNodeNameMatches("IMG");case this.elementChangeSections.DIMENSIONS:return!this.selectedElementNodeNameMatches("A");case this.elementChangeSections.TIMING:return this.canUseAsyncChanges||this.shouldShowDependencyManagement;case this.elementChangeSections.TRACK_CLICKS:return this.canCreateUserEvent;default:return!0}},switchToChange:function switchToChange(t){var r=this;if(this.currentlyEditingChangeIsDirty){var a=tr("Selecting the containing link element will create a new change for that element and discard your unsaved changes for this element. Are you sure you want to switch?");this.confirmDiscardChanges(a).then((function(){y.default.actions.applyChangesAndFetchElementInfo(r.activeFrameId,c.default.evaluateToJS(h.a.currentlyEditingActionFormatted(!0)),t).then(o.a.partial(p.a.setChangeBasedOnSelector,t))})),this.handleSelectedChangeUpdate()}else y.default.actions.fetchElementInfo(this.activeFrameId,t).then(o.a.partial(p.a.setChangeBasedOnSelector,t)),this.handleSelectedChangeUpdate()},toggleRevertDrawerShown:function toggleRevertDrawerShown(){this.revertDrawerShown=!this.revertDrawerShown},setExpandedSection:function setExpandedSection(t){this.expandedSectionsList[t]=!this.expandedSectionsList[t]}},created:function created(){c.default.bindVueValues(this,{activeFrameId:h.a.activeFrameId,canCreateUserEvent:[u.default.project,_.default.canCreateUserEvent],canUseAsyncChanges:E.default.canUseAsyncChanges,changeListSidebarComponentConfig:h.a.changeListSidebarComponentConfig,currentlyEditingChange:h.a.currentlyEditingChange,currentlyEditingChangeIsDirty:h.a.currentlyEditingChangeIsDirty,currentSelectorType:h.a.currentSelectorType,editingEnabled:h.a.changeEditorEditingEnabled,isEditorReadOnly:h.a.isEditorReadOnly,shouldShowDependencyManagement:h.a.showDependencyManagement})},ready:function ready(){this.setupChange(),this.$iframeComponent=c.default.evaluateToJS(y.default.getters.iframeComponent(this.activeFrameId)),this.$iframeClickCallback=this.handleIframeClick.bind(this),this.$iframeComponent&&this.$iframeComponent.$on(y.default.enums.IFrameMessageTypes.CLICK,this.$iframeClickCallback),l.default.renderReactComponent(this,{component:x.a,el:this.$$.dimensions,props:{},dataBindings:{changeStatusMap:h.a.changeStatusMap(),heightValue:h.a.cssValueFromChangeOrElement("height"),widthValue:h.a.cssValueFromChangeOrElement("width")}}),l.default.renderReactComponent(this,{component:B.a,el:this.$$.trackClicks,dataBindings:{changeStatus:C.a.getTrackClicksChangeStatus,nameValue:C.a.trackClicksChangeName,enabled:C.a.trackClicksChangeIsEnabled,eventCategories:T.a.getUngroupedList("user_events"),showCampaignSpecificEventText:C.a.showCampaignSpecificEventText}}),this.__unwatchCurrentlyEditingChange=c.default.observe(h.a.currentlyEditingChange,this.setupChange.bind(this))},beforeDestroy:function beforeDestroy(){this.__unwatchCurrentlyEditingChange&&this.__unwatchCurrentlyEditingChange(),this.$iframeComponent&&this.$iframeComponent.$off(y.default.enums.IFrameMessageTypes.CLICK,this.$iframeClickCallback)}};r.default=o.a.merge({},S.default,W)},function(t,r,a){var i=a(3527);"string"==typeof i&&(i=[[t.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a(1410)(i,o);i.locals&&(t.exports=i.locals)},function(t,r,a){(t.exports=a(1409)(!1)).push([t.i,".optly-page-overlay {\n  background: transparent;\n  display: block;\n  position: fixed;\n  right: 0px;\n  top: 0px;\n  width: 100%;\n  height: 100%;\n  margin: 0 !important;\n  padding: 0 !important;\n  z-index: 2147483647 !important;  /* Max z-index per http://stackoverflow.com/questions/491052/mininum-and-maximum-value-of-z-index */\n}\n\n.optly-cursor {\n  position: fixed;\n  background-color: rgba(0, 107, 255, 0.21);\n  border: 1px solid rgba(0, 107, 255, 1);\n  z-index: 2147483647 !important;  /* Max z-index per http://stackoverflow.com/questions/491052/mininum-and-maximum-value-of-z-index */\n  pointer-events: none;\n  border-radius: 2px;\n  box-sizing: content-box;\n  margin: 0 !important;\n  padding: 0 !important;\n}\n\n.optly-cursor.optly-hover {\n  opacity: .5;\n}\n\n.optly-cursor:not(.optly-hover):after {\n  content: attr(cursor-label);\n  color: white;\n  background-color: #3779d9;\n  background-repeat: no-repeat;\n  position: absolute;\n  right: -1px;\n  top: 100%;\n  font-weight: bold;\n  border-bottom-right-radius: 2px;\n  border-bottom-left-radius: 2px;\n}\n\n.element-event:after, .element-tag:after {\n  background-size: 16px;\n  background-position: center;\n  padding: 3px 10px;\n}\n\n.element-event.element-tag:after {\n  background-size: 32px;\n  padding: 3px 16px;\n}\n\n.optly-cursor.optly-live {\n  background-color: rgba(20, 165, 74, .15);\n  border: 1px solid rgba(22, 132, 63, .5);\n}\n\n.optly-cursor.optly-staged {\n  border: 2px solid #CC2516;\n}\n\n.optly-cursor.optly-draft {\n  background-color: rgba(245, 186, 75, 0.15);\n  border: 2px solid rgba(245, 186, 75, 0.5);\n}\n\n.optly-selected-handle {\n  background: white;\n  border: 1px solid #444;\n  opacity: 0.8;\n  position: fixed;\n  width: 7px;\n  height: 7px;\n}\n\n.optly-selected-handle:hover {\n  opacity: 1;\n}\n\n#optly-selected-tl {\n  cursor: nwse-resize;\n  top: -7px;\n  left: -7px;\n}\n\n#optly-selected-tr {\n  cursor: nesw-resize;\n  top: -7px;\n  right: -7px;\n}\n#optly-selected-br {\n  cursor: nwse-resize;\n  bottom: -7px;\n  right: -7px;\n}\n#optly-selected-bl {\n  cursor: nesw-resize;\n  bottom: -7px;\n  left: -7px;\n}\n\n#optly-duplicate {\n  background-color: #f8f8f8;\n  border: 1px solid #efefef;\n  border-top: 0;\n  box-shadow: 0 0 4px rgba(0,0,0,0.4);\n  cursor: pointer;\n  font-size: 1.5em;\n  font-weight: bold;\n  line-height: 0.5;\n  position: absolute;\n  bottom: -1.4em;\n  left: 10px;\n  padding: 0.25em 0.4em 0.5em;\n}\n\n/**\n * Inspector frame styles\n */\n#optly-inspector-frame {\n  position: fixed;\n  bottom: 0;\n  left: 0;\n\n  width: 100%;\n  height: 250px;\n  z-index: 10000;\n}\n\n.optimizely-outline-bar {\n  background: #3875D7 !important;\n  border: none !important;\n  display: none;\n  margin: 0 !important;\n  min-height: 0 !important;\n  min-width: 0 !important;\n  padding: 0 !important;\n  position: fixed;\n  z-index: 2147483646 !important;\n}\n\n.optimizely-outline-element {\n  outline: 2px solid #3875D7 !important;\n  box-shadow: 3px 3px 4px #999;\n  -webkit-box-shadow: 3px 3px 4px #999;\n  z-index: 2147483646 !important;\n}\n\n.optimizely-outline-bar-shadow {\n  box-shadow: 3px 3px 5px #999;\n  -moz-box-shadow: 3px 3px 5px #999;\n  -webkit-box-shadow: 3px 3px 5px #999;\n}\n",""])},function(t,r){t.exports={convertZeroAlphaForRgba:function convertZeroAlphaForRgba(t){return t?t.replace(", 0)",", 1)"):null}}},function(t,r){t.exports='<div data-test-section="color-picker-container"\n     class="flex optly-color-picker--larger lego-button-group">\n  \x3c!--Temporary style tag, remove this when CSS is properly updated.--\x3e\n  <style>\n    .picker-dimension-override .sp-preview {\n      width: 2.5em;\n      height: 2.5em;\n    }\n  </style>\n  <input v-attr="data-options: spectrumOptions"\n         v-spectrum="color: value">\n  <input v-model="value"\n         v-on="keyup: handleValueUpdate"\n         data-test-section="color-picker-text-input"\n         class="flex--1 lego-text-input">\n</div>\n'},function(t,r){t.exports='<div class="sidenav__section lego-disclose__content soft-double--sides soft--top soft-double--bottom">\n  <ol class="lego-form-fields">\n    <li class="lego-form-field__item"\n        v-class="statusClassForCSSProperty(\'background-color\')">\n      <div class="flex flex-align--center">\n        <label class="lego-label">Color</label>\n        <svg class="lego-icon anchor--right"\n             v-poptip\n             data-dir="top-center"\n             data-content="Revert to Saved"\n             v-show="changeStatusMap[\'css\'][\'background-color\'] === changeStatuses.DIRTY"\n             v-on="click: revertBackgroundColor"\n             data-test-section="background-color-revert-button">\n             <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n        </svg>\n      </div>\n      <div v-component="color-picker"\n           v-ref="backgroundColorPicker"\n           v-with="identifier: colorPickerIdentifier">\n      </div>\n    </li>\n    <li class="lego-form-field__item"\n        v-class="statusClassForCSSProperty(\'background-image\')"\n        v-disabled="isEditorReadOnly"\n        v-show="backgroundImageEditingEnabled"\n        data-test-section="background-image-container">\n      <div class="flex flex-align--center">\n        <label class="lego-label">Image</label>\n        <svg class="lego-icon anchor--right"\n             v-poptip\n             data-dir="top-center"\n             data-content="Revert to Saved"\n             v-show="changeStatusMap[\'css\'][\'background-image\'] === changeStatuses.DIRTY"\n             v-on="click: revertBackgroundImage"\n             data-test-section="background-color-revert-button">\n             <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n        </svg>\n      </div>\n      <div v-el="imageInputManager"></div>\n    </li>\n    <li class="lego-form-field__item"\n        v-disabled="isEditorReadOnly"\n        v-show="parentImage.displayValue"\n        data-test-section="parent-background-image-container">\n      <div class="flex flex-align--center">\n        <label class="lego-label">Parent Image</label>\n      </div>\n      <div class="img-upload">\n        <div class="img-upload__data">\n          <div class="img-upload__img"\n               style="background-image:url([[ parentImage.absoluteUrl ]]);\n                      background-position: center center;\n                      background-size:[[ parentImage.thumbnailWidth ]]px [[ parentImage.thumbnailHeight ]]px;">\n          </div>\n          <div class="img-upload__stats">\n            <ul>\n              <li>[[ parentImage.filename ]]</li>\n              <li class="muted" v-text="parentImage.size | format-file-size"></li>\n              <li class="muted" v-text="parentImage.width + \' x \' + parentImage.height"></li>\n            </ul>\n          </div>\n        </div>\n        <textarea type="text"\n               class="lego-textarea push-half--bottom"\n               v-el="parentImage"\n               v-value="parentImage.displayValue"\n               disabled="disabled"\n               data-test-section="parent-background-image-input">\n        </textarea>\n      </div>\n      <div class="push--bottom">\n        <a data-test-section="parent-image-link"\n           v-on="click: switchToParentChange(currentlyEditingChangeParentBackground.selector)">\n          Select containing element to edit\n        </a>\n      </div>\n    </li>\n  </ol>\n</div>\n'},function(t,r){t.exports='<div class="sidenav__section lego-disclose__content soft-double--sides soft--top soft-double--bottom">\n  <ol class="lego-form-fields">\n    <li class="lego-form-field__item" v-el="style-and-width-inputs"></li>\n    <li class="lego-form-field__item" v-class="statusClasses[\'border-color\']">\n      <div class="flex flex-align--center">\n        <label class="lego-label">Color</label>\n        <svg class="lego-icon anchor--right"\n             v-poptip\n             data-dir="top-center"\n             data-content="Revert to Saved"\n             v-show="changeStatusMap.css[\'border-color\'] === changeStatuses.DIRTY"\n             v-on="click: revertCSSProperty(\'border-color\')"\n             data-test-section="revert-border-color-button">\n          <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n        </svg>\n      </div>\n      <div v-component="color-picker"\n           v-ref="borderColorPicker">\n      </div>\n    </li>\n  </ol>\n</div>\n'},function(t,r,a){function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=a(3),o=a(1),c=a(0),l=a(2).default,u=a(16).Input,d=a(739).default,p=a(99),m=a(29).default.ChangeStatuses,g=a(247),h=a(394).default,y=a(2097),v=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset","initial","inherit"],_=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(styleAndWidthInputs,t);var r=_createSuper(styleAndWidthInputs);function styleAndWidthInputs(){var t;_classCallCheck(this,styleAndWidthInputs);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(t=r.call.apply(r,[this].concat(o))).callWidthChangeHandler=function(r){t.props.onWidthChange(r.target.value)},t.blurChangeHandler=function(r){""===t.props.widthValue&&t.revertWidth()},t.revertWidth=function(){g.revertCSSProperty("border-width");var t=i.evaluate(["p13n/editor","currentlyEditingChange","css","border-width"]),r=i.evaluate(["p13n/editor","currentlyEditingChange","elementInfo",0,"computedStyle"]).toJS().getPropertyValue("border-width");"0px"===(t||""===t?t:r)&&g.revertCSSProperty("border-style"),g.applyCurrentlyEditingChange()},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(styleAndWidthInputs,[{key:"render",value:function render(){var t=this;if(null===this.props.widthValue)return null;var r={};return["border-style","border-color","border-width"].forEach((function(a){var i=t.props.changeStatusMap.getIn(["css",a]);r[a]=h.coalesceStatusesIntoClass(i)})),c.createElement("div",{className:"flex flex-align--center"},c.createElement("div",{className:"flex--1"},c.createElement("div",{className:"flex flex-align--center ".concat(r["border-width"])},c.createElement("label",{className:"lego-label"},"Width"),this.props.changeStatusMap.getIn(["css","border-width"])===m.DIRTY?c.createElement(y,{property:"border-width",action:this.revertWidth}):null),c.createElement(u,{type:"text",value:this.props.widthValue,onChange:this.callWidthChangeHandler,onBlur:this.blurChangeHandler,testSection:"border-width-input"})),c.createElement("div",{className:"flex--1 push-double--left"},c.createElement("div",{className:"flex flex-align--center ".concat(r["border-style"])},c.createElement("label",{className:"lego-label"},"Style"),this.props.changeStatusMap.getIn(["css","border-style"])===m.DIRTY?c.createElement(y,{property:"border-style"}):null),c.createElement(d,{value:this.props.styleValue,isActivatorFullWidth:!0,onChange:this.props.onStyleChange,isDisabled:"0px"===this.props.widthValue,testSection:"border-style-select"},v.map((function(t){return c.createElement(d.Option,{value:t,key:t,label:p(t),testSection:"border-style-option-".concat(t)})})))))}}]),styleAndWidthInputs}(c.Component);_.propTypes={changeStatusMap:o.instanceOf(l.Map),onStyleChange:o.func,onWidthChange:o.func,styleChangeStatus:o.string,styleValue:o.string,widthChangeStatus:o.string,widthValue:o.string},t.exports=_},function(t,r){t.exports='<div class="sidenav__section lego-disclose__content soft-double--sides soft--top soft-double--bottom">\n  <ol class="lego-form-fields">\n    <li class="lego-form-field__item"\n        v-class="statusClassForAttributes.text"\n        v-show="textEditingEnabled">\n      <div class="flex flex-align--center">\n        <label class="lego-label">Text</label>\n        <svg class="lego-icon anchor--right"\n             v-poptip\n             data-dir="top-center"\n             data-content="Revert to Saved"\n             v-show="changeStatusMap[\'attributes\'][\'text\'] === changeStatuses.DIRTY"\n             v-on="click: revertChangeAttribute(\'text\')"\n             data-test-section="revert-text-button">\n            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n        </svg>\n      </div>\n\n      <textarea class="lego-textarea"\n                v-el="text"\n                v-on="keyup: setAttributeDebounced(\'text\', this.$$[\'text\'].value)"\n                data-test-section="change-editor-text"\n                v-disabled="!editingEnabled || !textEditingEnabled || isEditorReadOnly">\n      </textarea>\n    </li>\n    <li class="lego-form-field__item"\n        v-class="statusClassForAttributes.style">\n      <div class="flex flex-align--center">\n        <label class="lego-label">Inline CSS</label>\n        <div class="push-half--left">\n          <svg class="lego-icon vertical-align--top anchor--right"\n               v-popover\n               data-behavior="show"\n               data-dir="left-center"\n               data-content-selector=".js-styles-popover"\n               data-scroll-listeners=".js-popover-scroll-area">\n            <use xlink:href="#circle-question"></use>\n          </svg>\n          \x3c!-- z-index is one-offed to appear above CodeMirror. --\x3e\n          <div class="lego-pop--over lego-pop--over--arrow-left-center js-styles-popover" style="z-index: 6">\n            <div class="lego-pop--over__content">\n              <div class="lego-pop--over__title">Code Example</div>\n              <p>Modify the selected element with inline CSS rules. Inline styles take precedence over other changes made to this element.</p>\n              <pre class="lego-pre push-half--ends milli"><code>background-color: blue;\ncolor: #55b01c;\nfont-size: 33px;</code></pre>\n            </div>\n          </div>\n        </div>\n        <svg  class="lego-icon anchor--right"\n              v-poptip\n              data-dir="top-center"\n              data-content="Revert to Saved"\n              v-show="changeStatusMap[\'attributes\'][\'style\'] === changeStatuses.DIRTY"\n              v-on="click: revertChangeAttribute(\'style\')"\n              data-test-section="revert-css-button">\n           <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n        </svg>\n      </div>\n      <div class="border--all min-height--200 monospace code-mirror__full-height"\n           v-resizable="options: _resizableOptions"\n           data-codemirror-ref="style"\n           data-test-section="change-editor-style">\n        <textarea class="lego-textarea min-height--200 monospace"\n                  v-el="style"\n                  v-disabled="!editingEnabled || isEditorReadOnly">\n        </textarea>\n      </div>\n    </li>\n    <li class="lego-form-field__item"\n        v-class="statusClassForAttributes.class">\n      <div class="flex flex-align--center">\n        <label class="lego-label">Classes</label>\n        <svg class="lego-icon anchor--right"\n             v-poptip\n             data-dir="top-center"\n             data-content="Revert to Saved"\n             v-show="changeStatusMap[\'attributes\'][\'class\'] === changeStatuses.DIRTY"\n             v-on="click: revertChangeAttribute(\'class\')"\n             data-test-section="revert-class-button">\n             <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n        </svg>\n      </div>\n      <input type="text"\n             class="lego-text-input"\n             data-test-section="change-editor-class"\n             v-el="class"\n             v-on="keyup: setAttributeDebounced(\'class\', this.$$[\'class\'].value)"\n             v-disabled="!editingEnabled || isEditorReadOnly">\n    </li>\n  </ol>\n</div>\n'},function(t,r){t.exports='<div class="sidenav__section lego-disclose__content">\n  <ol class="lego-form-fields">\n    <li class="lego-form-field__item"\n        v-class="statusClassForAttributes.async"\n        data-test-section="change-editor-timing-section-container">\n      <div class="flex flex-align--center">\n        <label class="lego-label">Timing</label>\n        <svg class="lego-icon anchor--right"\n             v-poptip\n             data-dir="top-center"\n             data-content="Revert to Saved"\n             v-show="changeStatusMap[\'async\'] === changeStatuses.DIRTY"\n             v-on="click: revertChangeTiming"\n             data-test-section="revert-class-button">\n             <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#arrow-rotate-left"></use>\n        </svg>\n      </div>\n      <div v-component="change-timing-dropdown"\n           v-ref="changeTimingDropdown"\n           v-with="change: currentlyEditingChange,\n                   includeTimingLabel: includeTimingLabel,\n                   instanceIdentifier: timingDropdownTypes.ELEMENT_TIMING">\n      </div>\n    </li>\n    <li class="lego-form-field__item"\n        v-show="shouldShowDependencyManagement">\n      <div v-el="dependencyManagement"></div>\n    </li>\n  </ol>\n</div>\n'},function(t,r){t.exports={FONT_WEIGHT_VALUES:["normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900"]}},function(t,r){t.exports='<div class="sidenav__section lego-disclose__content soft-double--sides soft--top soft-double--bottom">\n  <ol class="lego-form-fields">\n    <li class="lego-form-field__item">\n      <div class="flex flex-align--center">\n        <div class="flex--1">\n          <label class="lego-label">Font Size</label>\n          <input name="[[ css.fontSizeId ]]"\n                 class="lego-text-input"\n                 type="text"\n                 v-model="fontSize"\n                 v-on="input: updateChangeCSS"\n                 data-test-section="typography-font-size-input" />\n        </div>\n        <div class="flex--1 push-double--left">\n          <label class="lego-label">Font Weight</label>\n          <select name="[[ css.fontWeightId ]]" class="lego-select"\n                  type="text"\n                  v-model="fontWeight"\n                  v-on="input: updateChangeCSS"\n                  data-test-section="typography-font-weight-input">\n            <option v-repeat="css.fontWeightValues" value="[[ $value ]]">[[ $value | capitalize ]]</option>\n          </select>\n        </div>\n      </div>\n    </li>\n    <li class="lego-form-field__item">\n      <div class="flex flex-align--center">\n        <label class="lego-label">Color</label>\n      </div>\n      <div v-component="color-picker"\n           v-ref="textColorPicker"\n           data-test-section="typography-color-picker">\n      </div>\n    </li>\n  </ol>\n</div>\n'},function(t,r,a){"use strict";a.r(r);var i=a(4),o=a.n(i),c=a(93),l=a.n(c),u=a(3),d=a(5),p=a(288),m=a(37),g=a(66),h=a.n(g),y=a(13),v=a(820),_=a.n(v),E=a(18),b=a(301),T=a.n(b),S=a(540),C=a.n(S),I=a(29),A=a(22),O=a(39),P=a(611),R=a(448),w=a(819),N=a.n(w),L=a(878),x=a.n(L),D=a(409),k=a(2537),j=a.n(k),M={replace:!0,componentId:"p13n-insert-html-sidebar",components:{"change-timing-dropdown":x.a,"sidebar-header":D.default},computed:{htmlEditingEnabled:function htmlEditingEnabled(){return this.isEditingSelector,this.isEditorReadOnly,!this.isEditingSelector&&!this.isEditorReadOnly},statusClassForAttributes:function statusClassForAttributes(){return{async:this.getStatusClassForAttribute(this.changeStatusMap.async),html:this.getStatusClassForAttribute(this.changeStatusMap.html),selectorAndOperator:this.getStatusClassForAttribute([this.changeStatusMap.selector,this.changeStatusMap.operator])}}},data:{_codeMirrors:{html:null},changeStatuses:I.default.ChangeStatuses,codeMirrorInitialized:!1,includeTimingLabel:!1,timingDropdownTypes:E.default.constants.TimingDropdownTypes},directives:{resizable:N.a},template:j.a,methods:{handleIframeClick:function handleIframeClick(t){this.isEditingSelector||E.default.actions.discardChangesAndSetChangeBasedOnSelector(t)},handleInsertOperatorChanged:function handleInsertOperatorChanged(t){E.default.actions.setInsertHTMLOperator(t),this.currentlyEditingChangeSelector&&E.default.actions.applyCurrentlyEditingChange()},handleChangeTimingChanged:function handleChangeTimingChanged(t){E.default.actions.setChangeTiming(t.isAsync)},revertChangeTiming:E.default.actions.revertChangeTiming,initializeInputFields:function initializeInputFields(){var t=this;this._codeMirrors.html.hasFocus()||(this.shouldObserveCodeMirror=!1,this._codeMirrors.html.setValue(this.currentlyEditingChange.value||""),this.shouldObserveCodeMirror=!0),l.a.nextTick((function(){t.$.changeTimingDropdown&&t.$.changeTimingDropdown.handleUpdate()}))},revertInsertHTMLValue:function revertInsertHTMLValue(){E.default.actions.revertInsertHTMLValue(),E.default.actions.applyCurrentlyEditingChange()},saveChangeAndShowChangeListSidebar:function saveChangeAndShowChangeListSidebar(){p.a.methods.saveChangeAndShowChangeListSidebar.call(this,this.changeListSidebarComponentConfig)},setHTML:function setHTML(t,r){E.default.actions.setCurrentlyEditingInsertHTMLChangeValue(r.trim()),this.currentlyEditingChangeSelector&&E.default.actions.applyCurrentlyEditingChange()},setupChange:function setupChange(){this.currentlyEditingChange&&(this.initializeInputFields(),this.safelyEnsureHTMLCodeMirrorDisableState())},safelyEnsureHTMLCodeMirrorDisableState:function safelyEnsureHTMLCodeMirrorDisableState(){if(this.codeMirrorInitialized){var t=!this.htmlEditingEnabled;this.toggleCodeMirrorComponentsDisabled(t)}}},created:function created(){u.default.bindVueValues(this,{activeFrameId:E.default.getters.activeFrameId,changeListSidebarComponentConfig:E.default.getters.changeListSidebarComponentConfig,changeStatusMap:E.default.getters.changeStatusMap(),currentLayer:h.a.layer,currentlyEditingChange:E.default.getters.currentlyEditingChange,currentlyEditingChangeIsDirty:E.default.getters.currentlyEditingChangeIsDirty,currentlyEditingChangeSelector:E.default.getters.currentlyEditingChangeSelector,currentlyEditingChangeTitle:E.default.getters.currentlyEditingChangeTitle,isAdmin:m.default.isAdmin,isEditorReadOnly:E.default.getters.isEditorReadOnly,isEditingSelector:E.default.getters.changeEditorIsEditingSelector,canUpdateLayerExperiment:[y.default.project,A.default.canUpdateLayerExperiment],shouldShowAsyncChanges:O.default.canUseAsyncChanges,shouldShowDependencyManagement:E.default.getters.showDependencyManagement}),this._resizableOptions={handles:"se",minHeight:200,reset:!0,resize:this.resizeCodeMirror.bind(this)}},ready:function ready(){var t=this;this.codeMirrorInitialized||(this._codeMirrors.html=this.initializeCodeMirrorField(this.$$.html,"html","htmlmixed",this.setHTML.bind(this)),this.codeMirrorInitialized=!0),this.$iframeComponent=u.default.evaluateToJS(C.a.iframeComponent(this.activeFrameId)),this.$iframeClickCallback=this.handleIframeClick.bind(this),this.$iframeComponent&&this.$iframeComponent.$on(T.a.IFrameMessageTypes.CLICK,this.$iframeClickCallback),this.__unwatchCurrentlyEditingChange=u.default.observe(E.default.getters.currentlyEditingChange,this.setupChange.bind(this)),this.initializeInputFields(),this.$on("sidebarResizeEvent",(function(){t.refreshCodeMirror(t._codeMirrors.html)})),d.default.renderReactComponent(this,{component:_.a,el:this.$$.dependencyManagement,dataBindings:{dependsOnPrevious:E.default.getters.currentlyEditingChangeDependsOnPrevious},props:{handleChangeDependencyClick:E.default.actions.setCurrentlyEditingChangeDependencies}}),d.default.renderReactComponent(this,{component:P.a,el:this.$$.insertOperatorDropdown,props:{onOperatorChangeCallback:this.handleInsertOperatorChanged.bind(this),initialOperator:this.currentlyEditingChange.operator}}),d.default.renderReactComponent(this,{component:R.default,el:this.$$.insertHTMLSelectorInput,dataBindings:{currentSelectorHighlightOptions:E.default.getters.currentlyEditingChangeHighlighterOptions,iframe:C.a.iframeComponent(this.activeFrameId),isDisabled:E.default.getters.selectorInputIsDisabled(E.default.constants.SelectorInputTypes.INSERT_HTML_SELECTOR),mountInSearchMode:[E.default.getters.currentlyEditingChangeSelector,function(t){return!t}],value:E.default.getters.currentlyEditingChangeSelector},props:{onChange:E.default.actions.onChangeSelectorInput,onEditStart:o.a.partial(E.default.actions.toggleElementSelection,!0,E.default.constants.SelectorInputTypes.INSERT_HTML_SELECTOR),onEditStop:o.a.partial(E.default.actions.toggleElementSelection,!1,E.default.constants.SelectorInputTypes.INSERT_HTML_SELECTOR),selectorInputType:E.default.constants.SelectorInputTypes.INSERT_HTML_SELECTOR}}),u.default.observe(E.default.getters.changeEditorIsEditingSelector,this.safelyEnsureHTMLCodeMirrorDisableState.bind(this))},beforeDestroy:function beforeDestroy(){this.__unwatchCurrentlyEditingChange&&this.__unwatchCurrentlyEditingChange(),this.$iframeComponent&&this.$iframeComponent.$off(T.a.IFrameMessageTypes.CLICK,this.$iframeClickCallback)}};r.default=o.a.merge({},p.b,p.a,M)},function(t,r,a){"use strict";a.r(r);var i=a(12),o=a.n(i),c=a(4),l=a.n(c),u=a(3),d=a(5),p=a(288),m=a(38),g=a(14),h=a(820),y=a.n(h),v=a(18),_=a(74),E=a(346),b=a.n(E),T=a(29),S=a(49),C=a(611),I=a(671),A=a(448),O=a(409),P=a(2538),R=a.n(P),w={replace:!0,componentId:"p13n-insert-image-sidebar",components:{"insert-operator-dropdown":C.a,"sidebar-header":O.default},computed:{statusClassForAttributes:function statusClassForAttributes(){return{html:this.getStatusClassForAttribute(this.changeStatusMap.html),selectorAndOperator:this.getStatusClassForAttribute([this.changeStatusMap.selector,this.changeStatusMap.operator])}}},data:{changeStatuses:T.default.ChangeStatuses},template:R.a,methods:{handleIframeClick:function handleIframeClick(t){this.isEditingSelector||v.default.actions.discardChangesAndSetChangeBasedOnSelector(t)},getImageURL:function getImageURL(){if(this.currentlyEditingChange.value){var t=o()(this.currentlyEditingChange.value);return t.length?t[0].getAttribute("src"):""}return""},handleInsertOperatorChanged:function handleInsertOperatorChanged(t){v.default.actions.setInsertHTMLOperator(t),this.currentlyEditingChangeSelector&&v.default.actions.applyCurrentlyEditingChange()},revertImageURL:function revertImageURL(){v.default.actions.revertInsertHTMLValue(),v.default.actions.applyCurrentlyEditingChange()},saveChangeAndShowChangeListSidebar:function saveChangeAndShowChangeListSidebar(){p.a.methods.saveChangeAndShowChangeListSidebar.call(this,this.changeListSidebarComponentConfig)},setImageURL:function setImageURL(t){var r="<img src='".concat(t,"' />");v.default.actions.setCurrentlyEditingInsertHTMLChangeValue(r),this.currentlyEditingChangeSelector&&v.default.actions.applyCurrentlyEditingChange()},setupChange:function setupChange(){this.$emit(b.a.EventTypes.CALCULATE_IMAGE_PORPERTIES,this.getImageURL())}},created:function created(){u.default.bindVueValues(this,{activeFrameId:v.default.getters.activeFrameId,changeListSidebarComponentConfig:v.default.getters.changeListSidebarComponentConfig,changeStatusMap:v.default.getters.changeStatusMap(),currentLayer:m.getters.layer,currentlyEditingChange:v.default.getters.currentlyEditingChange,currentlyEditingChangeIsDirty:v.default.getters.currentlyEditingChangeIsDirty,currentlyEditingChangeSelector:v.default.getters.currentlyEditingChangeSelector,currentlyEditingChangeTitle:v.default.getters.currentlyEditingChangeTitle,isEditingSelector:v.default.getters.changeEditorIsEditingSelector,isEditorReadOnly:v.default.getters.isEditorReadOnly,canUpdateLayerExperiment:[g.getters.project,S.fns.canUpdateLayerExperiment],shouldShowDependencyManagement:v.default.getters.showDependencyManagement})},ready:function ready(){this.$iframeComponent=u.default.evaluateToJS(_.getters.iframeComponent(this.activeFrameId)),this.$iframeClickCallback=this.handleIframeClick.bind(this),this.$iframeComponent&&this.$iframeComponent.$on(_.enums.IFrameMessageTypes.CLICK,this.$iframeClickCallback),this.__unwatchCurrentlyEditingChange=u.default.observe(v.default.getters.currentlyEditingChange,this.setupChange.bind(this)),d.default.renderReactComponent(this,{component:I.default,el:this.$$.imageInputManager,dataBindings:{isEditorReadOnly:v.default.getters.isEditorReadOnly,isEditingSelector:v.default.getters.changeEditorIsEditingSelector},props:{setupChange:this.setupChange.bind(this),onImageChange:this.setImageURL.bind(this),imageEditingEnabled:!this.isEditingSelector}}),d.default.renderReactComponent(this,{component:C.a,el:this.$$.insertOperatorDropdown,props:{onOperatorChangeCallback:this.handleInsertOperatorChanged.bind(this),initialOperator:this.currentlyEditingChange.operator}}),d.default.renderReactComponent(this,{component:y.a,el:this.$$.dependencyManagement,dataBindings:{dependsOnPrevious:v.default.getters.currentlyEditingChangeDependsOnPrevious},props:{handleChangeDependencyClick:v.default.actions.setCurrentlyEditingChangeDependencies}}),d.default.renderReactComponent(this,{component:A.default,el:this.$$.insertImageSelectorInput,dataBindings:{currentSelectorHighlightOptions:v.default.getters.currentlyEditingChangeHighlighterOptions,iframe:_.getters.iframeComponent(this.activeFrameId),isDisabled:v.default.getters.selectorInputIsDisabled(v.default.constants.SelectorInputTypes.INSERT_IMAGE_SELECTOR),mountInSearchMode:[v.default.getters.currentlyEditingChangeSelector,function(t){return!t}],value:v.default.getters.currentlyEditingChangeSelector},props:{onChange:v.default.actions.onChangeSelectorInput,onEditStart:l.a.partial(v.default.actions.toggleElementSelection,!0,v.default.constants.SelectorInputTypes.INSERT_IMAGE_SELECTOR),onEditStop:l.a.partial(v.default.actions.toggleElementSelection,!1,v.default.constants.SelectorInputTypes.INSERT_IMAGE_SELECTOR),selectorInputType:v.default.constants.SelectorInputTypes.INSERT_IMAGE_SELECTOR}})},beforeDestroy:function beforeDestroy(){this.__unwatchCurrentlyEditingChange&&this.__unwatchCurrentlyEditingChange(),this.$iframeComponent&&this.$iframeComponent.$off(_.enums.IFrameMessageTypes.CLICK,this.$iframeClickCallback)}};r.default=l.a.merge({},p.a,w)},function(t,r,a){var i=a(4),o=a(3),c=a(149),l=a(5).default,u=a(13),d=a(247),p=a(90),m=a(29).default,g=a(85).default,h=a(449).default,y=a(22),v=a(3540).default,_=a(409).default,E=a(3546),b="p13n-redirect-editor-sidebar",T=[m.ChangeTypes.REDIRECT,m.ChangeTypes.CUSTOM_CODE,m.ChangeTypes.CUSTOM_CSS],S=function statusClassForAttribute(t){return this.changeStatusMap.attributes&&this.changeStatusMap.attributes[t]?this.getStatusClassForAttribute(this.changeStatusMap.attributes[t]):this.getStatusClassForAttribute(this.changeStatusMap[t])},C=function inputIdForAttribute(t,r){return[b,t,r].join("--")},I={replace:!0,template:E,componentId:b,components:{"sidebar-header":_},computed:{statusClassForAllowAdditionalRedirect:i.partial(S,"allowAdditionalRedirect"),statusClassForDest:i.partial(S,"dest"),statusClassForPreserveParameters:i.partial(S,"preserveParameters"),showExistingChangeWarning:function showExistingChangeWarning(){return!!i.find(this.currentActionChanges,(function(t){return!i.includes(T,t.type)}))},showPreserveParameters:function showPreserveParameters(){return this.currentlyEditingChange.isRedirectUrl}},data:{changeStatuses:m.ChangeStatuses},methods:{setAllowAdditionalRedirect:function setAllowAdditionalRedirect(t){d.setChangeRedirectProperty("allowAdditionalRedirect",t.target.checked)},setRedirectPreserveParameters:function setRedirectPreserveParameters(t){d.setChangeRedirectProperty("preserveParameters",t.target.checked)},deleteChange:function deleteChange(t,r){var a=this;l.confirm({title:tr("Are you sure you want to delete this redirect?"),message:tr("The deletion will not take effect until the next publish."),confirmText:tr("Delete Redirect"),isWarning:!0}).then((function(){var t=d.deleteChange(a.currentlyEditingChange.id).then((function(){l.showNotification({message:tr("This variation will no longer redirect."),type:"warning"}),d.unsetCurrentlyEditingChange(),d.refreshCurrentIframe(),g.showChangeListSidebar(a.changeListSidebarComponentConfig)}));l.loadingWhen("change-editor-sidebar",t)}))}},created:function created(){var t=c();o.bindVueValues(this,{activeFrameId:p.activeFrameId,changeListSidebarComponentConfig:p.changeListSidebarComponentConfig,changeStatusMap:p.changeStatusMap(),currentActionChanges:p.currentActionChanges,currentlyEditingChange:p.currentlyEditingChange,currentlyEditingChangeIsDirty:p.currentlyEditingChangeIsDirty,isEditorReadOnly:p.isEditorReadOnly,canUpdateLayerExperiment:[u.project,y.canUpdateLayerExperiment]}),this.inputIdForDest=C("dest",t),this.inputIdForPreserveParameters=C("preserveParameters",t),this.inputIdForAllowAdditionalRedirect=C("allowAdditionalRedirect",t)},ready:function ready(){l.renderReactComponent(this,{component:v,el:this.$$.redirectInput},!1)}};t.exports=i.merge({},h,I)},function(t,r,a){"use strict";a.r(r),a.d(r,"RedirectInputToggler",(function(){return RedirectInputToggler})),a.d(r,"RedirectInput",(function(){return h}));var i=a(1),o=a.n(i),c=a(0),l=a.n(c),u=a(5),d=a(40),p=a(18),m=a(2539),g=a(2540);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function RedirectInputToggler(t){var r=t.toggleHandler;return t.urlTypeSelected?l.a.createElement("span",null,l.a.createElement("span",{className:"weight--bold"},"URL")," |"," ",l.a.createElement(d.a,{testSection:"toggle-redirect-mode",style:"default",onClick:r}," ","Code"," ")):l.a.createElement("span",null,l.a.createElement(d.a,{testSection:"toggle-redirect-mode",style:"default",onClick:r}," ","URL"," ")," ","| ",l.a.createElement("span",{className:"weight--bold"}," Code "))}RedirectInputToggler.propTypes={toggleHandler:o.a.func.isRequired,urlTypeSelected:o.a.bool.isRequired};var h=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(RedirectInput,t);var r=_createSuper(RedirectInput);function RedirectInput(){var t;_classCallCheck(this,RedirectInput);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).toggleUI=function(){p.default.actions.setChangeRedirectProperty("isRedirectUrl",!t.props.currentlyEditingChange.get("isRedirectUrl"))},t.setRedirectUrl=function(t){t=p.default.fns.formatRedirectUrl(t),p.default.actions.setChangeRedirectProperty("dest",t)},t.setRedirectFunction=function(t){p.default.actions.setChangeRedirectProperty("dest_fn",t)},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(RedirectInput,[{key:"render",value:function render(){var t=this.props.currentlyEditingChange,r=t.get("isRedirectUrl",!1);return l.a.createElement("div",null,l.a.createElement(RedirectInputToggler,{urlTypeSelected:r,toggleHandler:this.toggleUI}),r&&l.a.createElement(m.a,{destValue:t.get("dest")||"",onValueUpdated:this.setRedirectUrl}),!r&&l.a.createElement(g.a,{destFnValue:t.get("dest_fn")||p.default.constants.DEFAULT_REDIRECT_DESTINATION_FUNCTION,onValueUpdated:this.setRedirectFunction}))}}]),RedirectInput}(l.a.Component);h.propTypes={currentlyEditingChange:o.a.object.isRequired},r.default=u.default.connectGetters(h,{currentlyEditingChange:p.default.getters.currentlyEditingChange})},,,,,,function(t,r){t.exports='<div class="stage__item__content--column"\n     v-loading="change-editor-sidebar"\n     data-test-section="redirect-editor-sidebar">\n  <div v-component="sidebar-header"\n       v-with="isNewChange: isNewChange, changeIsDirty: currentlyEditingChangeIsDirty"></div>\n  <div class="sidenav__body">\n    <div class="sidenav__section">\n      <h4>Redirect</h4>\n      <div class="lego-media push-double--bottom"\n           v-if="showExistingChangeWarning"\n           data-test-section="redirect-editor-sidebar-existing-change-warning">\n        <svg class="lego-icon admin--color push--top push--right">\n          <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#circle-exclamation"></use>\n        </svg>\n        <div class="lego-media__body">\n          Only custom code changes can be applied to variations that redirect visitors. Your existing visual changes will be saved, but not be applied to the redirected page.\n        </div>\n      </div>\n\n      <p>Redirecting a page allows you to send visitors to any URL when they land on this URL.</p>\n      <div v-class="statusClassForDest"\n           data-test-section="redirect-editor-dest-status">\n        <label class="lego-label oui-label--required" for="[[ inputIdForDest ]]">Implementation</label>\n        <div v-el="redirectInput"></div>\n      </div>\n      <div v-if="showPreserveParameters"\n           v-class="statusClassForPreserveParameters"\n           data-test-section="redirect-editor-preserve-parameters-status">\n        <div class="lego-label push-double--top fake-html--label">\n          Preserve Query Parameters\n          <svg class="lego-icon vertical-align--middle cursor--pointer"\n               v-popover\n               data-behavior="show"\n               data-dir="left-center"\n               data-content-selector="*[data-popover-name=\'query-parameter\']">\n              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#circle-question"></use>\n          </svg>\n          <div class="lego-pop--over lego-pop--over--arrow-left-center sidenav__popover" data-popover-name="query-parameter">\n            <div class="lego-pop--over__content">\n              <div class="lego-pop--over__title"> Query Parameters</div>\n              <p>\n                When performing the redirect, Optimizely can dynamically add the visitor\'s query parameters to the destination URL that you have specified.\n              </p>\n            </div>\n          </div>\n        </div>\n        <p class="lego-label lego-media">\n          <div class="axiom-checkbox">\n            <input id="[[ inputIdForPreserveParameters ]]"\n                   type="checkbox"\n                   class="axiom-checkbox__input"\n                   v-value="currentlyEditingChange.preserveParameters"\n                   v-on="change: setRedirectPreserveParameters"\n                   data-test-section="redirect-editor-preserve-parameters-input"\n            >\n            <label class="axiom-typography--body axiom-checkbox__label soft-half--left no-status-indicator"\n                   for="[[ inputIdForPreserveParameters ]]">Forward all query parameters to the destination URL</label>\n          </div>\n        </p>\n      </div>\n      <div v-class="statusClassForAllowAdditionalRedirect"\n           data-test-section="redirect-editor-allow-additional-redirect-status">\n        <div class="lego-label push-double--top fake-html--label">\n          Allow Additional Redirect\n          <svg class="lego-icon vertical-align--middle cursor--pointer"\n               v-popover\n               data-behavior="show"\n               data-dir="left-center"\n               data-content-selector="*[data-popover-name=\'allow-additional-redirect\']">\n            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#circle-question"></use>\n          </svg>\n          <div class="lego-pop--over lego-pop--over--arrow-left-center sidenav__popover" data-popover-name="allow-additional-redirect">\n            <div class="lego-pop--over__content">\n              <div class="lego-pop--over__title">Allow immediately after a prior redirect</div>\n              <p>\n                By default, Optimizely will not execute any given redirect less than 5 seconds after a previous redirect. You can disable this protection if you are sure that your Optimizely experiments will not collectively produce an infinite redirect loop.\n                <a href="https://help.optimizely.com/Build_Campaigns_and_Experiments/Unblock_Optimizely\'s_default_redirect_check" target="_blank" class="display--block">Learn more.</a>\n              </p>\n            </div>\n          </div>\n        </div>\n        <p class="lego-label lego-media">\n          <div class="axiom-checkbox">\n            <input id="[[ inputIdForAllowAdditionalRedirect ]]"\n                   type="checkbox"\n                   class="axiom-checkbox__input"\n                   v-value="currentlyEditingChange.allowAdditionalRedirect"\n                   v-on="change: setAllowAdditionalRedirect"\n                   data-test-section="redirect-editor-allow-additional-redirect-input">\n            <label class="laxiom-typography--body axiom-checkbox__label soft-half--left no-status-indicator"\n                   for="[[ inputIdForAllowAdditionalRedirect ]]">Prevent Optimizely from blocking additional redirects for 5 seconds</label>\n          </div>\n        </p>\n      </div>\n    </div>\n    <div class="sidenav__section soft-double--bottom"\n         v-if="currentlyEditingChange.status !== changeStatuses.INITIAL">\n      <button class="lego-button lego-button--danger-outline"\n              v-on="click: deleteChange"\n              v-disabled="isEditorReadOnly"\n              data-test-section="change-editor-delete-change-button">\n        Delete Redirect\n      </button>\n    </div>\n  </div>\n</div>\n'},function(t,r,a){"use strict";a.r(r),a.d(r,"categories",(function(){return i}));var i={EXPERIMENT:"experiment",GOAL:"goal",SECTION:"section",VARIATION:"variation"};r.default={categories:i}},function(t,r,a){"use strict";a.r(r);var i,o,c=a(0),l=a.n(c),u=a(1),d=a.n(u),p=a(87),m=a(206),g=a(1283),h=a(98),y=a(19),v=a(2),_=a(5),E=a(95),b=a(729);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=Object(p.b)(E.b.FEATURES.audience_combo_reskin.FEATURE_KEY)(((o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ExperimentPrioritiesDialog,t);var r=_createSuper(ExperimentPrioritiesDialog);function ExperimentPrioritiesDialog(t){var a;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ExperimentPrioritiesDialog),(a=r.call(this,t)).handleSubmit=function(){var t=a.props.data,r=a.state,i=r.priorityGroups;r.isSaving||(a.setState({isSaving:!0}),b.a.saveExperimentPriorities(t.get("layerId"),i).then((function(){_.default.showNotification({message:tr("Experience priorities have been updated."),type:"success"}),a.setState({isSaving:!1}),_.default.hideDialog()})).fail((function(){a.setState({isSaving:!1})})))},a.handleCancel=function(){_.default.hideDialog()},a.handleSortableChange=function(t){var r=t.map((function(t){return t.map((function(t){return t.get("id")}))}));a.setState({priorityGroups:r})},a.getExperimentDisplayName=function(t){var r=t.get("name");return r||t.get("audienceLabels").join(" ")},a.renderSortableItem=function(t){var r=t.item,i=t.connectDragSource,o=t.position,c=r.get("text");return r.get("isPaused")?c="".concat(c," (Paused)"):r.get("hasUnpublishedChanges")&&(c="".concat(c," (Draft)")),i(l.a.createElement("div",null,l.a.createElement(m.a,{isDraggable:!0,isFullWidth:a[E.b.FEATURES.audience_combo_reskin.FEATURE_KEY],name:c,order:o[0]+1,showWell:!1,usesDragHandle:a[E.b.FEATURES.audience_combo_reskin.FEATURE_KEY]})))},a.state={priorityGroups:t.data.get("priorityGroups"),isSaving:!1},a}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(ExperimentPrioritiesDialog,[{key:"render",value:function render(){var t=this,r=this.props.data,a=this.state.isSaving,i=r.get("priorityGroups",v.default.List()).map((function(a){return a.map((function(a){return v.default.Map({id:a,text:t.getExperimentDisplayName(r.getIn(["experiments",a])),isPaused:r.getIn(["experiments",a,"isPaused"]),hasUnpublishedChanges:r.getIn(["experiments",a,"hasUnpublishedChanges"]),type:"item"})}))}));return l.a.createElement("div",{className:"overflow-y--auto flex--1","data-test-section":"experiment-priorities-dialog"},l.a.createElement("div",{className:"reading-column"},l.a.createElement("div",{className:"beta"},"Experience Priorities")),l.a.createElement("div",{className:"reading-column"},l.a.createElement("form",null,l.a.createElement("fieldset",null,l.a.createElement("ol",null,l.a.createElement("li",null,l.a.createElement("h3",null,"Prioritize Experiences"),l.a.createElement("p",{className:"push-double--bottom"},"Change the order of each experience to control what visitors are bucketed into what experiences. You can group experiences here as well, by dragging one onto another. Grouped experiences will have traffic split between them randomly.")),l.a.createElement(g.a,{defaultValue:i.toJS(),renderItem:this.renderSortableItem,allowGrouping:!0,onChange:this.handleSortableChange,testSection:"experiment-priorities-sortable"})))),l.a.createElement("div",{className:"border--top soft--ends push-quad--top"},l.a.createElement(h.a,{rightGroup:[l.a.createElement(y.a,{key:"Cancel",style:"plain",isDisabled:a,testSection:"experiment-priorities-cancel-button",onClick:this.handleCancel},"Cancel"),l.a.createElement(y.a,{key:"Save",style:"highlight",isDisabled:a,testSection:"experiment-priorities-save-button",onClick:this.handleSubmit},"Save")]}))))}}]),ExperimentPrioritiesDialog}(l.a.Component)).propTypes={data:d.a.instanceOf(v.default.Map).isRequired},i=o))||i;r.default=T},,,,,,,,,function(t,r){t.exports='<th v-on="click: sortField">\n  <content>[[ field ]]</content>\n  <span v-if="field"\n    v-class="lego-arrow-inline--down: isSortedAsc,\n             lego-arrow-inline--up: isSortedDesc">\n  </span>\n</th>\n'},function(t,r){t.exports='<li v-on="click: sortField">\n  <content>[[ field ]]</content>\n  <span v-if="field"\n    v-class="lego-arrow-inline--down: isSortedAsc,\n             lego-arrow-inline--up: isSortedDesc">\n  </span>\n</li>\n'},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(88),d=a(389),p=a(19),m=a(40),g=a(26),h=a(11),y=a(206),v=a(52),_=a(290),E=a(5),b=a(335),T=a.n(b),S=a(197),C=a(2),I=a(54),A=a(64),O=a(504),P=a(556);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var R=[{id:1,metricName:"Checkout Flow CTA",metricDescription:"Increase in unique conversions per visitor for Click event",eventType:"Click",created:"Apr 4, 2021"},{id:2,metricName:"Hero Text Homepage",metricDescription:"Increase in total conversions per visitor for click event",eventType:"Click",created:"Apr 4, 2021"},{id:3,metricName:"Product Description Updates",metricDescription:"Increase in total conversions per visitor for Page: Product Description Page",eventType:"Pageview",created:"Apr 4, 2021"}],w=[{id:4,eventName:"Buy Button",eventDescription:"Increase in total conversions per visitor for click event",eventType:"Click",site:"atticandbutton.us/checkout",created:"Apr 4, 2021"},{id:5,eventName:"New test button",eventDescription:"Increase in total conversions per visitor for click event",eventType:"Click",site:"atticandbutton.us",created:"Apr 4, 2021"},{id:6,eventName:"Visited Landing Page ",eventDescription:"Increase in total conversions per visitor for Page.",eventType:"Pageview",site:"atticandbutton.us/checkout",created:"Apr 4, 2021"}],N=(o.a.Component,function(t){_inherits(BlockListCategory,t);var r=_createSuper(BlockListCategory);function BlockListCategory(){var t;_classCallCheck(this,BlockListCategory);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(t=r.call.apply(r,[this].concat(i))).state={rowClickButton:!1,selectedTabNav:"metrics",setShouldQueryAllProjects:!1},t.createEvent=function(){E.default.showReactDialog(P.a,{props:{onSave:function onSave(){E.default.hideDialog()},onCancel:function onCancel(){E.default.hideDialog()},clickEventsDisabled:!0}},{dismissOnBack:!0,fullScreen:!0,isOuiDialog:!0,noPadding:!0})},t.handleShouldQueryAllProjects=function(r){return function(){return t.setState({setShouldQueryAllProjects:r})}},t.handleTabClick=function(r){return function(){return t.setState({selectedTabNav:r})}},t.handleRowClick=function(){t.setState((function(t){return{rowClickButton:!t.rowClickButton}}))},t.renderBlockList=function(){var r=t.state,a=r.selectedTabNav,i=r.setShouldQueryAllProjects;return o.a.createElement(u.a,null,o.a.createElement("div",{className:"max-scroll--large"},o.a.createElement("div",{className:"flex flex--row flex-justified--between oui-butterbar hard"},o.a.createElement(d.a,{className:"push--left",activeTab:a,style:["sub"]},o.a.createElement(d.a.Tab,{onClick:t.handleTabClick("metrics"),tabId:"metrics",className:"soft-triple--sides soft--top"},"Metrics"),o.a.createElement(d.a.Tab,{onClick:t.handleTabClick("events"),tabId:"events",className:"soft-triple--sides"},"Events")),o.a.createElement("div",{className:"flex flex--dead-center soft-double--right"},o.a.createElement(p.a,{onClick:t.handleShouldQueryAllProjects(!1),style:"unstyled"},o.a.createElement(m.a,{href:"#current",isDisabled:!i},o.a.createElement("span",{className:"micro weight--bold"},"Current project"))),o.a.createElement("span",{className:"push-half--sides micro weight--bold"},"|"),o.a.createElement(p.a,{onClick:t.handleShouldQueryAllProjects(!0),style:"unstyled"},o.a.createElement(m.a,{href:"#all",isDisabled:i},o.a.createElement("span",{className:"micro weight--bold"},"All projects"))))),o.a.createElement("div",{className:"push--left push--ends"},o.a.createElement(p.a,{style:"unstyled",onClick:"metrics"===a?O.a.showEditMetricDialog:t.createEvent},o.a.createElement(m.a,null,o.a.createElement("div",{className:"flex flex--row flex-align--center"},o.a.createElement(g.a,{name:"plus",size:"medium"}),o.a.createElement("div",{className:"soft--left"},"metrics"===a?"Create New Metric":"Create New Event"))))),o.a.createElement("div",{className:"push--left"},o.a.createElement(h.a,{density:"loose",style:"rule",tableLayoutAlgorithm:"fixed"},o.a.createElement(h.a.THead,null,t.renderTableHeader()),o.a.createElement(h.a.TBody,null,t.renderTableRowsMetric())))))},t.renderTableHeader=function(){return"metrics"===t.state.selectedTabNav?o.a.createElement("tr",null,o.a.createElement(A.SortableTableHeader,{field:"metric_name",type:"string",width:"34%",className:"soft-triple--left"},"Metric Name"),o.a.createElement(A.SortableTableHeader,{field:"event_type",type:"string",width:"33%"},"Event Type"),o.a.createElement(A.SortableTableHeader,{field:"created",type:"string",width:"33%"},"Created")):o.a.createElement("tr",null,o.a.createElement(A.SortableTableHeader,{field:"event_name",type:"string",width:"25%",className:"soft-triple--left"},"Event Name"),o.a.createElement(A.SortableTableHeader,{field:"event_type",type:"string",width:"25%"},"Event Type"),o.a.createElement(A.SortableTableHeader,{field:"site",type:"string",width:"25%"},"Site"),o.a.createElement(A.SortableTableHeader,{field:"created",type:"string",width:"25%"},"Created"))},t.renderTableRowsMetric=function(){return"metrics"===t.state.selectedTabNav?R.map((function(r,a){var i=r.metricName,c=r.metricDescription,l=r.eventType,u=r.created;return o.a.createElement(h.a.TR,{key:a},o.a.createElement(h.a.TD,{className:"hard--left"},o.a.createElement("div",{className:"flex flex--1 flex-align--center",onClick:t.handleRowClick},o.a.createElement(g.a,{name:"plus",size:"medium",color:_.c}),o.a.createElement("div",{className:"soft--left"},o.a.createElement(m.a,null,i),o.a.createElement("div",{className:"micro muted"},Object(S.strLimiter)(c,200))))),o.a.createElement(h.a.TD,null,l),o.a.createElement(h.a.TD,null,u))})):w.map((function(r,a){var i=r.eventName,c=r.eventDescription,l=r.eventType,u=r.site,d=r.created;return o.a.createElement(h.a.TR,{key:a},o.a.createElement(h.a.TD,{className:"hard--left"},o.a.createElement("div",{className:"flex flex--1 flex-align--center",onClick:t.handleRowClick},o.a.createElement(g.a,{name:"plus",size:"medium",color:_.c}),o.a.createElement("div",{className:"soft--left"},o.a.createElement(m.a,null,i),o.a.createElement("div",{className:"micro muted"},Object(S.strLimiter)(c,50))))),o.a.createElement(h.a.TD,null,l),o.a.createElement(h.a.TD,null,u),o.a.createElement(h.a.TD,null,d))}))},t}return _createClass(BlockListCategory,[{key:"render",value:function render(){return this.state.rowClickButton?o.a.createElement("div",{className:"push--top"},o.a.createElement("div",{className:"flex flex--row flex-justified--between flex-align--center"},o.a.createElement("div",{className:"push--ends"},o.a.createElement(y.a,{description:"The big kids. The big kids. The big kids. The big kids.",isDismissible:!0,isDraggable:!0,name:"Students: Grades 6-12",onDismiss:this.handleRowClick,order:1,style:"primary"})),o.a.createElement("div",{className:"flex flex--row flex-justified--between flex-align--center"},o.a.createElement("div",{className:"push-double--left push--right muted"},"Primary Metric"),o.a.createElement(p.a,{key:"5",isActive:!1,style:"outline",width:"default"},"Outline")))):this.renderBlockList()}}]),BlockListCategory}(o.a.Component));N.propTypes={lists:l.a.oneOfType([l.a.instanceOf(C.default.List),l.a.instanceOf(C.default.Map)]).isRequired};var L=function(t){_inherits(FilterList,t);var r=_createSuper(FilterList);function FilterList(){var t;_classCallCheck(this,FilterList);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=r.call.apply(r,[this].concat(i))).state={query:""},t.setQuery=function(r){t.setState({query:r.target.value})},t}return _createClass(FilterList,[{key:"render",value:function render(){var t=this.state.query,r=Object(C.toImmutable)([]).map((function(r){return r.get("skipFilter")?r:r.update("items",(function(r){return r.map((function(r){return r.get("isSubcategory")?r.update("items",(function(r){return r.filter((function(r){return T.a.isFilterTermInItem(t,"".concat(r.get("name")," ").concat(r.get("description","")," ").concat(r.get("category","")))||r.get("skipFilter")}))})):r})).filter((function(r){return r.get("isSubcategory")?r.get("items").size:T.a.isFilterTermInItem(t,"".concat(r.get("name")," ").concat(r.get("description","")," ").concat(r.get("category","")))||r.get("skipFilter")}))}))}));return o.a.createElement("div",{className:"push-double--top push-quad--bottom"},o.a.createElement(v.a,{type:"search",isFilter:!0,placeholder:"Browse for Metrics",onInput:this.setQuery}),o.a.createElement(N,{lists:r}))}}]),FilterList}(o.a.Component)},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=function Header(t){var r=t.isNewPage;return o.a.createElement("div",{className:"beta push-double--bottom","data-test-section":"edit-view-smart-pagetitle"},r?"New":"Edit"," Page")};l.propTypes={isNewPage:a.n(c).a.bool}},function(t,r,a){"use strict";var i=a(0),o=a.n(i),c=a(1),l=a.n(c),u=a(98),d=a(19),p=function Footer(t){var r=t.onSave,a=t.isNewPage,i=t.onClose,c=t.isSaveDisabled;return o.a.createElement("div",{className:"flex flex-align--center border--top soft push-quad--top"},o.a.createElement("div",{className:"oui-sheet__required-indicator cursor--default color--red"},o.a.createElement("span",null,"* Required field")),o.a.createElement("div",{className:"flex--1"},o.a.createElement(u.a,{rightGroup:[o.a.createElement(d.a,{style:"plain",key:"cancel",onClick:i,testSection:"configure-view-smart-cancel"},"Cancel"),o.a.createElement(d.a,{style:"highlight",key:"save",isDisabled:c,onClick:r,testSection:"configure-view-smart-save"},a?"Create":"Save"," Page")]})))};p.propTypes={viewId:l.a.number,isNewPage:l.a.bool,isSaveDisabled:l.a.bool,onSave:l.a.func.isRequired,onClose:l.a.func.isRequired}},,,,,,,,,,,,,,,function(t,r,a){function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=a(4),o=a(9),c=a(2).default,l=a(1),u=a(0),d=a(72),p=a(16),m=p.Button,g=p.ButtonRow,h=p.Code,y=p.Input,v=p.Textarea,_=p.Label,E=a(739).default,b=a(99),T=a(2754),S=a(562).default,C=a(69),I=a(100),A=a(5).default,O=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(LiveVariableDialog,t);var r=_createSuper(LiveVariableDialog);function LiveVariableDialog(){var t;_classCallCheck(this,LiveVariableDialog);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(t=r.call.apply(r,[this].concat(o))).state={isSaving:!1,variable:t.props.variable},t.canSave=function(){return!t.state.isSaving&&t.isKeyUnique()&&t.isKeyValid()&&t.state.variable.get("api_name")&&""!==t.state.variable.get("default_value")},t.isKeyUnique=function(){var r=t.state.variable.get("api_name");return!r||!t.props.currentProjectVariables.some((function(a){return a.get("api_name")===r&&a.get("id")!==t.state.variable.get("id")}))},t.isKeyValid=function(){return I.apiName.test(t.state.variable.get("api_name"))},t.setVariablePropertyFromInput=function(r,a){var i=r.target.value;t.setState((function(t){return{variable:t.variable.set(a,i)}}))},t.setVariablePropertyFromSelect=function(r,a){t.setState((function(t){return{variable:t.variable.set(r,a)}}))},t.setVariableType=function(r){var a=T.LIVE_VARIABLE_VALUE_DEFAULTS[r];t.setState((function(t){return{variable:t.variable.merge({type:r,default_value:a})}}))},t.save=function(){var r=t.state.variable;t.setState({isSaving:!0});var a=S.save(r.toJS()).done((function(){A.hideDialog()})).always((function(){t.setState({isSaving:!1})}));A.loadingWhen("save-oasis-variable",a)},t.renderCodeBlock=function(){var r=t.state.variable.get("type"),a=t.state.variable.get("api_name")||"";return d(T.LIVE_VARIABLE_CODE_BLOCKS[t.props.language][r],a,a)},t.renderVariableInput=function(){switch(t.state.variable.get("type")){case C.LIVE_VARIABLE_TYPES.boolean:return u.createElement(E,{isActivatorFullWidth:!0,onChange:i.partial(t.setVariablePropertyFromSelect,"default_value"),testSection:"live-variable-dialog-default-value-dropdown",value:t.state.variable.get("default_value")},u.createElement(E.Option,{label:"True",value:"true",key:"true",testSection:"live-variable-dialog-true-option"}),u.createElement(E.Option,{label:"False",value:"false",key:"false",testSection:"live-variable-dialog-false-option"}));case C.LIVE_VARIABLE_TYPES.double:case C.LIVE_VARIABLE_TYPES.integer:return u.createElement(y,{onChange:i.partialRight(t.setVariablePropertyFromInput,"default_value"),type:"number",testSection:"live-variable-dialog-default-value",value:t.state.variable.get("default_value")});case C.LIVE_VARIABLE_TYPES.string:default:return u.createElement(v,{onChange:i.partialRight(t.setVariablePropertyFromInput,"default_value"),type:"text",testSection:"live-variable-dialog-default-value",value:t.state.variable.get("default_value")})}},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(LiveVariableDialog,[{key:"render",value:function render(){var t=this.state.variable.get("id")?tr("Edit Variable"):tr("Create New Variable");return u.createElement("div",{"data-test-section":"live-variable-dialog"},u.createElement("div",{className:"beta push-quad--bottom"},t),u.createElement("p",null,"Parameterize your app with variables you want to optimize."),u.createElement("form",null,u.createElement("fieldset",null,u.createElement("ol",{className:"lego-form-fields"},u.createElement("li",{className:o({"lego-form-field__item":!0,"lego-form-bad-news":!this.isKeyUnique()||!this.isKeyValid()})},u.createElement(_,null,"Variable"),u.createElement(y,{type:"text",testSection:"live-variable-dialog-key",value:this.state.variable.get("api_name"),onChange:i.partialRight(this.setVariablePropertyFromInput,"api_name")}),!this.isKeyValid()&&u.createElement("div",{className:"lego-form-note lego-form-note--bad-news"},"Please enter a valid key."),!this.isKeyUnique()&&u.createElement("div",{className:"lego-form-note lego-form-note--bad-news"},"Please enter a unique key.")),u.createElement("li",{className:"lego-form-field__item"},u.createElement(_,{isOptional:!0},"Description"),u.createElement(y,{type:"text",testSection:"live-variable-dialog-description",value:this.state.variable.get("description"),onChange:i.partialRight(this.setVariablePropertyFromInput,"description")})),u.createElement("li",{className:"lego-form-field__item"},u.createElement("div",{className:"lego-grid"},u.createElement("div",{className:"lego-grid__cell"},u.createElement(_,null,"Type"),u.createElement(E,{value:this.state.variable.get("type"),onChange:this.setVariableType,isActivatorFullWidth:!0,testSection:"live-variable-dialog-type"},i.map(C.LIVE_VARIABLE_TYPES,(function(t,r){return u.createElement(E.Option,{label:b(t),value:t,key:t,testSection:"live-variable-dialog-".concat(t,"-option")})})))),u.createElement("div",{className:"lego-grid__cell"},u.createElement(_,null,"Default Value"),this.renderVariableInput()))),u.createElement("li",{className:"lego-form-field__item"},u.createElement(_,null,"App Code"),u.createElement(h,{isHighlighted:!0,hasCopyButton:!0,language:this.props.syntaxHighlightingLanguage,type:"block",testSection:"live-variable-code-block"},this.renderCodeBlock()))))),u.createElement("div",{className:"lego-form__footer"},u.createElement(g,{rightGroup:[u.createElement(m,{key:"btn-cancel",style:"plain",testSection:"live-variable-dialog-cancel",onClick:A.hideDialog},"Cancel"),u.createElement(m,{key:"btn-save",style:"highlight",testSection:"live-variable-dialog-save",isDisabled:!this.canSave(),onClick:this.save},"Save")]})))}}]),LiveVariableDialog}(u.Component);O.propTypes={canCreateVariable:l.bool.isRequired,currentProjectVariables:l.instanceOf(c.List).isRequired,language:l.string.isRequired,syntaxHighlightingLanguage:l.string.isRequired,variable:l.instanceOf(c.Map).isRequired},t.exports=O},function(t,r){t.exports='<div class="reading-column">\n  <div v-el="reactContainer" v-loading="save-oasis-variable"></div>\n</div>\n'},function(t,r,a){var i=a(270).default,o=a(3),c=a(14),l=a(27).default,u=a(21),d=a(20),p=a(10).default,m=a(505);r.routingSetup=function(t,r){var a={project_id:o.evaluate(c.getters.id)};i.actions.setActiveNavItem(p.NavItems.FEATURESOLD),i.actions.setActiveTab(p.NavItems.FEATURESOLD,m.NAV_TABS.FEATURESOLD),d.actions.fetchAll({project_id:a.project_id,layer_policy:u.policy.SINGLE_EXPERIMENT},{skipEvaluatingCachedData:!0}),l.actions.fetchAll(a).then(r)},r.component=a(3628)},function(t,r,a){var i=a(3),o=a(5).default,c=a(13),l=a(22).default,u=a(3629),d=a(3631),p=a(3632);t.exports={componentId:"features-old-dashboard",replace:!0,template:d,components:{topbar:u},ready:function ready(){var t=i.evaluate([c.project,l.canManageFeatureFlags]);o.renderReactComponent(this,{component:p,el:this.$$.reactContainer,props:{canManageFeatureFlags:t}})}}},function(t,r,a){var i=a(3),o=a(24).default,c=a(14),l=a(70),u=a(505),d=a(3630);t.exports={componentId:"features-topbar",replace:!0,template:d,data:{tabs:u.NAV_TABS},computed:{featuresUrl:function featuresUrl(){if(this.currentProject)return o.featuresOldHome(this.currentProject.id)},projectName:function projectName(){if(this.currentProject,this.currentProject)return l.fns.formatCustomProjectName(this.currentProject,this.primarySDKLanguage)}},created:function created(){i.bindVueValues(this,{currentProject:c.getters.project,primarySDKLanguage:c.getters.primarySDKLanguage})}}},function(t,r){t.exports='<div\n  class="push-quad--sides push-double--top flex--none"\n  data-test-section="features-topbar"\n>\n  <div class="muted" data-test-section="features-topbar-project-name">\n    [[ projectName ]]\n  </div>\n  <div class="beta push--bottom">Feature Flags</div>\n  <div class="lego-tabs dashboard-tabs" v-tabs="tabContainer">\n    <ul class="lego-tabs-nav">\n      <li\n        href="[[ featuresUrl ]]"\n        class="lego-tabs-nav__item is-active"\n        v-push-state\n        data-test-section="features-overview-tab"\n      >\n        Overview\n      </li>\n    </ul>\n  </div>\n</div>\n'},function(t,r){t.exports='<div class="stage__item__content--column"\n     data-test-section="oasis-features-old-dashboard">\n  <div v-component="topbar"></div>\n  <div class="stage__item__content--column">\n    <div class="overflow-y--auto flex flex--1" v-el="reactContainer"></div>\n  </div>\n</div>\n'},function(t,r,a){function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var i=a(2).default,o=a(0),c=a(1),l=a(16),u=l.Button,d=l.Table,p=a(64).SortableTableHeader,m=a(730).default,g=a(160).default,h=a(325).default,y=a(13),v=a(97),_=a(211),E=a(3633),b=a(5).default,T=a(8),S=a(3637).default,C=a(822),I=E.enums.TABLE_ID,A=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(FeaturesDashboardComponent,t);var r=_createSuper(FeaturesDashboardComponent);function FeaturesDashboardComponent(){var t;_classCallCheck(this,FeaturesDashboardComponent);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(t=r.call.apply(r,[this].concat(i))).archiveFeatureFlag=function(t){return E.actions.archiveFeatureFlag(t)},t.createFeature=function(){return E.actions.showFeatureDialog()},t.editFeature=function(t){return E.actions.showFeatureDialog(t)},t.filterItemByString=function(t,r){return _.matchesFields(t,["api_name"],r)},t.filterItemByStatus=function(t,r){return _.matchesArchivedStatus(t,r)},t.unarchiveFeatureFlag=function(t){return E.actions.unarchiveFeatureFlag(t)},t.renderEmptyState=function(){return o.createElement(m,{createButton:{onClick:t.createFeature,isDisabled:!t.props.canManageFeatureFlags,label:o.createElement("span",null,"Create New Feature Flag…"),testSection:"create-feature-button"},headline:T("Create feature flags"),description:T("Create flags and variables for parts of your application you'd like to toggle, roll out, or experiment on."),imagePath:C})},t.renderTableHeader=function(){return o.createElement(d.TR,null,o.createElement(p,{field:"api_name",type:"string"},"Feature Flag"),o.createElement(p,{field:"created",type:"date"},"Created"),o.createElement(p,{field:"last_modified",type:"date"},"Modified"),o.createElement(d.TH,null))},t.renderTableRow=function(r,a){return o.createElement(S,{archive:t.archiveFeatureFlag,canManageFeatureFlags:t.props.canManageFeatureFlags,currentProjectRunningExperiments:t.props.currentProjectRunningExperiments,editFeature:t.editFeature,feature:r,rowIndex:a,unarchive:t.unarchiveFeatureFlag})},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(FeaturesDashboardComponent,[{key:"render",value:function render(){return this.props.isEmptyState?this.renderEmptyState():o.createElement("div",{className:"flex flex--1 flex--column"},o.createElement("div",{className:"flex flex--none push-quad--sides push-double--ends"},o.createElement(h,{tableId:I,statusOptions:[{label:"Active",value:v.status.ACTIVE},{label:"Archived",value:v.status.ARCHIVED}]}),o.createElement(u,{isDisabled:!this.props.canManageFeatureFlags,style:"highlight",onClick:this.createFeature,testSection:"create-feature-button"},"Create New Feature Flag…")),o.createElement(g,{tableId:I,data:this.props.features,entityPlural:"feature flags",filterItemByString:this.filterItemByString,filterItemByStatus:this.filterItemByStatus,renderTableRow:this.renderTableRow,renderTableHeader:this.renderTableHeader,defaultSortBy:{field:"api_name",type:"string"},defaultFilters:{status:v.status.ACTIVE}}))}}]),FeaturesDashboardComponent}(o.Component);A.propTypes={canManageFeatureFlags:c.bool.isRequired,currentProjectRunningExperiments:c.instanceOf(i.List).isRequired,isEmptyState:c.bool.isRequired,features:c.instanceOf(i.List).isRequired},t.exports=b.connectGetters(A,{currentProject:y.project,currentProjectRunningExperiments:E.getters.currentProjectRunningExperiments,isEmptyState:[E.getters.currentProjectFeatures,function(t){return 0===t.size}],features:E.getters.currentProjectFeatures})},function(t,r,a){"use strict";a.r(r);var i=a(1174);a.d(r,"actions",(function(){return i.default}));var o=a(505);a.d(r,"enums",(function(){return o.default}));var c=a(832);a.d(r,"getters",(function(){return c.a})),r.default={actions:i.default,enums:o.default,getters:c.a}},function(t,r){t.exports='<div class="reading-column">\n  <div v-el="reactContainer" v-loading="save-oasis-feature"></div>\n</div>\n'},function(t,r,a){"use strict";a.r(r);var i=a(2),o=a(1),c=a.n(o),l=a(0),u=a.n(l),d=a(100),p=a(5),m=a(98),g=a(19),h=a(831),y=a(2734),v=a.n(y),_=a(2735),E=a.n(_),b=a(2736);function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var a=0;a<r.length;a++){var i=r[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _setPrototypeOf(t,r){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t})(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var a,i=_getPrototypeOf(t);if(r){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(i,arguments,o)}else a=i.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var T=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(FeatureDialogComponent,t);var r=_createSuper(FeatureDialogComponent);function FeatureDialogComponent(){var t;_classCallCheck(this,FeatureDialogComponent);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(t=r.call.apply(r,[this].concat(o))).state={isEditing:!!t.props.feature.get("id"),isSaving:!1,feature:t.props.feature,hasVariableValueBeenClicked:!1},t.addVariable=function(){var r=Object(i.toImmutable)({api_name:"",type:h.enums.LIVE_VARIABLE_TYPES.string,default_value:""}),a=t.state.feature.get("variables").push(r);t.updateFeatureProperty("variables",a),t.handleVariableValueClick(!1)},t.canSave=function(){if(t.state.isSaving)return!1;if(t.state.feature.get("variables")&&t.state.feature.get("variables").some((function(r){return!t.isVariableUnique(r)||!t.isVariableKeyValid(r)||!t.isVariableValueValid(r)})))return!1;return!(!t.isFeatureKeyUnique(t.state.feature)||!t.isFeatureKeyValid(t.state.feature))},t.isFeatureKeyUnique=function(r){return!t.props.currentProjectFeatures.some((function(t){return t.get("api_name")===r.get("api_name")&&t.get("id")!==r.get("id")}))},t.isFeatureKeyValid=function(t){return d.default.apiName.test(t.get("api_name"))},t.isVariableUnique=function(r){return 1===t.state.feature.get("variables").count((function(t){return t.get("api_name")===r.get("api_name")}))},t.isVariableKeyValid=function(t){return d.default.variableName.test(t.get("api_name"))},t.isVariableValueValid=function(t){return h.fns.isVariableValueInputValid(t.get("default_value"),t.get("type"))},t.handleVariableValueClick=function(r){t.setState({hasVariableValueBeenClicked:r})},t.removeVariable=function(r){var a,i=t.state.feature.get("variables").get(r);i.get("id")?(i=i.set("archived",!0),a=t.state.feature.get("variables").set(r,i)):a=t.state.feature.get("variables").remove(r),t.updateFeatureProperty("variables",a)},t.save=function(){t.setState({isSaving:!0});var r=t.props.save(t.state.feature).done((function(){p.default.hideDialog()})).always((function(){t.setState({isSaving:!1})}));p.default.loadingWhen("save-oasis-feature",r)},t.updateFeatureProperty=function(r,a){t.setState((function(t){return{feature:t.feature.set(r,a)}}))},t.updateVariable=function(r,a){var i=t.state.feature.get("variables").get(r),o=a.get("type");o!==i.get("type")&&o!==h.enums.LIVE_VARIABLE_TYPES.string&&(a=a.set("default_value",h.fns.getDefaultValueForType(o)));var c=t.state.feature.get("variables").set(r,a);t.updateFeatureProperty("variables",c)},t}return function _createClass(t,r,a){return r&&_defineProperties(t.prototype,r),a&&_defineProperties(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}(FeatureDialogComponent,[{key:"render",value:function render(){return u.a.createElement("div",{"data-test-section":"feature-dialog"},u.a.createElement(v.a,{feature:this.state.feature,isEditing:this.state.isEditing,isFeatureKeyUnique:this.isFeatureKeyUnique,isFeatureKeyValid:this.isFeatureKeyValid,updateFeatureProperty:this.updateFeatureProperty}),u.a.createElement(E.a,{addVariable:this.addVariable,isVariableKeyValid:this.isVariableKeyValid,isVariableUnique:this.isVariableUnique,isVariableValueValid:this.isVariableValueValid,removeVariableAtIndex:this.removeVariable,updateVariable:this.updateVariable,variables:this.state.feature.get("variables"),hasVariableValueBeenClicked:this.state.hasVariableValueBeenClicked,handleVariableValueClick:this.handleVariableValueClick}),u.a.createElement(b.a,{feature:this.state.feature,language:this.props.language}),u.a.createElement("div",{className:"lego-form__footer"},u.a.createElement(m.a,{rightGroup:[u.a.createElement(g.a,{key:"btn-cancel",style:"plain",testSection:"feature-dialog-cancel",onClick:p.default.hideDialog},"Cancel"),u.a.createElement(g.a,{key:"btn-save",style:"highlight",testSection:"feature-dialog-save",isDisabled:!this.canSave(),onClick:this.save},this.state.isEditing?"Save":"Create Feature Flag")]})))}}]),FeatureDialogComponent}(u.a.Component);T.propTypes={currentProjectFeatures:c.a.instanceOf(i.default.List).isRequired,feature:c.a.instanceOf(i.default.Map).isRequired,language:c.a.string.isRequired,save:c.a.func.isRequired},r.default=T},function(t,r,a){var i=a(4),o=a(2).default,c=a(1),l=a(0),u=a(99),d=a(69),p=a(16),m=p.Button,g=p.Input,h=p.Table,y=a(739).default,v=a(2130),_=function FeatureVariableTableRow(t){return l.createElement(h.TR,null,l.createElement(h.TD,null,l.createElement(g,{onChange:i.partialRight((function updateVariableValueFromInput(r,a){var i=r.target.value,o=t.variable.set(a,i);t.updateVariable(t.index,o)}),"api_name"),testSection:"feature-dialog-variable-key-".concat(t.index),type:"text",value:t.variable.get("api_name")}),function renderErrorBlock(){var r=t.variable;return r.get("api_name")&&!t.isVariableKeyValid(r)?l.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"feature-dialog-variation-key-invalid-error-".concat(t.index)},"Please enter a valid key. Valid keys contain alphanumeric characters, hyphens, and underscores, and are limited to 64 characters."):r.get("api_name")&&!t.isVariableUnique(r)?l.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"feature-dialog-variation-unique-key-error-".concat(t.index)},"Key is already in use by another variable in this feature. Please choose a unique key."):!t.isVariableValueValid(r)&&t.hasVariableValueBeenClicked?l.createElement("div",{className:"lego-form-note lego-form-note--bad-news","data-test-section":"feature-dialog-variation-invalid-value-error-".concat(t.index)},"Please specify valid default values for all variables."):""}()),l.createElement(h.TD,null,l.createElement(y,{isActivatorFullWidth:!0,isDisabled:!!t.variable.get("id"),onChange:i.partial((function updateVariableValueFromSelect(r,a){var i=t.variable.set(r,a);t.updateVariable(t.index,i)}),"type"),testSection:"feature-dialog-variable-type-select-".concat(t.index),value:t.variable.get("type")},i.map(d.LIVE_VARIABLE_TYPES,(function(r,a){return l.createElement(y.Option,{label:u(r),value:r,key:r,testSection:"feature-dialog-variable-type-".concat(r,"-option-").concat(t.index)})})))),l.createElement(h.TD,null,l.createElement(v,{onUpdateVariable:function onUpdateVariable(r){t.updateVariable(t.index,r)},propertyToUpdate:"default_value",testSectionPrefix:"feature-dialog-".concat(t.index),variable:t.variable,handleVariableValueClick:t.handleVariableValueClick})),l.createElement(h.TD,null,l.createElement(m,{style:"plain",testSection:"feature-dialog-variable-delete-button-".concat(t.index),onClick:i.partial(t.removeVariableAtIndex,t.index)},"Delete")))};_.propTypes={handleVariableValueClick:c.func,hasVariableValueBeenClicked:c.bool,index:c.number.isRequired,isVariableKeyValid:c.func.isRequired,isVariableUnique:c.func.isRequired,isVariableValueValid:c.func.isRequired,removeVariableAtIndex:c.func.isRequired,updateVariable:c.func.isRequired,variable:c.instanceOf(o.Map).isRequired},t.exports=_},function(t,r,a){"use strict";a.r(r);var i=a(2),o=a(1),c=a.n(o),l=a(0),u=a.n(l),d=a(11),p=a(2737),m=a(228),g=function FeatureTableRow(t){return u.a.createElement(d.a.TR,null,u.a.createElement(d.a.TD,{testSection:"feature-table-row-api-name-".concat(t.rowIndex)},u.a.createElement("a",{className:"epsilon cursor--pointer","data-test-section":"feature-table-row-api-name-button-".concat(t.rowIndex),onClick:function onEditFeature(){t.editFeature(t.feature)}},t.feature.get("api_name")),u.a.createElement("div",{className:"muted micro"},t.feature.get("description"))),u.a.createElement(d.a.TD,null,m(t.feature.get("created"))),u.a.createElement(d.a.TD,null,m(t.feature.get("last_modified"))),u.a.createElement(d.a.TD,{isNumerical:!0},u.a.createElement(p.a,{archive:t.archive,canManageFeatureFlags:t.canManageFeatureFlags,currentProjectRunningExperiments:t.currentProjectRunningExperiments,feature:t.feature,rowIndex:t.rowIndex,unarchive:t.unarchive})))};g.propTypes={archive:c.a.func.isRequired,canManageFeatureFlags:c.a.bool.isRequired,currentProjectRunningExperiments:c.a.instanceOf(i.default.List).isRequired,editFeature:c.a.func.isRequired,feature:c.a.instanceOf(i.default.Map).isRequired,rowIndex:c.a.number.isRequired,unarchive:c.a.func.isRequired},r.default=g},,,,,,,,,,,,,,,,,,,,,,,,,,function(t,r){t.exports=o}],[[2794,15,16]]]))}}}));
//# sourceMappingURL=optly_x-b702a27e054566684d23.js.map